var vM=Object.defineProperty;var _M=(e,t,n)=>t in e?vM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qt=(e,t,n)=>_M(e,typeof t!="symbol"?t+"":t,n);$(function(){frappe.realtime.on("toconsole",function(e){e.forEach(t=>{console.log(t)})})});/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ag(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const aa={},Gc=[],Go=()=>{},pM=()=>!1,$h=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Eg=e=>e.startsWith("onUpdate:"),nr=Object.assign,Vg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gM=Object.prototype.hasOwnProperty,jn=(e,t)=>gM.call(e,t),Gt=Array.isArray,Qc=e=>Lh(e)==="[object Map]",Ek=e=>Lh(e)==="[object Set]",ln=e=>typeof e=="function",ma=e=>typeof e=="string",al=e=>typeof e=="symbol",oa=e=>e!==null&&typeof e=="object",Vk=e=>(oa(e)||ln(e))&&ln(e.then)&&ln(e.catch),Ok=Object.prototype.toString,Lh=e=>Ok.call(e),yM=e=>Lh(e).slice(8,-1),Mk=e=>Lh(e)==="[object Object]",Og=e=>ma(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cf=Ag(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bM=/-(\w)/g,ri=Nh(e=>e.replace(bM,(t,n)=>n?n.toUpperCase():"")),wM=/\B([A-Z])/g,Xl=Nh(e=>e.replace(wM,"-$1").toLowerCase()),ns=Nh(e=>e.charAt(0).toUpperCase()+e.slice(1)),b_=Nh(e=>e?`on${ns(e)}`:""),Ul=(e,t)=>!Object.is(e,t),Jm=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},sp=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},lp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},kM=e=>{const t=ma(e)?Number(e):NaN;return isNaN(t)?e:t};let iw;const qh=()=>iw||(iw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vt(e){if(Gt(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],r=ma(a)?PM(a):vt(a);if(r)for(const i in r)t[i]=r[i]}return t}else if(ma(e)||oa(e))return e}const SM=/;(?![^(]*\))/g,CM=/:([^]+)/,xM=/\/\*[^]*?\*\//g;function PM(e){const t={};return e.replace(xM,"").split(SM).forEach(n=>{if(n){const a=n.split(CM);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ge(e){let t="";if(ma(e))t=e;else if(Gt(e))for(let n=0;n<e.length;n++){const a=Ge(e[n]);a&&(t+=a+" ")}else if(oa(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ea(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ma(t)&&(e.class=Ge(t)),n&&(e.style=vt(n)),e}const TM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DM=Ag(TM);function Bk(e){return!!e||e===""}const Rk=e=>!!(e&&e.__v_isRef===!0),ve=e=>ma(e)?e:e==null?"":Gt(e)||oa(e)&&(e.toString===Ok||!ln(e.toString))?Rk(e)?ve(e.value):JSON.stringify(e,Fk,2):String(e),Fk=(e,t)=>Rk(t)?Fk(e,t.value):Qc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,r],i)=>(n[w_(a,i)+" =>"]=r,n),{})}:Ek(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>w_(n))}:al(t)?w_(t):oa(t)&&!Gt(t)&&!Mk(t)?String(t):t,w_=(e,t="")=>{var n;return al(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;class $k{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rr,!t&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Rr;try{return Rr=this,t()}finally{Rr=n}}}on(){++this._on===1&&(this.prevScope=Rr,Rr=this)}off(){this._on>0&&--this._on===0&&(Rr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(this.effects.length=0,n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function rd(e){return new $k(e)}function Lk(){return Rr}function Ga(e,t=!1){Rr&&Rr.cleanups.push(e)}let ia;const k_=new WeakSet;class Nk{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rr&&Rr.active&&Rr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,k_.has(this)&&(k_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Uk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ow(this),Hk(this);const t=ia,n=lo;ia=this,lo=!0;try{return this.fn()}finally{zk(this),ia=t,lo=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Rg(t);this.deps=this.depsTail=void 0,ow(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?k_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){up(this)&&this.run()}get dirty(){return up(this)}}let qk=0,df,ff;function Uk(e,t=!1){if(e.flags|=8,t){e.next=ff,ff=e;return}e.next=df,df=e}function Mg(){qk++}function Bg(){if(--qk>0)return;if(ff){let t=ff;for(ff=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;df;){let t=df;for(df=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=n}}if(e)throw e}function Hk(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zk(e){let t,n=e.depsTail,a=n;for(;a;){const r=a.prevDep;a.version===-1?(a===n&&(n=r),Rg(a),IM(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=r}e.deps=t,e.depsTail=n}function up(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Wk(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Wk(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===yf)||(e.globalVersion=yf,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!up(e))))return;e.flags|=2;const t=e.dep,n=ia,a=lo;ia=e,lo=!0;try{Hk(e);const r=e.fn(e._value);(t.version===0||Ul(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ia=n,lo=a,zk(e),e.flags&=-3}}function Rg(e,t=!1){const{dep:n,prevSub:a,nextSub:r}=e;if(a&&(a.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Rg(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function IM(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let lo=!0;const jk=[];function Ys(){jk.push(lo),lo=!1}function Ks(){const e=jk.pop();lo=e===void 0?!0:e}function ow(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ia;ia=void 0;try{t()}finally{ia=n}}}let yf=0;class AM{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fg{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ia||!lo||ia===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ia)n=this.activeLink=new AM(ia,this),ia.deps?(n.prevDep=ia.depsTail,ia.depsTail.nextDep=n,ia.depsTail=n):ia.deps=ia.depsTail=n,Yk(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const a=n.nextDep;a.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=a),n.prevDep=ia.depsTail,n.nextDep=void 0,ia.depsTail.nextDep=n,ia.depsTail=n,ia.deps===n&&(ia.deps=a)}return n}trigger(t){this.version++,yf++,this.notify(t)}notify(t){Mg();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bg()}}}function Yk(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Yk(a)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const dh=new WeakMap,Lu=Symbol(""),cp=Symbol(""),bf=Symbol("");function $r(e,t,n){if(lo&&ia){let a=dh.get(e);a||dh.set(e,a=new Map);let r=a.get(n);r||(a.set(n,r=new Fg),r.map=a,r.key=n),r.track()}}function Us(e,t,n,a,r,i){const o=dh.get(e);if(!o){yf++;return}const l=u=>{u&&u.trigger()};if(Mg(),t==="clear")o.forEach(l);else{const u=Gt(e),f=u&&Og(n);if(u&&n==="length"){const d=Number(a);o.forEach((m,p)=>{(p==="length"||p===bf||!al(p)&&p>=d)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),f&&l(o.get(bf)),t){case"add":u?f&&l(o.get("length")):(l(o.get(Lu)),Qc(e)&&l(o.get(cp)));break;case"delete":u||(l(o.get(Lu)),Qc(e)&&l(o.get(cp)));break;case"set":Qc(e)&&l(o.get(Lu));break}}Bg()}function EM(e,t){const n=dh.get(e);return n&&n.get(t)}function Bc(e){const t=Yt(e);return t===e?t:($r(t,"iterate",bf),Qi(e)?t:t.map(kr))}function Uh(e){return $r(e=Yt(e),"iterate",bf),e}const VM={__proto__:null,[Symbol.iterator](){return S_(this,Symbol.iterator,kr)},concat(...e){return Bc(this).concat(...e.map(t=>Gt(t)?Bc(t):t))},entries(){return S_(this,"entries",e=>(e[1]=kr(e[1]),e))},every(e,t){return Fs(this,"every",e,t,void 0,arguments)},filter(e,t){return Fs(this,"filter",e,t,n=>n.map(kr),arguments)},find(e,t){return Fs(this,"find",e,t,kr,arguments)},findIndex(e,t){return Fs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Fs(this,"findLast",e,t,kr,arguments)},findLastIndex(e,t){return Fs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Fs(this,"forEach",e,t,void 0,arguments)},includes(...e){return C_(this,"includes",e)},indexOf(...e){return C_(this,"indexOf",e)},join(e){return Bc(this).join(e)},lastIndexOf(...e){return C_(this,"lastIndexOf",e)},map(e,t){return Fs(this,"map",e,t,void 0,arguments)},pop(){return Xd(this,"pop")},push(...e){return Xd(this,"push",e)},reduce(e,...t){return sw(this,"reduce",e,t)},reduceRight(e,...t){return sw(this,"reduceRight",e,t)},shift(){return Xd(this,"shift")},some(e,t){return Fs(this,"some",e,t,void 0,arguments)},splice(...e){return Xd(this,"splice",e)},toReversed(){return Bc(this).toReversed()},toSorted(e){return Bc(this).toSorted(e)},toSpliced(...e){return Bc(this).toSpliced(...e)},unshift(...e){return Xd(this,"unshift",e)},values(){return S_(this,"values",kr)}};function S_(e,t,n){const a=Uh(e),r=a[t]();return a!==e&&!Qi(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const OM=Array.prototype;function Fs(e,t,n,a,r,i){const o=Uh(e),l=o!==e&&!Qi(e),u=o[t];if(u!==OM[t]){const m=u.apply(e,i);return l?kr(m):m}let f=n;o!==e&&(l?f=function(m,p){return n.call(this,kr(m),p,e)}:n.length>2&&(f=function(m,p){return n.call(this,m,p,e)}));const d=u.call(o,f,a);return l&&r?r(d):d}function sw(e,t,n,a){const r=Uh(e);let i=n;return r!==e&&(Qi(e)?n.length>3&&(i=function(o,l,u){return n.call(this,o,l,u,e)}):i=function(o,l,u){return n.call(this,o,kr(l),u,e)}),r[t](i,...a)}function C_(e,t,n){const a=Yt(e);$r(a,"iterate",bf);const r=a[t](...n);return(r===-1||r===!1)&&Ng(n[0])?(n[0]=Yt(n[0]),a[t](...n)):r}function Xd(e,t,n=[]){Ys(),Mg();const a=Yt(e)[t].apply(e,n);return Bg(),Ks(),a}const MM=Ag("__proto__,__v_isRef,__isVue"),Kk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(al));function BM(e){al(e)||(e=String(e));const t=Yt(this);return $r(t,"has",e),t.hasOwnProperty(e)}class Gk{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,a){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return a===(r?i?WM:Zk:i?Jk:Xk).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const o=Gt(t);if(!r){let u;if(o&&(u=VM[n]))return u;if(n==="hasOwnProperty")return BM}const l=Reflect.get(t,n,Sa(t)?t:a);return(al(n)?Kk.has(n):MM(n))||(r||$r(t,"get",n),i)?l:Sa(l)?o&&Og(n)?l:l.value:oa(l)?r?wd(l):Ia(l):l}}class Qk extends Gk{constructor(t=!1){super(!1,t)}set(t,n,a,r){let i=t[n];if(!this._isShallow){const u=Wl(i);if(!Qi(a)&&!Wl(a)&&(i=Yt(i),a=Yt(a)),!Gt(t)&&Sa(i)&&!Sa(a))return u?!1:(i.value=a,!0)}const o=Gt(t)&&Og(n)?Number(n)<t.length:jn(t,n),l=Reflect.set(t,n,a,Sa(t)?t:r);return t===Yt(r)&&(o?Ul(a,i)&&Us(t,"set",n,a):Us(t,"add",n,a)),l}deleteProperty(t,n){const a=jn(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&a&&Us(t,"delete",n,void 0),r}has(t,n){const a=Reflect.has(t,n);return(!al(n)||!Kk.has(n))&&$r(t,"has",n),a}ownKeys(t){return $r(t,"iterate",Gt(t)?"length":Lu),Reflect.ownKeys(t)}}class RM extends Gk{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const FM=new Qk,$M=new RM,LM=new Qk(!0);const dp=e=>e,Lm=e=>Reflect.getPrototypeOf(e);function NM(e,t,n){return function(...a){const r=this.__v_raw,i=Yt(r),o=Qc(i),l=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,f=r[e](...a),d=n?dp:t?fh:kr;return!t&&$r(i,"iterate",u?cp:Lu),{next(){const{value:m,done:p}=f.next();return p?{value:m,done:p}:{value:l?[d(m[0]),d(m[1])]:d(m),done:p}},[Symbol.iterator](){return this}}}}function Nm(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qM(e,t){const n={get(r){const i=this.__v_raw,o=Yt(i),l=Yt(r);e||(Ul(r,l)&&$r(o,"get",r),$r(o,"get",l));const{has:u}=Lm(o),f=t?dp:e?fh:kr;if(u.call(o,r))return f(i.get(r));if(u.call(o,l))return f(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&$r(Yt(r),"iterate",Lu),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Yt(i),l=Yt(r);return e||(Ul(r,l)&&$r(o,"has",r),$r(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,u=Yt(l),f=t?dp:e?fh:kr;return!e&&$r(u,"iterate",Lu),l.forEach((d,m)=>r.call(i,f(d),f(m),o))}};return nr(n,e?{add:Nm("add"),set:Nm("set"),delete:Nm("delete"),clear:Nm("clear")}:{add(r){!t&&!Qi(r)&&!Wl(r)&&(r=Yt(r));const i=Yt(this);return Lm(i).has.call(i,r)||(i.add(r),Us(i,"add",r,r)),this},set(r,i){!t&&!Qi(i)&&!Wl(i)&&(i=Yt(i));const o=Yt(this),{has:l,get:u}=Lm(o);let f=l.call(o,r);f||(r=Yt(r),f=l.call(o,r));const d=u.call(o,r);return o.set(r,i),f?Ul(i,d)&&Us(o,"set",r,i):Us(o,"add",r,i),this},delete(r){const i=Yt(this),{has:o,get:l}=Lm(i);let u=o.call(i,r);u||(r=Yt(r),u=o.call(i,r)),l&&l.call(i,r);const f=i.delete(r);return u&&Us(i,"delete",r,void 0),f},clear(){const r=Yt(this),i=r.size!==0,o=r.clear();return i&&Us(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=NM(r,e,t)}),n}function $g(e,t){const n=qM(e,t);return(a,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?a:Reflect.get(jn(n,r)&&r in a?n:a,r,i)}const UM={get:$g(!1,!1)},HM={get:$g(!1,!0)},zM={get:$g(!0,!1)};const Xk=new WeakMap,Jk=new WeakMap,Zk=new WeakMap,WM=new WeakMap;function jM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YM(e){return e.__v_skip||!Object.isExtensible(e)?0:jM(yM(e))}function Ia(e){return Wl(e)?e:Lg(e,!1,FM,UM,Xk)}function KM(e){return Lg(e,!1,LM,HM,Jk)}function wd(e){return Lg(e,!0,$M,zM,Zk)}function Lg(e,t,n,a,r){if(!oa(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=YM(e);if(i===0)return e;const o=r.get(e);if(o)return o;const l=new Proxy(e,i===2?a:n);return r.set(e,l),l}function Xc(e){return Wl(e)?Xc(e.__v_raw):!!(e&&e.__v_isReactive)}function Wl(e){return!!(e&&e.__v_isReadonly)}function Qi(e){return!!(e&&e.__v_isShallow)}function Ng(e){return e?!!e.__v_raw:!1}function Yt(e){const t=e&&e.__v_raw;return t?Yt(t):e}function eS(e){return!jn(e,"__v_skip")&&Object.isExtensible(e)&&sp(e,"__v_skip",!0),e}const kr=e=>oa(e)?Ia(e):e,fh=e=>oa(e)?wd(e):e;function Sa(e){return e?e.__v_isRef===!0:!1}function Ne(e){return tS(e,!1)}function kt(e){return tS(e,!0)}function tS(e,t){return Sa(e)?e:new GM(e,t)}class GM{constructor(t,n){this.dep=new Fg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Yt(t),this._value=n?t:kr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,a=this.__v_isShallow||Qi(t)||Wl(t);t=a?t:Yt(t),Ul(t,n)&&(this._rawValue=t,this._value=a?t:kr(t),this.dep.trigger())}}function Ae(e){return Sa(e)?e.value:e}function Jo(e){return ln(e)?e():Ae(e)}const QM={get:(e,t,n)=>t==="__v_raw"?e:Ae(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const r=e[t];return Sa(r)&&!Sa(n)?(r.value=n,!0):Reflect.set(e,t,n,a)}};function nS(e){return Xc(e)?e:new Proxy(e,QM)}function kd(e){const t=Gt(e)?new Array(e.length):{};for(const n in e)t[n]=aS(e,n);return t}class XM{constructor(t,n,a){this._object=t,this._key=n,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return EM(Yt(this._object),this._key)}}class JM{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Pe(e,t,n){return Sa(e)?e:ln(e)?new JM(e):oa(e)&&arguments.length>1?aS(e,t,n):Ne(e)}function aS(e,t,n){const a=e[t];return Sa(a)?a:new XM(e,t,n)}class ZM{constructor(t,n,a){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Fg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&ia!==this)return Uk(this,!0),!0}get value(){const t=this.dep.track();return Wk(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function eB(e,t,n=!1){let a,r;return ln(e)?a=e:(a=e.get,r=e.set),new ZM(a,r,n)}const qm={},mh=new WeakMap;let Eu;function tB(e,t=!1,n=Eu){if(n){let a=mh.get(n);a||mh.set(n,a=[]),a.push(e)}}function nB(e,t,n=aa){const{immediate:a,deep:r,once:i,scheduler:o,augmentJob:l,call:u}=n,f=V=>r?V:Qi(V)||r===!1||r===0?Hs(V,1):Hs(V);let d,m,p,g,y=!1,S=!1;if(Sa(e)?(m=()=>e.value,y=Qi(e)):Xc(e)?(m=()=>f(e),y=!0):Gt(e)?(S=!0,y=e.some(V=>Xc(V)||Qi(V)),m=()=>e.map(V=>{if(Sa(V))return V.value;if(Xc(V))return f(V);if(ln(V))return u?u(V,2):V()})):ln(e)?t?m=u?()=>u(e,2):e:m=()=>{if(p){Ys();try{p()}finally{Ks()}}const V=Eu;Eu=d;try{return u?u(e,3,[g]):e(g)}finally{Eu=V}}:m=Go,t&&r){const V=m,O=r===!0?1/0:r;m=()=>Hs(V(),O)}const k=Lk(),C=()=>{d.stop(),k&&k.active&&Vg(k.effects,d)};if(i&&t){const V=t;t=(...O)=>{V(...O),C()}}let w=S?new Array(e.length).fill(qm):qm;const I=V=>{if(!(!(d.flags&1)||!d.dirty&&!V))if(t){const O=d.run();if(r||y||(S?O.some((U,Y)=>Ul(U,w[Y])):Ul(O,w))){p&&p();const U=Eu;Eu=d;try{const Y=[O,w===qm?void 0:S&&w[0]===qm?[]:w,g];w=O,u?u(t,3,Y):t(...Y)}finally{Eu=U}}}else d.run()};return l&&l(I),d=new Nk(m),d.scheduler=o?()=>o(I,!1):I,g=V=>tB(V,!1,d),p=d.onStop=()=>{const V=mh.get(d);if(V){if(u)u(V,4);else for(const O of V)O();mh.delete(d)}},t?a?I(!0):w=d.run():o?o(I.bind(null,!0),!0):d.run(),C.pause=d.pause.bind(d),C.resume=d.resume.bind(d),C.stop=C,C}function Hs(e,t=1/0,n){if(t<=0||!oa(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Sa(e))Hs(e.value,t,n);else if(Gt(e))for(let a=0;a<e.length;a++)Hs(e[a],t,n);else if(Ek(e)||Qc(e))e.forEach(a=>{Hs(a,t,n)});else if(Mk(e)){for(const a in e)Hs(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Hs(e[a],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uf(e,t,n,a){try{return a?e(...a):e()}catch(r){Hh(r,t,n)}}function co(e,t,n,a){if(ln(e)){const r=Uf(e,t,n,a);return r&&Vk(r)&&r.catch(i=>{Hh(i,t,n)}),r}if(Gt(e)){const r=[];for(let i=0;i<e.length;i++)r.push(co(e[i],t,n,a));return r}}function Hh(e,t,n,a=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||aa;if(t){let l=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,f)===!1)return}l=l.parent}if(i){Ys(),Uf(i,null,10,[e,u,f]),Ks();return}}aB(e,n,r,a,o)}function aB(e,t,n,a=!0,r=!1){if(r)throw e;console.error(e)}const ti=[];let Ho=-1;const Jc=[];let Bl=null,Hc=0;const rS=Promise.resolve();let hh=null;function Qt(e){const t=hh||rS;return e?t.then(this?e.bind(this):e):t}function rB(e){let t=Ho+1,n=ti.length;for(;t<n;){const a=t+n>>>1,r=ti[a],i=wf(r);i<e||i===e&&r.flags&2?t=a+1:n=a}return t}function qg(e){if(!(e.flags&1)){const t=wf(e),n=ti[ti.length-1];!n||!(e.flags&2)&&t>=wf(n)?ti.push(e):ti.splice(rB(t),0,e),e.flags|=1,iS()}}function iS(){hh||(hh=rS.then(sS))}function iB(e){Gt(e)?Jc.push(...e):Bl&&e.id===-1?Bl.splice(Hc+1,0,e):e.flags&1||(Jc.push(e),e.flags|=1),iS()}function lw(e,t,n=Ho+1){for(;n<ti.length;n++){const a=ti[n];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ti.splice(n,1),n--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function oS(e){if(Jc.length){const t=[...new Set(Jc)].sort((n,a)=>wf(n)-wf(a));if(Jc.length=0,Bl){Bl.push(...t);return}for(Bl=t,Hc=0;Hc<Bl.length;Hc++){const n=Bl[Hc];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Bl=null,Hc=0}}const wf=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sS(e){try{for(Ho=0;Ho<ti.length;Ho++){const t=ti[Ho];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Uf(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ho<ti.length;Ho++){const t=ti[Ho];t&&(t.flags&=-2)}Ho=-1,ti.length=0,oS(),hh=null,(ti.length||Jc.length)&&sS()}}let fr=null,lS=null;function vh(e){const t=fr;return fr=e,lS=e&&e.type.__scopeId||null,t}function D(e,t=fr,n){if(!t||e._n)return e;const a=(...r)=>{a._d&&kw(-1);const i=vh(t);let o;try{o=e(...r)}finally{vh(i),a._d&&kw(1)}return o};return a._n=!0,a._c=!0,a._d=!0,a}function xn(e,t){if(fr===null)return e;const n=Yh(fr),a=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,l,u=aa]=t[r];i&&(ln(i)&&(i={mounted:i,updated:i}),i.deep&&Hs(o),a.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return e}function Pu(e,t,n,a){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let u=l.dir[a];u&&(Ys(),co(u,n,8,[e.el,l,e,t]),Ks())}}const uS=Symbol("_vte"),cS=e=>e.__isTeleport,mf=e=>e&&(e.disabled||e.disabled===""),uw=e=>e&&(e.defer||e.defer===""),cw=e=>typeof SVGElement<"u"&&e instanceof SVGElement,dw=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,fp=(e,t)=>{const n=e&&e.to;return ma(n)?t?t(n):null:n},dS={name:"Teleport",__isTeleport:!0,process(e,t,n,a,r,i,o,l,u,f){const{mc:d,pc:m,pbc:p,o:{insert:g,querySelector:y,createText:S,createComment:k}}=f,C=mf(t.props);let{shapeFlag:w,children:I,dynamicChildren:V}=t;if(e==null){const O=t.el=S(""),U=t.anchor=S("");g(O,n,a),g(U,n,a);const Y=(B,j)=>{w&16&&(r&&r.isCE&&(r.ce._teleportTarget=B),d(I,B,j,r,i,o,l,u))},H=()=>{const B=t.target=fp(t.props,y),j=mS(B,t,S,g);B&&(o!=="svg"&&cw(B)?o="svg":o!=="mathml"&&dw(B)&&(o="mathml"),C||(Y(B,j),Zm(t,!1)))};C&&(Y(n,U),Zm(t,!0)),uw(t.props)?(t.el.__isMounted=!1,ei(()=>{H(),delete t.el.__isMounted},i)):H()}else{if(uw(t.props)&&e.el.__isMounted===!1){ei(()=>{dS.process(e,t,n,a,r,i,o,l,u,f)},i);return}t.el=e.el,t.targetStart=e.targetStart;const O=t.anchor=e.anchor,U=t.target=e.target,Y=t.targetAnchor=e.targetAnchor,H=mf(e.props),B=H?n:U,j=H?O:Y;if(o==="svg"||cw(U)?o="svg":(o==="mathml"||dw(U))&&(o="mathml"),V?(p(e.dynamicChildren,V,B,r,i,o,l),Kg(e,t,!0)):u||m(e,t,B,j,r,i,o,l,!1),C)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Um(t,n,O,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const G=t.target=fp(t.props,y);G&&Um(t,G,null,f,0)}else H&&Um(t,U,Y,f,1);Zm(t,C)}},remove(e,t,n,{um:a,o:{remove:r}},i){const{shapeFlag:o,children:l,anchor:u,targetStart:f,targetAnchor:d,target:m,props:p}=e;if(m&&(r(f),r(d)),i&&r(u),o&16){const g=i||!mf(p);for(let y=0;y<l.length;y++){const S=l[y];a(S,t,n,g,!!S.dynamicChildren)}}},move:Um,hydrate:oB};function Um(e,t,n,{o:{insert:a},m:r},i=2){i===0&&a(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:u,children:f,props:d}=e,m=i===2;if(m&&a(o,t,n),(!m||mf(d))&&u&16)for(let p=0;p<f.length;p++)r(f[p],t,n,2);m&&a(l,t,n)}function oB(e,t,n,a,r,i,{o:{nextSibling:o,parentNode:l,querySelector:u,insert:f,createText:d}},m){const p=t.target=fp(t.props,u);if(p){const g=mf(t.props),y=p._lpa||p.firstChild;if(t.shapeFlag&16)if(g)t.anchor=m(o(e),t,l(e),n,a,r,i),t.targetStart=y,t.targetAnchor=y&&o(y);else{t.anchor=o(e);let S=y;for(;S;){if(S&&S.nodeType===8){if(S.data==="teleport start anchor")t.targetStart=S;else if(S.data==="teleport anchor"){t.targetAnchor=S,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}S=o(S)}t.targetAnchor||mS(p,t,d,f),m(y&&o(y),t,p,n,a,r,i)}Zm(t,g)}return t.anchor&&o(t.anchor)}const fS=dS;function Zm(e,t){const n=e.ctx;if(n&&n.ut){let a,r;for(t?(a=e.el,r=e.anchor):(a=e.targetStart,r=e.targetAnchor);a&&a!==r;)a.nodeType===1&&a.setAttribute("data-v-owner",n.uid),a=a.nextSibling;n.ut()}}function mS(e,t,n,a){const r=t.targetStart=n(""),i=t.targetAnchor=n("");return r[uS]=i,e&&(a(r,e),a(i,e)),i}const Rl=Symbol("_leaveCb"),Hm=Symbol("_enterCb");function hS(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pn(()=>{e.isMounted=!0}),vr(()=>{e.isUnmounting=!0}),e}const Ki=[Function,Array],vS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ki,onEnter:Ki,onAfterEnter:Ki,onEnterCancelled:Ki,onBeforeLeave:Ki,onLeave:Ki,onAfterLeave:Ki,onLeaveCancelled:Ki,onBeforeAppear:Ki,onAppear:Ki,onAfterAppear:Ki,onAppearCancelled:Ki},_S=e=>{const t=e.subTree;return t.component?_S(t.component):t},sB={name:"BaseTransition",props:vS,setup(e,{slots:t}){const n=xd(),a=hS();return()=>{const r=t.default&&Ug(t.default(),!0);if(!r||!r.length)return;const i=pS(r),o=Yt(e),{mode:l}=o;if(a.isLeaving)return x_(i);const u=fw(i);if(!u)return x_(i);let f=kf(u,o,a,n,m=>f=m);u.type!==Sr&&Wu(u,f);let d=n.subTree&&fw(n.subTree);if(d&&d.type!==Sr&&!Ou(u,d)&&_S(n).type!==Sr){let m=kf(d,o,a,n);if(Wu(d,m),l==="out-in"&&u.type!==Sr)return a.isLeaving=!0,m.afterLeave=()=>{a.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,d=void 0},x_(i);l==="in-out"&&u.type!==Sr?m.delayLeave=(p,g,y)=>{const S=gS(a,d);S[String(d.key)]=d,p[Rl]=()=>{g(),p[Rl]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{y(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function pS(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Sr){t=n;break}}return t}const lB=sB;function gS(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function kf(e,t,n,a,r){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:p,onLeave:g,onAfterLeave:y,onLeaveCancelled:S,onBeforeAppear:k,onAppear:C,onAfterAppear:w,onAppearCancelled:I}=t,V=String(e.key),O=gS(n,e),U=(B,j)=>{B&&co(B,a,9,j)},Y=(B,j)=>{const G=j[1];U(B,j),Gt(B)?B.every(F=>F.length<=1)&&G():B.length<=1&&G()},H={mode:o,persisted:l,beforeEnter(B){let j=u;if(!n.isMounted)if(i)j=k||u;else return;B[Rl]&&B[Rl](!0);const G=O[V];G&&Ou(e,G)&&G.el[Rl]&&G.el[Rl](),U(j,[B])},enter(B){let j=f,G=d,F=m;if(!n.isMounted)if(i)j=C||f,G=w||d,F=I||m;else return;let ce=!1;const Z=B[Hm]=le=>{ce||(ce=!0,le?U(F,[B]):U(G,[B]),H.delayedLeave&&H.delayedLeave(),B[Hm]=void 0)};j?Y(j,[B,Z]):Z()},leave(B,j){const G=String(e.key);if(B[Hm]&&B[Hm](!0),n.isUnmounting)return j();U(p,[B]);let F=!1;const ce=B[Rl]=Z=>{F||(F=!0,j(),Z?U(S,[B]):U(y,[B]),B[Rl]=void 0,O[G]===e&&delete O[G])};O[G]=e,g?Y(g,[B,ce]):ce()},clone(B){const j=kf(B,t,n,a,r);return r&&r(j),j}};return H}function x_(e){if(zh(e))return e=Gs(e),e.children=null,e}function fw(e){if(!zh(e))return cS(e.type)&&e.children?pS(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ln(n.default))return n.default()}}function Wu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Wu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ug(e,t=!1,n){let a=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ht?(o.patchFlag&128&&r++,a=a.concat(Ug(o.children,t,l))):(t||o.type!==Sr)&&a.push(l!=null?Gs(o,{key:l}):o)}if(r>1)for(let i=0;i<a.length;i++)a[i].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function ar(e,t){return ln(e)?nr({name:e.name},t,{setup:e}):e}function ii(){const e=xd();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function yS(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function hf(e,t,n,a,r=!1){if(Gt(e)){e.forEach((y,S)=>hf(y,t&&(Gt(t)?t[S]:t),n,a,r));return}if(Zc(a)&&!r){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&hf(e,t,n,a.component.subTree);return}const i=a.shapeFlag&4?Yh(a.component):a.el,o=r?null:i,{i:l,r:u}=e,f=t&&t.r,d=l.refs===aa?l.refs={}:l.refs,m=l.setupState,p=Yt(m),g=m===aa?()=>!1:y=>jn(p,y);if(f!=null&&f!==u&&(ma(f)?(d[f]=null,g(f)&&(m[f]=null)):Sa(f)&&(f.value=null)),ln(u))Uf(u,l,12,[o,d]);else{const y=ma(u),S=Sa(u);if(y||S){const k=()=>{if(e.f){const C=y?g(u)?m[u]:d[u]:u.value;r?Gt(C)&&Vg(C,i):Gt(C)?C.includes(i)||C.push(i):y?(d[u]=[i],g(u)&&(m[u]=d[u])):(u.value=[i],e.k&&(d[e.k]=u.value))}else y?(d[u]=o,g(u)&&(m[u]=o)):S&&(u.value=o,e.k&&(d[e.k]=o))};o?(k.id=-1,ei(k,n)):k()}}}qh().requestIdleCallback;qh().cancelIdleCallback;const Zc=e=>!!e.type.__asyncLoader,zh=e=>e.type.__isKeepAlive;function bS(e,t){wS(e,"a",t)}function Hg(e,t){wS(e,"da",t)}function wS(e,t,n=Cr){const a=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Wh(t,a,n),n){let r=n.parent;for(;r&&r.parent;)zh(r.parent.vnode)&&uB(a,t,n,r),r=r.parent}}function uB(e,t,n,a){const r=Wh(t,e,a,!0);as(()=>{Vg(a[t],r)},n)}function Wh(e,t,n=Cr,a=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ys();const l=zf(n),u=co(t,n,e,o);return l(),Ks(),u});return a?r.unshift(i):r.push(i),i}}const rl=e=>(t,n=Cr)=>{(!Cf||e==="sp")&&Wh(e,(...a)=>t(...a),n)},Sd=rl("bm"),Pn=rl("m"),zg=rl("bu"),Wg=rl("u"),vr=rl("bum"),as=rl("um"),cB=rl("sp"),dB=rl("rtg"),fB=rl("rtc");function mB(e,t=Cr){Wh("ec",e,t)}const kS="components";function ie(e,t){return CS(kS,e,!0,t)||e}const SS=Symbol.for("v-ndc");function Cd(e){return ma(e)?CS(kS,e,!1)||e:e||SS}function CS(e,t,n=!0,a=!1){const r=fr||Cr;if(r){const i=r.type;{const l=XB(i,!1);if(l&&(l===t||l===ri(t)||l===ns(ri(t))))return i}const o=mw(r[e]||i[e],t)||mw(r.appContext[e],t);return!o&&a?i:o}}function mw(e,t){return e&&(e[t]||e[ri(t)]||e[ns(ri(t))])}function In(e,t,n,a){let r;const i=n,o=Gt(e);if(o||ma(e)){const l=o&&Xc(e);let u=!1,f=!1;l&&(u=!Qi(e),f=Wl(e),e=Uh(e)),r=new Array(e.length);for(let d=0,m=e.length;d<m;d++)r[d]=t(u?f?fh(kr(e[d])):kr(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(oa(e))if(e[Symbol.iterator])r=Array.from(e,(l,u)=>t(l,u,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const d=l[u];r[u]=t(e[d],d,u,i)}}else r=[];return r}function xr(e,t){for(let n=0;n<t.length;n++){const a=t[n];if(Gt(a))for(let r=0;r<a.length;r++)e[a[r].name]=a[r].fn;else a&&(e[a.name]=a.key?(...r)=>{const i=a.fn(...r);return i&&(i.key=a.key),i}:a.fn)}return e}function $t(e,t,n={},a,r){if(fr.ce||fr.parent&&Zc(fr.parent)&&fr.parent.ce)return t!=="default"&&(n.name=t),de(),ct(ht,null,[h("slot",n,a)],64);let i=e[t];i&&i._c&&(i._d=!1),de();const o=i&&xS(i(n)),l=n.key||o&&o.key,u=ct(ht,{key:(l&&!al(l)?l:`_${t}`)+""},o||[],o&&e._===1?64:-2);return!r&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function xS(e){return e.some(t=>id(t)?!(t.type===Sr||t.type===ht&&!xS(t.children)):!0)?e:null}const mp=e=>e?zS(e)?Yh(e):mp(e.parent):null,vf=nr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mp(e.parent),$root:e=>mp(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>DS(e),$forceUpdate:e=>e.f||(e.f=()=>{qg(e.update)}),$nextTick:e=>e.n||(e.n=Qt.bind(e.proxy)),$watch:e=>BB.bind(e)}),P_=(e,t)=>e!==aa&&!e.__isScriptSetup&&jn(e,t),hB={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:a,data:r,props:i,accessCache:o,type:l,appContext:u}=e;let f;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return a[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(P_(a,t))return o[t]=1,a[t];if(r!==aa&&jn(r,t))return o[t]=2,r[t];if((f=e.propsOptions[0])&&jn(f,t))return o[t]=3,i[t];if(n!==aa&&jn(n,t))return o[t]=4,n[t];hp&&(o[t]=0)}}const d=vf[t];let m,p;if(d)return t==="$attrs"&&$r(e.attrs,"get",""),d(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==aa&&jn(n,t))return o[t]=4,n[t];if(p=u.config.globalProperties,jn(p,t))return p[t]},set({_:e},t,n){const{data:a,setupState:r,ctx:i}=e;return P_(r,t)?(r[t]=n,!0):a!==aa&&jn(a,t)?(a[t]=n,!0):jn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:r,propsOptions:i}},o){let l;return!!n[o]||e!==aa&&jn(e,o)||P_(t,o)||(l=i[0])&&jn(l,o)||jn(a,o)||jn(vf,o)||jn(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:jn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ec(){return PS().slots}function vB(){return PS().attrs}function PS(){const e=xd();return e.setupContext||(e.setupContext=jS(e))}function hw(e){return Gt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let hp=!0;function _B(e){const t=DS(e),n=e.proxy,a=e.ctx;hp=!1,t.beforeCreate&&vw(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:l,provide:u,inject:f,created:d,beforeMount:m,mounted:p,beforeUpdate:g,updated:y,activated:S,deactivated:k,beforeDestroy:C,beforeUnmount:w,destroyed:I,unmounted:V,render:O,renderTracked:U,renderTriggered:Y,errorCaptured:H,serverPrefetch:B,expose:j,inheritAttrs:G,components:F,directives:ce,filters:Z}=t;if(f&&pB(f,a,null),o)for(const _e in o){const Ee=o[_e];ln(Ee)&&(a[_e]=Ee.bind(n))}if(r){const _e=r.call(n,n);oa(_e)&&(e.data=Ia(_e))}if(hp=!0,i)for(const _e in i){const Ee=i[_e],$e=ln(Ee)?Ee.bind(n,n):ln(Ee.get)?Ee.get.bind(n,n):Go,re=!ln(Ee)&&ln(Ee.set)?Ee.set.bind(n):Go,ee=L({get:$e,set:re});Object.defineProperty(a,_e,{enumerable:!0,configurable:!0,get:()=>ee.value,set:ge=>ee.value=ge})}if(l)for(const _e in l)TS(l[_e],a,n,_e);if(u){const _e=ln(u)?u.call(n):u;Reflect.ownKeys(_e).forEach(Ee=>{ra(Ee,_e[Ee])})}d&&vw(d,e,"c");function ae(_e,Ee){Gt(Ee)?Ee.forEach($e=>_e($e.bind(n))):Ee&&_e(Ee.bind(n))}if(ae(Sd,m),ae(Pn,p),ae(zg,g),ae(Wg,y),ae(bS,S),ae(Hg,k),ae(mB,H),ae(fB,U),ae(dB,Y),ae(vr,w),ae(as,V),ae(cB,B),Gt(j))if(j.length){const _e=e.exposed||(e.exposed={});j.forEach(Ee=>{Object.defineProperty(_e,Ee,{get:()=>n[Ee],set:$e=>n[Ee]=$e})})}else e.exposed||(e.exposed={});O&&e.render===Go&&(e.render=O),G!=null&&(e.inheritAttrs=G),F&&(e.components=F),ce&&(e.directives=ce),B&&yS(e)}function pB(e,t,n=Go){Gt(e)&&(e=vp(e));for(const a in e){const r=e[a];let i;oa(r)?"default"in r?i=fn(r.from||a,r.default,!0):i=fn(r.from||a):i=fn(r),Sa(i)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[a]=i}}function vw(e,t,n){co(Gt(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function TS(e,t,n,a){let r=a.includes(".")?LS(n,a):()=>n[a];if(ma(e)){const i=t[e];ln(i)&&yt(r,i)}else if(ln(e))yt(r,e.bind(n));else if(oa(e))if(Gt(e))e.forEach(i=>TS(i,t,n,a));else{const i=ln(e.handler)?e.handler.bind(n):t[e.handler];ln(i)&&yt(r,i,e)}}function DS(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let u;return l?u=l:!r.length&&!n&&!a?u=t:(u={},r.length&&r.forEach(f=>_h(u,f,o,!0)),_h(u,t,o)),oa(t)&&i.set(t,u),u}function _h(e,t,n,a=!1){const{mixins:r,extends:i}=t;i&&_h(e,i,n,!0),r&&r.forEach(o=>_h(e,o,n,!0));for(const o in t)if(!(a&&o==="expose")){const l=gB[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const gB={data:_w,props:pw,emits:pw,methods:rf,computed:rf,beforeCreate:Jr,created:Jr,beforeMount:Jr,mounted:Jr,beforeUpdate:Jr,updated:Jr,beforeDestroy:Jr,beforeUnmount:Jr,destroyed:Jr,unmounted:Jr,activated:Jr,deactivated:Jr,errorCaptured:Jr,serverPrefetch:Jr,components:rf,directives:rf,watch:bB,provide:_w,inject:yB};function _w(e,t){return t?e?function(){return nr(ln(e)?e.call(this,this):e,ln(t)?t.call(this,this):t)}:t:e}function yB(e,t){return rf(vp(e),vp(t))}function vp(e){if(Gt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Jr(e,t){return e?[...new Set([].concat(e,t))]:t}function rf(e,t){return e?nr(Object.create(null),e,t):t}function pw(e,t){return e?Gt(e)&&Gt(t)?[...new Set([...e,...t])]:nr(Object.create(null),hw(e),hw(t??{})):t}function bB(e,t){if(!e)return t;if(!t)return e;const n=nr(Object.create(null),e);for(const a in t)n[a]=Jr(e[a],t[a]);return n}function IS(){return{app:null,config:{isNativeTag:pM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wB=0;function kB(e,t){return function(a,r=null){ln(a)||(a=nr({},a)),r!=null&&!oa(r)&&(r=null);const i=IS(),o=new WeakSet,l=[];let u=!1;const f=i.app={_uid:wB++,_component:a,_props:r,_container:null,_context:i,_instance:null,version:ZB,get config(){return i.config},set config(d){},use(d,...m){return o.has(d)||(d&&ln(d.install)?(o.add(d),d.install(f,...m)):ln(d)&&(o.add(d),d(f,...m))),f},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),f},component(d,m){return m?(i.components[d]=m,f):i.components[d]},directive(d,m){return m?(i.directives[d]=m,f):i.directives[d]},mount(d,m,p){if(!u){const g=f._ceVNode||h(a,r);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(g,d,p),u=!0,f._container=d,d.__vue_app__=f,Yh(g.component)}},onUnmount(d){l.push(d)},unmount(){u&&(co(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return i.provides[d]=m,f},runWithContext(d){const m=ed;ed=f;try{return d()}finally{ed=m}}};return f}}let ed=null;function ra(e,t){if(Cr){let n=Cr.provides;const a=Cr.parent&&Cr.parent.provides;a===n&&(n=Cr.provides=Object.create(a)),n[e]=t}}function fn(e,t,n=!1){const a=Cr||fr;if(a||ed){let r=ed?ed._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ln(t)?t.call(a&&a.proxy):t}}const AS={},ES=()=>Object.create(AS),VS=e=>Object.getPrototypeOf(e)===AS;function SB(e,t,n,a=!1){const r={},i=ES();e.propsDefaults=Object.create(null),OS(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=a?r:KM(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function CB(e,t,n,a){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,l=Yt(r),[u]=e.propsOptions;let f=!1;if((a||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let p=d[m];if(jh(e.emitsOptions,p))continue;const g=t[p];if(u)if(jn(i,p))g!==i[p]&&(i[p]=g,f=!0);else{const y=ri(p);r[y]=_p(u,l,y,g,e,!1)}else g!==i[p]&&(i[p]=g,f=!0)}}}else{OS(e,t,r,i)&&(f=!0);let d;for(const m in l)(!t||!jn(t,m)&&((d=Xl(m))===m||!jn(t,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(r[m]=_p(u,l,m,void 0,e,!0)):delete r[m]);if(i!==l)for(const m in i)(!t||!jn(t,m))&&(delete i[m],f=!0)}f&&Us(e.attrs,"set","")}function OS(e,t,n,a){const[r,i]=e.propsOptions;let o=!1,l;if(t)for(let u in t){if(cf(u))continue;const f=t[u];let d;r&&jn(r,d=ri(u))?!i||!i.includes(d)?n[d]=f:(l||(l={}))[d]=f:jh(e.emitsOptions,u)||(!(u in a)||f!==a[u])&&(a[u]=f,o=!0)}if(i){const u=Yt(n),f=l||aa;for(let d=0;d<i.length;d++){const m=i[d];n[m]=_p(r,u,m,f[m],e,!jn(f,m))}}return o}function _p(e,t,n,a,r,i){const o=e[n];if(o!=null){const l=jn(o,"default");if(l&&a===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&ln(u)){const{propsDefaults:f}=r;if(n in f)a=f[n];else{const d=zf(r);a=f[n]=u.call(null,t),d()}}else a=u;r.ce&&r.ce._setProp(n,a)}o[0]&&(i&&!l?a=!1:o[1]&&(a===""||a===Xl(n))&&(a=!0))}return a}const xB=new WeakMap;function MS(e,t,n=!1){const a=n?xB:t.propsCache,r=a.get(e);if(r)return r;const i=e.props,o={},l=[];let u=!1;if(!ln(e)){const d=m=>{u=!0;const[p,g]=MS(m,t,!0);nr(o,p),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return oa(e)&&a.set(e,Gc),Gc;if(Gt(i))for(let d=0;d<i.length;d++){const m=ri(i[d]);gw(m)&&(o[m]=aa)}else if(i)for(const d in i){const m=ri(d);if(gw(m)){const p=i[d],g=o[m]=Gt(p)||ln(p)?{type:p}:nr({},p),y=g.type;let S=!1,k=!0;if(Gt(y))for(let C=0;C<y.length;++C){const w=y[C],I=ln(w)&&w.name;if(I==="Boolean"){S=!0;break}else I==="String"&&(k=!1)}else S=ln(y)&&y.name==="Boolean";g[0]=S,g[1]=k,(S||jn(g,"default"))&&l.push(m)}}const f=[o,l];return oa(e)&&a.set(e,f),f}function gw(e){return e[0]!=="$"&&!cf(e)}const jg=e=>e[0]==="_"||e==="$stable",Yg=e=>Gt(e)?e.map(zo):[zo(e)],PB=(e,t,n)=>{if(t._n)return t;const a=D((...r)=>Yg(t(...r)),n);return a._c=!1,a},BS=(e,t,n)=>{const a=e._ctx;for(const r in e){if(jg(r))continue;const i=e[r];if(ln(i))t[r]=PB(r,i,a);else if(i!=null){const o=Yg(i);t[r]=()=>o}}},RS=(e,t)=>{const n=Yg(t);e.slots.default=()=>n},FS=(e,t,n)=>{for(const a in t)(n||!jg(a))&&(e[a]=t[a])},TB=(e,t,n)=>{const a=e.slots=ES();if(e.vnode.shapeFlag&32){const r=t.__;r&&sp(a,"__",r,!0);const i=t._;i?(FS(a,t,n),n&&sp(a,"_",i,!0)):BS(t,a)}else t&&RS(e,t)},DB=(e,t,n)=>{const{vnode:a,slots:r}=e;let i=!0,o=aa;if(a.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:FS(r,t,n):(i=!t.$stable,BS(t,r)),o=t}else t&&(RS(e,t),o={default:1});if(i)for(const l in r)!jg(l)&&o[l]==null&&delete r[l]},ei=UB;function IB(e){return AB(e)}function AB(e,t){const n=qh();n.__VUE__=!0;const{insert:a,remove:r,patchProp:i,createElement:o,createText:l,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:p,setScopeId:g=Go,insertStaticContent:y}=e,S=(N,Q,pe,W=null,Ve=null,Ie=null,We=void 0,Qe=null,st=!!Q.dynamicChildren)=>{if(N===Q)return;N&&!Ou(N,Q)&&(W=R(N),ge(N,Ve,Ie,!0),N=null),Q.patchFlag===-2&&(st=!1,Q.dynamicChildren=null);const{type:tt,ref:Tt,shapeFlag:ke}=Q;switch(tt){case Hf:k(N,Q,pe,W);break;case Sr:C(N,Q,pe,W);break;case D_:N==null&&w(Q,pe,W,We);break;case ht:F(N,Q,pe,W,Ve,Ie,We,Qe,st);break;default:ke&1?O(N,Q,pe,W,Ve,Ie,We,Qe,st):ke&6?ce(N,Q,pe,W,Ve,Ie,We,Qe,st):(ke&64||ke&128)&&tt.process(N,Q,pe,W,Ve,Ie,We,Qe,st,at)}Tt!=null&&Ve?hf(Tt,N&&N.ref,Ie,Q||N,!Q):Tt==null&&N&&N.ref!=null&&hf(N.ref,null,Ie,N,!0)},k=(N,Q,pe,W)=>{if(N==null)a(Q.el=l(Q.children),pe,W);else{const Ve=Q.el=N.el;Q.children!==N.children&&f(Ve,Q.children)}},C=(N,Q,pe,W)=>{N==null?a(Q.el=u(Q.children||""),pe,W):Q.el=N.el},w=(N,Q,pe,W)=>{[N.el,N.anchor]=y(N.children,Q,pe,W,N.el,N.anchor)},I=({el:N,anchor:Q},pe,W)=>{let Ve;for(;N&&N!==Q;)Ve=p(N),a(N,pe,W),N=Ve;a(Q,pe,W)},V=({el:N,anchor:Q})=>{let pe;for(;N&&N!==Q;)pe=p(N),r(N),N=pe;r(Q)},O=(N,Q,pe,W,Ve,Ie,We,Qe,st)=>{Q.type==="svg"?We="svg":Q.type==="math"&&(We="mathml"),N==null?U(Q,pe,W,Ve,Ie,We,Qe,st):B(N,Q,Ve,Ie,We,Qe,st)},U=(N,Q,pe,W,Ve,Ie,We,Qe)=>{let st,tt;const{props:Tt,shapeFlag:ke,transition:ut,dirs:Dt}=N;if(st=N.el=o(N.type,Ie,Tt&&Tt.is,Tt),ke&8?d(st,N.children):ke&16&&H(N.children,st,null,W,Ve,T_(N,Ie),We,Qe),Dt&&Pu(N,null,W,"created"),Y(st,N,N.scopeId,We,W),Tt){for(const jt in Tt)jt!=="value"&&!cf(jt)&&i(st,jt,null,Tt[jt],Ie,W);"value"in Tt&&i(st,"value",null,Tt.value,Ie),(tt=Tt.onVnodeBeforeMount)&&No(tt,W,N)}Dt&&Pu(N,null,W,"beforeMount");const Nt=EB(Ve,ut);Nt&&ut.beforeEnter(st),a(st,Q,pe),((tt=Tt&&Tt.onVnodeMounted)||Nt||Dt)&&ei(()=>{tt&&No(tt,W,N),Nt&&ut.enter(st),Dt&&Pu(N,null,W,"mounted")},Ve)},Y=(N,Q,pe,W,Ve)=>{if(pe&&g(N,pe),W)for(let Ie=0;Ie<W.length;Ie++)g(N,W[Ie]);if(Ve){let Ie=Ve.subTree;if(Q===Ie||qS(Ie.type)&&(Ie.ssContent===Q||Ie.ssFallback===Q)){const We=Ve.vnode;Y(N,We,We.scopeId,We.slotScopeIds,Ve.parent)}}},H=(N,Q,pe,W,Ve,Ie,We,Qe,st=0)=>{for(let tt=st;tt<N.length;tt++){const Tt=N[tt]=Qe?Fl(N[tt]):zo(N[tt]);S(null,Tt,Q,pe,W,Ve,Ie,We,Qe)}},B=(N,Q,pe,W,Ve,Ie,We)=>{const Qe=Q.el=N.el;let{patchFlag:st,dynamicChildren:tt,dirs:Tt}=Q;st|=N.patchFlag&16;const ke=N.props||aa,ut=Q.props||aa;let Dt;if(pe&&Tu(pe,!1),(Dt=ut.onVnodeBeforeUpdate)&&No(Dt,pe,Q,N),Tt&&Pu(Q,N,pe,"beforeUpdate"),pe&&Tu(pe,!0),(ke.innerHTML&&ut.innerHTML==null||ke.textContent&&ut.textContent==null)&&d(Qe,""),tt?j(N.dynamicChildren,tt,Qe,pe,W,T_(Q,Ve),Ie):We||Ee(N,Q,Qe,null,pe,W,T_(Q,Ve),Ie,!1),st>0){if(st&16)G(Qe,ke,ut,pe,Ve);else if(st&2&&ke.class!==ut.class&&i(Qe,"class",null,ut.class,Ve),st&4&&i(Qe,"style",ke.style,ut.style,Ve),st&8){const Nt=Q.dynamicProps;for(let jt=0;jt<Nt.length;jt++){const xt=Nt[jt],Jt=ke[xt],mn=ut[xt];(mn!==Jt||xt==="value")&&i(Qe,xt,Jt,mn,Ve,pe)}}st&1&&N.children!==Q.children&&d(Qe,Q.children)}else!We&&tt==null&&G(Qe,ke,ut,pe,Ve);((Dt=ut.onVnodeUpdated)||Tt)&&ei(()=>{Dt&&No(Dt,pe,Q,N),Tt&&Pu(Q,N,pe,"updated")},W)},j=(N,Q,pe,W,Ve,Ie,We)=>{for(let Qe=0;Qe<Q.length;Qe++){const st=N[Qe],tt=Q[Qe],Tt=st.el&&(st.type===ht||!Ou(st,tt)||st.shapeFlag&198)?m(st.el):pe;S(st,tt,Tt,null,W,Ve,Ie,We,!0)}},G=(N,Q,pe,W,Ve)=>{if(Q!==pe){if(Q!==aa)for(const Ie in Q)!cf(Ie)&&!(Ie in pe)&&i(N,Ie,Q[Ie],null,Ve,W);for(const Ie in pe){if(cf(Ie))continue;const We=pe[Ie],Qe=Q[Ie];We!==Qe&&Ie!=="value"&&i(N,Ie,Qe,We,Ve,W)}"value"in pe&&i(N,"value",Q.value,pe.value,Ve)}},F=(N,Q,pe,W,Ve,Ie,We,Qe,st)=>{const tt=Q.el=N?N.el:l(""),Tt=Q.anchor=N?N.anchor:l("");let{patchFlag:ke,dynamicChildren:ut,slotScopeIds:Dt}=Q;Dt&&(Qe=Qe?Qe.concat(Dt):Dt),N==null?(a(tt,pe,W),a(Tt,pe,W),H(Q.children||[],pe,Tt,Ve,Ie,We,Qe,st)):ke>0&&ke&64&&ut&&N.dynamicChildren?(j(N.dynamicChildren,ut,pe,Ve,Ie,We,Qe),(Q.key!=null||Ve&&Q===Ve.subTree)&&Kg(N,Q,!0)):Ee(N,Q,pe,Tt,Ve,Ie,We,Qe,st)},ce=(N,Q,pe,W,Ve,Ie,We,Qe,st)=>{Q.slotScopeIds=Qe,N==null?Q.shapeFlag&512?Ve.ctx.activate(Q,pe,W,We,st):Z(Q,pe,W,Ve,Ie,We,st):le(N,Q,st)},Z=(N,Q,pe,W,Ve,Ie,We)=>{const Qe=N.component=YB(N,W,Ve);if(zh(N)&&(Qe.ctx.renderer=at),KB(Qe,!1,We),Qe.asyncDep){if(Ve&&Ve.registerDep(Qe,ae,We),!N.el){const st=Qe.subTree=h(Sr);C(null,st,Q,pe)}}else ae(Qe,N,Q,pe,Ve,Ie,We)},le=(N,Q,pe)=>{const W=Q.component=N.component;if(NB(N,Q,pe))if(W.asyncDep&&!W.asyncResolved){_e(W,Q,pe);return}else W.next=Q,W.update();else Q.el=N.el,W.vnode=Q},ae=(N,Q,pe,W,Ve,Ie,We)=>{const Qe=()=>{if(N.isMounted){let{next:ke,bu:ut,u:Dt,parent:Nt,vnode:jt}=N;{const Un=$S(N);if(Un){ke&&(ke.el=jt.el,_e(N,ke,We)),Un.asyncDep.then(()=>{N.isUnmounted||Qe()});return}}let xt=ke,Jt;Tu(N,!1),ke?(ke.el=jt.el,_e(N,ke,We)):ke=jt,ut&&Jm(ut),(Jt=ke.props&&ke.props.onVnodeBeforeUpdate)&&No(Jt,Nt,ke,jt),Tu(N,!0);const mn=bw(N),Zn=N.subTree;N.subTree=mn,S(Zn,mn,m(Zn.el),R(Zn),N,Ve,Ie),ke.el=mn.el,xt===null&&qB(N,mn.el),Dt&&ei(Dt,Ve),(Jt=ke.props&&ke.props.onVnodeUpdated)&&ei(()=>No(Jt,Nt,ke,jt),Ve)}else{let ke;const{el:ut,props:Dt}=Q,{bm:Nt,m:jt,parent:xt,root:Jt,type:mn}=N,Zn=Zc(Q);Tu(N,!1),Nt&&Jm(Nt),!Zn&&(ke=Dt&&Dt.onVnodeBeforeMount)&&No(ke,xt,Q),Tu(N,!0);{Jt.ce&&Jt.ce._def.shadowRoot!==!1&&Jt.ce._injectChildStyle(mn);const Un=N.subTree=bw(N);S(null,Un,pe,W,N,Ve,Ie),Q.el=Un.el}if(jt&&ei(jt,Ve),!Zn&&(ke=Dt&&Dt.onVnodeMounted)){const Un=Q;ei(()=>No(ke,xt,Un),Ve)}(Q.shapeFlag&256||xt&&Zc(xt.vnode)&&xt.vnode.shapeFlag&256)&&N.a&&ei(N.a,Ve),N.isMounted=!0,Q=pe=W=null}};N.scope.on();const st=N.effect=new Nk(Qe);N.scope.off();const tt=N.update=st.run.bind(st),Tt=N.job=st.runIfDirty.bind(st);Tt.i=N,Tt.id=N.uid,st.scheduler=()=>qg(Tt),Tu(N,!0),tt()},_e=(N,Q,pe)=>{Q.component=N;const W=N.vnode.props;N.vnode=Q,N.next=null,CB(N,Q.props,W,pe),DB(N,Q.children,pe),Ys(),lw(N),Ks()},Ee=(N,Q,pe,W,Ve,Ie,We,Qe,st=!1)=>{const tt=N&&N.children,Tt=N?N.shapeFlag:0,ke=Q.children,{patchFlag:ut,shapeFlag:Dt}=Q;if(ut>0){if(ut&128){re(tt,ke,pe,W,Ve,Ie,We,Qe,st);return}else if(ut&256){$e(tt,ke,pe,W,Ve,Ie,We,Qe,st);return}}Dt&8?(Tt&16&&De(tt,Ve,Ie),ke!==tt&&d(pe,ke)):Tt&16?Dt&16?re(tt,ke,pe,W,Ve,Ie,We,Qe,st):De(tt,Ve,Ie,!0):(Tt&8&&d(pe,""),Dt&16&&H(ke,pe,W,Ve,Ie,We,Qe,st))},$e=(N,Q,pe,W,Ve,Ie,We,Qe,st)=>{N=N||Gc,Q=Q||Gc;const tt=N.length,Tt=Q.length,ke=Math.min(tt,Tt);let ut;for(ut=0;ut<ke;ut++){const Dt=Q[ut]=st?Fl(Q[ut]):zo(Q[ut]);S(N[ut],Dt,pe,null,Ve,Ie,We,Qe,st)}tt>Tt?De(N,Ve,Ie,!0,!1,ke):H(Q,pe,W,Ve,Ie,We,Qe,st,ke)},re=(N,Q,pe,W,Ve,Ie,We,Qe,st)=>{let tt=0;const Tt=Q.length;let ke=N.length-1,ut=Tt-1;for(;tt<=ke&&tt<=ut;){const Dt=N[tt],Nt=Q[tt]=st?Fl(Q[tt]):zo(Q[tt]);if(Ou(Dt,Nt))S(Dt,Nt,pe,null,Ve,Ie,We,Qe,st);else break;tt++}for(;tt<=ke&&tt<=ut;){const Dt=N[ke],Nt=Q[ut]=st?Fl(Q[ut]):zo(Q[ut]);if(Ou(Dt,Nt))S(Dt,Nt,pe,null,Ve,Ie,We,Qe,st);else break;ke--,ut--}if(tt>ke){if(tt<=ut){const Dt=ut+1,Nt=Dt<Tt?Q[Dt].el:W;for(;tt<=ut;)S(null,Q[tt]=st?Fl(Q[tt]):zo(Q[tt]),pe,Nt,Ve,Ie,We,Qe,st),tt++}}else if(tt>ut)for(;tt<=ke;)ge(N[tt],Ve,Ie,!0),tt++;else{const Dt=tt,Nt=tt,jt=new Map;for(tt=Nt;tt<=ut;tt++){const Rn=Q[tt]=st?Fl(Q[tt]):zo(Q[tt]);Rn.key!=null&&jt.set(Rn.key,tt)}let xt,Jt=0;const mn=ut-Nt+1;let Zn=!1,Un=0;const ya=new Array(mn);for(tt=0;tt<mn;tt++)ya[tt]=0;for(tt=Dt;tt<=ke;tt++){const Rn=N[tt];if(Jt>=mn){ge(Rn,Ve,Ie,!0);continue}let Mt;if(Rn.key!=null)Mt=jt.get(Rn.key);else for(xt=Nt;xt<=ut;xt++)if(ya[xt-Nt]===0&&Ou(Rn,Q[xt])){Mt=xt;break}Mt===void 0?ge(Rn,Ve,Ie,!0):(ya[Mt-Nt]=tt+1,Mt>=Un?Un=Mt:Zn=!0,S(Rn,Q[Mt],pe,null,Ve,Ie,We,Qe,st),Jt++)}const xa=Zn?VB(ya):Gc;for(xt=xa.length-1,tt=mn-1;tt>=0;tt--){const Rn=Nt+tt,Mt=Q[Rn],ir=Rn+1<Tt?Q[Rn+1].el:W;ya[tt]===0?S(null,Mt,pe,ir,Ve,Ie,We,Qe,st):Zn&&(xt<0||tt!==xa[xt]?ee(Mt,pe,ir,2):xt--)}}},ee=(N,Q,pe,W,Ve=null)=>{const{el:Ie,type:We,transition:Qe,children:st,shapeFlag:tt}=N;if(tt&6){ee(N.component.subTree,Q,pe,W);return}if(tt&128){N.suspense.move(Q,pe,W);return}if(tt&64){We.move(N,Q,pe,at);return}if(We===ht){a(Ie,Q,pe);for(let ke=0;ke<st.length;ke++)ee(st[ke],Q,pe,W);a(N.anchor,Q,pe);return}if(We===D_){I(N,Q,pe);return}if(W!==2&&tt&1&&Qe)if(W===0)Qe.beforeEnter(Ie),a(Ie,Q,pe),ei(()=>Qe.enter(Ie),Ve);else{const{leave:ke,delayLeave:ut,afterLeave:Dt}=Qe,Nt=()=>{N.ctx.isUnmounted?r(Ie):a(Ie,Q,pe)},jt=()=>{ke(Ie,()=>{Nt(),Dt&&Dt()})};ut?ut(Ie,Nt,jt):jt()}else a(Ie,Q,pe)},ge=(N,Q,pe,W=!1,Ve=!1)=>{const{type:Ie,props:We,ref:Qe,children:st,dynamicChildren:tt,shapeFlag:Tt,patchFlag:ke,dirs:ut,cacheIndex:Dt}=N;if(ke===-2&&(Ve=!1),Qe!=null&&(Ys(),hf(Qe,null,pe,N,!0),Ks()),Dt!=null&&(Q.renderCache[Dt]=void 0),Tt&256){Q.ctx.deactivate(N);return}const Nt=Tt&1&&ut,jt=!Zc(N);let xt;if(jt&&(xt=We&&We.onVnodeBeforeUnmount)&&No(xt,Q,N),Tt&6)Me(N.component,pe,W);else{if(Tt&128){N.suspense.unmount(pe,W);return}Nt&&Pu(N,null,Q,"beforeUnmount"),Tt&64?N.type.remove(N,Q,pe,at,W):tt&&!tt.hasOnce&&(Ie!==ht||ke>0&&ke&64)?De(tt,Q,pe,!1,!0):(Ie===ht&&ke&384||!Ve&&Tt&16)&&De(st,Q,pe),W&&se(N)}(jt&&(xt=We&&We.onVnodeUnmounted)||Nt)&&ei(()=>{xt&&No(xt,Q,N),Nt&&Pu(N,null,Q,"unmounted")},pe)},se=N=>{const{type:Q,el:pe,anchor:W,transition:Ve}=N;if(Q===ht){ye(pe,W);return}if(Q===D_){V(N);return}const Ie=()=>{r(pe),Ve&&!Ve.persisted&&Ve.afterLeave&&Ve.afterLeave()};if(N.shapeFlag&1&&Ve&&!Ve.persisted){const{leave:We,delayLeave:Qe}=Ve,st=()=>We(pe,Ie);Qe?Qe(N.el,Ie,st):st()}else Ie()},ye=(N,Q)=>{let pe;for(;N!==Q;)pe=p(N),r(N),N=pe;r(Q)},Me=(N,Q,pe)=>{const{bum:W,scope:Ve,job:Ie,subTree:We,um:Qe,m:st,a:tt,parent:Tt,slots:{__:ke}}=N;yw(st),yw(tt),W&&Jm(W),Tt&&Gt(ke)&&ke.forEach(ut=>{Tt.renderCache[ut]=void 0}),Ve.stop(),Ie&&(Ie.flags|=8,ge(We,N,Q,pe)),Qe&&ei(Qe,Q),ei(()=>{N.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},De=(N,Q,pe,W=!1,Ve=!1,Ie=0)=>{for(let We=Ie;We<N.length;We++)ge(N[We],Q,pe,W,Ve)},R=N=>{if(N.shapeFlag&6)return R(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const Q=p(N.anchor||N.el),pe=Q&&Q[uS];return pe?p(pe):Q};let Oe=!1;const He=(N,Q,pe)=>{N==null?Q._vnode&&ge(Q._vnode,null,null,!0):S(Q._vnode||null,N,Q,null,null,null,pe),Q._vnode=N,Oe||(Oe=!0,lw(),oS(),Oe=!1)},at={p:S,um:ge,m:ee,r:se,mt:Z,mc:H,pc:Ee,pbc:j,n:R,o:e};return{render:He,hydrate:void 0,createApp:kB(He)}}function T_({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Tu({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function EB(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Kg(e,t,n=!1){const a=e.children,r=t.children;if(Gt(a)&&Gt(r))for(let i=0;i<a.length;i++){const o=a[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Fl(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Kg(o,l)),l.type===Hf&&(l.el=o.el),l.type===Sr&&!l.el&&(l.el=o.el)}}function VB(e){const t=e.slice(),n=[0];let a,r,i,o,l;const u=e.length;for(a=0;a<u;a++){const f=e[a];if(f!==0){if(r=n[n.length-1],e[r]<f){t[a]=r,n.push(a);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<f?i=l+1:o=l;f<e[n[i]]&&(i>0&&(t[a]=n[i-1]),n[i]=a)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function $S(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$S(t)}function yw(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const OB=Symbol.for("v-scx"),MB=()=>fn(OB);function fa(e,t){return Gg(e,null,t)}function yt(e,t,n){return Gg(e,t,n)}function Gg(e,t,n=aa){const{immediate:a,deep:r,flush:i,once:o}=n,l=nr({},n),u=t&&a||!t&&i!=="post";let f;if(Cf){if(i==="sync"){const g=MB();f=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=Go,g.resume=Go,g.pause=Go,g}}const d=Cr;l.call=(g,y,S)=>co(g,d,y,S);let m=!1;i==="post"?l.scheduler=g=>{ei(g,d&&d.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(g,y)=>{y?g():qg(g)}),l.augmentJob=g=>{t&&(g.flags|=4),m&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=nB(e,t,l);return Cf&&(f?f.push(p):u&&p()),p}function BB(e,t,n){const a=this.proxy,r=ma(e)?e.includes(".")?LS(a,e):()=>a[e]:e.bind(a,a);let i;ln(t)?i=t:(i=t.handler,n=t);const o=zf(this),l=Gg(r,i.bind(a),n);return o(),l}function LS(e,t){const n=t.split(".");return()=>{let a=e;for(let r=0;r<n.length&&a;r++)a=a[n[r]];return a}}const RB=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ri(t)}Modifiers`]||e[`${Xl(t)}Modifiers`];function FB(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||aa;let r=n;const i=t.startsWith("update:"),o=i&&RB(a,t.slice(7));o&&(o.trim&&(r=n.map(d=>ma(d)?d.trim():d)),o.number&&(r=n.map(lp)));let l,u=a[l=b_(t)]||a[l=b_(ri(t))];!u&&i&&(u=a[l=b_(Xl(t))]),u&&co(u,e,6,r);const f=a[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,co(f,e,6,r)}}function NS(e,t,n=!1){const a=t.emitsCache,r=a.get(e);if(r!==void 0)return r;const i=e.emits;let o={},l=!1;if(!ln(e)){const u=f=>{const d=NS(f,t,!0);d&&(l=!0,nr(o,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(oa(e)&&a.set(e,null),null):(Gt(i)?i.forEach(u=>o[u]=null):nr(o,i),oa(e)&&a.set(e,o),o)}function jh(e,t){return!e||!$h(t)?!1:(t=t.slice(2).replace(/Once$/,""),jn(e,t[0].toLowerCase()+t.slice(1))||jn(e,Xl(t))||jn(e,t))}function bw(e){const{type:t,vnode:n,proxy:a,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:u,render:f,renderCache:d,props:m,data:p,setupState:g,ctx:y,inheritAttrs:S}=e,k=vh(e);let C,w;try{if(n.shapeFlag&4){const V=r||a,O=V;C=zo(f.call(O,V,d,m,g,p,y)),w=l}else{const V=t;C=zo(V.length>1?V(m,{attrs:l,slots:o,emit:u}):V(m,null)),w=t.props?l:$B(l)}}catch(V){_f.length=0,Hh(V,e,1),C=h(Sr)}let I=C;if(w&&S!==!1){const V=Object.keys(w),{shapeFlag:O}=I;V.length&&O&7&&(i&&V.some(Eg)&&(w=LB(w,i)),I=Gs(I,w,!1,!0))}return n.dirs&&(I=Gs(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&Wu(I,n.transition),C=I,vh(k),C}const $B=e=>{let t;for(const n in e)(n==="class"||n==="style"||$h(n))&&((t||(t={}))[n]=e[n]);return t},LB=(e,t)=>{const n={};for(const a in e)(!Eg(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function NB(e,t,n){const{props:a,children:r,component:i}=e,{props:o,children:l,patchFlag:u}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return a?ww(a,o,f):!!o;if(u&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const p=d[m];if(o[p]!==a[p]&&!jh(f,p))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:a===o?!1:a?o?ww(a,o,f):!0:!!o;return!1}function ww(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let r=0;r<a.length;r++){const i=a[r];if(t[i]!==e[i]&&!jh(n,i))return!0}return!1}function qB({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=n,t=t.parent;else break}}const qS=e=>e.__isSuspense;function UB(e,t){t&&t.pendingBranch?Gt(e)?t.effects.push(...e):t.effects.push(e):iB(e)}const ht=Symbol.for("v-fgt"),Hf=Symbol.for("v-txt"),Sr=Symbol.for("v-cmt"),D_=Symbol.for("v-stc"),_f=[];let Pi=null;function de(e=!1){_f.push(Pi=e?null:[])}function HB(){_f.pop(),Pi=_f[_f.length-1]||null}let Sf=1;function kw(e,t=!1){Sf+=e,e<0&&Pi&&t&&(Pi.hasOnce=!0)}function US(e){return e.dynamicChildren=Sf>0?Pi||Gc:null,HB(),Sf>0&&Pi&&Pi.push(e),e}function nt(e,t,n,a,r,i){return US(P(e,t,n,a,r,i,!0))}function ct(e,t,n,a,r){return US(h(e,t,n,a,r,!0))}function id(e){return e?e.__v_isVNode===!0:!1}function Ou(e,t){return e.type===t.type&&e.key===t.key}const HS=({key:e})=>e??null,eh=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ma(e)||Sa(e)||ln(e)?{i:fr,r:e,k:t,f:!!n}:e:null);function P(e,t=null,n=null,a=0,r=null,i=e===ht?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&HS(t),ref:t&&eh(t),scopeId:lS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:fr};return l?(Qg(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=ma(n)?8:16),Sf>0&&!o&&Pi&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Pi.push(u),u}const h=zB;function zB(e,t=null,n=null,a=0,r=null,i=!1){if((!e||e===SS)&&(e=Sr),id(e)){const l=Gs(e,t,!0);return n&&Qg(l,n),Sf>0&&!i&&Pi&&(l.shapeFlag&6?Pi[Pi.indexOf(e)]=l:Pi.push(l)),l.patchFlag=-2,l}if(JB(e)&&(e=e.__vccOpts),t){t=tr(t);let{class:l,style:u}=t;l&&!ma(l)&&(t.class=Ge(l)),oa(u)&&(Ng(u)&&!Gt(u)&&(u=nr({},u)),t.style=vt(u))}const o=ma(e)?1:qS(e)?128:cS(e)?64:oa(e)?4:ln(e)?2:0;return P(e,t,n,a,r,o,i,!0)}function tr(e){return e?Ng(e)||VS(e)?nr({},e):e:null}function Gs(e,t,n=!1,a=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:u}=e,f=t?it(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&HS(f),ref:t&&t.ref?n&&i?Gt(i)?i.concat(eh(t)):[i,eh(t)]:eh(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ht?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gs(e.ssContent),ssFallback:e.ssFallback&&Gs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&a&&Wu(d,u.clone(d)),d}function Ye(e=" ",t=0){return h(Hf,null,e,t)}function Ke(e="",t=!1){return t?(de(),ct(Sr,null,e)):h(Sr,null,e)}function zo(e){return e==null||typeof e=="boolean"?h(Sr):Gt(e)?h(ht,null,e.slice()):id(e)?Fl(e):h(Hf,null,String(e))}function Fl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gs(e)}function Qg(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Gt(t))n=16;else if(typeof t=="object")if(a&65){const r=t.default;r&&(r._c&&(r._d=!1),Qg(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!VS(t)?t._ctx=fr:r===3&&fr&&(fr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ln(t)?(t={default:t,_ctx:fr},n=32):(t=String(t),a&64?(n=16,t=[Ye(t)]):n=8);e.children=t,e.shapeFlag|=n}function it(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const r in a)if(r==="class")t.class!==a.class&&(t.class=Ge([t.class,a.class]));else if(r==="style")t.style=vt([t.style,a.style]);else if($h(r)){const i=t[r],o=a[r];o&&i!==o&&!(Gt(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=a[r])}return t}function No(e,t,n,a=null){co(e,t,7,[n,a])}const WB=IS();let jB=0;function YB(e,t,n){const a=e.type,r=(t?t.appContext:e.appContext)||WB,i={uid:jB++,vnode:e,type:a,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $k(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:MS(a,r),emitsOptions:NS(a,r),emit:null,emitted:null,propsDefaults:aa,inheritAttrs:a.inheritAttrs,ctx:aa,data:aa,props:aa,attrs:aa,slots:aa,refs:aa,setupState:aa,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=FB.bind(null,i),e.ce&&e.ce(i),i}let Cr=null;const xd=()=>Cr||fr;let ph,pp;{const e=qh(),t=(n,a)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(a),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};ph=t("__VUE_INSTANCE_SETTERS__",n=>Cr=n),pp=t("__VUE_SSR_SETTERS__",n=>Cf=n)}const zf=e=>{const t=Cr;return ph(e),e.scope.on(),()=>{e.scope.off(),ph(t)}},Sw=()=>{Cr&&Cr.scope.off(),ph(null)};function zS(e){return e.vnode.shapeFlag&4}let Cf=!1;function KB(e,t=!1,n=!1){t&&pp(t);const{props:a,children:r}=e.vnode,i=zS(e);SB(e,a,i,t),TB(e,r,n||t);const o=i?GB(e,t):void 0;return t&&pp(!1),o}function GB(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hB);const{setup:a}=n;if(a){Ys();const r=e.setupContext=a.length>1?jS(e):null,i=zf(e),o=Uf(a,e,0,[e.props,r]),l=Vk(o);if(Ks(),i(),(l||e.sp)&&!Zc(e)&&yS(e),l){if(o.then(Sw,Sw),t)return o.then(u=>{Cw(e,u)}).catch(u=>{Hh(u,e,0)});e.asyncDep=o}else Cw(e,o)}else WS(e)}function Cw(e,t,n){ln(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:oa(t)&&(e.setupState=nS(t)),WS(e)}function WS(e,t,n){const a=e.type;e.render||(e.render=a.render||Go);{const r=zf(e);Ys();try{_B(e)}finally{Ks(),r()}}}const QB={get(e,t){return $r(e,"get",""),e[t]}};function jS(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,QB),slots:e.slots,emit:e.emit,expose:t}}function Yh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nS(eS(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vf)return vf[n](e)},has(t,n){return n in t||n in vf}})):e.proxy}function XB(e,t=!0){return ln(e)?e.displayName||e.name:e.name||t&&e.__name}function JB(e){return ln(e)&&"__vccOpts"in e}const L=(e,t)=>eB(e,t,Cf);function rs(e,t,n){const a=arguments.length;return a===2?oa(t)&&!Gt(t)?id(t)?h(e,null,[t]):h(e,t):h(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&id(n)&&(n=[n]),h(e,t,n))}const ZB="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gp;const xw=typeof window<"u"&&window.trustedTypes;if(xw)try{gp=xw.createPolicy("vue",{createHTML:e=>e})}catch{}const YS=gp?e=>gp.createHTML(e):e=>e,eR="http://www.w3.org/2000/svg",tR="http://www.w3.org/1998/Math/MathML",Ns=typeof document<"u"?document:null,Pw=Ns&&Ns.createElement("template"),nR={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const r=t==="svg"?Ns.createElementNS(eR,e):t==="mathml"?Ns.createElementNS(tR,e):n?Ns.createElement(e,{is:n}):Ns.createElement(e);return e==="select"&&a&&a.multiple!=null&&r.setAttribute("multiple",a.multiple),r},createText:e=>Ns.createTextNode(e),createComment:e=>Ns.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ns.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Pw.innerHTML=YS(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const l=Pw.content;if(a==="svg"||a==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},El="transition",Jd="animation",od=Symbol("_vtc"),KS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},GS=nr({},vS,KS),aR=e=>(e.displayName="Transition",e.props=GS,e),hi=aR((e,{slots:t})=>rs(lB,QS(e),t)),Du=(e,t=[])=>{Gt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Tw=e=>e?Gt(e)?e.some(t=>t.length>1):e.length>1:!1;function QS(e){const t={};for(const F in e)F in KS||(t[F]=e[F]);if(e.css===!1)return t;const{name:n="v",type:a,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:f=o,appearToClass:d=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,y=rR(r),S=y&&y[0],k=y&&y[1],{onBeforeEnter:C,onEnter:w,onEnterCancelled:I,onLeave:V,onLeaveCancelled:O,onBeforeAppear:U=C,onAppear:Y=w,onAppearCancelled:H=I}=t,B=(F,ce,Z,le)=>{F._enterCancelled=le,Ml(F,ce?d:l),Ml(F,ce?f:o),Z&&Z()},j=(F,ce)=>{F._isLeaving=!1,Ml(F,m),Ml(F,g),Ml(F,p),ce&&ce()},G=F=>(ce,Z)=>{const le=F?Y:w,ae=()=>B(ce,F,Z);Du(le,[ce,ae]),Dw(()=>{Ml(ce,F?u:i),Uo(ce,F?d:l),Tw(le)||Iw(ce,a,S,ae)})};return nr(t,{onBeforeEnter(F){Du(C,[F]),Uo(F,i),Uo(F,o)},onBeforeAppear(F){Du(U,[F]),Uo(F,u),Uo(F,f)},onEnter:G(!1),onAppear:G(!0),onLeave(F,ce){F._isLeaving=!0;const Z=()=>j(F,ce);Uo(F,m),F._enterCancelled?(Uo(F,p),yp()):(yp(),Uo(F,p)),Dw(()=>{F._isLeaving&&(Ml(F,m),Uo(F,g),Tw(V)||Iw(F,a,k,Z))}),Du(V,[F,Z])},onEnterCancelled(F){B(F,!1,void 0,!0),Du(I,[F])},onAppearCancelled(F){B(F,!0,void 0,!0),Du(H,[F])},onLeaveCancelled(F){j(F),Du(O,[F])}})}function rR(e){if(e==null)return null;if(oa(e))return[I_(e.enter),I_(e.leave)];{const t=I_(e);return[t,t]}}function I_(e){return kM(e)}function Uo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[od]||(e[od]=new Set)).add(t)}function Ml(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const n=e[od];n&&(n.delete(t),n.size||(e[od]=void 0))}function Dw(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let iR=0;function Iw(e,t,n,a){const r=e._endId=++iR,i=()=>{r===e._endId&&a()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:u}=XS(e,t);if(!o)return a();const f=o+"end";let d=0;const m=()=>{e.removeEventListener(f,p),i()},p=g=>{g.target===e&&++d>=u&&m()};setTimeout(()=>{d<u&&m()},l+1),e.addEventListener(f,p)}function XS(e,t){const n=window.getComputedStyle(e),a=y=>(n[y]||"").split(", "),r=a(`${El}Delay`),i=a(`${El}Duration`),o=Aw(r,i),l=a(`${Jd}Delay`),u=a(`${Jd}Duration`),f=Aw(l,u);let d=null,m=0,p=0;t===El?o>0&&(d=El,m=o,p=i.length):t===Jd?f>0&&(d=Jd,m=f,p=u.length):(m=Math.max(o,f),d=m>0?o>f?El:Jd:null,p=d?d===El?i.length:u.length:0);const g=d===El&&/\b(transform|all)(,|$)/.test(a(`${El}Property`).toString());return{type:d,timeout:m,propCount:p,hasTransform:g}}function Aw(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,a)=>Ew(n)+Ew(e[a])))}function Ew(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function yp(){return document.body.offsetHeight}function oR(e,t,n){const a=e[od];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const gh=Symbol("_vod"),JS=Symbol("_vsh"),Aa={beforeMount(e,{value:t},{transition:n}){e[gh]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Zd(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),Zd(e,!0),a.enter(e)):a.leave(e,()=>{Zd(e,!1)}):Zd(e,t))},beforeUnmount(e,{value:t}){Zd(e,t)}};function Zd(e,t){e.style.display=t?e[gh]:"none",e[JS]=!t}const sR=Symbol(""),lR=/(^|;)\s*display\s*:/;function uR(e,t,n){const a=e.style,r=ma(n);let i=!1;if(n&&!r){if(t)if(ma(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&th(a,l,"")}else for(const o in t)n[o]==null&&th(a,o,"");for(const o in n)o==="display"&&(i=!0),th(a,o,n[o])}else if(r){if(t!==n){const o=a[sR];o&&(n+=";"+o),a.cssText=n,i=lR.test(n)}}else t&&e.removeAttribute("style");gh in e&&(e[gh]=i?a.display:"",e[JS]&&(a.display="none"))}const Vw=/\s*!important$/;function th(e,t,n){if(Gt(n))n.forEach(a=>th(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=cR(e,t);Vw.test(n)?e.setProperty(Xl(a),n.replace(Vw,""),"important"):e[a]=n}}const Ow=["Webkit","Moz","ms"],A_={};function cR(e,t){const n=A_[t];if(n)return n;let a=ri(t);if(a!=="filter"&&a in e)return A_[t]=a;a=ns(a);for(let r=0;r<Ow.length;r++){const i=Ow[r]+a;if(i in e)return A_[t]=i}return t}const Mw="http://www.w3.org/1999/xlink";function Bw(e,t,n,a,r,i=DM(t)){a&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Mw,t.slice(6,t.length)):e.setAttributeNS(Mw,t,n):n==null||i&&!Bk(n)?e.removeAttribute(t):e.setAttribute(t,i?"":al(n)?String(n):n)}function Rw(e,t,n,a,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?YS(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Bk(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function zc(e,t,n,a){e.addEventListener(t,n,a)}function dR(e,t,n,a){e.removeEventListener(t,n,a)}const Fw=Symbol("_vei");function fR(e,t,n,a,r=null){const i=e[Fw]||(e[Fw]={}),o=i[t];if(a&&o)o.value=a;else{const[l,u]=mR(t);if(a){const f=i[t]=_R(a,r);zc(e,l,f,u)}else o&&(dR(e,l,o,u),i[t]=void 0)}}const $w=/(?:Once|Passive|Capture)$/;function mR(e){let t;if($w.test(e)){t={};let a;for(;a=e.match($w);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xl(e.slice(2)),t]}let E_=0;const hR=Promise.resolve(),vR=()=>E_||(hR.then(()=>E_=0),E_=Date.now());function _R(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;co(pR(a,n.value),t,5,[a])};return n.value=e,n.attached=vR(),n}function pR(e,t){if(Gt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>r=>!r._stopped&&a&&a(r))}else return t}const Lw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gR=(e,t,n,a,r,i)=>{const o=r==="svg";t==="class"?oR(e,a,o):t==="style"?uR(e,n,a):$h(t)?Eg(t)||fR(e,t,n,a,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yR(e,t,a,o))?(Rw(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Bw(e,t,a,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ma(a))?Rw(e,ri(t),a,i,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Bw(e,t,a,o))};function yR(e,t,n,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lw(t)&&ln(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Lw(t)&&ma(n)?!1:t in e}const ZS=new WeakMap,eC=new WeakMap,yh=Symbol("_moveCb"),Nw=Symbol("_enterCb"),bR=e=>(delete e.props.mode,e),wR=bR({name:"TransitionGroup",props:nr({},GS,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=xd(),a=hS();let r,i;return Wg(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!xR(r[0].el,n.vnode.el,o)){r=[];return}r.forEach(kR),r.forEach(SR);const l=r.filter(CR);yp(),l.forEach(u=>{const f=u.el,d=f.style;Uo(f,o),d.transform=d.webkitTransform=d.transitionDuration="";const m=f[yh]=p=>{p&&p.target!==f||(!p||/transform$/.test(p.propertyName))&&(f.removeEventListener("transitionend",m),f[yh]=null,Ml(f,o))};f.addEventListener("transitionend",m)}),r=[]}),()=>{const o=Yt(e),l=QS(o);let u=o.tag||ht;if(r=[],i)for(let f=0;f<i.length;f++){const d=i[f];d.el&&d.el instanceof Element&&(r.push(d),Wu(d,kf(d,l,a,n)),ZS.set(d,d.el.getBoundingClientRect()))}i=t.default?Ug(t.default()):[];for(let f=0;f<i.length;f++){const d=i[f];d.key!=null&&Wu(d,kf(d,l,a,n))}return h(u,null,i)}}}),Xg=wR;function kR(e){const t=e.el;t[yh]&&t[yh](),t[Nw]&&t[Nw]()}function SR(e){eC.set(e,e.el.getBoundingClientRect())}function CR(e){const t=ZS.get(e),n=eC.get(e),a=t.left-n.left,r=t.top-n.top;if(a||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${a}px,${r}px)`,i.transitionDuration="0s",e}}function xR(e,t,n){const a=e.cloneNode(),r=e[od];r&&r.forEach(l=>{l.split(/\s+/).forEach(u=>u&&a.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&a.classList.add(l)),a.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(a);const{hasTransform:o}=XS(a);return i.removeChild(a),o}const qw=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Gt(t)?n=>Jm(t,n):t};function PR(e){e.target.composing=!0}function Uw(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const V_=Symbol("_assign"),TR={created(e,{modifiers:{lazy:t,trim:n,number:a}},r){e[V_]=qw(r);const i=a||r.props&&r.props.type==="number";zc(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=lp(l)),e[V_](l)}),n&&zc(e,"change",()=>{e.value=e.value.trim()}),t||(zc(e,"compositionstart",PR),zc(e,"compositionend",Uw),zc(e,"change",Uw))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:r,number:i}},o){if(e[V_]=qw(o),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?lp(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(a&&t===n||r&&e.value.trim()===u)||(e.value=u))}},DR=["ctrl","shift","alt","meta"],IR={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>DR.some(n=>e[`${n}Key`]&&!t.includes(n))},Ka=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(r,...i)=>{for(let o=0;o<t.length;o++){const l=IR[t[o]];if(l&&l(r,t))return}return e(r,...i)})},AR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mu=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=r=>{if(!("key"in r))return;const i=Xl(r.key);if(t.some(o=>o===i||AR[o]===i))return e(r)})},ER=nr({patchProp:gR},nR);let Hw;function tC(){return Hw||(Hw=IB(ER))}const bh=(...e)=>{tC().render(...e)},VR=(...e)=>{const t=tC().createApp(...e),{mount:n}=t;return t.mount=a=>{const r=MR(a);if(!r)return;const i=t._component;!ln(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,OR(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function OR(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function MR(e){return ma(e)?document.querySelector(e):e}function ai(e,t){let n;function a(){n=rd(),n.run(()=>t.length?t(()=>{n==null||n.stop(),a()}):t())}yt(e,r=>{r&&!n?a():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),Ga(()=>{n==null||n.stop()})}const On=typeof window<"u",Jg=On&&"IntersectionObserver"in window,BR=On&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),zw=On&&"EyeDropper"in window;function Ww(e,t,n){RR(e,t),t.set(e,n)}function RR(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jw(e,t,n){return e.set(nC(e,t),n),n}function $s(e,t){return e.get(nC(e,t))}function nC(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function aC(e,t,n){const a=t.length-1;if(a<0)return e===void 0?n:e;for(let r=0;r<a;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[a]]===void 0?n:e[t[a]]}function Pr(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(a=>Pr(e[a],t[a]))}function ju(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),aC(e,t.split("."),n))}function La(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return ju(e,t,n);if(Array.isArray(t))return aC(e,t,n);if(typeof t!="function")return n;const a=t(e,n);return typeof a>"u"?n:a}function Yo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,a)=>t+a)}function Vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const n=Number(e);return isNaN(n)?String(e):isFinite(n)?`${n}${t}`:void 0}function xf(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Yw(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function Zg(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const Kw=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),bp=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function rC(e){return Object.keys(e)}function Bu(e,t){return t.every(n=>e.hasOwnProperty(n))}function Jl(e,t){const n={};for(const a of t)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function wp(e,t,n){const a=Object.create(null),r=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)?a[i]=e[i]:r[i]=e[i];return[a,r]}function ha(e,t){const n={...e};return t.forEach(a=>delete n[a]),n}const iC=/^on[^a-z]/,ey=e=>iC.test(e),FR=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],$R=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function LR(e){return e.isComposing&&$R.includes(e.key)}function Zl(e){const[t,n]=wp(e,[iC]),a=ha(t,FR),[r,i]=wp(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(i,a),[r,i]}function da(e){return e==null?[]:Array.isArray(e)?e:[e]}function NR(e,t){let n=0;const a=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...i),Ae(t))};return a.clear=()=>{clearTimeout(n)},a.immediate=e,a}function Xn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function Gw(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function Qw(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Xw(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function qR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let a=0;for(;a<e.length;)n.push(e.substr(a,t)),a+=t;return n}function Jw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let a=-1;for(;Math.abs(e)>=t&&a<n.length-1;)e/=t,++a;return`${e.toFixed(1)} ${n[a]}B`}function Lr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const a={};for(const r in e)a[r]=e[r];for(const r in t){const i=e[r],o=t[r];if(Yw(i)&&Yw(o)){a[r]=Lr(i,o,n);continue}if(n&&Array.isArray(i)&&Array.isArray(o)){a[r]=n(i,o);continue}a[r]=o}return a}function oC(e){return e.map(t=>t.type===ht?oC(t.children):t).flat()}function Nu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Nu.cache.has(e))return Nu.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Nu.cache.set(e,t),t}Nu.cache=new Map;function jc(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>jc(e,n)).flat(1);if(t.suspense)return jc(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>jc(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return jc(e,t.component.subTree).flat(1)}return[]}var Rc=new WeakMap,Iu=new WeakMap;class sC{constructor(t){Ww(this,Rc,[]),Ww(this,Iu,0),this.size=t}get isFull(){return $s(Rc,this).length===this.size}push(t){$s(Rc,this)[$s(Iu,this)]=t,jw(Iu,this,($s(Iu,this)+1)%this.size)}values(){return $s(Rc,this).slice($s(Iu,this)).concat($s(Rc,this).slice(0,$s(Iu,this)))}clear(){$s(Rc,this).length=0,jw(Iu,this,0)}}function UR(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function ty(e){const t=Ia({});fa(()=>{const a=e();for(const r in a)t[r]=a[r]},{flush:"sync"});const n={};for(const a in t)n[a]=Pe(()=>t[a]);return n}function wh(e,t){return e.includes(t)}function lC(e){return e[2].toLowerCase()+e.slice(3)}const mr=()=>[Function,Array];function Zw(e,t){return t="on"+ns(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Kh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function Pf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(a=>`${a}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function uC(e,t,n){let a,r=e.indexOf(document.activeElement);const i=t==="next"?1:-1;do r+=i,a=e[r];while((!a||a.offsetParent==null||!((n==null?void 0:n(a))??!0))&&r<e.length&&r>=0);return a}function qu(e,t){var a,r,i,o;const n=Pf(e);if(t==null)(e===document.activeElement||!e.contains(document.activeElement))&&((a=n[0])==null||a.focus());else if(t==="first")(r=n[0])==null||r.focus();else if(t==="last")(i=n.at(-1))==null||i.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const l=uC(n,t);l?l.focus():qu(e,t==="next"?"first":"last")}}function zm(e){return e==null||typeof e=="string"&&e.trim()===""}function cC(){}function sd(e,t){if(!(On&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function Gh(e){return e.some(t=>id(t)?t.type===Sr?!1:t.type!==ht||Gh(t.children):!0)?e:null}function HR(e,t){if(!On||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function zR(e,t){const n=e.clientX,a=e.clientY,r=t.getBoundingClientRect(),i=r.left,o=r.top,l=r.right,u=r.bottom;return n>=i&&n<=l&&a>=o&&a<=u}function kh(){const e=kt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>Zg(e.value)}),t}function ld(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}function dC(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}function WR(e,t){const n=e.split("").filter(a=>/[\d\-.]/.test(a)).filter((a,r,i)=>r===0&&/[-]/.test(a)||a==="."&&r===i.indexOf(".")||/\d/.test(a)).join("");if(t===0)return n.split(".")[0];if(t!==null&&/\.\d/.test(n)){const a=n.split(".");return[a[0],a[1].substring(0,t)].join(".")}return n}function jR(e){const t={};for(const n in e)t[ri(n)]=e[n];return t}function YR(e){const t=["checked","disabled"];return Object.fromEntries(Object.entries(e).filter(n=>{let[a,r]=n;return t.includes(a)?!!r:r!==void 0}))}const fC=["top","bottom"],KR=["start","end","left","right"];function kp(e,t){let[n,a]=e.split(" ");return a||(a=wh(fC,n)?"start":wh(KR,n)?"top":"center"),{side:Sp(n,t),align:Sp(a,t)}}function Sp(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function O_(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function M_(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function e1(e){return{side:e.align,align:e.side}}function t1(e){return wh(fC,e.side)?"y":"x"}class Qo{constructor(t){let{x:n,y:a,width:r,height:i}=t;this.x=n,this.y=a,this.width=r,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function n1(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function mC(e){return Array.isArray(e)?new Qo({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function GR(e){if(e===document.documentElement)return visualViewport?new Qo({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Qo({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const t=e.getBoundingClientRect();return new Qo({x:t.x,y:t.y,width:e.clientWidth,height:e.clientHeight})}}function ny(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),a=n.transform;if(a){let r,i,o,l,u;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),i=Number(r[0]),o=Number(r[5]),l=Number(r[12]),u=Number(r[13]);else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),i=Number(r[0]),o=Number(r[3]),l=Number(r[4]),u=Number(r[5]);else return new Qo(t);const f=n.transformOrigin,d=t.x-l-(1-i)*parseFloat(f),m=t.y-u-(1-o)*parseFloat(f.slice(f.indexOf(" ")+1)),p=i?t.width/i:e.offsetWidth+1,g=o?t.height/o:e.offsetHeight+1;return new Qo({x:d,y:m,width:p,height:g})}else return new Qo(t)}function Ru(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(r=>{a.onfinish=()=>{r(a)}})),a}const nh=new WeakMap;function QR(e,t){Object.keys(t).forEach(n=>{if(ey(n)){const a=lC(n),r=nh.get(e);if(t[n]==null)r==null||r.forEach(i=>{const[o,l]=i;o===a&&(e.removeEventListener(a,l),r.delete(i))});else if(!r||![...r].some(i=>i[0]===a&&i[1]===t[n])){e.addEventListener(a,t[n]);const i=r||new Set;i.add([a,t[n]]),nh.has(e)||nh.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function XR(e,t){Object.keys(t).forEach(n=>{if(ey(n)){const a=lC(n),r=nh.get(e);r==null||r.forEach(i=>{const[o,l]=i;o===a&&(e.removeEventListener(a,l),r.delete(i))})}else e.removeAttribute(n)})}const Fc=2.4,a1=.2126729,r1=.7151522,i1=.072175,JR=.55,ZR=.58,eF=.57,tF=.62,Wm=.03,o1=1.45,nF=5e-4,aF=1.25,rF=1.25,s1=.078,l1=12.82051282051282,jm=.06,u1=.001;function c1(e,t){const n=(e.r/255)**Fc,a=(e.g/255)**Fc,r=(e.b/255)**Fc,i=(t.r/255)**Fc,o=(t.g/255)**Fc,l=(t.b/255)**Fc;let u=n*a1+a*r1+r*i1,f=i*a1+o*r1+l*i1;if(u<=Wm&&(u+=(Wm-u)**o1),f<=Wm&&(f+=(Wm-f)**o1),Math.abs(f-u)<nF)return 0;let d;if(f>u){const m=(f**JR-u**ZR)*aF;d=m<u1?0:m<s1?m-m*l1*jm:m-jm}else{const m=(f**tF-u**eF)*rF;d=m>-u1?0:m>-s1?m-m*l1*jm:m+jm}return d*100}function iF(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Sh=.20689655172413793,oF=e=>e>Sh**3?Math.cbrt(e):e/(3*Sh**2)+4/29,sF=e=>e>Sh?e**3:3*Sh**2*(e-4/29);function hC(e){const t=oF,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function vC(e){const t=sF,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const lF=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],uF=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,cF=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],dF=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function _C(e){const t=Array(3),n=uF,a=lF;for(let r=0;r<3;++r)t[r]=Math.round(Xn(n(a[r][0]*e[0]+a[r][1]*e[1]+a[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function ay(e){let{r:t,g:n,b:a}=e;const r=[0,0,0],i=dF,o=cF;t=i(t/255),n=i(n/255),a=i(a/255);for(let l=0;l<3;++l)r[l]=o[l][0]*t+o[l][1]*n+o[l][2]*a;return r}function Cp(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function fF(e){return Cp(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const d1=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,mF={rgb:(e,t,n,a)=>({r:e,g:t,b:n,a}),rgba:(e,t,n,a)=>({r:e,g:t,b:n,a}),hsl:(e,t,n,a)=>f1({h:e,s:t,l:n,a}),hsla:(e,t,n,a)=>f1({h:e,s:t,l:n,a}),hsv:(e,t,n,a)=>Zo({h:e,s:t,v:n,a}),hsva:(e,t,n,a)=>Zo({h:e,s:t,v:n,a})};function Ti(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&d1.test(e)){const{groups:t}=e.match(d1),{fn:n,values:a}=t,r=a.split(/,\s*|\s*\/\s*|\s+/).map((i,o)=>i.endsWith("%")||o>0&&o<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return mF[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),bC(t)}else if(typeof e=="object"){if(Bu(e,["r","g","b"]))return e;if(Bu(e,["h","s","l"]))return Zo(ry(e));if(Bu(e,["h","s","v"]))return Zo(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Zo(e){const{h:t,s:n,v:a,a:r}=e,i=l=>{const u=(l+t/60)%6;return a-a*n*Math.max(Math.min(u,4-u,1),0)},o=[i(5),i(3),i(1)].map(l=>Math.round(l*255));return{r:o[0],g:o[1],b:o[2],a:r}}function f1(e){return Zo(ry(e))}function Wf(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,a=e.b/255,r=Math.max(t,n,a),i=Math.min(t,n,a);let o=0;r!==i&&(r===t?o=60*(0+(n-a)/(r-i)):r===n?o=60*(2+(a-t)/(r-i)):r===a&&(o=60*(4+(t-n)/(r-i)))),o<0&&(o=o+360);const l=r===0?0:(r-i)/r,u=[o,l,r];return{h:u[0],s:u[1],v:u[2],a:e.a}}function xp(e){const{h:t,s:n,v:a,a:r}=e,i=a-a*n/2,o=i===1||i===0?0:(a-i)/Math.min(i,1-i);return{h:t,s:o,l:i,a:r}}function ry(e){const{h:t,s:n,l:a,a:r}=e,i=a+n*Math.min(a,1-a),o=i===0?0:2-2*a/i;return{h:t,s:o,v:i,a:r}}function pC(e){let{r:t,g:n,b:a,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${a})`:`rgba(${t}, ${n}, ${a}, ${r})`}function gC(e){return pC(Zo(e))}function Ym(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function yC(e){let{r:t,g:n,b:a,a:r}=e;return`#${[Ym(t),Ym(n),Ym(a),r!==void 0?Ym(Math.round(r*255)):""].join("")}`}function bC(e){e=vF(e);let[t,n,a,r]=qR(e,2).map(i=>parseInt(i,16));return r=r===void 0?r:r/255,{r:t,g:n,b:a,a:r}}function hF(e){const t=bC(e);return Wf(t)}function wC(e){return yC(Zo(e))}function vF(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Qw(Qw(e,6),8,"F")),e}function _F(e,t){const n=hC(ay(e));return n[0]=n[0]+t*10,_C(vC(n))}function pF(e,t){const n=hC(ay(e));return n[0]=n[0]-t*10,_C(vC(n))}function Pp(e){const t=Ti(e);return ay(t)[1]}function gF(e,t){const n=Pp(e),a=Pp(t),r=Math.max(n,a),i=Math.min(n,a);return(r+.05)/(i+.05)}function kC(e){const t=Math.abs(c1(Ti(0),Ti(e)));return Math.abs(c1(Ti(16777215),Ti(e)))>Math.min(t,50)?"#fff":"#000"}function ze(e,t){return n=>Object.keys(e).reduce((a,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?a[r]={...o,default:n[r]}:a[r]=o,t&&!a[r].source&&(a[r].source=t),a},{})}const Ot=ze({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Ca(e,t){const n=xd();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function is(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Ca(e).type;return Nu((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}function yF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ca("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const ud=Symbol.for("vuetify:defaults");function bF(e){return Ne(e)}function iy(){const e=fn(ud);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function va(e,t){const n=iy(),a=Ne(e),r=L(()=>{if(Ae(t==null?void 0:t.disabled))return n.value;const o=Ae(t==null?void 0:t.scoped),l=Ae(t==null?void 0:t.reset),u=Ae(t==null?void 0:t.root);if(a.value==null&&!(o||l||u))return n.value;let f=Lr(a.value,{prev:n.value});if(o)return f;if(l||u){const d=Number(l||1/0);for(let m=0;m<=d&&!(!f||!("prev"in f));m++)f=f.prev;return f&&typeof u=="string"&&u in f&&(f=Lr(Lr(f,{prev:f}),f[u])),f}return f.prev?Lr(f.prev,f):f});return ra(ud,r),r}function wF(e,t){return e.props&&(typeof e.props[t]<"u"||typeof e.props[Nu(t)]<"u")}function kF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iy();const a=Ca("useDefaults");if(t=t??a.type.name??a.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=L(()=>{var u;return(u=n.value)==null?void 0:u[e._as??t]}),i=new Proxy(e,{get(u,f){var g,y,S,k;const d=Reflect.get(u,f);if(f==="class"||f==="style")return[(g=r.value)==null?void 0:g[f],d].filter(C=>C!=null);if(wF(a.vnode,f))return d;const m=(y=r.value)==null?void 0:y[f];if(m!==void 0)return m;const p=(k=(S=n.value)==null?void 0:S.global)==null?void 0:k[f];return p!==void 0?p:d}}),o=kt();fa(()=>{if(r.value){const u=Object.entries(r.value).filter(f=>{let[d]=f;return d.startsWith(d[0].toUpperCase())});o.value=u.length?Object.fromEntries(u):void 0}else o.value=void 0});function l(){const u=yF(ud,a);ra(ud,L(()=>o.value?Lr((u==null?void 0:u.value)??{},o.value):u==null?void 0:u.value))}return{props:i,provideSubDefaults:l}}function Ii(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=ze(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(a){return Jl(a,t)},e.props._as=String,e.setup=function(a,r){const i=iy();if(!i.value)return e._setup(a,r);const{props:o,provideSubDefaults:l}=kF(a,a._as??e.name,i),u=e._setup(o,r);return l(),u}}return e}function ot(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Ii:ar)(t)}function SF(e,t){return t.props=e,t}function os(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ot()({name:n??ns(ri(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ot()},setup(a,r){let{slots:i}=r;return()=>{var o;return rs(a.tag,{class:[e,a.class],style:a.style},(o=i.default)==null?void 0:o.call(i))}}})}function SC(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Tf="cubic-bezier(0.4, 0, 0.2, 1)",CF="cubic-bezier(0.0, 0, 0.2, 1)",xF="cubic-bezier(0.4, 0, 1, 1)";function m1(e,t,n){return Object.keys(e).filter(a=>ey(a)&&a.endsWith(t)).reduce((a,r)=>(a[r.slice(0,-t.length)]=i=>e[r](i,n(i)),a),{})}function oy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?PF(e):sy(e))return e;e=e.parentElement}return document.scrollingElement}function Ch(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(sy(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function sy(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function PF(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function TF(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function dt(e){const t=Ca("useRender");t.render=e}function Lt(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m=>m,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:m=>m;const i=Ca("useProxiedModel"),o=Ne(e[t]!==void 0?e[t]:n),l=Nu(t),f=L(l!==t?()=>{var m,p,g,y;return e[t],!!(((m=i.vnode.props)!=null&&m.hasOwnProperty(t)||(p=i.vnode.props)!=null&&p.hasOwnProperty(l))&&((g=i.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${t}`)||(y=i.vnode.props)!=null&&y.hasOwnProperty(`onUpdate:${l}`)))}:()=>{var m,p;return e[t],!!((m=i.vnode.props)!=null&&m.hasOwnProperty(t)&&((p=i.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${t}`)))});ai(()=>!f.value,()=>{yt(()=>e[t],m=>{o.value=m})});const d=L({get(){const m=e[t];return a(f.value?m:o.value)},set(m){const p=r(m),g=Yt(f.value?e[t]:o.value);g===p||a(g)===m||(o.value=p,i==null||i.emit(`update:${t}`,p))}});return Object.defineProperty(d,"externalValue",{get:()=>f.value?e[t]:o.value}),d}const DF={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},h1="$vuetify.",v1=(e,t)=>e.replace(/\{(\d+)\}/g,(n,a)=>String(t[Number(a)])),CC=(e,t,n)=>function(a){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(!a.startsWith(h1))return v1(a,i);const l=a.replace(h1,""),u=e.value&&n.value[e.value],f=t.value&&n.value[t.value];let d=ju(u,l,null);return d||(`${a}${e.value}`,d=ju(f,l,null)),d||(d=a),typeof d!="string"&&(d=a),v1(d,i)};function xC(e,t){return(n,a)=>new Intl.NumberFormat([e.value,t.value],a).format(n)}function B_(e,t,n){const a=Lt(e,t,e[t]??n.value);return a.value=e[t]??n.value,yt(n,r=>{e[t]==null&&(a.value=n.value)}),a}function PC(e){return t=>{const n=B_(t,"locale",e.current),a=B_(t,"fallback",e.fallback),r=B_(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:a,messages:r,t:CC(n,a,r),n:xC(n,a),provide:PC({current:n,fallback:a,messages:r})}}}function IF(e){const t=kt((e==null?void 0:e.locale)??"en"),n=kt((e==null?void 0:e.fallback)??"en"),a=Ne({en:DF,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:a,t:CC(t,n,a),n:xC(t,n),provide:PC({current:t,fallback:n,messages:a})}}const cd=Symbol.for("vuetify:locale");function AF(e){return e.name!=null}function EF(e){const t=e!=null&&e.adapter&&AF(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:IF(e),n=MF(t,e);return{...t,...n}}function _a(){const e=fn(cd);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function VF(e){const t=fn(cd);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),a=BF(n,t.rtl,e),r={...n,...a};return ra(cd,r),r}function OF(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function MF(e,t){const n=Ne((t==null?void 0:t.rtl)??OF()),a=L(()=>n.value[e.current.value]??!1);return{isRtl:a,rtl:n,rtlClasses:Pe(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function BF(e,t,n){const a=L(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:a,rtl:t,rtlClasses:Pe(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function Ua(){const e=fn(cd);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}function jf(e){const t=e.slice(-2).toUpperCase();switch(!0){case e==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case e==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(t):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(t):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(t):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(t):return{firstDay:6,firstWeekSize:1};case t==="MV":return{firstDay:5,firstWeekSize:1};case t==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function RF(e,t,n){var d;const a=[];let r=[];const i=TC(e),o=DC(e),l=n??((d=jf(t))==null?void 0:d.firstDay)??0,u=(i.getDay()-l+7)%7,f=(o.getDay()-l+7)%7;for(let m=0;m<u;m++){const p=new Date(i);p.setDate(p.getDate()-(u-m)),r.push(p)}for(let m=1;m<=o.getDate();m++){const p=new Date(e.getFullYear(),e.getMonth(),m);r.push(p),r.length===7&&(a.push(r),r=[])}for(let m=1;m<7-f;m++){const p=new Date(o);p.setDate(p.getDate()+m),r.push(p)}return r.length>0&&a.push(r),a}function Tp(e,t,n){var i;const a=n??((i=jf(t))==null?void 0:i.firstDay)??0,r=new Date(e);for(;r.getDay()!==a;)r.setDate(r.getDate()-1);return r}function FF(e,t){var r;const n=new Date(e),a=((((r=jf(t))==null?void 0:r.firstDay)??0)+6)%7;for(;n.getDay()!==a;)n.setDate(n.getDate()+1);return n}function TC(e){return new Date(e.getFullYear(),e.getMonth(),1)}function DC(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function $F(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const LF=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function IC(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(LF.test(e))return $F(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const _1=new Date(2e3,0,2);function NF(e,t){var a;const n=t??((a=jf(e))==null?void 0:a.firstDay)??0;return Yo(7).map(r=>{const i=new Date(_1);return i.setDate(_1.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(i)})}function qF(e,t,n,a){const r=IC(e)??new Date,i=a==null?void 0:a[t];if(typeof i=="function")return i(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const l=r.getDate(),u=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${l} ${u}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(r).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(r).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(r).replace(/, /g," ");default:o=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function UF(e,t){const n=e.toJsDate(t),a=n.getFullYear(),r=Xw(String(n.getMonth()+1),2,"0"),i=Xw(String(n.getDate()),2,"0");return`${a}-${r}-${i}`}function HF(e){const[t,n,a]=e.split("-").map(Number);return new Date(t,n-1,a)}function zF(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function WF(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function ah(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function jF(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function YF(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function Dp(e){return e.getFullYear()}function KF(e){return e.getMonth()}function GF(e,t,n,a){const r=jf(t),i=n??(r==null?void 0:r.firstDay)??0,o=a??(r==null?void 0:r.firstWeekSize)??1;function l(g){const y=new Date(g,0,1);return 7-Ip(y,Tp(y,t,i),"days")}let u=Dp(e);const f=ah(Tp(e,t,i),6);u<Dp(f)&&l(u+1)>=o&&u++;const d=new Date(u,0,1),m=l(u),p=m>=o?ah(d,m-7):ah(d,m);return 1+Ip(AC(e),Ph(p),"weeks")}function QF(e){return e.getDate()}function XF(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function JF(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function ZF(e){return e.getHours()}function e$(e){return e.getMinutes()}function t$(e){return new Date(e.getFullYear(),0,1)}function n$(e){return new Date(e.getFullYear(),11,31)}function a$(e,t){return xh(e,t[0])&&o$(e,t[1])}function r$(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function xh(e,t){return e.getTime()>t.getTime()}function i$(e,t){return xh(Ph(e),Ph(t))}function o$(e,t){return e.getTime()<t.getTime()}function p1(e,t){return e.getTime()===t.getTime()}function s$(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function l$(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function u$(e,t){return e.getFullYear()===t.getFullYear()}function Ip(e,t,n){const a=new Date(e),r=new Date(t);switch(n){case"years":return a.getFullYear()-r.getFullYear();case"quarters":return Math.floor((a.getMonth()-r.getMonth()+(a.getFullYear()-r.getFullYear())*12)/4);case"months":return a.getMonth()-r.getMonth()+(a.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((a.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((a.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((a.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((a.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((a.getTime()-r.getTime())/1e3);default:return a.getTime()-r.getTime()}}function c$(e,t){const n=new Date(e);return n.setHours(t),n}function d$(e,t){const n=new Date(e);return n.setMinutes(t),n}function f$(e,t){const n=new Date(e);return n.setMonth(t),n}function m$(e,t){const n=new Date(e);return n.setDate(t),n}function h$(e,t){const n=new Date(e);return n.setFullYear(t),n}function Ph(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function AC(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class v${constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return IC(t)}toJsDate(t){return t}toISO(t){return UF(this,t)}parseISO(t){return HF(t)}addMinutes(t,n){return zF(t,n)}addHours(t,n){return WF(t,n)}addDays(t,n){return ah(t,n)}addWeeks(t,n){return jF(t,n)}addMonths(t,n){return YF(t,n)}getWeekArray(t,n){const a=n!==void 0?Number(n):void 0;return RF(t,this.locale,a)}startOfWeek(t,n){const a=n!==void 0?Number(n):void 0;return Tp(t,this.locale,a)}endOfWeek(t){return FF(t,this.locale)}startOfMonth(t){return TC(t)}endOfMonth(t){return DC(t)}format(t,n){return qF(t,n,this.locale,this.formats)}isEqual(t,n){return p1(t,n)}isValid(t){return r$(t)}isWithinRange(t,n){return a$(t,n)}isAfter(t,n){return xh(t,n)}isAfterDay(t,n){return i$(t,n)}isBefore(t,n){return!xh(t,n)&&!p1(t,n)}isSameDay(t,n){return s$(t,n)}isSameMonth(t,n){return l$(t,n)}isSameYear(t,n){return u$(t,n)}setMinutes(t,n){return d$(t,n)}setHours(t,n){return c$(t,n)}setMonth(t,n){return f$(t,n)}setDate(t,n){return m$(t,n)}setYear(t,n){return h$(t,n)}getDiff(t,n,a){return Ip(t,n,a)}getWeekdays(t){const n=t!==void 0?Number(t):void 0;return NF(this.locale,n)}getYear(t){return Dp(t)}getMonth(t){return KF(t)}getWeek(t,n,a){const r=n!==void 0?Number(n):void 0;return GF(t,this.locale,r,a)}getDate(t){return QF(t)}getNextMonth(t){return XF(t)}getPreviousMonth(t){return JF(t)}getHours(t){return ZF(t)}getMinutes(t){return e$(t)}startOfDay(t){return Ph(t)}endOfDay(t){return AC(t)}startOfYear(t){return t$(t)}endOfYear(t){return n$(t)}}const EC=Symbol.for("vuetify:date-options"),g1=Symbol.for("vuetify:date-adapter");function _$(e,t){const n=Lr({adapter:v$,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:VC(n,t)}}function p$(e,t,n){const a=e.getDiff(e.endOfDay(n??t),e.startOfDay(t),"days"),r=[t];for(let i=1;i<a;i++){const o=e.addDays(t,i);r.push(o)}return n&&r.push(e.endOfDay(n)),r}function VC(e,t){const n=Ia(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return yt(t.current,a=>{n.locale=e.locale[a]??a??n.locale}),n}function Yf(){const e=fn(EC);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=_a();return VC(e,t)}const Qh=["sm","md","lg","xl","xxl"],Ap=Symbol.for("vuetify:display"),y1={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},g$=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y1;return Lr(y1,e)};function b1(e){return On&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function w1(e){return On&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function k1(e){const t=On&&!e?window.navigator.userAgent:"ssr";function n(y){return!!t.match(y)}const a=n(/android/i),r=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),l=n(/chrome/i),u=n(/edge/i),f=n(/firefox/i),d=n(/opera/i),m=n(/win/i),p=n(/mac/i),g=n(/linux/i);return{android:a,ios:r,cordova:i,electron:o,chrome:l,edge:u,firefox:f,opera:d,win:m,mac:p,linux:g,touch:BR,ssr:t==="ssr"}}function y$(e,t){const{thresholds:n,mobileBreakpoint:a}=g$(e),r=kt(w1(t)),i=kt(k1(t)),o=Ia({}),l=kt(b1(t));function u(){r.value=w1(),l.value=b1()}function f(){u(),i.value=k1()}return fa(()=>{const d=l.value<n.sm,m=l.value<n.md&&!d,p=l.value<n.lg&&!(m||d),g=l.value<n.xl&&!(p||m||d),y=l.value<n.xxl&&!(g||p||m||d),S=l.value>=n.xxl,k=d?"xs":m?"sm":p?"md":g?"lg":y?"xl":"xxl",C=typeof a=="number"?a:n[a],w=l.value<C;o.xs=d,o.sm=m,o.md=p,o.lg=g,o.xl=y,o.xxl=S,o.smAndUp=!d,o.mdAndUp=!(d||m),o.lgAndUp=!(d||m||p),o.xlAndUp=!(d||m||p||g),o.smAndDown=!(p||g||y||S),o.mdAndDown=!(g||y||S),o.lgAndDown=!(y||S),o.xlAndDown=!S,o.name=k,o.height=r.value,o.width=l.value,o.mobile=w,o.mobileBreakpoint=a,o.platform=i.value,o.thresholds=n}),On&&(window.addEventListener("resize",u,{passive:!0}),Ga(()=>{window.removeEventListener("resize",u)},!0)),{...kd(o),update:f,ssr:!!t}}const tc=ze({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Ji(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();const n=fn(Ap);if(!n)throw new Error("Could not find Vuetify display injection");const a=L(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),r=Pe(()=>t?{[`${t}--mobile`]:a.value}:{});return{...n,displayClasses:r,mobile:a}}const OC=Symbol.for("vuetify:goto");function MC(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function b$(e){return ly(e)??(document.scrollingElement||document.body)}function ly(e){return typeof e=="string"?document.querySelector(e):Zg(e)}function R_(e,t,n){if(typeof e=="number")return t&&n?-e:e;let a=ly(e),r=0;for(;a;)r+=t?a.offsetLeft:a.offsetTop,a=a.offsetParent;return r}function w$(e,t){return{rtl:t.isRtl,options:Lr(MC(),e)}}async function S1(e,t,n,a){const r=n?"scrollLeft":"scrollTop",i=Lr((a==null?void 0:a.options)??MC(),t),o=a==null?void 0:a.rtl.value,l=(typeof e=="number"?e:ly(e))??0,u=i.container==="parent"&&l instanceof HTMLElement?l.parentElement:b$(i.container),f=typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!f)throw new TypeError(`Easing function "${i.easing}" not found.`);let d;if(typeof l=="number")d=R_(l,n,o);else if(d=R_(l,n,o)-R_(u,n,o),i.layout){const y=window.getComputedStyle(l).getPropertyValue("--v-layout-top");y&&(d-=parseInt(y,10))}d+=i.offset,d=S$(u,d,!!o,!!n);const m=u[r]??0;if(d===m)return Promise.resolve(d);const p=performance.now();return new Promise(g=>requestAnimationFrame(function y(S){const C=(S-p)/i.duration,w=Math.floor(m+(d-m)*f(Xn(C,0,1)));if(u[r]=w,C>=1&&Math.abs(w-u[r])<10)return g(d);if(C>2)return g(u[r]);requestAnimationFrame(y)}))}function k$(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=fn(OC),{isRtl:n}=Ua();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const a={...t,rtl:Pe(()=>t.rtl.value||n.value)};async function r(i,o){return S1(i,Lr(e,o),!1,a)}return r.horizontal=async(i,o)=>S1(i,Lr(e,o),!0,a),r}function S$(e,t,n,a){const{scrollWidth:r,scrollHeight:i}=e,[o,l]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let u,f;return a?n?(u=-(r-o),f=0):(u=0,f=r-o):(u=0,f=i+-l),Xn(t,u,f)}const C$={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette"},x$={component:e=>rs(cy,{...e,class:"mdi"})},Ut=[String,Function,Object,Array],Ep=Symbol.for("vuetify:icons"),Xh=ze({icon:{type:Ut},tag:{type:[String,Object,Function],required:!0}},"icon"),Vp=ot()({name:"VComponentIcon",props:Xh(),setup(e,t){let{slots:n}=t;return()=>{const a=e.icon;return h(e.tag,null,{default:()=>{var r;return[e.icon?h(a,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),uy=Ii({name:"VSvgIcon",inheritAttrs:!1,props:Xh(),setup(e,t){let{attrs:n}=t;return()=>h(e.tag,it(n,{style:null}),{default:()=>[P("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(a=>Array.isArray(a)?P("path",{d:a[0],"fill-opacity":a[1]},null):P("path",{d:a},null)):P("path",{d:e.icon},null)])]})}}),P$=Ii({name:"VLigatureIcon",props:Xh(),setup(e){return()=>h(e.tag,null,{default:()=>[e.icon]})}}),cy=Ii({name:"VClassIcon",props:Xh(),setup(e){return()=>h(e.tag,{class:Ge(e.icon)},null)}});function T$(){return{svg:{component:uy},class:{component:cy}}}function D$(e){const t=T$(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=x$),Lr({defaultSet:n,sets:t,aliases:{...C$,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const I$=e=>{const t=fn(Ep);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:L(()=>{var u;const a=Jo(e);if(!a)return{component:Vp};let r=a;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(u=t.aliases)==null?void 0:u[r.slice(1)])),Array.isArray(r))return{component:uy,icon:r};if(typeof r!="string")return{component:Vp,icon:r};const i=Object.keys(t.sets).find(f=>typeof r=="string"&&r.startsWith(`${f}:`)),o=i?r.slice(i.length+1):r;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},Df=Symbol.for("vuetify:theme"),yn=ze({theme:String},"theme");function C1(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function A$(){var a,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C1();const t=C1();if(!e)return{...t,isDisabled:!0};const n={};for(const[i,o]of Object.entries(e.themes??{})){const l=o.dark||i==="dark"?(a=t.themes)==null?void 0:a.dark:(r=t.themes)==null?void 0:r.light;n[i]=Lr(l,o)}return Lr(t,{...e,themes:n})}function Au(e,t,n,a){e.push(`${M$(t,a)} {
`,...n.map(r=>`  ${r};
`),`}
`)}function x1(e){const t=e.dark?2:1,n=e.dark?1:2,a=[];for(const[r,i]of Object.entries(e.colors)){const o=Ti(i);a.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||a.push(`--v-theme-${r}-overlay-multiplier: ${Pp(i)>.18?t:n}`)}for(const[r,i]of Object.entries(e.variables)){const o=typeof i=="string"&&i.startsWith("#")?Ti(i):void 0,l=o?`${o.r}, ${o.g}, ${o.b}`:void 0;a.push(`--v-${r}: ${l??i}`)}return a}function E$(e,t,n){const a={};if(n)for(const r of["lighten","darken"]){const i=r==="lighten"?_F:pF;for(const o of Yo(n[r],1))a[`${e}-${r}-${o}`]=yC(i(Ti(t),o))}return a}function V$(e,t){if(!t)return{};let n={};for(const a of t.colors){const r=e[a];r&&(n={...n,...E$(a,r,t)})}return n}function O$(e){const t={};for(const n of Object.keys(e)){if(n.startsWith("on-")||e[`on-${n}`])continue;const a=`on-${n}`,r=Ti(e[n]);t[a]=kC(r)}return t}function M$(e,t){if(!t)return e;const n=`:where(${t})`;return e===":root"?n:`${n} ${e}`}function B$(e,t){e&&(e.innerHTML=t)}function R$(e,t){if(!On)return null;let n=document.getElementById(e);return n||(n=document.createElement("style"),n.id=e,n.type="text/css",t&&n.setAttribute("nonce",t),document.head.appendChild(n)),n}function F$(e){const t=A$(e),n=kt(t.defaultTheme),a=Ne(t.themes),r=L(()=>{const f={};for(const[d,m]of Object.entries(a.value)){const p={...m.colors,...V$(m.colors,t.variations)};f[d]={...m,colors:{...p,...O$(p)}}}return f}),i=Pe(()=>r.value[n.value]),o=L(()=>{var g;const f=[];(g=i.value)!=null&&g.dark&&Au(f,":root",["color-scheme: dark"],t.scope),Au(f,":root",x1(i.value),t.scope);for(const[y,S]of Object.entries(r.value))Au(f,`.v-theme--${y}`,[`color-scheme: ${S.dark?"dark":"normal"}`,...x1(S)],t.scope);const d=[],m=[],p=new Set(Object.values(r.value).flatMap(y=>Object.keys(y.colors)));for(const y of p)y.startsWith("on-")?Au(m,`.${y}`,[`color: rgb(var(--v-theme-${y})) !important`],t.scope):(Au(d,`.bg-${y}`,[`--v-theme-overlay-multiplier: var(--v-theme-${y}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${y})) !important`,`color: rgb(var(--v-theme-on-${y})) !important`],t.scope),Au(m,`.text-${y}`,[`color: rgb(var(--v-theme-${y})) !important`],t.scope),Au(m,`.border-${y}`,[`--v-border-color: var(--v-theme-${y})`],t.scope));return f.push(...d,...m),f.map((y,S)=>S===0?y:`    ${y}`).join("")});function l(f){if(t.isDisabled)return;const d=f._context.provides.usehead;if(d){let g=function(){return{style:[{textContent:o.value,id:t.stylesheetId,nonce:t.cspNonce||!1}]}};var m=g;if(d.push){const y=d.push(g);On&&yt(o,()=>{y.patch(g)})}else On?(d.addHeadObjs(Pe(g)),fa(()=>d.updateDOM())):d.addHeadObjs(g())}else{let g=function(){B$(R$(t.stylesheetId,t.cspNonce),o.value)};var p=g;On?yt(o,g,{immediate:!0}):g()}}const u=Pe(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:a,current:i,computedThemes:r,themeClasses:u,styles:o,global:{name:n,current:i}}}function Mn(e){Ca("provideTheme");const t=fn(Df,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Pe(()=>e.theme??t.name.value),a=Pe(()=>t.themes.value[n.value]),r=Pe(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,current:a,themeClasses:r};return ra(Df,i),i}function dy(){Ca("useTheme");const e=fn(Df,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function fo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=kh(),a=Ne();if(On){const r=new ResizeObserver(i=>{e==null||e(i,r),i.length&&(t==="content"?a.value=i[0].contentRect:a.value=i[0].target.getBoundingClientRect())});vr(()=>{r.disconnect()}),yt(()=>n.el,(i,o)=>{o&&(r.unobserve(o),a.value=void 0),i&&r.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:wd(a)}}const If=Symbol.for("vuetify:layout"),BC=Symbol.for("vuetify:layout-item"),P1=1e3,RC=ze({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),nc=ze({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function FC(){const e=fn(If);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ac(e){const t=fn(If);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${ii()}`,a=Ca("useLayoutItem");ra(BC,{id:n});const r=kt(!1);Hg(()=>r.value=!0),bS(()=>r.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=t.register(a,{...e,active:L(()=>r.value?!1:e.active.value),id:n});return vr(()=>t.unregister(n)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const $$=(e,t,n,a)=>{let r={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...r}}];for(const o of e){const l=t.get(o),u=n.get(o),f=a.get(o);if(!l||!u||!f)continue;const d={...r,[l.value]:parseInt(r[l.value],10)+(f.value?parseInt(u.value,10):0)};i.push({id:o,layer:d}),r=d}return i};function $C(e){const t=fn(If,null),n=L(()=>t?t.rootZIndex.value-100:P1),a=Ne([]),r=Ia(new Map),i=Ia(new Map),o=Ia(new Map),l=Ia(new Map),u=Ia(new Map),{resizeRef:f,contentRect:d}=fo(),m=L(()=>{const U=new Map,Y=e.overlaps??[];for(const H of Y.filter(B=>B.includes(":"))){const[B,j]=H.split(":");if(!a.value.includes(B)||!a.value.includes(j))continue;const G=r.get(B),F=r.get(j),ce=i.get(B),Z=i.get(j);!G||!F||!ce||!Z||(U.set(j,{position:G.value,amount:parseInt(ce.value,10)}),U.set(B,{position:F.value,amount:-parseInt(Z.value,10)}))}return U}),p=L(()=>{const U=[...new Set([...o.values()].map(H=>H.value))].sort((H,B)=>H-B),Y=[];for(const H of U){const B=a.value.filter(j=>{var G;return((G=o.get(j))==null?void 0:G.value)===H});Y.push(...B)}return $$(Y,r,i,l)}),g=L(()=>!Array.from(u.values()).some(U=>U.value)),y=L(()=>p.value[p.value.length-1].layer),S=Pe(()=>({"--v-layout-left":Vt(y.value.left),"--v-layout-right":Vt(y.value.right),"--v-layout-top":Vt(y.value.top),"--v-layout-bottom":Vt(y.value.bottom),...g.value?void 0:{transition:"none"}})),k=L(()=>p.value.slice(1).map((U,Y)=>{let{id:H}=U;const{layer:B}=p.value[Y],j=i.get(H),G=r.get(H);return{id:H,...B,size:Number(j.value),position:G.value}})),C=U=>k.value.find(Y=>Y.id===U),w=Ca("createLayout"),I=kt(!1);Pn(()=>{I.value=!0}),ra(If,{register:(U,Y)=>{let{id:H,order:B,position:j,layoutSize:G,elementSize:F,active:ce,disableTransitions:Z,absolute:le}=Y;o.set(H,B),r.set(H,j),i.set(H,G),l.set(H,ce),Z&&u.set(H,Z);const _e=jc(BC,w==null?void 0:w.vnode).indexOf(U);_e>-1?a.value.splice(_e,0,H):a.value.push(H);const Ee=L(()=>k.value.findIndex(ge=>ge.id===H)),$e=L(()=>n.value+p.value.length*2-Ee.value*2),re=L(()=>{const ge=j.value==="left"||j.value==="right",se=j.value==="right",ye=j.value==="bottom",Me=F.value??G.value,De=Me===0?"%":"px",R={[j.value]:0,zIndex:$e.value,transform:`translate${ge?"X":"Y"}(${(ce.value?0:-(Me===0?100:Me))*(se||ye?-1:1)}${De})`,position:le.value||n.value!==P1?"absolute":"fixed",...g.value?void 0:{transition:"none"}};if(!I.value)return R;const Oe=k.value[Ee.value];if(!Oe)throw new Error(`[Vuetify] Could not find layout item "${H}"`);const He=m.value.get(H);return He&&(Oe[He.position]+=He.amount),{...R,height:ge?`calc(100% - ${Oe.top}px - ${Oe.bottom}px)`:F.value?`${F.value}px`:void 0,left:se?void 0:`${Oe.left}px`,right:se?`${Oe.right}px`:void 0,top:j.value!=="bottom"?`${Oe.top}px`:void 0,bottom:j.value!=="top"?`${Oe.bottom}px`:void 0,width:ge?F.value?`${F.value}px`:void 0:`calc(100% - ${Oe.left}px - ${Oe.right}px)`}}),ee=L(()=>({zIndex:$e.value-1}));return{layoutItemStyles:re,layoutItemScrimStyles:ee,zIndex:$e}},unregister:U=>{o.delete(U),r.delete(U),i.delete(U),l.delete(U),u.delete(U),a.value=a.value.filter(Y=>Y!==U)},mainRect:y,mainStyles:S,getLayoutItem:C,items:k,layoutRect:d,rootZIndex:n});const V=Pe(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),O=Pe(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:V,layoutStyles:O,getLayoutItem:C,items:k,layoutRect:d,layoutRef:f}}function LC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,a=Lr(t,n),{aliases:r={},components:i={},directives:o={}}=a,l=rd();return l.run(()=>{const u=bF(a.defaults),f=y$(a.display,a.ssr),d=F$(a.theme),m=D$(a.icons),p=EF(a.locale),g=_$(a.date,p),y=w$(a.goTo,p);function S(C){for(const I in o)C.directive(I,o[I]);for(const I in i)C.component(I,i[I]);for(const I in r)C.component(I,Ii({...r[I],name:I,aliasName:r[I].name}));const w=rd();if(w.run(()=>{d.install(C)}),C.onUnmount(()=>w.stop()),C.provide(ud,u),C.provide(Ap,f),C.provide(Df,d),C.provide(Ep,m),C.provide(cd,p),C.provide(EC,g.options),C.provide(g1,g.instance),C.provide(OC,y),On&&a.ssr)if(C.$nuxt)C.$nuxt.hook("app:suspense:resolve",()=>{f.update()});else{const{mount:I}=C;C.mount=function(){const V=I(...arguments);return Qt(()=>f.update()),C.mount=I,V}}C.mixin({computed:{$vuetify(){return Ia({defaults:$c.call(this,ud),display:$c.call(this,Ap),theme:$c.call(this,Df),icons:$c.call(this,Ep),locale:$c.call(this,cd),date:$c.call(this,g1)})}}})}function k(){l.stop()}return{install:S,unmount:k,defaults:u,display:f,theme:d,icons:m,locale:p,date:g,goTo:y}})}const L$="3.8.10";LC.version=L$;function $c(e){var a,r;const t=this.$,n=((a=t.parent)==null?void 0:a.provides)??((r=t.vnode.appContext)==null?void 0:r.provides);if(n&&e in n)return n[e]}var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rh={exports:{}},N$=rh.exports,T1;function q$(){return T1||(T1=1,function(e,t){(function(n,a){e.exports=a()})(N$,function(){var n=function(v,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,M){A.__proto__=M}||function(A,M){for(var z in M)Object.prototype.hasOwnProperty.call(M,z)&&(A[z]=M[z])})(v,b)},a=function(){return(a=Object.assign||function(v){for(var b,A=1,M=arguments.length;A<M;A++)for(var z in b=arguments[A])Object.prototype.hasOwnProperty.call(b,z)&&(v[z]=b[z]);return v}).apply(this,arguments)};function r(v,b,A){for(var M,z=0,ne=b.length;z<ne;z++)!M&&z in b||((M=M||Array.prototype.slice.call(b,0,z))[z]=b[z]);return v.concat(M||Array.prototype.slice.call(b))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:of,o=Object.keys,l=Array.isArray;function u(v,b){return typeof b!="object"||o(b).forEach(function(A){v[A]=b[A]}),v}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function m(v,b){return d.call(v,b)}function p(v,b){typeof b=="function"&&(b=b(f(v))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(A){y(v,A,b[A])})}var g=Object.defineProperty;function y(v,b,A,M){g(v,b,u(A&&m(A,"get")&&typeof A.get=="function"?{get:A.get,set:A.set,configurable:!0}:{value:A,configurable:!0,writable:!0},M))}function S(v){return{from:function(b){return v.prototype=Object.create(b.prototype),y(v.prototype,"constructor",v),{extend:p.bind(null,v.prototype)}}}}var k=Object.getOwnPropertyDescriptor,C=[].slice;function w(v,b,A){return C.call(v,b,A)}function I(v,b){return b(v)}function V(v){if(!v)throw new Error("Assertion Failed")}function O(v){i.setImmediate?setImmediate(v):setTimeout(v,0)}function U(v,b){if(typeof b=="string"&&m(v,b))return v[b];if(!b)return v;if(typeof b!="string"){for(var A=[],M=0,z=b.length;M<z;++M){var ne=U(v,b[M]);A.push(ne)}return A}var he=b.indexOf(".");if(he!==-1){var xe=v[b.substr(0,he)];return xe==null?void 0:U(xe,b.substr(he+1))}}function Y(v,b,A){if(v&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof b!="string"&&"length"in b){V(typeof A!="string"&&"length"in A);for(var M=0,z=b.length;M<z;++M)Y(v,b[M],A[M])}else{var ne,he,xe=b.indexOf(".");xe!==-1?(ne=b.substr(0,xe),(he=b.substr(xe+1))===""?A===void 0?l(v)&&!isNaN(parseInt(ne))?v.splice(ne,1):delete v[ne]:v[ne]=A:Y(xe=!(xe=v[ne])||!m(v,ne)?v[ne]={}:xe,he,A)):A===void 0?l(v)&&!isNaN(parseInt(b))?v.splice(b,1):delete v[b]:v[b]=A}}function H(v){var b,A={};for(b in v)m(v,b)&&(A[b]=v[b]);return A}var B=[].concat;function j(v){return B.apply([],v)}var Nt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(j([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(b){return b+v+"Array"})}))).filter(function(v){return i[v]}),G=new Set(Nt.map(function(v){return i[v]})),F=null;function ce(v){return F=new WeakMap,v=function b(A){if(!A||typeof A!="object")return A;var M=F.get(A);if(M)return M;if(l(A)){M=[],F.set(A,M);for(var z=0,ne=A.length;z<ne;++z)M.push(b(A[z]))}else if(G.has(A.constructor))M=A;else{var he,xe=f(A);for(he in M=xe===Object.prototype?{}:Object.create(xe),F.set(A,M),A)m(A,he)&&(M[he]=b(A[he]))}return M}(v),F=null,v}var Z={}.toString;function le(v){return Z.call(v).slice(8,-1)}var ae=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_e=typeof ae=="symbol"?function(v){var b;return v!=null&&(b=v[ae])&&b.apply(v)}:function(){return null};function Ee(v,b){return b=v.indexOf(b),0<=b&&v.splice(b,1),0<=b}var $e={};function re(v){var b,A,M,z;if(arguments.length===1){if(l(v))return v.slice();if(this===$e&&typeof v=="string")return[v];if(z=_e(v)){for(A=[];!(M=z.next()).done;)A.push(M.value);return A}if(v==null)return[v];if(typeof(b=v.length)!="number")return[v];for(A=new Array(b);b--;)A[b]=v[b];return A}for(b=arguments.length,A=new Array(b);b--;)A[b]=arguments[b];return A}var ee=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Dt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Dt),ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function se(v,b){this.name=v,this.message=b}function ye(v,b){return v+". Errors: "+Object.keys(b).map(function(A){return b[A].toString()}).filter(function(A,M,z){return z.indexOf(A)===M}).join(`
`)}function Me(v,b,A,M){this.failures=b,this.failedKeys=M,this.successCount=A,this.message=ye(v,b)}function De(v,b){this.name="BulkError",this.failures=Object.keys(b).map(function(A){return b[A]}),this.failuresByPos=b,this.message=ye(v,this.failures)}S(se).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(Me).from(se),S(De).from(se);var R=br.reduce(function(v,b){return v[b]=b+"Error",v},{}),Oe=se,He=br.reduce(function(v,b){var A=b+"Error";function M(z,ne){this.name=A,z?typeof z=="string"?(this.message="".concat(z).concat(ne?`
 `+ne:""),this.inner=ne||null):typeof z=="object"&&(this.message="".concat(z.name," ").concat(z.message),this.inner=z):(this.message=ge[b]||A,this.inner=null)}return S(M).from(Oe),v[b]=M,v},{});He.Syntax=SyntaxError,He.Type=TypeError,He.Range=RangeError;var at=Dt.reduce(function(v,b){return v[b+"Error"]=He[b],v},{}),Be=br.reduce(function(v,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(v[b+"Error"]=He[b]),v},{});function N(){}function Q(v){return v}function pe(v,b){return v==null||v===Q?b:function(A){return b(v(A))}}function W(v,b){return function(){v.apply(this,arguments),b.apply(this,arguments)}}function Ve(v,b){return v===N?b:function(){var A=v.apply(this,arguments);A!==void 0&&(arguments[0]=A);var M=this.onsuccess,z=this.onerror;this.onsuccess=null,this.onerror=null;var ne=b.apply(this,arguments);return M&&(this.onsuccess=this.onsuccess?W(M,this.onsuccess):M),z&&(this.onerror=this.onerror?W(z,this.onerror):z),ne!==void 0?ne:A}}function Ie(v,b){return v===N?b:function(){v.apply(this,arguments);var A=this.onsuccess,M=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?W(A,this.onsuccess):A),M&&(this.onerror=this.onerror?W(M,this.onerror):M)}}function We(v,b){return v===N?b:function(A){var M=v.apply(this,arguments);u(A,M);var z=this.onsuccess,ne=this.onerror;return this.onsuccess=null,this.onerror=null,A=b.apply(this,arguments),z&&(this.onsuccess=this.onsuccess?W(z,this.onsuccess):z),ne&&(this.onerror=this.onerror?W(ne,this.onerror):ne),M===void 0?A===void 0?void 0:A:u(M,A)}}function Qe(v,b){return v===N?b:function(){return b.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function st(v,b){return v===N?b:function(){var A=v.apply(this,arguments);if(A&&typeof A.then=="function"){for(var M=this,z=arguments.length,ne=new Array(z);z--;)ne[z]=arguments[z];return A.then(function(){return b.apply(M,ne)})}return b.apply(this,arguments)}}Be.ModifyError=Me,Be.DexieError=se,Be.BulkError=De;var tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Tt(v){tt=v}var ke={},ut=100,Nt=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,f(v),v];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,f(b),v]}(),Dt=Nt[0],br=Nt[1],Nt=Nt[2],br=br&&br.then,jt=Dt&&Dt.constructor,xt=!!Nt,Jt=function(v,b){ir.push([v,b]),Zn&&(queueMicrotask(Ar),Zn=!1)},mn=!0,Zn=!0,Un=[],ya=[],xa=Q,Rn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:N,pgp:!1,env:{},finalize:N},Mt=Rn,ir=[],et=0,bt=[];function ft(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Mt;if(typeof v!="function"){if(v!==ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&At(this,this._value))}this._state=null,this._value=null,++b.ref,function A(M,z){try{z(function(ne){if(M._state===null){if(ne===M)throw new TypeError("A promise cannot be resolved with itself.");var he=M._lib&&Oa();ne&&typeof ne.then=="function"?A(M,function(xe,Ue){ne instanceof ft?ne._then(xe,Ue):ne.then(xe,Ue)}):(M._state=!0,M._value=ne,Ft(M)),he&&zr()}},At.bind(null,M))}catch(ne){At(M,ne)}}(this,v)}var Bt={get:function(){var v=Mt,b=go;function A(M,z){var ne=this,he=!v.global&&(v!==Mt||b!==go),xe=he&&!Er(),Ue=new ft(function(J,fe){pr(ne,new _t(mc(M,v,he,xe),mc(z,v,he,xe),J,fe,v))});return this._consoleTask&&(Ue._consoleTask=this._consoleTask),Ue}return A.prototype=ke,A},set:function(v){y(this,"then",v&&v.prototype===ke?Bt:{get:function(){return v},set:Bt.set})}};function _t(v,b,A,M,z){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof b=="function"?b:null,this.resolve=A,this.reject=M,this.psd=z}function At(v,b){var A,M;ya.push(b),v._state===null&&(A=v._lib&&Oa(),b=xa(b),v._state=!1,v._value=b,M=v,Un.some(function(z){return z._value===M._value})||Un.push(M),Ft(v),A&&zr())}function Ft(v){var b=v._listeners;v._listeners=[];for(var A=0,M=b.length;A<M;++A)pr(v,b[A]);var z=v._PSD;--z.ref||z.finalize(),et===0&&(++et,Jt(function(){--et==0&&us()},[]))}function pr(v,b){if(v._state!==null){var A=v._state?b.onFulfilled:b.onRejected;if(A===null)return(v._state?b.resolve:b.reject)(v._value);++b.psd.ref,++et,Jt(Ir,[A,v,b])}else v._listeners.push(b)}function Ir(v,b,A){try{var M,z=b._value;!b._state&&ya.length&&(ya=[]),M=tt&&b._consoleTask?b._consoleTask.run(function(){return v(z)}):v(z),b._state||ya.indexOf(z)!==-1||function(ne){for(var he=Un.length;he;)if(Un[--he]._value===ne._value)return Un.splice(he,1)}(b),A.resolve(M)}catch(ne){A.reject(ne)}finally{--et==0&&us(),--A.psd.ref||A.psd.finalize()}}function Ar(){jr(Rn,function(){Oa()&&zr()})}function Oa(){var v=mn;return Zn=mn=!1,v}function zr(){var v,b,A;do for(;0<ir.length;)for(v=ir,ir=[],A=v.length,b=0;b<A;++b){var M=v[b];M[0].apply(null,M[1])}while(0<ir.length);Zn=mn=!0}function us(){var v=Un;Un=[],v.forEach(function(M){M._PSD.onunhandled.call(null,M._value,M)});for(var b=bt.slice(0),A=b.length;A;)b[--A]()}function eo(v){return new ft(ke,!1,v)}function Kn(v,b){var A=Mt;return function(){var M=Oa(),z=Mt;try{return Wr(A,!0),v.apply(this,arguments)}catch(ne){b&&b(ne)}finally{Wr(z,!1),M&&zr()}}}p(ft.prototype,{then:Bt,_then:function(v,b){pr(this,new _t(null,null,v,b,Mt))},catch:function(v){if(arguments.length===1)return this.then(null,v);var b=v,A=arguments[1];return typeof b=="function"?this.then(null,function(M){return(M instanceof b?A:eo)(M)}):this.then(null,function(M){return(M&&M.name===b?A:eo)(M)})},finally:function(v){return this.then(function(b){return ft.resolve(v()).then(function(){return b})},function(b){return ft.resolve(v()).then(function(){return eo(b)})})},timeout:function(v,b){var A=this;return v<1/0?new ft(function(M,z){var ne=setTimeout(function(){return z(new He.Timeout(b))},v);A.then(M,z).finally(clearTimeout.bind(null,ne))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(ft.prototype,Symbol.toStringTag,"Dexie.Promise"),Rn.env=fc(),p(ft,{all:function(){var v=re.apply(null,arguments).map(ds);return new ft(function(b,A){v.length===0&&b([]);var M=v.length;v.forEach(function(z,ne){return ft.resolve(z).then(function(he){v[ne]=he,--M||b(v)},A)})})},resolve:function(v){return v instanceof ft?v:v&&typeof v.then=="function"?new ft(function(b,A){v.then(b,A)}):new ft(ke,!0,v)},reject:eo,race:function(){var v=re.apply(null,arguments).map(ds);return new ft(function(b,A){v.map(function(M){return ft.resolve(M).then(b,A)})})},PSD:{get:function(){return Mt},set:function(v){return Mt=v}},totalEchoes:{get:function(){return go}},newPSD:Mi,usePSD:jr,scheduler:{get:function(){return Jt},set:function(v){Jt=v}},rejectionMapper:{get:function(){return xa},set:function(v){xa=v}},follow:function(v,b){return new ft(function(A,M){return Mi(function(z,ne){var he=Mt;he.unhandleds=[],he.onunhandled=ne,he.finalize=W(function(){var xe,Ue=this;xe=function(){Ue.unhandleds.length===0?z():ne(Ue.unhandleds[0])},bt.push(function J(){xe(),bt.splice(bt.indexOf(J),1)}),++et,Jt(function(){--et==0&&us()},[])},he.finalize),v()},b,A,M)})}}),jt&&(jt.allSettled&&y(ft,"allSettled",function(){var v=re.apply(null,arguments).map(ds);return new ft(function(b){v.length===0&&b([]);var A=v.length,M=new Array(A);v.forEach(function(z,ne){return ft.resolve(z).then(function(he){return M[ne]={status:"fulfilled",value:he}},function(he){return M[ne]={status:"rejected",reason:he}}).then(function(){return--A||b(M)})})})}),jt.any&&typeof AggregateError<"u"&&y(ft,"any",function(){var v=re.apply(null,arguments).map(ds);return new ft(function(b,A){v.length===0&&A(new AggregateError([]));var M=v.length,z=new Array(M);v.forEach(function(ne,he){return ft.resolve(ne).then(function(xe){return b(xe)},function(xe){z[he]=xe,--M||A(new AggregateError(z))})})})}),jt.withResolvers&&(ft.withResolvers=jt.withResolvers));var la={awaits:0,echoes:0,id:0},Vd=0,ll=[],Oi=0,go=0,cs=0;function Mi(v,b,A,M){var z=Mt,ne=Object.create(z);return ne.parent=z,ne.ref=0,ne.global=!1,ne.id=++cs,Rn.env,ne.env=xt?{Promise:ft,PromiseProp:{value:ft,configurable:!0,writable:!0},all:ft.all,race:ft.race,allSettled:ft.allSettled,any:ft.any,resolve:ft.resolve,reject:ft.reject}:{},b&&u(ne,b),++z.ref,ne.finalize=function(){--this.parent.ref||this.parent.finalize()},M=jr(ne,v,A,M),ne.ref===0&&ne.finalize(),M}function yo(){return la.id||(la.id=++Vd),++la.awaits,la.echoes+=ut,la.id}function Er(){return!!la.awaits&&(--la.awaits==0&&(la.id=0),la.echoes=la.awaits*ut,!0)}function ds(v){return la.echoes&&v&&v.constructor===jt?(yo(),v.then(function(b){return Er(),b},function(b){return Er(),Fn(b)})):v}function Od(){var v=ll[ll.length-1];ll.pop(),Wr(v,!1)}function Wr(v,b){var A,M=Mt;(b?!la.echoes||Oi++&&v===Mt:!Oi||--Oi&&v===Mt)||queueMicrotask(b?(function(z){++go,la.echoes&&--la.echoes!=0||(la.echoes=la.awaits=la.id=0),ll.push(Mt),Wr(z,!0)}).bind(null,v):Od),v!==Mt&&(Mt=v,M===Rn&&(Rn.env=fc()),xt&&(A=Rn.env.Promise,b=v.env,(M.global||v.global)&&(Object.defineProperty(i,"Promise",b.PromiseProp),A.all=b.all,A.race=b.race,A.resolve=b.resolve,A.reject=b.reject,b.allSettled&&(A.allSettled=b.allSettled),b.any&&(A.any=b.any))))}function fc(){var v=i.Promise;return xt?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function jr(v,b,A,M,z){var ne=Mt;try{return Wr(v,!0),b(A,M,z)}finally{Wr(ne,!1)}}function mc(v,b,A,M){return typeof v!="function"?v:function(){var z=Mt;A&&yo(),Wr(b,!0);try{return v.apply(this,arguments)}finally{Wr(z,!1),M&&queueMicrotask(Er)}}}function bo(v){Promise===jt&&la.echoes===0?Oi===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+br).indexOf("[native code]")===-1&&(yo=Er=N);var Fn=ft.reject,Bi="",or="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hc="String expected.",wo=[],ul="__dbnames",cl="readonly",ko="readwrite";function Ri(v,b){return v?b?function(){return v.apply(this,arguments)&&b.apply(this,arguments)}:v:b}var vc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function dl(v){return typeof v!="string"||/\./.test(v)?function(b){return b}:function(b){return b[v]===void 0&&v in b&&delete(b=ce(b))[v],b}}function ru(){throw He.Type()}function _n(v,b){try{var A=So(v),M=So(b);if(A!==M)return A==="Array"?1:M==="Array"?-1:A==="binary"?1:M==="binary"?-1:A==="string"?1:M==="string"?-1:A==="Date"?1:M!=="Date"?NaN:-1;switch(A){case"number":case"Date":case"string":return b<v?1:v<b?-1:0;case"binary":return function(z,ne){for(var he=z.length,xe=ne.length,Ue=he<xe?he:xe,J=0;J<Ue;++J)if(z[J]!==ne[J])return z[J]<ne[J]?-1:1;return he===xe?0:he<xe?-1:1}(fl(v),fl(b));case"Array":return function(z,ne){for(var he=z.length,xe=ne.length,Ue=he<xe?he:xe,J=0;J<Ue;++J){var fe=_n(z[J],ne[J]);if(fe!==0)return fe}return he===xe?0:he<xe?-1:1}(v,b)}}catch{}return NaN}function So(v){var b=typeof v;return b!="object"?b:ArrayBuffer.isView(v)?"binary":(v=le(v),v==="ArrayBuffer"?"binary":v)}function fl(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var iu=(An.prototype._trans=function(v,b,A){var M=this._tx||Mt.trans,z=this.name,ne=tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function he(J,fe,te){if(!te.schema[z])throw new He.NotFound("Table "+z+" not part of transaction");return b(te.idbtrans,te)}var xe=Oa();try{var Ue=M&&M.db._novip===this.db._novip?M===Mt.trans?M._promise(v,he,A):Mi(function(){return M._promise(v,he,A)},{trans:M,transless:Mt.transless||Mt}):function J(fe,te,Te,Se){if(fe.idbdb&&(fe._state.openComplete||Mt.letThrough||fe._vip)){var Le=fe._createTransaction(te,Te,fe._dbSchema);try{Le.create(),fe._state.PR1398_maxLoop=3}catch(je){return je.name===R.InvalidState&&fe.isOpen()&&0<--fe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),fe.close({disableAutoOpen:!1}),fe.open().then(function(){return J(fe,te,Te,Se)})):Fn(je)}return Le._promise(te,function(je,Fe){return Mi(function(){return Mt.trans=Le,Se(je,Fe,Le)})}).then(function(je){if(te==="readwrite")try{Le.idbtrans.commit()}catch{}return te==="readonly"?je:Le._completion.then(function(){return je})})}if(fe._state.openComplete)return Fn(new He.DatabaseClosed(fe._state.dbOpenError));if(!fe._state.isBeingOpened){if(!fe._state.autoOpen)return Fn(new He.DatabaseClosed);fe.open().catch(N)}return fe._state.dbReadyPromise.then(function(){return J(fe,te,Te,Se)})}(this.db,v,[this.name],he);return ne&&(Ue._consoleTask=ne,Ue=Ue.catch(function(J){return console.trace(J),Fn(J)})),Ue}finally{xe&&zr()}},An.prototype.get=function(v,b){var A=this;return v&&v.constructor===Object?this.where(v).first(b):v==null?Fn(new He.Type("Invalid argument to Table.get()")):this._trans("readonly",function(M){return A.core.get({trans:M,key:v}).then(function(z){return A.hook.reading.fire(z)})}).then(b)},An.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(l(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var b=o(v);if(b.length===1)return this.where(b[0]).equals(v[b[0]]);var A=this.schema.indexes.concat(this.schema.primKey).filter(function(xe){if(xe.compound&&b.every(function(J){return 0<=xe.keyPath.indexOf(J)})){for(var Ue=0;Ue<b.length;++Ue)if(b.indexOf(xe.keyPath[Ue])===-1)return!1;return!0}return!1}).sort(function(xe,Ue){return xe.keyPath.length-Ue.keyPath.length})[0];if(A&&this.db._maxKey!==Bi){var ne=A.keyPath.slice(0,b.length);return this.where(ne).equals(ne.map(function(Ue){return v[Ue]}))}!A&&tt&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var M=this.schema.idxByName;function z(xe,Ue){return _n(xe,Ue)===0}var he=b.reduce(function(te,Ue){var J=te[0],fe=te[1],te=M[Ue],Te=v[Ue];return[J||te,J||!te?Ri(fe,te&&te.multi?function(Se){return Se=U(Se,Ue),l(Se)&&Se.some(function(Le){return z(Te,Le)})}:function(Se){return z(Te,U(Se,Ue))}):fe]},[null,null]),ne=he[0],he=he[1];return ne?this.where(ne.name).equals(v[ne.keyPath]).filter(he):A?this.filter(he):this.where(b).equals("")},An.prototype.filter=function(v){return this.toCollection().and(v)},An.prototype.count=function(v){return this.toCollection().count(v)},An.prototype.offset=function(v){return this.toCollection().offset(v)},An.prototype.limit=function(v){return this.toCollection().limit(v)},An.prototype.each=function(v){return this.toCollection().each(v)},An.prototype.toArray=function(v){return this.toCollection().toArray(v)},An.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},An.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,l(v)?"[".concat(v.join("+"),"]"):v))},An.prototype.reverse=function(){return this.toCollection().reverse()},An.prototype.mapToClass=function(v){var b,A=this.db,M=this.name;function z(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof ru&&(function(Ue,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function fe(){this.constructor=Ue}n(Ue,J),Ue.prototype=J===null?Object.create(J):(fe.prototype=J.prototype,new fe)}(z,b=v),Object.defineProperty(z.prototype,"db",{get:function(){return A},enumerable:!1,configurable:!0}),z.prototype.table=function(){return M},v=z);for(var ne=new Set,he=v.prototype;he;he=f(he))Object.getOwnPropertyNames(he).forEach(function(Ue){return ne.add(Ue)});function xe(Ue){if(!Ue)return Ue;var J,fe=Object.create(v.prototype);for(J in Ue)if(!ne.has(J))try{fe[J]=Ue[J]}catch{}return fe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=xe,this.hook("reading",xe),v},An.prototype.defineClass=function(){return this.mapToClass(function(v){u(this,v)})},An.prototype.add=function(v,b){var A=this,M=this.schema.primKey,z=M.auto,ne=M.keyPath,he=v;return ne&&z&&(he=dl(ne)(v)),this._trans("readwrite",function(xe){return A.core.mutate({trans:xe,type:"add",keys:b!=null?[b]:null,values:[he]})}).then(function(xe){return xe.numFailures?ft.reject(xe.failures[0]):xe.lastResult}).then(function(xe){if(ne)try{Y(v,ne,xe)}catch{}return xe})},An.prototype.update=function(v,b){return typeof v!="object"||l(v)?this.where(":id").equals(v).modify(b):(v=U(v,this.schema.primKey.keyPath),v===void 0?Fn(new He.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(b))},An.prototype.put=function(v,b){var A=this,M=this.schema.primKey,z=M.auto,ne=M.keyPath,he=v;return ne&&z&&(he=dl(ne)(v)),this._trans("readwrite",function(xe){return A.core.mutate({trans:xe,type:"put",values:[he],keys:b!=null?[b]:null})}).then(function(xe){return xe.numFailures?ft.reject(xe.failures[0]):xe.lastResult}).then(function(xe){if(ne)try{Y(v,ne,xe)}catch{}return xe})},An.prototype.delete=function(v){var b=this;return this._trans("readwrite",function(A){return b.core.mutate({trans:A,type:"delete",keys:[v]})}).then(function(A){return A.numFailures?ft.reject(A.failures[0]):void 0})},An.prototype.clear=function(){var v=this;return this._trans("readwrite",function(b){return v.core.mutate({trans:b,type:"deleteRange",range:vc})}).then(function(b){return b.numFailures?ft.reject(b.failures[0]):void 0})},An.prototype.bulkGet=function(v){var b=this;return this._trans("readonly",function(A){return b.core.getMany({keys:v,trans:A}).then(function(M){return M.map(function(z){return b.hook.reading.fire(z)})})})},An.prototype.bulkAdd=function(v,b,A){var M=this,z=Array.isArray(b)?b:void 0,ne=(A=A||(z?void 0:b))?A.allKeys:void 0;return this._trans("readwrite",function(he){var J=M.schema.primKey,xe=J.auto,J=J.keyPath;if(J&&z)throw new He.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(z&&z.length!==v.length)throw new He.InvalidArgument("Arguments objects and keys must have the same length");var Ue=v.length,J=J&&xe?v.map(dl(J)):v;return M.core.mutate({trans:he,type:"add",keys:z,values:J,wantResults:ne}).then(function(Le){var te=Le.numFailures,Te=Le.results,Se=Le.lastResult,Le=Le.failures;if(te===0)return ne?Te:Se;throw new De("".concat(M.name,".bulkAdd(): ").concat(te," of ").concat(Ue," operations failed"),Le)})})},An.prototype.bulkPut=function(v,b,A){var M=this,z=Array.isArray(b)?b:void 0,ne=(A=A||(z?void 0:b))?A.allKeys:void 0;return this._trans("readwrite",function(he){var J=M.schema.primKey,xe=J.auto,J=J.keyPath;if(J&&z)throw new He.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(z&&z.length!==v.length)throw new He.InvalidArgument("Arguments objects and keys must have the same length");var Ue=v.length,J=J&&xe?v.map(dl(J)):v;return M.core.mutate({trans:he,type:"put",keys:z,values:J,wantResults:ne}).then(function(Le){var te=Le.numFailures,Te=Le.results,Se=Le.lastResult,Le=Le.failures;if(te===0)return ne?Te:Se;throw new De("".concat(M.name,".bulkPut(): ").concat(te," of ").concat(Ue," operations failed"),Le)})})},An.prototype.bulkUpdate=function(v){var b=this,A=this.core,M=v.map(function(he){return he.key}),z=v.map(function(he){return he.changes}),ne=[];return this._trans("readwrite",function(he){return A.getMany({trans:he,keys:M,cache:"clone"}).then(function(xe){var Ue=[],J=[];v.forEach(function(te,Te){var Se=te.key,Le=te.changes,je=xe[Te];if(je){for(var Fe=0,rt=Object.keys(Le);Fe<rt.length;Fe++){var lt=rt[Fe],x=Le[lt];if(lt===b.schema.primKey.keyPath){if(_n(x,Se)!==0)throw new He.Constraint("Cannot update primary key in bulkUpdate()")}else Y(je,lt,x)}ne.push(Te),Ue.push(Se),J.push(je)}});var fe=Ue.length;return A.mutate({trans:he,type:"put",keys:Ue,values:J,updates:{keys:M,changeSpecs:z}}).then(function(te){var Te=te.numFailures,Se=te.failures;if(Te===0)return fe;for(var Le=0,je=Object.keys(Se);Le<je.length;Le++){var Fe,rt=je[Le],lt=ne[Number(rt)];lt!=null&&(Fe=Se[rt],delete Se[rt],Se[lt]=Fe)}throw new De("".concat(b.name,".bulkUpdate(): ").concat(Te," of ").concat(fe," operations failed"),Se)})})})},An.prototype.bulkDelete=function(v){var b=this,A=v.length;return this._trans("readwrite",function(M){return b.core.mutate({trans:M,type:"delete",keys:v})}).then(function(he){var z=he.numFailures,ne=he.lastResult,he=he.failures;if(z===0)return ne;throw new De("".concat(b.name,".bulkDelete(): ").concat(z," of ").concat(A," operations failed"),he)})},An);function An(){}function Co(v){function b(he,xe){if(xe){for(var Ue=arguments.length,J=new Array(Ue-1);--Ue;)J[Ue-1]=arguments[Ue];return A[he].subscribe.apply(null,J),v}if(typeof he=="string")return A[he]}var A={};b.addEventType=ne;for(var M=1,z=arguments.length;M<z;++M)ne(arguments[M]);return b;function ne(he,xe,Ue){if(typeof he!="object"){var J;xe=xe||Qe;var fe={subscribers:[],fire:Ue=Ue||N,subscribe:function(te){fe.subscribers.indexOf(te)===-1&&(fe.subscribers.push(te),fe.fire=xe(fe.fire,te))},unsubscribe:function(te){fe.subscribers=fe.subscribers.filter(function(Te){return Te!==te}),fe.fire=fe.subscribers.reduce(xe,Ue)}};return A[he]=b[he]=fe}o(J=he).forEach(function(te){var Te=J[te];if(l(Te))ne(te,J[te][0],J[te][1]);else{if(Te!=="asap")throw new He.InvalidArgument("Invalid event config");var Se=ne(te,Q,function(){for(var Le=arguments.length,je=new Array(Le);Le--;)je[Le]=arguments[Le];Se.subscribers.forEach(function(Fe){O(function(){Fe.apply(null,je)})})})}})}}function Ln(v,b){return S(b).from({prototype:v}),b}function pi(v,b){return!(v.filter||v.algorithm||v.or)&&(b?v.justLimit:!v.replayFilter)}function ml(v,b){v.filter=Ri(v.filter,b)}function gr(v,b,A){var M=v.replayFilter;v.replayFilter=M?function(){return Ri(M(),b())}:b,v.justLimit=A&&!M}function fs(v,b){if(v.isPrimKey)return b.primaryKey;var A=b.getIndexByKeyPath(v.index);if(!A)throw new He.Schema("KeyPath "+v.index+" on object store "+b.name+" is not indexed");return A}function hl(v,b,A){var M=fs(v,b.schema);return b.openCursor({trans:A,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:M,range:v.range}})}function to(v,b,A,M){var z=v.replayFilter?Ri(v.filter,v.replayFilter()):v.filter;if(v.or){var ne={},he=function(xe,Ue,J){var fe,te;z&&!z(Ue,J,function(Te){return Ue.stop(Te)},function(Te){return Ue.fail(Te)})||((te=""+(fe=Ue.primaryKey))=="[object ArrayBuffer]"&&(te=""+new Uint8Array(fe)),m(ne,te)||(ne[te]=!0,b(xe,Ue,J)))};return Promise.all([v.or._iterate(he,A),ms(hl(v,M,A),v.algorithm,he,!v.keysOnly&&v.valueMapper)])}return ms(hl(v,M,A),Ri(v.algorithm,z),b,!v.keysOnly&&v.valueMapper)}function ms(v,b,A,M){var z=Kn(M?function(ne,he,xe){return A(M(ne),he,xe)}:A);return v.then(function(ne){if(ne)return ne.start(function(){var he=function(){return ne.continue()};b&&!b(ne,function(xe){return he=xe},function(xe){ne.stop(xe),he=N},function(xe){ne.fail(xe),he=N})||z(ne.value,ne,function(xe){return he=xe}),he()})})}var xo=(Po.prototype.execute=function(v){var b=this["@@propmod"];if(b.add!==void 0){var A=b.add;if(l(A))return r(r([],l(v)?v:[],!0),A).sort();if(typeof A=="number")return(Number(v)||0)+A;if(typeof A=="bigint")try{return BigInt(v)+A}catch{return BigInt(0)+A}throw new TypeError("Invalid term ".concat(A))}if(b.remove!==void 0){var M=b.remove;if(l(M))return l(v)?v.filter(function(z){return!M.includes(z)}).sort():[];if(typeof M=="number")return Number(v)-M;if(typeof M=="bigint")try{return BigInt(v)-M}catch{return BigInt(0)-M}throw new TypeError("Invalid subtrahend ".concat(M))}return A=(A=b.replacePrefix)===null||A===void 0?void 0:A[0],A&&typeof v=="string"&&v.startsWith(A)?b.replacePrefix[1]+v.substring(A.length):v},Po);function Po(v){this["@@propmod"]=v}var ou=(cn.prototype._read=function(v,b){var A=this._ctx;return A.error?A.table._trans(null,Fn.bind(null,A.error)):A.table._trans("readonly",v).then(b)},cn.prototype._write=function(v){var b=this._ctx;return b.error?b.table._trans(null,Fn.bind(null,b.error)):b.table._trans("readwrite",v,"locked")},cn.prototype._addAlgorithm=function(v){var b=this._ctx;b.algorithm=Ri(b.algorithm,v)},cn.prototype._iterate=function(v,b){return to(this._ctx,v,b,this._ctx.table.core)},cn.prototype.clone=function(v){var b=Object.create(this.constructor.prototype),A=Object.create(this._ctx);return v&&u(A,v),b._ctx=A,b},cn.prototype.raw=function(){return this._ctx.valueMapper=null,this},cn.prototype.each=function(v){var b=this._ctx;return this._read(function(A){return to(b,v,A,b.table.core)})},cn.prototype.count=function(v){var b=this;return this._read(function(A){var M=b._ctx,z=M.table.core;if(pi(M,!0))return z.count({trans:A,query:{index:fs(M,z.schema),range:M.range}}).then(function(he){return Math.min(he,M.limit)});var ne=0;return to(M,function(){return++ne,!1},A,z).then(function(){return ne})}).then(v)},cn.prototype.sortBy=function(v,b){var A=v.split(".").reverse(),M=A[0],z=A.length-1;function ne(Ue,J){return J?ne(Ue[A[J]],J-1):Ue[M]}var he=this._ctx.dir==="next"?1:-1;function xe(Ue,J){return _n(ne(Ue,z),ne(J,z))*he}return this.toArray(function(Ue){return Ue.sort(xe)}).then(b)},cn.prototype.toArray=function(v){var b=this;return this._read(function(A){var M=b._ctx;if(M.dir==="next"&&pi(M,!0)&&0<M.limit){var z=M.valueMapper,ne=fs(M,M.table.core.schema);return M.table.core.query({trans:A,limit:M.limit,values:!0,query:{index:ne,range:M.range}}).then(function(xe){return xe=xe.result,z?xe.map(z):xe})}var he=[];return to(M,function(xe){return he.push(xe)},A,M.table.core).then(function(){return he})},v)},cn.prototype.offset=function(v){var b=this._ctx;return v<=0||(b.offset+=v,pi(b)?gr(b,function(){var A=v;return function(M,z){return A===0||(A===1?--A:z(function(){M.advance(A),A=0}),!1)}}):gr(b,function(){var A=v;return function(){return--A<0}})),this},cn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),gr(this._ctx,function(){var b=v;return function(A,M,z){return--b<=0&&M(z),0<=b}},!0),this},cn.prototype.until=function(v,b){return ml(this._ctx,function(A,M,z){return!v(A.value)||(M(z),b)}),this},cn.prototype.first=function(v){return this.limit(1).toArray(function(b){return b[0]}).then(v)},cn.prototype.last=function(v){return this.reverse().first(v)},cn.prototype.filter=function(v){var b;return ml(this._ctx,function(A){return v(A.value)}),(b=this._ctx).isMatch=Ri(b.isMatch,v),this},cn.prototype.and=function(v){return this.filter(v)},cn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},cn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},cn.prototype.desc=function(){return this.reverse()},cn.prototype.eachKey=function(v){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(A,M){v(M.key,M)})},cn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},cn.prototype.eachPrimaryKey=function(v){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(A,M){v(M.primaryKey,M)})},cn.prototype.keys=function(v){var b=this._ctx;b.keysOnly=!b.isMatch;var A=[];return this.each(function(M,z){A.push(z.key)}).then(function(){return A}).then(v)},cn.prototype.primaryKeys=function(v){var b=this._ctx;if(b.dir==="next"&&pi(b,!0)&&0<b.limit)return this._read(function(M){var z=fs(b,b.table.core.schema);return b.table.core.query({trans:M,values:!1,limit:b.limit,query:{index:z,range:b.range}})}).then(function(M){return M.result}).then(v);b.keysOnly=!b.isMatch;var A=[];return this.each(function(M,z){A.push(z.primaryKey)}).then(function(){return A}).then(v)},cn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},cn.prototype.firstKey=function(v){return this.limit(1).keys(function(b){return b[0]}).then(v)},cn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},cn.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var b={};return ml(this._ctx,function(z){var M=z.primaryKey.toString(),z=m(b,M);return b[M]=!0,!z}),this},cn.prototype.modify=function(v){var b=this,A=this._ctx;return this._write(function(M){var z,ne,he;he=typeof v=="function"?v:(z=o(v),ne=z.length,function(Fe){for(var rt=!1,lt=0;lt<ne;++lt){var x=z[lt],T=v[x],q=U(Fe,x);T instanceof xo?(Y(Fe,x,T.execute(q)),rt=!0):q!==T&&(Y(Fe,x,T),rt=!0)}return rt});var xe=A.table.core,te=xe.schema.primaryKey,Ue=te.outbound,J=te.extractKey,fe=200,te=b.db._options.modifyChunkSize;te&&(fe=typeof te=="object"?te[xe.name]||te["*"]||200:te);function Te(Fe,x){var lt=x.failures,x=x.numFailures;Le+=Fe-x;for(var T=0,q=o(lt);T<q.length;T++){var X=q[T];Se.push(lt[X])}}var Se=[],Le=0,je=[];return b.clone().primaryKeys().then(function(Fe){function rt(x){var T=Math.min(fe,Fe.length-x);return xe.getMany({trans:M,keys:Fe.slice(x,x+T),cache:"immutable"}).then(function(q){for(var X=[],me=[],be=Ue?[]:null,we=[],Re=0;Re<T;++Re){var Je=q[Re],mt={value:ce(Je),primKey:Fe[x+Re]};he.call(mt,mt.value,mt)!==!1&&(mt.value==null?we.push(Fe[x+Re]):Ue||_n(J(Je),J(mt.value))===0?(me.push(mt.value),Ue&&be.push(Fe[x+Re])):(we.push(Fe[x+Re]),X.push(mt.value)))}return Promise.resolve(0<X.length&&xe.mutate({trans:M,type:"add",values:X}).then(function(wt){for(var Et in wt.failures)we.splice(parseInt(Et),1);Te(X.length,wt)})).then(function(){return(0<me.length||lt&&typeof v=="object")&&xe.mutate({trans:M,type:"put",keys:be,values:me,criteria:lt,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<x}).then(function(wt){return Te(me.length,wt)})}).then(function(){return(0<we.length||lt&&v===vl)&&xe.mutate({trans:M,type:"delete",keys:we,criteria:lt,isAdditionalChunk:0<x}).then(function(wt){return Te(we.length,wt)})}).then(function(){return Fe.length>x+T&&rt(x+fe)})})}var lt=pi(A)&&A.limit===1/0&&(typeof v!="function"||v===vl)&&{index:A.index,range:A.range};return rt(0).then(function(){if(0<Se.length)throw new Me("Error modifying one or more objects",Se,Le,je);return Fe.length})})})},cn.prototype.delete=function(){var v=this._ctx,b=v.range;return pi(v)&&(v.isPrimKey||b.type===3)?this._write(function(A){var M=v.table.core.schema.primaryKey,z=b;return v.table.core.count({trans:A,query:{index:M,range:z}}).then(function(ne){return v.table.core.mutate({trans:A,type:"deleteRange",range:z}).then(function(he){var xe=he.failures;if(he.lastResult,he.results,he=he.numFailures,he)throw new Me("Could not delete some values",Object.keys(xe).map(function(Ue){return xe[Ue]}),ne-he);return ne-he})})}):this.modify(vl)},cn);function cn(){}var vl=function(v,b){return b.value=null};function su(v,b){return v<b?-1:v===b?0:1}function Md(v,b){return b<v?-1:v===b?0:1}function sr(v,b,A){return v=v instanceof pc?new v.Collection(v):v,v._ctx.error=new(A||TypeError)(b),v}function Fi(v){return new v.Collection(v,function(){return _c("")}).limit(0)}function Wa(v,b,A,M){var z,ne,he,xe,Ue,J,fe,te=A.length;if(!A.every(function(Le){return typeof Le=="string"}))return sr(v,hc);function Te(Le){z=Le==="next"?function(Fe){return Fe.toUpperCase()}:function(Fe){return Fe.toLowerCase()},ne=Le==="next"?function(Fe){return Fe.toLowerCase()}:function(Fe){return Fe.toUpperCase()},he=Le==="next"?su:Md;var je=A.map(function(Fe){return{lower:ne(Fe),upper:z(Fe)}}).sort(function(Fe,rt){return he(Fe.lower,rt.lower)});xe=je.map(function(Fe){return Fe.upper}),Ue=je.map(function(Fe){return Fe.lower}),fe=(J=Le)==="next"?"":M}Te("next"),v=new v.Collection(v,function(){return Yr(xe[0],Ue[te-1]+M)}),v._ondirectionchange=function(Le){Te(Le)};var Se=0;return v._addAlgorithm(function(Le,je,Fe){var rt=Le.key;if(typeof rt!="string")return!1;var lt=ne(rt);if(b(lt,Ue,Se))return!0;for(var x=null,T=Se;T<te;++T){var q=function(X,me,be,we,Re,Je){for(var mt=Math.min(X.length,we.length),wt=-1,Et=0;Et<mt;++Et){var zt=me[Et];if(zt!==we[Et])return Re(X[Et],be[Et])<0?X.substr(0,Et)+be[Et]+be.substr(Et+1):Re(X[Et],we[Et])<0?X.substr(0,Et)+we[Et]+be.substr(Et+1):0<=wt?X.substr(0,wt)+me[wt]+be.substr(wt+1):null;Re(X[Et],zt)<0&&(wt=Et)}return mt<we.length&&Je==="next"?X+be.substr(X.length):mt<X.length&&Je==="prev"?X.substr(0,be.length):wt<0?null:X.substr(0,wt)+we[wt]+be.substr(wt+1)}(rt,lt,xe[T],Ue[T],he,J);q===null&&x===null?Se=T+1:(x===null||0<he(x,q))&&(x=q)}return je(x!==null?function(){Le.continue(x+fe)}:Fe),!1}),v}function Yr(v,b,A,M){return{type:2,lower:v,upper:b,lowerOpen:A,upperOpen:M}}function _c(v){return{type:1,lower:v,upper:v}}var pc=(Object.defineProperty(Hn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Hn.prototype.between=function(v,b,A,M){A=A!==!1,M=M===!0;try{return 0<this._cmp(v,b)||this._cmp(v,b)===0&&(A||M)&&(!A||!M)?Fi(this):new this.Collection(this,function(){return Yr(v,b,!A,!M)})}catch{return sr(this,or)}},Hn.prototype.equals=function(v){return v==null?sr(this,or):new this.Collection(this,function(){return _c(v)})},Hn.prototype.above=function(v){return v==null?sr(this,or):new this.Collection(this,function(){return Yr(v,void 0,!0)})},Hn.prototype.aboveOrEqual=function(v){return v==null?sr(this,or):new this.Collection(this,function(){return Yr(v,void 0,!1)})},Hn.prototype.below=function(v){return v==null?sr(this,or):new this.Collection(this,function(){return Yr(void 0,v,!1,!0)})},Hn.prototype.belowOrEqual=function(v){return v==null?sr(this,or):new this.Collection(this,function(){return Yr(void 0,v)})},Hn.prototype.startsWith=function(v){return typeof v!="string"?sr(this,hc):this.between(v,v+Bi,!0,!0)},Hn.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):Wa(this,function(b,A){return b.indexOf(A[0])===0},[v],Bi)},Hn.prototype.equalsIgnoreCase=function(v){return Wa(this,function(b,A){return b===A[0]},[v],"")},Hn.prototype.anyOfIgnoreCase=function(){var v=re.apply($e,arguments);return v.length===0?Fi(this):Wa(this,function(b,A){return A.indexOf(b)!==-1},v,"")},Hn.prototype.startsWithAnyOfIgnoreCase=function(){var v=re.apply($e,arguments);return v.length===0?Fi(this):Wa(this,function(b,A){return A.some(function(M){return b.indexOf(M)===0})},v,Bi)},Hn.prototype.anyOf=function(){var v=this,b=re.apply($e,arguments),A=this._cmp;try{b.sort(A)}catch{return sr(this,or)}if(b.length===0)return Fi(this);var M=new this.Collection(this,function(){return Yr(b[0],b[b.length-1])});M._ondirectionchange=function(ne){A=ne==="next"?v._ascending:v._descending,b.sort(A)};var z=0;return M._addAlgorithm(function(ne,he,xe){for(var Ue=ne.key;0<A(Ue,b[z]);)if(++z===b.length)return he(xe),!1;return A(Ue,b[z])===0||(he(function(){ne.continue(b[z])}),!1)}),M},Hn.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Hn.prototype.noneOf=function(){var v=re.apply($e,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return sr(this,or)}var b=v.reduce(function(A,M){return A?A.concat([[A[A.length-1][1],M]]):[[-1/0,M]]},null);return b.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},Hn.prototype.inAnyRange=function(rt,b){var A=this,M=this._cmp,z=this._ascending,ne=this._descending,he=this._min,xe=this._max;if(rt.length===0)return Fi(this);if(!rt.every(function(lt){return lt[0]!==void 0&&lt[1]!==void 0&&z(lt[0],lt[1])<=0}))return sr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",He.InvalidArgument);var Ue=!b||b.includeLowers!==!1,J=b&&b.includeUppers===!0,fe,te=z;function Te(lt,x){return te(lt[0],x[0])}try{(fe=rt.reduce(function(lt,x){for(var T=0,q=lt.length;T<q;++T){var X=lt[T];if(M(x[0],X[1])<0&&0<M(x[1],X[0])){X[0]=he(X[0],x[0]),X[1]=xe(X[1],x[1]);break}}return T===q&&lt.push(x),lt},[])).sort(Te)}catch{return sr(this,or)}var Se=0,Le=J?function(lt){return 0<z(lt,fe[Se][1])}:function(lt){return 0<=z(lt,fe[Se][1])},je=Ue?function(lt){return 0<ne(lt,fe[Se][0])}:function(lt){return 0<=ne(lt,fe[Se][0])},Fe=Le,rt=new this.Collection(this,function(){return Yr(fe[0][0],fe[fe.length-1][1],!Ue,!J)});return rt._ondirectionchange=function(lt){te=lt==="next"?(Fe=Le,z):(Fe=je,ne),fe.sort(Te)},rt._addAlgorithm(function(lt,x,T){for(var q,X=lt.key;Fe(X);)if(++Se===fe.length)return x(T),!1;return!Le(q=X)&&!je(q)||(A._cmp(X,fe[Se][1])===0||A._cmp(X,fe[Se][0])===0||x(function(){te===z?lt.continue(fe[Se][0]):lt.continue(fe[Se][1])}),!1)}),rt},Hn.prototype.startsWithAnyOf=function(){var v=re.apply($e,arguments);return v.every(function(b){return typeof b=="string"})?v.length===0?Fi(this):this.inAnyRange(v.map(function(b){return[b,b+Bi]})):sr(this,"startsWithAnyOf() only works with strings")},Hn);function Hn(){}function Kr(v){return Kn(function(b){return hs(b),v(b.target.error),!1})}function hs(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var vs="storagemutated",_s="x-storagemutated-1",$i=Co(null,vs),ps=(oi.prototype._lock=function(){return V(!Mt.global),++this._reculock,this._reculock!==1||Mt.global||(Mt.lockOwnerFor=this),this},oi.prototype._unlock=function(){if(V(!Mt.global),--this._reculock==0)for(Mt.global||(Mt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{jr(v[1],v[0])}catch{}}return this},oi.prototype._locked=function(){return this._reculock&&Mt.lockOwnerFor!==this},oi.prototype.create=function(v){var b=this;if(!this.mode)return this;var A=this.db.idbdb,M=this.db._state.dbOpenError;if(V(!this.idbtrans),!v&&!A)switch(M&&M.name){case"DatabaseClosedError":throw new He.DatabaseClosed(M);case"MissingAPIError":throw new He.MissingAPI(M.message,M);default:throw new He.OpenFailed(M)}if(!this.active)throw new He.TransactionInactive;return V(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||A).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Kn(function(z){hs(z),b._reject(v.error)}),v.onabort=Kn(function(z){hs(z),b.active&&b._reject(new He.Abort(v.error)),b.active=!1,b.on("abort").fire(z)}),v.oncomplete=Kn(function(){b.active=!1,b._resolve(),"mutatedParts"in v&&$i.storagemutated.fire(v.mutatedParts)}),this},oi.prototype._promise=function(v,b,A){var M=this;if(v==="readwrite"&&this.mode!=="readwrite")return Fn(new He.ReadOnly("Transaction is readonly"));if(!this.active)return Fn(new He.TransactionInactive);if(this._locked())return new ft(function(ne,he){M._blockedFuncs.push([function(){M._promise(v,b,A).then(ne,he)},Mt])});if(A)return Mi(function(){var ne=new ft(function(he,xe){M._lock();var Ue=b(he,xe,M);Ue&&Ue.then&&Ue.then(he,xe)});return ne.finally(function(){return M._unlock()}),ne._lib=!0,ne});var z=new ft(function(ne,he){var xe=b(ne,he,M);xe&&xe.then&&xe.then(ne,he)});return z._lib=!0,z},oi.prototype._root=function(){return this.parent?this.parent._root():this},oi.prototype.waitFor=function(v){var b,A=this._root(),M=ft.resolve(v);A._waitingFor?A._waitingFor=A._waitingFor.then(function(){return M}):(A._waitingFor=M,A._waitingQueue=[],b=A.idbtrans.objectStore(A.storeNames[0]),function ne(){for(++A._spinCount;A._waitingQueue.length;)A._waitingQueue.shift()();A._waitingFor&&(b.get(-1/0).onsuccess=ne)}());var z=A._waitingFor;return new ft(function(ne,he){M.then(function(xe){return A._waitingQueue.push(Kn(ne.bind(null,xe)))},function(xe){return A._waitingQueue.push(Kn(he.bind(null,xe)))}).finally(function(){A._waitingFor===z&&(A._waitingFor=null)})})},oi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new He.Abort))},oi.prototype.table=function(v){var b=this._memoizedTables||(this._memoizedTables={});if(m(b,v))return b[v];var A=this.schema[v];if(!A)throw new He.NotFound("Table "+v+" not part of transaction");return A=new this.db.Table(v,A,this),A.core=this.db.core.table(v),b[v]=A},oi);function oi(){}function lu(v,b,A,M,z,ne,he){return{name:v,keyPath:b,unique:A,multi:M,auto:z,compound:ne,src:(A&&!he?"&":"")+(M?"*":"")+(z?"++":"")+gc(b)}}function gc(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function uu(v,b,A){return{name:v,primKey:b,indexes:A,mappedClass:null,idxByName:(M=function(z){return[z.name,z]},A.reduce(function(z,ne,he){return he=M(ne,he),he&&(z[he[0]]=he[1]),z},{}))};var M}var gs=function(v){try{return v.only([[]]),gs=function(){return[[]]},[[]]}catch{return gs=function(){return Bi},Bi}};function Nn(v){return v==null?function(){}:typeof v=="string"?(b=v).split(".").length===1?function(A){return A[b]}:function(A){return U(A,b)}:function(A){return U(A,v)};var b}function $n(v){return[].slice.call(v)}var Bd=0;function To(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function yc(v,b,Ue){function M(Fe){if(Fe.type===3)return null;if(Fe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Se=Fe.lower,Le=Fe.upper,je=Fe.lowerOpen,Fe=Fe.upperOpen;return Se===void 0?Le===void 0?null:b.upperBound(Le,!!Fe):Le===void 0?b.lowerBound(Se,!!je):b.bound(Se,Le,!!je,!!Fe)}function z(Te){var Se,Le=Te.name;return{name:Le,schema:Te,mutate:function(je){var Fe=je.trans,rt=je.type,lt=je.keys,x=je.values,T=je.range;return new Promise(function(q,X){q=Kn(q);var me=Fe.objectStore(Le),be=me.keyPath==null,we=rt==="put"||rt==="add";if(!we&&rt!=="delete"&&rt!=="deleteRange")throw new Error("Invalid operation type: "+rt);var Re,Je=(lt||x||{length:1}).length;if(lt&&x&&lt.length!==x.length)throw new Error("Given keys array must have same length as given values array.");if(Je===0)return q({numFailures:0,failures:{},results:[],lastResult:void 0});function mt(pn){++zt,hs(pn)}var wt=[],Et=[],zt=0;if(rt==="deleteRange"){if(T.type===4)return q({numFailures:zt,failures:Et,results:[],lastResult:void 0});T.type===3?wt.push(Re=me.clear()):wt.push(Re=me.delete(M(T)))}else{var be=we?be?[x,lt]:[x,null]:[lt,null],It=be[0],tn=be[1];if(we)for(var un=0;un<Je;++un)wt.push(Re=tn&&tn[un]!==void 0?me[rt](It[un],tn[un]):me[rt](It[un])),Re.onerror=mt;else for(un=0;un<Je;++un)wt.push(Re=me[rt](It[un])),Re.onerror=mt}function Tn(pn){pn=pn.target.result,wt.forEach(function(St,Ht){return St.error!=null&&(Et[Ht]=St.error)}),q({numFailures:zt,failures:Et,results:rt==="delete"?lt:wt.map(function(St){return St.result}),lastResult:pn})}Re.onerror=function(pn){mt(pn),Tn(pn)},Re.onsuccess=Tn})},getMany:function(je){var Fe=je.trans,rt=je.keys;return new Promise(function(lt,x){lt=Kn(lt);for(var T,q=Fe.objectStore(Le),X=rt.length,me=new Array(X),be=0,we=0,Re=function(wt){wt=wt.target,me[wt._pos]=wt.result,++we===be&&lt(me)},Je=Kr(x),mt=0;mt<X;++mt)rt[mt]!=null&&((T=q.get(rt[mt]))._pos=mt,T.onsuccess=Re,T.onerror=Je,++be);be===0&&lt(me)})},get:function(je){var Fe=je.trans,rt=je.key;return new Promise(function(lt,x){lt=Kn(lt);var T=Fe.objectStore(Le).get(rt);T.onsuccess=function(q){return lt(q.target.result)},T.onerror=Kr(x)})},query:(Se=J,function(je){return new Promise(function(Fe,rt){Fe=Kn(Fe);var lt,x,T,be=je.trans,q=je.values,X=je.limit,Re=je.query,me=X===1/0?void 0:X,we=Re.index,Re=Re.range,be=be.objectStore(Le),we=we.isPrimaryKey?be:be.index(we.name),Re=M(Re);if(X===0)return Fe({result:[]});Se?((me=q?we.getAll(Re,me):we.getAllKeys(Re,me)).onsuccess=function(Je){return Fe({result:Je.target.result})},me.onerror=Kr(rt)):(lt=0,x=!q&&"openKeyCursor"in we?we.openKeyCursor(Re):we.openCursor(Re),T=[],x.onsuccess=function(Je){var mt=x.result;return mt?(T.push(q?mt.value:mt.primaryKey),++lt===X?Fe({result:T}):void mt.continue()):Fe({result:T})},x.onerror=Kr(rt))})}),openCursor:function(je){var Fe=je.trans,rt=je.values,lt=je.query,x=je.reverse,T=je.unique;return new Promise(function(q,X){q=Kn(q);var we=lt.index,me=lt.range,be=Fe.objectStore(Le),be=we.isPrimaryKey?be:be.index(we.name),we=x?T?"prevunique":"prev":T?"nextunique":"next",Re=!rt&&"openKeyCursor"in be?be.openKeyCursor(M(me),we):be.openCursor(M(me),we);Re.onerror=Kr(X),Re.onsuccess=Kn(function(Je){var mt,wt,Et,zt,It=Re.result;It?(It.___id=++Bd,It.done=!1,mt=It.continue.bind(It),wt=(wt=It.continuePrimaryKey)&&wt.bind(It),Et=It.advance.bind(It),zt=function(){throw new Error("Cursor not stopped")},It.trans=Fe,It.stop=It.continue=It.continuePrimaryKey=It.advance=function(){throw new Error("Cursor not started")},It.fail=Kn(X),It.next=function(){var tn=this,un=1;return this.start(function(){return un--?tn.continue():tn.stop()}).then(function(){return tn})},It.start=function(tn){function un(){if(Re.result)try{tn()}catch(pn){It.fail(pn)}else It.done=!0,It.start=function(){throw new Error("Cursor behind last entry")},It.stop()}var Tn=new Promise(function(pn,St){pn=Kn(pn),Re.onerror=Kr(St),It.fail=St,It.stop=function(Ht){It.stop=It.continue=It.continuePrimaryKey=It.advance=zt,pn(Ht)}});return Re.onsuccess=Kn(function(pn){Re.onsuccess=un,un()}),It.continue=mt,It.continuePrimaryKey=wt,It.advance=Et,un(),Tn},q(It)):q(null)},X)})},count:function(je){var Fe=je.query,rt=je.trans,lt=Fe.index,x=Fe.range;return new Promise(function(T,q){var X=rt.objectStore(Le),me=lt.isPrimaryKey?X:X.index(lt.name),X=M(x),me=X?me.count(X):me.count();me.onsuccess=Kn(function(be){return T(be.target.result)}),me.onerror=Kr(q)})}}}var ne,he,xe,fe=(he=Ue,xe=$n((ne=v).objectStoreNames),{schema:{name:ne.name,tables:xe.map(function(Te){return he.objectStore(Te)}).map(function(Te){var Se=Te.keyPath,Fe=Te.autoIncrement,Le=l(Se),je={},Fe={name:Te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Se==null,compound:Le,keyPath:Se,autoIncrement:Fe,unique:!0,extractKey:Nn(Se)},indexes:$n(Te.indexNames).map(function(rt){return Te.index(rt)}).map(function(T){var lt=T.name,x=T.unique,q=T.multiEntry,T=T.keyPath,q={name:lt,compound:l(T),keyPath:T,unique:x,multiEntry:q,extractKey:Nn(T)};return je[To(T)]=q}),getIndexByKeyPath:function(rt){return je[To(rt)]}};return je[":id"]=Fe.primaryKey,Se!=null&&(je[To(Se)]=Fe.primaryKey),Fe})},hasGetAll:0<xe.length&&"getAll"in he.objectStore(xe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ue=fe.schema,J=fe.hasGetAll,fe=Ue.tables.map(z),te={};return fe.forEach(function(Te){return te[Te.name]=Te}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(Te){if(!te[Te])throw new Error("Table '".concat(Te,"' not found"));return te[Te]},MIN_KEY:-1/0,MAX_KEY:gs(b),schema:Ue}}function Rd(v,b,A,M){var z=A.IDBKeyRange;return A.indexedDB,{dbcore:(M=yc(b,z,M),v.dbcore.reduce(function(ne,he){return he=he.create,a(a({},ne),he(ne))},M))}}function Do(v,M){var A=M.db,M=Rd(v._middlewares,A,v._deps,M);v.core=M.dbcore,v.tables.forEach(function(z){var ne=z.name;v.core.schema.tables.some(function(he){return he.name===ne})&&(z.core=v.core.table(ne),v[ne]instanceof v.Table&&(v[ne].core=z.core))})}function _l(v,b,A,M){A.forEach(function(z){var ne=M[z];b.forEach(function(he){var xe=function Ue(J,fe){return k(J,fe)||(J=f(J))&&Ue(J,fe)}(he,z);(!xe||"value"in xe&&xe.value===void 0)&&(he===v.Transaction.prototype||he instanceof v.Transaction?y(he,z,{get:function(){return this.table(z)},set:function(Ue){g(this,z,{value:Ue,writable:!0,configurable:!0,enumerable:!0})}}):he[z]=new v.Table(z,ne))})})}function ys(v,b){b.forEach(function(A){for(var M in A)A[M]instanceof v.Table&&delete A[M]})}function Fd(v,b){return v._cfg.version-b._cfg.version}function Ma(v,b,A,M){var z=v._dbSchema;A.objectStoreNames.contains("$meta")&&!z.$meta&&(z.$meta=uu("$meta",du("")[0],[]),v._storeNames.push("$meta"));var ne=v._createTransaction("readwrite",v._storeNames,z);ne.create(A),ne._completion.catch(M);var he=ne._reject.bind(ne),xe=Mt.transless||Mt;Mi(function(){return Mt.trans=ne,Mt.transless=xe,b!==0?(Do(v,A),J=b,((Ue=ne).storeNames.includes("$meta")?Ue.table("$meta").get("version").then(function(fe){return fe??J}):ft.resolve(J)).then(function(fe){return Te=fe,Se=ne,Le=A,je=[],fe=(te=v)._versions,Fe=te._dbSchema=bs(0,te.idbdb,Le),(fe=fe.filter(function(rt){return rt._cfg.version>=Te})).length!==0?(fe.forEach(function(rt){je.push(function(){var lt=Fe,x=rt._cfg.dbschema;ws(te,lt,Le),ws(te,x,Le),Fe=te._dbSchema=x;var T=gi(lt,x);T.add.forEach(function(we){pl(Le,we[0],we[1].primKey,we[1].indexes)}),T.change.forEach(function(we){if(we.recreate)throw new He.Upgrade("Not yet support for changing primary key");var Re=Le.objectStore(we.name);we.add.forEach(function(Je){return Xa(Re,Je)}),we.change.forEach(function(Je){Re.deleteIndex(Je.name),Xa(Re,Je)}),we.del.forEach(function(Je){return Re.deleteIndex(Je)})});var q=rt._cfg.contentUpgrade;if(q&&rt._cfg.version>Te){Do(te,Le),Se._memoizedTables={};var X=H(x);T.del.forEach(function(we){X[we]=lt[we]}),ys(te,[te.Transaction.prototype]),_l(te,[te.Transaction.prototype],o(X),X),Se.schema=X;var me,be=ee(q);return be&&yo(),T=ft.follow(function(){var we;(me=q(Se))&&be&&(we=Er.bind(null,null),me.then(we,we))}),me&&typeof me.then=="function"?ft.resolve(me):T.then(function(){return me})}}),je.push(function(lt){var x,T,q=rt._cfg.dbschema;x=q,T=lt,[].slice.call(T.db.objectStoreNames).forEach(function(X){return x[X]==null&&T.db.deleteObjectStore(X)}),ys(te,[te.Transaction.prototype]),_l(te,[te.Transaction.prototype],te._storeNames,te._dbSchema),Se.schema=te._dbSchema}),je.push(function(lt){te.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(te.idbdb.version/10)===rt._cfg.version?(te.idbdb.deleteObjectStore("$meta"),delete te._dbSchema.$meta,te._storeNames=te._storeNames.filter(function(x){return x!=="$meta"})):lt.objectStore("$meta").put(rt._cfg.version,"version"))})}),function rt(){return je.length?ft.resolve(je.shift()(Se.idbtrans)).then(rt):ft.resolve()}().then(function(){gl(Fe,Le)})):ft.resolve();var te,Te,Se,Le,je,Fe}).catch(he)):(o(z).forEach(function(fe){pl(A,fe,z[fe].primKey,z[fe].indexes)}),Do(v,A),void ft.follow(function(){return v.on.populate.fire(ne)}).catch(he));var Ue,J})}function cu(v,b){gl(v._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var A=bs(0,v.idbdb,b);ws(v,v._dbSchema,b);for(var M=0,z=gi(A,v._dbSchema).change;M<z.length;M++){var ne=function(he){if(he.change.length||he.recreate)return console.warn("Unable to patch indexes of table ".concat(he.name," because it has changes on the type of index or primary key.")),{value:void 0};var xe=b.objectStore(he.name);he.add.forEach(function(Ue){tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(he.name,".").concat(Ue.src)),Xa(xe,Ue)})}(z[M]);if(typeof ne=="object")return ne.value}}function gi(v,b){var A,M={del:[],add:[],change:[]};for(A in v)b[A]||M.del.push(A);for(A in b){var z=v[A],ne=b[A];if(z){var he={name:A,def:ne,recreate:!1,del:[],add:[],change:[]};if(""+(z.primKey.keyPath||"")!=""+(ne.primKey.keyPath||"")||z.primKey.auto!==ne.primKey.auto)he.recreate=!0,M.change.push(he);else{var xe=z.idxByName,Ue=ne.idxByName,J=void 0;for(J in xe)Ue[J]||he.del.push(J);for(J in Ue){var fe=xe[J],te=Ue[J];fe?fe.src!==te.src&&he.change.push(te):he.add.push(te)}(0<he.del.length||0<he.add.length||0<he.change.length)&&M.change.push(he)}}else M.add.push([A,ne])}return M}function pl(v,b,A,M){var z=v.db.createObjectStore(b,A.keyPath?{keyPath:A.keyPath,autoIncrement:A.auto}:{autoIncrement:A.auto});return M.forEach(function(ne){return Xa(z,ne)}),z}function gl(v,b){o(v).forEach(function(A){b.db.objectStoreNames.contains(A)||(tt&&console.debug("Dexie: Creating missing table",A),pl(b,A,v[A].primKey,v[A].indexes))})}function Xa(v,b){v.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function bs(v,b,A){var M={};return w(b.objectStoreNames,0).forEach(function(z){for(var ne=A.objectStore(z),he=lu(gc(J=ne.keyPath),J||"",!0,!1,!!ne.autoIncrement,J&&typeof J!="string",!0),xe=[],Ue=0;Ue<ne.indexNames.length;++Ue){var fe=ne.index(ne.indexNames[Ue]),J=fe.keyPath,fe=lu(fe.name,J,!!fe.unique,!!fe.multiEntry,!1,J&&typeof J!="string",!1);xe.push(fe)}M[z]=uu(z,he,xe)}),M}function ws(v,b,A){for(var M=A.db.objectStoreNames,z=0;z<M.length;++z){var ne=M[z],he=A.objectStore(ne);v._hasGetAll="getAll"in he;for(var xe=0;xe<he.indexNames.length;++xe){var Ue=he.indexNames[xe],J=he.index(Ue).keyPath,fe=typeof J=="string"?J:"["+w(J).join("+")+"]";!b[ne]||(J=b[ne].idxByName[fe])&&(J.name=Ue,delete b[ne].idxByName[fe],b[ne].idxByName[Ue]=J)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function du(v){return v.split(",").map(function(b,A){var M=(b=b.trim()).replace(/([&*]|\+\+)/g,""),z=/^\[/.test(M)?M.match(/^\[(.*)\]$/)[1].split("+"):M;return lu(M,z||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),l(z),A===0)})}var yl=(ks.prototype._parseStoresSpec=function(v,b){o(v).forEach(function(A){if(v[A]!==null){var M=du(v[A]),z=M.shift();if(z.unique=!0,z.multi)throw new He.Schema("Primary key cannot be multi-valued");M.forEach(function(ne){if(ne.auto)throw new He.Schema("Only primary key can be marked as autoIncrement (++)");if(!ne.keyPath)throw new He.Schema("Index must have a name and cannot be an empty string")}),b[A]=uu(A,z,M)}})},ks.prototype.stores=function(A){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,A):A;var A=b._versions,M={},z={};return A.forEach(function(ne){u(M,ne._cfg.storesSource),z=ne._cfg.dbschema={},ne._parseStoresSpec(M,z)}),b._dbSchema=z,ys(b,[b._allTables,b,b.Transaction.prototype]),_l(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(z),z),b._storeNames=o(z),this},ks.prototype.upgrade=function(v){return this._cfg.contentUpgrade=st(this._cfg.contentUpgrade||N,v),this},ks);function ks(){}function bl(v,b){var A=v._dbNamesDB;return A||(A=v._dbNamesDB=new yr(ul,{addons:[],indexedDB:v,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),A.table("dbnames")}function Ja(v){return v&&typeof v.databases=="function"}function wl(v){return Mi(function(){return Mt.letThrough=!0,v()})}function lr(v){return!("from"in v)}var ja=function(v,b){if(!this){var A=new ja;return v&&"d"in v&&u(A,v),A}u(this,arguments.length?{d:1,from:v,to:1<arguments.length?b:v}:{d:0})};function Io(v,b,A){var M=_n(b,A);if(!isNaN(M)){if(0<M)throw RangeError();if(lr(v))return u(v,{from:b,to:A,d:1});var z=v.l,M=v.r;if(_n(A,v.from)<0)return z?Io(z,b,A):v.l={from:b,to:A,d:1,l:null,r:null},Gn(v);if(0<_n(b,v.to))return M?Io(M,b,A):v.r={from:b,to:A,d:1,l:null,r:null},Gn(v);_n(b,v.from)<0&&(v.from=b,v.l=null,v.d=M?M.d+1:1),0<_n(A,v.to)&&(v.to=A,v.r=null,v.d=v.l?v.l.d+1:1),A=!v.r,z&&!v.l&&Vr(v,z),M&&A&&Vr(v,M)}}function Vr(v,b){lr(b)||function A(M,Ue){var ne=Ue.from,he=Ue.to,xe=Ue.l,Ue=Ue.r;Io(M,ne,he),xe&&A(M,xe),Ue&&A(M,Ue)}(v,b)}function Ss(v,b){var A=Ao(b),M=A.next();if(M.done)return!1;for(var z=M.value,ne=Ao(v),he=ne.next(z.from),xe=he.value;!M.done&&!he.done;){if(_n(xe.from,z.to)<=0&&0<=_n(xe.to,z.from))return!0;_n(z.from,xe.from)<0?z=(M=A.next(xe.from)).value:xe=(he=ne.next(z.from)).value}return!1}function Ao(v){var b=lr(v)?null:{s:0,n:v};return{next:function(A){for(var M=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,M)for(;b.n.l&&_n(A,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!M||_n(A,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Gn(v){var b,A,M=(((b=v.r)===null||b===void 0?void 0:b.d)||0)-(((A=v.l)===null||A===void 0?void 0:A.d)||0),z=1<M?"r":M<-1?"l":"";z&&(b=z=="r"?"l":"r",A=a({},v),M=v[z],v.from=M.from,v.to=M.to,v[z]=M[z],A[z]=M[b],(v[b]=A).d=yi(A)),v.d=yi(v)}function yi(A){var b=A.r,A=A.l;return(b?A?Math.max(b.d,A.d):b.d:A?A.d:0)+1}function Eo(v,b){return o(b).forEach(function(A){v[A]?Vr(v[A],b[A]):v[A]=function M(z){var ne,he,xe={};for(ne in z)m(z,ne)&&(he=z[ne],xe[ne]=!he||typeof he!="object"||G.has(he.constructor)?he:M(he));return xe}(b[A])}),v}function fu(v,b){return v.all||b.all||Object.keys(v).some(function(A){return b[A]&&Ss(b[A],v[A])})}p(ja.prototype,((br={add:function(v){return Vr(this,v),this},addKey:function(v){return Io(this,v,v),this},addKeys:function(v){var b=this;return v.forEach(function(A){return Io(b,A,A)}),this},hasKey:function(v){var b=Ao(this).next(v).value;return b&&_n(b.from,v)<=0&&0<=_n(b.to,v)}})[ae]=function(){return Ao(this)},br));var bi={},mu={},hu=!1;function kl(v){Eo(mu,v),hu||(hu=!0,setTimeout(function(){hu=!1,Vo(mu,!(mu={}))},0))}function Vo(v,b){b===void 0&&(b=!1);var A=new Set;if(v.all)for(var M=0,z=Object.values(bi);M<z.length;M++)Cs(he=z[M],v,A,b);else for(var ne in v){var he,xe=/^idb\:\/\/(.*)\/(.*)\//.exec(ne);xe&&(ne=xe[1],xe=xe[2],(he=bi["idb://".concat(ne,"/").concat(xe)])&&Cs(he,v,A,b))}A.forEach(function(Ue){return Ue()})}function Cs(v,b,A,M){for(var z=[],ne=0,he=Object.entries(v.queries.query);ne<he.length;ne++){for(var xe=he[ne],Ue=xe[0],J=[],fe=0,te=xe[1];fe<te.length;fe++){var Te=te[fe];fu(b,Te.obsSet)?Te.subscribers.forEach(function(Fe){return A.add(Fe)}):M&&J.push(Te)}M&&z.push([Ue,J])}if(M)for(var Se=0,Le=z;Se<Le.length;Se++){var je=Le[Se],Ue=je[0],J=je[1];v.queries.query[Ue]=J}}function si(v){var b=v._state,A=v._deps.indexedDB;if(b.isBeingOpened||v.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Fn(b.dbOpenError):v});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var M=b.openCanceller,z=Math.round(10*v.verno),ne=!1;function he(){if(b.openCanceller!==M)throw new He.DatabaseClosed("db.open() was cancelled")}function xe(){return new ft(function(Te,Se){if(he(),!A)throw new He.MissingAPI;var Le=v.name,je=b.autoSchema||!z?A.open(Le):A.open(Le,z);if(!je)throw new He.MissingAPI;je.onerror=Kr(Se),je.onblocked=Kn(v._fireOnBlocked),je.onupgradeneeded=Kn(function(Fe){var rt;fe=je.transaction,b.autoSchema&&!v._options.allowEmptyDB?(je.onerror=hs,fe.abort(),je.result.close(),(rt=A.deleteDatabase(Le)).onsuccess=rt.onerror=Kn(function(){Se(new He.NoSuchDatabase("Database ".concat(Le," doesnt exist")))})):(fe.onerror=Kr(Se),Fe=Fe.oldVersion>Math.pow(2,62)?0:Fe.oldVersion,te=Fe<1,v.idbdb=je.result,ne&&cu(v,fe),Ma(v,Fe/10,fe,Se))},Se),je.onsuccess=Kn(function(){fe=null;var Fe,rt,lt,x,T,q=v.idbdb=je.result,X=w(q.objectStoreNames);if(0<X.length)try{var me=q.transaction((x=X).length===1?x[0]:x,"readonly");if(b.autoSchema)rt=q,lt=me,(Fe=v).verno=rt.version/10,lt=Fe._dbSchema=bs(0,rt,lt),Fe._storeNames=w(rt.objectStoreNames,0),_l(Fe,[Fe._allTables],o(lt),lt);else if(ws(v,v._dbSchema,me),((T=gi(bs(0,(T=v).idbdb,me),T._dbSchema)).add.length||T.change.some(function(be){return be.add.length||be.change.length}))&&!ne)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),q.close(),z=q.version+1,ne=!0,Te(xe());Do(v,me)}catch{}wo.push(v),q.onversionchange=Kn(function(be){b.vcFired=!0,v.on("versionchange").fire(be)}),q.onclose=Kn(function(be){v.on("close").fire(be)}),te&&(T=v._deps,me=Le,q=T.indexedDB,T=T.IDBKeyRange,Ja(q)||me===ul||bl(q,T).put({name:me}).catch(N)),Te()},Se)}).catch(function(Te){switch(Te==null?void 0:Te.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),xe();break;case"VersionError":if(0<z)return z=0,xe()}return ft.reject(Te)})}var Ue,J=b.dbReadyResolve,fe=null,te=!1;return ft.race([M,(typeof navigator>"u"?ft.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Te){function Se(){return indexedDB.databases().finally(Te)}Ue=setInterval(Se,100),Se()}).finally(function(){return clearInterval(Ue)}):Promise.resolve()).then(xe)]).then(function(){return he(),b.onReadyBeingFired=[],ft.resolve(wl(function(){return v.on.ready.fire(v.vip)})).then(function Te(){if(0<b.onReadyBeingFired.length){var Se=b.onReadyBeingFired.reduce(st,N);return b.onReadyBeingFired=[],ft.resolve(wl(function(){return Se(v.vip)})).then(Te)}})}).finally(function(){b.openCanceller===M&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(Te){b.dbOpenError=Te;try{fe&&fe.abort()}catch{}return M===b.openCanceller&&v._close(),Fn(Te)}).finally(function(){b.openComplete=!0,J()}).then(function(){var Te;return te&&(Te={},v.tables.forEach(function(Se){Se.schema.indexes.forEach(function(Le){Le.name&&(Te["idb://".concat(v.name,"/").concat(Se.name,"/").concat(Le.name)]=new ja(-1/0,[[[]]]))}),Te["idb://".concat(v.name,"/").concat(Se.name,"/")]=Te["idb://".concat(v.name,"/").concat(Se.name,"/:dels")]=new ja(-1/0,[[[]]])}),$i(vs).fire(Te),Vo(Te,!0)),v})}function vu(v){function b(ne){return v.next(ne)}var A=z(b),M=z(function(ne){return v.throw(ne)});function z(ne){return function(Ue){var xe=ne(Ue),Ue=xe.value;return xe.done?Ue:Ue&&typeof Ue.then=="function"?Ue.then(A,M):l(Ue)?Promise.all(Ue).then(A,M):A(Ue)}}return z(b)()}function xs(v,b,A){for(var M=l(v)?v.slice():[v],z=0;z<A;++z)M.push(b);return M}var bc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return a(a({},v),{table:function(b){var A=v.table(b),M=A.schema,z={},ne=[];function he(te,Te,Se){var Le=To(te),je=z[Le]=z[Le]||[],Fe=te==null?0:typeof te=="string"?1:te.length,rt=0<Te,rt=a(a({},Se),{name:rt?"".concat(Le,"(virtual-from:").concat(Se.name,")"):Se.name,lowLevelIndex:Se,isVirtual:rt,keyTail:Te,keyLength:Fe,extractKey:Nn(te),unique:!rt&&Se.unique});return je.push(rt),rt.isPrimaryKey||ne.push(rt),1<Fe&&he(Fe===2?te[0]:te.slice(0,Fe-1),Te+1,Se),je.sort(function(lt,x){return lt.keyTail-x.keyTail}),rt}b=he(M.primaryKey.keyPath,0,M.primaryKey),z[":id"]=[b];for(var xe=0,Ue=M.indexes;xe<Ue.length;xe++){var J=Ue[xe];he(J.keyPath,0,J)}function fe(te){var Te,Se=te.query.index;return Se.isVirtual?a(a({},te),{query:{index:Se.lowLevelIndex,range:(Te=te.query.range,Se=Se.keyTail,{type:Te.type===1?2:Te.type,lower:xs(Te.lower,Te.lowerOpen?v.MAX_KEY:v.MIN_KEY,Se),lowerOpen:!0,upper:xs(Te.upper,Te.upperOpen?v.MIN_KEY:v.MAX_KEY,Se),upperOpen:!0})}}):te}return a(a({},A),{schema:a(a({},M),{primaryKey:b,indexes:ne,getIndexByKeyPath:function(te){return(te=z[To(te)])&&te[0]}}),count:function(te){return A.count(fe(te))},query:function(te){return A.query(fe(te))},openCursor:function(te){var Te=te.query.index,Se=Te.keyTail,Le=Te.isVirtual,je=Te.keyLength;return Le?A.openCursor(fe(te)).then(function(rt){return rt&&Fe(rt)}):A.openCursor(te);function Fe(rt){return Object.create(rt,{continue:{value:function(lt){lt!=null?rt.continue(xs(lt,te.reverse?v.MAX_KEY:v.MIN_KEY,Se)):te.unique?rt.continue(rt.key.slice(0,je).concat(te.reverse?v.MIN_KEY:v.MAX_KEY,Se)):rt.continue()}},continuePrimaryKey:{value:function(lt,x){rt.continuePrimaryKey(xs(lt,v.MAX_KEY,Se),x)}},primaryKey:{get:function(){return rt.primaryKey}},key:{get:function(){var lt=rt.key;return je===1?lt[0]:lt.slice(0,je)}},value:{get:function(){return rt.value}}})}}})}})}};function Ps(v,b,A,M){return A=A||{},M=M||"",o(v).forEach(function(z){var ne,he,xe;m(b,z)?(ne=v[z],he=b[z],typeof ne=="object"&&typeof he=="object"&&ne&&he?(xe=le(ne))!==le(he)?A[M+z]=b[z]:xe==="Object"?Ps(ne,he,A,M+z+"."):ne!==he&&(A[M+z]=b[z]):ne!==he&&(A[M+z]=b[z])):A[M+z]=void 0}),o(b).forEach(function(z){m(v,z)||(A[M+z]=b[z])}),A}function Li(v,b){return b.type==="delete"?b.keys:b.keys||b.values.map(v.extractKey)}var wc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return a(a({},v),{table:function(b){var A=v.table(b),M=A.schema.primaryKey;return a(a({},A),{mutate:function(z){var ne=Mt.trans,he=ne.table(b).hook,xe=he.deleting,Ue=he.creating,J=he.updating;switch(z.type){case"add":if(Ue.fire===N)break;return ne._promise("readwrite",function(){return fe(z)},!0);case"put":if(Ue.fire===N&&J.fire===N)break;return ne._promise("readwrite",function(){return fe(z)},!0);case"delete":if(xe.fire===N)break;return ne._promise("readwrite",function(){return fe(z)},!0);case"deleteRange":if(xe.fire===N)break;return ne._promise("readwrite",function(){return function te(Te,Se,Le){return A.query({trans:Te,values:!1,query:{index:M,range:Se},limit:Le}).then(function(je){var Fe=je.result;return fe({type:"delete",keys:Fe,trans:Te}).then(function(rt){return 0<rt.numFailures?Promise.reject(rt.failures[0]):Fe.length<Le?{failures:[],numFailures:0,lastResult:void 0}:te(Te,a(a({},Se),{lower:Fe[Fe.length-1],lowerOpen:!0}),Le)})})}(z.trans,z.range,1e4)},!0)}return A.mutate(z);function fe(te){var Te,Se,Le,je=Mt.trans,Fe=te.keys||Li(M,te);if(!Fe)throw new Error("Keys missing");return(te=te.type==="add"||te.type==="put"?a(a({},te),{keys:Fe}):a({},te)).type!=="delete"&&(te.values=r([],te.values)),te.keys&&(te.keys=r([],te.keys)),Te=A,Le=Fe,((Se=te).type==="add"?Promise.resolve([]):Te.getMany({trans:Se.trans,keys:Le,cache:"immutable"})).then(function(rt){var lt=Fe.map(function(x,T){var q,X,me,be=rt[T],we={onerror:null,onsuccess:null};return te.type==="delete"?xe.fire.call(we,x,be,je):te.type==="add"||be===void 0?(q=Ue.fire.call(we,x,te.values[T],je),x==null&&q!=null&&(te.keys[T]=x=q,M.outbound||Y(te.values[T],M.keyPath,x))):(q=Ps(be,te.values[T]),(X=J.fire.call(we,q,x,be,je))&&(me=te.values[T],Object.keys(X).forEach(function(Re){m(me,Re)?me[Re]=X[Re]:Y(me,Re,X[Re])}))),we});return A.mutate(te).then(function(x){for(var T=x.failures,q=x.results,X=x.numFailures,x=x.lastResult,me=0;me<Fe.length;++me){var be=(q||Fe)[me],we=lt[me];be==null?we.onerror&&we.onerror(T[me]):we.onsuccess&&we.onsuccess(te.type==="put"&&rt[me]?te.values[me]:be)}return{failures:T,results:q,numFailures:X,lastResult:x}}).catch(function(x){return lt.forEach(function(T){return T.onerror&&T.onerror(x)}),Promise.reject(x)})})}}})}})}};function _u(v,b,A){try{if(!b||b.keys.length<v.length)return null;for(var M=[],z=0,ne=0;z<b.keys.length&&ne<v.length;++z)_n(b.keys[z],v[ne])===0&&(M.push(A?ce(b.values[z]):b.values[z]),++ne);return M.length===v.length?M:null}catch{return null}}var Sl={stack:"dbcore",level:-1,create:function(v){return{table:function(b){var A=v.table(b);return a(a({},A),{getMany:function(M){if(!M.cache)return A.getMany(M);var z=_u(M.keys,M.trans._cache,M.cache==="clone");return z?ft.resolve(z):A.getMany(M).then(function(ne){return M.trans._cache={keys:M.keys,values:M.cache==="clone"?ce(ne):ne},ne})},mutate:function(M){return M.type!=="add"&&(M.trans._cache=null),A.mutate(M)}})}}}};function Cl(v,b){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function kc(v,b){switch(v){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Sc={stack:"dbcore",level:0,name:"Observability",create:function(v){var b=v.schema.name,A=new ja(v.MIN_KEY,v.MAX_KEY);return a(a({},v),{transaction:function(M,z,ne){if(Mt.subscr&&z!=="readonly")throw new He.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Mt.querier));return v.transaction(M,z,ne)},table:function(M){var z=v.table(M),ne=z.schema,he=ne.primaryKey,te=ne.indexes,xe=he.extractKey,Ue=he.outbound,J=he.autoIncrement&&te.filter(function(Se){return Se.compound&&Se.keyPath.includes(he.keyPath)}),fe=a(a({},z),{mutate:function(Se){function Le(Re){return Re="idb://".concat(b,"/").concat(M,"/").concat(Re),x[Re]||(x[Re]=new ja)}var je,Fe,rt,lt=Se.trans,x=Se.mutatedParts||(Se.mutatedParts={}),T=Le(""),q=Le(":dels"),X=Se.type,we=Se.type==="deleteRange"?[Se.range]:Se.type==="delete"?[Se.keys]:Se.values.length<50?[Li(he,Se).filter(function(Re){return Re}),Se.values]:[],me=we[0],be=we[1],we=Se.trans._cache;return l(me)?(T.addKeys(me),(we=X==="delete"||me.length===be.length?_u(me,we):null)||q.addKeys(me),(we||be)&&(je=Le,Fe=we,rt=be,ne.indexes.forEach(function(Re){var Je=je(Re.name||"");function mt(Et){return Et!=null?Re.extractKey(Et):null}function wt(Et){return Re.multiEntry&&l(Et)?Et.forEach(function(zt){return Je.addKey(zt)}):Je.addKey(Et)}(Fe||rt).forEach(function(Et,tn){var It=Fe&&mt(Fe[tn]),tn=rt&&mt(rt[tn]);_n(It,tn)!==0&&(It!=null&&wt(It),tn!=null&&wt(tn))})}))):me?(be={from:(be=me.lower)!==null&&be!==void 0?be:v.MIN_KEY,to:(be=me.upper)!==null&&be!==void 0?be:v.MAX_KEY},q.add(be),T.add(be)):(T.add(A),q.add(A),ne.indexes.forEach(function(Re){return Le(Re.name).add(A)})),z.mutate(Se).then(function(Re){return!me||Se.type!=="add"&&Se.type!=="put"||(T.addKeys(Re.results),J&&J.forEach(function(Je){for(var mt=Se.values.map(function(It){return Je.extractKey(It)}),wt=Je.keyPath.findIndex(function(It){return It===he.keyPath}),Et=0,zt=Re.results.length;Et<zt;++Et)mt[Et][wt]=Re.results[Et];Le(Je.name).addKeys(mt)})),lt.mutatedParts=Eo(lt.mutatedParts||{},x),Re})}}),te=function(Le){var je=Le.query,Le=je.index,je=je.range;return[Le,new ja((Le=je.lower)!==null&&Le!==void 0?Le:v.MIN_KEY,(je=je.upper)!==null&&je!==void 0?je:v.MAX_KEY)]},Te={get:function(Se){return[he,new ja(Se.key)]},getMany:function(Se){return[he,new ja().addKeys(Se.keys)]},count:te,query:te,openCursor:te};return o(Te).forEach(function(Se){fe[Se]=function(Le){var je=Mt.subscr,Fe=!!je,rt=Cl(Mt,z)&&kc(Se,Le)?Le.obsSet={}:je;if(Fe){var lt=function(be){return be="idb://".concat(b,"/").concat(M,"/").concat(be),rt[be]||(rt[be]=new ja)},x=lt(""),T=lt(":dels"),je=Te[Se](Le),Fe=je[0],je=je[1];if((Se==="query"&&Fe.isPrimaryKey&&!Le.values?T:lt(Fe.name||"")).add(je),!Fe.isPrimaryKey){if(Se!=="count"){var q=Se==="query"&&Ue&&Le.values&&z.query(a(a({},Le),{values:!1}));return z[Se].apply(this,arguments).then(function(be){if(Se==="query"){if(Ue&&Le.values)return q.then(function(mt){return mt=mt.result,x.addKeys(mt),be});var we=Le.values?be.result.map(xe):be.result;(Le.values?x:T).addKeys(we)}else if(Se==="openCursor"){var Re=be,Je=Le.values;return Re&&Object.create(Re,{key:{get:function(){return T.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var mt=Re.primaryKey;return T.addKey(mt),mt}},value:{get:function(){return Je&&x.addKey(Re.primaryKey),Re.value}}})}return be})}T.add(A)}}return z[Se].apply(this,arguments)}}),fe}})}};function ur(v,b,A){if(A.numFailures===0)return b;if(b.type==="deleteRange")return null;var M=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return A.numFailures===M?null:(b=a({},b),l(b.keys)&&(b.keys=b.keys.filter(function(z,ne){return!(ne in A.failures)})),"values"in b&&l(b.values)&&(b.values=b.values.filter(function(z,ne){return!(ne in A.failures)})),b)}function Ts(v,b){return A=v,((M=b).lower===void 0||(M.lowerOpen?0<_n(A,M.lower):0<=_n(A,M.lower)))&&(v=v,(b=b).upper===void 0||(b.upperOpen?_n(v,b.upper)<0:_n(v,b.upper)<=0));var A,M}function Oo(v,b,Te,M,z,ne){if(!Te||Te.length===0)return v;var he=b.query.index,xe=he.multiEntry,Ue=b.query.range,J=M.schema.primaryKey.extractKey,fe=he.extractKey,te=(he.lowLevelIndex||he).extractKey,Te=Te.reduce(function(Se,Le){var je=Se,Fe=[];if(Le.type==="add"||Le.type==="put")for(var rt=new ja,lt=Le.values.length-1;0<=lt;--lt){var x,T=Le.values[lt],q=J(T);rt.hasKey(q)||(x=fe(T),(xe&&l(x)?x.some(function(Re){return Ts(Re,Ue)}):Ts(x,Ue))&&(rt.addKey(q),Fe.push(T)))}switch(Le.type){case"add":var X=new ja().addKeys(b.values?Se.map(function(Je){return J(Je)}):Se),je=Se.concat(b.values?Fe.filter(function(Je){return Je=J(Je),!X.hasKey(Je)&&(X.addKey(Je),!0)}):Fe.map(function(Je){return J(Je)}).filter(function(Je){return!X.hasKey(Je)&&(X.addKey(Je),!0)}));break;case"put":var me=new ja().addKeys(Le.values.map(function(Je){return J(Je)}));je=Se.filter(function(Je){return!me.hasKey(b.values?J(Je):Je)}).concat(b.values?Fe:Fe.map(function(Je){return J(Je)}));break;case"delete":var be=new ja().addKeys(Le.keys);je=Se.filter(function(Je){return!be.hasKey(b.values?J(Je):Je)});break;case"deleteRange":var we=Le.range;je=Se.filter(function(Je){return!Ts(J(Je),we)})}return je},v);return Te===v?v:(Te.sort(function(Se,Le){return _n(te(Se),te(Le))||_n(J(Se),J(Le))}),b.limit&&b.limit<1/0&&(Te.length>b.limit?Te.length=b.limit:v.length===b.limit&&Te.length<b.limit&&(z.dirty=!0)),ne?Object.freeze(Te):Te)}function ta(v,b){return _n(v.lower,b.lower)===0&&_n(v.upper,b.upper)===0&&!!v.lowerOpen==!!b.lowerOpen&&!!v.upperOpen==!!b.upperOpen}function li(v,b){return function(A,M,z,ne){if(A===void 0)return M!==void 0?-1:0;if(M===void 0)return 1;if((M=_n(A,M))===0){if(z&&ne)return 0;if(z)return 1;if(ne)return-1}return M}(v.lower,b.lower,v.lowerOpen,b.lowerOpen)<=0&&0<=function(A,M,z,ne){if(A===void 0)return M!==void 0?1:0;if(M===void 0)return-1;if((M=_n(A,M))===0){if(z&&ne)return 0;if(z)return-1;if(ne)return 1}return M}(v.upper,b.upper,v.upperOpen,b.upperOpen)}function pu(v,b,A,M){v.subscribers.add(A),M.addEventListener("abort",function(){var z,ne;v.subscribers.delete(A),v.subscribers.size===0&&(z=v,ne=b,setTimeout(function(){z.subscribers.size===0&&Ee(ne,z)},3e3))})}var Cc={stack:"dbcore",level:0,name:"Cache",create:function(v){var b=v.schema.name;return a(a({},v),{transaction:function(A,M,z){var ne,he,xe=v.transaction(A,M,z);return M==="readwrite"&&(he=(ne=new AbortController).signal,z=function(Ue){return function(){if(ne.abort(),M==="readwrite"){for(var J=new Set,fe=0,te=A;fe<te.length;fe++){var Te=te[fe],Se=bi["idb://".concat(b,"/").concat(Te)];if(Se){var Le=v.table(Te),je=Se.optimisticOps.filter(function(Je){return Je.trans===xe});if(xe._explicit&&Ue&&xe.mutatedParts)for(var Fe=0,rt=Object.values(Se.queries.query);Fe<rt.length;Fe++)for(var lt=0,x=(X=rt[Fe]).slice();lt<x.length;lt++)fu((me=x[lt]).obsSet,xe.mutatedParts)&&(Ee(X,me),me.subscribers.forEach(function(Je){return J.add(Je)}));else if(0<je.length){Se.optimisticOps=Se.optimisticOps.filter(function(Je){return Je.trans!==xe});for(var T=0,q=Object.values(Se.queries.query);T<q.length;T++)for(var X,me,be,we=0,Re=(X=q[T]).slice();we<Re.length;we++)(me=Re[we]).res!=null&&xe.mutatedParts&&(Ue&&!me.dirty?(be=Object.isFrozen(me.res),be=Oo(me.res,me.req,je,Le,me,be),me.dirty?(Ee(X,me),me.subscribers.forEach(function(Je){return J.add(Je)})):be!==me.res&&(me.res=be,me.promise=ft.resolve({result:be}))):(me.dirty&&Ee(X,me),me.subscribers.forEach(function(Je){return J.add(Je)})))}}}J.forEach(function(Je){return Je()})}}},xe.addEventListener("abort",z(!1),{signal:he}),xe.addEventListener("error",z(!1),{signal:he}),xe.addEventListener("complete",z(!0),{signal:he})),xe},table:function(A){var M=v.table(A),z=M.schema.primaryKey;return a(a({},M),{mutate:function(ne){var he=Mt.trans;if(z.outbound||he.db._options.cache==="disabled"||he.explicit||he.idbtrans.mode!=="readwrite")return M.mutate(ne);var xe=bi["idb://".concat(b,"/").concat(A)];return xe?(he=M.mutate(ne),ne.type!=="add"&&ne.type!=="put"||!(50<=ne.values.length||Li(z,ne).some(function(Ue){return Ue==null}))?(xe.optimisticOps.push(ne),ne.mutatedParts&&kl(ne.mutatedParts),he.then(function(Ue){0<Ue.numFailures&&(Ee(xe.optimisticOps,ne),(Ue=ur(0,ne,Ue))&&xe.optimisticOps.push(Ue),ne.mutatedParts&&kl(ne.mutatedParts))}),he.catch(function(){Ee(xe.optimisticOps,ne),ne.mutatedParts&&kl(ne.mutatedParts)})):he.then(function(Ue){var J=ur(0,a(a({},ne),{values:ne.values.map(function(fe,te){var Te;return Ue.failures[te]?fe:(fe=(Te=z.keyPath)!==null&&Te!==void 0&&Te.includes(".")?ce(fe):a({},fe),Y(fe,z.keyPath,Ue.results[te]),fe)})}),Ue);xe.optimisticOps.push(J),queueMicrotask(function(){return ne.mutatedParts&&kl(ne.mutatedParts)})}),he):M.mutate(ne)},query:function(ne){if(!Cl(Mt,M)||!kc("query",ne))return M.query(ne);var he=((J=Mt.trans)===null||J===void 0?void 0:J.db._options.cache)==="immutable",te=Mt,xe=te.requery,Ue=te.signal,J=function(Le,je,Fe,rt){var lt=bi["idb://".concat(Le,"/").concat(je)];if(!lt)return[];if(!(je=lt.queries[Fe]))return[null,!1,lt,null];var x=je[(rt.query?rt.query.index.name:null)||""];if(!x)return[null,!1,lt,null];switch(Fe){case"query":var T=x.find(function(q){return q.req.limit===rt.limit&&q.req.values===rt.values&&ta(q.req.query.range,rt.query.range)});return T?[T,!0,lt,x]:[x.find(function(q){return("limit"in q.req?q.req.limit:1/0)>=rt.limit&&(!rt.values||q.req.values)&&li(q.req.query.range,rt.query.range)}),!1,lt,x];case"count":return T=x.find(function(q){return ta(q.req.query.range,rt.query.range)}),[T,!!T,lt,x]}}(b,A,"query",ne),fe=J[0],te=J[1],Te=J[2],Se=J[3];return fe&&te?fe.obsSet=ne.obsSet:(te=M.query(ne).then(function(Le){var je=Le.result;if(fe&&(fe.res=je),he){for(var Fe=0,rt=je.length;Fe<rt;++Fe)Object.freeze(je[Fe]);Object.freeze(je)}else Le.result=ce(je);return Le}).catch(function(Le){return Se&&fe&&Ee(Se,fe),Promise.reject(Le)}),fe={obsSet:ne.obsSet,promise:te,subscribers:new Set,type:"query",req:ne,dirty:!1},Se?Se.push(fe):(Se=[fe],(Te=Te||(bi["idb://".concat(b,"/").concat(A)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ne.query.index.name||""]=Se)),pu(fe,Se,xe,Ue),fe.promise.then(function(Le){return{result:Oo(Le.result,ne,Te==null?void 0:Te.optimisticOps,M,fe,he)}})}})}})}};function zn(v,b){return new Proxy(v,{get:function(A,M,z){return M==="db"?b:Reflect.get(A,M,z)}})}var yr=(on.prototype.version=function(v){if(isNaN(v)||v<.1)throw new He.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new He.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var b=this._versions,A=b.filter(function(M){return M._cfg.version===v})[0];return A||(A=new this.Version(v),b.push(A),b.sort(Fd),A.stores({}),this._state.autoSchema=!1,A)},on.prototype._whenReady=function(v){var b=this;return this.idbdb&&(this._state.openComplete||Mt.letThrough||this._vip)?v():new ft(function(A,M){if(b._state.openComplete)return M(new He.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void M(new He.DatabaseClosed);b.open().catch(N)}b._state.dbReadyPromise.then(A,M)}).then(v)},on.prototype.use=function(v){var b=v.stack,A=v.create,M=v.level,z=v.name;return z&&this.unuse({stack:b,name:z}),v=this._middlewares[b]||(this._middlewares[b]=[]),v.push({stack:b,create:A,level:M??10,name:z}),v.sort(function(ne,he){return ne.level-he.level}),this},on.prototype.unuse=function(v){var b=v.stack,A=v.name,M=v.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(z){return M?z.create!==M:!!A&&z.name!==A})),this},on.prototype.open=function(){var v=this;return jr(Rn,function(){return si(v)})},on.prototype._close=function(){var v=this._state,b=wo.indexOf(this);if(0<=b&&wo.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new ft(function(A){v.dbReadyResolve=A}),v.openCanceller=new ft(function(A,M){v.cancelOpen=M}))},on.prototype.close=function(A){var b=(A===void 0?{disableAutoOpen:!0}:A).disableAutoOpen,A=this._state;b?(A.isBeingOpened&&A.cancelOpen(new He.DatabaseClosed),this._close(),A.autoOpen=!1,A.dbOpenError=new He.DatabaseClosed):(this._close(),A.autoOpen=this._options.autoOpen||A.isBeingOpened,A.openComplete=!1,A.dbOpenError=null)},on.prototype.delete=function(v){var b=this;v===void 0&&(v={disableAutoOpen:!0});var A=0<arguments.length&&typeof arguments[0]!="object",M=this._state;return new ft(function(z,ne){function he(){b.close(v);var xe=b._deps.indexedDB.deleteDatabase(b.name);xe.onsuccess=Kn(function(){var Ue,J,fe;Ue=b._deps,J=b.name,fe=Ue.indexedDB,Ue=Ue.IDBKeyRange,Ja(fe)||J===ul||bl(fe,Ue).delete(J).catch(N),z()}),xe.onerror=Kr(ne),xe.onblocked=b._fireOnBlocked}if(A)throw new He.InvalidArgument("Invalid closeOptions argument to db.delete()");M.isBeingOpened?M.dbReadyPromise.then(he):he()})},on.prototype.backendDB=function(){return this.idbdb},on.prototype.isOpen=function(){return this.idbdb!==null},on.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},on.prototype.hasFailed=function(){return this._state.dbOpenError!==null},on.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(on.prototype,"tables",{get:function(){var v=this;return o(this._allTables).map(function(b){return v._allTables[b]})},enumerable:!1,configurable:!0}),on.prototype.transaction=function(){var v=(function(b,A,M){var z=arguments.length;if(z<2)throw new He.InvalidArgument("Too few arguments");for(var ne=new Array(z-1);--z;)ne[z-1]=arguments[z];return M=ne.pop(),[b,j(ne),M]}).apply(this,arguments);return this._transaction.apply(this,v)},on.prototype._transaction=function(v,b,A){var M=this,z=Mt.trans;z&&z.db===this&&v.indexOf("!")===-1||(z=null);var ne,he,xe=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(he=b.map(function(J){if(J=J instanceof M.Table?J.name:J,typeof J!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return J}),v=="r"||v===cl)ne=cl;else{if(v!="rw"&&v!=ko)throw new He.InvalidArgument("Invalid transaction mode: "+v);ne=ko}if(z){if(z.mode===cl&&ne===ko){if(!xe)throw new He.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");z=null}z&&he.forEach(function(J){if(z&&z.storeNames.indexOf(J)===-1){if(!xe)throw new He.SubTransaction("Table "+J+" not included in parent transaction.");z=null}}),xe&&z&&!z.active&&(z=null)}}catch(J){return z?z._promise(null,function(fe,te){te(J)}):Fn(J)}var Ue=(function J(fe,te,Te,Se,Le){return ft.resolve().then(function(){var je=Mt.transless||Mt,Fe=fe._createTransaction(te,Te,fe._dbSchema,Se);if(Fe.explicit=!0,je={trans:Fe,transless:je},Se)Fe.idbtrans=Se.idbtrans;else try{Fe.create(),Fe.idbtrans._explicit=!0,fe._state.PR1398_maxLoop=3}catch(x){return x.name===R.InvalidState&&fe.isOpen()&&0<--fe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),fe.close({disableAutoOpen:!1}),fe.open().then(function(){return J(fe,te,Te,null,Le)})):Fn(x)}var rt,lt=ee(Le);return lt&&yo(),je=ft.follow(function(){var x;(rt=Le.call(Fe,Fe))&&(lt?(x=Er.bind(null,null),rt.then(x,x)):typeof rt.next=="function"&&typeof rt.throw=="function"&&(rt=vu(rt)))},je),(rt&&typeof rt.then=="function"?ft.resolve(rt).then(function(x){return Fe.active?x:Fn(new He.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):je.then(function(){return rt})).then(function(x){return Se&&Fe._resolve(),Fe._completion.then(function(){return x})}).catch(function(x){return Fe._reject(x),Fn(x)})})}).bind(null,this,ne,he,z,A);return z?z._promise(ne,Ue,"lock"):Mt.trans?jr(Mt.transless,function(){return M._whenReady(Ue)}):this._whenReady(Ue)},on.prototype.table=function(v){if(!m(this._allTables,v))throw new He.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},on);function on(v,b){var A=this;this._middlewares={},this.verno=0;var M=on.dependencies;this._options=b=a({addons:on.addons,autoOpen:!0,indexedDB:M.indexedDB,IDBKeyRange:M.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},M=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var z,ne,he,xe,Ue,J={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:N,dbReadyPromise:null,cancelOpen:N,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};J.dbReadyPromise=new ft(function(te){J.dbReadyResolve=te}),J.openCanceller=new ft(function(te,Te){J.cancelOpen=Te}),this._state=J,this.name=v,this.on=Co(this,"populate","blocked","versionchange","close",{ready:[st,N]}),this.on.ready.subscribe=I(this.on.ready.subscribe,function(te){return function(Te,Se){on.vip(function(){var Le,je=A._state;je.openComplete?(je.dbOpenError||ft.resolve().then(Te),Se&&te(Te)):je.onReadyBeingFired?(je.onReadyBeingFired.push(Te),Se&&te(Te)):(te(Te),Le=A,Se||te(function Fe(){Le.on.ready.unsubscribe(Te),Le.on.ready.unsubscribe(Fe)}))})}}),this.Collection=(z=this,Ln(ou.prototype,function(rt,Fe){this.db=z;var Se=vc,Le=null;if(Fe)try{Se=Fe()}catch(lt){Le=lt}var je=rt._ctx,Fe=je.table,rt=Fe.hook.reading.fire;this._ctx={table:Fe,index:je.index,isPrimKey:!je.index||Fe.schema.primKey.keyPath&&je.index===Fe.schema.primKey.name,range:Se,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Le,or:je.or,valueMapper:rt!==Q?rt:null}})),this.Table=(ne=this,Ln(iu.prototype,function(te,Te,Se){this.db=ne,this._tx=Se,this.name=te,this.schema=Te,this.hook=ne._allTables[te]?ne._allTables[te].hook:Co(null,{creating:[Ve,N],reading:[pe,Q],updating:[We,N],deleting:[Ie,N]})})),this.Transaction=(he=this,Ln(ps.prototype,function(te,Te,Se,Le,je){var Fe=this;this.db=he,this.mode=te,this.storeNames=Te,this.schema=Se,this.chromeTransactionDurability=Le,this.idbtrans=null,this.on=Co(this,"complete","error","abort"),this.parent=je||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ft(function(rt,lt){Fe._resolve=rt,Fe._reject=lt}),this._completion.then(function(){Fe.active=!1,Fe.on.complete.fire()},function(rt){var lt=Fe.active;return Fe.active=!1,Fe.on.error.fire(rt),Fe.parent?Fe.parent._reject(rt):lt&&Fe.idbtrans&&Fe.idbtrans.abort(),Fn(rt)})})),this.Version=(xe=this,Ln(yl.prototype,function(te){this.db=xe,this._cfg={version:te,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ue=this,Ln(pc.prototype,function(te,Te,Se){if(this.db=Ue,this._ctx={table:te,index:Te===":id"?null:Te,or:Se},this._cmp=this._ascending=_n,this._descending=function(Le,je){return _n(je,Le)},this._max=function(Le,je){return 0<_n(Le,je)?Le:je},this._min=function(Le,je){return _n(Le,je)<0?Le:je},this._IDBKeyRange=Ue._deps.IDBKeyRange,!this._IDBKeyRange)throw new He.MissingAPI})),this.on("versionchange",function(te){0<te.newVersion?console.warn("Another connection wants to upgrade database '".concat(A.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(A.name,"'. Closing db now to resume the delete request.")),A.close({disableAutoOpen:!1})}),this.on("blocked",function(te){!te.newVersion||te.newVersion<te.oldVersion?console.warn("Dexie.delete('".concat(A.name,"') was blocked")):console.warn("Upgrade '".concat(A.name,"' blocked by other connection holding version ").concat(te.oldVersion/10))}),this._maxKey=gs(b.IDBKeyRange),this._createTransaction=function(te,Te,Se,Le){return new A.Transaction(te,Te,Se,A._options.chromeTransactionDurability,Le)},this._fireOnBlocked=function(te){A.on("blocked").fire(te),wo.filter(function(Te){return Te.name===A.name&&Te!==A&&!Te._state.vcFired}).map(function(Te){return Te.on("versionchange").fire(te)})},this.use(Sl),this.use(Cc),this.use(Sc),this.use(bc),this.use(wc);var fe=new Proxy(this,{get:function(te,Te,Se){if(Te==="_vip")return!0;if(Te==="table")return function(je){return zn(A.table(je),fe)};var Le=Reflect.get(te,Te,Se);return Le instanceof iu?zn(Le,fe):Te==="tables"?Le.map(function(je){return zn(je,fe)}):Te==="_createTransaction"?function(){return zn(Le.apply(this,arguments),fe)}:Le}});this.vip=fe,M.forEach(function(te){return te(A)})}var En,br=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xc=(Mo.prototype.subscribe=function(v,b,A){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:b,complete:A})},Mo.prototype[br]=function(){return this},Mo);function Mo(v){this._subscribe=v}try{En={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{En={indexedDB:null,IDBKeyRange:null}}function xl(v){var b,A=!1,M=new xc(function(z){var ne=ee(v),he,xe=!1,Ue={},J={},fe={get closed(){return xe},unsubscribe:function(){xe||(xe=!0,he&&he.abort(),te&&$i.storagemutated.unsubscribe(Se))}};z.start&&z.start(fe);var te=!1,Te=function(){return bo(Le)},Se=function(je){Eo(Ue,je),fu(J,Ue)&&Te()},Le=function(){var je,Fe,rt;!xe&&En.indexedDB&&(Ue={},je={},he&&he.abort(),he=new AbortController,rt=function(lt){var x=Oa();try{ne&&yo();var T=Mi(v,lt);return T=ne?T.finally(Er):T}finally{x&&zr()}}(Fe={subscr:je,signal:he.signal,requery:Te,querier:v,trans:null}),Promise.resolve(rt).then(function(lt){A=!0,b=lt,xe||Fe.signal.aborted||(Ue={},function(x){for(var T in x)if(m(x,T))return;return 1}(J=je)||te||($i(vs,Se),te=!0),bo(function(){return!xe&&z.next&&z.next(lt)}))},function(lt){A=!1,["DatabaseClosedError","AbortError"].includes(lt==null?void 0:lt.name)||xe||bo(function(){xe||z.error&&z.error(lt)})}))};return setTimeout(Te,0),fe});return M.hasValue=function(){return A},M.getValue=function(){return b},M}var Za=yr;function Bo(v){var b=Ni;try{Ni=!0,$i.storagemutated.fire(v),Vo(v,!0)}finally{Ni=b}}p(Za,a(a({},Be),{delete:function(v){return new Za(v,{addons:[]}).delete()},exists:function(v){return new Za(v,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return b=Za.dependencies,A=b.indexedDB,b=b.IDBKeyRange,(Ja(A)?Promise.resolve(A.databases()).then(function(M){return M.map(function(z){return z.name}).filter(function(z){return z!==ul})}):bl(A,b).toCollection().primaryKeys()).then(v)}catch{return Fn(new He.MissingAPI)}var b,A},defineClass:function(){return function(v){u(this,v)}},ignoreTransaction:function(v){return Mt.trans?jr(Mt.transless,v):v()},vip:wl,async:function(v){return function(){try{var b=vu(v.apply(this,arguments));return b&&typeof b.then=="function"?b:ft.resolve(b)}catch(A){return Fn(A)}}},spawn:function(v,b,A){try{var M=vu(v.apply(A,b||[]));return M&&typeof M.then=="function"?M:ft.resolve(M)}catch(z){return Fn(z)}},currentTransaction:{get:function(){return Mt.trans||null}},waitFor:function(v,b){return b=ft.resolve(typeof v=="function"?Za.ignoreTransaction(v):v).timeout(b||6e4),Mt.trans?Mt.trans.waitFor(b):b},Promise:ft,debug:{get:function(){return tt},set:function(v){Tt(v)}},derive:S,extend:u,props:p,override:I,Events:Co,on:$i,liveQuery:xl,extendObservabilitySet:Eo,getByKeyPath:U,setByKeyPath:Y,delByKeyPath:function(v,b){typeof b=="string"?Y(v,b,void 0):"length"in b&&[].map.call(b,function(A){Y(v,A,void 0)})},shallowClone:H,deepClone:ce,getObjectDiff:Ps,cmp:_n,asap:O,minKey:-1/0,addons:[],connections:wo,errnames:R,dependencies:En,cache:bi,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,b,A){return v+b/Math.pow(10,2*A)})})),Za.maxKey=gs(Za.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($i(vs,function(v){Ni||(v=new CustomEvent(_s,{detail:v}),Ni=!0,dispatchEvent(v),Ni=!1)}),addEventListener(_s,function(v){v=v.detail,Ni||Bo(v)}));var Ro,Ni=!1,Pc=function(){};return typeof BroadcastChannel<"u"&&((Pc=function(){(Ro=new BroadcastChannel(_s)).onmessage=function(v){return v.data&&Bo(v.data)}})(),typeof Ro.unref=="function"&&Ro.unref(),$i(vs,function(v){Ni||Ro.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!yr.disableBfCache&&v.persisted){tt&&console.debug("Dexie: handling persisted pagehide"),Ro!=null&&Ro.close();for(var b=0,A=wo;b<A.length;b++)A[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!yr.disableBfCache&&v.persisted&&(tt&&console.debug("Dexie: handling persisted pageshow"),Pc(),Bo({all:new ja(-1/0,[[]])}))})),ft.rejectionMapper=function(v,b){return!v||v instanceof se||v instanceof TypeError||v instanceof SyntaxError||!v.name||!at[v.name]?v:(b=new at[v.name](b||v.message,v),"stack"in v&&y(b,"stack",{get:function(){return this.inner.stack}}),b)},Tt(tt),a(yr,Object.freeze({__proto__:null,Dexie:yr,liveQuery:xl,Entity:ru,cmp:_n,PropModification:xo,replacePrefix:function(v,b){return new xo({replacePrefix:[v,b]})},add:function(v){return new xo({add:v})},remove:function(v){return new xo({remove:v})},default:yr,RangeSet:ja,mergeRanges:Vr,rangesOverlap:Ss}),{default:yr}),yr})}(rh)),rh.exports}var U$=q$();const Op=NC(U$),D1=Symbol.for("Dexie"),es=globalThis[D1]||(globalThis[D1]=Op);if(Op.semVer!==es.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Op.semVer} and ${es.semVer}`);const{liveQuery:FQ,mergeRanges:$Q,rangesOverlap:LQ,RangeSet:NQ,cmp:qQ,Entity:UQ,PropModification:HQ,replacePrefix:zQ,add:WQ,remove:jQ}=es,qC=6048e5,H$=864e5,z$=6e4,UC=36e5,W$=1e3,I1=Symbol.for("constructDateFrom");function Jn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&I1 in e?e[I1](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xt(e,t){return Jn(t||e,e)}function Gi(e,t,n){const a=Xt(e,n==null?void 0:n.in);return isNaN(t)?Jn((n==null?void 0:n.in)||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function uo(e,t,n){const a=Xt(e,n==null?void 0:n.in);if(isNaN(t))return Jn(e,NaN);if(!t)return a;const r=a.getDate(),i=Jn(e,a.getTime());i.setMonth(a.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),r),a)}function HC(e,t,n){const{years:a=0,months:r=0,weeks:i=0,days:o=0,hours:l=0,minutes:u=0,seconds:f=0}=t,d=Xt(e,n==null?void 0:n.in),m=r||a?uo(d,r+a*12):d,p=o||i?Gi(m,o+i*7):m,g=u+l*60,S=(f+g*60)*1e3;return Jn(e,+p+S)}function j$(e,t,n){return Jn(e,+Xt(e)+t)}function Y$(e,t,n){return j$(e,t*UC)}let K$={};function rc(){return K$}function mo(e,t){var l,u,f,d;const n=rc(),a=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,r=Xt(e,t==null?void 0:t.in),i=r.getDay(),o=(i<a?7:0)+i-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function dd(e,t){return mo(e,{...t,weekStartsOn:1})}function zC(e,t){const n=Xt(e,t==null?void 0:t.in),a=n.getFullYear(),r=Jn(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=dd(r),o=Jn(n,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=dd(o);return n.getTime()>=i.getTime()?a+1:n.getTime()>=l.getTime()?a:a-1}function Th(e){const t=Xt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Kf(e,...t){const n=Jn.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function A1(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function WC(e,t,n){const[a,r]=Kf(n==null?void 0:n.in,e,t),i=A1(a),o=A1(r),l=+i-Th(i),u=+o-Th(o);return Math.round((l-u)/H$)}function G$(e,t){const n=zC(e,t),a=Jn(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),dd(a)}function Q$(e,t,n){return uo(e,t*3,n)}function fy(e,t,n){return uo(e,t*12,n)}function E1(e,t){const n=+Xt(e)-+Xt(t);return n<0?-1:n>0?1:n}function jC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pf(e){return!(!jC(e)&&typeof e!="number"||isNaN(+Xt(e)))}function V1(e,t){const n=Xt(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function X$(e,t,n){const[a,r]=Kf(n==null?void 0:n.in,e,t);return a.getFullYear()-r.getFullYear()}function J$(e,t,n){const[a,r]=Kf(n==null?void 0:n.in,e,t),i=E1(a,r),o=Math.abs(X$(a,r));a.setFullYear(1584),r.setFullYear(1584);const l=E1(a,r)===-i,u=i*(o-+l);return u===0?0:u}function YC(e,t){const[n,a]=Kf(e,t.start,t.end);return{start:n,end:a}}function KC(e,t){const{start:n,end:a}=YC(t==null?void 0:t.in,e);let r=+n>+a;const i=r?+n:+a,o=r?a:n;o.setHours(0,0,0,0);let l=1;const u=[];for(;+o<=i;)u.push(Jn(n,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return r?u.reverse():u}function Fu(e,t){const n=Xt(e,t==null?void 0:t.in),a=n.getMonth(),r=a-a%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function Z$(e,t){const{start:n,end:a}=YC(t==null?void 0:t.in,e);let r=+n>+a;const i=r?+Fu(n):+Fu(a);let o=Fu(r?a:n),l=1;const u=[];for(;+o<=i;)u.push(Jn(n,o)),o=Q$(o,l);return r?u.reverse():u}function eL(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function GC(e,t){const n=Xt(e,t==null?void 0:t.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function Af(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function QC(e,t){var l,u,f,d;const n=rc(),a=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,r=Xt(e,t==null?void 0:t.in),i=r.getDay(),o=(i<a?-7:0)+6-(i-a);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function O1(e,t){const n=Xt(e,t==null?void 0:t.in),a=n.getMonth(),r=a-a%3+3;return n.setMonth(r,0),n.setHours(23,59,59,999),n}const tL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nL=(e,t,n)=>{let a;const r=tL[e];return typeof r=="string"?a=r:t===1?a=r.one:a=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function F_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oL={date:F_({formats:aL,defaultWidth:"full"}),time:F_({formats:rL,defaultWidth:"full"}),dateTime:F_({formats:iL,defaultWidth:"full"})},sL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lL=(e,t,n,a)=>sL[e];function ef(e){return(t,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const uL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vL=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_L={ordinalNumber:vL,era:ef({values:uL,defaultWidth:"wide"}),quarter:ef({values:cL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ef({values:dL,defaultWidth:"wide"}),day:ef({values:fL,defaultWidth:"wide"}),dayPeriod:ef({values:mL,defaultWidth:"wide",formattingValues:hL,defaultFormattingWidth:"wide"})};function tf(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?gL(l,m=>m.test(o)):pL(l,m=>m.test(o));let f;f=e.valueCallback?e.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const d=t.slice(o.length);return{value:f,rest:d}}}function pL(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gL(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yL(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const r=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(r.length);return{value:o,rest:l}}}const bL=/^(\d+)(th|st|nd|rd)?/i,wL=/\d+/i,kL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SL={any:[/^b/i,/^(a|c)/i]},CL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xL={any:[/1/i,/2/i,/3/i,/4/i]},PL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VL={ordinalNumber:yL({matchPattern:bL,parsePattern:wL,valueCallback:e=>parseInt(e,10)}),era:tf({matchPatterns:kL,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any"}),quarter:tf({matchPatterns:CL,defaultMatchWidth:"wide",parsePatterns:xL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tf({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),day:tf({matchPatterns:DL,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any"}),dayPeriod:tf({matchPatterns:AL,defaultMatchWidth:"any",parsePatterns:EL,defaultParseWidth:"any"})},XC={code:"en-US",formatDistance:nL,formatLong:oL,formatRelative:lL,localize:_L,match:VL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OL(e,t){const n=Xt(e,t==null?void 0:t.in);return WC(n,Af(n))+1}function my(e,t){const n=Xt(e,t==null?void 0:t.in),a=+dd(n)-+G$(n);return Math.round(a/qC)+1}function hy(e,t){var d,m,p,g;const n=Xt(e,t==null?void 0:t.in),a=n.getFullYear(),r=rc(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Jn((t==null?void 0:t.in)||e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=mo(o,t),u=Jn((t==null?void 0:t.in)||e,0);u.setFullYear(a,0,i),u.setHours(0,0,0,0);const f=mo(u,t);return+n>=+l?a+1:+n>=+f?a:a-1}function ML(e,t){var l,u,f,d;const n=rc(),a=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,r=hy(e,t),i=Jn((t==null?void 0:t.in)||e,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),mo(i,t)}function vy(e,t){const n=Xt(e,t==null?void 0:t.in),a=+mo(n,t)-+ML(n,t);return Math.round(a/qC)+1}function Qn(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const Vl={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Qn(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Qn(n+1,2)},d(e,t){return Qn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Qn(e.getHours()%12||12,t.length)},H(e,t){return Qn(e.getHours(),t.length)},m(e,t){return Qn(e.getMinutes(),t.length)},s(e,t){return Qn(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return Qn(r,t.length)}},Lc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},M1={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return Vl.y(e,t)},Y:function(e,t,n,a){const r=hy(e,a),i=r>0?r:1-r;if(t==="YY"){const o=i%100;return Qn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Qn(i,t.length)},R:function(e,t){const n=zC(e);return Qn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Qn(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Qn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Qn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Vl.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Qn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=vy(e,a);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):Qn(r,t.length)},I:function(e,t,n){const a=my(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Qn(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Vl.d(e,t)},D:function(e,t,n){const a=OL(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Qn(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=a===0?7:a;switch(t){case"i":return String(r);case"ii":return Qn(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(a===12?r=Lc.noon:a===0?r=Lc.midnight:r=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(a>=17?r=Lc.evening:a>=12?r=Lc.afternoon:a>=4?r=Lc.morning:r=Lc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Vl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Vl.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Qn(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Qn(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Vl.s(e,t)},S:function(e,t){return Vl.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return R1(a);case"XXXX":case"XX":return Vu(a);case"XXXXX":case"XXX":default:return Vu(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return R1(a);case"xxxx":case"xx":return Vu(a);case"xxxxx":case"xxx":default:return Vu(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+B1(a,":");case"OOOO":default:return"GMT"+Vu(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+B1(a,":");case"zzzz":default:return"GMT"+Vu(a,":")}},t:function(e,t,n){const a=Math.trunc(+e/1e3);return Qn(a,t.length)},T:function(e,t,n){return Qn(+e,t.length)}};function B1(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),i=a%60;return i===0?n+String(r):n+String(r)+t+Qn(i,2)}function R1(e,t){return e%60===0?(e>0?"-":"+")+Qn(Math.abs(e)/60,2):Vu(e,t)}function Vu(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Qn(Math.trunc(a/60),2),i=Qn(a%60,2);return n+r+t+i}const F1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BL=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return F1(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",F1(a,t)).replace("{{time}}",JC(r,t))},Mp={p:JC,P:BL},RL=/^D+$/,FL=/^Y+$/,$L=["D","DD","YY","YYYY"];function ZC(e){return RL.test(e)}function ex(e){return FL.test(e)}function Bp(e,t,n){const a=LL(e,t,n);if(console.warn(a),$L.includes(e))throw new RangeError(a)}function LL(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UL=/^'([^]*?)'?$/,HL=/''/g,zL=/[a-zA-Z]/;function Xo(e,t,n){var d,m,p,g,y,S,k,C;const a=rc(),r=(n==null?void 0:n.locale)??a.locale??XC,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((S=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:S.weekStartsOn)??a.weekStartsOn??((C=(k=a.locale)==null?void 0:k.options)==null?void 0:C.weekStartsOn)??0,l=Xt(e,n==null?void 0:n.in);if(!pf(l))throw new RangeError("Invalid time value");let u=t.match(qL).map(w=>{const I=w[0];if(I==="p"||I==="P"){const V=Mp[I];return V(w,r.formatLong)}return w}).join("").match(NL).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const I=w[0];if(I==="'")return{isToken:!1,value:WL(w)};if(M1[I])return{isToken:!0,value:w};if(I.match(zL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:w}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return u.map(w=>{if(!w.isToken)return w.value;const I=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ex(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&ZC(I))&&Bp(I,t,String(e));const V=M1[I[0]];return V(l,I,r.localize,f)}).join("")}function WL(e){const t=e.match(UL);return t?t[1].replace(HL,"'"):e}function jL(e,t){return Xt(e,t==null?void 0:t.in).getDay()}function YL(e,t){const n=Xt(e,t==null?void 0:t.in),a=n.getFullYear(),r=n.getMonth(),i=Jn(n,0);return i.setFullYear(a,r+1,0),i.setHours(0,0,0,0),i.getDate()}function KL(){return Object.assign({},rc())}function Qs(e,t){return Xt(e,t==null?void 0:t.in).getHours()}function GL(e,t){const n=Xt(e,t==null?void 0:t.in).getDay();return n===0?7:n}function jl(e,t){return Xt(e,t==null?void 0:t.in).getMinutes()}function Sn(e,t){return Xt(e,t==null?void 0:t.in).getMonth()}function fd(e){return Xt(e).getSeconds()}function sn(e,t){return Xt(e,t==null?void 0:t.in).getFullYear()}function Yu(e,t){return+Xt(e)>+Xt(t)}function md(e,t){return+Xt(e)<+Xt(t)}function Yc(e,t){return+Xt(e)==+Xt(t)}function QL(e,t){const n=XL(t)?new t(0):Jn(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function XL(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const JL=10;class tx{constructor(){qt(this,"subPriority",0)}validate(t,n){return!0}}class ZL extends tx{constructor(t,n,a,r,i){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=r,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class e3 extends tx{constructor(n,a){super();qt(this,"priority",JL);qt(this,"subPriority",-1);this.context=n||(r=>Jn(a,r))}set(n,a){return a.timestampIsSet?n:Jn(n,QL(n,this.context))}}class qn{run(t,n,a,r){const i=this.parse(t,n,a,r);return i?{setter:new ZL(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,a){return!0}}class t3 extends qn{constructor(){super(...arguments);qt(this,"priority",140);qt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,a,r){switch(a){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,a,r){return a.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const Na={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qa(e,t){return e&&{value:t(e.value),rest:e.rest}}function ka(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function jo(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:a*(r*UC+i*z$+o*W$),rest:t.slice(n[0].length)}}function nx(e){return ka(Na.anyDigitsSigned,e)}function Va(e,t){switch(e){case 1:return ka(Na.singleDigit,t);case 2:return ka(Na.twoDigits,t);case 3:return ka(Na.threeDigits,t);case 4:return ka(Na.fourDigits,t);default:return ka(new RegExp("^\\d{1,"+e+"}"),t)}}function Dh(e,t){switch(e){case 1:return ka(Na.singleDigitSigned,t);case 2:return ka(Na.twoDigitsSigned,t);case 3:return ka(Na.threeDigitsSigned,t);case 4:return ka(Na.fourDigitsSigned,t);default:return ka(new RegExp("^-?\\d{1,"+e+"}"),t)}}function _y(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ax(e,t){const n=t>0,a=n?t:1-t;let r;if(a<=50)r=e||100;else{const i=a+50,o=Math.trunc(i/100)*100,l=e>=i%100;r=e+o-(l?100:0)}return n?r:1-r}function rx(e){return e%400===0||e%4===0&&e%100!==0}class n3 extends qn{constructor(){super(...arguments);qt(this,"priority",130);qt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,a,r){const i=o=>({year:o,isTwoDigitYear:a==="yy"});switch(a){case"y":return qa(Va(4,n),i);case"yo":return qa(r.ordinalNumber(n,{unit:"year"}),i);default:return qa(Va(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r){const i=n.getFullYear();if(r.isTwoDigitYear){const l=ax(r.year,i);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const o=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class a3 extends qn{constructor(){super(...arguments);qt(this,"priority",130);qt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,a,r){const i=o=>({year:o,isTwoDigitYear:a==="YY"});switch(a){case"Y":return qa(Va(4,n),i);case"Yo":return qa(r.ordinalNumber(n,{unit:"year"}),i);default:return qa(Va(a.length,n),i)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,r,i){const o=hy(n,i);if(r.isTwoDigitYear){const u=ax(r.year,o);return n.setFullYear(u,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),mo(n,i)}const l=!("era"in a)||a.era===1?r.year:1-r.year;return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),mo(n,i)}}class r3 extends qn{constructor(){super(...arguments);qt(this,"priority",130);qt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,a){return Dh(a==="R"?4:a.length,n)}set(n,a,r){const i=Jn(n,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),dd(i)}}class i3 extends qn{constructor(){super(...arguments);qt(this,"priority",130);qt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,a){return Dh(a==="u"?4:a.length,n)}set(n,a,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class o3 extends qn{constructor(){super(...arguments);qt(this,"priority",120);qt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"Q":case"QQ":return Va(a.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class s3 extends qn{constructor(){super(...arguments);qt(this,"priority",120);qt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"q":case"qq":return Va(a.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=1&&a<=4}set(n,a,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class l3 extends qn{constructor(){super(...arguments);qt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);qt(this,"priority",110)}parse(n,a,r){const i=o=>o-1;switch(a){case"M":return qa(ka(Na.month,n),i);case"MM":return qa(Va(2,n),i);case"Mo":return qa(r.ordinalNumber(n,{unit:"month"}),i);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class u3 extends qn{constructor(){super(...arguments);qt(this,"priority",110);qt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,a,r){const i=o=>o-1;switch(a){case"L":return qa(ka(Na.month,n),i);case"LL":return qa(Va(2,n),i);case"Lo":return qa(r.ordinalNumber(n,{unit:"month"}),i);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function c3(e,t,n){const a=Xt(e,n==null?void 0:n.in),r=vy(a,n)-t;return a.setDate(a.getDate()-r*7),Xt(a,n==null?void 0:n.in)}class d3 extends qn{constructor(){super(...arguments);qt(this,"priority",100);qt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,a,r){switch(a){case"w":return ka(Na.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return Va(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r,i){return mo(c3(n,r,i),i)}}function f3(e,t,n){const a=Xt(e,n==null?void 0:n.in),r=my(a,n)-t;return a.setDate(a.getDate()-r*7),a}class m3 extends qn{constructor(){super(...arguments);qt(this,"priority",100);qt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,a,r){switch(a){case"I":return ka(Na.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return Va(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,r){return dd(f3(n,r))}}const h3=[31,28,31,30,31,30,31,31,30,31,30,31],v3=[31,29,31,30,31,30,31,31,30,31,30,31];class _3 extends qn{constructor(){super(...arguments);qt(this,"priority",90);qt(this,"subPriority",1);qt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"d":return ka(Na.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return Va(a.length,n)}}validate(n,a){const r=n.getFullYear(),i=rx(r),o=n.getMonth();return i?a>=1&&a<=v3[o]:a>=1&&a<=h3[o]}set(n,a,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class p3 extends qn{constructor(){super(...arguments);qt(this,"priority",90);qt(this,"subpriority",1);qt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,a,r){switch(a){case"D":case"DD":return ka(Na.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return Va(a.length,n)}}validate(n,a){const r=n.getFullYear();return rx(r)?a>=1&&a<=366:a>=1&&a<=365}set(n,a,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function py(e,t,n){var m,p,g,y;const a=rc(),r=(n==null?void 0:n.weekStartsOn)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??a.weekStartsOn??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,i=Xt(e,n==null?void 0:n.in),o=i.getDay(),u=(t%7+7)%7,f=7-r,d=t<0||t>6?t-(o+f)%7:(u+f)%7-(o+f)%7;return Gi(i,d,n)}class g3 extends qn{constructor(){super(...arguments);qt(this,"priority",90);qt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,a,r){switch(a){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=py(n,r,i),n.setHours(0,0,0,0),n}}class y3 extends qn{constructor(){super(...arguments);qt(this,"priority",90);qt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,a,r,i){const o=l=>{const u=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+u};switch(a){case"e":case"ee":return qa(Va(a.length,n),o);case"eo":return qa(r.ordinalNumber(n,{unit:"day"}),o);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=py(n,r,i),n.setHours(0,0,0,0),n}}class b3 extends qn{constructor(){super(...arguments);qt(this,"priority",90);qt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,a,r,i){const o=l=>{const u=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+u};switch(a){case"c":case"cc":return qa(Va(a.length,n),o);case"co":return qa(r.ordinalNumber(n,{unit:"day"}),o);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=6}set(n,a,r,i){return n=py(n,r,i),n.setHours(0,0,0,0),n}}function w3(e,t,n){const a=Xt(e,n==null?void 0:n.in),r=GL(a,n),i=t-r;return Gi(a,i,n)}class k3 extends qn{constructor(){super(...arguments);qt(this,"priority",90);qt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,a,r){const i=o=>o===0?7:o;switch(a){case"i":case"ii":return Va(a.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return qa(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return qa(r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return qa(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return qa(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,a){return a>=1&&a<=7}set(n,a,r){return n=w3(n,r),n.setHours(0,0,0,0),n}}class S3 extends qn{constructor(){super(...arguments);qt(this,"priority",80);qt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,a,r){switch(a){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(_y(r),0,0,0),n}}class C3 extends qn{constructor(){super(...arguments);qt(this,"priority",80);qt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,a,r){switch(a){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(_y(r),0,0,0),n}}class x3 extends qn{constructor(){super(...arguments);qt(this,"priority",80);qt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,a,r){switch(a){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,r){return n.setHours(_y(r),0,0,0),n}}class P3 extends qn{constructor(){super(...arguments);qt(this,"priority",70);qt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,a,r){switch(a){case"h":return ka(Na.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return Va(a.length,n)}}validate(n,a){return a>=1&&a<=12}set(n,a,r){const i=n.getHours()>=12;return i&&r<12?n.setHours(r+12,0,0,0):!i&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class T3 extends qn{constructor(){super(...arguments);qt(this,"priority",70);qt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,a,r){switch(a){case"H":return ka(Na.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return Va(a.length,n)}}validate(n,a){return a>=0&&a<=23}set(n,a,r){return n.setHours(r,0,0,0),n}}class D3 extends qn{constructor(){super(...arguments);qt(this,"priority",70);qt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,a,r){switch(a){case"K":return ka(Na.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return Va(a.length,n)}}validate(n,a){return a>=0&&a<=11}set(n,a,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class I3 extends qn{constructor(){super(...arguments);qt(this,"priority",70);qt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,a,r){switch(a){case"k":return ka(Na.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return Va(a.length,n)}}validate(n,a){return a>=1&&a<=24}set(n,a,r){const i=r<=24?r%24:r;return n.setHours(i,0,0,0),n}}class A3 extends qn{constructor(){super(...arguments);qt(this,"priority",60);qt(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"m":return ka(Na.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return Va(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setMinutes(r,0,0),n}}class E3 extends qn{constructor(){super(...arguments);qt(this,"priority",50);qt(this,"incompatibleTokens",["t","T"])}parse(n,a,r){switch(a){case"s":return ka(Na.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return Va(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,r){return n.setSeconds(r,0),n}}class V3 extends qn{constructor(){super(...arguments);qt(this,"priority",30);qt(this,"incompatibleTokens",["t","T"])}parse(n,a){const r=i=>Math.trunc(i*Math.pow(10,-a.length+3));return qa(Va(a.length,n),r)}set(n,a,r){return n.setMilliseconds(r),n}}class O3 extends qn{constructor(){super(...arguments);qt(this,"priority",10);qt(this,"incompatibleTokens",["t","T","x"])}parse(n,a){switch(a){case"X":return jo(Wo.basicOptionalMinutes,n);case"XX":return jo(Wo.basic,n);case"XXXX":return jo(Wo.basicOptionalSeconds,n);case"XXXXX":return jo(Wo.extendedOptionalSeconds,n);case"XXX":default:return jo(Wo.extended,n)}}set(n,a,r){return a.timestampIsSet?n:Jn(n,n.getTime()-Th(n)-r)}}class M3 extends qn{constructor(){super(...arguments);qt(this,"priority",10);qt(this,"incompatibleTokens",["t","T","X"])}parse(n,a){switch(a){case"x":return jo(Wo.basicOptionalMinutes,n);case"xx":return jo(Wo.basic,n);case"xxxx":return jo(Wo.basicOptionalSeconds,n);case"xxxxx":return jo(Wo.extendedOptionalSeconds,n);case"xxx":default:return jo(Wo.extended,n)}}set(n,a,r){return a.timestampIsSet?n:Jn(n,n.getTime()-Th(n)-r)}}class B3 extends qn{constructor(){super(...arguments);qt(this,"priority",40);qt(this,"incompatibleTokens","*")}parse(n){return nx(n)}set(n,a,r){return[Jn(n,r*1e3),{timestampIsSet:!0}]}}class R3 extends qn{constructor(){super(...arguments);qt(this,"priority",20);qt(this,"incompatibleTokens","*")}parse(n){return nx(n)}set(n,a,r){return[Jn(n,r),{timestampIsSet:!0}]}}const F3={G:new t3,y:new n3,Y:new a3,R:new r3,u:new i3,Q:new o3,q:new s3,M:new l3,L:new u3,w:new d3,I:new m3,d:new _3,D:new p3,E:new g3,e:new y3,c:new b3,i:new k3,a:new S3,b:new C3,B:new x3,h:new P3,H:new T3,K:new D3,k:new I3,m:new A3,s:new E3,S:new V3,X:new O3,x:new M3,t:new B3,T:new R3},$3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N3=/^'([^]*?)'?$/,q3=/''/g,U3=/\S/,H3=/[a-zA-Z]/;function Rp(e,t,n,a){var k,C,w,I,V,O,U,Y;const r=()=>Jn((a==null?void 0:a.in)||n,NaN),i=KL(),o=(a==null?void 0:a.locale)??i.locale??XC,l=(a==null?void 0:a.firstWeekContainsDate)??((C=(k=a==null?void 0:a.locale)==null?void 0:k.options)==null?void 0:C.firstWeekContainsDate)??i.firstWeekContainsDate??((I=(w=i.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??1,u=(a==null?void 0:a.weekStartsOn)??((O=(V=a==null?void 0:a.locale)==null?void 0:V.options)==null?void 0:O.weekStartsOn)??i.weekStartsOn??((Y=(U=i.locale)==null?void 0:U.options)==null?void 0:Y.weekStartsOn)??0;if(!t)return e?r():Xt(n,a==null?void 0:a.in);const f={firstWeekContainsDate:l,weekStartsOn:u,locale:o},d=[new e3(a==null?void 0:a.in,n)],m=t.match(L3).map(H=>{const B=H[0];if(B in Mp){const j=Mp[B];return j(H,o.formatLong)}return H}).join("").match($3),p=[];for(let H of m){!(a!=null&&a.useAdditionalWeekYearTokens)&&ex(H)&&Bp(H,t,e),!(a!=null&&a.useAdditionalDayOfYearTokens)&&ZC(H)&&Bp(H,t,e);const B=H[0],j=F3[B];if(j){const{incompatibleTokens:G}=j;if(Array.isArray(G)){const ce=p.find(Z=>G.includes(Z.token)||Z.token===B);if(ce)throw new RangeError(`The format string mustn't contain \`${ce.fullToken}\` and \`${H}\` at the same time`)}else if(j.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${H}\` and any other token at the same time`);p.push({token:B,fullToken:H});const F=j.run(e,H,o.match,f);if(!F)return r();d.push(F.setter),e=F.rest}else{if(B.match(H3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if(H==="''"?H="'":B==="'"&&(H=z3(H)),e.indexOf(H)===0)e=e.slice(H.length);else return r()}}if(e.length>0&&U3.test(e))return r();const g=d.map(H=>H.priority).sort((H,B)=>B-H).filter((H,B,j)=>j.indexOf(H)===B).map(H=>d.filter(B=>B.priority===H).sort((B,j)=>j.subPriority-B.subPriority)).map(H=>H[0]);let y=Xt(n,a==null?void 0:a.in);if(isNaN(+y))return r();const S={};for(const H of g){if(!H.validate(y,f))return r();const B=H.set(y,S,f);Array.isArray(B)?(y=B[0],Object.assign(S,B[1])):y=B}return y}function z3(e){return e.match(N3)[1].replace(q3,"'")}function $1(e,t,n){const[a,r]=Kf(n==null?void 0:n.in,e,t);return+Fu(a)==+Fu(r)}function ix(e,t,n){return Gi(e,-t,n)}function ox(e,t,n){const a=Xt(e,n==null?void 0:n.in),r=a.getFullYear(),i=a.getDate(),o=Jn(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const l=YL(o);return a.setMonth(t,Math.min(i,l)),a}function ea(e,t,n){let a=Xt(e,n==null?void 0:n.in);return isNaN(+a)?Jn(e,NaN):(t.year!=null&&a.setFullYear(t.year),t.month!=null&&(a=ox(a,t.month)),t.date!=null&&a.setDate(t.date),t.hours!=null&&a.setHours(t.hours),t.minutes!=null&&a.setMinutes(t.minutes),t.seconds!=null&&a.setSeconds(t.seconds),t.milliseconds!=null&&a.setMilliseconds(t.milliseconds),a)}function W3(e,t,n){const a=Xt(e,n==null?void 0:n.in);return a.setHours(t),a}function sx(e,t,n){const a=Xt(e,n==null?void 0:n.in);return a.setMilliseconds(t),a}function j3(e,t,n){const a=Xt(e,n==null?void 0:n.in);return a.setMinutes(t),a}function lx(e,t,n){const a=Xt(e,n==null?void 0:n.in);return a.setSeconds(t),a}function Ko(e,t,n){const a=Xt(e,n==null?void 0:n.in);return isNaN(+a)?Jn(e,NaN):(a.setFullYear(t),a)}function hd(e,t,n){return uo(e,-t,n)}function Y3(e,t,n){const{years:a=0,months:r=0,weeks:i=0,days:o=0,hours:l=0,minutes:u=0,seconds:f=0}=t,d=hd(e,r+a*12,n),m=ix(d,o+i*7,n),p=u+l*60,y=(f+p*60)*1e3;return Jn(e,+m-y)}function ux(e,t,n){return fy(e,-t,n)}function Pd(){const e=vB();return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[P("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),P("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),P("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),P("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Pd.compatConfig={MODE:3};function cx(){return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[P("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),P("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}cx.compatConfig={MODE:3};function gy(){return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[P("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}gy.compatConfig={MODE:3};function yy(){return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[P("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}yy.compatConfig={MODE:3};function by(){return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[P("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),P("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}by.compatConfig={MODE:3};function wy(){return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[P("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}wy.compatConfig={MODE:3};function ky(){return de(),nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[P("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ky.compatConfig={MODE:3};const mi=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),Sy=(e,t,n)=>Fp(e,t,n)||Pt(),K3=(e,t,n)=>{const a=t.dateInTz?mi(new Date(e),t.dateInTz):Pt(e);return n?hr(a,!0):a},Fp=(e,t,n)=>{if(!e)return null;const a=n?hr(Pt(e),!0):Pt(e);return t?t.exactMatch?K3(e,t,n):mi(a,t.timezone):a},G3=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},Q3=(e,t)=>{if(!e)return 0;const n=new Date,a=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:e})),i=(G3(t??r)?r:t??r).getTimezoneOffset()/60;return(+a-+r)/(1e3*60*60)-i};var io=(e=>(e.month="month",e.year="year",e))(io||{}),oo=(e=>(e.top="top",e.bottom="bottom",e))(oo||{}),Uu=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Uu||{}),Fr=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Fr||{});const X3=["timestamp","date","iso"];var Zr=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Zr||{}),ca=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(ca||{}),td=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(td||{});function L1(e){return t=>{const n=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?n.slice(2,5):n.slice(0,2)}}function J3(e){return t=>Xo(mi(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const Z3=(e,t,n)=>{const a=[1,2,3,4,5,6,7];let r;if(e!==null)try{r=a.map(J3(e))}catch{r=a.map(L1(t))}else r=a.map(L1(t));const i=r.slice(0,n),o=r.slice(n+1,r.length);return[r[n]].concat(...o).concat(...i)},Cy=(e,t,n)=>{const a=[];for(let r=+e[0];r<=+e[1];r++)a.push({value:+r,text:hx(r,t)});return n?a.reverse():a},dx=(e,t,n)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(e!==null)try{const i=n==="long"?"LLLL":"LLL";return a.map((o,l)=>{const u=Xo(mi(o,"UTC"),i,{locale:e});return{text:u.charAt(0).toUpperCase()+u.substring(1),value:l}})}catch{}const r=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return a.map((i,o)=>{const l=r.format(i);return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})},eN=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Ya=e=>{const t=Ae(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},tN=e=>({type:"dot",...e??{}}),fx=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,xy={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},dr=e=>e,N1=e=>e===0?e:!e||isNaN(+e)?null:+e,q1=e=>e===null,mx=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},nN=e=>{const t=[],n=a=>a.filter(r=>r);for(let a=0;a<e.length;a+=3){const r=[e[a],e[a+1],e[a+2]];t.push(n(r))}return t},Ef=(e,t,n)=>{const a=n!=null,r=t!=null;if(!a&&!r)return!1;const i=+n,o=+t;return a&&r?+e>i||+e<o:a?+e>i:r?+e<o:!1},vd=(e,t)=>nN(e).map(n=>n.map(a=>{const{active:r,disabled:i,isBetween:o,highlighted:l}=t(a);return{...a,active:r,disabled:i,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&r,dp__cell_in_between:o,"dp--highlighted":l}}})),Hl=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},aN=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function rN(e,t){let n=[...document.querySelectorAll(aN())];n=n.filter(r=>!e.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=n.indexOf(e);if(a>=0&&(t?a-1>=0:a+1<=n.length))return n[a+(t?-1:1)]}const $p=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),hx=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),Py=(e,t)=>Xo(e,t??td.DATE),$_=e=>Array.isArray(e),Ih=(e,t,n)=>t.get(Py(e,n)),iN=(e,t)=>e?t?t instanceof Map?!!Ih(e,t):t(Pt(e)):!1:!0,ni=(e,t,n=!1,a)=>{if(e.key===ca.enter||e.key===ca.space)return n&&e.preventDefault(),t();if(a)return a(e)},oN=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,vx=(e,t)=>e?td.MONTH_AND_YEAR:t?td.YEAR:td.DATE,_x=e=>e<10?`0${e}`:e,U1=(e,t,n,a,r,i)=>{const o=Rp(e,t.slice(0,e.length),new Date,{locale:i});return pf(o)&&jC(o)?a||r?o:ea(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},sN=(e,t,n,a,r,i)=>{const o=Array.isArray(n)?n[0]:n;if(typeof t=="string")return U1(e,t,o,a,r,i);if(Array.isArray(t)){let l=null;for(const u of t)if(l=U1(e,u,o,a,r,i),l)break;return l}return typeof t=="function"?t(e):null},Pt=e=>e?new Date(e):new Date,lN=(e,t,n)=>{if(t){const r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),l=e.getMinutes().toString().padStart(2,"0"),u=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${r}-${i}T${o}:${l}:${u}.000Z`}const a=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(a).toISOString()},hr=(e,t)=>{const n=Pt(JSON.parse(JSON.stringify(e))),a=ea(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?eL(a):a},zl=(e,t,n,a)=>{let r=e?Pt(e):Pt();return(t||t===0)&&(r=W3(r,+t)),(n||n===0)&&(r=j3(r,+n)),(a||a===0)&&(r=lx(r,+a)),sx(r,0)},Da=(e,t)=>!e||!t?!1:md(hr(e),hr(t)),Cn=(e,t)=>!e||!t?!1:Yc(hr(e),hr(t)),$a=(e,t)=>!e||!t?!1:Yu(hr(e),hr(t)),Vf=(e,t,n)=>e!=null&&e[0]&&e!=null&&e[1]?$a(n,e[0])&&Da(n,e[1]):e!=null&&e[0]&&t?$a(n,e[0])&&Da(n,t)||Da(n,e[0])&&$a(n,t):!1,so=e=>{const t=ea(new Date(e),{date:1});return hr(t)},L_=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===t?[a,n]:[a,isNaN(+e[a])?void 0:+e[a]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Hu=e=>({hours:Qs(e),minutes:jl(e),seconds:fd(e)}),px=(e,t)=>{if(t){const n=sn(Pt(t));if(n>e)return 12;if(n===e)return Sn(Pt(t))}},gx=(e,t)=>{if(t){const n=sn(Pt(t));return n<e?-1:n===e?Sn(Pt(t)):void 0}},_d=e=>{if(e)return sn(Pt(e))},yx=(e,t)=>{const n=$a(e,t)?t:e,a=$a(t,e)?t:e;return KC({start:n,end:a})},uN=e=>{const t=uo(e,1);return{month:Sn(t),year:sn(t)}},qs=(e,t)=>{const n=mo(e,{weekStartsOn:+t}),a=QC(e,{weekStartsOn:+t});return[n,a]},bx=(e,t)=>{const n={hours:Qs(Pt()),minutes:jl(Pt()),seconds:t?fd(Pt()):0};return Object.assign(n,e)},ql=(e,t,n)=>[ea(Pt(e),{date:1}),ea(Pt(),{month:t,year:n,date:1})],zs=(e,t,n)=>{let a=e?Pt(e):Pt();return(t||t===0)&&(a=ox(a,t)),n&&(a=Ko(a,n)),a},wx=(e,t,n,a,r)=>{if(!a||r&&!t||!r&&!n)return!1;const i=r?uo(e,1):hd(e,1),o=[Sn(i),sn(i)];return r?!dN(...o,t):!cN(...o,n)},cN=(e,t,n)=>Da(...ql(n,e,t))||Cn(...ql(n,e,t)),dN=(e,t,n)=>$a(...ql(n,e,t))||Cn(...ql(n,e,t)),kx=(e,t,n,a,r,i,o)=>{if(typeof t=="function"&&!o)return t(e);const l=n?{locale:n}:void 0;return Array.isArray(e)?`${Xo(e[0],i,l)}${r&&!e[1]?"":a}${e[1]?Xo(e[1],i,l):""}`:Xo(e,i,l)},Nc=e=>{if(e)return null;throw new Error(xy.prop("partial-range"))},Km=(e,t)=>{if(t)return e();throw new Error(xy.prop("range"))},Lp=e=>Array.isArray(e)?pf(e[0])&&(e[1]?pf(e[1]):!0):e?pf(e):!1,fN=(e,t)=>ea(t??Pt(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),N_=(e,t,n,a)=>{if(!e)return!0;if(a){const r=n==="max"?md(e,t):Yu(e,t),i={seconds:0,milliseconds:0};return r||Yc(ea(e,i),ea(t,i))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},q_=(e,t,n)=>e?fN(e,t):Pt(n??t),H1=(e,t,n,a,r)=>{if(Array.isArray(a)){const o=q_(e,a[0],t),l=q_(e,a[1],t);return N_(a[0],o,n,!!t)&&N_(a[1],l,n,!!t)&&r}const i=q_(e,a,t);return N_(a,i,n,!!t)&&r},U_=e=>ea(Pt(),Hu(e)),mN=(e,t,n)=>{if(e instanceof Map){const a=`${_x(n+1)}-${t}`;return e.size?e.has(a):!1}return typeof e=="function"?e(hr(ea(Pt(),{month:n,year:t}),!0)):!1},hN=(e,t,n)=>{if(e instanceof Map){const a=`${_x(n+1)}-${t}`;return e.size?e.has(a):!0}return!0},Sx=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(a=>a.month===t&&a.year===n),Ty=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),Np=e=>`dp-${Xo(e,"yyyy-MM-dd")}`,z1=(e,t)=>{const n=ix(hr(t),e),a=Gi(hr(t),e);return{before:n,after:a}},nf=Ia({menuFocused:!1,shiftKeyInMenu:!1}),Cx=()=>{const e=n=>{nf.menuFocused=n},t=n=>{nf.shiftKeyInMenu!==n&&(nf.shiftKeyInMenu=n)};return{control:L(()=>({shiftKeyInMenu:nf.shiftKeyInMenu,menuFocused:nf.menuFocused})),setMenuFocused:e,setShiftKey:t}},ua=Ia({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),H_=Ne(null),Gm=Ne(!1),z_=Ne(!1),W_=Ne(!1),j_=Ne(!1),Br=Ne(0),Fa=Ne(0),eu=()=>{const e=L(()=>Gm.value?[...ua.selectionGrid,ua.actionRow].filter(m=>m.length):z_.value?[...ua.timePicker[0],...ua.timePicker[1],j_.value?[]:[H_.value],ua.actionRow].filter(m=>m.length):W_.value?[...ua.monthPicker,ua.actionRow]:[ua.monthYear,...ua.calendar,ua.time,ua.actionRow].filter(m=>m.length)),t=m=>{Br.value=m?Br.value+1:Br.value-1;let p=null;e.value[Fa.value]&&(p=e.value[Fa.value][Br.value]),!p&&e.value[Fa.value+(m?1:-1)]?(Fa.value=Fa.value+(m?1:-1),Br.value=m?0:e.value[Fa.value].length-1):p||(Br.value=m?Br.value-1:Br.value+1)},n=m=>{Fa.value===0&&!m||Fa.value===e.value.length&&m||(Fa.value=m?Fa.value+1:Fa.value-1,e.value[Fa.value]?e.value[Fa.value]&&!e.value[Fa.value][Br.value]&&Br.value!==0&&(Br.value=e.value[Fa.value].length-1):Fa.value=m?Fa.value-1:Fa.value+1)},a=m=>{let p=null;e.value[Fa.value]&&(p=e.value[Fa.value][Br.value]),p?p.focus({preventScroll:!Gm.value}):Br.value=m?Br.value-1:Br.value+1},r=()=>{t(!0),a(!0)},i=()=>{t(!1),a(!1)},o=()=>{n(!1),a(!0)},l=()=>{n(!0),a(!0)},u=(m,p)=>{ua[p]=m},f=(m,p)=>{ua[p]=m},d=()=>{Br.value=0,Fa.value=0};return{buildMatrix:u,buildMultiLevelMatrix:f,setTimePickerBackRef:m=>{H_.value=m},setSelectionGrid:m=>{Gm.value=m,d(),m||(ua.selectionGrid=[])},setTimePicker:(m,p=!1)=>{z_.value=m,j_.value=p,d(),m||(ua.timePicker[0]=[],ua.timePicker[1]=[])},setTimePickerElements:(m,p=0)=>{ua.timePicker[p]=m},arrowRight:r,arrowLeft:i,arrowUp:o,arrowDown:l,clearArrowNav:()=>{ua.monthYear=[],ua.calendar=[],ua.time=[],ua.actionRow=[],ua.selectionGrid=[],ua.timePicker[0]=[],ua.timePicker[1]=[],Gm.value=!1,z_.value=!1,j_.value=!1,W_.value=!1,d(),H_.value=null},setMonthPicker:m=>{W_.value=m,d()},refSets:ua}},W1=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),vN=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),j1=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,_N=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:j1(!1)};const a=t?e:{},r=t?a.count??!0:e,i=j1(r);return Object.assign(n,a,{count:i})},pN=(e,t,n)=>e||(typeof n=="string"?n:t),gN=e=>typeof e=="boolean"?e?W1({}):!1:W1(e),yN=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},bN=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),wN=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),kN=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},SN=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),CN=e=>{const t={dates:Array.isArray(e)?e.map(n=>Pt(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},xN=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},PN=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},TN=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Y_=(e,t,n,a)=>new Map(e.map(r=>{const i=Sy(r,t,a);return[Py(i,n),i]})),DN=(e,t)=>e.length?new Map(e.map(n=>{const a=Sy(n.date,t);return[Py(a,td.DATE),n]})):null,IN=e=>{var t;const n=vx(e.isMonthPicker,e.isYearPicker);return{minDate:Fp(e.minDate,e.timezone,e.isSpecific),maxDate:Fp(e.maxDate,e.timezone,e.isSpecific),disabledDates:$_(e.disabledDates)?Y_(e.disabledDates,e.timezone,n,e.isSpecific):e.disabledDates,allowedDates:$_(e.allowedDates)?Y_(e.allowedDates,e.timezone,n,e.isSpecific):null,highlight:typeof e.highlight=="object"&&$_((t=e.highlight)==null?void 0:t.dates)?Y_(e.highlight.dates,e.timezone,n):e.highlight,markers:DN(e.markers,e.timezone)}},AN=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},EN=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,a=e[n],r=typeof e[n]=="string"?{[a]:!0}:Object.fromEntries(a.map(i=>[i,!0]));return[t,r]}))}),pa=e=>{const t=()=>{const U=e.enableSeconds?":ss":"",Y=e.enableMinutes?":mm":"";return e.is24?`HH${Y}${U}`:`hh${Y}${U} aa`},n=()=>{var U;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((U=k.value)==null?void 0:U.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},a=U=>bx(U,e.enableSeconds),r=()=>V.value.enabled?e.startTime&&Array.isArray(e.startTime)?[a(e.startTime[0]),a(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?a(e.startTime):null,i=L(()=>_N(e.multiCalendars)),o=L(()=>r()),l=L(()=>vN(e.ariaLabels)),u=L(()=>bN(e.filters)),f=L(()=>gN(e.transitions)),d=L(()=>wN(e.actionRow)),m=L(()=>pN(e.previewFormat,e.format,n())),p=L(()=>yN(e.textInput)),g=L(()=>kN(e.inline)),y=L(()=>SN(e.config)),S=L(()=>CN(e.highlight)),k=L(()=>xN(e.weekNumbers)),C=L(()=>TN(e.timezone)),w=L(()=>AN(e.multiDates)),I=L(()=>IN({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:S.value,markers:e.markers,timezone:C.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),V=L(()=>PN(e.range)),O=L(()=>EN(e.ui));return{defaultedTransitions:f,defaultedMultiCalendars:i,defaultedStartTime:o,defaultedAriaLabels:l,defaultedFilters:u,defaultedActionRow:d,defaultedPreviewFormat:m,defaultedTextInput:p,defaultedInline:g,defaultedConfig:y,defaultedHighlight:S,defaultedWeekNumbers:k,defaultedRange:V,propDates:I,defaultedTz:C,defaultedMultiDates:w,defaultedUI:O,getDefaultPattern:n,getDefaultStartTime:r,handleEventPropagation:U=>{y.value.allowStopPropagation&&U.stopPropagation(),y.value.allowPreventDefault&&U.preventDefault()}}},VN=(e,t,n)=>{const a=Ne(),{defaultedTextInput:r,defaultedRange:i,defaultedTz:o,defaultedMultiDates:l,getDefaultPattern:u}=pa(t),f=Ne(""),d=Pe(t,"format"),m=Pe(t,"formatLocale");yt(a,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",a.value,De(!0))},{deep:!0}),yt(i,(R,Oe)=>{R.enabled!==Oe.enabled&&(a.value=null)}),yt(d,()=>{Ee()});const p=R=>o.value.timezone&&o.value.convertModel?mi(R,o.value.timezone):R,g=R=>{if(o.value.timezone&&o.value.convertModel){const Oe=Q3(o.value.timezone,R);return Y$(R,Oe)}return R},y=(R,Oe,He=!1)=>kx(R,t.format,t.formatLocale,r.value.rangeSeparator,t.modelAuto,Oe??u(),He),S=R=>R?t.modelType?re(R):{hours:Qs(R),minutes:jl(R),seconds:t.enableSeconds?fd(R):0}:null,k=R=>t.modelType?re(R):{month:Sn(R),year:sn(R)},C=R=>Array.isArray(R)?l.value.enabled?R.map(Oe=>w(Oe,Ko(Pt(),Oe))):Km(()=>[Ko(Pt(),R[0]),R[1]?Ko(Pt(),R[1]):Nc(i.value.partialRange)],i.value.enabled):Ko(Pt(),+R),w=(R,Oe)=>(typeof R=="string"||typeof R=="number")&&t.modelType?$e(R):Oe,I=R=>Array.isArray(R)?[w(R[0],zl(null,+R[0].hours,+R[0].minutes,R[0].seconds)),w(R[1],zl(null,+R[1].hours,+R[1].minutes,R[1].seconds))]:w(R,zl(null,R.hours,R.minutes,R.seconds)),V=R=>{const Oe=ea(Pt(),{date:1});return Array.isArray(R)?l.value.enabled?R.map(He=>w(He,zs(Oe,+He.month,+He.year))):Km(()=>[w(R[0],zs(Oe,+R[0].month,+R[0].year)),w(R[1],R[1]?zs(Oe,+R[1].month,+R[1].year):Nc(i.value.partialRange))],i.value.enabled):w(R,zs(Oe,+R.month,+R.year))},O=R=>{if(Array.isArray(R))return R.map(Oe=>$e(Oe));throw new Error(xy.dateArr("multi-dates"))},U=R=>{if(Array.isArray(R)&&i.value.enabled){const Oe=R[0],He=R[1];return[Pt(Array.isArray(Oe)?Oe[0]:null),Array.isArray(He)&&He.length?Pt(He[0]):null]}return Pt(R[0])},Y=R=>t.modelAuto?Array.isArray(R)?[$e(R[0]),$e(R[1])]:t.autoApply?[$e(R)]:[$e(R),null]:Array.isArray(R)?Km(()=>R[1]?[$e(R[0]),R[1]?$e(R[1]):Nc(i.value.partialRange)]:[$e(R[0])],i.value.enabled):$e(R),H=()=>{Array.isArray(a.value)&&i.value.enabled&&a.value.length===1&&a.value.push(Nc(i.value.partialRange))},B=()=>{const R=a.value;return[re(R[0]),R[1]?re(R[1]):Nc(i.value.partialRange)]},j=()=>Array.isArray(a.value)?a.value[1]?B():re(dr(a.value[0])):[],G=()=>(a.value||[]).map(R=>re(R)),F=(R=!1)=>(R||H(),t.modelAuto?j():l.value.enabled?G():Array.isArray(a.value)?Km(()=>B(),i.value.enabled):re(dr(a.value))),ce=R=>!R||Array.isArray(R)&&!R.length?null:t.timePicker?I(dr(R)):t.monthPicker?V(dr(R)):t.yearPicker?C(dr(R)):l.value.enabled?O(dr(R)):t.weekPicker?U(dr(R)):Y(dr(R)),Z=R=>{const Oe=ce(R);Lp(dr(Oe))?(a.value=dr(Oe),Ee()):(a.value=null,f.value="")},le=()=>{const R=Oe=>Xo(Oe,r.value.format);return`${R(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?R(a.value[1]):""}`},ae=()=>n.value&&a.value?Array.isArray(a.value)?le():Xo(a.value,r.value.format):y(a.value),_e=()=>a.value?l.value.enabled?a.value.map(R=>y(R)).join("; "):r.value.enabled&&typeof r.value.format=="string"?ae():y(a.value):"",Ee=()=>{!t.format||typeof t.format=="string"||r.value.enabled&&typeof r.value.format=="string"?f.value=_e():f.value=t.format(a.value)},$e=R=>{if(t.utc){const Oe=new Date(R);return t.utc==="preserve"?new Date(Oe.getTime()+Oe.getTimezoneOffset()*6e4):Oe}return t.modelType?X3.includes(t.modelType)?p(new Date(R)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?p(Rp(R,u(),new Date,{locale:m.value})):p(Rp(R,t.modelType,new Date,{locale:m.value})):p(new Date(R))},re=R=>R?t.utc?lN(R,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+g(R):t.modelType==="iso"?g(R).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?y(g(R)):y(g(R),t.modelType,!0):g(R):"",ee=(R,Oe=!1,He=!1)=>{if(He)return R;if(e("update:model-value",R),o.value.emitTimezone&&Oe){const at=Array.isArray(R)?R.map(Be=>mi(dr(Be),o.value.emitTimezone)):mi(dr(R),o.value.emitTimezone);e("update:model-timezone-value",at)}},ge=R=>Array.isArray(a.value)?l.value.enabled?a.value.map(Oe=>R(Oe)):[R(a.value[0]),a.value[1]?R(a.value[1]):Nc(i.value.partialRange)]:R(dr(a.value)),se=()=>{if(Array.isArray(a.value)){const R=qs(a.value[0],t.weekStart),Oe=a.value[1]?qs(a.value[1],t.weekStart):[];return[R.map(He=>Pt(He)),Oe.map(He=>Pt(He))]}return qs(a.value,t.weekStart).map(R=>Pt(R))},ye=(R,Oe)=>ee(dr(ge(R)),!1,Oe),Me=R=>{const Oe=se();return R?Oe:e("update:model-value",se())},De=(R=!1)=>(R||Ee(),t.monthPicker?ye(k,R):t.timePicker?ye(S,R):t.yearPicker?ye(sn,R):t.weekPicker?Me(R):ee(F(R),!0,R));return{inputValue:f,internalModelValue:a,checkBeforeEmit:()=>a.value?i.value.enabled?i.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:Z,formatInputValue:Ee,emitModelValue:De}},ON=(e,t)=>{const{defaultedFilters:n,propDates:a}=pa(e),{validateMonthYearInRange:r}=tu(e),i=(d,m)=>{let p=d;return n.value.months.includes(Sn(p))?(p=m?uo(d,1):hd(d,1),i(p,m)):p},o=(d,m)=>{let p=d;return n.value.years.includes(sn(p))?(p=m?fy(d,1):ux(d,1),o(p,m)):p},l=(d,m=!1)=>{const p=ea(Pt(),{month:e.month,year:e.year});let g=d?uo(p,1):hd(p,1);e.disableYearSelect&&(g=Ko(g,e.year));let y=Sn(g),S=sn(g);n.value.months.includes(y)&&(g=i(g,d),y=Sn(g),S=sn(g)),n.value.years.includes(S)&&(g=o(g,d),S=sn(g)),r(y,S,d,e.preventMinMaxNavigation)&&u(y,S,m)},u=(d,m,p)=>{t("update-month-year",{month:d,year:m,fromNav:p})},f=L(()=>d=>wx(ea(Pt(),{month:e.month,year:e.year}),a.value.maxDate,a.value.minDate,e.preventMinMaxNavigation,d));return{handleMonthYearChange:l,isDisabled:f,updateMonthYear:u}},Jh={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},vo={...Jh,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},MN=["title"],BN=["disabled"],RN=ar({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...vo},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,a=e,{defaultedActionRow:r,defaultedPreviewFormat:i,defaultedMultiCalendars:o,defaultedTextInput:l,defaultedInline:u,defaultedRange:f,defaultedMultiDates:d}=pa(a),{isTimeValid:m,isMonthValid:p}=tu(a),{buildMatrix:g}=eu(),y=Ne(null),S=Ne(null),k=Ne(!1),C=Ne({}),w=Ne(null),I=Ne(null);Pn(()=>{a.arrowNavigation&&g([Ya(y),Ya(S)],"actionRow"),V(),window.addEventListener("resize",V)}),as(()=>{window.removeEventListener("resize",V)});const V=()=>{k.value=!1,setTimeout(()=>{var Z,le;const ae=(Z=w.value)==null?void 0:Z.getBoundingClientRect(),_e=(le=I.value)==null?void 0:le.getBoundingClientRect();ae&&_e&&(C.value.maxWidth=`${_e.width-ae.width-20}px`),k.value=!0},0)},O=L(()=>f.value.enabled&&!f.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),U=L(()=>!m.value(a.internalModelValue)||!p.value(a.internalModelValue)||!O.value),Y=()=>{const Z=i.value;return a.timePicker||a.monthPicker,Z(dr(a.internalModelValue))},H=()=>{const Z=a.internalModelValue;return o.value.count>0?`${B(Z[0])} - ${B(Z[1])}`:[B(Z[0]),B(Z[1])]},B=Z=>kx(Z,i.value,a.formatLocale,l.value.rangeSeparator,a.modelAuto,i.value),j=L(()=>!a.internalModelValue||!a.menuMount?"":typeof i.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?H():d.value.enabled?a.internalModelValue.map(Z=>`${B(Z)}`):a.modelAuto?`${B(a.internalModelValue[0])}`:`${B(a.internalModelValue[0])} -`:B(a.internalModelValue):Y()),G=()=>d.value.enabled?"; ":" - ",F=L(()=>Array.isArray(j.value)?j.value.join(G()):j.value),ce=()=>{m.value(a.internalModelValue)&&p.value(a.internalModelValue)&&O.value?n("select-date"):n("invalid-select")};return(Z,le)=>(de(),nt("div",{ref_key:"actionRowRef",ref:I,class:"dp__action_row"},[Z.$slots["action-row"]?$t(Z.$slots,"action-row",Ea(it({key:0},{internalModelValue:Z.internalModelValue,disabled:U.value,selectDate:()=>Z.$emit("select-date"),closePicker:()=>Z.$emit("close-picker")}))):(de(),nt(ht,{key:1},[Ae(r).showPreview?(de(),nt("div",{key:0,class:"dp__selection_preview",title:F.value,style:vt(C.value)},[Z.$slots["action-preview"]&&k.value?$t(Z.$slots,"action-preview",{key:0,value:Z.internalModelValue}):Ke("",!0),!Z.$slots["action-preview"]&&k.value?(de(),nt(ht,{key:1},[Ye(ve(F.value),1)],64)):Ke("",!0)],12,MN)):Ke("",!0),P("div",{ref_key:"actionBtnContainer",ref:w,class:"dp__action_buttons","data-dp-element":"action-row"},[Z.$slots["action-buttons"]?$t(Z.$slots,"action-buttons",{key:0,value:Z.internalModelValue}):Ke("",!0),Z.$slots["action-buttons"]?Ke("",!0):(de(),nt(ht,{key:1},[!Ae(u).enabled&&Ae(r).showCancel?(de(),nt("button",{key:0,ref_key:"cancelButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_cancel",onClick:le[0]||(le[0]=ae=>Z.$emit("close-picker")),onKeydown:le[1]||(le[1]=ae=>Ae(ni)(ae,()=>Z.$emit("close-picker")))},ve(Z.cancelText),545)):Ke("",!0),Ae(r).showNow?(de(),nt("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:le[2]||(le[2]=ae=>Z.$emit("select-now")),onKeydown:le[3]||(le[3]=ae=>Ae(ni)(ae,()=>Z.$emit("select-now")))},ve(Z.nowButtonLabel),33)):Ke("",!0),Ae(r).showSelect?(de(),nt("button",{key:2,ref_key:"selectButtonRef",ref:S,type:"button",class:"dp__action_button dp__action_select",disabled:U.value,"data-test-id":"select-button",onKeydown:le[4]||(le[4]=ae=>Ae(ni)(ae,()=>ce())),onClick:ce},ve(Z.selectText),41,BN)):Ke("",!0)],64))],512)],64))],512))}}),FN=["role","aria-label","tabindex"],$N={class:"dp__selection_grid_header"},LN=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],NN=["aria-label"],Gf=ar({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:i}=eu(),o=n,l=e,{defaultedAriaLabels:u,defaultedTextInput:f,defaultedConfig:d,handleEventPropagation:m}=pa(l),{hideNavigationButtons:p}=tv(),g=Ne(!1),y=Ne(null),S=Ne(null),k=Ne([]),C=Ne(),w=Ne(null),I=Ne(0),V=Ne(null);zg(()=>{y.value=null}),Pn(()=>{Qt().then(()=>F()),l.noOverlayFocus||U(),O(!0)}),as(()=>O(!1));const O=se=>{var ye;l.arrowNavigation&&((ye=l.headerRefs)!=null&&ye.length?i(se):a(se))},U=()=>{var se;const ye=Ya(S);ye&&(f.value.enabled||(y.value?(se=y.value)==null||se.focus({preventScroll:!0}):ye.focus({preventScroll:!0})),g.value=ye.clientHeight<ye.scrollHeight)},Y=L(()=>({dp__overlay:!0,"dp--overlay-absolute":!l.useRelative,"dp--overlay-relative":l.useRelative})),H=L(()=>l.useRelative?{height:`${l.height}px`,width:"var(--dp-menu-min-width)"}:void 0),B=L(()=>({dp__overlay_col:!0})),j=L(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:g.value,dp__button_bottom:l.isLast})),G=L(()=>{var se,ye;return{dp__overlay_container:!0,dp__container_flex:((se=l.items)==null?void 0:se.length)<=6,dp__container_block:((ye=l.items)==null?void 0:ye.length)>6}});yt(()=>l.items,()=>F(!1),{deep:!0});const F=(se=!0)=>{Qt().then(()=>{const ye=Ya(y),Me=Ya(S),De=Ya(w),R=Ya(V),Oe=De?De.getBoundingClientRect().height:0;Me&&(Me.getBoundingClientRect().height?I.value=Me.getBoundingClientRect().height-Oe:I.value=d.value.modeHeight-Oe),ye&&R&&se&&(R.scrollTop=ye.offsetTop-R.offsetTop-(I.value/2-ye.getBoundingClientRect().height)-Oe)})},ce=se=>{se.disabled||o("selected",se.value)},Z=()=>{o("toggle"),o("reset-flow")},le=se=>{l.escClose&&(Z(),m(se))},ae=(se,ye,Me,De)=>{se&&((ye.active||ye.value===l.focusValue)&&(y.value=se),l.arrowNavigation&&(Array.isArray(k.value[Me])?k.value[Me][De]=se:k.value[Me]=[se],_e()))},_e=()=>{var se,ye;const Me=(se=l.headerRefs)!=null&&se.length?[l.headerRefs].concat(k.value):k.value.concat([l.skipButtonRef?[]:[w.value]]);r(dr(Me),(ye=l.headerRefs)!=null&&ye.length?"monthPicker":"selectionGrid")},Ee=se=>{l.arrowNavigation||Hl(se,d.value,!0)},$e=se=>{C.value=se,o("hover-value",se)},re=()=>{if(Z(),!l.isLast){const se=$p(l.menuWrapRef??null,"action-row");if(se){const ye=mx(se);ye==null||ye.focus()}}},ee=se=>{switch(se.key){case ca.esc:return le(se);case ca.arrowLeft:return Ee(se);case ca.arrowRight:return Ee(se);case ca.arrowUp:return Ee(se);case ca.arrowDown:return Ee(se);default:return}},ge=se=>{if(se.key===ca.enter)return Z();if(se.key===ca.tab)return re()};return t({focusGrid:U}),(se,ye)=>{var Me;return de(),nt("div",{ref_key:"gridWrapRef",ref:S,class:Ge(Y.value),style:vt(H.value),role:se.useRelative?void 0:"dialog","aria-label":se.overlayLabel,tabindex:se.useRelative?void 0:"0",onKeydown:ee,onClick:ye[0]||(ye[0]=Ka(()=>{},["prevent"]))},[P("div",{ref_key:"containerRef",ref:V,class:Ge(G.value),style:vt({"--dp-overlay-height":`${I.value}px`}),role:"grid"},[P("div",$N,[$t(se.$slots,"header")]),se.$slots.overlay?$t(se.$slots,"overlay",{key:0}):(de(!0),nt(ht,{key:1},In(se.items,(De,R)=>(de(),nt("div",{key:R,class:Ge(["dp__overlay_row",{dp__flex_row:se.items.length>=3}]),role:"row"},[(de(!0),nt(ht,null,In(De,(Oe,He)=>(de(),nt("div",{key:Oe.value,ref_for:!0,ref:at=>ae(at,Oe,R,He),role:"gridcell",class:Ge(B.value),"aria-selected":Oe.active||void 0,"aria-disabled":Oe.disabled||void 0,tabindex:"0","data-test-id":Oe.text,onClick:Ka(at=>ce(Oe),["prevent"]),onKeydown:at=>Ae(ni)(at,()=>ce(Oe),!0),onMouseover:at=>$e(Oe.value)},[P("div",{class:Ge(Oe.className)},[se.$slots.item?$t(se.$slots,"item",{key:0,item:Oe}):Ke("",!0),se.$slots.item?Ke("",!0):(de(),nt(ht,{key:1},[Ye(ve(Oe.text),1)],64))],2)],42,LN))),128))],2))),128))],6),se.$slots["button-icon"]?xn((de(),nt("button",{key:0,ref_key:"toggleButton",ref:w,type:"button","aria-label":(Me=Ae(u))==null?void 0:Me.toggleOverlay,class:Ge(j.value),tabindex:"0",onClick:Z,onKeydown:ge},[$t(se.$slots,"button-icon")],42,NN)),[[Aa,!Ae(p)(se.hideNavigation,se.type)]]):Ke("",!0)],46,FN)}}}),qN=["data-dp-mobile"],Zh=ar({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,n=L(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),a=L(()=>({dp__instance_calendar:t.multiCalendars>0}));return(r,i)=>(de(),nt("div",{class:Ge({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse}),"data-dp-mobile":r.isMobile},[(de(!0),nt(ht,null,In(n.value,(o,l)=>(de(),nt("div",{key:o,class:Ge(a.value)},[$t(r.$slots,"default",{instance:o,index:l})],2))),128))],10,qN))}}),UN=["data-dp-element","aria-label","aria-disabled"],gf=ar({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,a=Ne(null);return Pn(()=>n("set-ref",a)),(r,i)=>(de(),nt("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:i[0]||(i[0]=o=>r.$emit("activate")),onKeydown:i[1]||(i[1]=o=>Ae(ni)(o,()=>r.$emit("activate"),!0))},[P("span",{class:Ge(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[$t(r.$slots,"default")],2)],40,UN))}}),HN=["aria-label","data-test-id"],xx=ar({__name:"YearModePicker",props:{...vo,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,a=e,{showRightIcon:r,showLeftIcon:i}=tv(),{defaultedConfig:o,defaultedMultiCalendars:l,defaultedAriaLabels:u,defaultedTransitions:f,defaultedUI:d}=pa(a),{showTransition:m,transitionName:p}=Qf(f),g=Ne(!1),y=(C=!1,w)=>{g.value=!g.value,n("toggle-year-picker",{flow:C,show:w})},S=C=>{g.value=!1,n("year-select",C)},k=(C=!1)=>{n("handle-year",C)};return(C,w)=>{var I,V,O,U,Y;return de(),nt(ht,null,[P("div",{class:Ge(["dp--year-mode-picker",{"dp--hidden-el":g.value}])},[Ae(i)(Ae(l),e.instance)?(de(),ct(gf,{key:0,ref:"mpPrevIconRef","aria-label":(I=Ae(u))==null?void 0:I.prevYear,disabled:e.isDisabled(!1),class:Ge((V=Ae(d))==null?void 0:V.navBtnPrev),onActivate:w[0]||(w[0]=H=>k(!1))},{default:D(()=>[C.$slots["arrow-left"]?$t(C.$slots,"arrow-left",{key:0}):Ke("",!0),C.$slots["arrow-left"]?Ke("",!0):(de(),ct(Ae(gy),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ke("",!0),P("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(O=Ae(u))==null?void 0:O.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:w[1]||(w[1]=()=>y(!1)),onKeydown:w[2]||(w[2]=Mu(()=>y(!1),["enter"]))},[C.$slots.year?$t(C.$slots,"year",{key:0,year:e.year}):Ke("",!0),C.$slots.year?Ke("",!0):(de(),nt(ht,{key:1},[Ye(ve(e.year),1)],64))],40,HN),Ae(r)(Ae(l),e.instance)?(de(),ct(gf,{key:1,ref:"mpNextIconRef","aria-label":(U=Ae(u))==null?void 0:U.nextYear,disabled:e.isDisabled(!0),class:Ge((Y=Ae(d))==null?void 0:Y.navBtnNext),onActivate:w[3]||(w[3]=H=>k(!0))},{default:D(()=>[C.$slots["arrow-right"]?$t(C.$slots,"arrow-right",{key:0}):Ke("",!0),C.$slots["arrow-right"]?Ke("",!0):(de(),ct(Ae(yy),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ke("",!0)],2),h(hi,{name:Ae(p)(e.showYearPicker),css:Ae(m)},{default:D(()=>{var H,B;return[e.showYearPicker?(de(),ct(Gf,{key:0,items:e.items,"text-input":C.textInput,"esc-close":C.escClose,config:C.config,"is-last":C.autoApply&&!Ae(o).keepActionRow,"hide-navigation":C.hideNavigation,"aria-labels":C.ariaLabels,"overlay-label":(B=(H=Ae(u))==null?void 0:H.yearPicker)==null?void 0:B.call(H,!0),type:"year",onToggle:y,onSelected:w[4]||(w[4]=j=>S(j))},xr({"button-icon":D(()=>[C.$slots["calendar-icon"]?$t(C.$slots,"calendar-icon",{key:0}):Ke("",!0),C.$slots["calendar-icon"]?Ke("",!0):(de(),ct(Ae(Pd),{key:1}))]),_:2},[C.$slots["year-overlay-value"]?{name:"item",fn:D(({item:j})=>[$t(C.$slots,"year-overlay-value",{text:j.text,value:j.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):Ke("",!0)]}),_:3},8,["name","css"])],64)}}}),Dy=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(a=>Cn(e,a))){const a=t.value.filter(r=>!Cn(r,e));t.value=a.length?a:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},Iy=(e,t,n)=>{let a=e.value?e.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(Da(t,a[0])?a.unshift(t):a[1]=t,n("range-end",t)):(a=[t],n("range-start",t)),a},ev=(e,t,n,a)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&a&&n&&t("auto-apply"))},Px=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>mi(Pt(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=mi(Pt(e.value),e.timezone))},Tx=(e,t,n,a)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&a.value.partialRange)?a.value.fixedStart&&($a(e,t.value[0])||Cn(e,t.value[0]))?[t.value[0],e]:a.value.fixedEnd&&(Da(e,t.value[1])||Cn(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],Dx=({multiCalendars:e,range:t,highlight:n,propDates:a,calendars:r,modelValue:i,props:o,filters:l,year:u,month:f,emit:d})=>{const m=L(()=>Cy(o.yearRange,o.locale,o.reverseYears)),p=Ne([!1]),g=L(()=>(j,G)=>{const F=ea(so(new Date),{month:f.value(j),year:u.value(j)}),ce=G?GC(F):Af(F);return wx(ce,a.value.maxDate,a.value.minDate,o.preventMinMaxNavigation,G)}),y=()=>Array.isArray(i.value)&&e.value.solo&&i.value[1],S=()=>{for(let j=0;j<e.value.count;j++)if(j===0)r.value[j]=r.value[0];else if(j===e.value.count-1&&y())r.value[j]={month:Sn(i.value[1]),year:sn(i.value[1])};else{const G=ea(Pt(),r.value[j-1]);r.value[j]={month:Sn(G),year:sn(fy(G,1))}}},k=j=>{if(!j)return S();const G=ea(Pt(),r.value[j]);return r.value[0].year=sn(ux(G,e.value.count-1)),S()},C=(j,G)=>{const F=J$(G,j);return t.value.showLastInRange&&F>1?G:j},w=j=>o.focusStartDate||e.value.solo?j[0]:j[1]?C(j[0],j[1]):j[0],I=()=>{if(i.value){const j=Array.isArray(i.value)?w(i.value):i.value;r.value[0]={month:Sn(j),year:sn(j)}}},V=()=>{I(),e.value.count&&S()};yt(i,(j,G)=>{o.isTextInputDate&&JSON.stringify(j??{})!==JSON.stringify(G??{})&&V()}),Pn(()=>{V()});const O=(j,G)=>{r.value[G].year=j,d("update-month-year",{instance:G,year:j,month:r.value[G].month}),e.value.count&&!e.value.solo&&k(G)},U=L(()=>j=>vd(m.value,G=>{var F;const ce=u.value(j)===G.value,Z=Ef(G.value,_d(a.value.minDate),_d(a.value.maxDate))||((F=l.value.years)==null?void 0:F.includes(u.value(j))),le=Ty(n.value,G.value);return{active:ce,disabled:Z,highlighted:le}})),Y=(j,G)=>{O(j,G),B(G)},H=(j,G=!1)=>{if(!g.value(j,G)){const F=G?u.value(j)+1:u.value(j)-1;O(F,j)}},B=(j,G=!1,F)=>{G||d("reset-flow"),F!==void 0?p.value[j]=F:p.value[j]=!p.value[j],p.value[j]?d("overlay-toggle",{open:!0,overlay:Fr.year}):(d("overlay-closed"),d("overlay-toggle",{open:!1,overlay:Fr.year}))};return{isDisabled:g,groupedYears:U,showYearPicker:p,selectYear:O,toggleYearPicker:B,handleYearSelect:Y,handleYear:H}},zN=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:i,defaultedRange:o,defaultedHighlight:l,propDates:u,defaultedTz:f,defaultedFilters:d,defaultedMultiDates:m}=pa(e),p=()=>{e.isTextInputDate&&V(sn(Pt(e.startDate)),0)},{modelValue:g,year:y,month:S,calendars:k}=Xf(e,t,p),C=L(()=>dx(e.formatLocale,e.locale,e.monthNameFormat)),w=Ne(null),{checkMinMaxRange:I}=tu(e),{selectYear:V,groupedYears:O,showYearPicker:U,toggleYearPicker:Y,handleYearSelect:H,handleYear:B,isDisabled:j}=Dx({modelValue:g,multiCalendars:n,range:o,highlight:l,calendars:k,year:y,propDates:u,month:S,filters:d,props:e,emit:t});Pn(()=>{e.startDate&&(g.value&&e.focusStartDate||!g.value)&&V(sn(Pt(e.startDate)),0)});const G=ye=>ye?{month:Sn(ye),year:sn(ye)}:{month:null,year:null},F=()=>g.value?Array.isArray(g.value)?g.value.map(ye=>G(ye)):G(g.value):G(),ce=(ye,Me)=>{const De=k.value[ye],R=F();return Array.isArray(R)?R.some(Oe=>Oe.year===(De==null?void 0:De.year)&&Oe.month===Me):(De==null?void 0:De.year)===R.year&&Me===R.month},Z=(ye,Me,De)=>{var R,Oe;const He=F();return Array.isArray(He)?y.value(Me)===((R=He[De])==null?void 0:R.year)&&ye===((Oe=He[De])==null?void 0:Oe.month):!1},le=(ye,Me)=>{if(o.value.enabled){const De=F();if(Array.isArray(g.value)&&Array.isArray(De)){const R=Z(ye,Me,0)||Z(ye,Me,1),Oe=zs(so(Pt()),ye,y.value(Me));return Vf(g.value,w.value,Oe)&&!R}return!1}return!1},ae=L(()=>ye=>vd(C.value,Me=>{var De;const R=ce(ye,Me.value),Oe=Ef(Me.value,px(y.value(ye),u.value.minDate),gx(y.value(ye),u.value.maxDate))||mN(u.value.disabledDates,y.value(ye),Me.value)||((De=d.value.months)==null?void 0:De.includes(Me.value))||!hN(u.value.allowedDates,y.value(ye),Me.value),He=le(Me.value,ye),at=Sx(l.value,Me.value,y.value(ye));return{active:R,disabled:Oe,isBetween:He,highlighted:at}})),_e=(ye,Me)=>zs(so(Pt()),ye,y.value(Me)),Ee=(ye,Me)=>{const De=g.value?g.value:so(new Date);g.value=zs(De,ye,y.value(Me)),t("auto-apply"),t("update-flow-step")},$e=(ye,Me)=>{const De=_e(ye,Me);o.value.fixedEnd||o.value.fixedStart?g.value=Tx(De,g,t,o):g.value?I(De,g.value)&&(g.value=Iy(g,_e(ye,Me),t)):g.value=[_e(ye,Me)],Qt().then(()=>{ev(g.value,t,e.autoApply,e.modelAuto)})},re=(ye,Me)=>{Dy(_e(ye,Me),g,m.value.limit),t("auto-apply",!0)},ee=(ye,Me)=>(k.value[Me].month=ye,se(Me,k.value[Me].year,ye),m.value.enabled?re(ye,Me):o.value.enabled?$e(ye,Me):Ee(ye,Me)),ge=(ye,Me)=>{V(ye,Me),se(Me,ye,null)},se=(ye,Me,De)=>{let R=De;if(!R&&R!==0){const Oe=F();R=Array.isArray(Oe)?Oe[ye].month:Oe.month}t("update-month-year",{instance:ye,year:Me,month:R})};return{groupedMonths:ae,groupedYears:O,year:y,isDisabled:j,defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:i,showYearPicker:U,modelValue:g,presetDate:(ye,Me)=>{Px({value:ye,modelValue:g,range:o.value.enabled,timezone:Me?void 0:f.value.timezone}),t("auto-apply")},setHoverDate:(ye,Me)=>{w.value=_e(ye,Me)},selectMonth:ee,selectYear:ge,toggleYearPicker:Y,handleYearSelect:H,handleYear:B,getModelMonthYear:F}},WN=ar({compatConfig:{MODE:3},__name:"MonthPicker",props:{...vo},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=ec(),i=Di(r,"yearMode"),o=e;Pn(()=>{o.shadow||a("mount",null)});const{groupedMonths:l,groupedYears:u,year:f,isDisabled:d,defaultedMultiCalendars:m,defaultedConfig:p,showYearPicker:g,modelValue:y,presetDate:S,setHoverDate:k,selectMonth:C,selectYear:w,toggleYearPicker:I,handleYearSelect:V,handleYear:O,getModelMonthYear:U}=zN(o,a);return t({getSidebarProps:()=>({modelValue:y,year:f,getModelMonthYear:U,selectMonth:C,selectYear:w,handleYear:O}),presetDate:S,toggleYearPicker:Y=>I(0,Y)}),(Y,H)=>(de(),ct(Zh,{"multi-calendars":Ae(m).count,collapse:Y.collapse,stretch:"","is-mobile":Y.isMobile},{default:D(({instance:B})=>[Y.$slots["top-extra"]?$t(Y.$slots,"top-extra",{key:0,value:Y.internalModelValue}):Ke("",!0),Y.$slots["month-year"]?$t(Y.$slots,"month-year",Ea(it({key:1},{year:Ae(f),months:Ae(l)(B),years:Ae(u)(B),selectMonth:Ae(C),selectYear:Ae(w),instance:B}))):(de(),ct(Gf,{key:2,items:Ae(l)(B),"arrow-navigation":Y.arrowNavigation,"is-last":Y.autoApply&&!Ae(p).keepActionRow,"esc-close":Y.escClose,height:Ae(p).modeHeight,config:Y.config,"no-overlay-focus":!!(Y.noOverlayFocus||Y.textInput),"use-relative":"",type:"month",onSelected:j=>Ae(C)(j,B),onHoverValue:j=>Ae(k)(j,B)},xr({header:D(()=>[h(xx,it(Y.$props,{items:Ae(u)(B),instance:B,"show-year-picker":Ae(g)[B],year:Ae(f)(B),"is-disabled":j=>Ae(d)(B,j),onHandleYear:j=>Ae(O)(B,j),onYearSelect:j=>Ae(V)(j,B),onToggleYearPicker:j=>Ae(I)(B,j==null?void 0:j.flow,j==null?void 0:j.show)}),xr({_:2},[In(Ae(i),(j,G)=>({name:j,fn:D(F=>[$t(Y.$slots,j,Ea(tr(F)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[Y.$slots["month-overlay-value"]?{name:"item",fn:D(({item:j})=>[$t(Y.$slots,"month-overlay-value",{text:j.text,value:j.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),jN=(e,t)=>{const n=()=>{e.isTextInputDate&&(d.value=sn(Pt(e.startDate)))},{modelValue:a}=Xf(e,t,n),r=Ne(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:l,defaultedRange:u,propDates:f}=pa(e),d=Ne();Pn(()=>{e.startDate&&(a.value&&e.focusStartDate||!a.value)&&(d.value=sn(Pt(e.startDate)))});const m=C=>Array.isArray(a.value)?a.value.some(w=>sn(w)===C):a.value?sn(a.value)===C:!1,p=C=>u.value.enabled&&Array.isArray(a.value)?Vf(a.value,r.value,k(C)):!1,g=C=>f.value.allowedDates instanceof Map?f.value.allowedDates.size?f.value.allowedDates.has(`${C}`):!1:!0,y=C=>f.value.disabledDates instanceof Map?f.value.disabledDates.size?f.value.disabledDates.has(`${C}`):!1:!0,S=L(()=>vd(Cy(e.yearRange,e.locale,e.reverseYears),C=>{const w=m(C.value),I=Ef(C.value,_d(f.value.minDate),_d(f.value.maxDate))||l.value.years.includes(C.value)||!g(C.value)||y(C.value),V=p(C.value)&&!w,O=Ty(i.value,C.value);return{active:w,disabled:I,isBetween:V,highlighted:O}})),k=C=>Ko(so(Af(new Date)),C);return{groupedYears:S,modelValue:a,focusYear:d,setHoverValue:C=>{r.value=Ko(so(new Date),C)},selectYear:C=>{var w;if(t("update-month-year",{instance:0,year:C}),o.value.enabled)return a.value?Array.isArray(a.value)&&(((w=a.value)==null?void 0:w.map(I=>sn(I))).includes(C)?a.value=a.value.filter(I=>sn(I)!==C):a.value.push(Ko(hr(Pt()),C))):a.value=[Ko(hr(Af(Pt())),C)],t("auto-apply",!0);u.value.enabled?(a.value=Iy(a,k(C),t),Qt().then(()=>{ev(a.value,t,e.autoApply,e.modelAuto)})):(a.value=k(C),t("auto-apply"))}}},YN=ar({compatConfig:{MODE:3},__name:"YearPicker",props:{...vo},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,r=e,{groupedYears:i,modelValue:o,focusYear:l,selectYear:u,setHoverValue:f}=jN(r,a),{defaultedConfig:d}=pa(r);return t({getSidebarProps:()=>({modelValue:o,selectYear:u})}),(m,p)=>(de(),nt("div",null,[m.$slots["top-extra"]?$t(m.$slots,"top-extra",{key:0,value:m.internalModelValue}):Ke("",!0),m.$slots["month-year"]?$t(m.$slots,"month-year",Ea(it({key:1},{years:Ae(i),selectYear:Ae(u)}))):(de(),ct(Gf,{key:2,items:Ae(i),"is-last":m.autoApply&&!Ae(d).keepActionRow,height:Ae(d).modeHeight,config:m.config,"no-overlay-focus":!!(m.noOverlayFocus||m.textInput),"focus-value":Ae(l),type:"year","use-relative":"",onSelected:Ae(u),onHoverValue:Ae(f)},xr({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:D(({item:g})=>[$t(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),KN={key:0,class:"dp__time_input"},GN=["data-compact","data-collapsed"],QN=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],XN=["aria-label","disabled","data-test-id","onKeydown","onClick"],JN=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],ZN={key:0},e4=["aria-label","data-compact"],t4=ar({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...vo},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,r=e,{setTimePickerElements:i,setTimePickerBackRef:o}=eu(),{defaultedAriaLabels:l,defaultedTransitions:u,defaultedFilters:f,defaultedConfig:d,defaultedRange:m,defaultedMultiCalendars:p}=pa(r),{transitionName:g,showTransition:y}=Qf(u),S=Ia({hours:!1,minutes:!1,seconds:!1}),k=Ne("AM"),C=Ne(null),w=Ne([]),I=Ne(),V=Ne(!1);Pn(()=>{a("mounted")});const O=W=>ea(new Date,{hours:W.hours,minutes:W.minutes,seconds:r.enableSeconds?W.seconds:0,milliseconds:0}),U=L(()=>W=>$e(W,r[W])||H(W,r[W])),Y=L(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),H=(W,Ve)=>m.value.enabled&&!m.value.disableTimeRangeValidation?!r.validateTime(W,Ve):!1,B=(W,Ve)=>{if(m.value.enabled&&!m.value.disableTimeRangeValidation){const Ie=Ve?+r[`${W}Increment`]:-+r[`${W}Increment`],We=r[W]+Ie;return!r.validateTime(W,We)}return!1},j=L(()=>W=>!ye(+r[W]+ +r[`${W}Increment`],W)||B(W,!0)),G=L(()=>W=>!ye(+r[W]-+r[`${W}Increment`],W)||B(W,!1)),F=(W,Ve)=>HC(ea(Pt(),W),Ve),ce=(W,Ve)=>Y3(ea(Pt(),W),Ve),Z=L(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),le=L(()=>r.timePickerInline&&m.value.enabled&&!p.value.count),ae=L(()=>{const W=[{type:"hours"}];return r.enableMinutes&&W.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&W.push({type:"",separator:!0},{type:"seconds"}),W}),_e=L(()=>ae.value.filter(W=>!W.separator)),Ee=L(()=>W=>{if(W==="hours"){const Ve=at(+r.hours);return{text:Ve<10?`0${Ve}`:`${Ve}`,value:Ve}}return{text:r[W]<10?`0${r[W]}`:`${r[W]}`,value:r[W]}}),$e=(W,Ve)=>{var Ie;if(!r.disabledTimesConfig)return!1;const We=r.disabledTimesConfig(r.order,W==="hours"?Ve:void 0);return We[W]?!!((Ie=We[W])!=null&&Ie.includes(Ve)):!0},re=(W,Ve)=>Ve!=="hours"||k.value==="AM"?W:W+12,ee=W=>{const Ve=r.is24?24:12,Ie=W==="hours"?Ve:60,We=+r[`${W}GridIncrement`],Qe=W==="hours"&&!r.is24?We:0,st=[];for(let tt=Qe;tt<Ie;tt+=We)st.push({value:r.is24?tt:re(tt,W),text:tt<10?`0${tt}`:`${tt}`});return W==="hours"&&!r.is24&&st.unshift({value:k.value==="PM"?12:0,text:"12"}),vd(st,tt=>({active:!1,disabled:f.value.times[W].includes(tt.value)||!ye(tt.value,W)||$e(W,tt.value)||H(W,tt.value)}))},ge=W=>W>=0?W:59,se=W=>W>=0?W:23,ye=(W,Ve)=>{const Ie=r.minTime?O(L_(r.minTime)):null,We=r.maxTime?O(L_(r.maxTime)):null,Qe=O(L_(Y.value,Ve,Ve==="minutes"||Ve==="seconds"?ge(W):se(W)));return Ie&&We?(md(Qe,We)||Yc(Qe,We))&&(Yu(Qe,Ie)||Yc(Qe,Ie)):Ie?Yu(Qe,Ie)||Yc(Qe,Ie):We?md(Qe,We)||Yc(Qe,We):!0},Me=W=>r[`no${W[0].toUpperCase()+W.slice(1)}Overlay`],De=W=>{Me(W)||(S[W]=!S[W],S[W]?(V.value=!0,a("overlay-opened",W)):(V.value=!1,a("overlay-closed",W)))},R=W=>W==="hours"?Qs:W==="minutes"?jl:fd,Oe=()=>{I.value&&clearTimeout(I.value)},He=(W,Ve=!0,Ie)=>{const We=Ve?F:ce,Qe=Ve?+r[`${W}Increment`]:-+r[`${W}Increment`];ye(+r[W]+Qe,W)&&a(`update:${W}`,R(W)(We({[W]:+r[W]},{[W]:+r[`${W}Increment`]}))),!(Ie!=null&&Ie.keyboard)&&d.value.timeArrowHoldThreshold&&(I.value=setTimeout(()=>{He(W,Ve)},d.value.timeArrowHoldThreshold))},at=W=>r.is24?W:(W>=12?k.value="PM":k.value="AM",eN(W)),Be=()=>{k.value==="PM"?(k.value="AM",a("update:hours",r.hours-12)):(k.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",k.value)},N=W=>{S[W]=!0},Q=(W,Ve,Ie)=>{if(W&&r.arrowNavigation){Array.isArray(w.value[Ve])?w.value[Ve][Ie]=W:w.value[Ve]=[W];const We=w.value.reduce((Qe,st)=>st.map((tt,Tt)=>[...Qe[Tt]||[],st[Tt]]),[]);o(r.closeTimePickerBtn),C.value&&(We[1]=We[1].concat(C.value)),i(We,r.order)}},pe=(W,Ve)=>(De(W),a(`update:${W}`,Ve));return t({openChildCmp:N}),(W,Ve)=>{var Ie;return W.disabled?Ke("",!0):(de(),nt("div",KN,[(de(!0),nt(ht,null,In(ae.value,(We,Qe)=>{var st,tt,Tt;return de(),nt("div",{key:Qe,class:Ge(Z.value),"data-compact":le.value&&!W.enableSeconds,"data-collapsed":le.value&&W.enableSeconds},[We.separator?(de(),nt(ht,{key:0},[V.value?Ke("",!0):(de(),nt(ht,{key:0},[Ye(":")],64))],64)):(de(),nt(ht,{key:1},[P("button",{ref_for:!0,ref:ke=>Q(ke,Qe,0),type:"button",class:Ge({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_top:W.timePickerInline,dp__inc_dec_button_disabled:j.value(We.type),"dp--hidden-el":V.value}),"data-test-id":`${We.type}-time-inc-btn-${r.order}`,"aria-label":(st=Ae(l))==null?void 0:st.incrementValue(We.type),tabindex:"0",onKeydown:ke=>Ae(ni)(ke,()=>He(We.type,!0,{keyboard:!0}),!0),onClick:ke=>Ae(d).timeArrowHoldThreshold?void 0:He(We.type,!0),onMousedown:ke=>Ae(d).timeArrowHoldThreshold?He(We.type,!0):void 0,onMouseup:Oe},[r.timePickerInline?(de(),nt(ht,{key:1},[W.$slots["tp-inline-arrow-up"]?$t(W.$slots,"tp-inline-arrow-up",{key:0}):(de(),nt(ht,{key:1},[Ve[2]||(Ve[2]=P("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),Ve[3]||(Ve[3]=P("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(de(),nt(ht,{key:0},[W.$slots["arrow-up"]?$t(W.$slots,"arrow-up",{key:0}):Ke("",!0),W.$slots["arrow-up"]?Ke("",!0):(de(),ct(Ae(wy),{key:1}))],64))],42,QN),P("button",{ref_for:!0,ref:ke=>Q(ke,Qe,1),type:"button","aria-label":`${Ee.value(We.type).text}-${(tt=Ae(l))==null?void 0:tt.openTpOverlay(We.type)}`,class:Ge({dp__time_display:!0,dp__time_display_block:!W.timePickerInline,dp__time_display_inline:W.timePickerInline,"dp--time-invalid":U.value(We.type),"dp--time-overlay-btn":!U.value(We.type),"dp--hidden-el":V.value}),disabled:Me(We.type),tabindex:"0","data-test-id":`${We.type}-toggle-overlay-btn-${r.order}`,onKeydown:ke=>Ae(ni)(ke,()=>De(We.type),!0),onClick:ke=>De(We.type)},[W.$slots[We.type]?$t(W.$slots,We.type,{key:0,text:Ee.value(We.type).text,value:Ee.value(We.type).value}):Ke("",!0),W.$slots[We.type]?Ke("",!0):(de(),nt(ht,{key:1},[Ye(ve(Ee.value(We.type).text),1)],64))],42,XN),P("button",{ref_for:!0,ref:ke=>Q(ke,Qe,2),type:"button",class:Ge({dp__btn:!0,dp__inc_dec_button:!W.timePickerInline,dp__inc_dec_button_inline:W.timePickerInline,dp__tp_inline_btn_bottom:W.timePickerInline,dp__inc_dec_button_disabled:G.value(We.type),"dp--hidden-el":V.value}),"data-test-id":`${We.type}-time-dec-btn-${r.order}`,"aria-label":(Tt=Ae(l))==null?void 0:Tt.decrementValue(We.type),tabindex:"0",onKeydown:ke=>Ae(ni)(ke,()=>He(We.type,!1,{keyboard:!0}),!0),onClick:ke=>Ae(d).timeArrowHoldThreshold?void 0:He(We.type,!1),onMousedown:ke=>Ae(d).timeArrowHoldThreshold?He(We.type,!1):void 0,onMouseup:Oe},[r.timePickerInline?(de(),nt(ht,{key:1},[W.$slots["tp-inline-arrow-down"]?$t(W.$slots,"tp-inline-arrow-down",{key:0}):(de(),nt(ht,{key:1},[Ve[4]||(Ve[4]=P("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),Ve[5]||(Ve[5]=P("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(de(),nt(ht,{key:0},[W.$slots["arrow-down"]?$t(W.$slots,"arrow-down",{key:0}):Ke("",!0),W.$slots["arrow-down"]?Ke("",!0):(de(),ct(Ae(ky),{key:1}))],64))],42,JN)],64))],10,GN)}),128)),W.is24?Ke("",!0):(de(),nt("div",ZN,[W.$slots["am-pm-button"]?$t(W.$slots,"am-pm-button",{key:0,toggle:Be,value:k.value}):Ke("",!0),W.$slots["am-pm-button"]?Ke("",!0):(de(),nt("button",{key:1,ref_key:"amPmButton",ref:C,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Ie=Ae(l))==null?void 0:Ie.amPmButton,tabindex:"0","data-compact":le.value,onClick:Be,onKeydown:Ve[0]||(Ve[0]=We=>Ae(ni)(We,()=>Be(),!0))},ve(k.value),41,e4))])),(de(!0),nt(ht,null,In(_e.value,(We,Qe)=>(de(),ct(hi,{key:Qe,name:Ae(g)(S[We.type]),css:Ae(y)},{default:D(()=>{var st,tt;return[S[We.type]?(de(),ct(Gf,{key:0,items:ee(We.type),"is-last":W.autoApply&&!Ae(d).keepActionRow,"esc-close":W.escClose,type:We.type,"text-input":W.textInput,config:W.config,"arrow-navigation":W.arrowNavigation,"aria-labels":W.ariaLabels,"overlay-label":(tt=(st=Ae(l)).timeOverlay)==null?void 0:tt.call(st,We.type),onSelected:Tt=>pe(We.type,Tt),onToggle:Tt=>De(We.type),onResetFlow:Ve[1]||(Ve[1]=Tt=>W.$emit("reset-flow"))},xr({"button-icon":D(()=>[W.$slots["clock-icon"]?$t(W.$slots,"clock-icon",{key:0}):Ke("",!0),W.$slots["clock-icon"]?Ke("",!0):(de(),ct(Cd(W.timePickerInline?Ae(Pd):Ae(by)),{key:1}))]),_:2},[W.$slots[`${We.type}-overlay-value`]?{name:"item",fn:D(({item:Tt})=>[$t(W.$slots,`${We.type}-overlay-value`,{text:Tt.text,value:Tt.value})]),key:"0"}:void 0,W.$slots[`${We.type}-overlay-header`]?{name:"header",fn:D(()=>[$t(W.$slots,`${We.type}-overlay-header`,{toggle:()=>De(We.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):Ke("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),n4=["data-dp-mobile"],a4=["aria-label","tabindex"],r4=["role","aria-label","tabindex"],i4=["aria-label"],Ix=ar({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...vo},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,r=e,{buildMatrix:i,setTimePicker:o}=eu(),l=ec(),{defaultedTransitions:u,defaultedAriaLabels:f,defaultedTextInput:d,defaultedConfig:m,defaultedRange:p}=pa(r),{transitionName:g,showTransition:y}=Qf(u),{hideNavigationButtons:S}=tv(),k=Ne(null),C=Ne(null),w=Ne([]),I=Ne(null),V=Ne(!1);Pn(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?i([Ya(k.value)],"time"):o(!0,r.timePicker)});const O=L(()=>p.value.enabled&&r.modelAuto?fx(r.internalModelValue):!0),U=Ne(!1),Y=$e=>({hours:Array.isArray(r.hours)?r.hours[$e]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[$e]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[$e]:r.seconds}),H=L(()=>{const $e=[];if(p.value.enabled)for(let re=0;re<2;re++)$e.push(Y(re));else $e.push(Y(0));return $e}),B=($e,re=!1,ee="")=>{re||a("reset-flow"),U.value=$e,a($e?"overlay-opened":"overlay-closed",Fr.time),r.arrowNavigation&&o($e),Qt(()=>{ee!==""&&w.value[0]&&w.value[0].openChildCmp(ee)})},j=L(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!m.value.keepActionRow})),G=Di(l,"timePicker"),F=($e,re,ee)=>p.value.enabled?re===0?[$e,H.value[1][ee]]:[H.value[0][ee],$e]:$e,ce=$e=>{a("update:hours",$e)},Z=$e=>{a("update:minutes",$e)},le=$e=>{a("update:seconds",$e)},ae=()=>{if(I.value&&!d.value.enabled&&!r.noOverlayFocus){const $e=mx(I.value);$e&&$e.focus({preventScroll:!0})}},_e=$e=>{V.value=!1,a("overlay-closed",$e)},Ee=$e=>{V.value=!0,a("overlay-opened",$e)};return t({toggleTimePicker:B}),($e,re)=>{var ee;return de(),nt("div",{class:"dp--tp-wrap","data-dp-mobile":$e.isMobile},[!$e.timePicker&&!$e.timePickerInline?xn((de(),nt("button",{key:0,ref_key:"openTimePickerBtn",ref:k,type:"button",class:Ge({...j.value,"dp--hidden-el":U.value}),"aria-label":(ee=Ae(f))==null?void 0:ee.openTimePicker,tabindex:$e.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:re[0]||(re[0]=ge=>Ae(ni)(ge,()=>B(!0))),onClick:re[1]||(re[1]=ge=>B(!0))},[$e.$slots["clock-icon"]?$t($e.$slots,"clock-icon",{key:0}):Ke("",!0),$e.$slots["clock-icon"]?Ke("",!0):(de(),ct(Ae(by),{key:1}))],42,a4)),[[Aa,!Ae(S)($e.hideNavigation,"time")]]):Ke("",!0),h(hi,{name:Ae(g)(U.value),css:Ae(y)&&!$e.timePickerInline},{default:D(()=>{var ge,se;return[U.value||$e.timePicker||$e.timePickerInline?(de(),nt("div",{key:0,ref_key:"overlayRef",ref:I,role:$e.timePickerInline?void 0:"dialog",class:Ge({dp__overlay:!$e.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!$e.timePickerInline,"dp--overlay-relative":r.timePicker}),style:vt($e.timePicker?{height:`${Ae(m).modeHeight}px`}:void 0),"aria-label":(ge=Ae(f))==null?void 0:ge.timePicker,tabindex:$e.timePickerInline?void 0:0},[P("div",{class:Ge($e.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$e.$slots["time-picker-overlay"]?$t($e.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:ce,setMinutes:Z,setSeconds:le}):Ke("",!0),$e.$slots["time-picker-overlay"]?Ke("",!0):(de(),nt("div",{key:1,class:Ge($e.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(de(!0),nt(ht,null,In(H.value,(ye,Me)=>xn((de(),ct(t4,it({key:Me,ref_for:!0},{...$e.$props,order:Me,hours:ye.hours,minutes:ye.minutes,seconds:ye.seconds,closeTimePickerBtn:C.value,disabledTimesConfig:e.disabledTimesConfig,disabled:Me===0?Ae(p).fixedStart:Ae(p).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:w,"validate-time":(De,R)=>e.validateTime(De,F(R,Me,De)),"onUpdate:hours":De=>ce(F(De,Me,"hours")),"onUpdate:minutes":De=>Z(F(De,Me,"minutes")),"onUpdate:seconds":De=>le(F(De,Me,"seconds")),onMounted:ae,onOverlayClosed:_e,onOverlayOpened:Ee,onAmPmChange:re[2]||(re[2]=De=>$e.$emit("am-pm-change",De))}),xr({_:2},[In(Ae(G),(De,R)=>({name:De,fn:D(Oe=>[$t($e.$slots,De,it({ref_for:!0},Oe))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Aa,Me===0?!0:O.value]])),128))],2)),!$e.timePicker&&!$e.timePickerInline?xn((de(),nt("button",{key:2,ref_key:"closeTimePickerBtn",ref:C,type:"button",class:Ge({...j.value,"dp--hidden-el":V.value}),"aria-label":(se=Ae(f))==null?void 0:se.closeTimePicker,tabindex:"0",onKeydown:re[3]||(re[3]=ye=>Ae(ni)(ye,()=>B(!1))),onClick:re[4]||(re[4]=ye=>B(!1))},[$e.$slots["calendar-icon"]?$t($e.$slots,"calendar-icon",{key:0}):Ke("",!0),$e.$slots["calendar-icon"]?Ke("",!0):(de(),ct(Ae(Pd),{key:1}))],42,i4)),[[Aa,!Ae(S)($e.hideNavigation,"time")]]):Ke("",!0)],2)],14,r4)):Ke("",!0)]}),_:3},8,["name","css"])],8,n4)}}}),Ax=(e,t,n,a)=>{const{defaultedRange:r}=pa(e),i=(I,V)=>Array.isArray(t[I])?t[I][V]:t[I],o=I=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[I]:t.seconds:0,l=(I,V)=>I?V!==void 0?zl(I,i("hours",V),i("minutes",V),o(V)):zl(I,t.hours,t.minutes,o()):lx(Pt(),o(V)),u=(I,V)=>{t[I]=V},f=L(()=>e.modelAuto&&r.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:r.value.enabled),d=(I,V)=>{const O=Object.fromEntries(Object.keys(t).map(U=>U===I?[U,V]:[U,t[U]].slice()));if(f.value&&!r.value.disableTimeRangeValidation){const U=H=>n.value?zl(n.value[H],O.hours[H],O.minutes[H],O.seconds[H]):null,Y=H=>sx(n.value[H],0);return!(Cn(U(0),U(1))&&(Yu(U(0),Y(1))||md(U(1),Y(0))))}return!0},m=(I,V)=>{d(I,V)&&(u(I,V),a&&a())},p=I=>{m("hours",I)},g=I=>{m("minutes",I)},y=I=>{m("seconds",I)},S=(I,V,O,U)=>{V&&p(I),!V&&!O&&g(I),O&&y(I),n.value&&U(n.value)},k=I=>{if(I){const V=Array.isArray(I),O=V?[+I[0].hours,+I[1].hours]:+I.hours,U=V?[+I[0].minutes,+I[1].minutes]:+I.minutes,Y=V?[+I[0].seconds,+I[1].seconds]:+I.seconds;u("hours",O),u("minutes",U),e.enableSeconds&&u("seconds",Y)}},C=(I,V)=>{const O={hours:Array.isArray(t.hours)?t.hours[I]:t.hours,disabledArr:[]};return(V||V===0)&&(O.hours=V),Array.isArray(e.disabledTimes)&&(O.disabledArr=r.value.enabled&&Array.isArray(e.disabledTimes[I])?e.disabledTimes[I]:e.disabledTimes),O},w=L(()=>(I,V)=>{var O;if(Array.isArray(e.disabledTimes)){const{disabledArr:U,hours:Y}=C(I,V),H=U.filter(B=>+B.hours===Y);return((O=H[0])==null?void 0:O.minutes)==="*"?{hours:[Y],minutes:void 0,seconds:void 0}:{hours:[],minutes:(H==null?void 0:H.map(B=>+B.minutes))??[],seconds:(H==null?void 0:H.map(B=>B.seconds?+B.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:u,updateHours:p,updateMinutes:g,updateSeconds:y,getSetDateTime:l,updateTimeValues:S,getSecondsValue:o,assignStartTime:k,validateTime:d,disabledTimesConfig:w}},o4=(e,t)=>{const n=()=>{e.isTextInputDate&&V()},{modelValue:a,time:r}=Xf(e,t,n),{defaultedStartTime:i,defaultedRange:o,defaultedTz:l}=pa(e),{updateTimeValues:u,getSetDateTime:f,setTime:d,assignStartTime:m,disabledTimesConfig:p,validateTime:g}=Ax(e,r,a,y);function y(){t("update-flow-step")}const S=U=>{const{hours:Y,minutes:H,seconds:B}=U;return{hours:+Y,minutes:+H,seconds:B?+B:0}},k=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const Y=S(e.startTime[0]),H=S(e.startTime[1]);return[ea(Pt(),Y),ea(Pt(),H)]}const U=S(e.startTime);return ea(Pt(),U)}return o.value.enabled?[null,null]:null},C=()=>{if(o.value.enabled){const[U,Y]=k();a.value=[mi(f(U,0),l.value.timezone),mi(f(Y,1),l.value.timezone)]}else a.value=mi(f(k()),l.value.timezone)},w=U=>Array.isArray(U)?[Hu(Pt(U[0])),Hu(Pt(U[1]))]:[Hu(U??Pt())],I=(U,Y,H)=>{d("hours",U),d("minutes",Y),d("seconds",e.enableSeconds?H:0)},V=()=>{const[U,Y]=w(a.value);return o.value.enabled?I([U.hours,Y.hours],[U.minutes,Y.minutes],[U.seconds,Y.seconds]):I(U.hours,U.minutes,U.seconds)};Pn(()=>{if(!e.shadow)return m(i.value),a.value?V():C()});const O=()=>{Array.isArray(a.value)?a.value=a.value.map((U,Y)=>U&&f(U,Y)):a.value=f(a.value),t("time-update")};return{modelValue:a,time:r,disabledTimesConfig:p,updateTime:(U,Y=!0,H=!1)=>{u(U,Y,H,O)},validateTime:g}},s4=ar({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...vo},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,i=ec(),o=Di(i,"timePicker"),l=Ne(null),{time:u,modelValue:f,disabledTimesConfig:d,updateTime:m,validateTime:p}=o4(r,a);return Pn(()=>{r.shadow||a("mount",null)}),t({getSidebarProps:()=>({modelValue:f,time:u,updateTime:m}),toggleTimePicker:(g,y=!1,S="")=>{var k;(k=l.value)==null||k.toggleTimePicker(g,y,S)}}),(g,y)=>(de(),ct(Zh,{"multi-calendars":0,stretch:"","is-mobile":g.isMobile},{default:D(()=>[h(Ix,it({ref_key:"tpRef",ref:l},g.$props,{hours:Ae(u).hours,minutes:Ae(u).minutes,seconds:Ae(u).seconds,"internal-model-value":g.internalModelValue,"disabled-times-config":Ae(d),"validate-time":Ae(p),"onUpdate:hours":y[0]||(y[0]=S=>Ae(m)(S)),"onUpdate:minutes":y[1]||(y[1]=S=>Ae(m)(S,!1)),"onUpdate:seconds":y[2]||(y[2]=S=>Ae(m)(S,!1,!0)),onAmPmChange:y[3]||(y[3]=S=>g.$emit("am-pm-change",S)),onResetFlow:y[4]||(y[4]=S=>g.$emit("reset-flow")),onOverlayClosed:y[5]||(y[5]=S=>g.$emit("overlay-toggle",{open:!1,overlay:S})),onOverlayOpened:y[6]||(y[6]=S=>g.$emit("overlay-toggle",{open:!0,overlay:S}))}),xr({_:2},[In(Ae(o),(S,k)=>({name:S,fn:D(C=>[$t(g.$slots,S,Ea(tr(C)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),l4={class:"dp--header-wrap"},u4={key:0,class:"dp__month_year_wrap"},c4={key:0},d4={class:"dp__month_year_wrap"},f4=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],m4=ar({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...vo},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const a=n,r=e,{defaultedTransitions:i,defaultedAriaLabels:o,defaultedMultiCalendars:l,defaultedFilters:u,defaultedConfig:f,defaultedHighlight:d,propDates:m,defaultedUI:p}=pa(r),{transitionName:g,showTransition:y}=Qf(i),{buildMatrix:S}=eu(),{handleMonthYearChange:k,isDisabled:C,updateMonthYear:w}=ON(r,a),{showLeftIcon:I,showRightIcon:V}=tv(),O=Ne(!1),U=Ne(!1),Y=Ne(!1),H=Ne([null,null,null,null]);Pn(()=>{a("mount")});const B=se=>({get:()=>r[se],set:ye=>{const Me=se===io.month?io.year:io.month;a("update-month-year",{[se]:ye,[Me]:r[Me]}),se===io.month?_e(!0):Ee(!0)}}),j=L(B(io.month)),G=L(B(io.year)),F=L(()=>se=>({month:r.month,year:r.year,items:se===io.month?r.months:r.years,instance:r.instance,updateMonthYear:w,toggle:se===io.month?_e:Ee})),ce=L(()=>r.months.find(ye=>ye.value===r.month)||{text:"",value:0}),Z=L(()=>vd(r.months,se=>{const ye=r.month===se.value,Me=Ef(se.value,px(r.year,m.value.minDate),gx(r.year,m.value.maxDate))||u.value.months.includes(se.value),De=Sx(d.value,se.value,r.year);return{active:ye,disabled:Me,highlighted:De}})),le=L(()=>vd(r.years,se=>{const ye=r.year===se.value,Me=Ef(se.value,_d(m.value.minDate),_d(m.value.maxDate))||u.value.years.includes(se.value),De=Ty(d.value,se.value);return{active:ye,disabled:Me,highlighted:De}})),ae=(se,ye,Me)=>{Me!==void 0?se.value=Me:se.value=!se.value,se.value?(Y.value=!0,a("overlay-opened",ye)):(Y.value=!1,a("overlay-closed",ye))},_e=(se=!1,ye)=>{$e(se),ae(O,Fr.month,ye)},Ee=(se=!1,ye)=>{$e(se),ae(U,Fr.year,ye)},$e=se=>{se||a("reset-flow")},re=(se,ye)=>{r.arrowNavigation&&(H.value[ye]=Ya(se),S(H.value,"monthYear"))},ee=L(()=>{var se,ye,Me,De,R,Oe;return[{type:io.month,index:1,toggle:_e,modelValue:j.value,updateModelValue:He=>j.value=He,text:ce.value.text,showSelectionGrid:O.value,items:Z.value,ariaLabel:(se=o.value)==null?void 0:se.openMonthsOverlay,overlayLabel:((Me=(ye=o.value).monthPicker)==null?void 0:Me.call(ye,!0))??void 0},{type:io.year,index:2,toggle:Ee,modelValue:G.value,updateModelValue:He=>G.value=He,text:hx(r.year,r.locale),showSelectionGrid:U.value,items:le.value,ariaLabel:(De=o.value)==null?void 0:De.openYearsOverlay,overlayLabel:((Oe=(R=o.value).yearPicker)==null?void 0:Oe.call(R,!0))??void 0}]}),ge=L(()=>r.disableYearSelect?[ee.value[0]]:r.yearFirst?[...ee.value].reverse():ee.value);return t({toggleMonthPicker:_e,toggleYearPicker:Ee,handleMonthYearChange:k}),(se,ye)=>{var Me,De,R,Oe,He,at;return de(),nt("div",l4,[se.$slots["month-year"]?(de(),nt("div",u4,[$t(se.$slots,"month-year",Ea(tr({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Ae(w),handleMonthYearChange:Ae(k),instance:e.instance,isDisabled:Ae(C)})))])):(de(),nt(ht,{key:1},[se.$slots["top-extra"]?(de(),nt("div",c4,[$t(se.$slots,"top-extra",{value:se.internalModelValue})])):Ke("",!0),P("div",d4,[Ae(I)(Ae(l),e.instance)&&!se.vertical?(de(),ct(gf,{key:0,"aria-label":(Me=Ae(o))==null?void 0:Me.prevMonth,disabled:Ae(C)(!1),class:Ge((De=Ae(p))==null?void 0:De.navBtnPrev),"el-name":"action-prev",onActivate:ye[0]||(ye[0]=Be=>Ae(k)(!1,!0)),onSetRef:ye[1]||(ye[1]=Be=>re(Be,0))},{default:D(()=>[se.$slots["arrow-left"]?$t(se.$slots,"arrow-left",{key:0}):Ke("",!0),se.$slots["arrow-left"]?Ke("",!0):(de(),ct(Ae(gy),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ke("",!0),P("div",{class:Ge(["dp__month_year_wrap",{dp__year_disable_select:se.disableYearSelect}])},[(de(!0),nt(ht,null,In(ge.value,(Be,N)=>(de(),nt(ht,{key:Be.type},[P("button",{ref_for:!0,ref:Q=>re(Q,N+1),type:"button","data-dp-element":`overlay-${Be.type}`,class:Ge(["dp__btn dp__month_year_select",{"dp--hidden-el":Y.value}]),"aria-label":`${Be.text}-${Be.ariaLabel}`,"data-test-id":`${Be.type}-toggle-overlay-${e.instance}`,onClick:Be.toggle,onKeydown:Q=>Ae(ni)(Q,()=>Be.toggle(),!0)},[se.$slots[Be.type]?$t(se.$slots,Be.type,{key:0,text:Be.text,value:r[Be.type]}):Ke("",!0),se.$slots[Be.type]?Ke("",!0):(de(),nt(ht,{key:1},[Ye(ve(Be.text),1)],64))],42,f4),h(hi,{name:Ae(g)(Be.showSelectionGrid),css:Ae(y)},{default:D(()=>[Be.showSelectionGrid?(de(),ct(Gf,{key:0,items:Be.items,"arrow-navigation":se.arrowNavigation,"hide-navigation":se.hideNavigation,"is-last":se.autoApply&&!Ae(f).keepActionRow,"skip-button-ref":!1,config:se.config,type:Be.type,"header-refs":[],"esc-close":se.escClose,"menu-wrap-ref":se.menuWrapRef,"text-input":se.textInput,"aria-labels":se.ariaLabels,"overlay-label":Be.overlayLabel,onSelected:Be.updateModelValue,onToggle:Be.toggle},xr({"button-icon":D(()=>[se.$slots["calendar-icon"]?$t(se.$slots,"calendar-icon",{key:0}):Ke("",!0),se.$slots["calendar-icon"]?Ke("",!0):(de(),ct(Ae(Pd),{key:1}))]),_:2},[se.$slots[`${Be.type}-overlay-value`]?{name:"item",fn:D(({item:Q})=>[$t(se.$slots,`${Be.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,se.$slots[`${Be.type}-overlay`]?{name:"overlay",fn:D(()=>[$t(se.$slots,`${Be.type}-overlay`,it({ref_for:!0},F.value(Be.type)))]),key:"1"}:void 0,se.$slots[`${Be.type}-overlay-header`]?{name:"header",fn:D(()=>[$t(se.$slots,`${Be.type}-overlay-header`,{toggle:Be.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):Ke("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Ae(I)(Ae(l),e.instance)&&se.vertical?(de(),ct(gf,{key:1,"aria-label":(R=Ae(o))==null?void 0:R.prevMonth,"el-name":"action-prev",disabled:Ae(C)(!1),class:Ge((Oe=Ae(p))==null?void 0:Oe.navBtnPrev),onActivate:ye[2]||(ye[2]=Be=>Ae(k)(!1,!0))},{default:D(()=>[se.$slots["arrow-up"]?$t(se.$slots,"arrow-up",{key:0}):Ke("",!0),se.$slots["arrow-up"]?Ke("",!0):(de(),ct(Ae(wy),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Ke("",!0),Ae(V)(Ae(l),e.instance)?(de(),ct(gf,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Ae(C)(!0),"aria-label":(He=Ae(o))==null?void 0:He.nextMonth,class:Ge((at=Ae(p))==null?void 0:at.navBtnNext),onActivate:ye[3]||(ye[3]=Be=>Ae(k)(!0,!0)),onSetRef:ye[4]||(ye[4]=Be=>re(Be,se.disableYearSelect?2:3))},{default:D(()=>[se.$slots[se.vertical?"arrow-down":"arrow-right"]?$t(se.$slots,se.vertical?"arrow-down":"arrow-right",{key:0}):Ke("",!0),se.$slots[se.vertical?"arrow-down":"arrow-right"]?Ke("",!0):(de(),ct(Cd(se.vertical?Ae(ky):Ae(yy)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):Ke("",!0)])],64))])}}}),h4={class:"dp__calendar_header",role:"row"},v4={key:0,class:"dp__calendar_header_item",role:"gridcell"},_4=["aria-label"],p4={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},g4={class:"dp__cell_inner"},y4=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],b4=ar({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...vo},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const a=n,r=e,{buildMultiLevelMatrix:i}=eu(),{defaultedTransitions:o,defaultedConfig:l,defaultedAriaLabels:u,defaultedMultiCalendars:f,defaultedWeekNumbers:d,defaultedMultiDates:m,defaultedUI:p}=pa(r),g=Ne(null),y=Ne({bottom:"",left:"",transform:""}),S=Ne([]),k=Ne(null),C=Ne(!0),w=Ne(""),I=Ne({startX:0,endX:0,startY:0,endY:0}),V=Ne([]),O=Ne({left:"50%"}),U=Ne(!1),Y=L(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),H=L(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):Z3(r.formatLocale,r.locale,+r.weekStart));Pn(()=>{a("mount",{cmp:"calendar",refs:S}),l.value.noSwipe||k.value&&(k.value.addEventListener("touchstart",re,{passive:!1}),k.value.addEventListener("touchend",ee,{passive:!1}),k.value.addEventListener("touchmove",ge,{passive:!1})),r.monthChangeOnScroll&&k.value&&k.value.addEventListener("wheel",Me,{passive:!1})}),as(()=>{l.value.noSwipe||k.value&&(k.value.removeEventListener("touchstart",re),k.value.removeEventListener("touchend",ee),k.value.removeEventListener("touchmove",ge)),r.monthChangeOnScroll&&k.value&&k.value.removeEventListener("wheel",Me)});const B=Be=>Be?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",j=(Be,N)=>{if(r.transitions){const Q=hr(zs(Pt(),r.month,r.year));w.value=$a(hr(zs(Pt(),Be,N)),Q)?o.value[B(!0)]:o.value[B(!1)],C.value=!1,Qt(()=>{C.value=!0})}},G=L(()=>({...p.value.calendar??{}})),F=L(()=>Be=>{const N=tN(Be);return{dp__marker_dot:N.type==="dot",dp__marker_line:N.type==="line"}}),ce=L(()=>Be=>Cn(Be,g.value)),Z=L(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&r.instance!==0})),le=L(()=>Be=>r.hideOffsetDates?Be.current:!0),ae=async(Be,N)=>{const{width:Q,height:pe}=Be.getBoundingClientRect();g.value=N.value;let W={left:`${Q/2}px`},Ve=-50;if(await Qt(),V.value[0]){const{left:Ie,width:We}=V.value[0].getBoundingClientRect();Ie<0&&(W={left:"0"},Ve=0,O.value.left=`${Q/2}px`),window.innerWidth<Ie+We&&(W={right:"0"},Ve=0,O.value.left=`${We-Q/2}px`)}y.value={bottom:`${pe}px`,...W,transform:`translateX(${Ve}%)`}},_e=async(Be,N,Q)=>{var pe,W,Ve;const Ie=Ya(S.value[N][Q]);Ie&&((pe=Be.marker)!=null&&pe.customPosition&&(Ve=(W=Be.marker)==null?void 0:W.tooltip)!=null&&Ve.length?y.value=Be.marker.customPosition(Ie):await ae(Ie,Be),a("tooltip-open",Be.marker))},Ee=async(Be,N,Q)=>{var pe,W;if(U.value&&m.value.enabled&&m.value.dragSelect)return a("select-date",Be);if(a("set-hover-date",Be),(W=(pe=Be.marker)==null?void 0:pe.tooltip)!=null&&W.length){if(r.hideOffsetDates&&!Be.current)return;await _e(Be,N,Q)}},$e=Be=>{g.value&&(g.value=null,y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",Be.marker))},re=Be=>{I.value.startX=Be.changedTouches[0].screenX,I.value.startY=Be.changedTouches[0].screenY},ee=Be=>{I.value.endX=Be.changedTouches[0].screenX,I.value.endY=Be.changedTouches[0].screenY,se()},ge=Be=>{r.vertical&&!r.inline&&Be.preventDefault()},se=()=>{const Be=r.vertical?"Y":"X";Math.abs(I.value[`start${Be}`]-I.value[`end${Be}`])>10&&a("handle-swipe",I.value[`start${Be}`]>I.value[`end${Be}`]?"right":"left")},ye=(Be,N,Q)=>{Be&&(Array.isArray(S.value[N])?S.value[N][Q]=Be:S.value[N]=[Be]),r.arrowNavigation&&i(S.value,"calendar")},Me=Be=>{r.monthChangeOnScroll&&(Be.preventDefault(),a("handle-scroll",Be))},De=Be=>d.value.type==="local"?vy(Be.value,{weekStartsOn:+r.weekStart}):d.value.type==="iso"?my(Be.value):typeof d.value.type=="function"?d.value.type(Be.value):"",R=Be=>{const N=Be[0];return d.value.hideOnOffsetDates?Be.some(Q=>Q.current)?De(N):"":De(N)},Oe=(Be,N,Q=!0)=>{!Q&&oN()||(!m.value.enabled||l.value.allowPreventDefault)&&(Hl(Be,l.value),a("select-date",N))},He=Be=>{Hl(Be,l.value)},at=Be=>{m.value.enabled&&m.value.dragSelect?(U.value=!0,a("select-date",Be)):m.value.enabled&&a("select-date",Be)};return t({triggerTransition:j}),(Be,N)=>(de(),nt("div",{class:Ge(Z.value)},[P("div",{ref_key:"calendarWrapRef",ref:k,class:Ge(G.value),role:"grid"},[P("div",h4,[Be.weekNumbers?(de(),nt("div",v4,ve(Be.weekNumName),1)):Ke("",!0),(de(!0),nt(ht,null,In(H.value,(Q,pe)=>{var W,Ve;return de(),nt("div",{key:pe,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(Ve=(W=Ae(u))==null?void 0:W.weekDay)==null?void 0:Ve.call(W,pe)},[Be.$slots["calendar-header"]?$t(Be.$slots,"calendar-header",{key:0,day:Q,index:pe}):Ke("",!0),Be.$slots["calendar-header"]?Ke("",!0):(de(),nt(ht,{key:1},[Ye(ve(Q),1)],64))],8,_4)}),128))]),N[2]||(N[2]=P("div",{class:"dp__calendar_header_separator"},null,-1)),h(hi,{name:w.value,css:!!Be.transitions},{default:D(()=>[C.value?(de(),nt("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:N[1]||(N[1]=Q=>U.value=!1)},[(de(!0),nt(ht,null,In(Y.value,(Q,pe)=>(de(),nt("div",{key:pe,class:"dp__calendar_row",role:"row"},[Be.weekNumbers?(de(),nt("div",p4,[P("div",g4,ve(R(Q.days)),1)])):Ke("",!0),(de(!0),nt(ht,null,In(Q.days,(W,Ve)=>{var Ie,We,Qe;return de(),nt("div",{id:Ae(Np)(W.value),ref_for:!0,ref:st=>ye(st,pe,Ve),key:Ve+pe,role:"gridcell",class:"dp__calendar_item","aria-pressed":(W.classData.dp__active_date||W.classData.dp__range_start||W.classData.dp__range_start)??void 0,"aria-disabled":W.classData.dp__cell_disabled||void 0,"aria-label":(We=(Ie=Ae(u))==null?void 0:Ie.day)==null?void 0:We.call(Ie,W),tabindex:!W.current&&Be.hideOffsetDates?void 0:0,"data-test-id":Ae(Np)(W.value),onClick:Ka(st=>Oe(st,W),["prevent"]),onTouchend:st=>Oe(st,W,!1),onKeydown:st=>Ae(ni)(st,()=>Be.$emit("select-date",W)),onMouseenter:st=>Ee(W,pe,Ve),onMouseleave:st=>$e(W),onMousedown:st=>at(W),onMouseup:N[0]||(N[0]=st=>U.value=!1)},[P("div",{class:Ge(["dp__cell_inner",W.classData])},[Be.$slots.day&&le.value(W)?$t(Be.$slots,"day",{key:0,day:+W.text,date:W.value}):Ke("",!0),Be.$slots.day?Ke("",!0):(de(),nt(ht,{key:1},[Ye(ve(W.text),1)],64)),W.marker&&le.value(W)?(de(),nt(ht,{key:2},[Be.$slots.marker?$t(Be.$slots,"marker",{key:0,marker:W.marker,day:+W.text,date:W.value}):(de(),nt("div",{key:1,class:Ge(F.value(W.marker)),style:vt(W.marker.color?{backgroundColor:W.marker.color}:{})},null,6))],64)):Ke("",!0),ce.value(W.value)?(de(),nt("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:V,class:"dp__marker_tooltip",style:vt(y.value)},[(Qe=W.marker)!=null&&Qe.tooltip?(de(),nt("div",{key:0,class:"dp__tooltip_content",onClick:He},[(de(!0),nt(ht,null,In(W.marker.tooltip,(st,tt)=>(de(),nt("div",{key:tt,class:"dp__tooltip_text"},[Be.$slots["marker-tooltip"]?$t(Be.$slots,"marker-tooltip",{key:0,tooltip:st,day:W.value}):Ke("",!0),Be.$slots["marker-tooltip"]?Ke("",!0):(de(),nt(ht,{key:1},[P("div",{class:"dp__tooltip_mark",style:vt(st.color?{backgroundColor:st.color}:{})},null,4),P("div",null,ve(st.text),1)],64))]))),128)),P("div",{class:"dp__arrow_bottom_tp",style:vt(O.value)},null,4)])):Ke("",!0)],4)):Ke("",!0)],2)],40,y4)}),128))]))),128))],32)):Ke("",!0)]),_:3},8,["name","css"])],2)],2))}}),Y1=e=>Array.isArray(e),w4=(e,t,n,a)=>{const r=Ne([]),i=Ne(new Date),o=Ne(),l=()=>ee(e.isTextInputDate),{modelValue:u,calendars:f,time:d,today:m}=Xf(e,t,l),{defaultedMultiCalendars:p,defaultedStartTime:g,defaultedRange:y,defaultedConfig:S,defaultedTz:k,propDates:C,defaultedMultiDates:w}=pa(e),{validateMonthYearInRange:I,isDisabled:V,isDateRangeAllowed:O,checkMinMaxRange:U}=tu(e),{updateTimeValues:Y,getSetDateTime:H,setTime:B,assignStartTime:j,validateTime:G,disabledTimesConfig:F}=Ax(e,d,u,a),ce=L(()=>et=>f.value[et]?f.value[et].month:0),Z=L(()=>et=>f.value[et]?f.value[et].year:0),le=et=>!S.value.keepViewOnOffsetClick||et?!0:!o.value,ae=(et,bt,ft,Bt=!1)=>{var _t,At;le(Bt)&&(f.value[et]||(f.value[et]={month:0,year:0}),f.value[et].month=q1(bt)?(_t=f.value[et])==null?void 0:_t.month:bt,f.value[et].year=q1(ft)?(At=f.value[et])==null?void 0:At.year:ft)},_e=()=>{e.autoApply&&t("select-date")},Ee=()=>{g.value&&j(g.value)};Pn(()=>{e.shadow||(u.value||(N(),Ee()),ee(!0),e.focusStartDate&&e.startDate&&N())});const $e=L(()=>{var et;return(et=e.flow)!=null&&et.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),re=()=>{e.autoApply&&$e.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},ee=(et=!1)=>{if(u.value)return Array.isArray(u.value)?(r.value=u.value,Oe(et)):ye(u.value,et);if(p.value.count&&et&&!e.startDate)return se(Pt(),et)},ge=()=>Array.isArray(u.value)&&y.value.enabled?Sn(u.value[0])===Sn(u.value[1]??u.value[0]):!1,se=(et=new Date,bt=!1)=>{if((!p.value.count||!p.value.static||bt)&&ae(0,Sn(et),sn(et)),p.value.count&&(!u.value||ge()||!p.value.solo)&&(!p.value.solo||bt))for(let ft=1;ft<p.value.count;ft++){const Bt=ea(Pt(),{month:ce.value(ft-1),year:Z.value(ft-1)}),_t=HC(Bt,{months:1});f.value[ft]={month:Sn(_t),year:sn(_t)}}},ye=(et,bt)=>{se(et),B("hours",Qs(et)),B("minutes",jl(et)),B("seconds",fd(et)),p.value.count&&bt&&Be()},Me=et=>{if(p.value.count){if(p.value.solo)return 0;const bt=Sn(et[0]),ft=Sn(et[1]);return Math.abs(ft-bt)<p.value.count?0:1}return 1},De=(et,bt)=>{et[1]&&y.value.showLastInRange?se(et[Me(et)],bt):se(et[0],bt);const ft=(Bt,_t)=>[Bt(et[0]),et[1]?Bt(et[1]):d[_t][1]];B("hours",ft(Qs,"hours")),B("minutes",ft(jl,"minutes")),B("seconds",ft(fd,"seconds"))},R=(et,bt)=>{if((y.value.enabled||e.weekPicker)&&!w.value.enabled)return De(et,bt);if(w.value.enabled&&bt){const ft=et[et.length-1];return ye(ft,bt)}},Oe=et=>{const bt=u.value;R(bt,et),p.value.count&&p.value.solo&&Be()},He=(et,bt)=>{const ft=ea(Pt(),{month:ce.value(bt),year:Z.value(bt)}),Bt=et<0?uo(ft,1):hd(ft,1);I(Sn(Bt),sn(Bt),et<0,e.preventMinMaxNavigation)&&(ae(bt,Sn(Bt),sn(Bt)),t("update-month-year",{instance:bt,month:Sn(Bt),year:sn(Bt)}),p.value.count&&!p.value.solo&&at(bt),n())},at=et=>{for(let bt=et-1;bt>=0;bt--){const ft=hd(ea(Pt(),{month:ce.value(bt+1),year:Z.value(bt+1)}),1);ae(bt,Sn(ft),sn(ft))}for(let bt=et+1;bt<=p.value.count-1;bt++){const ft=uo(ea(Pt(),{month:ce.value(bt-1),year:Z.value(bt-1)}),1);ae(bt,Sn(ft),sn(ft))}},Be=()=>{if(Array.isArray(u.value)&&u.value.length===2){const et=Pt(Pt(u.value[1]?u.value[1]:uo(u.value[0],1))),[bt,ft]=[Sn(u.value[0]),sn(u.value[0])],[Bt,_t]=[Sn(u.value[1]),sn(u.value[1])];(bt!==Bt||bt===Bt&&ft!==_t)&&p.value.solo&&ae(1,Sn(et),sn(et))}else u.value&&!Array.isArray(u.value)&&(ae(0,Sn(u.value),sn(u.value)),se(Pt()))},N=()=>{e.startDate&&(ae(0,Sn(Pt(e.startDate)),sn(Pt(e.startDate))),p.value.count&&at(0))},Q=(et,bt)=>{if(e.monthChangeOnScroll){const ft=new Date().getTime()-i.value.getTime(),Bt=Math.abs(et.deltaY);let _t=500;Bt>1&&(_t=100),Bt>100&&(_t=0),ft>_t&&(i.value=new Date,He(e.monthChangeOnScroll!=="inverse"?-et.deltaY:et.deltaY,bt))}},pe=(et,bt,ft=!1)=>{e.monthChangeOnArrows&&e.vertical===ft&&W(et,bt)},W=(et,bt)=>{He(et==="right"?-1:1,bt)},Ve=et=>{if(C.value.markers)return Ih(et.value,C.value.markers)},Ie=(et,bt)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[et==0,!0];case"fair":return[et==0||bt>et,!0];case"append":return[!1,!1];default:return[!1,!1]}},We=(et,bt,ft,Bt)=>{if(e.sixWeeks&&et.length<6){const _t=6-et.length,At=(bt.getDay()+7-Bt)%7,Ft=6-(ft.getDay()+7-Bt)%7,[pr,Ir]=Ie(At,Ft);for(let Ar=1;Ar<=_t;Ar++)if(Ir?!!(Ar%2)==pr:pr){const Oa=et[0].days[0],zr=Qe(Gi(Oa.value,-7),Sn(bt));et.unshift({days:zr})}else{const Oa=et[et.length-1],zr=Oa.days[Oa.days.length-1],us=Qe(Gi(zr.value,1),Sn(bt));et.push({days:us})}}return et},Qe=(et,bt)=>{const ft=Pt(et),Bt=[];for(let _t=0;_t<7;_t++){const At=Gi(ft,_t),Ft=Sn(At)!==bt;Bt.push({text:e.hideOffsetDates&&Ft?"":At.getDate(),value:At,current:!Ft,classData:{}})}return Bt},st=(et,bt)=>{const ft=[],Bt=new Date(bt,et),_t=new Date(bt,et+1,0),At=e.weekStart,Ft=mo(Bt,{weekStartsOn:At}),pr=Ir=>{const Ar=Qe(Ir,et);if(ft.push({days:Ar}),!ft[ft.length-1].days.some(Oa=>Cn(hr(Oa.value),hr(_t)))){const Oa=Gi(Ir,7);pr(Oa)}};return pr(Ft),We(ft,Bt,_t,At)},tt=et=>{const bt=zl(Pt(et.value),d.hours,d.minutes,xt());t("date-update",bt),w.value.enabled?Dy(bt,u,w.value.limit):u.value=bt,a(),Qt().then(()=>{re()})},Tt=et=>y.value.noDisabledRange?yx(r.value[0],et).some(bt=>V(bt)):!1,ke=()=>{r.value=u.value?u.value.slice():[],r.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(r.value=[])},ut=(et,bt)=>{const ft=[Pt(et.value),Gi(Pt(et.value),+y.value.autoRange)];O(ft)?(bt&&Dt(et.value),r.value=ft):t("invalid-date",et.value)},Dt=et=>{const bt=Sn(Pt(et)),ft=sn(Pt(et));if(ae(0,bt,ft),p.value.count>0)for(let Bt=1;Bt<p.value.count;Bt++){const _t=uN(ea(Pt(et),{year:Z.value(Bt-1),month:ce.value(Bt-1)}));ae(Bt,_t.month,_t.year)}},Nt=et=>{if(Tt(et.value)||!U(et.value,u.value,y.value.fixedStart?0:1))return t("invalid-date",et.value);r.value=Tx(Pt(et.value),u,t,y)},jt=(et,bt)=>{if(ke(),y.value.autoRange)return ut(et,bt);if(y.value.fixedStart||y.value.fixedEnd)return Nt(et);r.value[0]?U(Pt(et.value),u.value)&&!Tt(et.value)?Da(Pt(et.value),Pt(r.value[0]))?(r.value.unshift(Pt(et.value)),t("range-end",r.value[0])):(r.value[1]=Pt(et.value),t("range-end",r.value[1])):(e.autoApply&&t("auto-apply-invalid",et.value),t("invalid-date",et.value)):(r.value[0]=Pt(et.value),t("range-start",r.value[0]))},xt=(et=!0)=>e.enableSeconds?Array.isArray(d.seconds)?et?d.seconds[0]:d.seconds[1]:d.seconds:0,Jt=et=>{r.value[et]=zl(r.value[et],d.hours[et],d.minutes[et],xt(et!==1))},mn=()=>{var et,bt;r.value[0]&&r.value[1]&&+((et=r.value)==null?void 0:et[0])>+((bt=r.value)==null?void 0:bt[1])&&(r.value.reverse(),t("range-start",r.value[0]),t("range-end",r.value[1]))},Zn=()=>{r.value.length&&(r.value[0]&&!r.value[1]?Jt(0):(Jt(0),Jt(1),a()),mn(),u.value=r.value.slice(),ev(r.value,t,e.autoApply,e.modelAuto))},Un=(et,bt=!1)=>{if(V(et.value)||!et.current&&e.hideOffsetDates)return t("invalid-date",et.value);if(o.value=JSON.parse(JSON.stringify(et)),!y.value.enabled)return tt(et);Y1(d.hours)&&Y1(d.minutes)&&!w.value.enabled&&(jt(et,bt),Zn())},ya=(et,bt)=>{var ft;ae(et,bt.month,bt.year,!0),p.value.count&&!p.value.solo&&at(et),t("update-month-year",{instance:et,month:bt.month,year:bt.year}),n(p.value.solo?et:void 0);const Bt=(ft=e.flow)!=null&&ft.length?e.flow[e.flowStep]:void 0;!bt.fromNav&&(Bt===Fr.month||Bt===Fr.year)&&a()},xa=(et,bt)=>{Px({value:et,modelValue:u,range:y.value.enabled,timezone:bt?void 0:k.value.timezone}),_e(),e.multiCalendars&&Qt().then(()=>ee(!0))},Rn=()=>{const et=Sy(Pt(),k.value);!y.value.enabled&&!w.value.enabled?u.value=et:u.value&&Array.isArray(u.value)&&u.value[0]?w.value.enabled?u.value=[...u.value,et]:u.value=Da(et,u.value[0])?[et,u.value[0]]:[u.value[0],et]:u.value=[et],_e()},Mt=()=>{if(Array.isArray(u.value))if(w.value.enabled){const et=ir();u.value[u.value.length-1]=H(et)}else u.value=u.value.map((et,bt)=>et&&H(et,bt));else u.value=H(u.value);t("time-update")},ir=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:f,modelValue:u,month:ce,year:Z,time:d,disabledTimesConfig:F,today:m,validateTime:G,getCalendarDays:st,getMarker:Ve,handleScroll:Q,handleSwipe:W,handleArrow:pe,selectDate:Un,updateMonthYear:ya,presetDate:xa,selectCurrentDate:Rn,updateTime:(et,bt=!0,ft=!1)=>{Y(et,bt,ft,Mt)},assignMonthAndYear:se,setStartTime:Ee}},k4={key:0},S4=ar({__name:"DatePicker",props:{...vo},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,{calendars:i,month:o,year:l,modelValue:u,time:f,disabledTimesConfig:d,today:m,validateTime:p,getCalendarDays:g,getMarker:y,handleArrow:S,handleScroll:k,handleSwipe:C,selectDate:w,updateMonthYear:I,presetDate:V,selectCurrentDate:O,updateTime:U,assignMonthAndYear:Y,setStartTime:H}=w4(r,a,ge,se),B=ec(),{setHoverDate:j,getDayClassData:G,clearHoverDate:F}=N4(u,r),{defaultedMultiCalendars:ce}=pa(r),Z=Ne([]),le=Ne([]),ae=Ne(null),_e=Di(B,"calendar"),Ee=Di(B,"monthYear"),$e=Di(B,"timePicker"),re=Q=>{r.shadow||a("mount",Q)};yt(i,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),yt(ce,(Q,pe)=>{Q.count-pe.count>0&&Y()},{deep:!0});const ee=L(()=>Q=>g(o.value(Q),l.value(Q)).map(pe=>({...pe,days:pe.days.map(W=>(W.marker=y(W),W.classData=G(W),W))})));function ge(Q){var pe;Q||Q===0?(pe=le.value[Q])==null||pe.triggerTransition(o.value(Q),l.value(Q)):le.value.forEach((W,Ve)=>W.triggerTransition(o.value(Ve),l.value(Ve)))}function se(){a("update-flow-step")}const ye=(Q,pe=!1)=>{w(Q,pe),r.spaceConfirm&&a("select-date")},Me=(Q,pe,W=0)=>{var Ve;(Ve=Z.value[W])==null||Ve.toggleMonthPicker(Q,pe)},De=(Q,pe,W=0)=>{var Ve;(Ve=Z.value[W])==null||Ve.toggleYearPicker(Q,pe)},R=(Q,pe,W)=>{var Ve;(Ve=ae.value)==null||Ve.toggleTimePicker(Q,pe,W)},Oe=(Q,pe)=>{var W;if(!r.range){const Ve=u.value?u.value:m,Ie=pe?new Date(pe):Ve,We=Q?mo(Ie,{weekStartsOn:1}):QC(Ie,{weekStartsOn:1});w({value:We,current:Sn(Ie)===o.value(0),text:"",classData:{}}),(W=document.getElementById(Np(We)))==null||W.focus()}},He=Q=>{var pe;(pe=Z.value[0])==null||pe.handleMonthYearChange(Q,!0)},at=Q=>{I(0,{month:o.value(0),year:l.value(0)+(Q?1:-1),fromNav:!0})},Be=(Q,pe)=>{Q===Fr.time&&a(`time-picker-${pe?"open":"close"}`),a("overlay-toggle",{open:pe,overlay:Q})},N=Q=>{a("overlay-toggle",{open:!1,overlay:Q}),a("focus-menu")};return t({clearHoverDate:F,presetDate:V,selectCurrentDate:O,toggleMonthPicker:Me,toggleYearPicker:De,toggleTimePicker:R,handleArrow:S,updateMonthYear:I,getSidebarProps:()=>({modelValue:u,month:o,year:l,time:f,updateTime:U,updateMonthYear:I,selectDate:w,presetDate:V}),changeMonth:He,changeYear:at,selectWeekDate:Oe,setStartTime:H}),(Q,pe)=>(de(),nt(ht,null,[h(Zh,{"multi-calendars":Ae(ce).count,collapse:Q.collapse,"is-mobile":Q.isMobile},{default:D(({instance:W,index:Ve})=>[Q.disableMonthYearSelect?Ke("",!0):(de(),ct(m4,it({key:0,ref:Ie=>{Ie&&(Z.value[Ve]=Ie)},months:Ae(dx)(Q.formatLocale,Q.locale,Q.monthNameFormat),years:Ae(Cy)(Q.yearRange,Q.locale,Q.reverseYears),month:Ae(o)(W),year:Ae(l)(W),instance:W},Q.$props,{onMount:pe[0]||(pe[0]=Ie=>re(Ae(Uu).header)),onResetFlow:pe[1]||(pe[1]=Ie=>Q.$emit("reset-flow")),onUpdateMonthYear:Ie=>Ae(I)(W,Ie),onOverlayClosed:N,onOverlayOpened:pe[2]||(pe[2]=Ie=>Q.$emit("overlay-toggle",{open:!0,overlay:Ie}))}),xr({_:2},[In(Ae(Ee),(Ie,We)=>({name:Ie,fn:D(Qe=>[$t(Q.$slots,Ie,Ea(tr(Qe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),h(b4,it({ref:Ie=>{Ie&&(le.value[Ve]=Ie)},"mapped-dates":ee.value(W),month:Ae(o)(W),year:Ae(l)(W),instance:W},Q.$props,{onSelectDate:Ie=>Ae(w)(Ie,W!==1),onHandleSpace:Ie=>ye(Ie,W!==1),onSetHoverDate:pe[3]||(pe[3]=Ie=>Ae(j)(Ie)),onHandleScroll:Ie=>Ae(k)(Ie,W),onHandleSwipe:Ie=>Ae(C)(Ie,W),onMount:pe[4]||(pe[4]=Ie=>re(Ae(Uu).calendar)),onResetFlow:pe[5]||(pe[5]=Ie=>Q.$emit("reset-flow")),onTooltipOpen:pe[6]||(pe[6]=Ie=>Q.$emit("tooltip-open",Ie)),onTooltipClose:pe[7]||(pe[7]=Ie=>Q.$emit("tooltip-close",Ie))}),xr({_:2},[In(Ae(_e),(Ie,We)=>({name:Ie,fn:D(Qe=>[$t(Q.$slots,Ie,Ea(tr({...Qe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),Q.enableTimePicker?(de(),nt("div",k4,[Q.$slots["time-picker"]?$t(Q.$slots,"time-picker",Ea(it({key:0},{time:Ae(f),updateTime:Ae(U)}))):(de(),ct(Ix,it({key:1,ref_key:"timePickerRef",ref:ae},Q.$props,{hours:Ae(f).hours,minutes:Ae(f).minutes,seconds:Ae(f).seconds,"internal-model-value":Q.internalModelValue,"disabled-times-config":Ae(d),"validate-time":Ae(p),onMount:pe[8]||(pe[8]=W=>re(Ae(Uu).timePicker)),"onUpdate:hours":pe[9]||(pe[9]=W=>Ae(U)(W)),"onUpdate:minutes":pe[10]||(pe[10]=W=>Ae(U)(W,!1)),"onUpdate:seconds":pe[11]||(pe[11]=W=>Ae(U)(W,!1,!0)),onResetFlow:pe[12]||(pe[12]=W=>Q.$emit("reset-flow")),onOverlayClosed:pe[13]||(pe[13]=W=>Be(W,!1)),onOverlayOpened:pe[14]||(pe[14]=W=>Be(W,!0)),onAmPmChange:pe[15]||(pe[15]=W=>Q.$emit("am-pm-change",W))}),xr({_:2},[In(Ae($e),(W,Ve)=>({name:W,fn:D(Ie=>[$t(Q.$slots,W,Ea(tr(Ie)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):Ke("",!0)],64))}}),C4=(e,t)=>{const n=Ne(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:i,defaultedRange:o,propDates:l,defaultedFilters:u,defaultedMultiDates:f}=pa(e),{modelValue:d,year:m,month:p,calendars:g}=Xf(e,t),{isDisabled:y}=tu(e),{selectYear:S,groupedYears:k,showYearPicker:C,isDisabled:w,toggleYearPicker:I,handleYearSelect:V,handleYear:O}=Dx({modelValue:d,multiCalendars:a,range:o,highlight:i,calendars:g,propDates:l,month:p,year:m,filters:u,props:e,emit:t}),U=(le,ae)=>[le,ae].map(_e=>Xo(_e,"MMMM",{locale:e.formatLocale})).join("-"),Y=L(()=>le=>d.value?Array.isArray(d.value)?d.value.some(ae=>$1(le,ae)):$1(d.value,le):!1),H=le=>{if(o.value.enabled){if(Array.isArray(d.value)){const ae=Cn(le,d.value[0])||Cn(le,d.value[1]);return Vf(d.value,n.value,le)&&!ae}return!1}return!1},B=(le,ae)=>le.quarter===V1(ae)&&le.year===sn(ae),j=le=>typeof i.value=="function"?i.value({quarter:V1(le),year:sn(le)}):!!i.value.quarters.find(ae=>B(ae,le)),G=L(()=>le=>{const ae=ea(new Date,{year:m.value(le)});return Z$({start:Af(ae),end:GC(ae)}).map(_e=>{const Ee=Fu(_e),$e=O1(_e),re=y(_e),ee=H(Ee),ge=j(Ee);return{text:U(Ee,$e),value:Ee,active:Y.value(Ee),highlighted:ge,disabled:re,isBetween:ee}})}),F=le=>{Dy(le,d,f.value.limit),t("auto-apply",!0)},ce=le=>{d.value=Iy(d,le,t),ev(d.value,t,e.autoApply,e.modelAuto)},Z=le=>{d.value=le,t("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:k,year:m,isDisabled:w,quarters:G,showYearPicker:C,modelValue:d,setHoverDate:le=>{n.value=le},selectYear:S,selectQuarter:(le,ae,_e)=>{if(!_e)return g.value[ae].month=Sn(O1(le)),f.value.enabled?F(le):o.value.enabled?ce(le):Z(le)},toggleYearPicker:I,handleYearSelect:V,handleYear:O}},x4={class:"dp--quarter-items"},P4=["data-test-id","disabled","onClick","onMouseover"],T4=ar({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...vo},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,r=e,i=ec(),o=Di(i,"yearMode"),{defaultedMultiCalendars:l,defaultedConfig:u,groupedYears:f,year:d,isDisabled:m,quarters:p,modelValue:g,showYearPicker:y,setHoverDate:S,selectQuarter:k,toggleYearPicker:C,handleYearSelect:w,handleYear:I}=C4(r,a);return t({getSidebarProps:()=>({modelValue:g,year:d,selectQuarter:k,handleYearSelect:w,handleYear:I})}),(V,O)=>(de(),ct(Zh,{"multi-calendars":Ae(l).count,collapse:V.collapse,stretch:"","is-mobile":V.isMobile},{default:D(({instance:U})=>[P("div",{class:"dp-quarter-picker-wrap",style:vt({minHeight:`${Ae(u).modeHeight}px`})},[V.$slots["top-extra"]?$t(V.$slots,"top-extra",{key:0,value:V.internalModelValue}):Ke("",!0),P("div",null,[h(xx,it(V.$props,{items:Ae(f)(U),instance:U,"show-year-picker":Ae(y)[U],year:Ae(d)(U),"is-disabled":Y=>Ae(m)(U,Y),onHandleYear:Y=>Ae(I)(U,Y),onYearSelect:Y=>Ae(w)(Y,U),onToggleYearPicker:Y=>Ae(C)(U,Y==null?void 0:Y.flow,Y==null?void 0:Y.show)}),xr({_:2},[In(Ae(o),(Y,H)=>({name:Y,fn:D(B=>[$t(V.$slots,Y,Ea(tr(B)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),P("div",x4,[(de(!0),nt(ht,null,In(Ae(p)(U),(Y,H)=>(de(),nt("div",{key:H},[P("button",{type:"button",class:Ge(["dp--qr-btn",{"dp--qr-btn-active":Y.active,"dp--qr-btn-between":Y.isBetween,"dp--qr-btn-disabled":Y.disabled,"dp--highlighted":Y.highlighted}]),"data-test-id":Y.value,disabled:Y.disabled,onClick:B=>Ae(k)(Y.value,U,Y.disabled),onMouseover:B=>Ae(S)(Y.value)},[V.$slots.quarter?$t(V.$slots,"quarter",{key:0,value:Y.value,text:Y.text}):(de(),nt(ht,{key:1},[Ye(ve(Y.text),1)],64))],42,P4)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Ex=(e,t)=>{const n=Ne(0);Pn(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),as(()=>{window.removeEventListener("resize",a)});const a=()=>{n.value=window.document.documentElement.clientWidth};return{isMobile:L(()=>n.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},D4=["id","tabindex","role","aria-label"],I4={key:0,class:"dp--menu-load-container"},A4={key:1,class:"dp--menu-header"},E4=["data-dp-mobile"],V4={key:0,class:"dp__sidebar_left"},O4=["data-dp-mobile"],M4=["data-test-id","data-dp-mobile","onClick","onKeydown"],B4={key:2,class:"dp__sidebar_right"},R4={key:3,class:"dp__action_extra"},K1=ar({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Jh,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:n}){const a=n,r=e,i=Ne(null),o=L(()=>{const{openOnTop:ke,...ut}=r;return{...ut,isMobile:k.value,flowStep:ce.value,menuWrapRef:i.value}}),{setMenuFocused:l,setShiftKey:u,control:f}=Cx(),d=ec(),{defaultedTextInput:m,defaultedInline:p,defaultedConfig:g,defaultedUI:y,handleEventPropagation:S}=pa(r),{isMobile:k}=Ex(g,r.shadow),C=Ne(null),w=Ne(0),I=Ne(null),V=Ne(!1),O=Ne(null),U=Ne(!1),Y=ke=>{U.value=!0,g.value.allowPreventDefault&&ke.preventDefault(),Hl(ke,g.value,!0)};Pn(()=>{if(!r.shadow){V.value=!0,H(),window.addEventListener("resize",H);const ke=Ya(i);ke&&!m.value.enabled&&!p.value.enabled&&(l(!0),re()),ke&&(ke.addEventListener("pointerdown",Y),ke.addEventListener("mousedown",Y))}document.addEventListener("mousedown",Tt)}),as(()=>{window.removeEventListener("resize",H),document.removeEventListener("mousedown",Tt);const ke=Ya(i);ke&&(ke.removeEventListener("pointerdown",Y),ke.removeEventListener("mousedown",Y))});const H=()=>{const ke=Ya(I);ke&&(w.value=ke.getBoundingClientRect().width)},{arrowRight:B,arrowLeft:j,arrowDown:G,arrowUp:F}=eu(),{flowStep:ce,updateFlowStep:Z,childMount:le,resetFlow:ae,handleFlow:_e}=q4(r,a,O),Ee=L(()=>r.monthPicker?WN:r.yearPicker?YN:r.timePicker?s4:r.quarterPicker?T4:S4),$e=L(()=>{var ke;if(g.value.arrowLeft)return g.value.arrowLeft;const ut=(ke=i.value)==null?void 0:ke.getBoundingClientRect(),Dt=r.getInputRect();return(Dt==null?void 0:Dt.width)<(w==null?void 0:w.value)&&(Dt==null?void 0:Dt.left)<=((ut==null?void 0:ut.left)??0)?`${(Dt==null?void 0:Dt.width)/2}px`:(Dt==null?void 0:Dt.right)>=((ut==null?void 0:ut.right)??0)&&(Dt==null?void 0:Dt.width)<(w==null?void 0:w.value)?`${(w==null?void 0:w.value)-(Dt==null?void 0:Dt.width)/2}px`:"50%"}),re=()=>{const ke=Ya(i);ke&&ke.focus({preventScroll:!0})},ee=L(()=>{var ke;return((ke=O.value)==null?void 0:ke.getSidebarProps())||{}}),ge=()=>{r.openOnTop&&a("recalculate-position")},se=Di(d,"action"),ye=L(()=>r.monthPicker||r.yearPicker?Di(d,"monthYear"):r.timePicker?Di(d,"timePicker"):Di(d,"shared")),Me=L(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),De=L(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),R=L(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,...y.value.menu??{}})),Oe=ke=>{Hl(ke,g.value,!0)},He=ke=>{r.escClose&&(a("close-picker"),S(ke))},at=ke=>{if(r.arrowNavigation){if(ke===Zr.up)return F();if(ke===Zr.down)return G();if(ke===Zr.left)return j();if(ke===Zr.right)return B()}else ke===Zr.left||ke===Zr.up?W("handleArrow",Zr.left,0,ke===Zr.up):W("handleArrow",Zr.right,0,ke===Zr.down)},Be=ke=>{u(ke.shiftKey),!r.disableMonthYearSelect&&ke.code===ca.tab&&ke.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(ke.preventDefault(),Hl(ke,g.value,!0),a("close-picker"))},N=()=>{re(),a("time-picker-close")},Q=ke=>{var ut,Dt,Nt;(ut=O.value)==null||ut.toggleTimePicker(!1,!1),(Dt=O.value)==null||Dt.toggleMonthPicker(!1,!1,ke),(Nt=O.value)==null||Nt.toggleYearPicker(!1,!1,ke)},pe=(ke,ut=0)=>{var Dt,Nt,jt;return ke==="month"?(Dt=O.value)==null?void 0:Dt.toggleMonthPicker(!1,!0,ut):ke==="year"?(Nt=O.value)==null?void 0:Nt.toggleYearPicker(!1,!0,ut):ke==="time"?(jt=O.value)==null?void 0:jt.toggleTimePicker(!0,!1):Q(ut)},W=(ke,...ut)=>{var Dt,Nt;(Dt=O.value)!=null&&Dt[ke]&&((Nt=O.value)==null||Nt[ke](...ut))},Ve=()=>{W("selectCurrentDate")},Ie=(ke,ut)=>{W("presetDate",Jo(ke),ut)},We=()=>{W("clearHoverDate")},Qe=(ke,ut)=>{W("updateMonthYear",ke,ut)},st=(ke,ut)=>{ke.preventDefault(),at(ut)},tt=ke=>{var ut,Dt,Nt;if(Be(ke),ke.key===ca.home||ke.key===ca.end)return W("selectWeekDate",ke.key===ca.home,ke.target.getAttribute("id"));switch((ke.key===ca.pageUp||ke.key===ca.pageDown)&&(ke.shiftKey?(W("changeYear",ke.key===ca.pageUp),(ut=$p(i.value,"overlay-year"))==null||ut.focus()):(W("changeMonth",ke.key===ca.pageUp),(Dt=$p(i.value,ke.key===ca.pageUp?"action-prev":"action-next"))==null||Dt.focus()),ke.target.getAttribute("id")&&((Nt=i.value)==null||Nt.focus({preventScroll:!0}))),ke.key){case ca.esc:return He(ke);case ca.arrowLeft:return st(ke,Zr.left);case ca.arrowRight:return st(ke,Zr.right);case ca.arrowUp:return st(ke,Zr.up);case ca.arrowDown:return st(ke,Zr.down);default:return}},Tt=ke=>{var ut;p.value.enabled&&!p.value.input&&!((ut=i.value)!=null&&ut.contains(ke.target))&&U.value&&(U.value=!1,a("menu-blur"))};return t({updateMonthYear:Qe,switchView:pe,handleFlow:_e,onValueCleared:()=>{var ke,ut;(ut=(ke=O.value)==null?void 0:ke.setStartTime)==null||ut.call(ke)}}),(ke,ut)=>{var Dt,Nt,jt;return de(),nt("div",{id:ke.uid?`dp-menu-${ke.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:Ae(p).enabled?void 0:"0",role:Ae(p).enabled?void 0:"dialog","aria-label":(Dt=ke.ariaLabels)==null?void 0:Dt.menu,class:Ge(R.value),style:vt({"--dp-arrow-left":$e.value}),onMouseleave:We,onClick:Oe,onKeydown:tt},[(ke.disabled||ke.readonly)&&Ae(p).enabled||ke.loading?(de(),nt("div",{key:0,class:Ge(De.value)},[ke.loading?(de(),nt("div",I4,ut[19]||(ut[19]=[P("span",{class:"dp--menu-loader"},null,-1)]))):Ke("",!0)],2)):Ke("",!0),ke.$slots["menu-header"]?(de(),nt("div",A4,[$t(ke.$slots,"menu-header")])):Ke("",!0),!Ae(p).enabled&&!ke.teleportCenter?(de(),nt("div",{key:2,class:Ge(Me.value)},null,2)):Ke("",!0),P("div",{ref_key:"innerMenuRef",ref:I,class:Ge({dp__menu_content_wrapper:((Nt=ke.presetDates)==null?void 0:Nt.length)||!!ke.$slots["left-sidebar"]||!!ke.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((jt=ke.presetDates)==null?void 0:jt.length)||!!ke.$slots["left-sidebar"]||!!ke.$slots["right-sidebar"])}),"data-dp-mobile":Ae(k),style:vt({"--dp-menu-width":`${w.value}px`})},[ke.$slots["left-sidebar"]?(de(),nt("div",V4,[$t(ke.$slots,"left-sidebar",Ea(tr(ee.value)))])):Ke("",!0),ke.presetDates.length?(de(),nt("div",{key:1,class:Ge({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":Ae(k)},[(de(!0),nt(ht,null,In(ke.presetDates,(xt,Jt)=>(de(),nt(ht,{key:Jt},[xt.slot?$t(ke.$slots,xt.slot,{key:0,presetDate:Ie,label:xt.label,value:xt.value}):(de(),nt("button",{key:1,type:"button",style:vt(xt.style||{}),class:Ge(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":xt.testId??void 0,"data-dp-mobile":Ae(k),onClick:Ka(mn=>Ie(xt.value,xt.noTz),["prevent"]),onKeydown:mn=>Ae(ni)(mn,()=>Ie(xt.value,xt.noTz),!0)},ve(xt.label),47,M4))],64))),128))],10,O4)):Ke("",!0),P("div",{ref_key:"calendarWrapperRef",ref:C,class:"dp__instance_calendar",role:"document"},[(de(),ct(Cd(Ee.value),it({ref_key:"dynCmpRef",ref:O},o.value,{"flow-step":Ae(ce),onMount:Ae(le),onUpdateFlowStep:Ae(Z),onResetFlow:Ae(ae),onFocusMenu:re,onSelectDate:ut[0]||(ut[0]=xt=>ke.$emit("select-date")),onDateUpdate:ut[1]||(ut[1]=xt=>ke.$emit("date-update",xt)),onTooltipOpen:ut[2]||(ut[2]=xt=>ke.$emit("tooltip-open",xt)),onTooltipClose:ut[3]||(ut[3]=xt=>ke.$emit("tooltip-close",xt)),onAutoApply:ut[4]||(ut[4]=xt=>ke.$emit("auto-apply",xt)),onRangeStart:ut[5]||(ut[5]=xt=>ke.$emit("range-start",xt)),onRangeEnd:ut[6]||(ut[6]=xt=>ke.$emit("range-end",xt)),onInvalidFixedRange:ut[7]||(ut[7]=xt=>ke.$emit("invalid-fixed-range",xt)),onTimeUpdate:ut[8]||(ut[8]=xt=>ke.$emit("time-update")),onAmPmChange:ut[9]||(ut[9]=xt=>ke.$emit("am-pm-change",xt)),onTimePickerOpen:ut[10]||(ut[10]=xt=>ke.$emit("time-picker-open",xt)),onTimePickerClose:N,onRecalculatePosition:ge,onUpdateMonthYear:ut[11]||(ut[11]=xt=>ke.$emit("update-month-year",xt)),onAutoApplyInvalid:ut[12]||(ut[12]=xt=>ke.$emit("auto-apply-invalid",xt)),onInvalidDate:ut[13]||(ut[13]=xt=>ke.$emit("invalid-date",xt)),onOverlayToggle:ut[14]||(ut[14]=xt=>ke.$emit("overlay-toggle",xt)),"onUpdate:internalModelValue":ut[15]||(ut[15]=xt=>ke.$emit("update:internal-model-value",xt))}),xr({_:2},[In(ye.value,(xt,Jt)=>({name:xt,fn:D(mn=>[$t(ke.$slots,xt,Ea(tr({...mn})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ke.$slots["right-sidebar"]?(de(),nt("div",B4,[$t(ke.$slots,"right-sidebar",Ea(tr(ee.value)))])):Ke("",!0),ke.$slots["action-extra"]?(de(),nt("div",R4,[ke.$slots["action-extra"]?$t(ke.$slots,"action-extra",{key:0,selectCurrentDate:Ve}):Ke("",!0)])):Ke("",!0)],14,E4),!ke.autoApply||Ae(g).keepActionRow?(de(),ct(RN,it({key:3,"menu-mount":V.value},o.value,{"calendar-width":w.value,onClosePicker:ut[16]||(ut[16]=xt=>ke.$emit("close-picker")),onSelectDate:ut[17]||(ut[17]=xt=>ke.$emit("select-date")),onInvalidSelect:ut[18]||(ut[18]=xt=>ke.$emit("invalid-select")),onSelectNow:Ve}),xr({_:2},[In(Ae(se),(xt,Jt)=>({name:xt,fn:D(mn=>[$t(ke.$slots,xt,Ea(tr({...mn})))])}))]),1040,["menu-mount","calendar-width"])):Ke("",!0)],46,D4)}}});var Wc=(e=>(e.center="center",e.left="left",e.right="right",e))(Wc||{});const F4=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:a,inline:r,emit:i,props:o,slots:l})=>{const{defaultedConfig:u}=pa(o),f=Ne({}),d=Ne(!1),m=Ne({top:"0",left:"0"}),p=Ne(!1),g=Pe(o,"teleportCenter");yt(g,()=>{m.value=JSON.parse(JSON.stringify({})),O()});const y=ae=>{if(o.teleport){const _e=ae.getBoundingClientRect();return{left:_e.left+window.scrollX,top:_e.top+window.scrollY}}return{top:0,left:0}},S=(ae,_e)=>{m.value.left=`${ae+_e-f.value.width}px`},k=ae=>{m.value.left=`${ae}px`},C=(ae,_e)=>{o.position===Wc.left&&k(ae),o.position===Wc.right&&S(ae,_e),o.position===Wc.center&&(m.value.left=`${ae+_e/2-f.value.width/2}px`)},w=ae=>{const{width:_e,height:Ee}=ae.getBoundingClientRect(),{top:$e,left:re}=y(ae);return{top:+$e,left:+re,width:_e,height:Ee}},I=()=>{m.value.left="50%",m.value.top="50%",m.value.transform="translate(-50%, -50%)",m.value.position="fixed",delete m.value.opacity},V=()=>{const ae=Ya(n);m.value=o.altPosition(ae)},O=(ae=!0)=>{var _e;if(!r.value.enabled){if(g.value)return I();if(o.altPosition!==null)return V();if(ae){const Ee=o.teleport?(_e=t.value)==null?void 0:_e.$el:e.value;Ee&&(f.value=Ee.getBoundingClientRect()),i("recalculate-position")}return F()}},U=({inputEl:ae,left:_e,width:Ee})=>{window.screen.width>768&&!d.value&&C(_e,Ee),B(ae)},Y=ae=>{const{top:_e,left:Ee,height:$e,width:re}=w(ae);m.value.top=`${$e+_e+ +o.offset}px`,p.value=!1,d.value||(m.value.left=`${Ee+re/2-f.value.width/2}px`),U({inputEl:ae,left:Ee,width:re})},H=ae=>{const{top:_e,left:Ee,width:$e}=w(ae);m.value.top=`${_e-+o.offset-f.value.height}px`,p.value=!0,U({inputEl:ae,left:Ee,width:$e})},B=ae=>{if(o.autoPosition){const{left:_e,width:Ee}=w(ae),{left:$e,right:re}=f.value;if(!d.value){if(Math.abs($e)!==Math.abs(re)){if($e<=0)return d.value=!0,k(_e);if(re>=document.documentElement.clientWidth)return d.value=!0,S(_e,Ee)}return C(_e,Ee)}}},j=()=>{const ae=Ya(n);if(ae){if(o.autoPosition===oo.top)return oo.top;if(o.autoPosition===oo.bottom)return oo.bottom;const{height:_e}=f.value,{top:Ee,height:$e}=ae.getBoundingClientRect(),re=window.innerHeight-Ee-$e,ee=Ee;return _e<=re?oo.bottom:_e>re&&_e<=ee?oo.top:re>=ee?oo.bottom:oo.top}return oo.bottom},G=ae=>j()===oo.bottom?Y(ae):H(ae),F=()=>{const ae=Ya(n);if(ae)return o.autoPosition?G(ae):Y(ae)},ce=function(ae){if(ae){const _e=ae.scrollHeight>ae.clientHeight,Ee=window.getComputedStyle(ae).overflowY.indexOf("hidden")!==-1;return _e&&!Ee}return!0},Z=function(ae){return!ae||ae===document.body||ae.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:ce(ae)?ae:Z(ae.assignedSlot&&u.value.shadowDom?ae.assignedSlot.parentNode:ae.parentNode)},le=ae=>{if(ae)switch(o.position){case Wc.left:return{left:0,transform:"translateX(0)"};case Wc.right:return{left:`${ae.width}px`,transform:"translateX(-100%)"};default:return{left:`${ae.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:m,xCorrect:d,setMenuPosition:O,getScrollableParent:Z,shadowRender:(ae,_e,Ee)=>{var $e,re,ee;const ge=document.createElement("div"),se=($e=Ya(n))==null?void 0:$e.getBoundingClientRect();ge.setAttribute("id","dp--temp-container");const ye=(re=a.value)!=null&&re.clientWidth?a.value:document.body;ye.append(ge);const Me=le(se),De=u.value.shadowDom?Object.keys(l).filter(Oe=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(Oe)):Object.keys(l),R=rs(_e,{...Ee,shadow:!0,style:{opacity:0,position:"absolute",...Me}},Object.fromEntries(De.map(Oe=>[Oe,l[Oe]])));ae!=null&&(R.appContext=ae.appContext),bh(R,ge),f.value=(ee=R.el)==null?void 0:ee.getBoundingClientRect(),bh(null,ge),ye.removeChild(ge)}}},Ol=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],$4=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],L4={all:()=>Ol,monthYear:()=>Ol.filter(e=>e.use.includes("month-year")),input:()=>$4,timePicker:()=>Ol.filter(e=>e.use.includes("time")),action:()=>Ol.filter(e=>e.use.includes("action")),calendar:()=>Ol.filter(e=>e.use.includes("calendar")),menu:()=>Ol.filter(e=>e.use.includes("menu")),shared:()=>Ol.filter(e=>e.use.includes("shared")),yearMode:()=>Ol.filter(e=>e.use.includes("year-mode"))},Di=(e,t,n)=>{const a=[];return L4[t]().forEach(r=>{e[r.name]&&a.push(r.name)}),n!=null&&n.length&&n.forEach(r=>{r.slot&&a.push(r.slot)}),a},Qf=e=>{const t=L(()=>a=>e.value?a?e.value.open:e.value.close:""),n=L(()=>a=>e.value?a?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Xf=(e,t,n)=>{const{defaultedRange:a,defaultedTz:r}=pa(e),i=Pt(mi(Pt(),r.value.timezone)),o=Ne([{month:Sn(i),year:sn(i)}]),l=p=>{const g={hours:Qs(i),minutes:jl(i),seconds:0};return a.value.enabled?[g[p],g[p]]:g[p]},u=Ia({hours:l("hours"),minutes:l("minutes"),seconds:l("seconds")});yt(a,(p,g)=>{p.enabled!==g.enabled&&(u.hours=l("hours"),u.minutes=l("minutes"),u.seconds=l("seconds"))},{deep:!0});const f=L({get:()=>e.internalModelValue,set:p=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",p)}}),d=L(()=>p=>o.value[p]?o.value[p].month:0),m=L(()=>p=>o.value[p]?o.value[p].year:0);return yt(f,(p,g)=>{n&&JSON.stringify(p??{})!==JSON.stringify(g??{})&&n()},{deep:!0}),{calendars:o,time:u,modelValue:f,month:d,year:m,today:i}},N4=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:i,defaultedTz:o,propDates:l,defaultedRange:u}=pa(t),{isDisabled:f}=tu(t),d=Ne(null),m=Ne(mi(new Date,o.value.timezone)),p=R=>{!R.current&&t.hideOffsetDates||(d.value=R.value)},g=()=>{d.value=null},y=R=>Array.isArray(e.value)&&u.value.enabled&&e.value[0]&&d.value?R?$a(d.value,e.value[0]):Da(d.value,e.value[0]):!0,S=(R,Oe)=>{const He=()=>e.value?Oe?e.value[0]||null:e.value[1]:null,at=e.value&&Array.isArray(e.value)?He():null;return Cn(Pt(R.value),at)},k=R=>{const Oe=Array.isArray(e.value)?e.value[0]:null;return R?!Da(d.value??null,Oe):!0},C=(R,Oe=!0)=>(u.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!R.current?!1:Cn(Pt(R.value),e.value[Oe?0:1]):u.value.enabled?S(R,Oe)&&k(Oe)||Cn(R.value,Array.isArray(e.value)?e.value[0]:null)&&y(Oe):!1,w=(R,Oe)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const He=Cn(R.value,d.value);return Oe?$a(e.value[0],R.value)&&He:Da(e.value[0],R.value)&&He}return!1},I=R=>!e.value||t.hideOffsetDates&&!R.current?!1:u.value.enabled?t.modelAuto&&Array.isArray(e.value)?Cn(R.value,e.value[0]?e.value[0]:m.value):!1:a.value.enabled&&Array.isArray(e.value)?e.value.some(Oe=>Cn(Oe,R.value)):Cn(R.value,e.value?e.value:m.value),V=R=>{if(u.value.autoRange||t.weekPicker){if(d.value){if(t.hideOffsetDates&&!R.current)return!1;const Oe=Gi(d.value,+u.value.autoRange),He=qs(Pt(d.value),t.weekStart);return t.weekPicker?Cn(He[1],Pt(R.value)):Cn(Oe,Pt(R.value))}return!1}return!1},O=R=>{if(u.value.autoRange||t.weekPicker){if(d.value){const Oe=Gi(d.value,+u.value.autoRange);if(t.hideOffsetDates&&!R.current)return!1;const He=qs(Pt(d.value),t.weekStart);return t.weekPicker?$a(R.value,He[0])&&Da(R.value,He[1]):$a(R.value,d.value)&&Da(R.value,Oe)}return!1}return!1},U=R=>{if(u.value.autoRange||t.weekPicker){if(d.value){if(t.hideOffsetDates&&!R.current)return!1;const Oe=qs(Pt(d.value),t.weekStart);return t.weekPicker?Cn(Oe[0],R.value):Cn(d.value,R.value)}return!1}return!1},Y=R=>Vf(e.value,d.value,R.value),H=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,B=()=>t.modelAuto?fx(t.internalModelValue):!0,j=R=>{if(t.weekPicker)return!1;const Oe=u.value.enabled?!C(R)&&!C(R,!1):!0;return!f(R.value)&&!I(R)&&!(!R.current&&t.hideOffsetDates)&&Oe},G=R=>u.value.enabled?t.modelAuto?H()&&I(R):!1:I(R),F=R=>i.value?iN(R.value,l.value.highlight):!1,ce=R=>{const Oe=f(R.value);return Oe&&(typeof i.value=="function"?!i.value(R.value,Oe):!i.value.options.highlightDisabled)},Z=R=>{var Oe;return typeof i.value=="function"?i.value(R.value):(Oe=i.value.weekdays)==null?void 0:Oe.includes(R.value.getDay())},le=R=>(u.value.enabled||t.weekPicker)&&(!(n.value.count>0)||R.current)&&B()&&!(!R.current&&t.hideOffsetDates)&&!I(R)?Y(R):!1,ae=R=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:Oe,after:He}=z1(+u.value.maxRange,e.value[0]);return md(R.value,Oe)||Yu(R.value,He)}return!1},_e=R=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:Oe,after:He}=z1(+u.value.minRange,e.value[0]);return Vf([Oe,He],e.value[0],R.value)}return!1},Ee=R=>u.value.enabled&&(u.value.maxRange||u.value.minRange)?u.value.maxRange&&u.value.minRange?ae(R)||_e(R):u.value.maxRange?ae(R):_e(R):!1,$e=R=>{const{isRangeStart:Oe,isRangeEnd:He}=se(R),at=u.value.enabled?Oe||He:!1;return{dp__cell_offset:!R.current,dp__pointer:!t.disabled&&!(!R.current&&t.hideOffsetDates)&&!f(R.value)&&!Ee(R),dp__cell_disabled:f(R.value)||Ee(R),dp__cell_highlight:!ce(R)&&(F(R)||Z(R))&&!G(R)&&!at&&!U(R)&&!(le(R)&&t.weekPicker)&&!He,dp__cell_highlight_active:!ce(R)&&(F(R)||Z(R))&&G(R),dp__today:!t.noToday&&Cn(R.value,m.value)&&R.current,"dp--past":Da(R.value,m.value),"dp--future":$a(R.value,m.value)}},re=R=>({dp__active_date:G(R),dp__date_hover:j(R)}),ee=R=>{if(e.value&&!Array.isArray(e.value)){const Oe=qs(e.value,t.weekStart);return{...Me(R),dp__range_start:Cn(Oe[0],R.value),dp__range_end:Cn(Oe[1],R.value),dp__range_between_week:$a(R.value,Oe[0])&&Da(R.value,Oe[1])}}return{...Me(R)}},ge=R=>{if(e.value&&Array.isArray(e.value)){const Oe=qs(e.value[0],t.weekStart),He=e.value[1]?qs(e.value[1],t.weekStart):[];return{...Me(R),dp__range_start:Cn(Oe[0],R.value)||Cn(He[0],R.value),dp__range_end:Cn(Oe[1],R.value)||Cn(He[1],R.value),dp__range_between_week:$a(R.value,Oe[0])&&Da(R.value,Oe[1])||$a(R.value,He[0])&&Da(R.value,He[1]),dp__range_between:$a(R.value,Oe[1])&&Da(R.value,He[0])}}return{...Me(R)}},se=R=>{const Oe=n.value.count>0?R.current&&C(R)&&B():C(R)&&B(),He=n.value.count>0?R.current&&C(R,!1)&&B():C(R,!1)&&B();return{isRangeStart:Oe,isRangeEnd:He}},ye=R=>{const{isRangeStart:Oe,isRangeEnd:He}=se(R);return{dp__range_start:Oe,dp__range_end:He,dp__range_between:le(R),dp__date_hover:Cn(R.value,d.value)&&!Oe&&!He&&!t.weekPicker,dp__date_hover_start:w(R,!0),dp__date_hover_end:w(R,!1)}},Me=R=>({...ye(R),dp__cell_auto_range:O(R),dp__cell_auto_range_start:U(R),dp__cell_auto_range_end:V(R)}),De=R=>u.value.enabled?u.value.autoRange?Me(R):t.modelAuto?{...re(R),...ye(R)}:t.weekPicker?ge(R):ye(R):t.weekPicker?ee(R):re(R);return{setHoverDate:p,clearHoverDate:g,getDayClassData:R=>t.hideOffsetDates&&!R.current?{}:{...$e(R),...De(R),[t.dayClass?t.dayClass(R.value,t.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},tu=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:a,defaultedMultiDates:r}=pa(e),i=Z=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(Pt(Z)):!!Ih(Z,a.value.disabledDates):!1,o=Z=>a.value.maxDate?e.yearPicker?sn(Z)>sn(a.value.maxDate):$a(Z,a.value.maxDate):!1,l=Z=>a.value.minDate?e.yearPicker?sn(Z)<sn(a.value.minDate):Da(Z,a.value.minDate):!1,u=Z=>{const le=o(Z),ae=l(Z),_e=i(Z),Ee=t.value.months.map(se=>+se).includes(Sn(Z)),$e=e.disabledWeekDays.length?e.disabledWeekDays.some(se=>+se===jL(Z)):!1,re=g(Z),ee=sn(Z),ge=ee<+e.yearRange[0]||ee>+e.yearRange[1];return!(le||ae||_e||Ee||ge||$e||re)},f=(Z,le)=>Da(...ql(a.value.minDate,Z,le))||Cn(...ql(a.value.minDate,Z,le)),d=(Z,le)=>$a(...ql(a.value.maxDate,Z,le))||Cn(...ql(a.value.maxDate,Z,le)),m=(Z,le,ae)=>{let _e=!1;return a.value.maxDate&&ae&&d(Z,le)&&(_e=!0),a.value.minDate&&!ae&&f(Z,le)&&(_e=!0),_e},p=(Z,le,ae,_e)=>{let Ee=!1;return _e&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?Ee=m(Z,le,ae):(a.value.minDate&&f(Z,le)||a.value.maxDate&&d(Z,le))&&(Ee=!0):Ee=!0,Ee},g=Z=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!Ih(Z,a.value.allowedDates,vx(e.monthPicker,e.yearPicker)):!1,y=Z=>!u(Z),S=Z=>n.value.noDisabledRange?!KC({start:Z[0],end:Z[1]}).some(le=>y(le)):!0,k=Z=>{if(Z){const le=sn(Z);return le>=+e.yearRange[0]&&le<=e.yearRange[1]}return!0},C=(Z,le)=>!!(Array.isArray(Z)&&Z[le]&&(n.value.maxRange||n.value.minRange)&&k(Z[le])),w=(Z,le,ae=0)=>{if(C(le,ae)&&k(Z)){const _e=WC(Z,le[ae]),Ee=yx(le[ae],Z),$e=Ee.length===1?0:Ee.filter(ee=>y(ee)).length,re=Math.abs(_e)-(n.value.minMaxRawRange?0:$e);if(n.value.minRange&&n.value.maxRange)return re>=+n.value.minRange&&re<=+n.value.maxRange;if(n.value.minRange)return re>=+n.value.minRange;if(n.value.maxRange)return re<=+n.value.maxRange}return!0},I=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,V=Z=>Array.isArray(Z)?[Z[0]?U_(Z[0]):null,Z[1]?U_(Z[1]):null]:U_(Z),O=(Z,le,ae)=>Z.find(_e=>+_e.hours===Qs(le)&&_e.minutes==="*"?!0:+_e.minutes===jl(le)&&+_e.hours===Qs(le))&&ae,U=(Z,le,ae)=>{const[_e,Ee]=Z,[$e,re]=le;return!O(_e,$e,ae)&&!O(Ee,re,ae)&&ae},Y=(Z,le)=>{const ae=Array.isArray(le)?le:[le];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?U(e.disabledTimes,ae,Z):!ae.some(_e=>O(e.disabledTimes,_e,Z)):Z},H=(Z,le)=>{const ae=Array.isArray(le)?[Hu(le[0]),le[1]?Hu(le[1]):void 0]:Hu(le),_e=!e.disabledTimes(ae);return Z&&_e},B=(Z,le)=>e.disabledTimes?Array.isArray(e.disabledTimes)?Y(le,Z):H(le,Z):le,j=Z=>{let le=!0;if(!Z||I())return!0;const ae=!a.value.minDate&&!a.value.maxDate?V(Z):Z;return(e.maxTime||a.value.maxDate)&&(le=H1(e.maxTime,a.value.maxDate,"max",dr(ae),le)),(e.minTime||a.value.minDate)&&(le=H1(e.minTime,a.value.minDate,"min",dr(ae),le)),B(Z,le)},G=Z=>{if(!e.monthPicker)return!0;let le=!0;const ae=Pt(so(Z));if(a.value.minDate&&a.value.maxDate){const _e=Pt(so(a.value.minDate)),Ee=Pt(so(a.value.maxDate));return $a(ae,_e)&&Da(ae,Ee)||Cn(ae,_e)||Cn(ae,Ee)}if(a.value.minDate){const _e=Pt(so(a.value.minDate));le=$a(ae,_e)||Cn(ae,_e)}if(a.value.maxDate){const _e=Pt(so(a.value.maxDate));le=Da(ae,_e)||Cn(ae,_e)}return le},F=L(()=>Z=>!e.enableTimePicker||e.ignoreTimeValidation?!0:j(Z)),ce=L(()=>Z=>e.monthPicker?Array.isArray(Z)&&(n.value.enabled||r.value.enabled)?!Z.filter(le=>!G(le)).length:G(Z):!0);return{isDisabled:y,validateDate:u,validateMonthYearInRange:p,isDateRangeAllowed:S,checkMinMaxRange:w,isValidTime:j,isTimeValid:F,isMonthValid:ce}},tv=()=>{const e=L(()=>(a,r)=>a==null?void 0:a.includes(r)),t=L(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),n=L(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},q4=(e,t,n)=>{const a=Ne(0),r=Ia({[Uu.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Uu.calendar]:!1,[Uu.header]:!1}),i=L(()=>e.monthPicker||e.timePicker),o=m=>{var p;if((p=e.flow)!=null&&p.length){if(!m&&i.value)return d();r[m]=!0,Object.keys(r).filter(g=>!r[g]).length||d()}},l=()=>{var m,p;(m=e.flow)!=null&&m.length&&a.value!==-1&&(a.value+=1,t("flow-step",a.value),d()),((p=e.flow)==null?void 0:p.length)===a.value&&Qt().then(()=>u())},u=()=>{a.value=-1},f=(m,p,...g)=>{var y,S;e.flow[a.value]===m&&n.value&&((S=(y=n.value)[p])==null||S.call(y,...g))},d=(m=0)=>{m&&(a.value+=m),f(Fr.month,"toggleMonthPicker",!0),f(Fr.year,"toggleYearPicker",!0),f(Fr.calendar,"toggleTimePicker",!1,!0),f(Fr.time,"toggleTimePicker",!0,!0);const p=e.flow[a.value];(p===Fr.hours||p===Fr.minutes||p===Fr.seconds)&&f(p,"toggleTimePicker",!0,!0,p)};return{childMount:o,updateFlowStep:l,resetFlow:u,handleFlow:d,flowStep:a}},U4={key:1,class:"dp__input_wrap"},H4=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],z4={key:2,class:"dp--clear-btn"},W4=["aria-label"],j4=ar({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Jh},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const a=n,r=e,{defaultedTextInput:i,defaultedAriaLabels:o,defaultedInline:l,defaultedConfig:u,defaultedRange:f,defaultedMultiDates:d,defaultedUI:m,getDefaultPattern:p,getDefaultStartTime:g}=pa(r),{checkMinMaxRange:y}=tu(r),S=Ne(),k=Ne(null),C=Ne(!1),w=Ne(!1),I=L(()=>({dp__pointer:!r.disabled&&!r.readonly&&!i.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:C.value||r.isMenuOpen,dp__input_reg:!i.value.enabled,...m.value.input??{}})),V=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),S.value=null)},O=ee=>{const ge=g();return sN(ee,i.value.format??p(),ge??bx({},r.enableSeconds),r.inputValue,w.value,r.formatLocale)},U=ee=>{const{rangeSeparator:ge}=i.value,[se,ye]=ee.split(`${ge}`);if(se){const Me=O(se.trim()),De=ye?O(ye.trim()):void 0;if(Yu(Me,De))return;const R=Me&&De?[Me,De]:[Me];y(De,R,0)&&(S.value=Me?R:null)}},Y=()=>{w.value=!0},H=ee=>{if(f.value.enabled)U(ee);else if(d.value.enabled){const ge=ee.split(";");S.value=ge.map(se=>O(se.trim())).filter(se=>se)}else S.value=O(ee)},B=ee=>{var ge;const se=typeof ee=="string"?ee:(ge=ee.target)==null?void 0:ge.value;se!==""?(i.value.openMenu&&!r.isMenuOpen&&a("open"),H(se),a("set-input-date",S.value)):V(),w.value=!1,a("update:input-value",se),a("text-input",ee,S.value)},j=ee=>{i.value.enabled?(H(ee.target.value),i.value.enterSubmit&&Lp(S.value)&&r.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):i.value.enterSubmit&&r.inputValue===""&&(S.value=null,a("clear"))):ce(ee)},G=(ee,ge)=>{i.value.enabled&&i.value.tabSubmit&&!ge&&H(ee.target.value),i.value.tabSubmit&&Lp(S.value)&&r.inputValue!==""?(a("set-input-date",S.value,!0,!0),S.value=null):i.value.tabSubmit&&r.inputValue===""&&(S.value=null,a("clear",!0))},F=()=>{C.value=!0,a("focus"),Qt().then(()=>{var ee;i.value.enabled&&i.value.selectOnFocus&&((ee=k.value)==null||ee.select())})},ce=ee=>{if(Hl(ee,u.value,!0),i.value.enabled&&i.value.openMenu&&!l.value.input){if(i.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(i.value.openMenu==="toggle")return a("toggle")}else i.value.enabled||a("toggle")},Z=()=>{a("real-blur"),C.value=!1,(!r.isMenuOpen||l.value.enabled&&l.value.input)&&a("blur"),r.autoApply&&i.value.enabled&&S.value&&!r.isMenuOpen&&(a("set-input-date",S.value),a("select-date"),S.value=null)},le=ee=>{Hl(ee,u.value,!0),a("clear")},ae=()=>{a("close")},_e=ee=>{if(ee.key==="Tab"&&G(ee),ee.key==="Enter"&&j(ee),ee.key==="Escape"&&i.value.escClose&&ae(),!i.value.enabled){if(ee.code==="Tab")return;ee.preventDefault()}},Ee=()=>{var ee;(ee=k.value)==null||ee.focus({preventScroll:!0})},$e=ee=>{S.value=ee},re=ee=>{ee.key===ca.tab&&G(ee,!0)};return t({focusInput:Ee,setParsedDate:$e}),(ee,ge)=>{var se,ye,Me;return de(),nt("div",{onClick:ce},[ee.$slots.trigger&&!ee.$slots["dp-input"]&&!Ae(l).enabled?$t(ee.$slots,"trigger",{key:0}):Ke("",!0),!ee.$slots.trigger&&(!Ae(l).enabled||Ae(l).input)?(de(),nt("div",U4,[ee.$slots["dp-input"]&&!ee.$slots.trigger&&(!Ae(l).enabled||Ae(l).enabled&&Ae(l).input)?$t(ee.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:B,onEnter:j,onTab:G,onClear:le,onBlur:Z,onKeypress:_e,onPaste:Y,onFocus:F,openMenu:()=>ee.$emit("open"),closeMenu:()=>ee.$emit("close"),toggleMenu:()=>ee.$emit("toggle")}):Ke("",!0),ee.$slots["dp-input"]?Ke("",!0):(de(),nt("input",{key:1,id:ee.uid?`dp-input-${ee.uid}`:void 0,ref_key:"inputRef",ref:k,"data-test-id":"dp-input",name:ee.name,class:Ge(I.value),inputmode:Ae(i).enabled?"text":"none",placeholder:ee.placeholder,disabled:ee.disabled,readonly:ee.readonly,required:ee.required,value:e.inputValue,autocomplete:ee.autocomplete,"aria-label":(se=Ae(o))==null?void 0:se.input,"aria-disabled":ee.disabled||void 0,"aria-invalid":ee.state===!1?!0:void 0,onInput:B,onBlur:Z,onFocus:F,onKeypress:_e,onKeydown:ge[0]||(ge[0]=De=>_e(De)),onPaste:Y},null,42,H4)),P("div",{onClick:ge[3]||(ge[3]=De=>a("toggle"))},[ee.$slots["input-icon"]&&!ee.hideInputIcon?(de(),nt("span",{key:0,class:"dp__input_icon",onClick:ge[1]||(ge[1]=De=>a("toggle"))},[$t(ee.$slots,"input-icon")])):Ke("",!0),!ee.$slots["input-icon"]&&!ee.hideInputIcon&&!ee.$slots["dp-input"]?(de(),ct(Ae(Pd),{key:1,"aria-label":(ye=Ae(o))==null?void 0:ye.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:ge[2]||(ge[2]=De=>a("toggle"))},null,8,["aria-label"])):Ke("",!0)]),ee.$slots["clear-icon"]&&(ee.alwaysClearable||e.inputValue&&ee.clearable&&!ee.disabled&&!ee.readonly)?(de(),nt("span",z4,[$t(ee.$slots,"clear-icon",{clear:le})])):Ke("",!0),!ee.$slots["clear-icon"]&&(ee.alwaysClearable||ee.clearable&&e.inputValue&&!ee.disabled&&!ee.readonly)?(de(),nt("button",{key:3,"aria-label":(Me=Ae(o))==null?void 0:Me.clearInput,class:"dp--clear-btn",type:"button",onKeydown:ge[4]||(ge[4]=De=>Ae(ni)(De,()=>le(De),!0,re)),onClick:ge[5]||(ge[5]=Ka(De=>le(De),["prevent"]))},[h(Ae(cx),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,W4)):Ke("",!0)])):Ke("",!0)])}}}),Y4=typeof window<"u"?window:void 0,K_=()=>{},K4=e=>Lk()?(Ga(e),!0):!1,G4=(e,t,n,a)=>{if(!e)return K_;let r=K_;const i=yt(()=>Ae(e),l=>{r(),l&&(l.removeEventListener(t,n),l.addEventListener(t,n,a),r=()=>{l.removeEventListener(t,n,a),r=K_})},{immediate:!0,flush:"post"}),o=()=>{i(),r()};return K4(o),o},Q4=(e,t,n,a={})=>{const{window:r=Y4,event:i="pointerdown"}=a;return r?G4(r,i,o=>{const l=Ya(e),u=Ya(t);!l||!u||l===o.target||o.composedPath().includes(l)||o.composedPath().includes(u)||n(o)},{passive:!0}):void 0},X4=["data-dp-mobile"],J4=ar({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Jh},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const a=n,r=e,i=ec(),o=Ne(!1),l=Pe(r,"modelValue"),u=Pe(r,"timezone"),f=Ne(null),d=Ne(null),m=Ne(null),p=Ne(!1),g=Ne(null),y=Ne(!1),S=Ne(!1),k=Ne(!1),C=Ne(!1),{setMenuFocused:w,setShiftKey:I}=Cx(),{clearArrowNav:V}=eu(),{validateDate:O,isValidTime:U}=tu(r),{defaultedTransitions:Y,defaultedTextInput:H,defaultedInline:B,defaultedConfig:j,defaultedRange:G,defaultedMultiDates:F}=pa(r),{menuTransition:ce,showTransition:Z}=Qf(Y),{isMobile:le}=Ex(j),ae=xd();Pn(()=>{R(r.modelValue),Qt().then(()=>{if(!B.value.enabled){const _t=se(g.value);_t==null||_t.addEventListener("scroll",Ie),window==null||window.addEventListener("resize",We)}}),B.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",Qe),window==null||window.addEventListener("keydown",st)}),as(()=>{if(!B.value.enabled){const _t=se(g.value);_t==null||_t.removeEventListener("scroll",Ie),window==null||window.removeEventListener("resize",We)}window==null||window.removeEventListener("keyup",Qe),window==null||window.removeEventListener("keydown",st)});const _e=Di(i,"all",r.presetDates),Ee=Di(i,"input");yt([l,u],()=>{R(l.value)},{deep:!0});const{openOnTop:$e,menuStyle:re,xCorrect:ee,setMenuPosition:ge,getScrollableParent:se,shadowRender:ye}=F4({menuRef:f,menuRefInner:d,inputRef:m,pickerWrapperRef:g,inline:B,emit:a,props:r,slots:i}),{inputValue:Me,internalModelValue:De,parseExternalModelValue:R,emitModelValue:Oe,formatInputValue:He,checkBeforeEmit:at}=VN(a,r,p),Be=L(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:B.value.enabled,"dp--flex-display-collapsed":k.value,dp__flex_display_with_input:B.value.input})),N=L(()=>r.dark?"dp__theme_dark":"dp__theme_light"),Q=L(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||B.value.enabled}:{}),pe=L(()=>({class:"dp__outer_menu_wrap"})),W=L(()=>B.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),Ve=()=>{var _t,At;return((At=(_t=m.value)==null?void 0:_t.$el)==null?void 0:At.getBoundingClientRect())??{width:0,left:0,right:0}},Ie=()=>{o.value&&(j.value.closeOnScroll?Jt():ge())},We=()=>{var _t;o.value&&ge();const At=((_t=d.value)==null?void 0:_t.$el.getBoundingClientRect().width)??0;k.value=document.body.offsetWidth<=At},Qe=_t=>{_t.key==="Tab"&&!B.value.enabled&&!r.teleport&&j.value.tabOutClosesMenu&&(g.value.contains(document.activeElement)||Jt()),S.value=_t.shiftKey},st=_t=>{S.value=_t.shiftKey},tt=()=>{!r.disabled&&!r.readonly&&(ye(ae,K1,r),ge(!1),o.value=!0,o.value&&a("open"),o.value||xt(),R(r.modelValue))},Tt=()=>{var _t,At;Me.value="",xt(),(_t=d.value)==null||_t.onValueCleared(),(At=m.value)==null||At.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),j.value.closeOnClearValue&&Jt()},ke=()=>{const _t=De.value;return!_t||!Array.isArray(_t)&&O(_t)?!0:Array.isArray(_t)?F.value.enabled||_t.length===2&&O(_t[0])&&O(_t[1])?!0:G.value.partialRange&&!r.timePicker?O(_t[0]):!1:!1},ut=()=>{at()&&ke()?(Oe(),Jt()):a("invalid-select",De.value)},Dt=_t=>{Nt(),Oe(),j.value.closeOnAutoApply&&!_t&&Jt()},Nt=()=>{m.value&&H.value.enabled&&m.value.setParsedDate(De.value)},jt=(_t=!1)=>{r.autoApply&&U(De.value)&&ke()&&(G.value.enabled&&Array.isArray(De.value)?(G.value.partialRange||De.value.length===2)&&Dt(_t):Dt(_t))},xt=()=>{H.value.enabled||(De.value=null)},Jt=(_t=!1)=>{var At,Ft;_t&&De.value&&j.value.setDateOnMenuClose&&ut(),B.value.enabled||(o.value&&(o.value=!1,ee.value=!1,w(!1),I(!1),V(),a("closed"),Me.value&&R(l.value)),xt(),a("blur"),(Ft=(At=d.value)==null?void 0:At.$el)==null||Ft.remove())},mn=(_t,At,Ft=!1)=>{if(!_t){De.value=null;return}const pr=Array.isArray(_t)?!_t.some(Ar=>!O(Ar)):O(_t),Ir=U(_t);pr&&Ir?(C.value=!0,De.value=_t,At?(y.value=Ft,ut(),a("text-submit")):r.autoApply&&jt(),Qt().then(()=>{C.value=!1})):a("invalid-date",_t)},Zn=()=>{r.autoApply&&U(De.value)&&Oe(),Nt()},Un=()=>o.value?Jt():tt(),ya=_t=>{De.value=_t},xa=()=>{H.value.enabled&&(p.value=!0,He()),a("focus")},Rn=()=>{if(H.value.enabled&&(p.value=!1,R(r.modelValue),y.value)){const _t=rN(g.value,S.value);_t==null||_t.focus()}a("blur")},Mt=_t=>{d.value&&d.value.updateMonthYear(0,{month:N1(_t.month),year:N1(_t.year)})},ir=_t=>{R(_t??r.modelValue)},et=(_t,At)=>{var Ft;(Ft=d.value)==null||Ft.switchView(_t,At)},bt=(_t,At)=>j.value.onClickOutside?j.value.onClickOutside(_t,At):Jt(!0),ft=(_t=0)=>{var At;(At=d.value)==null||At.handleFlow(_t)},Bt=()=>f;return Q4(f,m,_t=>bt(ke,_t)),t({closeMenu:Jt,selectDate:ut,clearValue:Tt,openMenu:tt,onScroll:Ie,formatInputValue:He,updateInternalModelValue:ya,setMonthYear:Mt,parseModel:ir,switchView:et,toggleMenu:Un,handleFlow:ft,getDpWrapMenuRef:Bt}),(_t,At)=>(de(),nt("div",{ref_key:"pickerWrapperRef",ref:g,class:Ge(Be.value),"data-datepicker-instance":"","data-dp-mobile":Ae(le)},[h(j4,it({ref_key:"inputRef",ref:m,"input-value":Ae(Me),"onUpdate:inputValue":At[0]||(At[0]=Ft=>Sa(Me)?Me.value=Ft:null),"is-menu-open":o.value},_t.$props,{onClear:Tt,onOpen:tt,onSetInputDate:mn,onSetEmptyDate:Ae(Oe),onSelectDate:ut,onToggle:Un,onClose:Jt,onFocus:xa,onBlur:Rn,onRealBlur:At[1]||(At[1]=Ft=>p.value=!1),onTextInput:At[2]||(At[2]=Ft=>_t.$emit("text-input",Ft))}),xr({_:2},[In(Ae(Ee),(Ft,pr)=>({name:Ft,fn:D(Ir=>[$t(_t.$slots,Ft,Ea(tr(Ir)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(de(),ct(Cd(_t.teleport?fS:"div"),Ea(tr(Q.value)),{default:D(()=>[h(hi,{name:Ae(ce)(Ae($e)),css:Ae(Z)&&!Ae(B).enabled},{default:D(()=>[o.value?(de(),nt("div",it({key:0,ref_key:"dpWrapMenuRef",ref:f},pe.value,{class:{"dp--menu-wrapper":!Ae(B).enabled},style:Ae(B).enabled?void 0:Ae(re)}),[h(K1,it({ref_key:"dpMenuRef",ref:d},_t.$props,{"internal-model-value":Ae(De),"onUpdate:internalModelValue":At[3]||(At[3]=Ft=>Sa(De)?De.value=Ft:null),class:{[N.value]:!0,"dp--menu-wrapper":_t.teleport},"open-on-top":Ae($e),"no-overlay-focus":W.value,collapse:k.value,"get-input-rect":Ve,"is-text-input-date":C.value,onClosePicker:Jt,onSelectDate:ut,onAutoApply:jt,onTimeUpdate:Zn,onFlowStep:At[4]||(At[4]=Ft=>_t.$emit("flow-step",Ft)),onUpdateMonthYear:At[5]||(At[5]=Ft=>_t.$emit("update-month-year",Ft)),onInvalidSelect:At[6]||(At[6]=Ft=>_t.$emit("invalid-select",Ae(De))),onAutoApplyInvalid:At[7]||(At[7]=Ft=>_t.$emit("invalid-select",Ft)),onInvalidFixedRange:At[8]||(At[8]=Ft=>_t.$emit("invalid-fixed-range",Ft)),onRecalculatePosition:Ae(ge),onTooltipOpen:At[9]||(At[9]=Ft=>_t.$emit("tooltip-open",Ft)),onTooltipClose:At[10]||(At[10]=Ft=>_t.$emit("tooltip-close",Ft)),onTimePickerOpen:At[11]||(At[11]=Ft=>_t.$emit("time-picker-open",Ft)),onTimePickerClose:At[12]||(At[12]=Ft=>_t.$emit("time-picker-close",Ft)),onAmPmChange:At[13]||(At[13]=Ft=>_t.$emit("am-pm-change",Ft)),onRangeStart:At[14]||(At[14]=Ft=>_t.$emit("range-start",Ft)),onRangeEnd:At[15]||(At[15]=Ft=>_t.$emit("range-end",Ft)),onDateUpdate:At[16]||(At[16]=Ft=>_t.$emit("date-update",Ft)),onInvalidDate:At[17]||(At[17]=Ft=>_t.$emit("invalid-date",Ft)),onOverlayToggle:At[18]||(At[18]=Ft=>_t.$emit("overlay-toggle",Ft)),onMenuBlur:At[19]||(At[19]=Ft=>_t.$emit("blur"))}),xr({_:2},[In(Ae(_e),(Ft,pr)=>({name:Ft,fn:D(Ir=>[$t(_t.$slots,Ft,Ea(tr({...Ir})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):Ke("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,X4))}}),Ay=(()=>{const e=J4;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),Z4=Object.freeze(Object.defineProperty({__proto__:null,default:Ay},Symbol.toStringTag,{value:"Module"}));Object.entries(Z4).forEach(([e,t])=>{e!=="default"&&(Ay[e]=t)});function e5(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map(function(r){r(n)}),(a=e.get("*"))&&a.slice().map(function(r){r(t,n)})}}}const t5={install:(e,t)=>{e.config.globalProperties.__=window.__,e.config.globalProperties.frappe=window.frappe,e.config.globalProperties.eventBus=e5()}},n5={install(e,{vuetify:t}){const n=document.documentElement,a=()=>{const l=n.getAttribute("data-theme-mode")||"light";return l==="automatic"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":l},r=Ne(a());t.theme.global.name.value=r.value,new MutationObserver(()=>{r.value=a(),t.theme.global.name.value=r.value}).observe(n,{attributes:!0,attributeFilter:["data-theme-mode","data-theme"]});const o=()=>{var f,d,m;const u=(n.getAttribute("data-theme-mode")||"light")==="dark"?"light":"dark";n.setAttribute("data-theme-mode",u),(d=(f=window.frappe)==null?void 0:f.ui)!=null&&d.set_theme?window.frappe.ui.set_theme(u):n.setAttribute("data-theme",u),(m=window.frappe)!=null&&m.xcall&&window.frappe.xcall("frappe.core.doctype.user.user.switch_theme",{theme:u.charAt(0).toUpperCase()+u.slice(1)}).catch(()=>{})};e.config.globalProperties.$theme={get current(){return r.value},toggle:o,isDark:r}}},a5=ze({...Ot(),...RC({fullHeight:!0}),...yn()},"VApp"),r5=ot()({name:"VApp",props:a5(),setup(e,t){let{slots:n}=t;const a=Mn(e),{layoutClasses:r,getLayoutItem:i,items:o,layoutRef:l}=$C(e),{rtlClasses:u}=Ua();return dt(()=>{var f;return P("div",{ref:l,class:Ge(["v-application",a.themeClasses.value,r.value,u.value,e.class]),style:vt([e.style])},[P("div",{class:"v-application__wrap"},[(f=n.default)==null?void 0:f.call(n)])])}),{getLayoutItem:i,items:o,theme:a}}}),nn=ze({tag:{type:[String,Object,Function],default:"div"}},"tag"),Vx=ze({text:String,...Ot(),...nn()},"VToolbarTitle"),Ey=ot()({name:"VToolbarTitle",props:Vx(),setup(e,t){let{slots:n}=t;return dt(()=>{const a=!!(n.default||n.text||e.text);return h(e.tag,{class:Ge(["v-toolbar-title",e.class]),style:vt(e.style)},{default:()=>{var r;return[a&&P("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),i5=ze({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Ai(e,t,n){return ot()({name:e,props:i5({mode:n,origin:t}),setup(a,r){let{slots:i}=r;const o={onBeforeEnter(l){a.origin&&(l.style.transformOrigin=a.origin)},onLeave(l){if(a.leaveAbsolute){const{offsetTop:u,offsetLeft:f,offsetWidth:d,offsetHeight:m}=l;l._transitionInitialStyles={position:l.style.position,top:l.style.top,left:l.style.left,width:l.style.width,height:l.style.height},l.style.position="absolute",l.style.top=`${u}px`,l.style.left=`${f}px`,l.style.width=`${d}px`,l.style.height=`${m}px`}a.hideOnLeave&&l.style.setProperty("display","none","important")},onAfterLeave(l){if(a.leaveAbsolute&&(l!=null&&l._transitionInitialStyles)){const{position:u,top:f,left:d,width:m,height:p}=l._transitionInitialStyles;delete l._transitionInitialStyles,l.style.position=u||"",l.style.top=f||"",l.style.left=d||"",l.style.width=m||"",l.style.height=p||""}}};return()=>{const l=a.group?Xg:hi;return rs(l,{name:a.disabled?"":e,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:o},i.default)}}})}function Ox(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ot()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(a,r){let{slots:i}=r;const o=a.group?Xg:hi;return()=>rs(o,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:t},i.default)}})}function Mx(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=ri(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const l=o._initialStyle;if(!l)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const u=`${o[a]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=l.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=u})},onAfterEnter:i,onEnterCancelled:i,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[a]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),i(o)}function i(o){if(!o._initialStyle)return;const l=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,l!=null&&(o.style[n]=l),delete o._initialStyle}}const o5=ze({target:[Object,Array]},"v-dialog-transition"),G_=new WeakMap,nv=ot()({name:"VDialogTransition",props:o5(),setup(e,t){let{slots:n}=t;const a={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,i){var g;await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),r.style.visibility="";const o=Q1(e.target,r),{x:l,y:u,sx:f,sy:d,speed:m}=o;G_.set(r,o);const p=Ru(r,[{transform:`translate(${l}px, ${u}px) scale(${f}, ${d})`,opacity:0},{}],{duration:225*m,easing:CF});(g=G1(r))==null||g.forEach(y=>{Ru(y,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*m,easing:Tf})}),p.finished.then(()=>i())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,i){var g;await new Promise(y=>requestAnimationFrame(y));let o;!G_.has(r)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?o=Q1(e.target,r):o=G_.get(r);const{x:l,y:u,sx:f,sy:d,speed:m}=o;Ru(r,[{},{transform:`translate(${l}px, ${u}px) scale(${f}, ${d})`,opacity:0}],{duration:125*m,easing:xF}).finished.then(()=>i()),(g=G1(r))==null||g.forEach(y=>{Ru(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*m,easing:Tf})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?h(hi,it({name:"dialog-transition"},a,{css:!1}),n):h(hi,{name:"dialog-transition"},n)}});function G1(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Q1(e,t){const n=mC(e),a=ny(t),[r,i]=getComputedStyle(t).transformOrigin.split(" ").map(C=>parseFloat(C)),[o,l]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=n.left+n.width/2;o==="left"||l==="left"?u-=n.width/2:(o==="right"||l==="right")&&(u+=n.width/2);let f=n.top+n.height/2;o==="top"||l==="top"?f-=n.height/2:(o==="bottom"||l==="bottom")&&(f+=n.height/2);const d=n.width/a.width,m=n.height/a.height,p=Math.max(1,d,m),g=d/p||0,y=m/p||0,S=a.width*a.height/(window.innerWidth*window.innerHeight),k=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:u-(r+a.left),y:f-(i+a.top),sx:g,sy:y,speed:k}}const s5=Ai("fab-transition","center center","out-in"),l5=Ai("dialog-bottom-transition"),u5=Ai("dialog-top-transition"),Of=Ai("fade-transition"),Vy=Ai("scale-transition"),c5=Ai("scroll-x-transition"),d5=Ai("scroll-x-reverse-transition"),f5=Ai("scroll-y-transition"),m5=Ai("scroll-y-reverse-transition"),h5=Ai("slide-x-transition"),v5=Ai("slide-x-reverse-transition"),Oy=Ai("slide-y-transition"),_5=Ai("slide-y-reverse-transition"),av=Ox("expand-transition",Mx()),My=Ox("expand-x-transition",Mx("",!0)),p5=ze({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),an=ot(!1)({name:"VDefaultsProvider",props:p5(),setup(e,t){let{slots:n}=t;const{defaults:a,disabled:r,reset:i,root:o,scoped:l}=kd(e);return va(a,{reset:i,root:o,scoped:l,disabled:r}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}}),Ha=ze({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function za(e){return{dimensionStyles:L(()=>{const n={},a=Vt(e.height),r=Vt(e.maxHeight),i=Vt(e.maxWidth),o=Vt(e.minHeight),l=Vt(e.minWidth),u=Vt(e.width);return a!=null&&(n.height=a),r!=null&&(n.maxHeight=r),i!=null&&(n.maxWidth=i),o!=null&&(n.minHeight=o),l!=null&&(n.minWidth=l),u!=null&&(n.width=u),n})}}function g5(e){return{aspectStyles:L(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Bx=ze({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ot(),...Ha()},"VResponsive"),qp=ot()({name:"VResponsive",props:Bx(),setup(e,t){let{slots:n}=t;const{aspectStyles:a}=g5(e),{dimensionStyles:r}=za(e);return dt(()=>{var i;return P("div",{class:Ge(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:vt([r.value,e.style])},[P("div",{class:"v-responsive__sizer",style:vt(a.value)},null),(i=n.additional)==null?void 0:i.call(n),n.default&&P("div",{class:Ge(["v-responsive__content",e.contentClass])},[n.default()])])}),{}}});function By(e){return ty(()=>{const t=Jo(e),n=[],a={};if(t.background)if(Cp(t.background)){if(a.backgroundColor=t.background,!t.text&&fF(t.background)){const r=Ti(t.background);if(r.a==null||r.a===1){const i=kC(r);a.color=i,a.caretColor=i}}}else n.push(`bg-${t.background}`);return t.text&&(Cp(t.text)?(a.color=t.text,a.caretColor=t.text):n.push(`text-${t.text}`)),{colorClasses:n,colorStyles:a}})}function Tr(e){const{colorClasses:t,colorStyles:n}=By(()=>({text:Jo(e)}));return{textColorClasses:t,textColorStyles:n}}function Yn(e){const{colorClasses:t,colorStyles:n}=By(()=>({background:Jo(e)}));return{backgroundColorClasses:t,backgroundColorStyles:n}}const sa=ze({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function ga(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{roundedClasses:L(()=>{const a=Sa(e)?e.value:e.rounded,r=Sa(e)?e.value:e.tile,i=[];if(a===!0||a==="")i.push(`${t}--rounded`);else if(typeof a=="string"||a===0)for(const o of String(a).split(" "))i.push(`rounded-${o}`);else(r||a===!1)&&i.push("rounded-0");return i})}}const _o=ze({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),Nr=(e,t)=>{let{slots:n}=t;const{transition:a,disabled:r,group:i,...o}=e,{component:l=i?Xg:hi,...u}=xf(a)?a:{};let f;return xf(a)?f=it(u,YR({disabled:r,group:i}),o):f=it({name:r||!a?"":a},o),rs(l,f,n)};function y5(e,t){if(!Jg)return;const n=t.modifiers||{},a=t.value,{handler:r,options:i}=typeof a=="object"?a:{handler:a,options:{}},o=new IntersectionObserver(function(){var m;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const f=(m=e._observe)==null?void 0:m[t.instance.$.uid];if(!f)return;const d=l.some(p=>p.isIntersecting);r&&(!n.quiet||f.init)&&(!n.once||d||f.init)&&r(d,l,u),d&&n.once?Rx(e,t):f.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function Rx(e,t){var a;const n=(a=e._observe)==null?void 0:a[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Xs={mounted:y5,unmounted:Rx},Fx=ze({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Bx(),...Ot(),...sa(),..._o()},"VImg"),Js=ot()({name:"VImg",directives:{vIntersect:Xs},props:Fx(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=Yn(()=>e.color),{roundedClasses:o}=ga(e),l=Ca("VImg"),u=kt(""),f=Ne(),d=kt(e.eager?"loading":"idle"),m=kt(),p=kt(),g=L(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),y=L(()=>g.value.aspect||m.value/p.value||0);yt(()=>e.src,()=>{S(d.value!=="idle")}),yt(y,(F,ce)=>{!F&&ce&&f.value&&V(f.value)}),Sd(()=>S());function S(F){if(!(e.eager&&F)&&!(Jg&&!F&&!e.eager)){if(d.value="loading",g.value.lazySrc){const ce=new Image;ce.src=g.value.lazySrc,V(ce,null)}g.value.src&&Qt(()=>{var ce;n("loadstart",((ce=f.value)==null?void 0:ce.currentSrc)||g.value.src),setTimeout(()=>{var Z;if(!l.isUnmounted)if((Z=f.value)!=null&&Z.complete){if(f.value.naturalWidth||C(),d.value==="error")return;y.value||V(f.value,null),d.value==="loading"&&k()}else y.value||V(f.value),w()})})}}function k(){var F;l.isUnmounted||(w(),V(f.value),d.value="loaded",n("load",((F=f.value)==null?void 0:F.currentSrc)||g.value.src))}function C(){var F;l.isUnmounted||(d.value="error",n("error",((F=f.value)==null?void 0:F.currentSrc)||g.value.src))}function w(){const F=f.value;F&&(u.value=F.currentSrc||F.src)}let I=-1;vr(()=>{clearTimeout(I)});function V(F){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Z=()=>{if(clearTimeout(I),l.isUnmounted)return;const{naturalHeight:le,naturalWidth:ae}=F;le||ae?(m.value=ae,p.value=le):!F.complete&&d.value==="loading"&&ce!=null?I=window.setTimeout(Z,ce):(F.currentSrc.endsWith(".svg")||F.currentSrc.startsWith("data:image/svg+xml"))&&(m.value=1,p.value=1)};Z()}const O=Pe(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),U=()=>{var Z;if(!g.value.src||d.value==="idle")return null;const F=P("img",{class:Ge(["v-img__img",O.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:g.value.src,srcset:g.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:f,onLoad:k,onError:C},null),ce=(Z=a.sources)==null?void 0:Z.call(a);return h(Nr,{transition:e.transition,appear:!0},{default:()=>[xn(ce?P("picture",{class:"v-img__picture"},[ce,F]):F,[[Aa,d.value==="loaded"]])]})},Y=()=>h(Nr,{transition:e.transition},{default:()=>[g.value.lazySrc&&d.value!=="loaded"&&P("img",{class:Ge(["v-img__img","v-img__img--preload",O.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:g.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),H=()=>a.placeholder?h(Nr,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!a.error)&&P("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,B=()=>a.error?h(Nr,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&P("div",{class:"v-img__error"},[a.error()])]}):null,j=()=>e.gradient?P("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,G=kt(!1);{const F=yt(y,ce=>{ce&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{G.value=!0})}),F())})}return dt(()=>{const F=qp.filterProps(e);return xn(h(qp,it({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!G.value},r.value,o.value,e.class],style:[{width:Vt(e.width==="auto"?m.value:e.width)},i.value,e.style]},F,{aspectRatio:y.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>P(ht,null,[h(U,null,null),h(Y,null,null),h(j,null,null),h(H,null,null),h(B,null,null)]),default:a.default}),[[Xs,{handler:S,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:f,state:d,naturalWidth:m,naturalHeight:p}}}),vi=ze({border:[Boolean,Number,String]},"border");function Ei(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{borderClasses:L(()=>{const a=e.border;return a===!0||a===""?`${t}--border`:typeof a=="string"||a===0?String(a).split(" ").map(r=>`border-${r}`):[]})}}const Qa=ze({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function _r(e){return{elevationClasses:Pe(()=>{const n=Sa(e)?e.value:e.elevation;return n==null?[]:[`elevation-${n}`]})}}const b5=[null,"prominent","default","comfortable","compact"],$x=ze({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>b5.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...vi(),...Ot(),...Qa(),...sa(),...nn({tag:"header"}),...yn()},"VToolbar"),Up=ot()({name:"VToolbar",props:$x(),setup(e,t){var g;let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=Yn(()=>e.color),{borderClasses:i}=Ei(e),{elevationClasses:o}=_r(e),{roundedClasses:l}=ga(e),{themeClasses:u}=Mn(e),{rtlClasses:f}=Ua(),d=kt(!!(e.extended||(g=n.extension)!=null&&g.call(n))),m=L(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=L(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return va({VBtn:{variant:"text"}}),dt(()=>{var C;const y=!!(e.title||n.title),S=!!(n.image||e.image),k=(C=n.extension)==null?void 0:C.call(n);return d.value=!!(e.extended||k),h(e.tag,{class:Ge(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,i.value,o.value,l.value,u.value,f.value,e.class]),style:vt([r.value,e.style])},{default:()=>[S&&P("div",{key:"image",class:"v-toolbar__image"},[n.image?h(an,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):h(Js,{key:"image-img",cover:!0,src:e.image},null)]),h(an,{defaults:{VTabs:{height:Vt(m.value)}}},{default:()=>{var w,I,V;return[P("div",{class:"v-toolbar__content",style:{height:Vt(m.value)}},[n.prepend&&P("div",{class:"v-toolbar__prepend"},[(w=n.prepend)==null?void 0:w.call(n)]),y&&h(Ey,{key:"title",text:e.title},{text:n.title}),(I=n.default)==null?void 0:I.call(n),n.append&&P("div",{class:"v-toolbar__append"},[(V=n.append)==null?void 0:V.call(n)])])]}}),h(an,{defaults:{VTabs:{height:Vt(p.value)}}},{default:()=>[h(av,null,{default:()=>[d.value&&P("div",{class:"v-toolbar__extension",style:{height:Vt(p.value)}},[k])]})]})]})}),{contentHeight:m,extensionHeight:p}}}),w5=ze({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function k5(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let a=0,r=0;const i=Ne(null),o=kt(0),l=kt(0),u=kt(0),f=kt(!1),d=kt(!1),m=L(()=>Number(e.scrollThreshold)),p=L(()=>Xn((m.value-o.value)/m.value||0)),g=()=>{const y=i.value;if(!y||n&&!n.value)return;a=o.value,o.value="window"in y?y.pageYOffset:y.scrollTop;const S=y instanceof Window?document.documentElement.scrollHeight:y.scrollHeight;if(r!==S){r=S;return}d.value=o.value<a,u.value=Math.abs(o.value-m.value)};return yt(d,()=>{l.value=l.value||o.value}),yt(f,()=>{l.value=0}),Pn(()=>{yt(()=>e.scrollTarget,y=>{var k;const S=y?document.querySelector(y):window;S&&S!==i.value&&((k=i.value)==null||k.removeEventListener("scroll",g),i.value=S,i.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),vr(()=>{var y;(y=i.value)==null||y.removeEventListener("scroll",g)}),n&&yt(n,g,{immediate:!0}),{scrollThreshold:m,currentScroll:o,currentThreshold:u,isScrollActive:f,scrollRatio:p,isScrollingUp:d,savedScroll:l}}function ic(){const e=kt(!1);return Pn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Pe(()=>e.value?void 0:{transition:"none !important"}),isBooted:wd(e)}}const S5=ze({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...$x(),...nc(),...w5(),height:{type:[Number,String],default:64}},"VAppBar"),C5=ot()({name:"VAppBar",props:S5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Ne(),r=Lt(e,"modelValue"),i=L(()=>{var I;const w=new Set(((I=e.scrollBehavior)==null?void 0:I.split(" "))??[]);return{hide:w.has("hide"),fullyHide:w.has("fully-hide"),inverted:w.has("inverted"),collapse:w.has("collapse"),elevate:w.has("elevate"),fadeImage:w.has("fade-image")}}),o=L(()=>{const w=i.value;return w.hide||w.fullyHide||w.inverted||w.collapse||w.elevate||w.fadeImage||!r.value}),{currentScroll:l,scrollThreshold:u,isScrollingUp:f,scrollRatio:d}=k5(e,{canScroll:o}),m=Pe(()=>i.value.hide||i.value.fullyHide),p=L(()=>e.collapse||i.value.collapse&&(i.value.inverted?d.value>0:d.value===0)),g=L(()=>e.flat||i.value.fullyHide&&!r.value||i.value.elevate&&(i.value.inverted?l.value>0:l.value===0)),y=L(()=>i.value.fadeImage?i.value.inverted?1-d.value:d.value:void 0),S=L(()=>{var V,O;if(i.value.hide&&i.value.inverted)return 0;const w=((V=a.value)==null?void 0:V.contentHeight)??0,I=((O=a.value)==null?void 0:O.extensionHeight)??0;return m.value?l.value<u.value||i.value.fullyHide?w+I:w:w+I});ai(()=>!!e.scrollBehavior,()=>{fa(()=>{m.value?i.value.inverted?r.value=l.value>u.value:r.value=f.value||l.value<u.value:r.value=!0})});const{ssrBootStyles:k}=ic(),{layoutItemStyles:C}=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:Pe(()=>e.location),layoutSize:S,elementSize:kt(void 0),active:r,absolute:Pe(()=>e.absolute)});return dt(()=>{const w=Up.filterProps(e);return h(Up,it({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...C.value,"--v-toolbar-image-opacity":y.value,height:void 0,...k.value},e.style]},w,{collapse:p.value,flat:g.value}),n)}),{}}}),x5=[null,"default","comfortable","compact"],rr=ze({density:{type:String,default:"default",validator:e=>x5.includes(e)}},"density");function Hr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{densityClasses:Pe(()=>`${t}--density-${e.density}`)}}const P5=["elevated","flat","tonal","outlined","text","plain"];function nu(e,t){return P(ht,null,[e&&P("span",{key:"overlay",class:Ge(`${t}__overlay`)},null),P("span",{key:"underlay",class:Ge(`${t}__underlay`)},null)])}const Zi=ze({color:String,variant:{type:String,default:"elevated",validator:e=>P5.includes(e)}},"variant");function oc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();const n=Pe(()=>{const{variant:i}=Jo(e);return`${t}--variant-${i}`}),{colorClasses:a,colorStyles:r}=By(()=>{const{variant:i,color:o}=Jo(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}});return{colorClasses:a,colorStyles:r,variantClasses:n}}const Lx=ze({baseColor:String,divided:Boolean,...vi(),...Ot(),...rr(),...Qa(),...sa(),...nn(),...yn(),...Zi()},"VBtnGroup"),Hp=ot()({name:"VBtnGroup",props:Lx(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{densityClasses:r}=Hr(e),{borderClasses:i}=Ei(e),{elevationClasses:o}=_r(e),{roundedClasses:l}=ga(e);va({VBtn:{height:"auto",baseColor:Pe(()=>e.baseColor),color:Pe(()=>e.color),density:Pe(()=>e.density),flat:!0,variant:Pe(()=>e.variant)}}),dt(()=>h(e.tag,{class:Ge(["v-btn-group",{"v-btn-group--divided":e.divided},a.value,i.value,r.value,o.value,l.value,e.class]),style:vt(e.style)},n))}}),sc=ze({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),lc=ze({value:null,disabled:Boolean,selectedClass:String},"group-item");function uc(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const a=Ca("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=ii();ra(Symbol.for(`${t.description}:id`),r);const i=fn(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=Pe(()=>e.value),l=L(()=>!!(i.disabled.value||e.disabled));i.register({id:r,value:o,disabled:l},a),vr(()=>{i.unregister(r)});const u=L(()=>i.isSelected(r)),f=L(()=>i.items.value[0].id===r),d=L(()=>i.items.value[i.items.value.length-1].id===r),m=L(()=>u.value&&[i.selectedClass.value,e.selectedClass]);return yt(u,p=>{a.emit("group:selected",{value:p})},{flush:"sync"}),{id:r,isSelected:u,isFirst:f,isLast:d,toggle:()=>i.select(r,!u.value),select:p=>i.select(r,p),selectedClass:m,value:o,disabled:l,group:i}}function au(e,t){let n=!1;const a=Ia([]),r=Lt(e,"modelValue",[],p=>p==null?[]:Nx(a,da(p)),p=>{const g=D5(a,p);return e.multiple?g:g[0]}),i=Ca("useGroup");function o(p,g){const y=p,S=Symbol.for(`${t.description}:id`),C=jc(S,i==null?void 0:i.vnode).indexOf(g);Ae(y.value)==null&&(y.value=C,y.useIndexAsValue=!0),C>-1?a.splice(C,0,y):a.push(y)}function l(p){if(n)return;u();const g=a.findIndex(y=>y.id===p);a.splice(g,1)}function u(){const p=a.find(g=>!g.disabled);p&&e.mandatory==="force"&&!r.value.length&&(r.value=[p.id])}Pn(()=>{u()}),vr(()=>{n=!0}),Wg(()=>{for(let p=0;p<a.length;p++)a[p].useIndexAsValue&&(a[p].value=p)});function f(p,g){const y=a.find(S=>S.id===p);if(!(g&&(y!=null&&y.disabled)))if(e.multiple){const S=r.value.slice(),k=S.findIndex(w=>w===p),C=~k;if(g=g??!C,C&&e.mandatory&&S.length<=1||!C&&e.max!=null&&S.length+1>e.max)return;k<0&&g?S.push(p):k>=0&&!g&&S.splice(k,1),r.value=S}else{const S=r.value.includes(p);if(e.mandatory&&S||!S&&!g)return;r.value=g??!S?[p]:[]}}function d(p){if(e.multiple,r.value.length){const g=r.value[0],y=a.findIndex(C=>C.id===g);let S=(y+p)%a.length,k=a[S];for(;k.disabled&&S!==y;)S=(S+p)%a.length,k=a[S];if(k.disabled)return;r.value=[a[S].id]}else{const g=a.find(y=>!y.disabled);g&&(r.value=[g.id])}}const m={register:o,unregister:l,selected:r,select:f,disabled:Pe(()=>e.disabled),prev:()=>d(a.length-1),next:()=>d(1),isSelected:p=>r.value.includes(p),selectedClass:Pe(()=>e.selectedClass),items:Pe(()=>a),getItemIndex:p=>T5(a,p)};return ra(t,m),m}function T5(e,t){const n=Nx(e,[t]);return n.length?e.findIndex(a=>a.id===n[0]):-1}function Nx(e,t){const n=[];return t.forEach(a=>{const r=e.find(o=>Pr(a,o.value)),i=e[a];(r==null?void 0:r.value)!=null?n.push(r.id):i!=null&&n.push(i.id)}),n}function D5(e,t){const n=[];return t.forEach(a=>{const r=e.findIndex(i=>i.id===a);if(~r){const i=e[r];n.push(i.value!=null?i.value:r)}}),n}const Ry=Symbol.for("vuetify:v-btn-toggle"),I5=ze({...Lx(),...sc()},"VBtnToggle"),A5=ot()({name:"VBtnToggle",props:I5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:a,next:r,prev:i,select:o,selected:l}=au(e,Ry);return dt(()=>{const u=Hp.filterProps(e);return h(Hp,it({class:["v-btn-toggle",e.class]},u,{style:e.style}),{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n,{isSelected:a,next:r,prev:i,select:o,selected:l})]}})}),{next:r,prev:i,select:o}}}),E5=["x-small","small","default","large","x-large"],ss=ze({size:{type:[String,Number],default:"default"}},"size");function Td(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return ty(()=>{const n=e.size;let a,r;return wh(E5,n)?a=`${t}--size-${n}`:n&&(r={width:Vt(n),height:Vt(n)}),{sizeClasses:a,sizeStyles:r}})}const V5=ze({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ut,opacity:[String,Number],...Ot(),...ss(),...nn({tag:"i"}),...yn()},"VIcon"),Vn=ot()({name:"VIcon",props:V5(),setup(e,t){let{attrs:n,slots:a}=t;const r=kt(),{themeClasses:i}=dy(),{iconData:o}=I$(()=>r.value||e.icon),{sizeClasses:l}=Td(e),{textColorClasses:u,textColorStyles:f}=Tr(()=>e.color);return dt(()=>{var p,g;const d=(p=a.default)==null?void 0:p.call(a);d&&(r.value=(g=oC(d).filter(y=>y.type===Hf&&y.children&&typeof y.children=="string")[0])==null?void 0:g.children);const m=!!(n.onClick||n.onClickOnce);return h(o.value.component,{tag:e.tag,icon:o.value.icon,class:Ge(["v-icon","notranslate",i.value,l.value,u.value,{"v-icon--clickable":m,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:vt([{"--v-icon-opacity":e.opacity},l.value?void 0:{fontSize:Vt(e.size),height:Vt(e.size),width:Vt(e.size)},f.value,e.style]),role:m?"button":void 0,"aria-hidden":!m,tabindex:m?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function Jf(e,t){const n=Ne(),a=kt(!1);if(Jg){const r=new IntersectionObserver(i=>{a.value=!!i.find(o=>o.isIntersecting)},t);Ga(()=>{r.disconnect()}),yt(n,(i,o)=>{o&&(r.unobserve(o),a.value=!1),i&&r.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:a}}const O5=ze({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ot(),...ss(),...nn({tag:"div"}),...yn()},"VProgressCircular"),pd=ot()({name:"VProgressCircular",props:O5(),setup(e,t){let{slots:n}=t;const a=20,r=2*Math.PI*a,i=Ne(),{themeClasses:o}=Mn(e),{sizeClasses:l,sizeStyles:u}=Td(e),{textColorClasses:f,textColorStyles:d}=Tr(()=>e.color),{textColorClasses:m,textColorStyles:p}=Tr(()=>e.bgColor),{intersectionRef:g,isIntersecting:y}=Jf(),{resizeRef:S,contentRect:k}=fo(),C=Pe(()=>Xn(parseFloat(e.modelValue),0,100)),w=Pe(()=>Number(e.width)),I=Pe(()=>u.value?Number(e.size):k.value?k.value.width:Math.max(w.value,32)),V=Pe(()=>a/(1-w.value/I.value)*2),O=Pe(()=>w.value/I.value*V.value),U=Pe(()=>Vt((100-C.value)/100*r));return fa(()=>{g.value=i.value,S.value=i.value}),dt(()=>h(e.tag,{ref:i,class:Ge(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,l.value,f.value,e.class]),style:vt([u.value,d.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:C.value},{default:()=>[P("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${V.value} ${V.value}`},[P("circle",{class:Ge(["v-progress-circular__underlay",m.value]),style:vt(p.value),fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":O.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),P("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":O.value,"stroke-dasharray":r,"stroke-dashoffset":U.value},null)]),n.default&&P("div",{class:"v-progress-circular__content"},[n.default({value:C.value})])]})),{}}}),X1={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},il=ze({location:String},"location");function cc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:a}=Ua();return{locationStyles:L(()=>{if(!e.location)return{};const{side:i,align:o}=kp(e.location.split(" ").length>1?e.location:`${e.location} center`,a.value);function l(f){return n?n(f):0}const u={};return i!=="center"&&(t?u[X1[i]]=`calc(100% - ${l(i)}px)`:u[i]=0),o!=="center"?t?u[X1[o]]=`calc(100% - ${l(o)}px)`:u[o]=0:(i==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),u})}}const M5=ze({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ot(),...il({location:"top"}),...sa(),...nn(),...yn()},"VProgressLinear"),rv=ot()({name:"VProgressLinear",props:M5(),emits:{"update:modelValue":e=>!0},setup(e,t){var G;let{slots:n}=t;const a=Lt(e,"modelValue"),{isRtl:r,rtlClasses:i}=Ua(),{themeClasses:o}=Mn(e),{locationStyles:l}=cc(e),{textColorClasses:u,textColorStyles:f}=Tr(()=>e.color),{backgroundColorClasses:d,backgroundColorStyles:m}=Yn(()=>e.bgColor||e.color),{backgroundColorClasses:p,backgroundColorStyles:g}=Yn(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:y,backgroundColorStyles:S}=Yn(()=>e.color),{roundedClasses:k}=ga(e),{intersectionRef:C,isIntersecting:w}=Jf(),I=L(()=>parseFloat(e.max)),V=L(()=>parseFloat(e.height)),O=L(()=>Xn(parseFloat(e.bufferValue)/I.value*100,0,100)),U=L(()=>Xn(parseFloat(a.value)/I.value*100,0,100)),Y=L(()=>r.value!==e.reverse),H=L(()=>e.indeterminate?"fade-transition":"slide-x-transition"),B=On&&((G=window.matchMedia)==null?void 0:G.call(window,"(forced-colors: active)").matches);function j(F){if(!C.value)return;const{left:ce,right:Z,width:le}=C.value.getBoundingClientRect(),ae=Y.value?le-F.clientX+(Z-le):F.clientX-ce;a.value=Math.round(ae/le*I.value)}return dt(()=>h(e.tag,{ref:C,class:Ge(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&w.value,"v-progress-linear--reverse":Y.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},k.value,o.value,i.value,e.class]),style:vt([{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Vt(V.value):0,"--v-progress-linear-height":Vt(V.value),...e.absolute?l.value:{}},e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(a.value),I.value),onClick:e.clickable&&j},{default:()=>[e.stream&&P("div",{key:"stream",class:Ge(["v-progress-linear__stream",u.value]),style:{...f.value,[Y.value?"left":"right"]:Vt(-V.value),borderTop:`${Vt(V.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Vt(V.value/4)})`,width:Vt(100-O.value,"%"),"--v-progress-linear-stream-to":Vt(V.value*(Y.value?1:-1))}},null),P("div",{class:Ge(["v-progress-linear__background",B?void 0:d.value]),style:vt([m.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),P("div",{class:Ge(["v-progress-linear__buffer",B?void 0:p.value]),style:vt([g.value,{opacity:parseFloat(e.bufferOpacity),width:Vt(O.value,"%")}])},null),h(hi,{name:H.value},{default:()=>[e.indeterminate?P("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(F=>P("div",{key:F,class:Ge(["v-progress-linear__indeterminate",F,B?void 0:y.value]),style:vt(S.value)},null))]):P("div",{class:Ge(["v-progress-linear__determinate",B?void 0:y.value]),style:vt([S.value,{width:Vt(U.value,"%")}])},null)]}),n.default&&P("div",{class:"v-progress-linear__content"},[n.default({value:U.value,buffer:O.value})])]})),{}}}),iv=ze({loading:[Boolean,String]},"loader");function Zf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{loaderClasses:Pe(()=>({[`${t}--loading`]:e.loading}))}}function em(e,t){var a;let{slots:n}=t;return P("div",{class:Ge(`${e.name}__loader`)},[((a=n.default)==null?void 0:a.call(n,{color:e.color,isActive:e.active}))||h(rv,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const B5=["static","relative","fixed","absolute","sticky"],Dd=ze({position:{type:String,validator:e=>B5.includes(e)}},"position");function Id(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();return{positionClasses:Pe(()=>e.position?`${t}--${e.position}`:void 0)}}function R5(){const e=Ca("useRoute");return L(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function qx(){var e,t;return(t=(e=Ca("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function tm(e,t){var d,m;const n=Cd("RouterLink"),a=Pe(()=>!!(e.href||e.to)),r=L(()=>(a==null?void 0:a.value)||Zw(t,"click")||Zw(e,"click"));if(typeof n=="string"||!("useLink"in n)){const p=Pe(()=>e.href);return{isLink:a,isClickable:r,href:p,linkProps:Ia({href:p})}}const i=n.useLink({to:Pe(()=>e.to||""),replace:Pe(()=>e.replace)}),o=L(()=>e.to?i:void 0),l=R5(),u=L(()=>{var p,g,y;return o.value?e.exact?l.value?((y=o.value.isExactActive)==null?void 0:y.value)&&Pr(o.value.route.value.query,l.value.query):((g=o.value.isExactActive)==null?void 0:g.value)??!1:((p=o.value.isActive)==null?void 0:p.value)??!1:!1}),f=L(()=>{var p;return e.to?(p=o.value)==null?void 0:p.route.value.href:e.href});return{isLink:a,isClickable:r,isActive:u,route:(d=o.value)==null?void 0:d.route,navigate:(m=o.value)==null?void 0:m.navigate,href:f,linkProps:Ia({href:f,"aria-current":Pe(()=>u.value?"page":void 0)})}}const nm=ze({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Q_=!1;function F5(e,t){let n=!1,a,r;On&&(e!=null&&e.beforeEach)&&(Qt(()=>{window.addEventListener("popstate",i),a=e.beforeEach((o,l,u)=>{Q_?n?t(u):u():setTimeout(()=>n?t(u):u()),Q_=!0}),r=e==null?void 0:e.afterEach(()=>{Q_=!1})}),Ga(()=>{window.removeEventListener("popstate",i),a==null||a(),r==null||r()}));function i(o){var l;(l=o.state)!=null&&l.replaced||(n=!0,setTimeout(()=>n=!1))}}function $5(e,t){yt(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n!=null&&t&&Qt(()=>{t(n)})},{immediate:!0})}const zp=Symbol("rippleStop"),L5=80;function J1(e,t){e.style.transform=t,e.style.webkitTransform=t}function Wp(e){return e.constructor.name==="TouchEvent"}function Ux(e){return e.constructor.name==="KeyboardEvent"}const N5=function(e,t){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,r=0;if(!Ux(e)){const p=t.getBoundingClientRect(),g=Wp(e)?e.touches[e.touches.length-1]:e;a=g.clientX-p.left,r=g.clientY-p.top}let i=0,o=.3;(m=t._ripple)!=null&&m.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((a-i)**2+(r-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const l=`${(t.clientWidth-i*2)/2}px`,u=`${(t.clientHeight-i*2)/2}px`,f=n.center?l:`${a-i}px`,d=n.center?u:`${r-i}px`;return{radius:i,scale:o,x:f,y:d,centerX:l,centerY:u}},Ah={show(e,t){var g;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((g=t==null?void 0:t._ripple)!=null&&g.enabled))return;const a=document.createElement("span"),r=document.createElement("span");a.appendChild(r),a.className="v-ripple__container",n.class&&(a.className+=` ${n.class}`);const{radius:i,scale:o,x:l,y:u,centerX:f,centerY:d}=N5(e,t,n),m=`${i*2}px`;r.className="v-ripple__animation",r.style.width=m,r.style.height=m,t.appendChild(a);const p=window.getComputedStyle(t);p&&p.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),J1(r,`translate(${l}, ${u}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),J1(r,`translate(${f}, ${d}) scale3d(1,1,1)`)})})},hide(e){var i;if(!((i=e==null?void 0:e._ripple)!=null&&i.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const a=performance.now()-Number(n.dataset.activated),r=Math.max(250-a,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var l;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((l=n.parentNode)==null?void 0:l.parentNode)===e&&e.removeChild(n.parentNode)},300)},r)}};function Hx(e){return typeof e>"u"||!!e}function Mf(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[zp])){if(e[zp]=!0,Wp(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||Ux(e),n._ripple.class&&(t.class=n._ripple.class),Wp(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Ah.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var a;(a=n==null?void 0:n._ripple)!=null&&a.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},L5)}else Ah.show(e,n,t)}}function Z1(e){e[zp]=!0}function xi(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{xi(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Ah.hide(t)}}function zx(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Bf=!1;function Wx(e){!Bf&&(e.keyCode===Kw.enter||e.keyCode===Kw.space)&&(Bf=!0,Mf(e))}function jx(e){Bf=!1,xi(e)}function Yx(e){Bf&&(Bf=!1,xi(e))}function Kx(e,t,n){const{value:a,modifiers:r}=t,i=Hx(a);if(i||Ah.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=r.center,e._ripple.circle=r.circle,xf(a)&&a.class&&(e._ripple.class=a.class),i&&!n){if(r.stop){e.addEventListener("touchstart",Z1,{passive:!0}),e.addEventListener("mousedown",Z1);return}e.addEventListener("touchstart",Mf,{passive:!0}),e.addEventListener("touchend",xi,{passive:!0}),e.addEventListener("touchmove",zx,{passive:!0}),e.addEventListener("touchcancel",xi),e.addEventListener("mousedown",Mf),e.addEventListener("mouseup",xi),e.addEventListener("mouseleave",xi),e.addEventListener("keydown",Wx),e.addEventListener("keyup",jx),e.addEventListener("blur",Yx),e.addEventListener("dragstart",xi,{passive:!0})}else!i&&n&&Gx(e)}function Gx(e){e.removeEventListener("mousedown",Mf),e.removeEventListener("touchstart",Mf),e.removeEventListener("touchend",xi),e.removeEventListener("touchmove",zx),e.removeEventListener("touchcancel",xi),e.removeEventListener("mouseup",xi),e.removeEventListener("mouseleave",xi),e.removeEventListener("keydown",Wx),e.removeEventListener("keyup",jx),e.removeEventListener("dragstart",xi),e.removeEventListener("blur",Yx)}function q5(e,t){Kx(e,t,!1)}function U5(e){delete e._ripple,Gx(e)}function H5(e,t){if(t.value===t.oldValue)return;const n=Hx(t.oldValue);Kx(e,t,n)}const Ur={mounted:q5,unmounted:U5,updated:H5},ov=ze({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Ry},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ut,appendIcon:Ut,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...vi(),...Ot(),...rr(),...Ha(),...Qa(),...lc(),...iv(),...il(),...Dd(),...sa(),...nm(),...ss(),...nn({tag:"button"}),...yn(),...Zi({variant:"elevated"})},"VBtn"),wn=ot()({name:"VBtn",props:ov(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{themeClasses:r}=Mn(e),{borderClasses:i}=Ei(e),{densityClasses:o}=Hr(e),{dimensionStyles:l}=za(e),{elevationClasses:u}=_r(e),{loaderClasses:f}=Zf(e),{locationStyles:d}=cc(e),{positionClasses:m}=Id(e),{roundedClasses:p}=ga(e),{sizeClasses:g,sizeStyles:y}=Td(e),S=uc(e,e.symbol,!1),k=tm(e,n),C=L(()=>{var G;return e.active!==void 0?e.active:k.isLink.value?(G=k.isActive)==null?void 0:G.value:S==null?void 0:S.isSelected.value}),w=Pe(()=>C.value?e.activeColor??e.color:e.color),I=L(()=>{var F,ce;return{color:(S==null?void 0:S.isSelected.value)&&(!k.isLink.value||((F=k.isActive)==null?void 0:F.value))||!S||((ce=k.isActive)==null?void 0:ce.value)?w.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:V,colorStyles:O,variantClasses:U}=oc(I),Y=L(()=>(S==null?void 0:S.disabled.value)||e.disabled),H=Pe(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),B=L(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function j(G){var F;Y.value||k.isLink.value&&(G.metaKey||G.ctrlKey||G.shiftKey||G.button!==0||n.target==="_blank")||((F=k.navigate)==null||F.call(k,G),S==null||S.toggle())}return $5(k,S==null?void 0:S.select),dt(()=>{const G=k.isLink.value?"a":e.tag,F=!!(e.prependIcon||a.prepend),ce=!!(e.appendIcon||a.append),Z=!!(e.icon&&e.icon!==!0);return xn(h(G,it({type:G==="a"?void 0:"button",class:["v-btn",S==null?void 0:S.selectedClass.value,{"v-btn--active":C.value,"v-btn--block":e.block,"v-btn--disabled":Y.value,"v-btn--elevated":H.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,i.value,V.value,o.value,u.value,f.value,m.value,p.value,g.value,U.value,e.class],style:[O.value,l.value,d.value,y.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:Y.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:j,value:B.value},k.linkProps),{default:()=>{var le;return[nu(!0,"v-btn"),!e.icon&&F&&P("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?h(an,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},a.prepend):h(Vn,{key:"prepend-icon",icon:e.prependIcon},null)]),P("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&Z?h(Vn,{key:"content-icon",icon:e.icon},null):h(an,{key:"content-defaults",disabled:!Z,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var ae;return[((ae=a.default)==null?void 0:ae.call(a))??ve(e.text)]}})]),!e.icon&&ce&&P("span",{key:"append",class:"v-btn__append"},[a.append?h(an,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},a.append):h(Vn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&P("span",{key:"loader",class:"v-btn__loader"},[((le=a.loader)==null?void 0:le.call(a))??h(pd,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ur,!Y.value&&e.ripple,"",{center:!!e.icon}]])}),{group:S}}}),z5=ze({...ov({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),W5=ot()({name:"VAppBarNavIcon",props:z5(),setup(e,t){let{slots:n}=t;return dt(()=>h(wn,it(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),j5=ot()({name:"VAppBarTitle",props:Vx(),setup(e,t){let{slots:n}=t;return dt(()=>h(Ey,it(e,{class:"v-app-bar-title"}),n)),{}}}),Qx=os("v-alert-title"),Y5=["success","info","warning","error"],K5=ze({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ut,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Y5.includes(e)},...Ot(),...rr(),...Ha(),...Qa(),...il(),...Dd(),...sa(),...nn(),...yn(),...Zi({variant:"flat"})},"VAlert"),G5=ot()({name:"VAlert",props:K5(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Lt(e,"modelValue"),i=Pe(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:o}=Mn(e),{colorClasses:l,colorStyles:u,variantClasses:f}=oc(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:d}=Hr(e),{dimensionStyles:m}=za(e),{elevationClasses:p}=_r(e),{locationStyles:g}=cc(e),{positionClasses:y}=Id(e),{roundedClasses:S}=ga(e),{textColorClasses:k,textColorStyles:C}=Tr(()=>e.borderColor),{t:w}=_a(),I=Pe(()=>({"aria-label":w(e.closeLabel),onClick(V){r.value=!1,n("click:close",V)}}));return()=>{const V=!!(a.prepend||i.value),O=!!(a.title||e.title),U=!!(a.close||e.closable);return r.value&&h(e.tag,{class:Ge(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},o.value,l.value,d.value,p.value,y.value,S.value,f.value,e.class]),style:vt([u.value,m.value,g.value,e.style]),role:"alert"},{default:()=>{var Y,H;return[nu(!1,"v-alert"),e.border&&P("div",{key:"border",class:Ge(["v-alert__border",k.value]),style:vt(C.value)},null),V&&P("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?h(an,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},a.prepend):h(Vn,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),P("div",{class:"v-alert__content"},[O&&h(Qx,{key:"title"},{default:()=>{var B;return[((B=a.title)==null?void 0:B.call(a))??e.title]}}),((Y=a.text)==null?void 0:Y.call(a))??e.text,(H=a.default)==null?void 0:H.call(a)]),a.append&&P("div",{key:"append",class:"v-alert__append"},[a.append()]),U&&P("div",{key:"close",class:"v-alert__close"},[a.close?h(an,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var B;return[(B=a.close)==null?void 0:B.call(a,{props:I.value})]}}):h(wn,it({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},I.value),null)])]}})}}}),Q5=ze({start:Boolean,end:Boolean,icon:Ut,image:String,text:String,...vi(),...Ot(),...rr(),...sa(),...ss(),...nn(),...yn(),...Zi({variant:"flat"})},"VAvatar"),Xi=ot()({name:"VAvatar",props:Q5(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{borderClasses:r}=Ei(e),{colorClasses:i,colorStyles:o,variantClasses:l}=oc(e),{densityClasses:u}=Hr(e),{roundedClasses:f}=ga(e),{sizeClasses:d,sizeStyles:m}=Td(e);return dt(()=>h(e.tag,{class:Ge(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},a.value,r.value,i.value,u.value,f.value,d.value,l.value,e.class]),style:vt([o.value,m.value,e.style])},{default:()=>[n.default?h(an,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?h(Js,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?h(Vn,{key:"icon",icon:e.icon},null):e.text,nu(!1,"v-avatar")]})),{}}}),X5=ze({text:String,onClick:mr(),...Ot(),...yn()},"VLabel"),Ad=ot()({name:"VLabel",props:X5(),setup(e,t){let{slots:n}=t;return dt(()=>{var a;return P("label",{class:Ge(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:vt(e.style),onClick:e.onClick},[e.text,(a=n.default)==null?void 0:a.call(n)])}),{}}}),Xx=Symbol.for("vuetify:selection-control-group"),Fy=ze({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ut,trueIcon:Ut,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Pr},...Ot(),...rr(),...yn()},"SelectionControlGroup"),J5=ze({...Fy({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),Jx=ot()({name:"VSelectionControlGroup",props:J5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),r=ii(),i=Pe(()=>e.id||`v-selection-control-group-${r}`),o=Pe(()=>e.name||i.value),l=new Set;return ra(Xx,{modelValue:a,forceUpdate:()=>{l.forEach(u=>u())},onForceUpdate:u=>{l.add(u),Ga(()=>{l.delete(u)})}}),va({[e.defaultsTarget]:{color:Pe(()=>e.color),disabled:Pe(()=>e.disabled),density:Pe(()=>e.density),error:Pe(()=>e.error),inline:Pe(()=>e.inline),modelValue:a,multiple:Pe(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:o,falseIcon:Pe(()=>e.falseIcon),trueIcon:Pe(()=>e.trueIcon),readonly:Pe(()=>e.readonly),ripple:Pe(()=>e.ripple),type:Pe(()=>e.type),valueComparator:Pe(()=>e.valueComparator)}}),dt(()=>{var u;return P("div",{class:Ge(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:vt(e.style),role:e.type==="radio"?"radiogroup":void 0},[(u=n.default)==null?void 0:u.call(n)])}),{}}}),sv=ze({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ot(),...Fy()},"VSelectionControl");function Z5(e){const t=fn(Xx,void 0),{densityClasses:n}=Hr(e),a=Lt(e,"modelValue"),r=L(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=L(()=>e.falseValue!==void 0?e.falseValue:!1),o=L(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),l=L({get(){const g=t?t.modelValue.value:a.value;return o.value?da(g).some(y=>e.valueComparator(y,r.value)):e.valueComparator(g,r.value)},set(g){if(e.readonly)return;const y=g?r.value:i.value;let S=y;o.value&&(S=g?[...da(a.value),y]:da(a.value).filter(k=>!e.valueComparator(k,r.value))),t?t.modelValue.value=S:a.value=S}}),{textColorClasses:u,textColorStyles:f}=Tr(()=>{if(!(e.error||e.disabled))return l.value?e.color:e.baseColor}),{backgroundColorClasses:d,backgroundColorStyles:m}=Yn(()=>l.value&&!e.error&&!e.disabled?e.color:e.baseColor),p=L(()=>l.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:i,model:l,textColorClasses:u,textColorStyles:f,backgroundColorClasses:d,backgroundColorStyles:m,icon:p}}const Yl=ot()({name:"VSelectionControl",directives:{vRipple:Ur},inheritAttrs:!1,props:sv(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{group:r,densityClasses:i,icon:o,model:l,textColorClasses:u,textColorStyles:f,backgroundColorClasses:d,backgroundColorStyles:m,trueValue:p}=Z5(e),g=ii(),y=kt(!1),S=kt(!1),k=Ne(),C=Pe(()=>e.id||`input-${g}`),w=Pe(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{k.value&&(k.value.checked=l.value)});function I(Y){w.value&&(y.value=!0,sd(Y.target,":focus-visible")!==!1&&(S.value=!0))}function V(){y.value=!1,S.value=!1}function O(Y){Y.stopPropagation()}function U(Y){if(!w.value){k.value&&(k.value.checked=l.value);return}e.readonly&&r&&Qt(()=>r.forceUpdate()),l.value=Y.target.checked}return dt(()=>{var G,F;const Y=a.label?a.label({label:e.label,props:{for:C.value}}):e.label,[H,B]=Zl(n),j=P("input",it({ref:k,checked:l.value,disabled:!!e.disabled,id:C.value,onBlur:V,onFocus:I,onInput:U,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:p.value,name:e.name,"aria-checked":e.type==="checkbox"?l.value:void 0},B),null);return P("div",it({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":y.value,"v-selection-control--focus-visible":S.value,"v-selection-control--inline":e.inline},i.value,e.class]},H,{style:e.style}),[P("div",{class:Ge(["v-selection-control__wrapper",u.value]),style:vt(f.value)},[(G=a.default)==null?void 0:G.call(a,{backgroundColorClasses:d,backgroundColorStyles:m}),xn(P("div",{class:Ge(["v-selection-control__input"])},[((F=a.input)==null?void 0:F.call(a,{model:l,textColorClasses:u,textColorStyles:f,backgroundColorClasses:d,backgroundColorStyles:m,inputNode:j,icon:o.value,props:{onFocus:I,onBlur:V,id:C.value}}))??P(ht,null,[o.value&&h(Vn,{key:"icon",icon:o.value},null),j])]),[[Ur,e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),Y&&h(Ad,{for:C.value,onClick:O},{default:()=>[Y]})])}),{isFocused:y,input:k}}}),Zx=ze({indeterminate:Boolean,indeterminateIcon:{type:Ut,default:"$checkboxIndeterminate"},...sv({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Zs=ot()({name:"VCheckboxBtn",props:Zx(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"indeterminate"),r=Lt(e,"modelValue");function i(u){a.value&&(a.value=!1)}const o=Pe(()=>a.value?e.indeterminateIcon:e.falseIcon),l=Pe(()=>a.value?e.indeterminateIcon:e.trueIcon);return dt(()=>{const u=ha(Yl.filterProps(e),["modelValue"]);return h(Yl,it(u,{modelValue:r.value,"onUpdate:modelValue":[f=>r.value=f,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:l.value,"aria-checked":a.value?"mixed":void 0}),n)}),{}}});function eP(e){const{t}=_a();function n(a){let{name:r,color:i,...o}=a;const l={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],u=e[`onClick:${r}`];function f(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),Kh(u,new PointerEvent("click",m)))}const d=u&&l?t(`$vuetify.input.${l}`,e.label??""):void 0;return h(Vn,it({icon:e[`${r}Icon`],"aria-label":d,onClick:u,onKeydown:f,color:i},o),null)}return{InputIcon:n}}const e8=ze({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ot(),..._o({transition:{component:Oy,leaveAbsolute:!0,group:!0}})},"VMessages"),tP=ot()({name:"VMessages",props:e8(),setup(e,t){let{slots:n}=t;const a=L(()=>da(e.messages)),{textColorClasses:r,textColorStyles:i}=Tr(()=>e.color);return dt(()=>h(Nr,{transition:e.transition,tag:"div",class:Ge(["v-messages",r.value,e.class]),style:vt([i.value,e.style])},{default:()=>[e.active&&a.value.map((o,l)=>P("div",{class:"v-messages__message",key:`${l}-${a.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),am=ze({focused:Boolean,"onUpdate:focused":mr()},"focus");function ol(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is();const n=Lt(e,"focused"),a=Pe(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function i(){n.value=!1}return{focusClasses:a,isFocused:n,focus:r,blur:i}}const nP=Symbol.for("vuetify:form"),t8=ze({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function n8(e){const t=Lt(e,"modelValue"),n=Pe(()=>e.disabled),a=Pe(()=>e.readonly),r=kt(!1),i=Ne([]),o=Ne([]);async function l(){const d=[];let m=!0;o.value=[],r.value=!0;for(const p of i.value){const g=await p.validate();if(g.length>0&&(m=!1,d.push({id:p.id,errorMessages:g})),!m&&e.fastFail)break}return o.value=d,r.value=!1,{valid:m,errors:o.value}}function u(){i.value.forEach(d=>d.reset())}function f(){i.value.forEach(d=>d.resetValidation())}return yt(i,()=>{let d=0,m=0;const p=[];for(const g of i.value)g.isValid===!1?(m++,p.push({id:g.id,errorMessages:g.errorMessages})):g.isValid===!0&&d++;o.value=p,t.value=m>0?!1:d===i.value.length?!0:null},{deep:!0,flush:"post"}),ra(nP,{register:d=>{let{id:m,vm:p,validate:g,reset:y,resetValidation:S}=d;i.value.some(k=>k.id===m),i.value.push({id:m,validate:g,reset:y,resetValidation:S,vm:eS(p),isValid:null,errorMessages:[]})},unregister:d=>{i.value=i.value.filter(m=>m.id!==d)},update:(d,m,p)=>{const g=i.value.find(y=>y.id===d);g&&(g.isValid=m,g.errorMessages=p)},isDisabled:n,isReadonly:a,isValidating:r,isValid:t,items:i,validateOn:Pe(()=>e.validateOn)}),{errors:o,isDisabled:n,isReadonly:a,isValidating:r,isValid:t,items:i,validate:l,reset:u,resetValidation:f}}function rm(e){const t=fn(nP,null);return{...t,isReadonly:L(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:L(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const a8=Symbol.for("vuetify:rules");function r8(e){const t=fn(a8,null);return t?t(e):Pe(e)}const aP=ze({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...am()},"validation");function rP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:is(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ii();const a=Lt(e,"modelValue"),r=L(()=>e.validationValue===void 0?a.value:e.validationValue),i=rm(e),o=r8(()=>e.rules),l=Ne([]),u=kt(!0),f=L(()=>!!(da(a.value===""?null:a.value).length||da(r.value===""?null:r.value).length)),d=L(()=>{var V;return(V=e.errorMessages)!=null&&V.length?da(e.errorMessages).concat(l.value).slice(0,Math.max(0,Number(e.maxErrors))):l.value}),m=L(()=>{var U;let V=(e.validateOn??((U=i.validateOn)==null?void 0:U.value))||"input";V==="lazy"&&(V="input lazy"),V==="eager"&&(V="input eager");const O=new Set((V==null?void 0:V.split(" "))??[]);return{input:O.has("input"),blur:O.has("blur")||O.has("input")||O.has("invalid-input"),invalidInput:O.has("invalid-input"),lazy:O.has("lazy"),eager:O.has("eager")}}),p=L(()=>{var V;return e.error||(V=e.errorMessages)!=null&&V.length?!1:e.rules.length?u.value?l.value.length||m.value.lazy?null:!0:!l.value.length:!0}),g=kt(!1),y=L(()=>({[`${t}--error`]:p.value===!1,[`${t}--dirty`]:f.value,[`${t}--disabled`]:i.isDisabled.value,[`${t}--readonly`]:i.isReadonly.value})),S=Ca("validation"),k=L(()=>e.name??Ae(n));Sd(()=>{var V;(V=i.register)==null||V.call(i,{id:k.value,vm:S,validate:I,reset:C,resetValidation:w})}),vr(()=>{var V;(V=i.unregister)==null||V.call(i,k.value)}),Pn(async()=>{var V;m.value.lazy||await I(!m.value.eager),(V=i.update)==null||V.call(i,k.value,p.value,d.value)}),ai(()=>m.value.input||m.value.invalidInput&&p.value===!1,()=>{yt(r,()=>{if(r.value!=null)I();else if(e.focused){const V=yt(()=>e.focused,O=>{O||I(),V()})}})}),ai(()=>m.value.blur,()=>{yt(()=>e.focused,V=>{V||I()})}),yt([p,d],()=>{var V;(V=i.update)==null||V.call(i,k.value,p.value,d.value)});async function C(){a.value=null,await Qt(),await w()}async function w(){u.value=!0,m.value.lazy?l.value=[]:await I(!m.value.eager)}async function I(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=[];g.value=!0;for(const U of o.value){if(O.length>=Number(e.maxErrors??1))break;const H=await(typeof U=="function"?U:()=>U)(r.value);if(H!==!0){if(H!==!1&&typeof H!="string"){console.warn(`${H} is not a valid value. Rule functions must return boolean true or a string.`);continue}O.push(H||"")}}return l.value=O,g.value=!1,u.value=V,l.value}return{errorMessages:d,isDirty:f,isDisabled:i.isDisabled,isReadonly:i.isReadonly,isPristine:u,isValid:p,isValidating:g,reset:C,resetValidation:w,validate:I,validationClasses:y}}const sl=ze({id:String,appendIcon:Ut,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Ut,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":mr(),"onClick:append":mr(),...Ot(),...rr(),...Jl(Ha(),["maxWidth","minWidth","width"]),...yn(),...aP()},"VInput"),Dr=ot()({name:"VInput",props:{...sl()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a,emit:r}=t;const{densityClasses:i}=Hr(e),{dimensionStyles:o}=za(e),{themeClasses:l}=Mn(e),{rtlClasses:u}=Ua(),{InputIcon:f}=eP(e),d=ii(),m=L(()=>e.id||`input-${d}`),p=L(()=>`${m.value}-messages`),{errorMessages:g,isDirty:y,isDisabled:S,isReadonly:k,isPristine:C,isValid:w,isValidating:I,reset:V,resetValidation:O,validate:U,validationClasses:Y}=rP(e,"v-input",m),H=L(()=>({id:m,messagesId:p,isDirty:y,isDisabled:S,isReadonly:k,isPristine:C,isValid:w,isValidating:I,reset:V,resetValidation:O,validate:U})),B=Pe(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),j=Pe(()=>{if(e.iconColor)return e.iconColor===!0?B.value:e.iconColor}),G=L(()=>{var F;return(F=e.errorMessages)!=null&&F.length||!C.value&&g.value.length?g.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return dt(()=>{var ae,_e,Ee,$e;const F=!!(a.prepend||e.prependIcon),ce=!!(a.append||e.appendIcon),Z=G.value.length>0,le=!e.hideDetails||e.hideDetails==="auto"&&(Z||!!a.details);return P("div",{class:Ge(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},i.value,l.value,u.value,Y.value,e.class]),style:vt([o.value,e.style])},[F&&P("div",{key:"prepend",class:"v-input__prepend"},[(ae=a.prepend)==null?void 0:ae.call(a,H.value),e.prependIcon&&h(f,{key:"prepend-icon",name:"prepend",color:j.value},null)]),a.default&&P("div",{class:"v-input__control"},[(_e=a.default)==null?void 0:_e.call(a,H.value)]),ce&&P("div",{key:"append",class:"v-input__append"},[e.appendIcon&&h(f,{key:"append-icon",name:"append",color:j.value},null),(Ee=a.append)==null?void 0:Ee.call(a,H.value)]),le&&P("div",{id:p.value,class:"v-input__details",role:"alert","aria-live":"polite"},[h(tP,{active:Z,messages:G.value},{message:a.message}),($e=a.details)==null?void 0:$e.call(a,H.value)])])}),{reset:V,resetValidation:O,validate:U,isValid:w,errorMessages:g}}}),i8=ze({...sl(),...ha(Zx(),["inline"])},"VCheckbox"),o8=ot()({name:"VCheckbox",inheritAttrs:!1,props:i8(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Lt(e,"modelValue"),{isFocused:i,focus:o,blur:l}=ol(e),u=ii();return dt(()=>{const[f,d]=Zl(n),m=Dr.filterProps(e),p=Zs.filterProps(e);return h(Dr,it({class:["v-checkbox",e.class]},f,m,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,id:e.id||`checkbox-${u}`,focused:i.value,style:e.style}),{...a,default:g=>{let{id:y,messagesId:S,isDisabled:k,isReadonly:C,isValid:w}=g;return h(Zs,it(p,{id:y.value,"aria-describedby":S.value,disabled:k.value,readonly:C.value},d,{error:w.value===!1,modelValue:r.value,"onUpdate:modelValue":I=>r.value=I,onFocus:o,onBlur:l}),a)}})}),{}}});function s8(e){let{selectedElement:t,containerElement:n,isRtl:a,isHorizontal:r}=e;const i=Rf(r,n),o=iP(r,a,n),l=Rf(r,t),u=oP(r,t),f=l*.4;return o>u?u-f:o+i<u+l?u-i+l+f:o}function l8(e){let{selectedElement:t,containerElement:n,isHorizontal:a}=e;const r=Rf(a,n),i=oP(a,t),o=Rf(a,t);return i-r/2+o/2}function ek(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function u8(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function iP(e,t,n){if(!n)return 0;const{scrollLeft:a,offsetWidth:r,scrollWidth:i}=n;return e?t?i-r+a:a:n.scrollTop}function Rf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function oP(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const sP=Symbol.for("vuetify:v-slide-group"),$y=ze({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:sP},nextIcon:{type:Ut,default:"$next"},prevIcon:{type:Ut,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ot(),...tc({mobile:null}),...nn(),...sc({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Ff=ot()({name:"VSlideGroup",props:$y(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:a}=Ua(),{displayClasses:r,mobile:i}=Ji(e),o=au(e,e.symbol),l=kt(!1),u=kt(0),f=kt(0),d=kt(0),m=L(()=>e.direction==="horizontal"),{resizeRef:p,contentRect:g}=fo(),{resizeRef:y,contentRect:S}=fo(),k=k$(),C=L(()=>({container:p.el,duration:200,easing:"easeOutQuart"})),w=L(()=>o.selected.value.length?o.items.value.findIndex(ee=>ee.id===o.selected.value[0]):-1),I=L(()=>o.selected.value.length?o.items.value.findIndex(ee=>ee.id===o.selected.value[o.selected.value.length-1]):-1);if(On){let ee=-1;yt(()=>[o.selected.value,g.value,S.value,m.value],()=>{cancelAnimationFrame(ee),ee=requestAnimationFrame(()=>{if(g.value&&S.value){const ge=m.value?"width":"height";f.value=g.value[ge],d.value=S.value[ge],l.value=f.value+1<d.value}if(w.value>=0&&y.el){const ge=y.el.children[I.value];O(ge,e.centerActive)}})})}const V=kt(!1);function O(ee,ge){let se=0;ge?se=l8({containerElement:p.el,isHorizontal:m.value,selectedElement:ee}):se=s8({containerElement:p.el,isHorizontal:m.value,isRtl:a.value,selectedElement:ee}),U(se)}function U(ee){if(!On||!p.el)return;const ge=Rf(m.value,p.el),se=iP(m.value,a.value,p.el);if(!(ek(m.value,p.el)<=ge||Math.abs(ee-se)<16)){if(m.value&&a.value&&p.el){const{scrollWidth:Me,offsetWidth:De}=p.el;ee=Me-De-ee}m.value?k.horizontal(ee,C.value):k(ee,C.value)}}function Y(ee){const{scrollTop:ge,scrollLeft:se}=ee.target;u.value=m.value?se:ge}function H(ee){if(V.value=!0,!(!l.value||!y.el)){for(const ge of ee.composedPath())for(const se of y.el.children)if(se===ge){O(se);return}}}function B(ee){V.value=!1}let j=!1;function G(ee){var ge;!j&&!V.value&&!(ee.relatedTarget&&((ge=y.el)!=null&&ge.contains(ee.relatedTarget)))&&le(),j=!1}function F(){j=!0}function ce(ee){if(!y.el)return;function ge(se){ee.preventDefault(),le(se)}m.value?ee.key==="ArrowRight"?ge(a.value?"prev":"next"):ee.key==="ArrowLeft"&&ge(a.value?"next":"prev"):ee.key==="ArrowDown"?ge("next"):ee.key==="ArrowUp"&&ge("prev"),ee.key==="Home"?ge("first"):ee.key==="End"&&ge("last")}function Z(ee,ge){if(!ee)return;let se=ee;do se=se==null?void 0:se[ge==="next"?"nextElementSibling":"previousElementSibling"];while(se!=null&&se.hasAttribute("disabled"));return se}function le(ee){if(!y.el)return;let ge;if(!ee)ge=Pf(y.el)[0];else if(ee==="next"){if(ge=Z(y.el.querySelector(":focus"),ee),!ge)return le("first")}else if(ee==="prev"){if(ge=Z(y.el.querySelector(":focus"),ee),!ge)return le("last")}else ee==="first"?(ge=y.el.firstElementChild,ge!=null&&ge.hasAttribute("disabled")&&(ge=Z(ge,"next"))):ee==="last"&&(ge=y.el.lastElementChild,ge!=null&&ge.hasAttribute("disabled")&&(ge=Z(ge,"prev")));ge&&ge.focus({preventScroll:!0})}function ae(ee){const ge=m.value&&a.value?-1:1,se=(ee==="prev"?-ge:ge)*f.value;let ye=u.value+se;if(m.value&&a.value&&p.el){const{scrollWidth:Me,offsetWidth:De}=p.el;ye+=Me-De}U(ye)}const _e=L(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),Ee=L(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return l.value||Math.abs(u.value)>0;case"mobile":return i.value||l.value||Math.abs(u.value)>0;default:return!i.value&&(l.value||Math.abs(u.value)>0)}}),$e=L(()=>Math.abs(u.value)>1),re=L(()=>{if(!p.value)return!1;const ee=ek(m.value,p.el),ge=u8(m.value,p.el);return ee-ge-Math.abs(u.value)>1});return dt(()=>h(e.tag,{class:Ge(["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":Ee.value,"v-slide-group--is-overflowing":l.value},r.value,e.class]),style:vt(e.style),tabindex:V.value||o.selected.value.length?-1:0,onFocus:G},{default:()=>{var ee,ge,se;return[Ee.value&&P("div",{key:"prev",class:Ge(["v-slide-group__prev",{"v-slide-group__prev--disabled":!$e.value}]),onMousedown:F,onClick:()=>$e.value&&ae("prev")},[((ee=n.prev)==null?void 0:ee.call(n,_e.value))??h(Of,null,{default:()=>[h(Vn,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),P("div",{key:"container",ref:p,class:"v-slide-group__container",onScroll:Y},[P("div",{ref:y,class:"v-slide-group__content",onFocusin:H,onFocusout:B,onKeydown:ce},[(ge=n.default)==null?void 0:ge.call(n,_e.value)])]),Ee.value&&P("div",{key:"next",class:Ge(["v-slide-group__next",{"v-slide-group__next--disabled":!re.value}]),onMousedown:F,onClick:()=>re.value&&ae("next")},[((se=n.next)==null?void 0:se.call(n,_e.value))??h(Of,null,{default:()=>[h(Vn,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:ae,scrollOffset:u,focus:le,hasPrev:$e,hasNext:re}}}),lP=Symbol.for("vuetify:v-chip-group"),c8=ze({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Pr},...$y(),...Ot(),...sc({selectedClass:"v-chip--selected"}),...nn(),...yn(),...Zi({variant:"tonal"})},"VChipGroup"),d8=ot()({name:"VChipGroup",props:c8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{isSelected:r,select:i,next:o,prev:l,selected:u}=au(e,lP);return va({VChip:{baseColor:Pe(()=>e.baseColor),color:Pe(()=>e.color),disabled:Pe(()=>e.disabled),filter:Pe(()=>e.filter),variant:Pe(()=>e.variant)}}),dt(()=>{const f=Ff.filterProps(e);return h(Ff,it(f,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:r,select:i,next:o,prev:l,selected:u.value})]}})}),{}}}),f8=ze({activeClass:String,appendAvatar:String,appendIcon:Ut,baseColor:String,closable:Boolean,closeIcon:{type:Ut,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ut,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ut,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:mr(),onClickOnce:mr(),...vi(),...Ot(),...rr(),...Qa(),...lc(),...sa(),...nm(),...ss(),...nn({tag:"span"}),...yn(),...Zi({variant:"tonal"})},"VChip"),Ed=ot()({name:"VChip",directives:{vRipple:Ur},props:f8(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{t:i}=_a(),{borderClasses:o}=Ei(e),{densityClasses:l}=Hr(e),{elevationClasses:u}=_r(e),{roundedClasses:f}=ga(e),{sizeClasses:d}=Td(e),{themeClasses:m}=Mn(e),p=Lt(e,"modelValue"),g=uc(e,lP,!1),y=tm(e,n),S=Pe(()=>e.link!==!1&&y.isLink.value),k=L(()=>!e.disabled&&e.link!==!1&&(!!g||e.link||y.isClickable.value)),C=Pe(()=>({"aria-label":i(e.closeLabel),disabled:e.disabled,onClick(Y){Y.preventDefault(),Y.stopPropagation(),p.value=!1,a("click:close",Y)}})),{colorClasses:w,colorStyles:I,variantClasses:V}=oc(()=>({color:!g||g.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function O(Y){var H;a("click",Y),k.value&&((H=y.navigate)==null||H.call(y,Y),g==null||g.toggle())}function U(Y){(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),O(Y))}return()=>{var Z;const Y=y.isLink.value?"a":e.tag,H=!!(e.appendIcon||e.appendAvatar),B=!!(H||r.append),j=!!(r.close||e.closable),G=!!(r.filter||e.filter)&&g,F=!!(e.prependIcon||e.prependAvatar),ce=!!(F||r.prepend);return p.value&&xn(h(Y,it({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":k.value,"v-chip--filter":G,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((Z=y.isActive)==null?void 0:Z.value)},m.value,o.value,w.value,l.value,u.value,f.value,d.value,V.value,g==null?void 0:g.selectedClass.value,e.class],style:[I.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:k.value?0:void 0,onClick:O,onKeydown:k.value&&!S.value&&U},y.linkProps),{default:()=>{var le;return[nu(k.value,"v-chip"),G&&h(My,{key:"filter"},{default:()=>[xn(P("div",{class:"v-chip__filter"},[r.filter?h(an,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):h(Vn,{key:"filter-icon",icon:e.filterIcon},null)]),[[Aa,g.isSelected.value]])]}),ce&&P("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?h(an,{key:"prepend-defaults",disabled:!F,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):P(ht,null,[e.prependIcon&&h(Vn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&h(Xi,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),P("div",{class:"v-chip__content","data-no-activator":""},[((le=r.default)==null?void 0:le.call(r,{isSelected:g==null?void 0:g.isSelected.value,selectedClass:g==null?void 0:g.selectedClass.value,select:g==null?void 0:g.select,toggle:g==null?void 0:g.toggle,value:g==null?void 0:g.value.value,disabled:e.disabled}))??ve(e.text)]),B&&P("div",{key:"append",class:"v-chip__append"},[r.append?h(an,{key:"append-defaults",disabled:!H,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):P(ht,null,[e.appendIcon&&h(Vn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&h(Xi,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),j&&P("button",it({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},C.value),[r.close?h(an,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):h(Vn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ur,k.value&&e.ripple,null]])}}}),jp=Symbol.for("vuetify:list");function uP(){const e=fn(jp,{hasPrepend:kt(!1),updateHasPrepend:()=>null}),t={hasPrepend:kt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return ra(jp,t),e}function cP(){return fn(jp,null)}const Ly=e=>{const t={activate:n=>{let{id:a,value:r,activated:i}=n;return a=Yt(a),e&&!r&&i.size===1&&i.has(a)||(r?i.add(a):i.delete(a)),i},in:(n,a,r)=>{let i=new Set;if(n!=null)for(const o of da(n))i=t.activate({id:o,value:!0,activated:new Set(i),children:a,parents:r});return i},out:n=>Array.from(n)};return t},dP=e=>{const t=Ly(e);return{activate:a=>{let{activated:r,id:i,...o}=a;i=Yt(i);const l=r.has(i)?new Set([i]):new Set;return t.activate({...o,id:i,activated:l})},in:(a,r,i)=>{let o=new Set;if(a!=null){const l=da(a);l.length&&(o=t.in(l.slice(0,1),r,i))}return o},out:(a,r,i)=>t.out(a,r,i)}},m8=e=>{const t=Ly(e);return{activate:a=>{let{id:r,activated:i,children:o,...l}=a;return r=Yt(r),o.has(r)?i:t.activate({id:r,activated:i,children:o,...l})},in:t.in,out:t.out}},h8=e=>{const t=dP(e);return{activate:a=>{let{id:r,activated:i,children:o,...l}=a;return r=Yt(r),o.has(r)?i:t.activate({id:r,activated:i,children:o,...l})},in:t.in,out:t.out}},v8={open:e=>{let{id:t,value:n,opened:a,parents:r}=e;if(n){const i=new Set;i.add(t);let o=r.get(t);for(;o!=null;)i.add(o),o=r.get(o);return i}else return a.delete(t),a},select:()=>null},fP={open:e=>{let{id:t,value:n,opened:a,parents:r}=e;if(n){let i=r.get(t);for(a.add(t);i!=null&&i!==t;)a.add(i),i=r.get(i);return a}else a.delete(t);return a},select:()=>null},_8={open:fP.open,select:e=>{let{id:t,value:n,opened:a,parents:r}=e;if(!n)return a;const i=[];let o=r.get(t);for(;o!=null;)i.push(o),o=r.get(o);return new Set(i)}},Ny=e=>{const t={select:n=>{let{id:a,value:r,selected:i}=n;if(a=Yt(a),e&&!r){const o=Array.from(i.entries()).reduce((l,u)=>{let[f,d]=u;return d==="on"&&l.push(f),l},[]);if(o.length===1&&o[0]===a)return i}return i.set(a,r?"on":"off"),i},in:(n,a,r)=>{const i=new Map;for(const o of n||[])t.select({id:o,value:!0,selected:i,children:a,parents:r});return i},out:n=>{const a=[];for(const[r,i]of n.entries())i==="on"&&a.push(r);return a}};return t},mP=e=>{const t=Ny(e);return{select:a=>{let{selected:r,id:i,...o}=a;i=Yt(i);const l=r.has(i)?new Map([[i,r.get(i)]]):new Map;return t.select({...o,id:i,selected:l})},in:(a,r,i)=>a!=null&&a.length?t.in(a.slice(0,1),r,i):new Map,out:(a,r,i)=>t.out(a,r,i)}},p8=e=>{const t=Ny(e);return{select:a=>{let{id:r,selected:i,children:o,...l}=a;return r=Yt(r),o.has(r)?i:t.select({id:r,selected:i,children:o,...l})},in:t.in,out:t.out}},g8=e=>{const t=mP(e);return{select:a=>{let{id:r,selected:i,children:o,...l}=a;return r=Yt(r),o.has(r)?i:t.select({id:r,selected:i,children:o,...l})},in:t.in,out:t.out}},hP=e=>{const t={select:n=>{let{id:a,value:r,selected:i,children:o,parents:l}=n;a=Yt(a);const u=new Map(i),f=[a];for(;f.length;){const m=f.shift();i.set(Yt(m),r?"on":"off"),o.has(m)&&f.push(...o.get(m))}let d=Yt(l.get(a));for(;d;){const m=o.get(d),p=m.every(y=>i.get(Yt(y))==="on"),g=m.every(y=>!i.has(Yt(y))||i.get(Yt(y))==="off");i.set(d,p?"on":g?"off":"indeterminate"),d=Yt(l.get(d))}return e&&!r&&Array.from(i.entries()).reduce((p,g)=>{let[y,S]=g;return S==="on"&&p.push(y),p},[]).length===0?u:i},in:(n,a,r)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:i,children:a,parents:r});return i},out:(n,a)=>{const r=[];for(const[i,o]of n.entries())o==="on"&&!a.has(i)&&r.push(i);return r}};return t},y8=e=>{const t=hP(e);return{select:t.select,in:t.in,out:(a,r,i)=>{const o=[];for(const[l,u]of a.entries())if(u==="on"){if(i.has(l)){const f=i.get(l);if(a.get(f)==="on")continue}o.push(l)}return o}}},$f=Symbol.for("vuetify:nested"),vP={id:kt(),root:{register:()=>null,unregister:()=>null,parents:Ne(new Map),children:Ne(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ne(!1),selectable:Ne(!1),opened:Ne(new Set),activated:Ne(new Set),selected:Ne(new Map),selectedValues:Ne([]),getPath:()=>[]}},b8=ze({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),w8=e=>{let t=!1;const n=Ne(new Map),a=Ne(new Map),r=Lt(e,"opened",e.opened,y=>new Set(y),y=>[...y.values()]),i=L(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return m8(e.mandatory);case"single-leaf":return h8(e.mandatory);case"independent":return Ly(e.mandatory);case"single-independent":default:return dP(e.mandatory)}}),o=L(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return g8(e.mandatory);case"leaf":return p8(e.mandatory);case"independent":return Ny(e.mandatory);case"single-independent":return mP(e.mandatory);case"trunk":return y8(e.mandatory);case"classic":default:return hP(e.mandatory)}}),l=L(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return _8;case"single":return v8;case"multiple":default:return fP}}),u=Lt(e,"activated",e.activated,y=>i.value.in(y,n.value,a.value),y=>i.value.out(y,n.value,a.value)),f=Lt(e,"selected",e.selected,y=>o.value.in(y,n.value,a.value),y=>o.value.out(y,n.value,a.value));vr(()=>{t=!0});function d(y){const S=[];let k=y;for(;k!=null;)S.unshift(k),k=a.value.get(k);return S}const m=Ca("nested"),p=new Set,g={id:kt(),root:{opened:r,activatable:Pe(()=>e.activatable),selectable:Pe(()=>e.selectable),activated:u,selected:f,selectedValues:L(()=>{const y=[];for(const[S,k]of f.value.entries())k==="on"&&y.push(S);return y}),register:(y,S,k)=>{if(p.has(y)){d(y).map(String).join(" -> "),d(S).concat(y).map(String).join(" -> ");return}else p.add(y);S&&y!==S&&a.value.set(y,S),k&&n.value.set(y,[]),S!=null&&n.value.set(S,[...n.value.get(S)||[],y])},unregister:y=>{if(t)return;p.delete(y),n.value.delete(y);const S=a.value.get(y);if(S){const k=n.value.get(S)??[];n.value.set(S,k.filter(C=>C!==y))}a.value.delete(y)},open:(y,S,k)=>{m.emit("click:open",{id:y,value:S,path:d(y),event:k});const C=l.value.open({id:y,value:S,opened:new Set(r.value),children:n.value,parents:a.value,event:k});C&&(r.value=C)},openOnSelect:(y,S,k)=>{const C=l.value.select({id:y,value:S,selected:new Map(f.value),opened:new Set(r.value),children:n.value,parents:a.value,event:k});C&&(r.value=C)},select:(y,S,k)=>{m.emit("click:select",{id:y,value:S,path:d(y),event:k});const C=o.value.select({id:y,value:S,selected:new Map(f.value),children:n.value,parents:a.value,event:k});C&&(f.value=C),g.root.openOnSelect(y,S,k)},activate:(y,S,k)=>{if(!e.activatable)return g.root.select(y,!0,k);m.emit("click:activate",{id:y,value:S,path:d(y),event:k});const C=i.value.activate({id:y,value:S,activated:new Set(u.value),children:n.value,parents:a.value,event:k});if(C.size!==u.value.size)u.value=C;else{for(const w of C)if(!u.value.has(w)){u.value=C;return}for(const w of u.value)if(!C.has(w)){u.value=C;return}}},children:n,parents:a,getPath:d}};return ra($f,g),g.root},_P=(e,t)=>{const n=fn($f,vP),a=Symbol("nested item"),r=L(()=>Jo(e)??a),i={...n,id:r,open:(o,l)=>n.root.open(r.value,o,l),openOnSelect:(o,l)=>n.root.openOnSelect(r.value,o,l),isOpen:L(()=>n.root.opened.value.has(r.value)),parent:L(()=>n.root.parents.value.get(r.value)),activate:(o,l)=>n.root.activate(r.value,o,l),isActivated:L(()=>n.root.activated.value.has(Yt(r.value))),select:(o,l)=>n.root.select(r.value,o,l),isSelected:L(()=>n.root.selected.value.get(Yt(r.value))==="on"),isIndeterminate:L(()=>n.root.selected.value.get(Yt(r.value))==="indeterminate"),isLeaf:L(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return Sd(()=>{!n.isGroupActivator&&n.root.register(r.value,n.id.value,t)}),vr(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&ra($f,i),i},k8=()=>{const e=fn($f,vP);ra($f,{...e,isGroupActivator:!0})},S8=Ii({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return k8(),()=>{var a;return(a=n.default)==null?void 0:a.call(n)}}}),C8=ze({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ut,default:"$collapse"},expandIcon:{type:Ut,default:"$expand"},rawId:[String,Number],prependIcon:Ut,appendIcon:Ut,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ot(),...nn()},"VListGroup"),Yp=ot()({name:"VListGroup",props:C8(),setup(e,t){let{slots:n}=t;const{isOpen:a,open:r,id:i}=_P(()=>e.value,!0),o=L(()=>`v-list-group--id-${String(e.rawId??i.value)}`),l=cP(),{isBooted:u}=ic();function f(g){var y;["INPUT","TEXTAREA"].includes((y=g.target)==null?void 0:y.tagName)||r(!a.value,g)}const d=L(()=>({onClick:f,class:"v-list-group__header",id:o.value})),m=L(()=>a.value?e.collapseIcon:e.expandIcon),p=L(()=>({VListItem:{active:a.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&m.value,appendIcon:e.appendIcon||!e.subgroup&&m.value,title:e.title,value:e.value}}));return dt(()=>h(e.tag,{class:Ge(["v-list-group",{"v-list-group--prepend":l==null?void 0:l.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value},e.class]),style:vt(e.style)},{default:()=>[n.activator&&h(an,{defaults:p.value},{default:()=>[h(S8,null,{default:()=>[n.activator({props:d.value,isOpen:a.value})]})]}),h(Nr,{transition:{component:av},disabled:!u.value},{default:()=>{var g;return[xn(P("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(g=n.default)==null?void 0:g.call(n)]),[[Aa,a.value]])]}})]})),{isOpen:a}}}),x8=ze({opacity:[Number,String],...Ot(),...nn()},"VListItemSubtitle"),pP=ot()({name:"VListItemSubtitle",props:x8(),setup(e,t){let{slots:n}=t;return dt(()=>h(e.tag,{class:Ge(["v-list-item-subtitle",e.class]),style:vt([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},n)),{}}}),gP=os("v-list-item-title"),P8=ze({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ut,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ut,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:mr(),onClickOnce:mr(),...vi(),...Ot(),...rr(),...Ha(),...Qa(),...sa(),...nm(),...nn(),...yn(),...Zi({variant:"text"})},"VListItem"),el=ot()({name:"VListItem",directives:{vRipple:Ur},props:P8(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:a,emit:r}=t;const i=tm(e,n),o=L(()=>e.value===void 0?i.href.value:e.value),{activate:l,isActivated:u,select:f,isOpen:d,isSelected:m,isIndeterminate:p,isGroupActivator:g,root:y,parent:S,openOnSelect:k,id:C}=_P(o,!1),w=cP(),I=L(()=>{var ye;return e.active!==!1&&(e.active||((ye=i.isActive)==null?void 0:ye.value)||(y.activatable.value?u.value:m.value))}),V=Pe(()=>e.link!==!1&&i.isLink.value),O=L(()=>!!w&&(y.selectable.value||y.activatable.value||e.value!=null)),U=L(()=>!e.disabled&&e.link!==!1&&(e.link||i.isClickable.value||O.value)),Y=Pe(()=>e.rounded||e.nav),H=Pe(()=>e.color??e.activeColor),B=Pe(()=>({color:I.value?H.value??e.baseColor:e.baseColor,variant:e.variant}));yt(()=>{var ye;return(ye=i.isActive)==null?void 0:ye.value},ye=>{ye&&j()}),Sd(()=>{var ye;(ye=i.isActive)!=null&&ye.value&&j()});function j(){S.value!=null&&y.open(S.value,!0),k(!0)}const{themeClasses:G}=Mn(e),{borderClasses:F}=Ei(e),{colorClasses:ce,colorStyles:Z,variantClasses:le}=oc(B),{densityClasses:ae}=Hr(e),{dimensionStyles:_e}=za(e),{elevationClasses:Ee}=_r(e),{roundedClasses:$e}=ga(Y),re=Pe(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),ee=L(()=>({isActive:I.value,select:f,isOpen:d.value,isSelected:m.value,isIndeterminate:p.value}));function ge(ye){var Me,De;r("click",ye),!["INPUT","TEXTAREA"].includes((Me=ye.target)==null?void 0:Me.tagName)&&U.value&&((De=i.navigate)==null||De.call(i,ye),!g&&(y.activatable.value?l(!u.value,ye):(y.selectable.value||e.value!=null)&&f(!m.value,ye)))}function se(ye){const Me=ye.target;["INPUT","TEXTAREA"].includes(Me.tagName)||(ye.key==="Enter"||ye.key===" ")&&(ye.preventDefault(),ye.target.dispatchEvent(new MouseEvent("click",ye)))}return dt(()=>{const ye=V.value?"a":e.tag,Me=a.title||e.title!=null,De=a.subtitle||e.subtitle!=null,R=!!(e.appendAvatar||e.appendIcon),Oe=!!(R||a.append),He=!!(e.prependAvatar||e.prependIcon),at=!!(He||a.prepend);return w==null||w.updateHasPrepend(at),e.activeColor&&iF("active-color",["color","base-color"]),xn(h(ye,it({class:["v-list-item",{"v-list-item--active":I.value,"v-list-item--disabled":e.disabled,"v-list-item--link":U.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!at&&(w==null?void 0:w.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&I.value},G.value,F.value,ce.value,ae.value,Ee.value,re.value,$e.value,le.value,e.class],style:[Z.value,_e.value,e.style],tabindex:U.value?w?-2:0:void 0,"aria-selected":O.value?y.activatable.value?u.value:y.selectable.value?m.value:I.value:void 0,onClick:ge,onKeydown:U.value&&!V.value&&se},i.linkProps),{default:()=>{var Be;return[nu(U.value||I.value,"v-list-item"),at&&P("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?h(an,{key:"prepend-defaults",disabled:!He,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var N;return[(N=a.prepend)==null?void 0:N.call(a,ee.value)]}}):P(ht,null,[e.prependAvatar&&h(Xi,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Vn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),P("div",{class:"v-list-item__spacer"},null)]),P("div",{class:"v-list-item__content","data-no-activator":""},[Me&&h(gP,{key:"title"},{default:()=>{var N;return[((N=a.title)==null?void 0:N.call(a,{title:e.title}))??ve(e.title)]}}),De&&h(pP,{key:"subtitle"},{default:()=>{var N;return[((N=a.subtitle)==null?void 0:N.call(a,{subtitle:e.subtitle}))??ve(e.subtitle)]}}),(Be=a.default)==null?void 0:Be.call(a,ee.value)]),Oe&&P("div",{key:"append",class:"v-list-item__append"},[a.append?h(an,{key:"append-defaults",disabled:!R,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var N;return[(N=a.append)==null?void 0:N.call(a,ee.value)]}}):P(ht,null,[e.appendIcon&&h(Vn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(Xi,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),P("div",{class:"v-list-item__spacer"},null)])]}}),[[Ur,U.value&&e.ripple]])}),{activate:l,isActivated:u,isGroupActivator:g,isSelected:m,list:w,select:f,root:y,id:C,link:i}}}),T8=ze({color:String,inset:Boolean,sticky:Boolean,title:String,...Ot(),...nn()},"VListSubheader"),yP=ot()({name:"VListSubheader",props:T8(),setup(e,t){let{slots:n}=t;const{textColorClasses:a,textColorStyles:r}=Tr(()=>e.color);return dt(()=>{const i=!!(n.default||e.title);return h(e.tag,{class:Ge(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value,e.class]),style:vt([{textColorStyles:r},e.style])},{default:()=>{var o;return[i&&P("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),D8=ze({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ot(),...yn()},"VDivider"),Ws=ot()({name:"VDivider",props:D8(),setup(e,t){let{attrs:n,slots:a}=t;const{themeClasses:r}=Mn(e),{textColorClasses:i,textColorStyles:o}=Tr(()=>e.color),l=L(()=>{const u={};return e.length&&(u[e.vertical?"height":"width"]=Vt(e.length)),e.thickness&&(u[e.vertical?"borderRightWidth":"borderTopWidth"]=Vt(e.thickness)),u});return dt(()=>{const u=P("hr",{class:Ge([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,i.value,e.class]),style:vt([l.value,o.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return a.default?P("div",{class:Ge(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[u,P("div",{class:"v-divider__content"},[a.default()]),u]):u}),{}}}),I8=ze({items:Array,returnObject:Boolean},"VListChildren"),bP=ot()({name:"VListChildren",props:I8(),setup(e,t){let{slots:n}=t;return uP(),()=>{var a,r;return((a=n.default)==null?void 0:a.call(n))??((r=e.items)==null?void 0:r.map(i=>{var p,g;let{children:o,props:l,type:u,raw:f}=i;if(u==="divider")return((p=n.divider)==null?void 0:p.call(n,{props:l}))??h(Ws,l,null);if(u==="subheader")return((g=n.subheader)==null?void 0:g.call(n,{props:l}))??h(yP,l,null);const d={subtitle:n.subtitle?y=>{var S;return(S=n.subtitle)==null?void 0:S.call(n,{...y,item:f})}:void 0,prepend:n.prepend?y=>{var S;return(S=n.prepend)==null?void 0:S.call(n,{...y,item:f})}:void 0,append:n.append?y=>{var S;return(S=n.append)==null?void 0:S.call(n,{...y,item:f})}:void 0,title:n.title?y=>{var S;return(S=n.title)==null?void 0:S.call(n,{...y,item:f})}:void 0},m=Yp.filterProps(l);return o?h(Yp,it(m,{value:e.returnObject?f:l==null?void 0:l.value,rawId:l==null?void 0:l.value}),{activator:y=>{let{props:S}=y;const k={...l,...S,value:e.returnObject?f:l.value};return n.header?n.header({props:k}):h(el,k,d)},default:()=>h(bP,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:l}):h(el,it(l,{value:e.returnObject?f:l.value}),d)}))}}}),wP=ze({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function Ll(e,t){const n=La(t,e.itemTitle,t),a=La(t,e.itemValue,n),r=La(t,e.itemChildren),i=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?ha(t,["children"]):t:void 0:La(t,e.itemProps),o={title:n,value:a,...i};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?kP(e,r):void 0,raw:t}}function kP(e,t){const n=Jl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),a=[];for(const r of t)a.push(Ll(n,r));return a}function qy(e){const t=L(()=>kP(e,e.items)),n=L(()=>t.value.some(l=>l.value===null)),a=kt(new Map),r=kt([]);fa(()=>{const l=t.value,u=new Map,f=[];for(let d=0;d<l.length;d++){const m=l[d];if(dC(m.value)||m.value===null){let p=u.get(m.value);p||(p=[],u.set(m.value,p)),p.push(m)}else f.push(m)}a.value=u,r.value=f});function i(l){const u=a.value,f=t.value,d=r.value,m=n.value,p=e.returnObject,g=!!e.valueComparator,y=e.valueComparator||Pr,S=Jl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),k=[];e:for(const C of l){if(!m&&C===null)continue;if(p&&typeof C=="string"){k.push(Ll(S,C));continue}const w=u.get(C);if(g||!w){for(const I of g?f:d)if(y(C,I.value)){k.push(I);continue e}k.push(Ll(S,C));continue}k.push(...w)}return k}function o(l){return e.returnObject?l.map(u=>{let{raw:f}=u;return f}):l.map(u=>{let{value:f}=u;return f})}return{items:t,transformIn:i,transformOut:o}}function A8(e,t){const n=La(t,e.itemType,"item"),a=dC(t)?t:La(t,e.itemTitle),r=La(t,e.itemValue,void 0),i=La(t,e.itemChildren),o=e.itemProps===!0?ha(t,["children"]):La(t,e.itemProps),l={title:a,value:r,...o};return{type:n,title:l.title,value:l.value,props:l,children:n==="item"&&i?SP(e,i):void 0,raw:t}}function SP(e,t){const n=[];for(const a of t)n.push(A8(e,a));return n}function E8(e){return{items:L(()=>SP(e,e.items))}}const V8=ze({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Ut,collapseIcon:Ut,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":mr(),"onClick:select":mr(),"onUpdate:opened":mr(),...b8({selectStrategy:"single-leaf",openStrategy:"list"}),...vi(),...Ot(),...rr(),...Ha(),...Qa(),itemType:{type:String,default:"type"},...wP(),...sa(),...nn(),...yn(),...Zi({variant:"text"})},"VList"),lv=ot()({name:"VList",props:V8(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:a}=E8(e),{themeClasses:r}=Mn(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Yn(()=>e.bgColor),{borderClasses:l}=Ei(e),{densityClasses:u}=Hr(e),{dimensionStyles:f}=za(e),{elevationClasses:d}=_r(e),{roundedClasses:m}=ga(e),{children:p,open:g,parents:y,select:S,getPath:k}=w8(e),C=Pe(()=>e.lines?`v-list--${e.lines}-line`:void 0),w=Pe(()=>e.activeColor),I=Pe(()=>e.baseColor),V=Pe(()=>e.color);uP(),va({VListGroup:{activeColor:w,baseColor:I,color:V,expandIcon:Pe(()=>e.expandIcon),collapseIcon:Pe(()=>e.collapseIcon)},VListItem:{activeClass:Pe(()=>e.activeClass),activeColor:w,baseColor:I,color:V,density:Pe(()=>e.density),disabled:Pe(()=>e.disabled),lines:Pe(()=>e.lines),nav:Pe(()=>e.nav),slim:Pe(()=>e.slim),variant:Pe(()=>e.variant)}});const O=kt(!1),U=Ne();function Y(ce){O.value=!0}function H(ce){O.value=!1}function B(ce){var Z;!O.value&&!(ce.relatedTarget&&((Z=U.value)!=null&&Z.contains(ce.relatedTarget)))&&F()}function j(ce){const Z=ce.target;if(!(!U.value||["INPUT","TEXTAREA"].includes(Z.tagName))){if(ce.key==="ArrowDown")F("next");else if(ce.key==="ArrowUp")F("prev");else if(ce.key==="Home")F("first");else if(ce.key==="End")F("last");else return;ce.preventDefault()}}function G(ce){O.value=!0}function F(ce){if(U.value)return qu(U.value,ce)}return dt(()=>h(e.tag,{ref:U,class:Ge(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,i.value,l.value,u.value,d.value,C.value,m.value,e.class]),style:vt([o.value,f.value,e.style]),tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Y,onFocusout:H,onFocus:B,onKeydown:j,onMousedown:G},{default:()=>[h(bP,{items:a.value,returnObject:e.returnObject},n)]})),{open:g,select:S,focus:F,children:p,parents:y,getPath:k}}}),O8=os("v-list-img"),M8=ze({start:Boolean,end:Boolean,...Ot(),...nn()},"VListItemAction"),B8=ot()({name:"VListItemAction",props:M8(),setup(e,t){let{slots:n}=t;return dt(()=>h(e.tag,{class:Ge(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:vt(e.style)},n)),{}}}),R8=ze({start:Boolean,end:Boolean,...Ot(),...nn()},"VListItemMedia"),F8=ot()({name:"VListItemMedia",props:R8(),setup(e,t){let{slots:n}=t;return dt(()=>h(e.tag,{class:Ge(["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class]),style:vt(e.style)},n)),{}}});function X_(e,t){return{x:e.x+t.x,y:e.y+t.y}}function $8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tk(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:a}=e,r=a==="left"?0:a==="center"?t.width/2:a==="right"?t.width:a,i=n==="top"?0:n==="bottom"?t.height:n;return X_({x:r,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:a}=e,r=n==="left"?0:n==="right"?t.width:n,i=a==="top"?0:a==="center"?t.height/2:a==="bottom"?t.height:a;return X_({x:r,y:i},t)}return X_({x:t.width/2,y:t.height/2},t)}const CP={static:q8,connected:H8},L8=ze({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in CP},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function N8(e,t){const n=Ne({}),a=Ne();On&&ai(()=>!!(t.isActive.value&&e.locationStrategy),l=>{var u,f;yt(()=>e.locationStrategy,l),Ga(()=>{window.removeEventListener("resize",r),visualViewport==null||visualViewport.removeEventListener("resize",i),visualViewport==null||visualViewport.removeEventListener("scroll",o),a.value=void 0}),window.addEventListener("resize",r,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",i,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",o,{passive:!0}),typeof e.locationStrategy=="function"?a.value=(u=e.locationStrategy(t,e,n))==null?void 0:u.updateLocation:a.value=(f=CP[e.locationStrategy](t,e,n))==null?void 0:f.updateLocation});function r(l){var u;(u=a.value)==null||u.call(a,l)}function i(l){var u;(u=a.value)==null||u.call(a,l)}function o(l){var u;(u=a.value)==null||u.call(a,l)}return{contentStyles:n,updateLocation:a}}function q8(){}function U8(e,t){const n=ny(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function H8(e,t,n){(Array.isArray(e.target.value)||TF(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:i}=ty(()=>{const C=kp(t.location,e.isRtl.value),w=t.origin==="overlap"?C:t.origin==="auto"?O_(C):kp(t.origin,e.isRtl.value);return C.side===w.side&&C.align===M_(w).align?{preferredAnchor:e1(C),preferredOrigin:e1(w)}:{preferredAnchor:C,preferredOrigin:w}}),[o,l,u,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(C=>L(()=>{const w=parseFloat(t[C]);return isNaN(w)?1/0:w})),d=L(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const C=t.offset.split(" ").map(parseFloat);return C.length<2&&C.push(0),C}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let m=!1,p=-1;const g=new sC(4),y=new ResizeObserver(()=>{if(!m)return;if(requestAnimationFrame(w=>{w!==p&&g.clear(),requestAnimationFrame(I=>{p=I})}),g.isFull){const w=g.values();if(Pr(w.at(-1),w.at(-3)))return}const C=k();C&&g.push(C.flipped)});yt([e.target,e.contentEl],(C,w)=>{let[I,V]=C,[O,U]=w;O&&!Array.isArray(O)&&y.unobserve(O),I&&!Array.isArray(I)&&y.observe(I),U&&y.unobserve(U),V&&y.observe(V)},{immediate:!0}),Ga(()=>{y.disconnect()});let S=new Qo({x:0,y:0,width:0,height:0});function k(){if(m=!1,requestAnimationFrame(()=>m=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(S=mC(e.target.value));const C=U8(e.contentEl.value,e.isRtl.value),w=Ch(e.contentEl.value),I=12;w.length||(w.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(C.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),C.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const V=w.reduce((ce,Z)=>{const le=GR(Z);return ce?new Qo({x:Math.max(ce.left,le.left),y:Math.max(ce.top,le.top),width:Math.min(ce.right,le.right)-Math.max(ce.left,le.left),height:Math.min(ce.bottom,le.bottom)-Math.max(ce.top,le.top)}):le},void 0);V.x+=I,V.y+=I,V.width-=I*2,V.height-=I*2;let O={anchor:r.value,origin:i.value};function U(ce){const Z=new Qo(C),le=tk(ce.anchor,S),ae=tk(ce.origin,Z);let{x:_e,y:Ee}=$8(le,ae);switch(ce.anchor.side){case"top":Ee-=d.value[0];break;case"bottom":Ee+=d.value[0];break;case"left":_e-=d.value[0];break;case"right":_e+=d.value[0];break}switch(ce.anchor.align){case"top":Ee-=d.value[1];break;case"bottom":Ee+=d.value[1];break;case"left":_e-=d.value[1];break;case"right":_e+=d.value[1];break}return Z.x+=_e,Z.y+=Ee,Z.width=Math.min(Z.width,u.value),Z.height=Math.min(Z.height,f.value),{overflows:n1(Z,V),x:_e,y:Ee}}let Y=0,H=0;const B={x:0,y:0},j={x:!1,y:!1};let G=-1;for(;!(G++>10);){const{x:ce,y:Z,overflows:le}=U(O);Y+=ce,H+=Z,C.x+=ce,C.y+=Z;{const ae=t1(O.anchor),_e=le.x.before||le.x.after,Ee=le.y.before||le.y.after;let $e=!1;if(["x","y"].forEach(re=>{if(re==="x"&&_e&&!j.x||re==="y"&&Ee&&!j.y){const ee={anchor:{...O.anchor},origin:{...O.origin}},ge=re==="x"?ae==="y"?M_:O_:ae==="y"?O_:M_;ee.anchor=ge(ee.anchor),ee.origin=ge(ee.origin);const{overflows:se}=U(ee);(se[re].before<=le[re].before&&se[re].after<=le[re].after||se[re].before+se[re].after<(le[re].before+le[re].after)/2)&&(O=ee,$e=j[re]=!0)}}),$e)continue}le.x.before&&(Y+=le.x.before,C.x+=le.x.before),le.x.after&&(Y-=le.x.after,C.x-=le.x.after),le.y.before&&(H+=le.y.before,C.y+=le.y.before),le.y.after&&(H-=le.y.after,C.y-=le.y.after);{const ae=n1(C,V);B.x=V.width-ae.x.before-ae.x.after,B.y=V.height-ae.y.before-ae.y.after,Y+=ae.x.before,C.x+=ae.x.before,H+=ae.y.before,C.y+=ae.y.before}break}const F=t1(O.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${O.anchor.side} ${O.anchor.align}`,transformOrigin:`${O.origin.side} ${O.origin.align}`,top:Vt(J_(H)),left:e.isRtl.value?void 0:Vt(J_(Y)),right:e.isRtl.value?Vt(J_(-Y)):void 0,minWidth:Vt(F==="y"?Math.min(o.value,S.width):o.value),maxWidth:Vt(nk(Xn(B.x,o.value===1/0?0:o.value,u.value))),maxHeight:Vt(nk(Xn(B.y,l.value===1/0?0:l.value,f.value)))}),{available:B,contentBox:C,flipped:j}}return yt(()=>[r.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>k()),Qt(()=>{const C=k();if(!C)return;const{available:w,contentBox:I}=C;I.height>w.y&&requestAnimationFrame(()=>{k(),requestAnimationFrame(()=>{k()})})}),{updateLocation:k}}function J_(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function nk(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Kp=!0;const Eh=[];function z8(e){!Kp||Eh.length?(Eh.push(e),Gp()):(Kp=!1,e(),Gp())}let ak=-1;function Gp(){cancelAnimationFrame(ak),ak=requestAnimationFrame(()=>{const e=Eh.shift();e&&e(),Eh.length?Gp():Kp=!0})}const ih={none:null,close:Y8,block:K8,reposition:G8},W8=ze({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ih}},"VOverlay-scroll-strategies");function j8(e,t){if(!On)return;let n;fa(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=rd(),await new Promise(a=>setTimeout(a)),n.active&&n.run(()=>{var a;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(a=ih[e.scrollStrategy])==null||a.call(ih,t,e,n)}))}),Ga(()=>{n==null||n.stop()})}function Y8(e){function t(n){e.isActive.value=!1}xP(e.targetEl.value??e.contentEl.value,t)}function K8(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,a=[...new Set([...Ch(e.targetEl.value,t.contained?n:void 0),...Ch(e.contentEl.value,t.contained?n:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,i=(l=>sy(l)&&l)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((l,u)=>{l.style.setProperty("--v-body-scroll-x",Vt(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",Vt(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",Vt(r)),l.classList.add("v-overlay-scroll-blocked")}),Ga(()=>{a.forEach((l,u)=>{const f=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),m=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-f,l.scrollTop=-d,l.style.scrollBehavior=m}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function G8(e,t,n){let a=!1,r=-1,i=-1;function o(l){z8(()=>{var d,m;const u=performance.now();(m=(d=e.updateLocation).value)==null||m.call(d,l),a=(performance.now()-u)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{n.run(()=>{xP(e.targetEl.value??e.contentEl.value,l=>{a?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(l)})})):o(l)})})}),Ga(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(r)})}function xP(e,t){const n=[document,...Ch(e)];n.forEach(a=>{a.addEventListener("scroll",t,{passive:!0})}),Ga(()=>{n.forEach(a=>{a.removeEventListener("scroll",t)})})}const Qp=Symbol.for("vuetify:v-menu"),Uy=ze({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Hy(e,t){let n=()=>{};function a(o){n==null||n();const l=Number(o?e.openDelay:e.closeDelay);return new Promise(u=>{n=HR(l,()=>{t==null||t(o),u(o)})})}function r(){return a(!0)}function i(){return a(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:i}}const Q8=ze({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Uy()},"VOverlay-activator");function X8(e,t){let{isActive:n,isTop:a,contentEl:r}=t;const i=Ca("useActivator"),o=Ne();let l=!1,u=!1,f=!0;const d=L(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),m=L(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:p,runCloseDelay:g}=Hy(e,H=>{H===(e.openOnHover&&l||d.value&&u)&&!(e.openOnHover&&n.value&&!a.value)&&(n.value!==H&&(f=!0),n.value=H)}),y=Ne(),S={onClick:H=>{H.stopPropagation(),o.value=H.currentTarget||H.target,n.value||(y.value=[H.clientX,H.clientY]),n.value=!n.value},onMouseenter:H=>{var B;(B=H.sourceCapabilities)!=null&&B.firesTouchEvents||(l=!0,o.value=H.currentTarget||H.target,p())},onMouseleave:H=>{l=!1,g()},onFocus:H=>{sd(H.target,":focus-visible")!==!1&&(u=!0,H.stopPropagation(),o.value=H.currentTarget||H.target,p())},onBlur:H=>{u=!1,H.stopPropagation(),g()}},k=L(()=>{const H={};return m.value&&(H.onClick=S.onClick),e.openOnHover&&(H.onMouseenter=S.onMouseenter,H.onMouseleave=S.onMouseleave),d.value&&(H.onFocus=S.onFocus,H.onBlur=S.onBlur),H}),C=L(()=>{const H={};if(e.openOnHover&&(H.onMouseenter=()=>{l=!0,p()},H.onMouseleave=()=>{l=!1,g()}),d.value&&(H.onFocusin=()=>{u=!0,p()},H.onFocusout=()=>{u=!1,g()}),e.closeOnContentClick){const B=fn(Qp,null);H.onClick=()=>{n.value=!1,B==null||B.closeParents()}}return H}),w=L(()=>{const H={};return e.openOnHover&&(H.onMouseenter=()=>{f&&(l=!0,f=!1,p())},H.onMouseleave=()=>{l=!1,g()}),H});yt(a,H=>{var B;H&&(e.openOnHover&&!l&&(!d.value||!u)||d.value&&!u&&(!e.openOnHover||!l))&&!((B=r.value)!=null&&B.contains(document.activeElement))&&(n.value=!1)}),yt(n,H=>{H||setTimeout(()=>{y.value=void 0})},{flush:"post"});const I=kh();fa(()=>{I.value&&Qt(()=>{o.value=I.el})});const V=kh(),O=L(()=>e.target==="cursor"&&y.value?y.value:V.value?V.el:PP(e.target,i)||o.value),U=L(()=>Array.isArray(O.value)?void 0:O.value);let Y;return yt(()=>!!e.activator,H=>{H&&On?(Y=rd(),Y.run(()=>{J8(e,i,{activatorEl:o,activatorEvents:k})})):Y&&Y.stop()},{flush:"post",immediate:!0}),Ga(()=>{Y==null||Y.stop()}),{activatorEl:o,activatorRef:I,target:O,targetEl:U,targetRef:V,activatorEvents:k,contentEvents:C,scrimEvents:w}}function J8(e,t,n){let{activatorEl:a,activatorEvents:r}=n;yt(()=>e.activator,(u,f)=>{if(f&&u!==f){const d=l(f);d&&o(d)}u&&Qt(()=>i())},{immediate:!0}),yt(()=>e.activatorProps,()=>{i()}),Ga(()=>{o()});function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&QR(u,it(r.value,f))}function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&XR(u,it(r.value,f))}function l(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const f=PP(u,t);return a.value=(f==null?void 0:f.nodeType)===Node.ELEMENT_NODE?f:void 0,a.value}}function PP(e,t){var a,r;if(!e)return;let n;if(e==="parent"){let i=(r=(a=t==null?void 0:t.proxy)==null?void 0:a.$el)==null?void 0:r.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function TP(){if(!On)return kt(!1);const{ssr:e}=Ji();if(e){const t=kt(!1);return Pn(()=>{t.value=!0}),t}else return kt(!0)}const zy=ze({eager:Boolean},"lazy");function Wy(e,t){const n=kt(!1),a=Pe(()=>n.value||e.eager||t.value);yt(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:a,onAfterLeave:r}}function dc(){const t=Ca("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const rk=Symbol.for("vuetify:stack"),af=Ia([]);function Z8(e,t,n){const a=Ca("useStack"),r=!n,i=fn(rk,void 0),o=Ia({activeChildren:new Set});ra(rk,o);const l=kt(Number(Jo(t)));ai(e,()=>{var m;const d=(m=af.at(-1))==null?void 0:m[1];l.value=d?d+10:Number(Jo(t)),r&&af.push([a.uid,l.value]),i==null||i.activeChildren.add(a.uid),Ga(()=>{if(r){const p=Yt(af).findIndex(g=>g[0]===a.uid);af.splice(p,1)}i==null||i.activeChildren.delete(a.uid)})});const u=kt(!0);r&&fa(()=>{var m;const d=((m=af.at(-1))==null?void 0:m[0])===a.uid;setTimeout(()=>u.value=d)});const f=Pe(()=>!o.activeChildren.size);return{globalTop:wd(u),localTop:f,stackStyles:Pe(()=>({zIndex:l.value}))}}function e6(e){return{teleportTarget:L(()=>{const n=e();if(n===!0||!On)return;const a=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(a==null)return;let r=[...a.children].find(i=>i.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",a.appendChild(r)),r})}}function t6(){return!0}function DP(e,t,n){if(!e||IP(e,n)===!1)return!1;const a=SC(t);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(i=>i==null?void 0:i.contains(e.target))}function IP(e,t){return(typeof t.value=="object"&&t.value.closeConditional||t6)(e)}function n6(e,t,n){const a=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&DP(e,t,n)&&setTimeout(()=>{IP(e,n)&&a&&a(e)},0)}function ik(e,t){const n=SC(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const Xp={mounted(e,t){const n=r=>n6(r,e,t),a=r=>{e._clickOutside.lastMousedownWasOutside=DP(r,e,t)};ik(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:a}},beforeUnmount(e,t){e._clickOutside&&(ik(e,n=>{var i;if(!n||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:a,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",a,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function a6(e){const{modelValue:t,color:n,...a}=e;return h(hi,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&P("div",it({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const im=ze({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Q8(),...Ot(),...Ha(),...zy(),...L8(),...W8(),...yn(),..._o()},"VOverlay"),ts=ot()({name:"VOverlay",directives:{vClickOutside:Xp},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...im()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:a,emit:r}=t;const i=Ca("VOverlay"),o=Ne(),l=Ne(),u=Ne(),f=Lt(e,"modelValue"),d=L({get:()=>f.value,set:R=>{R&&e.disabled||(f.value=R)}}),{themeClasses:m}=Mn(e),{rtlClasses:p,isRtl:g}=Ua(),{hasContent:y,onAfterLeave:S}=Wy(e,d),k=Yn(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:C,localTop:w,stackStyles:I}=Z8(d,()=>e.zIndex,e._disableGlobalStack),{activatorEl:V,activatorRef:O,target:U,targetEl:Y,targetRef:H,activatorEvents:B,contentEvents:j,scrimEvents:G}=X8(e,{isActive:d,isTop:w,contentEl:u}),{teleportTarget:F}=e6(()=>{var He,at,Be;const R=e.attach||e.contained;if(R)return R;const Oe=((He=V==null?void 0:V.value)==null?void 0:He.getRootNode())||((Be=(at=i.proxy)==null?void 0:at.$el)==null?void 0:Be.getRootNode());return Oe instanceof ShadowRoot?Oe:!1}),{dimensionStyles:ce}=za(e),Z=TP(),{scopeId:le}=dc();yt(()=>e.disabled,R=>{R&&(d.value=!1)});const{contentStyles:ae,updateLocation:_e}=N8(e,{isRtl:g,contentEl:u,target:U,isActive:d});j8(e,{root:o,contentEl:u,targetEl:Y,isActive:d,updateLocation:_e});function Ee(R){r("click:outside",R),e.persistent?ye():d.value=!1}function $e(R){return d.value&&C.value&&(!e.scrim||R.target===l.value||R instanceof MouseEvent&&R.shadowTarget===l.value)}On&&yt(d,R=>{R?window.addEventListener("keydown",re):window.removeEventListener("keydown",re)},{immediate:!0}),vr(()=>{On&&window.removeEventListener("keydown",re)});function re(R){var Oe,He,at;R.key==="Escape"&&C.value&&((Oe=u.value)!=null&&Oe.contains(document.activeElement)||r("keydown",R),e.persistent?ye():(d.value=!1,(He=u.value)!=null&&He.contains(document.activeElement)&&((at=V.value)==null||at.focus())))}function ee(R){R.key==="Escape"&&!C.value||r("keydown",R)}const ge=qx();ai(()=>e.closeOnBack,()=>{F5(ge,R=>{C.value&&d.value?(R(!1),e.persistent?ye():d.value=!1):R()})});const se=Ne();yt(()=>d.value&&(e.absolute||e.contained)&&F.value==null,R=>{if(R){const Oe=oy(o.value);Oe&&Oe!==document.scrollingElement&&(se.value=Oe.scrollTop)}});function ye(){e.noClickAnimation||u.value&&Ru(u.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Tf})}function Me(){r("afterEnter")}function De(){S(),r("afterLeave")}return dt(()=>{var R;return P(ht,null,[(R=n.activator)==null?void 0:R.call(n,{isActive:d.value,targetRef:H,props:it({ref:O},B.value,e.activatorProps)}),Z.value&&y.value&&h(fS,{disabled:!F.value,to:F.value},{default:()=>[P("div",it({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},m.value,p.value,e.class],style:[I.value,{"--v-overlay-opacity":e.opacity,top:Vt(se.value)},e.style],ref:o,onKeydown:ee},le,a),[h(a6,it({color:k,modelValue:d.value&&!!e.scrim,ref:l},G.value),null),h(Nr,{appear:!0,persisted:!0,transition:e.transition,target:U.value,onAfterEnter:Me,onAfterLeave:De},{default:()=>{var Oe;return[xn(P("div",it({ref:u,class:["v-overlay__content",e.contentClass],style:[ce.value,ae.value]},j.value,e.contentProps),[(Oe=n.default)==null?void 0:Oe.call(n,{isActive:d})]),[[Aa,d.value],[Xp,{handler:Ee,closeConditional:$e,include:()=>[V.value]}]])]}})])]})])}),{activatorEl:V,scrimEl:l,target:U,animateClick:ye,contentEl:u,globalTop:C,localTop:w,updateLocation:_e}}}),Z_=Symbol("Forwarded refs");function ep(e,t){let n=e;for(;n;){const a=Reflect.getOwnPropertyDescriptor(n,t);if(a)return a;n=Object.getPrototypeOf(n)}}function Vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e[Z_]=n,new Proxy(e,{get(r,i){if(Reflect.has(r,i))return Reflect.get(r,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const l=Reflect.get(o.value,i);return typeof l=="function"?l.bind(o.value):l}}},has(r,i){if(Reflect.has(r,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(r,i,o){if(Reflect.has(r,i))return Reflect.set(r,i,o);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const l of n)if(l.value&&Reflect.has(l.value,i))return Reflect.set(l.value,i,o);return!1},getOwnPropertyDescriptor(r,i){var l;const o=Reflect.getOwnPropertyDescriptor(r,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const u of n){if(!u.value)continue;const f=ep(u.value,i)??("_"in u.value?ep((l=u.value._)==null?void 0:l.setupState,i):void 0);if(f)return f}for(const u of n){const f=u.value&&u.value[Z_];if(!f)continue;const d=f.slice();for(;d.length;){const m=d.shift(),p=ep(m.value,i);if(p)return p;const g=m.value&&m.value[Z_];g&&d.push(...g)}}}}})}const AP=ze({id:String,submenu:Boolean,...ha(im({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:nv}}),["absolute"])},"VMenu"),gd=ot()({name:"VMenu",props:AP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{scopeId:r}=dc(),{isRtl:i}=Ua(),o=ii(),l=Pe(()=>e.id||`v-menu-${o}`),u=Ne(),f=fn(Qp,null),d=kt(new Set);ra(Qp,{register(){d.value.add(o)},unregister(){d.value.delete(o)},closeParents(k){setTimeout(()=>{var C;!d.value.size&&!e.persistent&&(k==null||(C=u.value)!=null&&C.contentEl&&!zR(k,u.value.contentEl))&&(a.value=!1,f==null||f.closeParents())},40)}}),vr(()=>{f==null||f.unregister(),document.removeEventListener("focusin",m)}),Hg(()=>a.value=!1);async function m(k){var I,V,O;const C=k.relatedTarget,w=k.target;await Qt(),a.value&&C!==w&&((I=u.value)!=null&&I.contentEl)&&((V=u.value)!=null&&V.globalTop)&&![document,u.value.contentEl].includes(w)&&!u.value.contentEl.contains(w)&&((O=Pf(u.value.contentEl)[0])==null||O.focus())}yt(a,k=>{k?(f==null||f.register(),On&&document.addEventListener("focusin",m,{once:!0})):(f==null||f.unregister(),On&&document.removeEventListener("focusin",m))},{immediate:!0});function p(k){f==null||f.closeParents(k)}function g(k){var C,w,I,V,O;if(!e.disabled)if(k.key==="Tab"||k.key==="Enter"&&!e.closeOnContentClick){if(k.key==="Enter"&&(k.target instanceof HTMLTextAreaElement||k.target instanceof HTMLInputElement&&k.target.closest("form")))return;k.key==="Enter"&&k.preventDefault(),uC(Pf((C=u.value)==null?void 0:C.contentEl,!1),k.shiftKey?"prev":"next",Y=>Y.tabIndex>=0)||(a.value=!1,(I=(w=u.value)==null?void 0:w.activatorEl)==null||I.focus())}else e.submenu&&k.key===(i.value?"ArrowRight":"ArrowLeft")&&(a.value=!1,(O=(V=u.value)==null?void 0:V.activatorEl)==null||O.focus())}function y(k){var w;if(e.disabled)return;const C=(w=u.value)==null?void 0:w.contentEl;C&&a.value?k.key==="ArrowDown"?(k.preventDefault(),k.stopImmediatePropagation(),qu(C,"next")):k.key==="ArrowUp"?(k.preventDefault(),k.stopImmediatePropagation(),qu(C,"prev")):e.submenu&&(k.key===(i.value?"ArrowRight":"ArrowLeft")?a.value=!1:k.key===(i.value?"ArrowLeft":"ArrowRight")&&(k.preventDefault(),qu(C,"first"))):(e.submenu?k.key===(i.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(k.key))&&(a.value=!0,k.preventDefault(),setTimeout(()=>setTimeout(()=>y(k))))}const S=L(()=>it({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-controls":l.value,onKeydown:y},e.activatorProps));return dt(()=>{const k=ts.filterProps(e);return h(ts,it({ref:u,id:l.value,class:["v-menu",e.class],style:e.style},k,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,absolute:!0,activatorProps:S.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":p,onKeydown:g},r),{activator:n.activator,default:function(){for(var C=arguments.length,w=new Array(C),I=0;I<C;I++)w[I]=arguments[I];return h(an,{root:"VMenu"},{default:()=>{var V;return[(V=n.default)==null?void 0:V.call(n,...w)]}})}})}),Vi({id:l,openChildren:d},u)}}),r6=ze({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ot(),..._o({transition:{component:Oy}})},"VCounter"),uv=ot()({name:"VCounter",functional:!0,props:r6(),setup(e,t){let{slots:n}=t;const a=Pe(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return dt(()=>h(Nr,{transition:e.transition},{default:()=>[xn(P("div",{class:Ge(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:vt(e.style)},[n.default?n.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[Aa,e.active]])]})),{}}}),i6=ze({floating:Boolean,...Ot()},"VFieldLabel"),sf=ot()({name:"VFieldLabel",props:i6(),setup(e,t){let{slots:n}=t;return dt(()=>h(Ad,{class:Ge(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:vt(e.style),"aria-hidden":e.floating||void 0},n)),{}}}),o6=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],om=ze({appendInnerIcon:Ut,bgColor:String,clearable:Boolean,clearIcon:{type:Ut,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Ut,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>o6.includes(e)},"onClick:clear":mr(),"onClick:appendInner":mr(),"onClick:prependInner":mr(),...Ot(),...iv(),...sa(),...yn()},"VField"),Kl=ot()({name:"VField",inheritAttrs:!1,props:{id:String,...am(),...om()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{themeClasses:i}=Mn(e),{loaderClasses:o}=Zf(e),{focusClasses:l,isFocused:u,focus:f,blur:d}=ol(e),{InputIcon:m}=eP(e),{roundedClasses:p}=ga(e),{rtlClasses:g}=Ua(),y=Pe(()=>e.dirty||e.active),S=Pe(()=>!!(e.label||r.label)),k=Pe(()=>!e.singleLine&&S.value),C=ii(),w=L(()=>e.id||`input-${C}`),I=Pe(()=>`${w.value}-messages`),V=Ne(),O=Ne(),U=Ne(),Y=L(()=>["plain","underlined"].includes(e.variant)),H=L(()=>e.error||e.disabled?void 0:y.value&&u.value?e.color:e.baseColor),B=L(()=>{if(!(!e.iconColor||e.glow&&!u.value))return e.iconColor===!0?H.value:e.iconColor}),{backgroundColorClasses:j,backgroundColorStyles:G}=Yn(()=>e.bgColor),{textColorClasses:F,textColorStyles:ce}=Tr(H);yt(y,ae=>{if(k.value){const _e=V.value.$el,Ee=O.value.$el;requestAnimationFrame(()=>{const $e=ny(_e),re=Ee.getBoundingClientRect(),ee=re.x-$e.x,ge=re.y-$e.y-($e.height/2-re.height/2),se=re.width/.75,ye=Math.abs(se-$e.width)>1?{maxWidth:Vt(se)}:void 0,Me=getComputedStyle(_e),De=getComputedStyle(Ee),R=parseFloat(Me.transitionDuration)*1e3||150,Oe=parseFloat(De.getPropertyValue("--v-field-label-scale")),He=De.getPropertyValue("color");_e.style.visibility="visible",Ee.style.visibility="hidden",Ru(_e,{transform:`translate(${ee}px, ${ge}px) scale(${Oe})`,color:He,...ye},{duration:R,easing:Tf,direction:ae?"normal":"reverse"}).finished.then(()=>{_e.style.removeProperty("visibility"),Ee.style.removeProperty("visibility")})})}},{flush:"post"});const Z=L(()=>({isActive:y,isFocused:u,controlRef:U,blur:d,focus:f}));function le(ae){ae.target!==document.activeElement&&ae.preventDefault()}return dt(()=>{var ee,ge,se;const ae=e.variant==="outlined",_e=!!(r["prepend-inner"]||e.prependInnerIcon),Ee=!!(e.clearable||r.clear)&&!e.disabled,$e=!!(r["append-inner"]||e.appendInnerIcon||Ee),re=()=>r.label?r.label({...Z.value,label:e.label,props:{for:w.value}}):e.label;return P("div",it({class:["v-field",{"v-field--active":y.value,"v-field--appended":$e,"v-field--center-affix":e.centerAffix??!Y.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":_e,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!re(),[`v-field--variant-${e.variant}`]:!0},i.value,j.value,l.value,o.value,p.value,g.value,e.class],style:[G.value,e.style],onClick:le},n),[P("div",{class:"v-field__overlay"},null),h(em,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),_e&&P("div",{key:"prepend",class:"v-field__prepend-inner",onMousedown:ye=>{ye.preventDefault(),ye.stopPropagation()}},[e.prependInnerIcon&&h(m,{key:"prepend-icon",name:"prependInner",color:B.value},null),(ee=r["prepend-inner"])==null?void 0:ee.call(r,Z.value)]),P("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&k.value&&h(sf,{key:"floating-label",ref:O,class:Ge([F.value]),floating:!0,for:w.value,style:vt(ce.value)},{default:()=>[re()]}),S.value&&h(sf,{key:"label",ref:V,for:w.value},{default:()=>[re()]}),((ge=r.default)==null?void 0:ge.call(r,{...Z.value,props:{id:w.value,class:"v-field__input","aria-describedby":I.value},focus:f,blur:d}))??P("div",{id:w.value,class:"v-field__input","aria-describedby":I.value},null)]),Ee&&h(My,{key:"clear"},{default:()=>[xn(P("div",{class:"v-field__clearable",onMousedown:ye=>{ye.preventDefault(),ye.stopPropagation()}},[h(an,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...Z.value,props:{onFocus:f,onBlur:d,onClick:e["onClick:clear"],tabindex:-1}}):h(m,{name:"clear",onFocus:f,onBlur:d,tabindex:-1},null)]})]),[[Aa,e.dirty]])]}),$e&&P("div",{key:"append",class:"v-field__append-inner",onMousedown:ye=>{ye.preventDefault(),ye.stopPropagation()}},[(se=r["append-inner"])==null?void 0:se.call(r,Z.value),e.appendInnerIcon&&h(m,{key:"append-icon",name:"appendInner",color:B.value},null)]),P("div",{class:Ge(["v-field__outline",F.value]),style:vt(ce.value)},[ae&&P(ht,null,[P("div",{class:"v-field__outline__start"},null),k.value&&P("div",{class:"v-field__outline__notch"},[h(sf,{ref:O,floating:!0,for:w.value},{default:()=>[re()]})]),P("div",{class:"v-field__outline__end"},null)]),Y.value&&k.value&&h(sf,{ref:O,floating:!0,for:w.value},{default:()=>[re()]})])])}),{controlRef:U,fieldIconColor:B}}});function EP(e){function t(n,a){var r,i;!e.autofocus||!n||(i=(r=a[0].target)==null?void 0:r.focus)==null||i.call(r)}return{onIntersect:t}}const s6=["color","file","time","date","datetime-local","week","month"],sm=ze({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...sl(),...om()},"VTextField"),tl=ot()({name:"VTextField",directives:{vIntersect:Xs},inheritAttrs:!1,props:sm(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const i=Lt(e,"modelValue"),{isFocused:o,focus:l,blur:u}=ol(e),{onIntersect:f}=EP(e),d=L(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:(i.value??"").toString().length),m=L(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=L(()=>["plain","underlined"].includes(e.variant)),g=Ne(),y=Ne(),S=Ne(),k=L(()=>s6.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function C(){o.value||l(),Qt(()=>{var U;S.value!==document.activeElement&&((U=S.value)==null||U.focus())})}function w(U){a("mousedown:control",U),U.target!==S.value&&(C(),U.preventDefault())}function I(U){a("click:control",U)}function V(U,Y){U.stopPropagation(),C(),Qt(()=>{i.value=null,Y(),Kh(e["onClick:clear"],U)})}function O(U){var H;const Y=U.target;if(i.value=Y.value,(H=e.modelModifiers)!=null&&H.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[Y.selectionStart,Y.selectionEnd];Qt(()=>{Y.selectionStart=B[0],Y.selectionEnd=B[1]})}}return dt(()=>{const U=!!(r.counter||e.counter!==!1&&e.counter!=null),Y=!!(U||r.details),[H,B]=Zl(n),{modelValue:j,...G}=Dr.filterProps(e),F=Kl.filterProps(e);return h(Dr,it({ref:g,modelValue:i.value,"onUpdate:modelValue":ce=>i.value=ce,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":p.value},e.class],style:e.style},H,G,{centerAffix:!p.value,focused:o.value}),{...r,default:ce=>{let{id:Z,isDisabled:le,isDirty:ae,isReadonly:_e,isValid:Ee,reset:$e}=ce;return h(Kl,it({ref:y,onMousedown:w,onClick:I,"onClick:clear":re=>V(re,$e),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},F,{id:Z.value,active:k.value||ae.value,dirty:ae.value||e.dirty,disabled:le.value,focused:o.value,error:Ee.value===!1}),{...r,default:re=>{let{props:{class:ee,...ge}}=re;const se=xn(P("input",it({ref:S,value:i.value,onInput:O,autofocus:e.autofocus,readonly:_e.value,disabled:le.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:C,onBlur:u},ge,B),null),[[Xs,{handler:f},null,{once:!0}]]);return P(ht,null,[e.prefix&&P("span",{class:"v-text-field__prefix"},[P("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?P("div",{class:Ge(ee),"data-no-activator":""},[r.default(),se]):Gs(se,{class:ee}),e.suffix&&P("span",{class:"v-text-field__suffix"},[P("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:Y?ce=>{var Z;return P(ht,null,[(Z=r.details)==null?void 0:Z.call(r,ce),U&&P(ht,null,[P("span",null,null),h(uv,{active:e.persistentCounter||o.value,value:d.value,max:m.value,disabled:e.disabled},r.counter)])])}:void 0})}),Vi({},g,y,S)}}),l6=ze({renderless:Boolean,...Ot()},"VVirtualScrollItem"),VP=ot()({name:"VVirtualScrollItem",inheritAttrs:!1,props:l6(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{resizeRef:i,contentRect:o}=fo(void 0,"border");yt(()=>{var l;return(l=o.value)==null?void 0:l.height},l=>{l!=null&&a("update:height",l)}),dt(()=>{var l,u;return e.renderless?P(ht,null,[(l=r.default)==null?void 0:l.call(r,{itemRef:i})]):P("div",it({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(u=r.default)==null?void 0:u.call(r)])})}}),u6=-1,c6=1,tp=100,OP=ze({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function MP(e,t){const n=Ji(),a=kt(0);fa(()=>{a.value=parseFloat(e.itemHeight||0)});const r=kt(0),i=kt(Math.ceil((parseInt(e.height)||n.height.value)/(a.value||16))||1),o=kt(0),l=kt(0),u=Ne(),f=Ne();let d=0;const{resizeRef:m,contentRect:p}=fo();fa(()=>{m.value=u.value});const g=L(()=>{var re;return u.value===document.documentElement?n.height.value:((re=p.value)==null?void 0:re.height)||parseInt(e.height)||0}),y=L(()=>!!(u.value&&f.value&&g.value&&a.value));let S=Array.from({length:t.value.length}),k=Array.from({length:t.value.length});const C=kt(0);let w=-1;function I(re){return S[re]||a.value}const V=NR(()=>{const re=performance.now();k[0]=0;const ee=t.value.length;for(let ge=1;ge<=ee-1;ge++)k[ge]=(k[ge-1]||0)+I(ge-1);C.value=Math.max(C.value,performance.now()-re)},C),O=yt(y,re=>{re&&(O(),d=f.value.offsetTop,V.immediate(),ae(),~w&&Qt(()=>{On&&window.requestAnimationFrame(()=>{Ee(w),w=-1})}))});Ga(()=>{V.clear()});function U(re,ee){const ge=S[re],se=a.value;a.value=se?Math.min(a.value,ee):ee,(ge!==ee||se!==a.value)&&(S[re]=ee,V())}function Y(re){return re=Xn(re,0,t.value.length-1),k[re]||0}function H(re){return d6(k,re)}let B=0,j=0,G=0;yt(g,(re,ee)=>{ee&&(ae(),re<ee&&requestAnimationFrame(()=>{j=0,ae()}))});let F=-1;function ce(){if(!u.value||!f.value)return;const re=u.value.scrollTop,ee=performance.now();ee-G>500?(j=Math.sign(re-B),d=f.value.offsetTop):j=re-B,B=re,G=ee,window.clearTimeout(F),F=window.setTimeout(Z,500),ae()}function Z(){!u.value||!f.value||(j=0,G=0,window.clearTimeout(F),ae())}let le=-1;function ae(){cancelAnimationFrame(le),le=requestAnimationFrame(_e)}function _e(){if(!u.value||!g.value)return;const re=B-d,ee=Math.sign(j),ge=Math.max(0,re-tp),se=Xn(H(ge),0,t.value.length),ye=re+g.value+tp,Me=Xn(H(ye)+1,se+1,t.value.length);if((ee!==u6||se<r.value)&&(ee!==c6||Me>i.value)){const De=Y(r.value)-Y(se),R=Y(Me)-Y(i.value);Math.max(De,R)>tp?(r.value=se,i.value=Me):(se<=0&&(r.value=se),Me>=t.value.length&&(i.value=Me))}o.value=Y(r.value),l.value=Y(t.value.length)-Y(i.value)}function Ee(re){const ee=Y(re);!u.value||re&&!ee?w=re:u.value.scrollTop=ee}const $e=L(()=>t.value.slice(r.value,i.value).map((re,ee)=>{const ge=ee+r.value;return{raw:re,index:ge,key:La(re,e.itemKey,ge)}}));return yt(t,()=>{S=Array.from({length:t.value.length}),k=Array.from({length:t.value.length}),V.immediate(),ae()},{deep:1}),{calculateVisibleItems:ae,containerRef:u,markerRef:f,computedItems:$e,paddingTop:o,paddingBottom:l,scrollToIndex:Ee,handleScroll:ce,handleScrollend:Z,handleItemResize:U}}function d6(e,t){let n=e.length-1,a=0,r=0,i=null,o=-1;if(e[n]<t)return n;for(;a<=n;)if(r=a+n>>1,i=e[r],i>t)n=r-1;else if(i<t)o=r,a=r+1;else return i===t?r:a;return o}const f6=ze({items:{type:Array,default:()=>[]},renderless:Boolean,...OP(),...Ot(),...Ha()},"VVirtualScroll"),cv=ot()({name:"VVirtualScroll",props:f6(),setup(e,t){let{slots:n}=t;const a=Ca("VVirtualScroll"),{dimensionStyles:r}=za(e),{calculateVisibleItems:i,containerRef:o,markerRef:l,handleScroll:u,handleScrollend:f,handleItemResize:d,scrollToIndex:m,paddingTop:p,paddingBottom:g,computedItems:y}=MP(e,Pe(()=>e.items));return ai(()=>e.renderless,()=>{function S(){var w,I;const C=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[C]("scroll",u,{passive:!0}),document[C]("scrollend",f)):((w=o.value)==null||w[C]("scroll",u,{passive:!0}),(I=o.value)==null||I[C]("scrollend",f))}Pn(()=>{o.value=oy(a.vnode.el,!0),S(!0)}),Ga(S)}),dt(()=>{const S=y.value.map(k=>h(VP,{key:k.key,renderless:e.renderless,"onUpdate:height":C=>d(k.index,C)},{default:C=>{var w;return(w=n.default)==null?void 0:w.call(n,{item:k.raw,index:k.index,...C})}}));return e.renderless?P(ht,null,[P("div",{ref:l,class:"v-virtual-scroll__spacer",style:{paddingTop:Vt(p.value)}},null),S,P("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Vt(g.value)}},null)]):P("div",{ref:o,class:Ge(["v-virtual-scroll",e.class]),onScrollPassive:u,onScrollend:f,style:vt([r.value,e.style])},[P("div",{ref:l,class:"v-virtual-scroll__container",style:{paddingTop:Vt(p.value),paddingBottom:Vt(g.value)}},[S])])}),{calculateVisibleItems:i,scrollToIndex:m}}});function jy(e,t){const n=kt(!1);let a;function r(l){cancelAnimationFrame(a),n.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{n.value=!1})})}async function i(){await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>{if(n.value){const u=yt(n,()=>{u(),l()})}else l()})}async function o(l){var d,m;if(l.key==="Tab"&&((d=t.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(l.key))return;const u=(m=e.value)==null?void 0:m.$el;if(!u)return;(l.key==="Home"||l.key==="End")&&u.scrollTo({top:l.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await i();const f=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(l.key==="PageDown"||l.key==="Home"){const p=u.getBoundingClientRect().top;for(const g of f)if(g.getBoundingClientRect().top>=p){g.focus();break}}else{const p=u.getBoundingClientRect().bottom;for(const g of[...f].reverse())if(g.getBoundingClientRect().bottom<=p){g.focus();break}}}return{onScrollPassive:r,onKeydown:o}}const Yy=ze({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ut,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...wP({itemChildren:!1})},"Select"),m6=ze({...Yy(),...ha(sm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._o({transition:{component:nv}})},"VSelect"),Ky=ot()({name:"VSelect",props:m6(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=_a(),r=Ne(),i=Ne(),o=Ne(),{items:l,transformIn:u,transformOut:f}=qy(e),d=Lt(e,"modelValue",[],re=>u(re===null?[null]:da(re)),re=>{const ee=f(re);return e.multiple?ee:ee[0]??null}),m=L(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),p=rm(e),g=L(()=>d.value.map(re=>re.value)),y=kt(!1);let S="",k=-1,C;const w=L(()=>e.hideSelected?l.value.filter(re=>!d.value.some(ee=>(e.valueComparator||Pr)(ee,re))):l.value),I=L(()=>e.hideNoData&&!w.value.length||p.isReadonly.value||p.isDisabled.value),V=Lt(e,"menu"),O=L({get:()=>V.value,set:re=>{var ee;V.value&&!re&&((ee=i.value)!=null&&ee.openChildren.size)||re&&I.value||(V.value=re)}}),U=Pe(()=>O.value?e.closeText:e.openText),Y=L(()=>{var re;return{...e.menuProps,activatorProps:{...((re=e.menuProps)==null?void 0:re.activatorProps)||{},"aria-haspopup":"listbox"}}}),H=Ne(),B=jy(H,r);function j(re){e.openOnClear&&(O.value=!0)}function G(){I.value||(O.value=!O.value)}function F(re){ld(re)&&ce(re)}function ce(re){var He,at,Be;if(!re.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(re.key)&&re.preventDefault(),["Enter","ArrowDown"," "].includes(re.key)&&(O.value=!0),["Escape","Tab"].includes(re.key)&&(O.value=!1),re.key==="Home"?(He=H.value)==null||He.focus("first"):re.key==="End"&&((at=H.value)==null||at.focus("last"));const ee=1e3;if(!ld(re))return;const ge=performance.now();ge-C>ee&&(S="",k=-1),S+=re.key.toLowerCase(),C=ge;const se=w.value;function ye(){let N=Me();return N||S.at(-1)===S.at(-2)&&(S=S.slice(0,-1),N=Me(),N)||(k=-1,N=Me(),N)?N:(S=re.key.toLowerCase(),Me())}function Me(){for(let N=k+1;N<se.length;N++){const Q=se[N];if(Q.title.toLowerCase().startsWith(S))return[Q,N]}}const De=ye();if(!De)return;const[R,Oe]=De;k=Oe,(Be=H.value)==null||Be.focus(Oe),e.multiple||(d.value=[R])}function Z(re){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!re.props.disabled)if(e.multiple){const ge=d.value.findIndex(ye=>(e.valueComparator||Pr)(ye.value,re.value)),se=ee??!~ge;if(~ge){const ye=se?[...d.value,re]:[...d.value];ye.splice(ge,1),d.value=ye}else se&&(d.value=[...d.value,re])}else{const ge=ee!==!1;d.value=ge?[re]:[],Qt(()=>{O.value=!1})}}function le(re){var ee;(ee=H.value)!=null&&ee.$el.contains(re.relatedTarget)||(O.value=!1)}function ae(){var re;e.eager&&((re=o.value)==null||re.calculateVisibleItems())}function _e(){var re;y.value&&((re=r.value)==null||re.focus())}function Ee(re){y.value=!0}function $e(re){if(re==null)d.value=[];else if(sd(r.value,":autofill")||sd(r.value,":-webkit-autofill")){const ee=l.value.find(ge=>ge.title===re);ee&&Z(ee)}else r.value&&(r.value.value="")}return yt(O,()=>{if(!e.hideSelected&&O.value&&d.value.length){const re=w.value.findIndex(ee=>d.value.some(ge=>(e.valueComparator||Pr)(ge.value,ee.value)));On&&window.requestAnimationFrame(()=>{var ee;re>=0&&((ee=o.value)==null||ee.scrollToIndex(re))})}}),yt(()=>e.items,(re,ee)=>{O.value||y.value&&!ee.length&&re.length&&(O.value=!0)}),dt(()=>{const re=!!(e.chips||n.chip),ee=!!(!e.hideNoData||w.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),ge=d.value.length>0,se=tl.filterProps(e),ye=ge||!y.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return h(tl,it({ref:r},se,{modelValue:d.value.map(Me=>Me.props.value).join(", "),"onUpdate:modelValue":$e,focused:y.value,"onUpdate:focused":Me=>y.value=Me,validationValue:d.externalValue,counterValue:m.value,dirty:ge,class:["v-select",{"v-select--active-menu":O.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:ye,"onClick:clear":j,"onMousedown:control":G,onBlur:le,onKeydown:ce,"aria-label":a(U.value),title:a(U.value)}),{...n,default:()=>P(ht,null,[h(gd,it({ref:i,modelValue:O.value,"onUpdate:modelValue":Me=>O.value=Me,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ae,onAfterLeave:_e},Y.value),{default:()=>[ee&&h(lv,it({ref:H,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Me=>Me.preventDefault(),onKeydown:F,onFocusin:Ee,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},B,e.listProps),{default:()=>{var Me,De,R;return[(Me=n["prepend-item"])==null?void 0:Me.call(n),!w.value.length&&!e.hideNoData&&(((De=n["no-data"])==null?void 0:De.call(n))??h(el,{key:"no-data",title:a(e.noDataText)},null)),h(cv,{ref:o,renderless:!0,items:w.value,itemKey:"value"},{default:Oe=>{var pe;let{item:He,index:at,itemRef:Be}=Oe;const N=jR(He.props),Q=it(He.props,{ref:Be,key:He.value,onClick:()=>Z(He,null)});return((pe=n.item)==null?void 0:pe.call(n,{item:He,index:at,props:Q}))??h(el,it(Q,{role:"option"}),{prepend:W=>{let{isSelected:Ve}=W;return P(ht,null,[e.multiple&&!e.hideSelected?h(Zs,{key:He.value,modelValue:Ve,ripple:!1,tabindex:"-1"},null):void 0,N.prependAvatar&&h(Xi,{image:N.prependAvatar},null),N.prependIcon&&h(Vn,{icon:N.prependIcon},null)])}})}}),(R=n["append-item"])==null?void 0:R.call(n)]}})]}),d.value.map((Me,De)=>{function R(Be){Be.stopPropagation(),Be.preventDefault(),Z(Me,!1)}const Oe={"onClick:close":R,onKeydown(Be){Be.key!=="Enter"&&Be.key!==" "||(Be.preventDefault(),Be.stopPropagation(),R(Be))},onMousedown(Be){Be.preventDefault(),Be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},He=re?!!n.chip:!!n.selection,at=He?Gh(re?n.chip({item:Me,index:De,props:Oe}):n.selection({item:Me,index:De})):void 0;if(!(He&&!at))return P("div",{key:Me.value,class:"v-select__selection"},[re?n.chip?h(an,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Me.title}}},{default:()=>[at]}):h(Ed,it({key:"chip",closable:e.closableChips,size:"small",text:Me.title,disabled:Me.props.disabled},Oe),null):at??P("span",{class:"v-select__selection-text"},[Me.title,e.multiple&&De<d.value.length-1&&P("span",{class:"v-select__selection-comma"},[Ye(",")])])])})]),"append-inner":function(){var Oe,He;for(var Me=arguments.length,De=new Array(Me),R=0;R<Me;R++)De[R]=arguments[R];return P(ht,null,[(Oe=n["append-inner"])==null?void 0:Oe.call(n,...De),e.menuIcon?h(Vn,{class:"v-select__menu-icon",color:(He=r.value)==null?void 0:He.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Vi({isFocused:y,menu:O,select:Z},r)}}),h6=(e,t,n)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const a=[];let r=e.indexOf(t);for(;~r;)a.push([r,r+t.length]),r=e.indexOf(t,r+t.length);return a.length?a:-1};function np(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const lm=ze({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function v6(e,t,n){var l;const a=[],r=(n==null?void 0:n.default)??h6,i=n!=null&&n.filterKeys?da(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let u=0;u<e.length;u++){const[f,d=f]=da(e[u]),m={},p={};let g=-1;if((t||o>0)&&!(n!=null&&n.noFilter)){if(typeof f=="object"){const k=i||Object.keys(d);for(const C of k){const w=La(d,C),I=(l=n==null?void 0:n.customKeyFilter)==null?void 0:l[C];if(g=I?I(w,t,f):r(w,t,f),g!==-1&&g!==!1)I?m[C]=np(g,t):p[C]=np(g,t);else if((n==null?void 0:n.filterMode)==="every")continue e}}else g=r(f,t,f),g!==-1&&g!==!1&&(p.title=np(g,t));const y=Object.keys(p).length,S=Object.keys(m).length;if(!y&&!S||(n==null?void 0:n.filterMode)==="union"&&S!==o&&!y||(n==null?void 0:n.filterMode)==="intersection"&&(S!==o||!y))continue}a.push({index:u,matches:{...p,...m}})}return a}function um(e,t,n,a){const r=kt([]),i=kt(new Map),o=L(()=>a!=null&&a.transform?Ae(t).map(u=>[u,a.transform(u)]):Ae(t));fa(()=>{const u=typeof n=="function"?n():Ae(n),f=typeof u!="string"&&typeof u!="number"?"":String(u),d=v6(o.value,f,{customKeyFilter:{...e.customKeyFilter,...Ae(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=Ae(t),p=[],g=new Map;d.forEach(y=>{let{index:S,matches:k}=y;const C=m[S];p.push(C),g.set(C.value,k)}),r.value=p,i.value=g});function l(u){return i.value.get(u.value)}return{filteredItems:r,filteredMatches:i,getMatches:l}}function BP(e,t,n){return n==null||!n.length?t:n.map((a,r)=>{const i=r===0?0:n[r-1][1],o=[P("span",{class:Ge(`${e}__unmask`)},[t.slice(i,a[0])]),P("span",{class:Ge(`${e}__mask`)},[t.slice(a[0],a[1])])];return r===n.length-1&&o.push(P("span",{class:Ge(`${e}__unmask`)},[t.slice(a[1])])),P(ht,null,[o])})}const _6=ze({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...lm({filterKeys:["title"]}),...Yy(),...ha(sm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._o({transition:!1})},"VAutocomplete"),p6=ot()({name:"VAutocomplete",props:_6(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=_a(),r=Ne(),i=kt(!1),o=kt(!0),l=kt(!1),u=Ne(),f=Ne(),d=kt(-1),{items:m,transformIn:p,transformOut:g}=qy(e),{textColorClasses:y,textColorStyles:S}=Tr(()=>{var at;return(at=r.value)==null?void 0:at.color}),k=Lt(e,"search",""),C=Lt(e,"modelValue",[],at=>p(at===null?[null]:da(at)),at=>{const Be=g(at);return e.multiple?Be:Be[0]??null}),w=L(()=>typeof e.counterValue=="function"?e.counterValue(C.value):typeof e.counterValue=="number"?e.counterValue:C.value.length),I=rm(e),{filteredItems:V,getMatches:O}=um(e,m,()=>o.value?"":k.value),U=L(()=>e.hideSelected?V.value.filter(at=>!C.value.some(Be=>Be.value===at.value)):V.value),Y=L(()=>!!(e.chips||n.chip)),H=L(()=>Y.value||!!n.selection),B=L(()=>C.value.map(at=>at.props.value)),j=L(()=>{var Be;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&k.value===((Be=U.value[0])==null?void 0:Be.title))&&U.value.length>0&&!o.value&&!l.value}),G=L(()=>e.hideNoData&&!U.value.length||I.isReadonly.value||I.isDisabled.value),F=Lt(e,"menu"),ce=L({get:()=>F.value,set:at=>{var Be;F.value&&!at&&((Be=u.value)!=null&&Be.openChildren.size)||at&&G.value||(F.value=at)}}),Z=L(()=>ce.value?e.closeText:e.openText),le=Ne(),ae=jy(le,r);function _e(at){e.openOnClear&&(ce.value=!0),k.value=""}function Ee(){G.value||(ce.value=!0)}function $e(at){G.value||(i.value&&(at.preventDefault(),at.stopPropagation()),ce.value=!ce.value)}function re(at){var Be;at.key!==" "&&ld(at)&&((Be=r.value)==null||Be.focus())}function ee(at){var Q,pe,W,Ve,Ie;if(I.isReadonly.value)return;const Be=(Q=r.value)==null?void 0:Q.selectionStart,N=C.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(at.key)&&at.preventDefault(),["Enter","ArrowDown"].includes(at.key)&&(ce.value=!0),["Escape"].includes(at.key)&&(ce.value=!1),j.value&&["Enter","Tab"].includes(at.key)&&!C.value.some(We=>{let{value:Qe}=We;return Qe===U.value[0].value})&&He(U.value[0]),at.key==="ArrowDown"&&j.value&&((pe=le.value)==null||pe.focus("next")),["Backspace","Delete"].includes(at.key)){if(!e.multiple&&H.value&&C.value.length>0&&!k.value)return He(C.value[0],!1);if(~d.value){at.preventDefault();const We=d.value;He(C.value[d.value],!1),d.value=We>=N-1?N-2:We}else at.key==="Backspace"&&!k.value&&(d.value=N-1);return}if(e.multiple)if(at.key==="ArrowLeft"){if(d.value<0&&Be&&Be>0)return;const We=d.value>-1?d.value-1:N-1;if(C.value[We])d.value=We;else{const Qe=((W=k.value)==null?void 0:W.length)??null;d.value=-1,(Ve=r.value)==null||Ve.setSelectionRange(Qe,Qe)}}else if(at.key==="ArrowRight"){if(d.value<0)return;const We=d.value+1;C.value[We]?d.value=We:(d.value=-1,(Ie=r.value)==null||Ie.setSelectionRange(0,0))}else~d.value&&ld(at)&&(d.value=-1)}function ge(at){if(sd(r.value,":autofill")||sd(r.value,":-webkit-autofill")){const Be=m.value.find(N=>N.title===at.target.value);Be&&He(Be)}}function se(){var at;e.eager&&((at=f.value)==null||at.calculateVisibleItems())}function ye(){var at;i.value&&(o.value=!0,(at=r.value)==null||at.focus())}function Me(at){i.value=!0,setTimeout(()=>{l.value=!0})}function De(at){l.value=!1}function R(at){(at==null||at===""&&!e.multiple&&!H.value)&&(C.value=[])}const Oe=kt(!1);function He(at){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!at||at.props.disabled))if(e.multiple){const N=C.value.findIndex(pe=>(e.valueComparator||Pr)(pe.value,at.value)),Q=Be??!~N;if(~N){const pe=Q?[...C.value,at]:[...C.value];pe.splice(N,1),C.value=pe}else Q&&(C.value=[...C.value,at]);e.clearOnSelect&&(k.value="")}else{const N=Be!==!1;C.value=N?[at]:[],k.value=N&&!H.value?at.title:"",Qt(()=>{ce.value=!1,o.value=!0})}}return yt(i,(at,Be)=>{var N;at!==Be&&(at?(Oe.value=!0,k.value=e.multiple||H.value?"":String(((N=C.value.at(-1))==null?void 0:N.props.title)??""),o.value=!0,Qt(()=>Oe.value=!1)):(!e.multiple&&k.value==null&&(C.value=[]),ce.value=!1,(e.multiple||H.value)&&(k.value=""),d.value=-1))}),yt(k,at=>{!i.value||Oe.value||(at&&(ce.value=!0),o.value=!at)}),yt(ce,()=>{if(!e.hideSelected&&ce.value&&C.value.length){const at=U.value.findIndex(Be=>C.value.some(N=>Be.value===N.value));On&&window.requestAnimationFrame(()=>{var Be;at>=0&&((Be=f.value)==null||Be.scrollToIndex(at))})}}),yt(()=>e.items,(at,Be)=>{ce.value||i.value&&!Be.length&&at.length&&(ce.value=!0)}),dt(()=>{const at=!!(!e.hideNoData||U.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Be=C.value.length>0,N=tl.filterProps(e);return h(tl,it({ref:r},N,{modelValue:k.value,"onUpdate:modelValue":[Q=>k.value=Q,R],focused:i.value,"onUpdate:focused":Q=>i.value=Q,validationValue:C.externalValue,counterValue:w.value,dirty:Be,onChange:ge,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":ce.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!H.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:I.isReadonly.value,placeholder:Be?void 0:e.placeholder,"onClick:clear":_e,"onMousedown:control":Ee,onKeydown:ee}),{...n,default:()=>P(ht,null,[h(gd,it({ref:u,modelValue:ce.value,"onUpdate:modelValue":Q=>ce.value=Q,activator:"parent",contentClass:"v-autocomplete__content",disabled:G.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:se,onAfterLeave:ye},e.menuProps),{default:()=>[at&&h(lv,it({ref:le,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Q=>Q.preventDefault(),onKeydown:re,onFocusin:Me,onFocusout:De,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},ae,e.listProps),{default:()=>{var Q,pe,W;return[(Q=n["prepend-item"])==null?void 0:Q.call(n),!U.value.length&&!e.hideNoData&&(((pe=n["no-data"])==null?void 0:pe.call(n))??h(el,{key:"no-data",title:a(e.noDataText)},null)),h(cv,{ref:f,renderless:!0,items:U.value,itemKey:"value"},{default:Ve=>{var tt;let{item:Ie,index:We,itemRef:Qe}=Ve;const st=it(Ie.props,{ref:Qe,key:Ie.value,active:j.value&&We===0?!0:void 0,onClick:()=>He(Ie,null)});return((tt=n.item)==null?void 0:tt.call(n,{item:Ie,index:We,props:st}))??h(el,it(st,{role:"option"}),{prepend:Tt=>{let{isSelected:ke}=Tt;return P(ht,null,[e.multiple&&!e.hideSelected?h(Zs,{key:Ie.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,Ie.props.prependAvatar&&h(Xi,{image:Ie.props.prependAvatar},null),Ie.props.prependIcon&&h(Vn,{icon:Ie.props.prependIcon},null)])},title:()=>{var Tt;return o.value?Ie.title:BP("v-autocomplete",Ie.title,(Tt=O(Ie))==null?void 0:Tt.title)}})}}),(W=n["append-item"])==null?void 0:W.call(n)]}})]}),C.value.map((Q,pe)=>{function W(Qe){Qe.stopPropagation(),Qe.preventDefault(),He(Q,!1)}const Ve={"onClick:close":W,onKeydown(Qe){Qe.key!=="Enter"&&Qe.key!==" "||(Qe.preventDefault(),Qe.stopPropagation(),W(Qe))},onMousedown(Qe){Qe.preventDefault(),Qe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ie=Y.value?!!n.chip:!!n.selection,We=Ie?Gh(Y.value?n.chip({item:Q,index:pe,props:Ve}):n.selection({item:Q,index:pe})):void 0;if(!(Ie&&!We))return P("div",{key:Q.value,class:Ge(["v-autocomplete__selection",pe===d.value&&["v-autocomplete__selection--selected",y.value]]),style:vt(pe===d.value?S.value:{})},[Y.value?n.chip?h(an,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Q.title}}},{default:()=>[We]}):h(Ed,it({key:"chip",closable:e.closableChips,size:"small",text:Q.title,disabled:Q.props.disabled},Ve),null):We??P("span",{class:"v-autocomplete__selection-text"},[Q.title,e.multiple&&pe<C.value.length-1&&P("span",{class:"v-autocomplete__selection-comma"},[Ye(",")])])])})]),"append-inner":function(){var Ve,Ie;for(var Q=arguments.length,pe=new Array(Q),W=0;W<Q;W++)pe[W]=arguments[W];return P(ht,null,[(Ve=n["append-inner"])==null?void 0:Ve.call(n,...pe),e.menuIcon?h(Vn,{class:"v-autocomplete__menu-icon",color:(Ie=r.value)==null?void 0:Ie.fieldIconColor,icon:e.menuIcon,onMousedown:$e,onClick:cC,"aria-label":a(Z.value),title:a(Z.value),tabindex:"-1"},null):void 0])}})}),Vi({isFocused:i,isPristine:o,menu:ce,search:k,filteredItems:V,select:He},r)}}),g6=ze({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ut,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ot(),...il({location:"top end"}),...sa(),...nn(),...yn(),..._o({transition:"scale-rotate-transition"})},"VBadge"),y6=ot()({name:"VBadge",inheritAttrs:!1,props:g6(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:a}=Yn(()=>e.color),{roundedClasses:r}=ga(e),{t:i}=_a(),{textColorClasses:o,textColorStyles:l}=Tr(()=>e.textColor),{themeClasses:u}=dy(),{locationStyles:f}=cc(e,!0,d=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(d)?Number(e.offsetY??0):["left","right"].includes(d)?Number(e.offsetX??0):0));return dt(()=>{const d=Number(e.content),m=!e.max||isNaN(d)?e.content:d<=Number(e.max)?d:`${e.max}+`,[p,g]=wp(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return h(e.tag,it({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},g,{style:e.style}),{default:()=>{var y,S;return[P("div",{class:"v-badge__wrapper"},[(S=(y=t.slots).default)==null?void 0:S.call(y),h(Nr,{transition:e.transition},{default:()=>{var k,C;return[xn(P("span",it({class:["v-badge__badge",u.value,n.value,r.value,o.value],style:[a.value,l.value,e.inline?{}:f.value],"aria-atomic":"true","aria-label":i(e.label,d),"aria-live":"polite",role:"status"},p),[e.dot?void 0:t.slots.badge?(C=(k=t.slots).badge)==null?void 0:C.call(k):e.icon?h(Vn,{icon:e.icon},null):m]),[[Aa,e.modelValue]])]}})])]}})}),{}}}),b6=ze({color:String,density:String,...Ot()},"VBannerActions"),RP=ot()({name:"VBannerActions",props:b6(),setup(e,t){let{slots:n}=t;return va({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),dt(()=>{var a;return P("div",{class:Ge(["v-banner-actions",e.class]),style:vt(e.style)},[(a=n.default)==null?void 0:a.call(n)])}),{}}}),FP=os("v-banner-text"),w6=ze({avatar:String,bgColor:String,color:String,icon:Ut,lines:String,stacked:Boolean,sticky:Boolean,text:String,...vi(),...Ot(),...rr(),...Ha(),...tc({mobile:null}),...Qa(),...il(),...Dd(),...sa(),...nn(),...yn()},"VBanner"),k6=ot()({name:"VBanner",props:w6(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=Yn(()=>e.bgColor),{borderClasses:i}=Ei(e),{densityClasses:o}=Hr(e),{displayClasses:l,mobile:u}=Ji(e),{dimensionStyles:f}=za(e),{elevationClasses:d}=_r(e),{locationStyles:m}=cc(e),{positionClasses:p}=Id(e),{roundedClasses:g}=ga(e),{themeClasses:y}=Mn(e),S=Pe(()=>e.color),k=Pe(()=>e.density);va({VBannerActions:{color:S,density:k}}),dt(()=>{const C=!!(e.text||n.text),w=!!(e.avatar||e.icon),I=!!(w||n.prepend);return h(e.tag,{class:Ge(["v-banner",{"v-banner--stacked":e.stacked||u.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},y.value,a.value,i.value,o.value,l.value,d.value,p.value,g.value,e.class]),style:vt([r.value,f.value,m.value,e.style]),role:"banner"},{default:()=>{var V;return[I&&P("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?h(an,{key:"prepend-defaults",disabled:!w,defaults:{VAvatar:{color:S.value,density:k.value,icon:e.icon,image:e.avatar}}},n.prepend):h(Xi,{key:"prepend-avatar",color:S.value,density:k.value,icon:e.icon,image:e.avatar},null)]),P("div",{class:"v-banner__content"},[C&&h(FP,{key:"text"},{default:()=>{var O;return[((O=n.text)==null?void 0:O.call(n))??e.text]}}),(V=n.default)==null?void 0:V.call(n)]),n.actions&&h(RP,{key:"actions"},n.actions)]}})})}}),S6=ze({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...vi(),...Ot(),...rr(),...Qa(),...sa(),...nc({name:"bottom-navigation"}),...nn({tag:"header"}),...sc({selectedClass:"v-btn--selected"}),...yn()},"VBottomNavigation"),C6=ot()({name:"VBottomNavigation",props:S6(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=dy(),{borderClasses:r}=Ei(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Yn(()=>e.bgColor),{densityClasses:l}=Hr(e),{elevationClasses:u}=_r(e),{roundedClasses:f}=ga(e),{ssrBootStyles:d}=ic(),m=L(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),p=Lt(e,"active",e.active),{layoutItemStyles:g}=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:Pe(()=>"bottom"),layoutSize:Pe(()=>p.value?m.value:0),elementSize:m,active:p,absolute:Pe(()=>e.absolute)});return au(e,Ry),va({VBtn:{baseColor:Pe(()=>e.baseColor),color:Pe(()=>e.color),density:Pe(()=>e.density),stacked:Pe(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),dt(()=>h(e.tag,{class:Ge(["v-bottom-navigation",{"v-bottom-navigation--active":p.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},a.value,i.value,r.value,l.value,u.value,f.value,e.class]),style:vt([o.value,g.value,{height:Vt(m.value)},d.value,e.style])},{default:()=>[n.default&&P("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),$P=ze({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...im({origin:"center center",scrollStrategy:"block",transition:{component:nv},zIndex:2400})},"VDialog"),Jp=ot()({name:"VDialog",props:$P(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Lt(e,"modelValue"),{scopeId:i}=dc(),o=Ne();function l(d){var g,y;const m=d.relatedTarget,p=d.target;if(m!==p&&((g=o.value)!=null&&g.contentEl)&&((y=o.value)!=null&&y.globalTop)&&![document,o.value.contentEl].includes(p)&&!o.value.contentEl.contains(p)){const S=Pf(o.value.contentEl);if(!S.length)return;const k=S[0],C=S[S.length-1];m===k?C.focus():k.focus()}}vr(()=>{document.removeEventListener("focusin",l)}),On&&yt(()=>r.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0});function u(){var d;n("afterEnter"),(e.scrim||e.retainFocus)&&((d=o.value)!=null&&d.contentEl)&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function f(){n("afterLeave")}return yt(r,async d=>{var m;d||(await Qt(),(m=o.value.activatorEl)==null||m.focus({preventScroll:!0}))}),dt(()=>{const d=ts.filterProps(e),m=it({"aria-haspopup":"dialog"},e.activatorProps),p=it({tabindex:-1},e.contentProps);return h(ts,it({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,"aria-modal":"true",activatorProps:m,contentProps:p,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:u,onAfterLeave:f},i),{activator:a.activator,default:function(){for(var g=arguments.length,y=new Array(g),S=0;S<g;S++)y[S]=arguments[S];return h(an,{root:"VDialog"},{default:()=>{var k;return[(k=a.default)==null?void 0:k.call(a,...y)]}})}})}),Vi({},o)}}),x6=ze({inset:Boolean,...$P({transition:"bottom-sheet-transition"})},"VBottomSheet"),P6=ot()({name:"VBottomSheet",props:x6(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue");return dt(()=>{const r=Jp.filterProps(e);return h(Jp,it(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),T6=ze({divider:[Number,String],...Ot()},"VBreadcrumbsDivider"),LP=ot()({name:"VBreadcrumbsDivider",props:T6(),setup(e,t){let{slots:n}=t;return dt(()=>{var a;return P("li",{"aria-hidden":"true",class:Ge(["v-breadcrumbs-divider",e.class]),style:vt(e.style)},[((a=n==null?void 0:n.default)==null?void 0:a.call(n))??e.divider])}),{}}}),D6=ze({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ot(),...nm(),...nn({tag:"li"})},"VBreadcrumbsItem"),NP=ot()({name:"VBreadcrumbsItem",props:D6(),setup(e,t){let{slots:n,attrs:a}=t;const r=tm(e,a),i=L(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),{textColorClasses:o,textColorStyles:l}=Tr(()=>i.value?e.activeColor:e.color);return dt(()=>h(e.tag,{class:Ge(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":i.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:i.value&&e.activeClass},o.value,e.class]),style:vt([l.value,e.style]),"aria-current":i.value?"page":void 0},{default:()=>{var u,f;return[r.isLink.value?P("a",it({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[((f=n.default)==null?void 0:f.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),I6=ze({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ut,items:{type:Array,default:()=>[]},...Ot(),...rr(),...sa(),...nn({tag:"ul"})},"VBreadcrumbs"),A6=ot()({name:"VBreadcrumbs",props:I6(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=Yn(()=>e.bgColor),{densityClasses:i}=Hr(e),{roundedClasses:o}=ga(e);va({VBreadcrumbsDivider:{divider:Pe(()=>e.divider)},VBreadcrumbsItem:{activeClass:Pe(()=>e.activeClass),activeColor:Pe(()=>e.activeColor),color:Pe(()=>e.color),disabled:Pe(()=>e.disabled)}});const l=L(()=>e.items.map(u=>typeof u=="string"?{item:{title:u},raw:u}:{item:u,raw:u}));return dt(()=>{const u=!!(n.prepend||e.icon);return h(e.tag,{class:Ge(["v-breadcrumbs",a.value,i.value,o.value,e.class]),style:vt([r.value,e.style])},{default:()=>{var f;return[u&&P("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?h(an,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):h(Vn,{key:"prepend-icon",start:!0,icon:e.icon},null)]),l.value.map((d,m,p)=>{var S;let{item:g,raw:y}=d;return P(ht,null,[((S=n.item)==null?void 0:S.call(n,{item:g,index:m}))??h(NP,it({key:m,disabled:m>=p.length-1},typeof g=="string"?{title:g}:g),{default:n.title?()=>{var k;return(k=n.title)==null?void 0:k.call(n,{item:g,index:m})}:void 0}),m<p.length-1&&h(LP,null,{default:n.divider?()=>{var k;return(k=n.divider)==null?void 0:k.call(n,{item:y,index:m})}:void 0})])}),(f=n.default)==null?void 0:f.call(n)]}})}),{}}}),qP=ot()({name:"VCardActions",props:Ot(),setup(e,t){let{slots:n}=t;return va({VBtn:{slim:!0,variant:"text"}}),dt(()=>{var a;return P("div",{class:Ge(["v-card-actions",e.class]),style:vt(e.style)},[(a=n.default)==null?void 0:a.call(n)])}),{}}}),E6=ze({opacity:[Number,String],...Ot(),...nn()},"VCardSubtitle"),UP=ot()({name:"VCardSubtitle",props:E6(),setup(e,t){let{slots:n}=t;return dt(()=>h(e.tag,{class:Ge(["v-card-subtitle",e.class]),style:vt([{"--v-card-subtitle-opacity":e.opacity},e.style])},n)),{}}}),HP=os("v-card-title"),V6=ze({appendAvatar:String,appendIcon:Ut,prependAvatar:String,prependIcon:Ut,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Ot(),...rr()},"VCardItem"),zP=ot()({name:"VCardItem",props:V6(),setup(e,t){let{slots:n}=t;return dt(()=>{var f;const a=!!(e.prependAvatar||e.prependIcon),r=!!(a||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),l=!!(e.title!=null||n.title),u=!!(e.subtitle!=null||n.subtitle);return P("div",{class:Ge(["v-card-item",e.class]),style:vt(e.style)},[r&&P("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?h(an,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):P(ht,null,[e.prependAvatar&&h(Xi,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Vn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),P("div",{class:"v-card-item__content"},[l&&h(HP,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??ve(e.title)]}}),u&&h(UP,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??ve(e.subtitle)]}}),(f=n.default)==null?void 0:f.call(n)]),o&&P("div",{key:"append",class:"v-card-item__append"},[n.append?h(an,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):P(ht,null,[e.appendIcon&&h(Vn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(Xi,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),O6=ze({opacity:[Number,String],...Ot(),...nn()},"VCardText"),WP=ot()({name:"VCardText",props:O6(),setup(e,t){let{slots:n}=t;return dt(()=>h(e.tag,{class:Ge(["v-card-text",e.class]),style:vt([{"--v-card-text-opacity":e.opacity},e.style])},n)),{}}}),M6=ze({appendAvatar:String,appendIcon:Ut,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ut,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...vi(),...Ot(),...rr(),...Ha(),...Qa(),...iv(),...il(),...Dd(),...sa(),...nm(),...nn(),...yn(),...Zi({variant:"elevated"})},"VCard"),B6=ot()({name:"VCard",directives:{vRipple:Ur},props:M6(),setup(e,t){let{attrs:n,slots:a}=t;const{themeClasses:r}=Mn(e),{borderClasses:i}=Ei(e),{colorClasses:o,colorStyles:l,variantClasses:u}=oc(e),{densityClasses:f}=Hr(e),{dimensionStyles:d}=za(e),{elevationClasses:m}=_r(e),{loaderClasses:p}=Zf(e),{locationStyles:g}=cc(e),{positionClasses:y}=Id(e),{roundedClasses:S}=ga(e),k=tm(e,n);return dt(()=>{const C=e.link!==!1&&k.isLink.value,w=!e.disabled&&e.link!==!1&&(e.link||k.isClickable.value),I=C?"a":e.tag,V=!!(a.title||e.title!=null),O=!!(a.subtitle||e.subtitle!=null),U=V||O,Y=!!(a.append||e.appendAvatar||e.appendIcon),H=!!(a.prepend||e.prependAvatar||e.prependIcon),B=!!(a.image||e.image),j=U||H||Y,G=!!(a.text||e.text!=null);return xn(h(I,it({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":w},r.value,i.value,o.value,f.value,m.value,p.value,y.value,S.value,u.value,e.class],style:[l.value,d.value,g.value,e.style],onClick:w&&k.navigate,tabindex:e.disabled?-1:void 0},k.linkProps),{default:()=>{var F;return[B&&P("div",{key:"image",class:"v-card__image"},[a.image?h(an,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):h(Js,{key:"image-img",cover:!0,src:e.image},null)]),h(em,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),j&&h(zP,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),G&&h(WP,{key:"text"},{default:()=>{var ce;return[((ce=a.text)==null?void 0:ce.call(a))??e.text]}}),(F=a.default)==null?void 0:F.call(a),a.actions&&h(qP,null,{default:a.actions}),nu(w,"v-card")]}}),[[Ur,w&&e.ripple]])}),{}}}),R6=e=>{const{touchstartX:t,touchendX:n,touchstartY:a,touchendY:r}=e,i=.5,o=16;e.offsetX=n-t,e.offsetY=r-a,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&r<a-o&&e.up(e),e.down&&r>a+o&&e.down(e))};function F6(e,t){var a;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(a=t.start)==null||a.call(t,{originalEvent:e,...t})}function $6(e,t){var a;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(a=t.end)==null||a.call(t,{originalEvent:e,...t}),R6(t)}function L6(e,t){var a;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(a=t.move)==null||a.call(t,{originalEvent:e,...t})}function N6(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>F6(n,t),touchend:n=>$6(n,t),touchmove:n=>L6(n,t)}}function q6(e,t){var l;const n=t.value,a=n!=null&&n.parent?e.parentElement:e,r=(n==null?void 0:n.options)??{passive:!0},i=(l=t.instance)==null?void 0:l.$.uid;if(!a||!i)return;const o=N6(t.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[i]=o,rC(o).forEach(u=>{a.addEventListener(u,o[u],r)})}function U6(e,t){var i,o;const n=(i=t.value)!=null&&i.parent?e.parentElement:e,a=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!a)return;const r=n._touchHandlers[a];rC(r).forEach(l=>{n.removeEventListener(l,r[l])}),delete n._touchHandlers[a]}const Vh={mounted:q6,unmounted:U6},jP=Symbol.for("vuetify:v-window"),YP=Symbol.for("vuetify:v-window-group"),dv=ze({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ot(),...nn(),...yn()},"VWindow"),Ku=ot()({name:"VWindow",directives:{vTouch:Vh},props:dv(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{isRtl:r}=Ua(),{t:i}=_a(),o=au(e,YP),l=Ne(),u=L(()=>r.value?!e.reverse:e.reverse),f=kt(!1),d=L(()=>{const V=e.direction==="vertical"?"y":"x",U=(u.value?!f.value:f.value)?"-reverse":"";return`v-window-${V}${U}-transition`}),m=kt(0),p=Ne(void 0),g=L(()=>o.items.value.findIndex(V=>o.selected.value.includes(V.id)));yt(g,(V,O)=>{const U=o.items.value.length,Y=U-1;U<=2?f.value=V<O:V===Y&&O===0?f.value=!0:V===0&&O===Y?f.value=!1:f.value=V<O}),ra(jP,{transition:d,isReversed:f,transitionCount:m,transitionHeight:p,rootRef:l});const y=Pe(()=>e.continuous||g.value!==0),S=Pe(()=>e.continuous||g.value!==o.items.value.length-1);function k(){y.value&&o.prev()}function C(){S.value&&o.next()}const w=L(()=>{const V=[],O={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${u.value?"right":"left"}`,onClick:o.prev,"aria-label":i("$vuetify.carousel.prev")};V.push(y.value?n.prev?n.prev({props:O}):h(wn,O,null):P("div",null,null));const U={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${u.value?"left":"right"}`,onClick:o.next,"aria-label":i("$vuetify.carousel.next")};return V.push(S.value?n.next?n.next({props:U}):h(wn,U,null):P("div",null,null)),V}),I=L(()=>e.touch===!1?e.touch:{...{left:()=>{u.value?k():C()},right:()=>{u.value?C():k()},start:O=>{let{originalEvent:U}=O;U.stopPropagation()}},...e.touch===!0?{}:e.touch});return dt(()=>xn(h(e.tag,{ref:l,class:Ge(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class]),style:vt(e.style)},{default:()=>{var V,O;return[P("div",{class:"v-window__container",style:{height:p.value}},[(V=n.default)==null?void 0:V.call(n,{group:o}),e.showArrows!==!1&&P("div",{class:"v-window__controls"},[w.value])]),(O=n.additional)==null?void 0:O.call(n,{group:o})]}}),[[Vh,I.value]])),{group:o}}}),H6=ze({color:String,cycle:Boolean,delimiterIcon:{type:Ut,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...dv({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),z6=ot()({name:"VCarousel",props:H6(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{t:r}=_a(),i=Ne();let o=-1;yt(a,u),yt(()=>e.interval,u),yt(()=>e.cycle,f=>{f?u():window.clearTimeout(o)}),Pn(l);function l(){!e.cycle||!i.value||(o=window.setTimeout(i.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function u(){window.clearTimeout(o),window.requestAnimationFrame(l)}return dt(()=>{const f=Ku.filterProps(e);return h(Ku,it({ref:i},f,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Vt(e.height)},e.style]}),{default:n.default,additional:d=>{let{group:m}=d;return P(ht,null,[!e.hideDelimiters&&P("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[m.items.value.length>0&&h(an,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[m.items.value.map((p,g)=>{const y={id:`carousel-item-${p.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",g+1,m.items.value.length),class:["v-carousel__controls__item",m.isSelected(p.id)&&"v-btn--active"],onClick:()=>m.select(p.id,!0)};return n.item?n.item({props:y,item:p}):h(wn,it(p,y),null)})]})]),e.progress&&h(rv,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(m.getItemIndex(a.value)+1)/m.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),fv=ze({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ot(),...lc(),...zy()},"VWindowItem"),Gu=ot()({name:"VWindowItem",directives:{vTouch:Vh},props:fv(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=fn(jP),r=uc(e,YP),{isBooted:i}=ic();if(!a||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=kt(!1),l=L(()=>i.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function u(){!o.value||!a||(o.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function f(){var y;o.value||!a||(o.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=Vt((y=a.rootRef.value)==null?void 0:y.clientHeight)),a.transitionCount.value+=1)}function d(){u()}function m(y){o.value&&Qt(()=>{!l.value||!o.value||!a||(a.transitionHeight.value=Vt(y.clientHeight))})}const p=L(()=>{const y=a.isReversed.value?e.reverseTransition:e.transition;return l.value?{name:typeof y!="string"?a.transition.value:y,onBeforeEnter:f,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onAfterLeave:u,onLeaveCancelled:d,onEnter:m}:!1}),{hasContent:g}=Wy(e,r.isSelected);return dt(()=>h(Nr,{transition:p.value,disabled:!i.value},{default:()=>{var y;return[xn(P("div",{class:Ge(["v-window-item",r.selectedClass.value,e.class]),style:vt(e.style)},[g.value&&((y=n.default)==null?void 0:y.call(n))]),[[Aa,r.isSelected.value]])]}})),{groupItem:r}}}),W6=ze({...Fx(),...fv()},"VCarouselItem"),j6=ot()({name:"VCarouselItem",inheritAttrs:!1,props:W6(),setup(e,t){let{slots:n,attrs:a}=t;dt(()=>{const r=Js.filterProps(e),i=Gu.filterProps(e);return h(Gu,it({class:["v-carousel-item",e.class]},i),{default:()=>[h(Js,it(a,r),n)]})})}}),Y6=os("v-code","code"),K6=ze({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ot()},"VColorPickerCanvas"),G6=Ii({name:"VColorPickerCanvas",props:K6(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const a=kt(!1),r=Ne(),i=kt(parseFloat(e.width)),o=kt(parseFloat(e.height)),l=Ne({x:0,y:0}),u=L({get:()=>l.value,set(k){var I,V;if(!r.value)return;const{x:C,y:w}=k;l.value=k,n("update:color",{h:((I=e.color)==null?void 0:I.h)??0,s:Xn(C,0,i.value)/i.value,v:1-Xn(w,0,o.value)/o.value,a:((V=e.color)==null?void 0:V.a)??1})}}),f=L(()=>{const{x:k,y:C}=u.value,w=parseInt(e.dotSize,10)/2;return{width:Vt(e.dotSize),height:Vt(e.dotSize),transform:`translate(${Vt(k-w)}, ${Vt(C-w)})`}}),{resizeRef:d}=fo(k=>{var I;if(!((I=d.el)!=null&&I.offsetParent))return;const{width:C,height:w}=k[0].contentRect;i.value=C,o.value=w});function m(k,C,w){const{left:I,top:V,width:O,height:U}=w;u.value={x:Xn(k-I,0,O),y:Xn(C-V,0,U)}}function p(k){k.type==="mousedown"&&k.preventDefault(),!e.disabled&&(g(k),window.addEventListener("mousemove",g),window.addEventListener("mouseup",y),window.addEventListener("touchmove",g),window.addEventListener("touchend",y))}function g(k){if(e.disabled||!r.value)return;a.value=!0;const C=UR(k);m(C.clientX,C.clientY,r.value.getBoundingClientRect())}function y(){window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",y),window.removeEventListener("touchmove",g),window.removeEventListener("touchend",y)}function S(){var V;if(!r.value)return;const k=r.value,C=k.getContext("2d");if(!C)return;const w=C.createLinearGradient(0,0,k.width,0);w.addColorStop(0,"hsla(0, 0%, 100%, 1)"),w.addColorStop(1,`hsla(${((V=e.color)==null?void 0:V.h)??0}, 100%, 50%, 1)`),C.fillStyle=w,C.fillRect(0,0,k.width,k.height);const I=C.createLinearGradient(0,0,0,k.height);I.addColorStop(0,"hsla(0, 0%, 0%, 0)"),I.addColorStop(1,"hsla(0, 0%, 0%, 1)"),C.fillStyle=I,C.fillRect(0,0,k.width,k.height)}return yt(()=>{var k;return(k=e.color)==null?void 0:k.h},S,{immediate:!0}),yt(()=>[i.value,o.value],(k,C)=>{S(),l.value={x:u.value.x*k[0]/C[0],y:u.value.y*k[1]/C[1]}},{flush:"post"}),yt(()=>e.color,()=>{if(a.value){a.value=!1;return}l.value=e.color?{x:e.color.s*i.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Pn(()=>S()),dt(()=>P("div",{ref:d,class:Ge(["v-color-picker-canvas",e.class]),style:vt(e.style),onMousedown:p,onTouchstartPassive:p},[P("canvas",{ref:r,width:i.value,height:o.value},null),e.color&&P("div",{class:Ge(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:vt(f.value)},null)])),{}}});function Q6(e,t){if(t){const{a:n,...a}=e;return a}return e}function X6(e,t){if(t==null||typeof t=="string"){const n=e.a!==1;if(t!=null&&t.startsWith("rgb(")){const{r,g:i,b:o,a:l}=Zo(e);return`rgb(${r} ${i} ${o}`+(n?` / ${l})`:")")}else if(t!=null&&t.startsWith("hsl(")){const{h:r,s:i,l:o,a:l}=xp(e);return`hsl(${r} ${Math.round(i*100)} ${Math.round(o*100)}`+(n?` / ${l})`:")")}const a=wC(e);return e.a===1?a.slice(0,7):a}if(typeof t=="object"){let n;return Bu(t,["r","g","b"])?n=Zo(e):Bu(t,["h","s","l"])?n=xp(e):Bu(t,["h","s","v"])&&(n=e),Q6(n,!Bu(t,["a"])&&e.a===1)}return e}const Kc={h:0,s:0,v:0,a:1},Zp={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Zo,from:Wf};var Ak;const J6={...Zp,inputs:(Ak=Zp.inputs)==null?void 0:Ak.slice(0,3)},eg={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:xp,from:ry},Z6={...eg,inputs:eg.inputs.slice(0,3)},KP={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:wC,from:hF},eq={...KP,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},zu={rgb:J6,rgba:Zp,hsl:Z6,hsla:eg,hex:eq,hexa:KP},tq=e=>{let{label:t,...n}=e;return P("div",{class:"v-color-picker-edit__input"},[P("input",Ea(tr(n)),null),P("span",null,[t])])},nq=ze({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(zu).includes(e)},modes:{type:Array,default:()=>Object.keys(zu),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(zu).includes(t))},...Ot()},"VColorPickerEdit"),aq=Ii({name:"VColorPickerEdit",props:nq(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const a=L(()=>e.modes.map(i=>({...zu[i],name:i}))),r=L(()=>{var l;const i=a.value.find(u=>u.name===e.mode);if(!i)return[];const o=e.color?i.to(e.color):null;return(l=i.inputs)==null?void 0:l.map(u=>{let{getValue:f,getColor:d,...m}=u;return{...i.inputProps,...m,disabled:e.disabled,value:o&&f(o),onChange:p=>{const g=p.target;g&&n("update:color",i.from(d(o??i.to(Kc),g.value)))}}})});return dt(()=>{var i;return P("div",{class:Ge(["v-color-picker-edit",e.class]),style:vt(e.style)},[(i=r.value)==null?void 0:i.map(o=>h(tq,o,null)),a.value.length>1&&h(wn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=a.value.findIndex(l=>l.name===e.mode);n("update:mode",a.value[(o+1)%a.value.length].name)}},null)])}),{}}}),Gy=Symbol.for("vuetify:v-slider");function tg(e,t,n){const a=n==="vertical",r=t.getBoundingClientRect(),i="touches"in e?e.touches[0]:e;return a?i.clientY-(r.top+r.height/2):i.clientX-(r.left+r.width/2)}function rq(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const GP=ze({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...sa(),...Qa({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),QP=e=>{const t=L(()=>parseFloat(e.min)),n=L(()=>parseFloat(e.max)),a=L(()=>Number(e.step)>0?parseFloat(e.step):0),r=L(()=>Math.max(Gw(a.value),Gw(t.value)));function i(o){if(o=parseFloat(o),a.value<=0)return o;const l=Xn(o,t.value,n.value),u=t.value%a.value;let f=Math.round((l-u)/a.value)*a.value+u;return l>f&&f+a.value>n.value&&(f=n.value),parseFloat(Math.min(f,n.value).toFixed(r.value))}return{min:t,max:n,step:a,decimals:r,roundValue:i}},XP=e=>{let{props:t,steps:n,onSliderStart:a,onSliderMove:r,onSliderEnd:i,getActiveThumb:o}=e;const{isRtl:l}=Ua(),u=Pe(()=>t.reverse),f=L(()=>t.direction==="vertical"),d=L(()=>f.value!==u.value),{min:m,max:p,step:g,decimals:y,roundValue:S}=n,k=L(()=>parseInt(t.thumbSize,10)),C=L(()=>parseInt(t.tickSize,10)),w=L(()=>parseInt(t.trackSize,10)),I=L(()=>(p.value-m.value)/g.value),V=Pe(()=>t.disabled),O=L(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),U=L(()=>t.error||t.disabled?void 0:t.trackColor??t.color),Y=L(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),H=kt(!1),B=kt(0),j=Ne(),G=Ne();function F(De){var Ve;const R=(Ve=j.value)==null?void 0:Ve.$el;if(!R)return;const Oe=t.direction==="vertical",He=Oe?"top":"left",at=Oe?"height":"width",Be=Oe?"clientY":"clientX",{[He]:N,[at]:Q}=R.getBoundingClientRect(),pe=rq(De,Be);let W=Xn((pe-N-B.value)/Q)||0;return(Oe?d.value:d.value!==l.value)&&(W=1-W),S(m.value+W*(p.value-m.value))}const ce=De=>{const R=F(De);R!=null&&i({value:R}),H.value=!1,B.value=0},Z=De=>{const R=F(De);G.value=o(De),G.value&&(H.value=!0,G.value.contains(De.target)?B.value=tg(De,G.value,t.direction):(B.value=0,R!=null&&r({value:R})),R!=null&&a({value:R}),Qt(()=>{var Oe;return(Oe=G.value)==null?void 0:Oe.focus()}))},le={passive:!0,capture:!0};function ae(De){const R=F(De);R!=null&&r({value:R})}function _e(De){De.stopPropagation(),De.preventDefault(),ce(De),window.removeEventListener("mousemove",ae,le),window.removeEventListener("mouseup",_e)}function Ee(De){var R;ce(De),window.removeEventListener("touchmove",ae,le),(R=De.target)==null||R.removeEventListener("touchend",Ee)}function $e(De){var R;Z(De),window.addEventListener("touchmove",ae,le),(R=De.target)==null||R.addEventListener("touchend",Ee,{passive:!1})}function re(De){De.button===0&&(De.preventDefault(),Z(De),window.addEventListener("mousemove",ae,le),window.addEventListener("mouseup",_e,{passive:!1}))}const ee=De=>{const R=(De-m.value)/(p.value-m.value)*100;return Xn(isNaN(R)?0:R,0,100)},ge=Pe(()=>t.showTicks),se=L(()=>ge.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(De=>({value:De,position:ee(De),label:De.toString()})):Object.keys(t.ticks).map(De=>({value:parseFloat(De),position:ee(parseFloat(De)),label:t.ticks[De]})):I.value!==1/0?Yo(I.value+1).map(De=>{const R=m.value+De*g.value;return{value:R,position:ee(R)}}):[]:[]),ye=L(()=>se.value.some(De=>{let{label:R}=De;return!!R})),Me={activeThumbRef:G,color:Pe(()=>t.color),decimals:y,disabled:V,direction:Pe(()=>t.direction),elevation:Pe(()=>t.elevation),hasLabels:ye,isReversed:u,indexFromEnd:d,min:m,max:p,mousePressed:H,numTicks:I,onSliderMousedown:re,onSliderTouchstart:$e,parsedTicks:se,parseMouseMove:F,position:ee,readonly:Pe(()=>t.readonly),rounded:Pe(()=>t.rounded),roundValue:S,showTicks:ge,startOffset:B,step:g,thumbSize:k,thumbColor:O,thumbLabel:Pe(()=>t.thumbLabel),ticks:Pe(()=>t.ticks),tickSize:C,trackColor:U,trackContainerRef:j,trackFillColor:Y,trackSize:w,vertical:f};return ra(Gy,Me),Me},iq=ze({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ot()},"VSliderThumb"),ng=ot()({name:"VSliderThumb",directives:{vRipple:Ur},props:iq(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=fn(Gy),{isRtl:i,rtlClasses:o}=Ua();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:l,max:u,thumbColor:f,step:d,disabled:m,thumbSize:p,thumbLabel:g,direction:y,isReversed:S,vertical:k,readonly:C,elevation:w,mousePressed:I,decimals:V,indexFromEnd:O}=r,U=L(()=>m.value?void 0:w.value),{elevationClasses:Y}=_r(U),{textColorClasses:H,textColorStyles:B}=Tr(f),{pageup:j,pagedown:G,end:F,home:ce,left:Z,right:le,down:ae,up:_e}=bp,Ee=[j,G,F,ce,Z,le,ae,_e],$e=L(()=>d.value?[1,2,3]:[1,5,10]);function re(ge,se){if(!Ee.includes(ge.key))return;ge.preventDefault();const ye=d.value||.1,Me=(u.value-l.value)/ye;if([Z,le,ae,_e].includes(ge.key)){const R=(k.value?[i.value?Z:le,S.value?ae:_e]:O.value!==i.value?[Z,_e]:[le,_e]).includes(ge.key)?1:-1,Oe=ge.shiftKey?2:ge.ctrlKey?1:0;R===-1&&se===u.value&&!Oe&&!Number.isInteger(Me)?se=se-Me%1*ye:se=se+R*ye*$e.value[Oe]}else if(ge.key===ce)se=l.value;else if(ge.key===F)se=u.value;else{const De=ge.key===G?1:-1;se=se-De*ye*(Me>100?Me/10:10)}return Math.max(e.min,Math.min(e.max,se))}function ee(ge){const se=re(ge,e.modelValue);se!=null&&a("update:modelValue",se)}return dt(()=>{const ge=Vt(O.value?100-e.position:e.position,"%");return P("div",{class:Ge(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&I.value},e.class,o.value]),style:vt([{"--v-slider-thumb-position":ge,"--v-slider-thumb-size":Vt(p.value)},e.style]),role:"slider",tabindex:m.value?-1:0,"aria-label":e.name,"aria-valuemin":l.value,"aria-valuemax":u.value,"aria-valuenow":e.modelValue,"aria-readonly":!!C.value,"aria-orientation":y.value,onKeydown:C.value?void 0:ee},[P("div",{class:Ge(["v-slider-thumb__surface",H.value,Y.value]),style:{...B.value}},null),xn(P("div",{class:Ge(["v-slider-thumb__ripple",H.value]),style:vt(B.value)},null),[[Ur,e.ripple,null,{circle:!0,center:!0}]]),h(Vy,{origin:"bottom center"},{default:()=>{var se;return[xn(P("div",{class:"v-slider-thumb__label-container"},[P("div",{class:Ge(["v-slider-thumb__label",H.value])},[P("div",null,[((se=n["thumb-label"])==null?void 0:se.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(d.value?V.value:1)])])]),[[Aa,g.value&&e.focused||g.value==="always"]])]}})])}),{}}}),oq=ze({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ot()},"VSliderTrack"),JP=ot()({name:"VSliderTrack",props:oq(),emits:{},setup(e,t){let{slots:n}=t;const a=fn(Gy);if(!a)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:i,rounded:o,showTicks:l,tickSize:u,trackColor:f,trackFillColor:d,trackSize:m,vertical:p,min:g,max:y,indexFromEnd:S}=a,{roundedClasses:k}=ga(o),{backgroundColorClasses:C,backgroundColorStyles:w}=Yn(d),{backgroundColorClasses:I,backgroundColorStyles:V}=Yn(f),O=L(()=>`inset-${p.value?"block":"inline"}-${S.value?"end":"start"}`),U=L(()=>p.value?"height":"width"),Y=L(()=>({[O.value]:"0%",[U.value]:"100%"})),H=L(()=>e.stop-e.start),B=L(()=>({[O.value]:Vt(e.start,"%"),[U.value]:Vt(H.value,"%")})),j=L(()=>l.value?(p.value?i.value.slice().reverse():i.value).map((F,ce)=>{var le;const Z=F.value!==g.value&&F.value!==y.value?Vt(F.position,"%"):void 0;return P("div",{key:F.value,class:Ge(["v-slider-track__tick",{"v-slider-track__tick--filled":F.position>=e.start&&F.position<=e.stop,"v-slider-track__tick--first":F.value===g.value,"v-slider-track__tick--last":F.value===y.value}]),style:{[O.value]:Z}},[(F.label||n["tick-label"])&&P("div",{class:"v-slider-track__tick-label"},[((le=n["tick-label"])==null?void 0:le.call(n,{tick:F,index:ce}))??F.label])])}):[]);return dt(()=>P("div",{class:Ge(["v-slider-track",k.value,e.class]),style:vt([{"--v-slider-track-size":Vt(m.value),"--v-slider-tick-size":Vt(u.value)},e.style])},[P("div",{class:Ge(["v-slider-track__background",I.value,{"v-slider-track__background--opacity":!!r.value||!d.value}]),style:{...Y.value,...V.value}},null),P("div",{class:Ge(["v-slider-track__fill",C.value]),style:{...B.value,...w.value}},null),l.value&&P("div",{class:Ge(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}])},[j.value])])),{}}}),sq=ze({...am(),...GP(),...sl(),modelValue:{type:[Number,String],default:0}},"VSlider"),ag=ot()({name:"VSlider",props:sq(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Ne(),{rtlClasses:i}=Ua(),o=QP(e),l=Lt(e,"modelValue",void 0,U=>o.roundValue(U??o.min.value)),{min:u,max:f,mousePressed:d,roundValue:m,onSliderMousedown:p,onSliderTouchstart:g,trackContainerRef:y,position:S,hasLabels:k,readonly:C}=XP({props:e,steps:o,onSliderStart:()=>{a("start",l.value)},onSliderEnd:U=>{let{value:Y}=U;const H=m(Y);l.value=H,a("end",H)},onSliderMove:U=>{let{value:Y}=U;return l.value=m(Y)},getActiveThumb:()=>{var U;return(U=r.value)==null?void 0:U.$el}}),{isFocused:w,focus:I,blur:V}=ol(e),O=L(()=>S(l.value));return dt(()=>{const U=Dr.filterProps(e),Y=!!(e.label||n.label||n.prepend);return h(Dr,it({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||k.value,"v-slider--focused":w.value,"v-slider--pressed":d.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},U,{focused:w.value}),{...n,prepend:Y?H=>{var B,j;return P(ht,null,[((B=n.label)==null?void 0:B.call(n,H))??(e.label?h(Ad,{id:H.id.value,class:"v-slider__label",text:e.label},null):void 0),(j=n.prepend)==null?void 0:j.call(n,H)])}:void 0,default:H=>{let{id:B,messagesId:j}=H;return P("div",{class:"v-slider__container",onMousedown:C.value?void 0:p,onTouchstartPassive:C.value?void 0:g},[P("input",{id:B.value,name:e.name||B.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:l.value},null),h(JP,{ref:y,start:0,stop:O.value},{"tick-label":n["tick-label"]}),h(ng,{ref:r,"aria-describedby":j.value,focused:w.value,min:u.value,max:f.value,modelValue:l.value,"onUpdate:modelValue":G=>l.value=G,position:O.value,elevation:e.elevation,onFocus:I,onBlur:V,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),lq=ze({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ot()},"VColorPickerPreview"),uq=Ii({name:"VColorPickerPreview",props:lq(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const a=new AbortController;as(()=>a.abort());async function r(){if(!zw||e.disabled)return;const i=new window.EyeDropper;try{const o=await i.open({signal:a.signal}),l=Wf(Ti(o.sRGBHex));n("update:color",{...e.color??Kc,...l})}catch{}}return dt(()=>{var i,o;return P("div",{class:Ge(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:vt(e.style)},[zw&&P("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[h(wn,{density:"comfortable",disabled:e.disabled,icon:"$eyeDropper",variant:"plain",onClick:r},null)]),P("div",{class:"v-color-picker-preview__dot"},[P("div",{style:{background:gC(e.color??Kc)}},null)]),P("div",{class:"v-color-picker-preview__sliders"},[h(ag,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(i=e.color)==null?void 0:i.h,"onUpdate:modelValue":l=>n("update:color",{...e.color??Kc,h:l}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&h(ag,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":l=>n("update:color",{...e.color??Kc,a:l}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),cq={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},dq={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},fq={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},mq={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},hq={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},vq={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},_q={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},pq={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},gq={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},yq={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},bq={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},wq={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},kq={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Sq={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Cq={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},xq={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Pq={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Tq={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Dq={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Iq={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Aq={red:cq,pink:dq,purple:fq,deepPurple:mq,indigo:hq,blue:vq,lightBlue:_q,cyan:pq,teal:gq,green:yq,lightGreen:bq,lime:wq,yellow:kq,amber:Sq,orange:Cq,deepOrange:xq,brown:Pq,blueGrey:Tq,grey:Dq,shades:Iq},Eq=ze({swatches:{type:Array,default:()=>Vq(Aq)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ot()},"VColorPickerSwatches");function Vq(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const Oq=Ii({name:"VColorPickerSwatches",props:Eq(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return dt(()=>P("div",{class:Ge(["v-color-picker-swatches",e.class]),style:vt([{maxHeight:Vt(e.maxHeight)},e.style])},[P("div",null,[e.swatches.map(a=>P("div",{class:"v-color-picker-swatches__swatch"},[a.map(r=>{const i=Ti(r),o=Wf(i),l=pC(i);return P("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[P("div",{style:{background:l}},[e.color&&Pr(e.color,o)?h(Vn,{size:"x-small",icon:"$success",color:gF(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Mq=os("v-picker-title"),Qy=ze({color:String,...vi(),...Ot(),...Ha(),...Qa(),...il(),...Dd(),...sa(),...nn(),...yn()},"VSheet"),Lf=ot()({name:"VSheet",props:Qy(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{backgroundColorClasses:r,backgroundColorStyles:i}=Yn(()=>e.color),{borderClasses:o}=Ei(e),{dimensionStyles:l}=za(e),{elevationClasses:u}=_r(e),{locationStyles:f}=cc(e),{positionClasses:d}=Id(e),{roundedClasses:m}=ga(e);return dt(()=>h(e.tag,{class:Ge(["v-sheet",a.value,r.value,o.value,u.value,d.value,m.value,e.class]),style:vt([i.value,l.value,f.value,e.style])},n)),{}}}),Xy=ze({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,...Qy()},"VPicker"),Oh=ot()({name:"VPicker",props:Xy(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=Yn(()=>e.color);return dt(()=>{const i=Lf.filterProps(e),o=!!(e.title||n.title);return h(Lf,it(i,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var l;return[!e.hideHeader&&P("div",{key:"header",class:Ge([a.value]),style:vt([r.value])},[o&&h(Mq,{key:"picker-title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??e.title]}}),n.header&&P("div",{class:"v-picker__header"},[n.header()])]),P("div",{class:"v-picker__body"},[(l=n.default)==null?void 0:l.call(n)]),n.actions&&h(an,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[P("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),Bq=ze({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(zu).includes(e)},modes:{type:Array,default:()=>Object.keys(zu),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(zu).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Xy({hideHeader:!0})},"VColorPicker"),Rq=Ii({name:"VColorPicker",props:Bq(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"mode"),r=Ne(null),i=Lt(e,"modelValue",void 0,d=>{if(d==null||d==="")return null;let m;try{m=Wf(Ti(d))}catch{return null}return m},d=>d?X6(d,e.modelValue):null),o=L(()=>i.value?{...i.value,h:r.value??i.value.h}:null),{rtlClasses:l}=Ua();let u=!0;yt(i,d=>{if(!u){u=!0;return}d&&(r.value=d.h)},{immediate:!0});const f=d=>{u=!1,r.value=d.h,i.value=d};return Sd(()=>{e.modes.includes(a.value)||(a.value=e.modes[0])}),va({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),dt(()=>{const d=Oh.filterProps(e);return h(Oh,it(d,{class:["v-color-picker",l.value,e.class],style:[{"--v-color-picker-color-hsv":gC({...o.value??Kc,a:1})},e.style]}),{...n,default:()=>P(ht,null,[!e.hideCanvas&&h(G6,{key:"canvas",color:o.value,"onUpdate:color":f,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&P("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&h(uq,{key:"preview",color:o.value,"onUpdate:color":f,hideAlpha:!a.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&h(aq,{key:"edit",modes:e.modes,mode:a.value,"onUpdate:mode":m=>a.value=m,color:o.value,"onUpdate:color":f,disabled:e.disabled},null)]),e.showSwatches&&h(Oq,{key:"swatches",color:o.value,"onUpdate:color":f,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})}),{}}}),Fq=ze({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...lm({filterKeys:["title"]}),...Yy({hideNoData:!0,returnObject:!0}),...ha(sm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._o({transition:!1})},"VCombobox"),$q=ot()({name:"VCombobox",props:Fq(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var Be;let{emit:n,slots:a}=t;const{t:r}=_a(),i=Ne(),o=kt(!1),l=kt(!0),u=kt(!1),f=Ne(),d=Ne(),m=kt(-1);let p=!1;const{items:g,transformIn:y,transformOut:S}=qy(e),{textColorClasses:k,textColorStyles:C}=Tr(()=>{var N;return(N=i.value)==null?void 0:N.color}),w=Lt(e,"modelValue",[],N=>y(da(N)),N=>{const Q=S(N);return e.multiple?Q:Q[0]??null}),I=rm(e),V=L(()=>!!(e.chips||a.chip)),O=L(()=>V.value||!!a.selection),U=kt(!e.multiple&&!O.value?((Be=w.value[0])==null?void 0:Be.title)??"":""),Y=L({get:()=>U.value,set:N=>{var Q;if(U.value=N??"",!e.multiple&&!O.value&&(w.value=[Ll(e,N)]),N&&e.multiple&&((Q=e.delimiters)!=null&&Q.length)){const pe=N.split(new RegExp(`(?:${e.delimiters.join("|")})+`));pe.length>1&&(pe.forEach(W=>{W=W.trim(),W&&R(Ll(e,W))}),U.value="")}N||(m.value=-1),l.value=!N}}),H=L(()=>typeof e.counterValue=="function"?e.counterValue(w.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?w.value.length:Y.value.length),{filteredItems:B,getMatches:j}=um(e,g,()=>l.value?"":Y.value),G=L(()=>e.hideSelected?B.value.filter(N=>!w.value.some(Q=>Q.value===N.value)):B.value),F=L(()=>e.hideNoData&&!G.value.length||I.isReadonly.value||I.isDisabled.value),ce=Lt(e,"menu"),Z=L({get:()=>ce.value,set:N=>{var Q;ce.value&&!N&&((Q=f.value)!=null&&Q.openChildren.size)||N&&F.value||(ce.value=N)}}),le=Pe(()=>Z.value?e.closeText:e.openText);yt(U,N=>{p?Qt(()=>p=!1):o.value&&!Z.value&&(Z.value=!0),n("update:search",N)}),yt(w,N=>{var Q;!e.multiple&&!O.value&&(U.value=((Q=N[0])==null?void 0:Q.title)??"")});const ae=L(()=>w.value.map(N=>N.value)),_e=L(()=>{var Q;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&Y.value===((Q=G.value[0])==null?void 0:Q.title))&&G.value.length>0&&!l.value&&!u.value}),Ee=Ne(),$e=jy(Ee,i);function re(N){p=!0,e.openOnClear&&(Z.value=!0)}function ee(){F.value||(Z.value=!0)}function ge(N){F.value||(o.value&&(N.preventDefault(),N.stopPropagation()),Z.value=!Z.value)}function se(N){var Q;N.key!==" "&&ld(N)&&((Q=i.value)==null||Q.focus())}function ye(N){var W,Ve,Ie,We;if(LR(N)||I.isReadonly.value)return;const Q=(W=i.value)==null?void 0:W.selectionStart,pe=w.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(N.key)&&N.preventDefault(),["Enter","ArrowDown"].includes(N.key)&&(Z.value=!0),["Escape"].includes(N.key)&&(Z.value=!1),["Enter","Escape","Tab"].includes(N.key)&&(_e.value&&["Enter","Tab"].includes(N.key)&&!w.value.some(Qe=>{let{value:st}=Qe;return st===G.value[0].value})&&R(B.value[0]),l.value=!0),N.key==="ArrowDown"&&_e.value&&((Ve=Ee.value)==null||Ve.focus("next")),N.key==="Enter"&&Y.value&&(R(Ll(e,Y.value)),O.value&&(U.value="")),["Backspace","Delete"].includes(N.key)){if(!e.multiple&&O.value&&w.value.length>0&&!Y.value)return R(w.value[0],!1);if(~m.value){N.preventDefault();const Qe=m.value;R(w.value[m.value],!1),m.value=Qe>=pe-1?pe-2:Qe}else N.key==="Backspace"&&!Y.value&&(m.value=pe-1);return}if(e.multiple)if(N.key==="ArrowLeft"){if(m.value<0&&Q&&Q>0)return;const Qe=m.value>-1?m.value-1:pe-1;w.value[Qe]?m.value=Qe:(m.value=-1,(Ie=i.value)==null||Ie.setSelectionRange(Y.value.length,Y.value.length))}else if(N.key==="ArrowRight"){if(m.value<0)return;const Qe=m.value+1;w.value[Qe]?m.value=Qe:(m.value=-1,(We=i.value)==null||We.setSelectionRange(0,0))}else~m.value&&ld(N)&&(m.value=-1)}function Me(){var N;e.eager&&((N=d.value)==null||N.calculateVisibleItems())}function De(){var N;o.value&&(l.value=!0,(N=i.value)==null||N.focus())}function R(N){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!N||N.props.disabled))if(e.multiple){const pe=w.value.findIndex(Ve=>(e.valueComparator||Pr)(Ve.value,N.value)),W=Q??!~pe;if(~pe){const Ve=W?[...w.value,N]:[...w.value];Ve.splice(pe,1),w.value=Ve}else W&&(w.value=[...w.value,N]);e.clearOnSelect&&(Y.value="")}else{const pe=Q!==!1;w.value=pe?[N]:[],U.value=pe&&!O.value?N.title:"",Qt(()=>{Z.value=!1,l.value=!0})}}function Oe(N){o.value=!0,setTimeout(()=>{u.value=!0})}function He(N){u.value=!1}function at(N){(N==null||N===""&&!e.multiple&&!O.value)&&(w.value=[])}return yt(o,(N,Q)=>{if(!(N||N===Q)&&(m.value=-1,Z.value=!1,Y.value)){if(e.multiple){R(Ll(e,Y.value));return}if(!O.value)return;w.value.some(pe=>{let{title:W}=pe;return W===Y.value})?U.value="":R(Ll(e,Y.value))}}),yt(Z,()=>{if(!e.hideSelected&&Z.value&&w.value.length){const N=G.value.findIndex(Q=>w.value.some(pe=>(e.valueComparator||Pr)(pe.value,Q.value)));On&&window.requestAnimationFrame(()=>{var Q;N>=0&&((Q=d.value)==null||Q.scrollToIndex(N))})}}),yt(()=>e.items,(N,Q)=>{Z.value||o.value&&!Q.length&&N.length&&(Z.value=!0)}),dt(()=>{const N=!!(!e.hideNoData||G.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),Q=w.value.length>0,pe=tl.filterProps(e);return h(tl,it({ref:i},pe,{modelValue:Y.value,"onUpdate:modelValue":[W=>Y.value=W,at],focused:o.value,"onUpdate:focused":W=>o.value=W,validationValue:w.externalValue,counterValue:H.value,dirty:Q,class:["v-combobox",{"v-combobox--active-menu":Z.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!O.value,"v-combobox--selecting-index":m.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:I.isReadonly.value,placeholder:Q?void 0:e.placeholder,"onClick:clear":re,"onMousedown:control":ee,onKeydown:ye}),{...a,default:()=>P(ht,null,[h(gd,it({ref:f,modelValue:Z.value,"onUpdate:modelValue":W=>Z.value=W,activator:"parent",contentClass:"v-combobox__content",disabled:F.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Me,onAfterLeave:De},e.menuProps),{default:()=>[N&&h(lv,it({ref:Ee,selected:ae.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:W=>W.preventDefault(),onKeydown:se,onFocusin:Oe,onFocusout:He,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},$e,e.listProps),{default:()=>{var W,Ve,Ie;return[(W=a["prepend-item"])==null?void 0:W.call(a),!G.value.length&&!e.hideNoData&&(((Ve=a["no-data"])==null?void 0:Ve.call(a))??h(el,{key:"no-data",title:r(e.noDataText)},null)),h(cv,{ref:d,renderless:!0,items:G.value,itemKey:"value"},{default:We=>{var ke;let{item:Qe,index:st,itemRef:tt}=We;const Tt=it(Qe.props,{ref:tt,key:Qe.value,active:_e.value&&st===0?!0:void 0,onClick:()=>R(Qe,null)});return((ke=a.item)==null?void 0:ke.call(a,{item:Qe,index:st,props:Tt}))??h(el,it(Tt,{role:"option"}),{prepend:ut=>{let{isSelected:Dt}=ut;return P(ht,null,[e.multiple&&!e.hideSelected?h(Zs,{key:Qe.value,modelValue:Dt,ripple:!1,tabindex:"-1"},null):void 0,Qe.props.prependAvatar&&h(Xi,{image:Qe.props.prependAvatar},null),Qe.props.prependIcon&&h(Vn,{icon:Qe.props.prependIcon},null)])},title:()=>{var ut;return l.value?Qe.title:BP("v-combobox",Qe.title,(ut=j(Qe))==null?void 0:ut.title)}})}}),(Ie=a["append-item"])==null?void 0:Ie.call(a)]}})]}),w.value.map((W,Ve)=>{function Ie(tt){tt.stopPropagation(),tt.preventDefault(),R(W,!1)}const We={"onClick:close":Ie,onKeydown(tt){tt.key!=="Enter"&&tt.key!==" "||(tt.preventDefault(),tt.stopPropagation(),Ie(tt))},onMousedown(tt){tt.preventDefault(),tt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Qe=V.value?!!a.chip:!!a.selection,st=Qe?Gh(V.value?a.chip({item:W,index:Ve,props:We}):a.selection({item:W,index:Ve})):void 0;if(!(Qe&&!st))return P("div",{key:W.value,class:Ge(["v-combobox__selection",Ve===m.value&&["v-combobox__selection--selected",k.value]]),style:vt(Ve===m.value?C.value:{})},[V.value?a.chip?h(an,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:W.title}}},{default:()=>[st]}):h(Ed,it({key:"chip",closable:e.closableChips,size:"small",text:W.title,disabled:W.props.disabled},We),null):st??P("span",{class:"v-combobox__selection-text"},[W.title,e.multiple&&Ve<w.value.length-1&&P("span",{class:"v-combobox__selection-comma"},[Ye(",")])])])})]),"append-inner":function(){var We,Qe;for(var W=arguments.length,Ve=new Array(W),Ie=0;Ie<W;Ie++)Ve[Ie]=arguments[Ie];return P(ht,null,[(We=a["append-inner"])==null?void 0:We.call(a,...Ve),(!e.hideNoData||e.items.length)&&e.menuIcon?h(Vn,{class:"v-combobox__menu-icon",color:(Qe=i.value)==null?void 0:Qe.fieldIconColor,icon:e.menuIcon,onMousedown:ge,onClick:cC,"aria-label":r(le.value),title:r(le.value),tabindex:"-1"},null):void 0])}})}),Vi({isFocused:o,isPristine:l,menu:Z,search:Y,selectionIndex:m,filteredItems:B,select:R},i)}}),Lq=ze({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),Nq=ot()({name:"VConfirmEdit",props:Lq(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Lt(e,"modelValue"),i=Ne();fa(()=>{i.value=structuredClone(Yt(r.value))});const{t:o}=_a(),l=L(()=>Pr(r.value,i.value));function u(S){return typeof e.disabled=="boolean"?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(S):l.value}const f=L(()=>u("save")),d=L(()=>u("cancel"));function m(){r.value=i.value,n("save",i.value)}function p(){i.value=structuredClone(Yt(r.value)),n("cancel")}function g(S){return P(ht,null,[h(wn,it({disabled:d.value,variant:"text",color:e.color,onClick:p,text:o(e.cancelText)},S),null),h(wn,it({disabled:f.value,variant:"text",color:e.color,onClick:m,text:o(e.okText)},S),null)])}let y=!1;return dt(()=>{var S;return P(ht,null,[(S=a.default)==null?void 0:S.call(a,{model:i,save:m,cancel:p,isPristine:l.value,get actions(){return y=!0,g}}),!e.hideActions&&!y&&g()])}),{save:m,cancel:p,isPristine:l}}}),ZP=ze({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),eT=Symbol.for("vuetify:datatable:expanded");function mv(e){const t=Pe(()=>e.expandOnClick),n=Lt(e,"expanded",e.expanded,l=>new Set(l),l=>[...l.values()]);function a(l,u){const f=new Set(n.value);u?f.add(l.value):f.delete(l.value),n.value=f}function r(l){return n.value.has(l.value)}function i(l){a(l,!r(l))}const o={expand:a,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:i};return ra(eT,o),o}function tT(){const e=fn(eT);if(!e)throw new Error("foo");return e}const Jy=ze({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),nT=Symbol.for("vuetify:data-table-group");function Zy(e){return{groupBy:Lt(e,"groupBy")}}function hv(e){const{disableSort:t,groupBy:n,sortBy:a}=e,r=Ne(new Set),i=L(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(t!=null&&t.value?[]:a.value));function o(d){return r.value.has(d.id)}function l(d){const m=new Set(r.value);o(d)?m.delete(d.id):m.add(d.id),r.value=m}function u(d){function m(p){const g=[];for(const y of p.items)"type"in y&&y.type==="group"?g.push(...m(y)):g.push(y);return[...new Set(g)]}return m({items:d})}const f={sortByWithGroups:i,toggleGroup:l,opened:r,groupBy:n,extractRows:u,isGroupOpen:o};return ra(nT,f),f}function aT(){const e=fn(nT);if(!e)throw new Error("Missing group!");return e}function qq(e,t){if(!e.length)return[];const n=new Map;for(const a of e){const r=ju(a.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(a)}return n}function rT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=qq(e,t[0]),i=[],o=t.slice(1);return r.forEach((l,u)=>{const f=t[0],d=`${a}_${f}_${u}`;i.push({depth:n,id:d,key:f,value:u,items:o.length?rT(l,o,n+1,d):l,type:"group"})}),i}function iT(e,t){const n=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&n.push(a),(t.has(a.id)||a.value==null)&&n.push(...iT(a.items,t))):n.push(a);return n}function vv(e,t,n){return{flatItems:L(()=>{if(!t.value.length)return e.value;const r=rT(e.value,t.value.map(i=>i.key));return iT(r,n.value)})}}function _v(e){let{page:t,itemsPerPage:n,sortBy:a,groupBy:r,search:i}=e;const o=Ca("VDataTable"),l=()=>({page:t.value,itemsPerPage:n.value,sortBy:a.value,groupBy:r.value,search:i.value});let u=null;yt(l,f=>{Pr(u,f)||(u&&u.search!==f.search&&(t.value=1),o.emit("update:options",f),u=f)},{deep:!0,immediate:!0})}const eb=ze({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),oT=Symbol.for("vuetify:data-table-pagination");function tb(e){const t=Lt(e,"page",void 0,a=>Number(a??1)),n=Lt(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:n}}function nb(e){const{page:t,itemsPerPage:n,itemsLength:a}=e,r=L(()=>n.value===-1?0:n.value*(t.value-1)),i=L(()=>n.value===-1?a.value:Math.min(a.value,r.value+n.value)),o=L(()=>n.value===-1||a.value===0?1:Math.ceil(a.value/n.value));yt([t,o],()=>{t.value>o.value&&(t.value=o.value)});function l(p){n.value=p,t.value=1}function u(){t.value=Xn(t.value+1,1,o.value)}function f(){t.value=Xn(t.value-1,1,o.value)}function d(p){t.value=Xn(p,1,o.value)}const m={page:t,itemsPerPage:n,startIndex:r,stopIndex:i,pageCount:o,itemsLength:a,nextPage:u,prevPage:f,setPage:d,setItemsPerPage:l};return ra(oT,m),m}function Uq(){const e=fn(oT);if(!e)throw new Error("Missing pagination!");return e}function sT(e){const t=Ca("usePaginatedItems"),{items:n,startIndex:a,stopIndex:r,itemsPerPage:i}=e,o=L(()=>i.value<=0?n.value:n.value.slice(a.value,r.value));return yt(o,l=>{t.emit("update:currentItems",l)},{immediate:!0}),{paginatedItems:o}}const Hq={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:t,value:n}=e;return new Set(n?[(a=t[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},lT={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const r of t)n?a.add(r.value):a.delete(r.value);return a},selectAll:e=>{let{value:t,currentPage:n,selected:a}=e;return lT.select({items:n,value:t,selected:a})}},uT={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const r of t)n?a.add(r.value):a.delete(r.value);return a},selectAll:e=>{let{value:t,allItems:n,selected:a}=e;return uT.select({items:n,value:t,selected:a})}},cT=ze({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Pr}},"DataTable-select"),dT=Symbol.for("vuetify:data-table-selection");function pv(e,t){let{allItems:n,currentPage:a}=t;const r=Lt(e,"modelValue",e.modelValue,w=>new Set(da(w).map(I=>{var V;return((V=n.value.find(O=>e.valueComparator(I,O.value)))==null?void 0:V.value)??I})),w=>[...w.values()]),i=L(()=>n.value.filter(w=>w.selectable)),o=L(()=>a.value.filter(w=>w.selectable)),l=L(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Hq;case"all":return uT;case"page":default:return lT}}),u=kt(null);function f(w){return da(w).every(I=>r.value.has(I.value))}function d(w){return da(w).some(I=>r.value.has(I.value))}function m(w,I){const V=l.value.select({items:w,value:I,selected:new Set(r.value)});r.value=V}function p(w,I,V){const O=[];if(I=I??a.value.findIndex(U=>U.value===w.value),e.selectStrategy!=="single"&&(V!=null&&V.shiftKey)&&u.value!==null){const[U,Y]=[u.value,I].sort((H,B)=>H-B);O.push(...a.value.slice(U,Y+1).filter(H=>H.selectable))}else O.push(w),u.value=I;m(O,!f([w]))}function g(w){const I=l.value.selectAll({value:w,allItems:i.value,currentPage:o.value,selected:new Set(r.value)});r.value=I}const y=L(()=>r.value.size>0),S=L(()=>{const w=l.value.allSelected({allItems:i.value,currentPage:o.value});return!!w.length&&f(w)}),k=Pe(()=>l.value.showSelectAll),C={toggleSelect:p,select:m,selectAll:g,isSelected:f,isSomeSelected:d,someSelected:y,allSelected:S,showSelectAll:k,lastSelectedIndex:u,selectStrategy:l};return ra(dT,C),C}function gv(){const e=fn(dT);if(!e)throw new Error("Missing selection!");return e}const fT=ze({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),mT=Symbol.for("vuetify:data-table-sort");function yv(e){const t=Lt(e,"sortBy"),n=Pe(()=>e.mustSort),a=Pe(()=>e.multiSort);return{sortBy:t,mustSort:n,multiSort:a}}function bv(e){const{sortBy:t,mustSort:n,multiSort:a,page:r}=e,i=u=>{if(u.key==null)return;let f=t.value.map(m=>({...m}))??[];const d=f.find(m=>m.key===u.key);d?d.order==="desc"?n.value&&f.length===1?d.order="asc":f=f.filter(m=>m.key!==u.key):d.order="desc":a.value?f.push({key:u.key,order:"asc"}):f=[{key:u.key,order:"asc"}],t.value=f,r&&(r.value=1)};function o(u){return!!t.value.find(f=>f.key===u.key)}const l={sortBy:t,toggleSort:i,isSorted:o};return ra(mT,l),l}function hT(){const e=fn(mT);if(!e)throw new Error("Missing sort!");return e}function ab(e,t,n,a){const r=_a();return{sortedItems:L(()=>{var o,l;return n.value.length?zq(t.value,n.value,r.current.value,{transform:a==null?void 0:a.transform,sortFunctions:{...e.customKeySort,...(o=a==null?void 0:a.sortFunctions)==null?void 0:o.value},sortRawFunctions:(l=a==null?void 0:a.sortRawFunctions)==null?void 0:l.value}):t.value})}}function zq(e,t,n,a){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,a!=null&&a.transform?a.transform(o):o]).sort((o,l)=>{var u,f;for(let d=0;d<t.length;d++){let m=!1;const p=t[d].key,g=t[d].order??"asc";if(g===!1)continue;let y=ju(o[1],p),S=ju(l[1],p),k=o[0].raw,C=l[0].raw;if(g==="desc"&&([y,S]=[S,y],[k,C]=[C,k]),(u=a==null?void 0:a.sortRawFunctions)!=null&&u[p]){const w=a.sortRawFunctions[p](k,C);if(w==null)continue;if(m=!0,w)return w}if((f=a==null?void 0:a.sortFunctions)!=null&&f[p]){const w=a.sortFunctions[p](y,S);if(w==null)continue;if(m=!0,w)return w}if(!m){if(y instanceof Date&&S instanceof Date)return y.getTime()-S.getTime();if([y,S]=[y,S].map(w=>w!=null?w.toString().toLocaleLowerCase():w),y!==S)return zm(y)&&zm(S)?0:zm(y)?-1:zm(S)?1:!isNaN(y)&&!isNaN(S)?Number(y)-Number(S):r.compare(y,S)}}return 0}).map(o=>{let[l]=o;return l})}const Wq=ze({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function jq(e,t){const n=e.returnObject?t:La(t,e.itemValue),a=La(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:a,raw:t}}function Yq(e,t){const n=[];for(const a of t)n.push(jq(e,a));return n}function Kq(e){return{items:L(()=>Yq(e,e.items))}}const Gq=ze({search:String,loading:Boolean,...Ot(),...Wq(),...cT(),...fT(),...eb({itemsPerPage:5}),...ZP(),...Jy(),...lm(),...nn(),..._o({transition:{component:Of,hideOnLeave:!0}})},"VDataIterator"),Qq=ot()({name:"VDataIterator",props:Gq(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"groupBy"),r=Pe(()=>e.search),{items:i}=Kq(e),{filteredItems:o}=um(e,i,r,{transform:ee=>ee.raw}),{sortBy:l,multiSort:u,mustSort:f}=yv(e),{page:d,itemsPerPage:m}=tb(e),{toggleSort:p}=bv({sortBy:l,multiSort:u,mustSort:f,page:d}),{sortByWithGroups:g,opened:y,extractRows:S,isGroupOpen:k,toggleGroup:C}=hv({groupBy:a,sortBy:l}),{sortedItems:w}=ab(e,o,g,{transform:ee=>ee.raw}),{flatItems:I}=vv(w,a,y),V=Pe(()=>I.value.length),{startIndex:O,stopIndex:U,pageCount:Y,prevPage:H,nextPage:B,setItemsPerPage:j,setPage:G}=nb({page:d,itemsPerPage:m,itemsLength:V}),{paginatedItems:F}=sT({items:I,startIndex:O,stopIndex:U,itemsPerPage:m}),ce=L(()=>S(F.value)),{isSelected:Z,select:le,selectAll:ae,toggleSelect:_e}=pv(e,{allItems:i,currentPage:ce}),{isExpanded:Ee,toggleExpand:$e}=mv(e);_v({page:d,itemsPerPage:m,sortBy:l,groupBy:a,search:r});const re=L(()=>({page:d.value,itemsPerPage:m.value,sortBy:l.value,pageCount:Y.value,toggleSort:p,prevPage:H,nextPage:B,setPage:G,setItemsPerPage:j,isSelected:Z,select:le,selectAll:ae,toggleSelect:_e,isExpanded:Ee,toggleExpand:$e,isGroupOpen:k,toggleGroup:C,items:ce.value,groupedItems:F.value}));return dt(()=>h(e.tag,{class:Ge(["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class]),style:vt(e.style)},{default:()=>{var ee,ge;return[(ee=n.header)==null?void 0:ee.call(n,re.value),h(Nr,{transition:e.transition},{default:()=>{var se,ye;return[e.loading?h(em,{key:"loader",name:"v-data-iterator",active:!0},{default:Me=>{var De;return(De=n.loader)==null?void 0:De.call(n,Me)}}):P("div",{key:"items"},[F.value.length?(ye=n.default)==null?void 0:ye.call(n,re.value):(se=n["no-data"])==null?void 0:se.call(n)])]}}),(ge=n.footer)==null?void 0:ge.call(n,re.value)]}})),{}}});function Xq(){const e=Ne([]);zg(()=>e.value=[]);function t(n,a){e.value[a]=n}return{refs:e,updateRef:t}}const Jq=ze({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Ut,default:"$first"},prevIcon:{type:Ut,default:"$prev"},nextIcon:{type:Ut,default:"$next"},lastIcon:{type:Ut,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...vi(),...Ot(),...rr(),...Qa(),...sa(),...ss(),...nn({tag:"nav"}),...yn(),...Zi({variant:"text"})},"VPagination"),rg=ot()({name:"VPagination",props:Jq(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Lt(e,"modelValue"),{t:i,n:o}=_a(),{isRtl:l}=Ua(),{themeClasses:u}=Mn(e),{width:f}=Ji(),d=kt(-1);va(void 0,{scoped:!0});const{resizeRef:m}=fo(H=>{if(!H.length)return;const{target:B,contentRect:j}=H[0],G=B.querySelector(".v-pagination__list > *");if(!G)return;const F=j.width,ce=G.offsetWidth+parseFloat(getComputedStyle(G).marginRight)*2;d.value=S(F,ce)}),p=L(()=>parseInt(e.length,10)),g=L(()=>parseInt(e.start,10)),y=L(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:S(f.value,58));function S(H,B){const j=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((H-B*j)/B).toFixed(2))))}const k=L(()=>{if(p.value<=0||isNaN(p.value)||p.value>Number.MAX_SAFE_INTEGER)return[];if(y.value<=0)return[];if(y.value===1)return[r.value];if(p.value<=y.value)return Yo(p.value,g.value);const H=y.value%2===0,B=H?y.value/2:Math.floor(y.value/2),j=H?B:B+1,G=p.value-B;if(j-r.value>=0)return[...Yo(Math.max(1,y.value-1),g.value),e.ellipsis,p.value];if(r.value-G>=(H?1:0)){const F=y.value-1,ce=p.value-F+g.value;return[g.value,e.ellipsis,...Yo(F,ce)]}else{const F=Math.max(1,y.value-2),ce=F===1?r.value:r.value-Math.ceil(F/2)+g.value;return[g.value,e.ellipsis,...Yo(F,ce),e.ellipsis,p.value]}});function C(H,B,j){H.preventDefault(),r.value=B,j&&a(j,B)}const{refs:w,updateRef:I}=Xq();va({VPaginationBtn:{color:Pe(()=>e.color),border:Pe(()=>e.border),density:Pe(()=>e.density),size:Pe(()=>e.size),variant:Pe(()=>e.variant),rounded:Pe(()=>e.rounded),elevation:Pe(()=>e.elevation)}});const V=L(()=>k.value.map((H,B)=>{const j=G=>I(G,B);if(typeof H=="string")return{isActive:!1,key:`ellipsis-${B}`,page:H,props:{ref:j,ellipsis:!0,icon:!0,disabled:!0}};{const G=H===r.value;return{isActive:G,key:H,page:o(H),props:{ref:j,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:G?e.activeColor:e.color,"aria-current":G,"aria-label":i(G?e.currentPageAriaLabel:e.pageAriaLabel,H),onClick:F=>C(F,H)}}}})),O=L(()=>{const H=!!e.disabled||r.value<=g.value,B=!!e.disabled||r.value>=g.value+p.value-1;return{first:e.showFirstLastPage?{icon:l.value?e.lastIcon:e.firstIcon,onClick:j=>C(j,g.value,"first"),disabled:H,"aria-label":i(e.firstAriaLabel),"aria-disabled":H}:void 0,prev:{icon:l.value?e.nextIcon:e.prevIcon,onClick:j=>C(j,r.value-1,"prev"),disabled:H,"aria-label":i(e.previousAriaLabel),"aria-disabled":H},next:{icon:l.value?e.prevIcon:e.nextIcon,onClick:j=>C(j,r.value+1,"next"),disabled:B,"aria-label":i(e.nextAriaLabel),"aria-disabled":B},last:e.showFirstLastPage?{icon:l.value?e.firstIcon:e.lastIcon,onClick:j=>C(j,g.value+p.value-1,"last"),disabled:B,"aria-label":i(e.lastAriaLabel),"aria-disabled":B}:void 0}});function U(){var B;const H=r.value-g.value;(B=w.value[H])==null||B.$el.focus()}function Y(H){H.key===bp.left&&!e.disabled&&r.value>Number(e.start)?(r.value=r.value-1,Qt(U)):H.key===bp.right&&!e.disabled&&r.value<g.value+p.value-1&&(r.value=r.value+1,Qt(U))}return dt(()=>h(e.tag,{ref:m,class:Ge(["v-pagination",u.value,e.class]),style:vt(e.style),role:"navigation","aria-label":i(e.ariaLabel),onKeydown:Y,"data-test":"v-pagination-root"},{default:()=>[P("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&P("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(O.value.first):h(wn,it({_as:"VPaginationBtn"},O.value.first),null)]),P("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(O.value.prev):h(wn,it({_as:"VPaginationBtn"},O.value.prev),null)]),V.value.map((H,B)=>P("li",{key:H.key,class:Ge(["v-pagination__item",{"v-pagination__item--is-active":H.isActive}]),"data-test":"v-pagination-item"},[n.item?n.item(H):h(wn,it({_as:"VPaginationBtn"},H.props),{default:()=>[H.page]})])),P("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(O.value.next):h(wn,it({_as:"VPaginationBtn"},O.value.next),null)]),e.showFirstLastPage&&P("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(O.value.last):h(wn,it({_as:"VPaginationBtn"},O.value.last),null)])])]})),{}}}),rb=ze({prevIcon:{type:Ut,default:"$prev"},nextIcon:{type:Ut,default:"$next"},firstIcon:{type:Ut,default:"$first"},lastIcon:{type:Ut,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Nf=ot()({name:"VDataTableFooter",props:rb(),setup(e,t){let{slots:n}=t;const{t:a}=_a(),{page:r,pageCount:i,startIndex:o,stopIndex:l,itemsLength:u,itemsPerPage:f,setItemsPerPage:d}=Uq(),m=L(()=>e.itemsPerPageOptions.map(p=>typeof p=="number"?{value:p,title:p===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(p)}:{...p,title:isNaN(Number(p.title))?a(p.title):p.title}));return dt(()=>{var g;const p=rg.filterProps(e);return P("div",{class:"v-data-table-footer"},[(g=n.prepend)==null?void 0:g.call(n),P("div",{class:"v-data-table-footer__items-per-page"},[P("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),h(Ky,{items:m.value,modelValue:f.value,"onUpdate:modelValue":y=>d(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),P("div",{class:"v-data-table-footer__info"},[P("div",null,[a(e.pageText,u.value?o.value+1:0,l.value,u.value)])]),P("div",{class:"v-data-table-footer__pagination"},[h(rg,it({modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:i.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},p),null)])])}),{}}}),Mh=SF({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const a=e.tag??"td";return h(a,{tabindex:"0",class:Ge(["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:Vt(e.height),width:Vt(e.width),maxWidth:Vt(e.maxWidth),left:Vt(e.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),Zq=ze({headers:Array},"DataTable-header"),vT=Symbol.for("vuetify:data-table-headers"),_T={title:"",sortable:!1},eU={..._T,width:48};function tU(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,a)=>{let r=!1;for(let i=0;i<t.length;i++)if(t[i].priority>a){t.splice(i,0,{element:n,priority:a}),r=!0;break}r||t.push({element:n,priority:a})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===a&&(n+=1);return n},dequeue:()=>t.shift()}}function ig(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)ig(n,t);return t}function pT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&pT(n.children,t);return t}function nU(e){if(e.key){if(e.key==="data-table-group")return _T;if(["data-table-expand","data-table-select"].includes(e.key))return eU}}function ib(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>ib(n,t+1))):t}function aU(e){let t=!1;function n(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i)if(o&&(i.fixed=!0),i.fixed)if(i.children)for(let l=i.children.length-1;l>=0;l--)n(i.children[l],!0);else t?isNaN(Number(i.width))?(`${i.key}`,void 0):i.minWidth=Math.max(Number(i.width)||0,Number(i.minWidth)||0):i.lastFixed=!0,t=!0;else if(i.children)for(let l=i.children.length-1;l>=0;l--)n(i.children[l]);else t=!1}for(let i=e.length-1;i>=0;i--)n(e[i]);function a(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!i)return o;if(i.children){i.fixedOffset=o;for(const l of i.children)o=a(l,o)}else i.fixed&&(i.fixedOffset=o,o+=parseFloat(i.width||"0")||0);return o}let r=0;for(const i of e)r=a(i,r)}function rU(e,t){const n=[];let a=0;const r=tU(e);for(;r.size()>0;){let o=r.count();const l=[];let u=1;for(;o>0;){const{element:f,priority:d}=r.dequeue(),m=t-a-ib(f);if(l.push({...f,rowspan:m??1,colspan:f.children?ig(f).length:1}),f.children)for(const p of f.children){const g=d%1+u/Math.pow(10,a+2);r.enqueue(p,a+m+g)}u+=1,o-=1}a+=1,n.push(l)}return{columns:e.map(o=>ig(o)).flat(),headers:n}}function gT(e){const t=[];for(const n of e){const a={...nU(n),...n},r=a.key??(typeof a.value=="string"?a.value:null),i=a.value??r??null,o={...a,key:r,value:i,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?gT(a.children):void 0};t.push(o)}return t}function ob(e,t){const n=Ne([]),a=Ne([]),r=Ne({}),i=Ne({}),o=Ne({});fa(()=>{var S,k,C;const f=(e.headers||Object.keys(e.items[0]??{}).map(w=>({key:w,title:ns(w)}))).slice(),d=pT(f);(S=t==null?void 0:t.groupBy)!=null&&S.value.length&&!d.has("data-table-group")&&f.unshift({key:"data-table-group",title:"Group"}),(k=t==null?void 0:t.showSelect)!=null&&k.value&&!d.has("data-table-select")&&f.unshift({key:"data-table-select"}),(C=t==null?void 0:t.showExpand)!=null&&C.value&&!d.has("data-table-expand")&&f.push({key:"data-table-expand"});const m=gT(f);aU(m);const p=Math.max(...m.map(w=>ib(w)))+1,g=rU(m,p);n.value=g.headers,a.value=g.columns;const y=g.headers.flat(1);for(const w of y)w.key&&(w.sortable&&(w.sort&&(r.value[w.key]=w.sort),w.sortRaw&&(i.value[w.key]=w.sortRaw)),w.filter&&(o.value[w.key]=w.filter))});const l={headers:n,columns:a,sortFunctions:r,sortRawFunctions:i,filterFunctions:o};return ra(vT,l),l}function wv(){const e=fn(vT);if(!e)throw new Error("Missing headers!");return e}const yT=ze({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Ut,default:"$sortAsc"},sortDescIcon:{type:Ut,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...tc(),...iv()},"VDataTableHeaders"),Qu=ot()({name:"VDataTableHeaders",props:yT(),setup(e,t){let{slots:n}=t;const{t:a}=_a(),{toggleSort:r,sortBy:i,isSorted:o}=hT(),{someSelected:l,allSelected:u,selectAll:f,showSelectAll:d}=gv(),{columns:m,headers:p}=wv(),{loaderClasses:g}=Zf(e);function y(B,j){if(!(!(e.sticky||e.fixedHeader)&&!B.fixed))return{position:"sticky",left:B.fixed?Vt(B.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${j})`:void 0}}function S(B,j){B.key==="Enter"&&!e.disableSort&&r(j)}function k(B){const j=i.value.find(G=>G.key===B.key);return j?j.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:C,backgroundColorStyles:w}=Yn(()=>e.color),{displayClasses:I,mobile:V}=Ji(e),O=L(()=>({headers:p.value,columns:m.value,toggleSort:r,isSorted:o,sortBy:i.value,someSelected:l.value,allSelected:u.value,selectAll:f,getSortIcon:k})),U=L(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},I.value,g.value]),Y=B=>{let{column:j,x:G,y:F}=B;const ce=j.key==="data-table-select"||j.key==="data-table-expand",Z=it(e.headerProps??{},j.headerProps??{});return h(Mh,it({tag:"th",align:j.align,class:[{"v-data-table__th--sortable":j.sortable&&!e.disableSort,"v-data-table__th--sorted":o(j),"v-data-table__th--fixed":j.fixed},...U.value],style:{width:Vt(j.width),minWidth:Vt(j.minWidth),maxWidth:Vt(j.maxWidth),...y(j,F)},colspan:j.colspan,rowspan:j.rowspan,onClick:j.sortable?()=>r(j):void 0,fixed:j.fixed,nowrap:j.nowrap,lastFixed:j.lastFixed,noPadding:ce},Z,{onKeydown:le=>j.sortable&&S(le,j)}),{default:()=>{var _e;const le=`header.${j.key}`,ae={column:j,selectAll:f,isSorted:o,toggleSort:r,sortBy:i.value,someSelected:l.value,allSelected:u.value,getSortIcon:k};return n[le]?n[le](ae):j.key==="data-table-select"?((_e=n["header.data-table-select"])==null?void 0:_e.call(n,ae))??(d.value&&h(Zs,{modelValue:u.value,indeterminate:l.value&&!u.value,"onUpdate:modelValue":f},null)):P("div",{class:"v-data-table-header__content"},[P("span",null,[j.title]),j.sortable&&!e.disableSort&&h(Vn,{key:"icon",class:"v-data-table-header__sort-icon",icon:k(j)},null),e.multiSort&&o(j)&&P("div",{key:"badge",class:Ge(["v-data-table-header__sort-badge",...C.value]),style:vt(w.value)},[i.value.findIndex(Ee=>Ee.key===j.key)+1])])}})},H=()=>{const B=L(()=>m.value.filter(G=>(G==null?void 0:G.sortable)&&!e.disableSort)),j=L(()=>{if(m.value.find(F=>F.key==="data-table-select")!=null)return u.value?"$checkboxOn":l.value?"$checkboxIndeterminate":"$checkboxOff"});return h(Mh,it({tag:"th",class:[...U.value],colspan:p.value.length+1},e.headerProps),{default:()=>[P("div",{class:"v-data-table-header__content"},[h(Ky,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:B.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>i.value=[],appendIcon:j.value,"onClick:append":()=>f(!u.value)},{...n,chip:G=>{var F;return h(Ed,{onClick:(F=G.item.raw)!=null&&F.sortable?()=>r(G.item.raw):void 0,onMousedown:ce=>{ce.preventDefault(),ce.stopPropagation()}},{default:()=>[G.item.title,h(Vn,{class:Ge(["v-data-table__td-sort-icon",o(G.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:k(G.item.raw),size:"small"},null)]})}})])]})};dt(()=>V.value?P("tr",null,[h(H,null,null)]):P(ht,null,[n.headers?n.headers(O.value):p.value.map((B,j)=>P("tr",null,[B.map((G,F)=>h(Y,{column:G,x:F,y:j},null))])),e.loading&&P("tr",{class:"v-data-table-progress"},[P("th",{colspan:m.value.length},[h(em,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),iU=ze({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),oU=ot()({name:"VDataTableGroupHeaderRow",props:iU(),setup(e,t){let{slots:n}=t;const{isGroupOpen:a,toggleGroup:r,extractRows:i}=aT(),{isSelected:o,isSomeSelected:l,select:u}=gv(),{columns:f}=wv(),d=L(()=>i([e.item]));return()=>P("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[f.value.map(m=>{var p,g;if(m.key==="data-table-group"){const y=a(e.item)?"$expand":"$next",S=()=>r(e.item);return((p=n["data-table-group"])==null?void 0:p.call(n,{item:e.item,count:d.value.length,props:{icon:y,onClick:S}}))??h(Mh,{class:"v-data-table-group-header-row__column"},{default:()=>[h(wn,{size:"small",variant:"text",icon:y,onClick:S},null),P("span",null,[e.item.value]),P("span",null,[Ye("("),d.value.length,Ye(")")])]})}if(m.key==="data-table-select"){const y=o(d.value),S=l(d.value)&&!y,k=C=>u(d.value,C);return((g=n["data-table-select"])==null?void 0:g.call(n,{props:{modelValue:y,indeterminate:S,"onUpdate:modelValue":k}}))??P("td",null,[h(Zs,{modelValue:y,indeterminate:S,"onUpdate:modelValue":k},null)])}return P("td",null,null)})])}}),sU=ze({index:Number,item:Object,cellProps:[Object,Function],onClick:mr(),onContextmenu:mr(),onDblclick:mr(),...tc()},"VDataTableRow"),sb=ot()({name:"VDataTableRow",props:sU(),setup(e,t){let{slots:n}=t;const{displayClasses:a,mobile:r}=Ji(e,"v-data-table__tr"),{isSelected:i,toggleSelect:o,someSelected:l,allSelected:u,selectAll:f}=gv(),{isExpanded:d,toggleExpand:m}=tT(),{toggleSort:p,sortBy:g,isSorted:y}=hT(),{columns:S}=wv();dt(()=>P("tr",{class:Ge(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&S.value.map((k,C)=>{const w=e.item,I=`item.${k.key}`,V=`header.${k.key}`,O={index:e.index,item:w.raw,internalItem:w,value:ju(w.columns,k.key),column:k,isSelected:i,toggleSelect:o,isExpanded:d,toggleExpand:m},U={column:k,selectAll:f,isSorted:y,toggleSort:p,sortBy:g.value,someSelected:l.value,allSelected:u.value,getSortIcon:()=>""},Y=typeof e.cellProps=="function"?e.cellProps({index:O.index,item:O.item,internalItem:O.internalItem,value:O.value,column:k}):e.cellProps,H=typeof k.cellProps=="function"?k.cellProps({index:O.index,item:O.item,internalItem:O.internalItem,value:O.value}):k.cellProps;return h(Mh,it({align:k.align,class:{"v-data-table__td--expanded-row":k.key==="data-table-expand","v-data-table__td--select-row":k.key==="data-table-select"},fixed:k.fixed,fixedOffset:k.fixedOffset,lastFixed:k.lastFixed,maxWidth:r.value?void 0:k.maxWidth,noPadding:k.key==="data-table-select"||k.key==="data-table-expand",nowrap:k.nowrap,width:r.value?void 0:k.width},Y,H),{default:()=>{var j,G,F,ce;if(k.key==="data-table-select")return((j=n["item.data-table-select"])==null?void 0:j.call(n,{...O,props:{disabled:!w.selectable,modelValue:i([w]),onClick:Ka(()=>o(w),["stop"])}}))??h(Zs,{disabled:!w.selectable,modelValue:i([w]),onClick:Ka(Z=>o(w,e.index,Z),["stop"])},null);if(k.key==="data-table-expand")return((G=n["item.data-table-expand"])==null?void 0:G.call(n,{...O,props:{icon:d(w)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ka(()=>m(w),["stop"])}}))??h(wn,{icon:d(w)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ka(()=>m(w),["stop"])},null);if(n[I]&&!r.value)return n[I](O);const B=ve(O.value);return r.value?P(ht,null,[P("div",{class:"v-data-table__td-title"},[((F=n[V])==null?void 0:F.call(n,U))??k.title]),P("div",{class:"v-data-table__td-value"},[((ce=n[I])==null?void 0:ce.call(n,O))??B])]):B}})})]))}}),bT=ze({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...tc()},"VDataTableRows"),Xu=ot()({name:"VDataTableRows",inheritAttrs:!1,props:bT(),setup(e,t){let{attrs:n,slots:a}=t;const{columns:r}=wv(),{expandOnClick:i,toggleExpand:o,isExpanded:l}=tT(),{isSelected:u,toggleSelect:f}=gv(),{toggleGroup:d,isGroupOpen:m}=aT(),{t:p}=_a(),{mobile:g}=Ji(e);return dt(()=>{var y,S;return e.loading&&(!e.items.length||a.loading)?P("tr",{class:"v-data-table-rows-loading",key:"loading"},[P("td",{colspan:r.value.length},[((y=a.loading)==null?void 0:y.call(a))??p(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?P("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[P("td",{colspan:r.value.length},[((S=a["no-data"])==null?void 0:S.call(a))??p(e.noDataText)])]):P(ht,null,[e.items.map((k,C)=>{var V;if(k.type==="group"){const O={index:C,item:k,columns:r.value,isExpanded:l,toggleExpand:o,isSelected:u,toggleSelect:f,toggleGroup:d,isGroupOpen:m};return a["group-header"]?a["group-header"](O):h(oU,it({key:`group-header_${k.id}`,item:k},m1(n,":group-header",()=>O)),a)}const w={index:C,item:k.raw,internalItem:k,columns:r.value,isExpanded:l,toggleExpand:o,isSelected:u,toggleSelect:f},I={...w,props:it({key:`item_${k.key??k.index}`,onClick:i.value?()=>{o(k)}:void 0,index:C,item:k,cellProps:e.cellProps,mobile:g.value},m1(n,":row",()=>w),typeof e.rowProps=="function"?e.rowProps({item:w.item,index:w.index,internalItem:w.internalItem}):e.rowProps)};return P(ht,{key:I.props.key},[a.item?a.item(I):h(sb,I.props,a),l(k)&&((V=a["expanded-row"])==null?void 0:V.call(a,w))])})])}),{}}}),wT=ze({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ot(),...rr(),...nn(),...yn()},"VTable"),Ju=ot()({name:"VTable",props:wT(),setup(e,t){let{slots:n,emit:a}=t;const{themeClasses:r}=Mn(e),{densityClasses:i}=Hr(e);return dt(()=>h(e.tag,{class:Ge(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,i.value,e.class]),style:vt(e.style)},{default:()=>{var o,l,u;return[(o=n.top)==null?void 0:o.call(n),n.default?P("div",{class:"v-table__wrapper",style:{height:Vt(e.height)}},[P("table",null,[n.default()])]):(l=n.wrapper)==null?void 0:l.call(n),(u=n.bottom)==null?void 0:u.call(n)]}})),{}}}),lU=ze({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function uU(e,t,n,a){const r=e.returnObject?t:La(t,e.itemValue),i=La(t,e.itemSelectable,!0),o=a.reduce((l,u)=>(u.key!=null&&(l[u.key]=La(t,u.value)),l),{});return{type:"item",key:e.returnObject?La(t,e.itemValue):r,index:n,value:r,selectable:i,columns:o,raw:t}}function cU(e,t,n){return t.map((a,r)=>uU(e,a,r,n))}function lb(e,t){return{items:L(()=>cU(e,e.items,t.value))}}const ub=ze({...bT(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ZP(),...Jy(),...Zq(),...lU(),...cT(),...fT(),...yT(),...wT()},"DataTable"),dU=ze({...eb(),...ub(),...lm(),...rb()},"VDataTable"),fU=ot()({name:"VDataTable",props:dU(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{groupBy:r}=Zy(e),{sortBy:i,multiSort:o,mustSort:l}=yv(e),{page:u,itemsPerPage:f}=tb(e),{disableSort:d}=kd(e),{columns:m,headers:p,sortFunctions:g,sortRawFunctions:y,filterFunctions:S}=ob(e,{groupBy:r,showSelect:Pe(()=>e.showSelect),showExpand:Pe(()=>e.showExpand)}),{items:k}=lb(e,m),C=Pe(()=>e.search),{filteredItems:w}=um(e,k,C,{transform:R=>R.columns,customKeyFilter:S}),{toggleSort:I}=bv({sortBy:i,multiSort:o,mustSort:l,page:u}),{sortByWithGroups:V,opened:O,extractRows:U,isGroupOpen:Y,toggleGroup:H}=hv({groupBy:r,sortBy:i,disableSort:d}),{sortedItems:B}=ab(e,w,V,{transform:R=>({...R.raw,...R.columns}),sortFunctions:g,sortRawFunctions:y}),{flatItems:j}=vv(B,r,O),G=L(()=>j.value.length),{startIndex:F,stopIndex:ce,pageCount:Z,setItemsPerPage:le}=nb({page:u,itemsPerPage:f,itemsLength:G}),{paginatedItems:ae}=sT({items:j,startIndex:F,stopIndex:ce,itemsPerPage:f}),_e=L(()=>U(ae.value)),{isSelected:Ee,select:$e,selectAll:re,toggleSelect:ee,someSelected:ge,allSelected:se}=pv(e,{allItems:k,currentPage:_e}),{isExpanded:ye,toggleExpand:Me}=mv(e);_v({page:u,itemsPerPage:f,sortBy:i,groupBy:r,search:C}),va({VDataTableRows:{hideNoData:Pe(()=>e.hideNoData),noDataText:Pe(()=>e.noDataText),loading:Pe(()=>e.loading),loadingText:Pe(()=>e.loadingText)}});const De=L(()=>({page:u.value,itemsPerPage:f.value,sortBy:i.value,pageCount:Z.value,toggleSort:I,setItemsPerPage:le,someSelected:ge.value,allSelected:se.value,isSelected:Ee,select:$e,selectAll:re,toggleSelect:ee,isExpanded:ye,toggleExpand:Me,isGroupOpen:Y,toggleGroup:H,items:_e.value.map(R=>R.raw),internalItems:_e.value,groupedItems:ae.value,columns:m.value,headers:p.value}));return dt(()=>{const R=Nf.filterProps(e),Oe=Qu.filterProps(e),He=Xu.filterProps(e),at=Ju.filterProps(e);return h(Ju,it({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},at,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var Be;return(Be=a.top)==null?void 0:Be.call(a,De.value)},default:()=>{var Be,N,Q,pe,W,Ve;return a.default?a.default(De.value):P(ht,null,[(Be=a.colgroup)==null?void 0:Be.call(a,De.value),!e.hideDefaultHeader&&P("thead",{key:"thead"},[h(Qu,Oe,a)]),(N=a.thead)==null?void 0:N.call(a,De.value),!e.hideDefaultBody&&P("tbody",null,[(Q=a["body.prepend"])==null?void 0:Q.call(a,De.value),a.body?a.body(De.value):h(Xu,it(n,He,{items:ae.value}),a),(pe=a["body.append"])==null?void 0:pe.call(a,De.value)]),(W=a.tbody)==null?void 0:W.call(a,De.value),(Ve=a.tfoot)==null?void 0:Ve.call(a,De.value)])},bottom:()=>a.bottom?a.bottom(De.value):!e.hideDefaultFooter&&P(ht,null,[h(Ws,null,null),h(Nf,R,{prepend:a["footer.prepend"]})])})}),{}}}),mU=ze({...ha(ub(),["hideDefaultFooter"]),...Jy(),...OP(),...lm()},"VDataTableVirtual"),hU=ot()({name:"VDataTableVirtual",props:mU(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{groupBy:r}=Zy(e),{sortBy:i,multiSort:o,mustSort:l}=yv(e),{disableSort:u}=kd(e),{columns:f,headers:d,filterFunctions:m,sortFunctions:p,sortRawFunctions:g}=ob(e,{groupBy:r,showSelect:Pe(()=>e.showSelect),showExpand:Pe(()=>e.showExpand)}),{items:y}=lb(e,f),S=Pe(()=>e.search),{filteredItems:k}=um(e,y,S,{transform:at=>at.columns,customKeyFilter:m}),{toggleSort:C}=bv({sortBy:i,multiSort:o,mustSort:l}),{sortByWithGroups:w,opened:I,extractRows:V,isGroupOpen:O,toggleGroup:U}=hv({groupBy:r,sortBy:i,disableSort:u}),{sortedItems:Y}=ab(e,k,w,{transform:at=>({...at.raw,...at.columns}),sortFunctions:p,sortRawFunctions:g}),{flatItems:H}=vv(Y,r,I),B=L(()=>V(H.value)),{isSelected:j,select:G,selectAll:F,toggleSelect:ce,someSelected:Z,allSelected:le}=pv(e,{allItems:B,currentPage:B}),{isExpanded:ae,toggleExpand:_e}=mv(e),{containerRef:Ee,markerRef:$e,paddingTop:re,paddingBottom:ee,computedItems:ge,handleItemResize:se,handleScroll:ye,handleScrollend:Me,calculateVisibleItems:De,scrollToIndex:R}=MP(e,H),Oe=L(()=>ge.value.map(at=>at.raw));_v({sortBy:i,page:kt(1),itemsPerPage:kt(-1),groupBy:r,search:S}),va({VDataTableRows:{hideNoData:Pe(()=>e.hideNoData),noDataText:Pe(()=>e.noDataText),loading:Pe(()=>e.loading),loadingText:Pe(()=>e.loadingText)}});const He=L(()=>({sortBy:i.value,toggleSort:C,someSelected:Z.value,allSelected:le.value,isSelected:j,select:G,selectAll:F,toggleSelect:ce,isExpanded:ae,toggleExpand:_e,isGroupOpen:O,toggleGroup:U,items:B.value.map(at=>at.raw),internalItems:B.value,groupedItems:H.value,columns:f.value,headers:d.value}));return dt(()=>{const at=Qu.filterProps(e),Be=Xu.filterProps(e),N=Ju.filterProps(e);return h(Ju,it({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},N,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var Q;return(Q=a.top)==null?void 0:Q.call(a,He.value)},wrapper:()=>{var Q,pe,W,Ve,Ie,We;return P("div",{ref:Ee,onScrollPassive:ye,onScrollend:Me,class:"v-table__wrapper",style:{height:Vt(e.height)}},[P("table",null,[(Q=a.colgroup)==null?void 0:Q.call(a,He.value),!e.hideDefaultHeader&&P("thead",{key:"thead"},[h(Qu,at,a)]),(pe=a.thead)==null?void 0:pe.call(a,He.value),!e.hideDefaultBody&&P("tbody",{key:"tbody"},[P("tr",{ref:$e,style:{height:Vt(re.value),border:0}},[P("td",{colspan:f.value.length,style:{height:0,border:0}},null)]),(W=a["body.prepend"])==null?void 0:W.call(a,He.value),h(Xu,it(n,Be,{items:Oe.value}),{...a,item:Qe=>h(VP,{key:Qe.internalItem.index,renderless:!0,"onUpdate:height":st=>se(Qe.internalItem.index,st)},{default:st=>{var Tt;let{itemRef:tt}=st;return((Tt=a.item)==null?void 0:Tt.call(a,{...Qe,itemRef:tt}))??h(sb,it(Qe.props,{ref:tt,key:Qe.internalItem.index,index:Qe.internalItem.index}),a)}})}),(Ve=a["body.append"])==null?void 0:Ve.call(a,He.value),P("tr",{style:{height:Vt(ee.value),border:0}},[P("td",{colspan:f.value.length,style:{height:0,border:0}},null)])]),(Ie=a.tbody)==null?void 0:Ie.call(a,He.value),(We=a.tfoot)==null?void 0:We.call(a,He.value)])])},bottom:()=>{var Q;return(Q=a.bottom)==null?void 0:Q.call(a,He.value)}})}),{calculateVisibleItems:De,scrollToIndex:R}}}),vU=ze({itemsLength:{type:[Number,String],required:!0},...eb(),...ub(),...rb()},"VDataTableServer"),_U=ot()({name:"VDataTableServer",props:vU(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{groupBy:r}=Zy(e),{sortBy:i,multiSort:o,mustSort:l}=yv(e),{page:u,itemsPerPage:f}=tb(e),{disableSort:d}=kd(e),m=L(()=>parseInt(e.itemsLength,10)),{columns:p,headers:g}=ob(e,{groupBy:r,showSelect:Pe(()=>e.showSelect),showExpand:Pe(()=>e.showExpand)}),{items:y}=lb(e,p),{toggleSort:S}=bv({sortBy:i,multiSort:o,mustSort:l,page:u}),{opened:k,isGroupOpen:C,toggleGroup:w,extractRows:I}=hv({groupBy:r,sortBy:i,disableSort:d}),{pageCount:V,setItemsPerPage:O}=nb({page:u,itemsPerPage:f,itemsLength:m}),{flatItems:U}=vv(y,r,k),{isSelected:Y,select:H,selectAll:B,toggleSelect:j,someSelected:G,allSelected:F}=pv(e,{allItems:y,currentPage:y}),{isExpanded:ce,toggleExpand:Z}=mv(e),le=L(()=>I(y.value));_v({page:u,itemsPerPage:f,sortBy:i,groupBy:r,search:Pe(()=>e.search)}),ra("v-data-table",{toggleSort:S,sortBy:i}),va({VDataTableRows:{hideNoData:Pe(()=>e.hideNoData),noDataText:Pe(()=>e.noDataText),loading:Pe(()=>e.loading),loadingText:Pe(()=>e.loadingText)}});const ae=L(()=>({page:u.value,itemsPerPage:f.value,sortBy:i.value,pageCount:V.value,toggleSort:S,setItemsPerPage:O,someSelected:G.value,allSelected:F.value,isSelected:Y,select:H,selectAll:B,toggleSelect:j,isExpanded:ce,toggleExpand:Z,isGroupOpen:C,toggleGroup:w,items:le.value.map(_e=>_e.raw),internalItems:le.value,groupedItems:U.value,columns:p.value,headers:g.value}));dt(()=>{const _e=Nf.filterProps(e),Ee=Qu.filterProps(e),$e=Xu.filterProps(e),re=Ju.filterProps(e);return h(Ju,it({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},re,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var ee;return(ee=a.top)==null?void 0:ee.call(a,ae.value)},default:()=>{var ee,ge,se,ye,Me,De;return a.default?a.default(ae.value):P(ht,null,[(ee=a.colgroup)==null?void 0:ee.call(a,ae.value),!e.hideDefaultHeader&&P("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[h(Qu,Ee,a)]),(ge=a.thead)==null?void 0:ge.call(a,ae.value),!e.hideDefaultBody&&P("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(se=a["body.prepend"])==null?void 0:se.call(a,ae.value),a.body?a.body(ae.value):h(Xu,it(n,$e,{items:U.value}),a),(ye=a["body.append"])==null?void 0:ye.call(a,ae.value)]),(Me=a.tbody)==null?void 0:Me.call(a,ae.value),(De=a.tfoot)==null?void 0:De.call(a,ae.value)])},bottom:()=>a.bottom?a.bottom(ae.value):!e.hideDefaultFooter&&P(ht,null,[h(Ws,null,null),h(Nf,_e,{prepend:a["footer.prepend"]})])})})}}),pU=ze({fluid:{type:Boolean,default:!1},...Ot(),...Ha(),...nn()},"VContainer"),gU=ot()({name:"VContainer",props:pU(),setup(e,t){let{slots:n}=t;const{rtlClasses:a}=Ua(),{dimensionStyles:r}=za(e);return dt(()=>h(e.tag,{class:Ge(["v-container",{"v-container--fluid":e.fluid},a.value,e.class]),style:vt([r.value,e.style])},n)),{}}}),kT=Qh.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),ST=Qh.reduce((e,t)=>{const n="offset"+ns(t);return e[n]={type:[String,Number],default:null},e},{}),CT=Qh.reduce((e,t)=>{const n="order"+ns(t);return e[n]={type:[String,Number],default:null},e},{}),ok={col:Object.keys(kT),offset:Object.keys(ST),order:Object.keys(CT)};function yU(e,t,n){let a=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");a+=`-${r}`}return e==="col"&&(a="v-"+a),e==="col"&&(n===""||n===!0)||(a+=`-${n}`),a.toLowerCase()}}const bU=["auto","start","end","center","baseline","stretch"],wU=ze({cols:{type:[Boolean,String,Number],default:!1},...kT,offset:{type:[String,Number],default:null},...ST,order:{type:[String,Number],default:null},...CT,alignSelf:{type:String,default:null,validator:e=>bU.includes(e)},...Ot(),...nn()},"VCol"),kU=ot()({name:"VCol",props:wU(),setup(e,t){let{slots:n}=t;const a=L(()=>{const r=[];let i;for(i in ok)ok[i].forEach(l=>{const u=e[l],f=yU(i,l,u);f&&r.push(f)});const o=r.some(l=>l.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return rs(e.tag,{class:[a.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),cb=["start","end","center"],xT=["space-between","space-around","space-evenly"];function db(e,t){return Qh.reduce((n,a)=>{const r=e+ns(a);return n[r]=t(),n},{})}const SU=[...cb,"baseline","stretch"],PT=e=>SU.includes(e),TT=db("align",()=>({type:String,default:null,validator:PT})),CU=[...cb,...xT],DT=e=>CU.includes(e),IT=db("justify",()=>({type:String,default:null,validator:DT})),xU=[...cb,...xT,"stretch"],AT=e=>xU.includes(e),ET=db("alignContent",()=>({type:String,default:null,validator:AT})),sk={align:Object.keys(TT),justify:Object.keys(IT),alignContent:Object.keys(ET)},PU={align:"align",justify:"justify",alignContent:"align-content"};function TU(e,t,n){let a=PU[e];if(n!=null){if(t){const r=t.replace(e,"");a+=`-${r}`}return a+=`-${n}`,a.toLowerCase()}}const DU=ze({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:PT},...TT,justify:{type:String,default:null,validator:DT},...IT,alignContent:{type:String,default:null,validator:AT},...ET,...Ot(),...nn()},"VRow"),IU=ot()({name:"VRow",props:DU(),setup(e,t){let{slots:n}=t;const a=L(()=>{const r=[];let i;for(i in sk)sk[i].forEach(o=>{const l=e[o],u=TU(i,o,l);u&&r.push(u)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return rs(e.tag,{class:["v-row",a.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),VT=os("v-spacer","div","VSpacer"),OT=ze({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:Ut,default:"$next"},prevIcon:{type:Ut,default:"$prev"},modeIcon:{type:Ut,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),og=ot()({name:"VDatePickerControls",props:OT(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const a=L(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=L(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),i=L(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=L(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function l(){n("click:prev")}function u(){n("click:next")}function f(){n("click:year")}function d(){n("click:month")}return dt(()=>P("div",{class:Ge(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":Vt(e.controlHeight)}},[h(wn,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:a.value,text:e.text,variant:"text",rounded:!0,onClick:d},null),h(wn,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:f},null),h(VT,null,null),P("div",{class:"v-date-picker-controls__month"},[h(wn,{"data-testid":"prev-month",disabled:i.value,density:"comfortable",icon:e.prevIcon,variant:"text",onClick:l},null),h(wn,{"data-testid":"next-month",disabled:o.value,icon:e.nextIcon,density:"comfortable",variant:"text",onClick:u},null)])])),{}}}),AU=ze({appendIcon:Ut,color:String,header:String,transition:String,onClick:mr()},"VDatePickerHeader"),sg=ot()({name:"VDatePickerHeader",props:AU(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:a}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=Yn(()=>e.color);function o(){n("click")}function l(){n("click:append")}return dt(()=>{const u=!!(a.default||e.header),f=!!(a.append||e.appendIcon);return P("div",{class:Ge(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value]),style:vt(i.value),onClick:o},[a.prepend&&P("div",{key:"prepend",class:"v-date-picker-header__prepend"},[a.prepend()]),u&&h(Nr,{key:"content",name:e.transition},{default:()=>{var d;return[P("div",{key:e.header,class:"v-date-picker-header__content"},[((d=a.default)==null?void 0:d.call(a))??e.header])]}}),f&&P("div",{class:"v-date-picker-header__append"},[a.append?h(an,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=a.append)==null?void 0:d.call(a)]}}):h(wn,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:l},null)])])}),{}}}),EU=ze({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0}},"calendar");function VU(e){const t=Yf(),n=Lt(e,"modelValue",[],g=>da(g).map(y=>t.date(y))),a=L(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=Lt(e,"year",void 0,g=>{const y=g!=null?Number(g):t.getYear(a.value);return t.startOfYear(t.setYear(t.date(),y))},g=>t.getYear(g)),i=Lt(e,"month",void 0,g=>{const y=g!=null?Number(g):t.getMonth(a.value),S=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(S,y)},g=>t.getMonth(g)),o=L(()=>{const g=t.toJsDate(t.startOfWeek(t.date(),e.firstDayOfWeek)).getDay();return[0,1,2,3,4,5,6].map(y=>(y+g)%7)}),l=L(()=>{const g=t.getWeekArray(i.value,e.firstDayOfWeek),y=g.flat(),S=6*7;if(e.weeksInMonth==="static"&&y.length<S){const k=y[y.length-1];let C=[];for(let w=1;w<=S-y.length;w++)C.push(t.addDays(k,w)),w%7===0&&(g.push(C),C=[])}return g});function u(g,y){return g.filter(S=>o.value.includes(t.toJsDate(S).getDay())).map((S,k)=>{const C=t.toISO(S),w=!t.isSameMonth(S,i.value),I=t.isSameDay(S,t.startOfMonth(i.value)),V=t.isSameDay(S,t.endOfMonth(i.value)),O=t.isSameDay(S,i.value);return{date:S,formatted:t.format(S,"keyboardDate"),isAdjacent:w,isDisabled:p(S),isEnd:V,isHidden:w&&!e.showAdjacentMonths,isSame:O,isSelected:n.value.some(U=>t.isSameDay(S,U)),isStart:I,isToday:t.isSameDay(S,y),isWeekEnd:k%7===6,isWeekStart:k%7===0,isoDate:C,localized:t.format(S,"dayOfMonth"),month:t.getMonth(S),year:t.getYear(S)}})}const f=L(()=>{const g=t.startOfWeek(a.value,e.firstDayOfWeek),y=[];for(let k=0;k<=6;k++)y.push(t.addDays(g,k));const S=t.date();return u(y,S)}),d=L(()=>{const g=l.value.flat(),y=t.date();return u(g,y)}),m=L(()=>l.value.map(g=>g.length?t.getWeek(g[0],e.firstDayOfWeek):null));function p(g){if(e.disabled)return!0;const y=t.date(g);return e.min&&t.isAfter(t.date(e.min),y)||e.max&&t.isAfter(y,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(S=>t.isSameDay(t.date(S),y)):typeof e.allowedDates=="function"?!e.allowedDates(y):!e.weekdays.includes(t.toJsDate(y).getDay())}return{displayValue:a,daysInMonth:d,daysInWeek:f,genDays:u,model:n,weeksInMonth:l,weekDays:o,weekNumbers:m}}const MT=ze({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...ha(EU(),["displayValue"])},"VDatePickerMonth"),lg=ot()({name:"VDatePickerMonth",props:MT(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Ne(),{daysInMonth:i,model:o,weekNumbers:l}=VU(e),u=Yf(),f=kt(),d=kt(),m=kt(!1),p=Pe(()=>m.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(f.value=o.value[0],o.value.length>1&&(d.value=o.value[o.value.length-1]));const g=L(()=>{const C=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=C});yt(i,(C,w)=>{w&&(m.value=u.isBefore(C[0].date,w[0].date))});function y(C){const w=u.startOfDay(C);if(o.value.length===0?f.value=void 0:o.value.length===1&&(f.value=o.value[0],d.value=void 0),!f.value)f.value=w,o.value=[f.value];else if(d.value)f.value=C,d.value=void 0,o.value=[f.value];else{if(u.isSameDay(w,f.value)){f.value=void 0,o.value=[];return}else u.isBefore(w,f.value)?(d.value=u.endOfDay(f.value),f.value=w):d.value=u.endOfDay(w);o.value=p$(u,f.value,d.value)}}function S(C){const w=o.value.findIndex(I=>u.isSameDay(I,C));if(w===-1)o.value=[...o.value,C];else{const I=[...o.value];I.splice(w,1),o.value=I}}function k(C){e.multiple==="range"?y(C):e.multiple?S(C):o.value=[C]}dt(()=>P("div",{class:"v-date-picker-month"},[e.showWeek&&P("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&P("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ye("")]),l.value.map(C=>P("div",{class:Ge(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[C]))]),h(Nr,{name:p.value},{default:()=>{var C;return[P("div",{ref:r,key:(C=i.value[0].date)==null?void 0:C.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&u.getWeekdays(e.firstDayOfWeek).map(w=>P("div",{class:Ge(["v-date-picker-month__day","v-date-picker-month__weekday"])},[w])),i.value.map((w,I)=>{var O;const V={props:{class:"v-date-picker-month__day-btn",color:w.isSelected||w.isToday?e.color:void 0,disabled:w.isDisabled,icon:!0,ripple:!1,text:w.localized,variant:w.isSelected?"flat":w.isToday?"outlined":"text",onClick:()=>k(w.date)},item:w,i:I};return g.value&&!w.isSelected&&(w.isDisabled=!0),P("div",{class:Ge(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":w.isAdjacent,"v-date-picker-month__day--hide-adjacent":w.isHidden,"v-date-picker-month__day--selected":w.isSelected,"v-date-picker-month__day--week-end":w.isWeekEnd,"v-date-picker-month__day--week-start":w.isWeekStart}]),"data-v-date":w.isDisabled?void 0:w.isoDate},[(e.showAdjacentMonths||!w.isAdjacent)&&(((O=a.day)==null?void 0:O.call(a,V))??h(wn,V.props,null))])})])]}})]))}}),BT=ze({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),ug=ot()({name:"VDatePickerMonths",props:BT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Yf(),i=Lt(e,"modelValue"),o=L(()=>{let u=r.startOfYear(r.date());return e.year&&(u=r.setYear(u,e.year)),Yo(12).map(f=>{const d=r.format(u,"monthShort"),m=!!(!l(f)||e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),u)||e.max&&r.isAfter(u,r.startOfMonth(r.date(e.max))));return u=r.getNextMonth(u),{isDisabled:m,text:d,value:f}})});fa(()=>{i.value=i.value??r.getMonth(r.date())});function l(u){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(u):typeof e.allowedMonths=="function"?e.allowedMonths(u):!0}return dt(()=>P("div",{class:"v-date-picker-months",style:{height:Vt(e.height)}},[P("div",{class:"v-date-picker-months__content"},[o.value.map((u,f)=>{var p;const d={active:i.value===f,color:i.value===f?e.color:void 0,disabled:u.isDisabled,rounded:!0,text:u.text,variant:i.value===u.value?"flat":"text",onClick:()=>m(f)};function m(g){if(i.value===g){n("update:modelValue",i.value);return}i.value=g}return((p=a.month)==null?void 0:p.call(a,{month:u,i:f,props:d}))??h(wn,it({key:"month"},d),null)})])])),{}}}),RT=ze({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),cg=ot()({name:"VDatePickerYears",props:RT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Yf(),i=Lt(e,"modelValue"),o=L(()=>{const f=r.getYear(r.date());let d=f-100,m=f+52;e.min&&(d=r.getYear(r.date(e.min))),e.max&&(m=r.getYear(r.date(e.max)));let p=r.startOfYear(r.date());return p=r.setYear(p,d),Yo(m-d+1,d).map(g=>{const y=r.format(p,"year");return p=r.setYear(p,r.getYear(p)+1),{text:y,value:g,isDisabled:!u(g)}})});fa(()=>{i.value=i.value??r.getYear(r.date())});const l=kh();Pn(async()=>{var f;await Qt(),(f=l.el)==null||f.focus()});function u(f){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(f):typeof e.allowedYears=="function"?e.allowedYears(f):!0}return dt(()=>P("div",{class:"v-date-picker-years",style:{height:Vt(e.height)}},[P("div",{class:"v-date-picker-years__content"},[o.value.map((f,d)=>{var p;const m={ref:i.value===f.value?l:void 0,active:i.value===f.value,color:i.value===f.value?e.color:void 0,rounded:!0,text:f.text,disabled:f.isDisabled,variant:i.value===f.value?"flat":"text",onClick:()=>{if(i.value===f.value){n("update:modelValue",i.value);return}i.value=f.value}};return((p=a.year)==null?void 0:p.call(a,{year:f,i:d,props:m}))??h(wn,it({key:"month"},m),null)})])])),{}}}),OU=ze({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...OT(),...MT({weeksInMonth:"static"}),...ha(BT(),["modelValue"]),...ha(RT(),["modelValue"]),...Xy({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),MU=ot()({name:"VDatePicker",props:OU(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Yf(),{t:i}=_a(),{rtlClasses:o}=Ua(),l=Lt(e,"modelValue",void 0,ae=>da(ae).map(_e=>r.date(_e)),ae=>e.multiple?ae:ae[0]),u=Lt(e,"viewMode"),f=L(()=>{const ae=r.date(e.min);return e.min&&r.isValid(ae)?ae:null}),d=L(()=>{const ae=r.date(e.max);return e.max&&r.isValid(ae)?ae:null}),m=L(()=>{var Ee;const ae=r.date();let _e=ae;return(Ee=l.value)!=null&&Ee[0]?_e=r.date(l.value[0]):f.value&&r.isBefore(ae,f.value)?_e=f.value:d.value&&r.isAfter(ae,d.value)&&(_e=d.value),_e&&r.isValid(_e)?_e:ae}),p=Pe(()=>e.headerColor??e.color),g=Lt(e,"month"),y=L({get:()=>Number(g.value??r.getMonth(r.startOfMonth(m.value))),set:ae=>g.value=ae}),S=Lt(e,"year"),k=L({get:()=>Number(S.value??r.getYear(r.startOfYear(r.setMonth(m.value,y.value)))),set:ae=>S.value=ae}),C=kt(!1),w=L(()=>e.multiple&&l.value.length>1?i("$vuetify.datePicker.itemsSelected",l.value.length):l.value[0]&&r.isValid(l.value[0])?r.format(r.date(l.value[0]),"normalDateWithWeekday"):i(e.header)),I=L(()=>{let ae=r.date();return ae=r.setDate(ae,1),ae=r.setMonth(ae,y.value),ae=r.setYear(ae,k.value),r.format(ae,"monthAndYear")}),V=Pe(()=>`date-picker-header${C.value?"-reverse":""}-transition`),O=L(()=>{if(e.disabled)return!0;const ae=[];if(u.value!=="month")ae.push("prev","next");else{let _e=r.date();if(_e=r.startOfMonth(_e),_e=r.setMonth(_e,y.value),_e=r.setYear(_e,k.value),f.value){const Ee=r.addDays(r.startOfMonth(_e),-1);r.isAfter(f.value,Ee)&&ae.push("prev")}if(d.value){const Ee=r.addDays(r.endOfMonth(_e),1);r.isAfter(Ee,d.value)&&ae.push("next")}}return ae});function U(ae,_e){const Ee=e.allowedDates;if(typeof Ee!="function")return!0;const $e=r.getDiff(_e,ae,"days");for(let re=0;re<$e;re++)if(Ee(r.addDays(ae,re)))return!0;return!1}function Y(ae){if(typeof e.allowedDates=="function"){const _e=r.parseISO(`${ae}-01-01`);return U(_e,r.endOfYear(_e))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const _e of e.allowedDates)if(r.getYear(r.date(_e))===ae)return!0;return!1}return!0}function H(ae){if(typeof e.allowedDates=="function"){const _e=r.parseISO(`${k.value}-${ae+1}-01`);return U(_e,r.endOfMonth(_e))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const _e of e.allowedDates)if(r.getYear(r.date(_e))===k.value&&r.getMonth(r.date(_e))===ae)return!0;return!1}return!0}function B(){y.value<11?y.value++:(k.value++,y.value=0,le()),Z()}function j(){y.value>0?y.value--:(k.value--,y.value=11,le()),Z()}function G(){u.value="month"}function F(){u.value=u.value==="months"?"month":"months"}function ce(){u.value=u.value==="year"?"month":"year"}function Z(){u.value==="months"&&F()}function le(){u.value==="year"&&ce()}return yt(l,(ae,_e)=>{const Ee=da(_e),$e=da(ae);if(!$e.length)return;const re=r.date(Ee[Ee.length-1]),ee=r.date($e[$e.length-1]),ge=r.getMonth(ee),se=r.getYear(ee);ge!==y.value&&(y.value=ge,Z()),se!==k.value&&(k.value=se,le()),C.value=r.isBefore(re,ee)}),dt(()=>{const ae=Oh.filterProps(e),_e=og.filterProps(e),Ee=sg.filterProps(e),$e=lg.filterProps(e),re=ha(ug.filterProps(e),["modelValue"]),ee=ha(cg.filterProps(e),["modelValue"]),ge={color:p.value,header:w.value,transition:V.value};return h(Oh,it(ae,{color:p.value,class:["v-date-picker",`v-date-picker--${u.value}`,{"v-date-picker--show-week":e.showWeek},o.value,e.class],style:e.style}),{title:()=>{var se;return((se=a.title)==null?void 0:se.call(a))??P("div",{class:"v-date-picker__title"},[i(e.title)])},header:()=>a.header?h(an,{defaults:{VDatePickerHeader:{...ge}}},{default:()=>{var se;return[(se=a.header)==null?void 0:se.call(a,ge)]}}):h(sg,it({key:"header"},Ee,ge,{onClick:u.value!=="month"?G:void 0}),{...a,default:void 0}),default:()=>P(ht,null,[h(og,it(_e,{disabled:O.value,text:I.value,"onClick:next":B,"onClick:prev":j,"onClick:month":F,"onClick:year":ce}),null),h(Of,{hideOnLeave:!0},{default:()=>[u.value==="months"?h(ug,it({key:"date-picker-months"},re,{modelValue:y.value,"onUpdate:modelValue":[se=>y.value=se,Z],min:f.value,max:d.value,year:k.value,allowedMonths:H}),null):u.value==="year"?h(cg,it({key:"date-picker-years"},ee,{modelValue:k.value,"onUpdate:modelValue":[se=>k.value=se,le],min:f.value,max:d.value,allowedYears:Y}),null):h(lg,it({key:"date-picker-month"},$e,{modelValue:l.value,"onUpdate:modelValue":se=>l.value=se,month:y.value,"onUpdate:month":[se=>y.value=se,Z],year:k.value,"onUpdate:year":[se=>k.value=se,le],min:f.value,max:d.value}),null)]})]),actions:a.actions})}),{}}}),BU=ze({actionText:String,bgColor:String,color:String,icon:Ut,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ot(),...Ha(),...ss({size:void 0}),...yn()},"VEmptyState"),RU=ot()({name:"VEmptyState",props:BU(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{themeClasses:r}=Mn(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Yn(()=>e.bgColor),{dimensionStyles:l}=za(e),{displayClasses:u}=Ji();function f(d){n("click:action",d)}return dt(()=>{var k,C,w;const d=!!(a.actions||e.actionText),m=!!(a.headline||e.headline),p=!!(a.title||e.title),g=!!(a.text||e.text),y=!!(a.media||e.image||e.icon),S=e.size||(e.image?200:96);return P("div",{class:Ge(["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,i.value,u.value,e.class]),style:vt([o.value,l.value,e.style])},[y&&P("div",{key:"media",class:"v-empty-state__media"},[a.media?h(an,{key:"media-defaults",defaults:{VImg:{src:e.image,height:S},VIcon:{size:S,icon:e.icon}}},{default:()=>[a.media()]}):P(ht,null,[e.image?h(Js,{key:"image",src:e.image,height:S},null):e.icon?h(Vn,{key:"icon",color:e.color,size:S,icon:e.icon},null):void 0])]),m&&P("div",{key:"headline",class:"v-empty-state__headline"},[((k=a.headline)==null?void 0:k.call(a))??e.headline]),p&&P("div",{key:"title",class:"v-empty-state__title"},[((C=a.title)==null?void 0:C.call(a))??e.title]),g&&P("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Vt(e.textWidth)}},[((w=a.text)==null?void 0:w.call(a))??e.text]),a.default&&P("div",{key:"content",class:"v-empty-state__content"},[a.default()]),d&&P("div",{key:"actions",class:"v-empty-state__actions"},[h(an,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>{var I;return[((I=a.actions)==null?void 0:I.call(a,{props:{onClick:f}}))??h(wn,{onClick:f},null)]}})])])}),{}}}),qf=Symbol.for("vuetify:v-expansion-panel"),FT=ze({...Ot(),...zy()},"VExpansionPanelText"),dg=ot()({name:"VExpansionPanelText",props:FT(),setup(e,t){let{slots:n}=t;const a=fn(qf);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:i}=Wy(e,a.isSelected);return dt(()=>h(av,{onAfterLeave:i},{default:()=>{var o;return[xn(P("div",{class:Ge(["v-expansion-panel-text",e.class]),style:vt(e.style)},[n.default&&r.value&&P("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[Aa,a.isSelected.value]])]}})),{}}}),$T=ze({color:String,expandIcon:{type:Ut,default:"$expand"},collapseIcon:{type:Ut,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ot(),...Ha()},"VExpansionPanelTitle"),fg=ot()({name:"VExpansionPanelTitle",directives:{vRipple:Ur},props:$T(),setup(e,t){let{slots:n}=t;const a=fn(qf);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:i}=Yn(()=>e.color),{dimensionStyles:o}=za(e),l=L(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),u=Pe(()=>a.isSelected.value?e.collapseIcon:e.expandIcon);return dt(()=>{var f;return xn(P("button",{class:Ge(["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class]),style:vt([i.value,o.value,e.style]),type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[P("span",{class:"v-expansion-panel-title__overlay"},null),(f=n.default)==null?void 0:f.call(n,l.value),!e.hideActions&&h(an,{defaults:{VIcon:{icon:u.value}}},{default:()=>{var d;return[P("span",{class:"v-expansion-panel-title__icon"},[((d=n.actions)==null?void 0:d.call(n,l.value))??h(Vn,null,null)])]}})]),[[Ur,e.ripple]])}),{}}}),LT=ze({title:String,text:String,bgColor:String,...Qa(),...lc(),...sa(),...nn(),...$T(),...FT()},"VExpansionPanel"),FU=ot()({name:"VExpansionPanel",props:LT(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=uc(e,qf),{backgroundColorClasses:r,backgroundColorStyles:i}=Yn(()=>e.bgColor),{elevationClasses:o}=_r(e),{roundedClasses:l}=ga(e),u=Pe(()=>(a==null?void 0:a.disabled.value)||e.disabled),f=L(()=>a.group.items.value.reduce((p,g,y)=>(a.group.selected.value.includes(g.id)&&p.push(y),p),[])),d=L(()=>{const p=a.group.items.value.findIndex(g=>g.id===a.id);return!a.isSelected.value&&f.value.some(g=>g-p===1)}),m=L(()=>{const p=a.group.items.value.findIndex(g=>g.id===a.id);return!a.isSelected.value&&f.value.some(g=>g-p===-1)});return ra(qf,a),dt(()=>{const p=!!(n.text||e.text),g=!!(n.title||e.title),y=fg.filterProps(e),S=dg.filterProps(e);return h(e.tag,{class:Ge(["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":m.value,"v-expansion-panel--disabled":u.value},l.value,r.value,e.class]),style:vt([i.value,e.style])},{default:()=>[P("div",{class:Ge(["v-expansion-panel__shadow",...o.value])},null),h(an,{defaults:{VExpansionPanelTitle:{...y},VExpansionPanelText:{...S}}},{default:()=>{var k;return[g&&h(fg,{key:"title"},{default:()=>[n.title?n.title():e.title]}),p&&h(dg,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(k=n.default)==null?void 0:k.call(n)]}})]})}),{groupItem:a}}}),$U=["default","accordion","inset","popout"],LU=ze({flat:Boolean,...sc(),...Jl(LT(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...yn(),...Ot(),...nn(),variant:{type:String,default:"default",validator:e=>$U.includes(e)}},"VExpansionPanels"),NU=ot()({name:"VExpansionPanels",props:LU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:a,prev:r}=au(e,qf),{themeClasses:i}=Mn(e),o=Pe(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return va({VExpansionPanel:{bgColor:Pe(()=>e.bgColor),collapseIcon:Pe(()=>e.collapseIcon),color:Pe(()=>e.color),eager:Pe(()=>e.eager),elevation:Pe(()=>e.elevation),expandIcon:Pe(()=>e.expandIcon),focusable:Pe(()=>e.focusable),hideActions:Pe(()=>e.hideActions),readonly:Pe(()=>e.readonly),ripple:Pe(()=>e.ripple),rounded:Pe(()=>e.rounded),static:Pe(()=>e.static)}}),dt(()=>h(e.tag,{class:Ge(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},i.value,o.value,e.class]),style:vt(e.style)},{default:()=>{var l;return[(l=n.default)==null?void 0:l.call(n,{prev:r,next:a})]}})),{next:a,prev:r}}}),qU=ze({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...ha(ov({active:!0}),["location"]),...nc(),...il(),..._o({transition:"fab-transition"})},"VFab"),UU=ot()({name:"VFab",props:qU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),r=kt(56),i=Ne(),{resizeRef:o}=fo(m=>{m.length&&(r.value=m[0].target.clientHeight)}),l=Pe(()=>e.app||e.absolute),u=L(()=>{var m;return l.value?((m=e.location)==null?void 0:m.split(" ").shift())??"bottom":!1}),f=L(()=>{var m;return l.value?((m=e.location)==null?void 0:m.split(" ")[1])??"end":!1});ai(()=>e.app,()=>{const m=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:u,layoutSize:L(()=>e.layout?r.value+24:0),elementSize:L(()=>r.value+24),active:L(()=>e.app&&a.value),absolute:Pe(()=>e.absolute)});fa(()=>{i.value=m.layoutItemStyles.value})});const d=Ne();return dt(()=>{const m=wn.filterProps(e);return P("div",{ref:d,class:Ge(["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${u.value}`]:l.value,[`v-fab--${f.value}`]:l.value},e.class]),style:vt([e.app?{...i.value}:{height:e.absolute?"100%":"inherit"},e.style])},[P("div",{class:"v-fab__container"},[h(Nr,{appear:e.appear,transition:e.transition},{default:()=>[xn(h(wn,it({ref:o},m,{active:void 0,location:void 0}),n),[[Aa,e.active]])]})])])}),{}}});function HU(){function e(n){var r,i;return[...((r=n.dataTransfer)==null?void 0:r.items)??[]].filter(o=>o.kind==="file").map(o=>o.webkitGetAsEntry()).filter(Boolean).length>0||[...((i=n.dataTransfer)==null?void 0:i.files)??[]].length>0}async function t(n){var i,o;const a=[],r=[...((i=n.dataTransfer)==null?void 0:i.items)??[]].filter(l=>l.kind==="file").map(l=>l.webkitGetAsEntry()).filter(Boolean);if(r.length)for(const l of r){const u=await NT(l,qT(".",l));a.push(...u.map(f=>f.file))}else a.push(...((o=n.dataTransfer)==null?void 0:o.files)??[]);return a}return{handleDrop:t,hasFilesOrFolders:e}}function NT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((n,a)=>{e.isFile?e.file(i=>n([{file:i,path:t}]),a):e.isDirectory&&e.createReader().readEntries(async i=>{const o=[];for(const l of i)o.push(...await NT(l,qT(t,l)));n(o)})})}function qT(e,t){return t.isDirectory?`${e}/${t.name}`:e}const zU=ze({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...sl({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>da(e).every(t=>t!=null&&typeof t=="object")},...om({clearable:!0})},"VFileInput"),WU=ot()({name:"VFileInput",inheritAttrs:!1,props:zU(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{t:i}=_a(),o=Lt(e,"modelValue",e.modelValue,le=>da(le),le=>!e.multiple&&Array.isArray(le)?le[0]:le),{isFocused:l,focus:u,blur:f}=ol(e),d=L(()=>typeof e.showSize!="boolean"?e.showSize:void 0),m=L(()=>(o.value??[]).reduce((le,ae)=>{let{size:_e=0}=ae;return le+_e},0)),p=L(()=>Jw(m.value,d.value)),g=L(()=>(o.value??[]).map(le=>{const{name:ae="",size:_e=0}=le;return e.showSize?`${ae} (${Jw(_e,d.value)})`:ae})),y=L(()=>{var ae;const le=((ae=o.value)==null?void 0:ae.length)??0;return e.showSize?i(e.counterSizeString,le,p.value):i(e.counterString,le)}),S=Ne(),k=Ne(),C=Ne(),w=Pe(()=>l.value||e.active),I=L(()=>["plain","underlined"].includes(e.variant)),V=kt(!1),{handleDrop:O,hasFilesOrFolders:U}=HU();function Y(){var le;C.value!==document.activeElement&&((le=C.value)==null||le.focus()),l.value||u()}function H(le){var ae;(ae=C.value)==null||ae.click()}function B(le){a("mousedown:control",le)}function j(le){var ae;(ae=C.value)==null||ae.click(),a("click:control",le)}function G(le){le.stopPropagation(),Y(),Qt(()=>{o.value=[],Kh(e["onClick:clear"],le)})}function F(le){le.preventDefault(),le.stopImmediatePropagation(),V.value=!0}function ce(le){le.preventDefault(),V.value=!1}async function Z(le){if(le.preventDefault(),le.stopImmediatePropagation(),V.value=!1,!C.value||!U(le))return;const ae=new DataTransfer;for(const _e of await O(le))ae.items.add(_e);C.value.files=ae.files,C.value.dispatchEvent(new Event("change",{bubbles:!0}))}return yt(o,le=>{(!Array.isArray(le)||!le.length)&&C.value&&(C.value.value="")}),dt(()=>{const le=!!(r.counter||e.counter),ae=!!(le||r.details),[_e,Ee]=Zl(n),{modelValue:$e,...re}=Dr.filterProps(e),ee=Kl.filterProps(e);return h(Dr,it({ref:S,modelValue:e.multiple?o.value:o.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":V.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":I.value},e.class],style:e.style,"onClick:prepend":H},_e,re,{centerAffix:!I.value,focused:l.value}),{...r,default:ge=>{let{id:se,isDisabled:ye,isDirty:Me,isReadonly:De,isValid:R}=ge;return h(Kl,it({ref:k,"prepend-icon":e.prependIcon,onMousedown:B,onClick:j,"onClick:clear":G,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ee,{id:se.value,active:w.value||Me.value,dirty:Me.value||e.dirty,disabled:ye.value,focused:l.value,error:R.value===!1,onDragover:F,onDrop:Z}),{...r,default:Oe=>{var Be;let{props:{class:He,...at}}=Oe;return P(ht,null,[P("input",it({ref:C,type:"file",readonly:De.value,disabled:ye.value,multiple:e.multiple,name:e.name,onClick:N=>{N.stopPropagation(),De.value&&N.preventDefault(),Y()},onChange:N=>{if(!N.target)return;const Q=N.target;o.value=[...Q.files??[]]},onDragleave:ce,onFocus:Y,onBlur:f},at,Ee),null),P("div",{class:Ge(He)},[!!((Be=o.value)!=null&&Be.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:g.value,totalBytes:m.value,totalBytesReadable:p.value}):e.chips?g.value.map(N=>h(Ed,{key:N,size:"small",text:N},null)):g.value.join(", "))])])}})},details:ae?ge=>{var se,ye;return P(ht,null,[(se=r.details)==null?void 0:se.call(r,ge),le&&P(ht,null,[P("span",null,null),h(uv,{active:!!((ye=o.value)!=null&&ye.length),value:y.value,disabled:e.disabled},r.counter)])])}:void 0})}),Vi({},S,k,C)}}),jU=ze({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...vi(),...Ot(),...Qa(),...nc(),...sa(),...nn({tag:"footer"}),...yn()},"VFooter"),YU=ot()({name:"VFooter",props:jU(),setup(e,t){let{slots:n}=t;const a=Ne(),{themeClasses:r}=Mn(e),{backgroundColorClasses:i,backgroundColorStyles:o}=Yn(()=>e.color),{borderClasses:l}=Ei(e),{elevationClasses:u}=_r(e),{roundedClasses:f}=ga(e),d=kt(32),{resizeRef:m}=fo(g=>{g.length&&(d.value=g[0].target.clientHeight)}),p=L(()=>e.height==="auto"?d.value:parseInt(e.height,10));return ai(()=>e.app,()=>{const g=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:Pe(()=>"bottom"),layoutSize:p,elementSize:L(()=>e.height==="auto"?void 0:p.value),active:Pe(()=>e.app),absolute:Pe(()=>e.absolute)});fa(()=>{a.value=g.layoutItemStyles.value})}),dt(()=>h(e.tag,{ref:m,class:Ge(["v-footer",r.value,i.value,l.value,u.value,f.value,e.class]),style:vt([o.value,e.app?a.value:{height:Vt(e.height)},e.style])},n)),{}}}),KU=ze({...Ot(),...t8()},"VForm"),GU=ot()({name:"VForm",props:KU(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=n8(e),i=Ne();function o(u){u.preventDefault(),r.reset()}function l(u){const f=u,d=r.validate();f.then=d.then.bind(d),f.catch=d.catch.bind(d),f.finally=d.finally.bind(d),a("submit",f),f.defaultPrevented||d.then(m=>{var g;let{valid:p}=m;p&&((g=i.value)==null||g.submit())}),f.preventDefault()}return dt(()=>{var u;return P("form",{ref:i,class:Ge(["v-form",e.class]),style:vt(e.style),novalidate:!0,onReset:o,onSubmit:l},[(u=n.default)==null?void 0:u.call(n,r)])}),Vi(r,i)}}),QU=ze({disabled:Boolean,modelValue:{type:Boolean,default:null},...Uy()},"VHover"),XU=ot()({name:"VHover",props:QU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{runOpenDelay:r,runCloseDelay:i}=Hy(e,o=>!e.disabled&&(a.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:a.value,props:{onMouseenter:r,onMouseleave:i}})}}}),JU=ze({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Ha(),...nn()},"VInfiniteScroll"),lk=Ii({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:a,isIntersecting:r}=Jf();return yt(r,async i=>{n("intersect",e.side,i)}),dt(()=>P("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:a},[Ye("")])),{}}}),ZU=ot()({name:"VInfiniteScroll",props:JU(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Ne(),i=kt("ok"),o=kt("ok"),l=L(()=>Vt(e.margin)),u=kt(!1);function f(O){if(!r.value)return;const U=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[U]=O}function d(){if(!r.value)return 0;const O=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[O]}function m(){if(!r.value)return 0;const O=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[O]}function p(){if(!r.value)return 0;const O=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[O]}Pn(()=>{r.value&&(e.side==="start"?f(m()):e.side==="both"&&f(m()/2-p()/2))});function g(O,U){O==="start"?i.value=U:O==="end"&&(o.value=U)}function y(O){return O==="start"?i.value:o.value}let S=0;function k(O,U){u.value=U,u.value&&C(O)}function C(O){if(e.mode!=="manual"&&!u.value)return;const U=y(O);if(!r.value||["empty","loading"].includes(U))return;S=m(),g(O,"loading");function Y(H){g(O,H),Qt(()=>{H==="empty"||H==="error"||(H==="ok"&&O==="start"&&f(m()-S+d()),e.mode!=="manual"&&Qt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{C(O)})})})}))})}a("load",{side:O,done:Y})}const{t:w}=_a();function I(O,U){var B,j,G,F,ce;if(e.side!==O&&e.side!=="both")return;const Y=()=>C(O),H={side:O,props:{onClick:Y,color:e.color}};return U==="error"?(B=n.error)==null?void 0:B.call(n,H):U==="empty"?((j=n.empty)==null?void 0:j.call(n,H))??P("div",null,[w(e.emptyText)]):e.mode==="manual"?U==="loading"?((G=n.loading)==null?void 0:G.call(n,H))??h(pd,{indeterminate:!0,color:e.color},null):((F=n["load-more"])==null?void 0:F.call(n,H))??h(wn,{variant:"outlined",color:e.color,onClick:Y},{default:()=>[w(e.loadMoreText)]}):((ce=n.loading)==null?void 0:ce.call(n,H))??h(pd,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:V}=za(e);dt(()=>{const O=e.tag,U=e.side==="start"||e.side==="both",Y=e.side==="end"||e.side==="both",H=e.mode==="intersect";return h(O,{ref:r,class:Ge(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":U,"v-infinite-scroll--end":Y}]),style:vt(V.value)},{default:()=>{var B;return[P("div",{class:"v-infinite-scroll__side"},[I("start",i.value)]),U&&H&&h(lk,{key:"start",side:"start",onIntersect:k,rootMargin:l.value},null),(B=n.default)==null?void 0:B.call(n),Y&&H&&h(lk,{key:"end",side:"end",onIntersect:k,rootMargin:l.value},null),P("div",{class:"v-infinite-scroll__side"},[I("end",o.value)])]}})})}}),UT=Symbol.for("vuetify:v-item-group"),eH=ze({...Ot(),...sc({selectedClass:"v-item--selected"}),...nn(),...yn()},"VItemGroup"),tH=ot()({name:"VItemGroup",props:eH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{isSelected:r,select:i,next:o,prev:l,selected:u}=au(e,UT);return()=>h(e.tag,{class:Ge(["v-item-group",a.value,e.class]),style:vt(e.style)},{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n,{isSelected:r,select:i,next:o,prev:l,selected:u.value})]}})}}),nH=ot()({name:"VItem",props:lc(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:a,select:r,toggle:i,selectedClass:o,value:l,disabled:u}=uc(e,UT);return()=>{var f;return(f=n.default)==null?void 0:f.call(n,{isSelected:a.value,selectedClass:o.value,select:r,toggle:i,value:l.value,disabled:u.value})}}}),aH=os("v-kbd","kbd"),rH=ze({...Ot(),...Ha(),...RC()},"VLayout"),iH=ot()({name:"VLayout",props:rH(),setup(e,t){let{slots:n}=t;const{layoutClasses:a,layoutStyles:r,getLayoutItem:i,items:o,layoutRef:l}=$C(e),{dimensionStyles:u}=za(e);return dt(()=>{var f;return P("div",{ref:l,class:Ge([a.value,e.class]),style:vt([u.value,r.value,e.style])},[(f=n.default)==null?void 0:f.call(n)])}),{getLayoutItem:i,items:o}}}),oH=ze({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ot(),...nc()},"VLayoutItem"),sH=ot()({name:"VLayoutItem",props:oH(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:a}=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:Pe(()=>e.position),elementSize:Pe(()=>e.size),layoutSize:Pe(()=>e.size),active:Pe(()=>e.modelValue),absolute:Pe(()=>e.absolute)});return()=>{var r;return P("div",{class:Ge(["v-layout-item",e.class]),style:vt([a.value,e.style])},[(r=n.default)==null?void 0:r.call(n)])}}}),lH=ze({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ot(),...Ha(),...nn(),..._o({transition:"fade-transition"})},"VLazy"),uH=ot()({name:"VLazy",directives:{vIntersect:Xs},props:lH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=za(e),r=Lt(e,"modelValue");function i(o){r.value||(r.value=o)}return dt(()=>xn(h(e.tag,{class:Ge(["v-lazy",e.class]),style:vt([a.value,e.style])},{default:()=>[r.value&&h(Nr,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[Xs,{handler:i,options:e.options},null]])),{}}}),cH=ze({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ot()},"VLocaleProvider"),dH=ot()({name:"VLocaleProvider",props:cH(),setup(e,t){let{slots:n}=t;const{rtlClasses:a}=VF(e);return dt(()=>{var r;return P("div",{class:Ge(["v-locale-provider",a.value,e.class]),style:vt(e.style)},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),fH=ze({scrollable:Boolean,...Ot(),...Ha(),...nn({tag:"main"})},"VMain"),mH=ot()({name:"VMain",props:fH(),setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=za(e),{mainStyles:r}=FC(),{ssrBootStyles:i}=ic();return dt(()=>h(e.tag,{class:Ge(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:vt([r.value,i.value,a.value,e.style])},{default:()=>{var o,l;return[e.scrollable?P("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(l=n.default)==null?void 0:l.call(n)]}})),{}}});function hH(e){let{rootEl:t,isSticky:n,layoutItemStyles:a}=e;const r=kt(!1),i=kt(0),o=L(()=>{const f=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[f]:Vt(i.value)}:{top:a.value.top}]});Pn(()=>{yt(n,f=>{f?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),vr(()=>{window.removeEventListener("scroll",u)});let l=0;function u(){const f=l>window.scrollY?"up":"down",d=t.value.getBoundingClientRect(),m=parseFloat(a.value.top??0),p=window.scrollY-Math.max(0,i.value-m),g=d.height+Math.max(i.value,m)-window.scrollY-window.innerHeight,y=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-m?(r.value="top",i.value=m):f==="up"&&r.value==="bottom"||f==="down"&&r.value==="top"?(i.value=window.scrollY+d.top-y,r.value=!0):f==="down"&&g<=0?(i.value=0,r.value="bottom"):f==="up"&&p<=0&&(y?r.value!=="top"&&(i.value=-p+y+m,r.value="top"):(i.value=d.top+p,r.value="top")),l=window.scrollY}return{isStuck:r,stickyStyles:o}}const vH=100,_H=20;function uk(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ck(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const a=uk(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-a)*Math.abs(r),n===e.length-1&&(t*=.5)}return uk(t)*1e3}function pH(){const e={};function t(r){Array.from(r.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new sC(_H))).push([r.timeStamp,i])})}function n(r){Array.from(r.changedTouches).forEach(i=>{delete e[i.identifier]})}function a(r){var f;const i=(f=e[r])==null?void 0:f.values().reverse();if(!i)throw new Error(`No samples for touch id ${r}`);const o=i[0],l=[],u=[];for(const d of i){if(o[0]-d[0]>vH)break;l.push({t:d[0],d:d[1].clientX}),u.push({t:d[0],d:d[1].clientY})}return{x:ck(l),y:ck(u),get direction(){const{x:d,y:m}=this,[p,g]=[Math.abs(d),Math.abs(m)];return p>g&&d>=0?"right":p>g&&d<=0?"left":g>p&&m>=0?"down":g>p&&m<=0?"up":gH()}}}return{addMovement:t,endTouch:n,getVelocity:a}}function gH(){throw new Error}function yH(e){let{el:t,isActive:n,isTemporary:a,width:r,touchless:i,position:o}=e;Pn(()=>{window.addEventListener("touchstart",w,{passive:!0}),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("touchend",V,{passive:!0})}),vr(()=>{window.removeEventListener("touchstart",w),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",V)});const l=L(()=>["left","right"].includes(o.value)),{addMovement:u,endTouch:f,getVelocity:d}=pH();let m=!1;const p=kt(!1),g=kt(0),y=kt(0);let S;function k(U,Y){return(o.value==="left"?U:o.value==="right"?document.documentElement.clientWidth-U:o.value==="top"?U:o.value==="bottom"?document.documentElement.clientHeight-U:qc())-(Y?r.value:0)}function C(U){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const H=o.value==="left"?(U-y.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-U-y.value)/r.value:o.value==="top"?(U-y.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-U-y.value)/r.value:qc();return Y?Xn(H):H}function w(U){if(i.value)return;const Y=U.changedTouches[0].clientX,H=U.changedTouches[0].clientY,B=25,j=o.value==="left"?Y<B:o.value==="right"?Y>document.documentElement.clientWidth-B:o.value==="top"?H<B:o.value==="bottom"?H>document.documentElement.clientHeight-B:qc(),G=n.value&&(o.value==="left"?Y<r.value:o.value==="right"?Y>document.documentElement.clientWidth-r.value:o.value==="top"?H<r.value:o.value==="bottom"?H>document.documentElement.clientHeight-r.value:qc());(j||G||n.value&&a.value)&&(S=[Y,H],y.value=k(l.value?Y:H,n.value),g.value=C(l.value?Y:H),m=y.value>-20&&y.value<80,f(U),u(U))}function I(U){const Y=U.changedTouches[0].clientX,H=U.changedTouches[0].clientY;if(m){if(!U.cancelable){m=!1;return}const j=Math.abs(Y-S[0]),G=Math.abs(H-S[1]);(l.value?j>G&&j>3:G>j&&G>3)?(p.value=!0,m=!1):(l.value?G:j)>3&&(m=!1)}if(!p.value)return;U.preventDefault(),u(U);const B=C(l.value?Y:H,!1);g.value=Math.max(0,Math.min(1,B)),B>1?y.value=k(l.value?Y:H,!0):B<0&&(y.value=k(l.value?Y:H,!1))}function V(U){if(m=!1,!p.value)return;u(U),p.value=!1;const Y=d(U.changedTouches[0].identifier),H=Math.abs(Y.x),B=Math.abs(Y.y);(l.value?H>B&&H>400:B>H&&B>3)?n.value=Y.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||qc()):n.value=g.value>.5}const O=L(()=>p.value?{transform:o.value==="left"?`translateX(calc(-100% + ${g.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${g.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${g.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${g.value*r.value}px))`:qc(),transition:"none"}:void 0);return ai(p,()=>{var H,B;const U=((H=t.value)==null?void 0:H.style.transform)??null,Y=((B=t.value)==null?void 0:B.style.transition)??null;fa(()=>{var j,G,F,ce;(G=t.value)==null||G.style.setProperty("transform",((j=O.value)==null?void 0:j.transform)||"none"),(ce=t.value)==null||ce.style.setProperty("transition",((F=O.value)==null?void 0:F.transition)||null)}),Ga(()=>{var j,G;(j=t.value)==null||j.style.setProperty("transform",U),(G=t.value)==null||G.style.setProperty("transition",Y)})}),{isDragging:p,dragProgress:g,dragStyles:O}}function qc(){throw new Error}const bH=["start","end","left","right","top","bottom"],wH=ze({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>bH.includes(e)},sticky:Boolean,...vi(),...Ot(),...Uy(),...tc({mobile:null}),...Qa(),...nc(),...sa(),...nn({tag:"nav"}),...yn()},"VNavigationDrawer"),kH=ot()({name:"VNavigationDrawer",props:wH(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{isRtl:i}=Ua(),{themeClasses:o}=Mn(e),{borderClasses:l}=Ei(e),{backgroundColorClasses:u,backgroundColorStyles:f}=Yn(()=>e.color),{elevationClasses:d}=_r(e),{displayClasses:m,mobile:p}=Ji(e),{roundedClasses:g}=ga(e),y=qx(),S=Lt(e,"modelValue",null,re=>!!re),{ssrBootStyles:k}=ic(),{scopeId:C}=dc(),w=Ne(),I=kt(!1),{runOpenDelay:V,runCloseDelay:O}=Hy(e,re=>{I.value=re}),U=L(()=>e.rail&&e.expandOnHover&&I.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),Y=L(()=>Sp(e.location,i.value)),H=Pe(()=>e.persistent),B=L(()=>!e.permanent&&(p.value||e.temporary)),j=L(()=>e.sticky&&!B.value&&Y.value!=="bottom");ai(()=>e.expandOnHover&&e.rail!=null,()=>{yt(I,re=>a("update:rail",!re))}),ai(()=>!e.disableResizeWatcher,()=>{yt(B,re=>!e.permanent&&Qt(()=>S.value=!re))}),ai(()=>!e.disableRouteWatcher&&!!y,()=>{yt(y.currentRoute,()=>B.value&&(S.value=!1))}),yt(()=>e.permanent,re=>{re&&(S.value=!0)}),e.modelValue==null&&!B.value&&(S.value=e.permanent||!p.value);const{isDragging:G,dragProgress:F}=yH({el:w,isActive:S,isTemporary:B,width:U,touchless:Pe(()=>e.touchless),position:Y}),ce=L(()=>{const re=B.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):U.value;return G.value?re*F.value:re}),{layoutItemStyles:Z,layoutItemScrimStyles:le}=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:Y,layoutSize:ce,elementSize:U,active:wd(S),disableTransitions:Pe(()=>G.value),absolute:L(()=>e.absolute||j.value&&typeof ae.value!="string")}),{isStuck:ae,stickyStyles:_e}=hH({rootEl:w,isSticky:j,layoutItemStyles:Z}),Ee=Yn(()=>typeof e.scrim=="string"?e.scrim:null),$e=L(()=>({...G.value?{opacity:F.value*.2,transition:"none"}:void 0,...le.value}));return va({VList:{bgColor:"transparent"}}),dt(()=>{const re=r.image||e.image;return P(ht,null,[h(e.tag,it({ref:w,onMouseenter:V,onMouseleave:O,class:["v-navigation-drawer",`v-navigation-drawer--${Y.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":I.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":B.value,"v-navigation-drawer--persistent":H.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":j.value},o.value,u.value,l.value,m.value,d.value,g.value,e.class],style:[f.value,Z.value,k.value,_e.value,e.style]},C,n),{default:()=>{var ee,ge,se;return[re&&P("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?h(an,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):h(Js,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&P("div",{class:"v-navigation-drawer__prepend"},[(ee=r.prepend)==null?void 0:ee.call(r)]),P("div",{class:"v-navigation-drawer__content"},[(ge=r.default)==null?void 0:ge.call(r)]),r.append&&P("div",{class:"v-navigation-drawer__append"},[(se=r.append)==null?void 0:se.call(r)])]}}),h(hi,{name:"fade-transition"},{default:()=>[B.value&&(G.value||S.value)&&!!e.scrim&&P("div",it({class:["v-navigation-drawer__scrim",Ee.backgroundColorClasses.value],style:[$e.value,Ee.backgroundColorStyles.value],onClick:()=>{H.value||(S.value=!1)}},C),null)]})])}),{isStuck:ae}}}),SH=Ii({name:"VNoSsr",setup(e,t){let{slots:n}=t;const a=TP();return()=>{var r;return a.value&&((r=n.default)==null?void 0:r.call(n))}}}),CH=50,xH=500;function PH(e){let{toggleUpDown:t}=e,n=-1,a=-1;Ga(i);function r(l){i(),o(l),n=window.setTimeout(()=>{a=window.setInterval(()=>o(l),CH)},xH)}function i(){window.clearTimeout(n),window.clearInterval(a)}function o(l){t(l==="up")}return{holdStart:r,holdStop:i}}const TH=ze({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...ha(sm(),["modelValue","validationValue"])},"VNumberInput"),DH=ot()({name:"VNumberInput",props:{...TH()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Ne(),{holdStart:r,holdStop:i}=PH({toggleUpDown:Y}),o=rm(e),l=L(()=>o.isDisabled.value||o.isReadonly.value),u=kt(e.focused);function f(re){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const ge=ee==null?String(re):re.toFixed(ee);return u.value?Number(ge).toString():ge}const d=Lt(e,"modelValue",null,re=>re??null,re=>re==null?re??null:Xn(Number(re),e.min,e.max)),m=kt(null);fa(()=>{u.value&&!l.value||(d.value==null?m.value=null:isNaN(d.value)||(m.value=f(d.value)))});const p=L({get:()=>m.value,set(re){re===null||re===""?(d.value=null,m.value=null):!isNaN(Number(re))&&Number(re)<=e.max&&Number(re)>=e.min&&(d.value=Number(re),m.value=re)}}),g=L(()=>l.value?!1:(d.value??0)+e.step<=e.max),y=L(()=>l.value?!1:(d.value??0)-e.step>=e.min),S=L(()=>e.hideInput?"stacked":e.controlVariant),k=Pe(()=>S.value==="split"?"$plus":"$collapse"),C=Pe(()=>S.value==="split"?"$minus":"$expand"),w=Pe(()=>S.value==="split"?"default":"small"),I=Pe(()=>S.value==="stacked"?"auto":"100%"),V={props:{onClick:j,onPointerup:G,onPointerdown:F,onPointercancel:Z}},O={props:{onClick:j,onPointerup:G,onPointerdown:ce,onPointercancel:Z}};yt(()=>e.precision,()=>ae()),Pn(()=>{le()});function U(re){if(re==null)return 0;const ee=re.toString(),ge=ee.indexOf(".");return~ge?ee.length-ge:0}function Y(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(l.value)return;if(d.value==null){p.value=f(Xn(0,e.min,e.max));return}let ee=Math.max(U(d.value),U(e.step));e.precision!=null&&(ee=Math.max(ee,e.precision)),re?g.value&&(p.value=f(d.value+e.step,ee)):y.value&&(p.value=f(d.value-e.step,ee))}function H(re){var R;if(!re.data)return;const ee=re.target,{value:ge,selectionStart:se,selectionEnd:ye}=ee??{},Me=ge?ge.slice(0,se)+re.data+ge.slice(ye):re.data,De=WR(Me,e.precision);/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(Me)||(re.preventDefault(),ee.value=De),e.precision!=null&&(((R=Me.split(".")[1])==null?void 0:R.length)>e.precision&&(re.preventDefault(),ee.value=De),e.precision===0&&Me.includes(".")&&(re.preventDefault(),ee.value=De))}async function B(re){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(re.key)||re.ctrlKey||["ArrowDown","ArrowUp"].includes(re.key)&&(re.preventDefault(),le(),await Qt(),re.key==="ArrowDown"?Y(!1):Y())}function j(re){re.stopPropagation()}function G(re){const ee=re.currentTarget;ee==null||ee.releasePointerCapture(re.pointerId),re.preventDefault(),re.stopPropagation(),i()}function F(re){const ee=re.currentTarget;ee==null||ee.setPointerCapture(re.pointerId),re.preventDefault(),re.stopPropagation(),r("up")}function ce(re){const ee=re.currentTarget;ee==null||ee.setPointerCapture(re.pointerId),re.preventDefault(),re.stopPropagation(),r("down")}function Z(re){const ee=re.currentTarget;ee==null||ee.releasePointerCapture(re.pointerId),i()}function le(){if(l.value||!a.value)return;const re=a.value.value;re&&!isNaN(Number(re))?p.value=f(Xn(Number(re),e.min,e.max)):p.value=null}function ae(){if(!l.value){if(d.value===null||isNaN(d.value)){p.value=null;return}p.value=e.precision==null?String(d.value):d.value.toFixed(e.precision)}}function _e(){if(!l.value){if(d.value===null||isNaN(d.value)){p.value=null;return}p.value=d.value.toString()}}function Ee(){_e()}function $e(){le()}return dt(()=>{const{modelValue:re,...ee}=tl.filterProps(e);function ge(){return n.increment?h(an,{key:"increment-defaults",defaults:{VBtn:{disabled:!g.value,flat:!0,height:I.value,size:w.value,icon:k.value}}},{default:()=>[n.increment(V)]}):h(wn,{"aria-hidden":"true","data-testid":"increment",disabled:!g.value,flat:!0,height:I.value,icon:k.value,key:"increment-btn",onClick:j,onPointerdown:F,onPointerup:G,onPointercancel:Z,size:w.value,tabindex:"-1"},null)}function se(){return n.decrement?h(an,{key:"decrement-defaults",defaults:{VBtn:{disabled:!y.value,flat:!0,height:I.value,size:w.value,icon:C.value}}},{default:()=>[n.decrement(O)]}):h(wn,{"aria-hidden":"true","data-testid":"decrement",disabled:!y.value,flat:!0,height:I.value,icon:C.value,key:"decrement-btn",onClick:j,onPointerdown:ce,onPointerup:G,onPointercancel:Z,size:w.value,tabindex:"-1"},null)}function ye(){return P("div",{class:"v-number-input__control"},[se(),h(Ws,{vertical:S.value!=="stacked"},null),ge()])}function Me(){return!e.hideInput&&!e.inset?h(Ws,{vertical:!0},null):void 0}const De=S.value==="split"?P("div",{class:"v-number-input__control"},[h(Ws,{vertical:!0},null),ge()]):e.reverse||S.value==="hidden"?void 0:P(ht,null,[Me(),ye()]),R=n["append-inner"]||De,Oe=S.value==="split"?P("div",{class:"v-number-input__control"},[se(),h(Ws,{vertical:!0},null)]):e.reverse&&S.value!=="hidden"?P(ht,null,[ye(),Me()]):void 0,He=n["prepend-inner"]||Oe;return h(tl,it({ref:a},ee,{modelValue:p.value,"onUpdate:modelValue":at=>p.value=at,focused:u.value,"onUpdate:focused":at=>u.value=at,validationValue:d.value,onBeforeinput:H,onFocus:Ee,onBlur:$e,onKeydown:B,class:["v-number-input",{"v-number-input--default":S.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":S.value==="split","v-number-input--stacked":S.value==="stacked"},e.class],style:e.style,inputmode:"decimal"}),{...n,"append-inner":R?function(){var Q;for(var at=arguments.length,Be=new Array(at),N=0;N<at;N++)Be[N]=arguments[N];return P(ht,null,[(Q=n["append-inner"])==null?void 0:Q.call(n,...Be),De])}:void 0,"prepend-inner":He?function(){var Q;for(var at=arguments.length,Be=new Array(at),N=0;N<at;N++)Be[N]=arguments[N];return P(ht,null,[Oe,(Q=n["prepend-inner"])==null?void 0:Q.call(n,...Be)])}:void 0})}),Vi({},a)}}),IH=ze({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Ha(),...am(),...Jl(om({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),AH=ot()({name:"VOtpInput",props:IH(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{dimensionStyles:i}=za(e),{isFocused:o,focus:l,blur:u}=ol(e),f=Lt(e,"modelValue","",B=>B==null?[]:String(B).split(""),B=>B.join("")),{t:d}=_a(),m=L(()=>Number(e.length)),p=L(()=>Array(m.value).fill(0)),g=Ne(-1),y=Ne(),S=Ne([]),k=L(()=>S.value[g.value]),C=rd();C.run(()=>{const{intersectionRef:B,isIntersecting:j}=Jf();yt(j,G=>{var F;G&&((F=B.value)==null||F.focus(),C.stop())}),fa(()=>{B.value=S.value[0]})});function w(){if(H(k.value.value)){k.value.value="";return}const B=f.value.slice(),j=k.value.value;B[g.value]=j;let G=null;g.value>f.value.length?G=f.value.length+1:g.value+1!==m.value&&(G="next"),f.value=B,G&&qu(y.value,G)}function I(B){const j=f.value.slice(),G=g.value;let F=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(B.key)&&(B.preventDefault(),B.key==="ArrowLeft"?F="prev":B.key==="ArrowRight"?F="next":["Backspace","Delete"].includes(B.key)&&(j[g.value]="",f.value=j,g.value>0&&B.key==="Backspace"?F="prev":requestAnimationFrame(()=>{var ce;(ce=S.value[G])==null||ce.select()})),requestAnimationFrame(()=>{F!=null&&qu(y.value,F)}))}function V(B,j){var F,ce;j.preventDefault(),j.stopPropagation();const G=((F=j==null?void 0:j.clipboardData)==null?void 0:F.getData("Text").trim().slice(0,m.value))??"";H(G)||(f.value=G.split(""),(ce=S.value)==null||ce[B].blur())}function O(){f.value=[]}function U(B,j){l(),g.value=j}function Y(){u(),g.value=-1}function H(B){return e.type==="number"&&/[^0-9]/g.test(B)}return va({VField:{color:Pe(()=>e.color),bgColor:Pe(()=>e.color),baseColor:Pe(()=>e.baseColor),disabled:Pe(()=>e.disabled),error:Pe(()=>e.error),variant:Pe(()=>e.variant)}},{scoped:!0}),yt(f,B=>{B.length===m.value&&(g.value=m.value-1,a("finish",B.join("")))},{deep:!0}),yt(g,B=>{B<0||Qt(()=>{var j;(j=S.value[B])==null||j.select()})}),dt(()=>{var G;const[B,j]=Zl(n);return P("div",it({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},B),[P("div",{ref:y,class:"v-otp-input__content",style:vt([i.value])},[p.value.map((F,ce)=>P(ht,null,[e.divider&&ce!==0&&P("span",{class:"v-otp-input__divider"},[e.divider]),h(Kl,{focused:o.value&&e.focusAll||g.value===ce,key:ce},{...r,loader:void 0,default:()=>P("input",{ref:Z=>S.value[ce]=Z,"aria-label":d(e.label,ce+1),autofocus:ce===0&&e.autofocus,autocomplete:"one-time-code",class:Ge(["v-otp-input__field"]),disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:ce===0?m.value:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:f.value[ce],onInput:w,onFocus:Z=>U(Z,ce),onBlur:Y,onKeydown:I,onPaste:Z=>V(ce,Z)},null)})])),P("input",it({class:"v-otp-input-input",type:"hidden"},j,{value:f.value.join("")}),null),h(ts,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var F;return[((F=r.loader)==null?void 0:F.call(r))??h(pd,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(G=r.default)==null?void 0:G.call(r)])])}),{blur:()=>{var B;(B=S.value)==null||B.some(j=>j.blur())},focus:()=>{var B;(B=S.value)==null||B[0].focus()},reset:O,isFocused:o}}});function EH(e){return Math.floor(Math.abs(e))*Math.sign(e)}const VH=ze({scale:{type:[Number,String],default:.5},...Ot()},"VParallax"),OH=ot()({name:"VParallax",props:VH(),setup(e,t){let{slots:n}=t;const{intersectionRef:a,isIntersecting:r}=Jf(),{resizeRef:i,contentRect:o}=fo(),{height:l}=Ji(),u=Ne();fa(()=>{var g;a.value=i.value=(g=u.value)==null?void 0:g.$el});let f;yt(r,g=>{g?(f=oy(a.value),f=f===document.scrollingElement?document:f,f.addEventListener("scroll",p,{passive:!0}),p()):f.removeEventListener("scroll",p)}),vr(()=>{f==null||f.removeEventListener("scroll",p)}),yt(l,p),yt(()=>{var g;return(g=o.value)==null?void 0:g.height},p);const d=L(()=>1-Xn(Number(e.scale)));let m=-1;function p(){r.value&&(cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var O;const g=((O=u.value)==null?void 0:O.$el).querySelector(".v-img__img");if(!g)return;const y=f instanceof Document?document.documentElement.clientHeight:f.clientHeight,S=f instanceof Document?window.scrollY:f.scrollTop,k=a.value.getBoundingClientRect().top+S,C=o.value.height,w=k+(C-y)/2,I=EH((S-w)*d.value),V=Math.max(1,(d.value*(y-C)+C)/C);g.style.setProperty("transform",`translateY(${I}px) scale(${V})`)}))}return dt(()=>h(Js,{class:Ge(["v-parallax",{"v-parallax--active":r.value},e.class]),style:vt(e.style),ref:u,cover:!0,onLoadstart:p,onLoad:p},n)),{}}}),MH=ze({...sv({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),BH=ot()({name:"VRadio",props:MH(),setup(e,t){let{slots:n}=t;return dt(()=>{const a=Yl.filterProps(e);return h(Yl,it(a,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),RH=ze({height:{type:[Number,String],default:"auto"},...sl(),...ha(Fy(),["multiple"]),trueIcon:{type:Ut,default:"$radioOn"},falseIcon:{type:Ut,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),FH=ot()({name:"VRadioGroup",inheritAttrs:!1,props:RH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=ii(),i=L(()=>e.id||`radio-group-${r}`),o=Lt(e,"modelValue");return dt(()=>{const[l,u]=Zl(n),f=Dr.filterProps(e),d=Yl.filterProps(e),m=a.label?a.label({label:e.label,props:{for:i.value}}):e.label;return h(Dr,it({class:["v-radio-group",e.class],style:e.style},l,f,{modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,id:i.value}),{...a,default:p=>{let{id:g,messagesId:y,isDisabled:S,isReadonly:k}=p;return P(ht,null,[m&&h(Ad,{id:g.value},{default:()=>[m]}),h(Jx,it(d,{id:g.value,"aria-describedby":y.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:S.value,readonly:k.value,"aria-labelledby":m?g.value:void 0,multiple:!1},u,{modelValue:o.value,"onUpdate:modelValue":C=>o.value=C}),a)])}})}),{}}}),$H=ze({...am(),...sl(),...GP(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),LH=ot()({name:"VRangeSlider",props:$H(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Ne(),i=Ne(),o=Ne(),{rtlClasses:l}=Ua();function u(j){if(!r.value||!i.value)return;const G=tg(j,r.value.$el,e.direction),F=tg(j,i.value.$el,e.direction),ce=Math.abs(G),Z=Math.abs(F);return ce<Z||ce===Z&&G<0?r.value.$el:i.value.$el}const f=QP(e),d=Lt(e,"modelValue",void 0,j=>j!=null&&j.length?j.map(G=>f.roundValue(G)):[0,0]),{activeThumbRef:m,hasLabels:p,max:g,min:y,mousePressed:S,onSliderMousedown:k,onSliderTouchstart:C,position:w,trackContainerRef:I,readonly:V}=XP({props:e,steps:f,onSliderStart:()=>{a("start",d.value)},onSliderEnd:j=>{var ce;let{value:G}=j;const F=m.value===((ce=r.value)==null?void 0:ce.$el)?[G,d.value[1]]:[d.value[0],G];!e.strict&&F[0]<F[1]&&(d.value=F),a("end",d.value)},onSliderMove:j=>{var Z,le,ae,_e;let{value:G}=j;const[F,ce]=d.value;!e.strict&&F===ce&&F!==y.value&&(m.value=G>F?(Z=i.value)==null?void 0:Z.$el:(le=r.value)==null?void 0:le.$el,(ae=m.value)==null||ae.focus()),m.value===((_e=r.value)==null?void 0:_e.$el)?d.value=[Math.min(G,ce),ce]:d.value=[F,Math.max(F,G)]},getActiveThumb:u}),{isFocused:O,focus:U,blur:Y}=ol(e),H=L(()=>w(d.value[0])),B=L(()=>w(d.value[1]));return dt(()=>{const j=Dr.filterProps(e),G=!!(e.label||n.label||n.prepend);return h(Dr,it({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":O.value,"v-slider--pressed":S.value,"v-slider--disabled":e.disabled},l.value,e.class],style:e.style,ref:o},j,{focused:O.value}),{...n,prepend:G?F=>{var ce,Z;return P(ht,null,[((ce=n.label)==null?void 0:ce.call(n,F))??(e.label?h(Ad,{class:"v-slider__label",text:e.label},null):void 0),(Z=n.prepend)==null?void 0:Z.call(n,F)])}:void 0,default:F=>{var le,ae;let{id:ce,messagesId:Z}=F;return P("div",{class:"v-slider__container",onMousedown:V.value?void 0:k,onTouchstartPassive:V.value?void 0:C},[P("input",{id:`${ce.value}_start`,name:e.name||ce.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[0]},null),P("input",{id:`${ce.value}_stop`,name:e.name||ce.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[1]},null),h(JP,{ref:I,start:H.value,stop:B.value},{"tick-label":n["tick-label"]}),h(ng,{ref:r,"aria-describedby":Z.value,focused:O&&m.value===((le=r.value)==null?void 0:le.$el),modelValue:d.value[0],"onUpdate:modelValue":_e=>d.value=[_e,d.value[1]],onFocus:_e=>{var Ee,$e,re,ee;U(),m.value=(Ee=r.value)==null?void 0:Ee.$el,g.value!==y.value&&d.value[0]===d.value[1]&&d.value[1]===y.value&&_e.relatedTarget!==(($e=i.value)==null?void 0:$e.$el)&&((re=r.value)==null||re.$el.blur(),(ee=i.value)==null||ee.$el.focus())},onBlur:()=>{Y(),m.value=void 0},min:y.value,max:d.value[1],position:H.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),h(ng,{ref:i,"aria-describedby":Z.value,focused:O&&m.value===((ae=i.value)==null?void 0:ae.$el),modelValue:d.value[1],"onUpdate:modelValue":_e=>d.value=[d.value[0],_e],onFocus:_e=>{var Ee,$e,re,ee;U(),m.value=(Ee=i.value)==null?void 0:Ee.$el,g.value!==y.value&&d.value[0]===d.value[1]&&d.value[0]===g.value&&_e.relatedTarget!==(($e=r.value)==null?void 0:$e.$el)&&((re=i.value)==null||re.$el.blur(),(ee=r.value)==null||ee.$el.focus())},onBlur:()=>{Y(),m.value=void 0},min:d.value[0],max:g.value,position:B.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),NH=ze({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ut,default:"$ratingEmpty"},fullIcon:{type:Ut,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Ot(),...rr(),...ss(),...nn(),...yn()},"VRating"),qH=ot()({name:"VRating",props:NH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=_a(),{themeClasses:r}=Mn(e),i=Lt(e,"modelValue"),o=L(()=>Xn(parseFloat(i.value),0,Number(e.length))),l=L(()=>Yo(Number(e.length),1)),u=L(()=>l.value.flatMap(k=>e.halfIncrements?[k-.5,k]:[k])),f=kt(-1),d=L(()=>u.value.map(k=>{const C=e.hover&&f.value>-1,w=o.value>=k,I=f.value>=k,O=(C?I:w)?e.fullIcon:e.emptyIcon,U=e.activeColor??e.color,Y=w||I?U:e.color;return{isFilled:w,isHovered:I,icon:O,color:Y}})),m=L(()=>[0,...u.value].map(k=>{function C(){f.value=k}function w(){f.value=-1}function I(){e.disabled||e.readonly||(i.value=o.value===k&&e.clearable?0:k)}return{onMouseenter:e.hover?C:void 0,onMouseleave:e.hover?w:void 0,onClick:I}})),p=ii(),g=L(()=>e.name??`v-rating-${p}`);function y(k){var B,j;let{value:C,index:w,showStar:I=!0}=k;const{onMouseenter:V,onMouseleave:O,onClick:U}=m.value[w+1],Y=`${g.value}-${String(C).replace(".","-")}`,H={color:(B=d.value[w])==null?void 0:B.color,density:e.density,disabled:e.disabled,icon:(j=d.value[w])==null?void 0:j.icon,ripple:e.ripple,size:e.size,variant:"plain"};return P(ht,null,[P("label",{for:Y,class:Ge({"v-rating__item--half":e.halfIncrements&&C%1>0,"v-rating__item--full":e.halfIncrements&&C%1===0}),onMouseenter:V,onMouseleave:O,onClick:U},[P("span",{class:"v-rating__hidden"},[a(e.itemAriaLabel,C,e.length)]),I?n.item?n.item({...d.value[w],props:H,value:C,index:w,rating:o.value}):h(wn,it({"aria-label":a(e.itemAriaLabel,C,e.length)},H),null):void 0]),P("input",{class:"v-rating__hidden",name:g.value,id:Y,type:"radio",value:C,checked:o.value===C,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function S(k){return n["item-label"]?n["item-label"](k):k.label?P("span",null,[k.label]):P("span",null,[Ye("")])}return dt(()=>{var C;const k=!!((C=e.itemLabels)!=null&&C.length)||n["item-label"];return h(e.tag,{class:Ge(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class]),style:vt(e.style)},{default:()=>[h(y,{value:0,index:-1,showStar:!1},null),l.value.map((w,I)=>{var V,O;return P("div",{class:"v-rating__wrapper"},[k&&e.itemLabelPosition==="top"?S({value:w,index:I,label:(V=e.itemLabels)==null?void 0:V[I]}):void 0,P("div",{class:"v-rating__item"},[e.halfIncrements?P(ht,null,[h(y,{value:w-.5,index:I*2},null),h(y,{value:w,index:I*2+1},null)]):h(y,{value:w,index:I},null)]),k&&e.itemLabelPosition==="bottom"?S({value:w,index:I,label:(O=e.itemLabels)==null?void 0:O[I]}):void 0])})]})}),{}}}),UH={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function HH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return P("div",{class:Ge(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[t])}function dk(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>kv(t))}function kv(e){let t=[];if(!e)return t;const n=UH[e];if(e!==n){if(e.includes(","))return fk(e);if(e.includes("@"))return dk(e);n.includes(",")?t=fk(n):n.includes("@")?t=dk(n):n&&t.push(kv(n))}return[HH(e,t)]}function fk(e){return e.replace(/\s/g,"").split(",").map(kv)}const zH=ze({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Ha(),...Qa(),...yn()},"VSkeletonLoader"),WH=ot()({name:"VSkeletonLoader",props:zH(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=Yn(()=>e.color),{dimensionStyles:i}=za(e),{elevationClasses:o}=_r(e),{themeClasses:l}=Mn(e),{t:u}=_a(),f=L(()=>kv(da(e.type).join(",")));return dt(()=>{var p;const d=!n.default||e.loading,m=e.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:u(e.loadingText),role:"alert"};return P("div",it({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},l.value,a.value,o.value],style:[r.value,d?i.value:{}]},m),[d?f.value:(p=n.default)==null?void 0:p.call(n)])}),{}}}),jH=ot()({name:"VSlideGroupItem",props:lc(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=uc(e,sP);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:a.isSelected.value,select:a.select,toggle:a.toggle,selectedClass:a.selectedClass.value})}}});function YH(e){const t=kt(e());let n=-1;function a(){clearInterval(n)}function r(){a(),Qt(()=>t.value=e())}function i(o){const l=o?getComputedStyle(o):{transitionDuration:.2},u=parseFloat(l.transitionDuration)*1e3||200;if(a(),t.value<=0)return;const f=performance.now();n=window.setInterval(()=>{const d=performance.now()-f+u;t.value=Math.max(e()-d,0),t.value<=0&&a()},u)}return Ga(a),{clear:a,time:t,start:i,reset:r}}const HT=ze({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...il({location:"bottom"}),...Dd(),...sa(),...Zi(),...yn(),...ha(im({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),mg=ot()({name:"VSnackbar",props:HT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{positionClasses:r}=Id(e),{scopeId:i}=dc(),{themeClasses:o}=Mn(e),{colorClasses:l,colorStyles:u,variantClasses:f}=oc(e),{roundedClasses:d}=ga(e),m=YH(()=>Number(e.timeout)),p=Ne(),g=Ne(),y=kt(!1),S=kt(0),k=Ne(),C=fn(If,void 0);ai(()=>!!C,()=>{const G=FC();fa(()=>{k.value=G.mainStyles.value})}),yt(a,I),yt(()=>e.timeout,I),Pn(()=>{a.value&&I()});let w=-1;function I(){m.reset(),window.clearTimeout(w);const G=Number(e.timeout);if(!a.value||G===-1)return;const F=Zg(g.value);m.start(F),w=window.setTimeout(()=>{a.value=!1},G)}function V(){m.reset(),window.clearTimeout(w)}function O(){y.value=!0,V()}function U(){y.value=!1,I()}function Y(G){S.value=G.touches[0].clientY}function H(G){Math.abs(S.value-G.changedTouches[0].clientY)>50&&(a.value=!1)}function B(){y.value&&U()}const j=L(()=>e.location.split(" ").reduce((G,F)=>(G[`v-snackbar--${F}`]=!0,G),{}));return dt(()=>{const G=ts.filterProps(e),F=!!(n.default||n.text||e.text);return h(ts,it({ref:p,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},j.value,r.value,e.class],style:[k.value,e.style]},G,{modelValue:a.value,"onUpdate:modelValue":ce=>a.value=ce,contentProps:it({class:["v-snackbar__wrapper",o.value,l.value,d.value,f.value],style:[u.value],onPointerenter:O,onPointerleave:U},G.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:Y,onTouchend:H,onAfterLeave:B},i),{default:()=>{var ce,Z;return[nu(!1,"v-snackbar"),e.timer&&!y.value&&P("div",{key:"timer",class:"v-snackbar__timer"},[h(rv,{ref:g,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":m.time.value},null)]),F&&P("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((ce=n.text)==null?void 0:ce.call(n))??e.text,(Z=n.default)==null?void 0:Z.call(n)]),n.actions&&h(an,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[P("div",{class:"v-snackbar__actions"},[n.actions({isActive:a})])]})]},activator:n.activator})}),Vi({},p)}}),KH=ze({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...ha(HT(),["modelValue"])},"VSnackbarQueue"),GH=ot()({name:"VSnackbarQueue",props:KH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{t:r}=_a(),i=kt(!1),o=kt(!1),l=kt();yt(()=>e.modelValue.length,(p,g)=>{!o.value&&p>g&&f()}),yt(i,p=>{p&&(o.value=!0)});function u(){e.modelValue.length?f():(l.value=void 0,o.value=!1)}function f(){const[p,...g]=e.modelValue;n("update:modelValue",g),l.value=typeof p=="string"?{text:p}:p,Qt(()=>{i.value=!0})}function d(){i.value=!1}const m=L(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:r(e.closeText)}));dt(()=>{const p=!!(e.closable||a.actions),{modelValue:g,...y}=mg.filterProps(e);return P(ht,null,[o.value&&!!l.value&&(a.default?h(an,{defaults:{VSnackbar:l.value}},{default:()=>[a.default({item:l.value})]}):h(mg,it(y,l.value,{modelValue:i.value,"onUpdate:modelValue":S=>i.value=S,onAfterLeave:u}),{text:a.text?()=>{var S;return(S=a.text)==null?void 0:S.call(a,{item:l.value})}:void 0,actions:p?()=>P(ht,null,[a.actions?h(an,{defaults:{VBtn:m.value}},{default:()=>[a.actions({item:l.value,props:{onClick:d}})]}):h(wn,it(m.value,{onClick:d}),null)]):void 0}))])})}}),zT=ze({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),WT=ze({autoLineWidth:Boolean,...zT()},"VBarline"),mk=ot()({name:"VBarline",props:WT(),setup(e,t){let{slots:n}=t;const a=ii(),r=L(()=>e.id||`barline-${a}`),i=L(()=>Number(e.autoDrawDuration)||500),o=L(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),l=L(()=>parseFloat(e.lineWidth)||4),u=L(()=>Math.max(e.modelValue.length*l.value,Number(e.width))),f=L(()=>({minX:0,maxX:u.value,minY:0,maxY:parseInt(e.height,10)})),d=L(()=>e.modelValue.map(k=>La(k,e.itemValue,k)));function m(k,C){const{minX:w,maxX:I,minY:V,maxY:O}=C,U=k.length;let Y=e.max!=null?Number(e.max):Math.max(...k),H=e.min!=null?Number(e.min):Math.min(...k);H>0&&e.min==null&&(H=0),Y<0&&e.max==null&&(Y=0);const B=I/U,j=(O-V)/(Y-H||1),G=O-Math.abs(H*j);return k.map((F,ce)=>{const Z=Math.abs(j*F);return{x:w+ce*B,y:G-Z+ +(F<0)*Z,height:Z,value:F}})}const p=L(()=>{const k=[],C=m(d.value,f.value),w=C.length;for(let I=0;k.length<w;I++){const V=C[I];let O=e.labels[I];O||(O=typeof V=="object"?V.value:V),k.push({x:V.x,value:String(O)})}return k}),g=L(()=>m(d.value,f.value)),y=L(()=>(Math.abs(g.value[0].x-g.value[1].x)-l.value)/2),S=L(()=>typeof e.smooth=="boolean"?e.smooth?2:0:Number(e.smooth));dt(()=>{const k=e.gradient.slice().length?e.gradient.slice().reverse():[""];return P("svg",{display:"block"},[P("defs",null,[P("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[k.map((C,w)=>P("stop",{offset:w/Math.max(k.length-1,1),"stop-color":C||"currentColor"},null))])]),P("clipPath",{id:`${r.value}-clip`},[g.value.map(C=>P("rect",{x:C.x+y.value,y:C.y,width:l.value,height:C.height,rx:S.value,ry:S.value},[e.autoDraw&&P(ht,null,[P("animate",{attributeName:"y",from:C.y+C.height,to:C.y,dur:`${i.value}ms`,fill:"freeze"},null),P("animate",{attributeName:"height",from:"0",to:C.height,dur:`${i.value}ms`,fill:"freeze"},null)])]))]),o.value&&P("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((C,w)=>{var I;return P("text",{x:C.x+y.value+l.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((I=n.label)==null?void 0:I.call(n,{index:w,value:C.value}))??C.value])})]),P("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[P("rect",{x:0,y:0,width:Math.max(e.modelValue.length*l.value,Number(e.width)),height:e.height},null)])])})}});function QH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),i=e[e.length-1];return(n?`M${r.x} ${a-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,l)=>{const u=e[l+1],f=e[l-1]||r,d=u&&XH(u,o,f);if(!u||d)return`L${o.x} ${o.y}`;const m=Math.min(hk(f,o),hk(u,o)),g=m/2<t?m/2:t,y=vk(f,o,g),S=vk(u,o,g);return`L${y.x} ${y.y}S${o.x} ${o.y} ${S.x} ${S.y}`}).join("")+(n?`L${i.x} ${a-r.x+2} Z`:"")}function Qm(e){return parseInt(e,10)}function XH(e,t,n){return Qm(e.x+n.x)===Qm(2*t.x)&&Qm(e.y+n.y)===Qm(2*t.y)}function hk(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vk(e,t,n){const a={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(a.x*a.x+a.y*a.y),i={x:a.x/r,y:a.y/r};return{x:t.x+i.x*n,y:t.y+i.y*n}}const jT=ze({fill:Boolean,...zT()},"VTrendline"),_k=ot()({name:"VTrendline",props:jT(),setup(e,t){let{slots:n}=t;const a=ii(),r=L(()=>e.id||`trendline-${a}`),i=L(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=Ne(0),l=Ne(null);function u(k,C){const{minX:w,maxX:I,minY:V,maxY:O}=C,U=k.length,Y=e.max!=null?Number(e.max):Math.max(...k),H=e.min!=null?Number(e.min):Math.min(...k),B=(I-w)/(U-1),j=(O-V)/(Y-H||1);return k.map((G,F)=>({x:w+F*B,y:O-(G-H)*j,value:G}))}const f=L(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),d=L(()=>parseFloat(e.lineWidth)||4),m=L(()=>Number(e.width)),p=L(()=>{const k=Number(e.padding);return{minX:k,maxX:m.value-k,minY:k,maxY:parseInt(e.height,10)-k}}),g=L(()=>e.modelValue.map(k=>La(k,e.itemValue,k))),y=L(()=>{const k=[],C=u(g.value,p.value),w=C.length;for(let I=0;k.length<w;I++){const V=C[I];let O=e.labels[I];O||(O=typeof V=="object"?V.value:V),k.push({x:V.x,value:String(O)})}return k});yt(()=>e.modelValue,async()=>{if(await Qt(),!e.autoDraw||!l.value)return;const k=l.value,C=k.getTotalLength();e.fill?(k.style.transformOrigin="bottom center",k.style.transition="none",k.style.transform="scaleY(0)",k.getBoundingClientRect(),k.style.transition=`transform ${i.value}ms ${e.autoDrawEasing}`,k.style.transform="scaleY(1)"):(k.style.strokeDasharray=`${C}`,k.style.strokeDashoffset=`${C}`,k.getBoundingClientRect(),k.style.transition=`stroke-dashoffset ${i.value}ms ${e.autoDrawEasing}`,k.style.strokeDashoffset="0"),o.value=C},{immediate:!0});function S(k){const C=typeof e.smooth=="boolean"?e.smooth?8:0:Number(e.smooth);return QH(u(g.value,p.value),C,k,parseInt(e.height,10))}dt(()=>{var C;const k=e.gradient.slice().length?e.gradient.slice().reverse():[""];return P("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[P("defs",null,[P("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[k.map((w,I)=>P("stop",{offset:I/Math.max(k.length-1,1),"stop-color":w||"currentColor"},null))])]),f.value&&P("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[y.value.map((w,I)=>{var V;return P("text",{x:w.x+d.value/2+d.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((V=n.label)==null?void 0:V.call(n,{index:I,value:w.value}))??w.value])})]),P("path",{ref:l,d:S(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&P("path",{d:S(!1),fill:"none",stroke:e.color??((C=e.gradient)==null?void 0:C[0])},null)])})}}),JH=ze({type:{type:String,default:"trend"},...WT(),...jT()},"VSparkline"),ZH=ot()({name:"VSparkline",props:JH(),setup(e,t){let{slots:n}=t;const{textColorClasses:a,textColorStyles:r}=Tr(()=>e.color),i=L(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),o=L(()=>{let l=parseInt(e.height,10);return i.value&&(l+=parseInt(e.labelSize,10)*1.5),l});dt(()=>{const l=e.type==="trend"?_k:mk,u=e.type==="trend"?_k.filterProps(e):mk.filterProps(e);return h(l,it({key:e.type,class:a.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},u),n)})}}),ez=ze({...Ot(),...AP({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),tz=ot()({name:"VSpeedDial",props:ez(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),r=Ne(),i=L(()=>{var f;const[l,u="center"]=((f=e.location)==null?void 0:f.split(" "))??[];return`${l} ${u}`}),o=L(()=>({[`v-speed-dial__content--${i.value.replace(" ","-")}`]:!0}));return dt(()=>{const l=gd.filterProps(e);return h(gd,it(l,{modelValue:a.value,"onUpdate:modelValue":u=>a.value=u,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:i.value,ref:r,transition:"fade-transition"}),{...n,default:u=>h(an,{defaults:{VBtn:{size:"small"}}},{default:()=>[h(Nr,{appear:!0,group:!0,transition:e.transition},{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n,u)]}})]})})}),{}}}),fb=Symbol.for("vuetify:v-stepper"),YT=ze({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),KT=ot()({name:"VStepperActions",props:YT(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:a}=t;const{t:r}=_a();function i(){n("click:prev")}function o(){n("click:next")}return dt(()=>{const l={onClick:i},u={onClick:o};return P("div",{class:"v-stepper-actions"},[h(an,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var f;return[((f=a.prev)==null?void 0:f.call(a,{props:l}))??h(wn,l,null)]}}),h(an,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var f;return[((f=a.next)==null?void 0:f.call(a,{props:u}))??h(wn,u,null)]}})])}),{}}}),GT=os("v-stepper-header"),nz=ze({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Ut,default:"$complete"},editable:Boolean,editIcon:{type:Ut,default:"$edit"},error:Boolean,errorIcon:{type:Ut,default:"$error"},icon:Ut,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),az=ze({...nz(),...lc()},"VStepperItem"),QT=ot()({name:"VStepperItem",directives:{vRipple:Ur},props:az(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=uc(e,fb,!0),r=L(()=>(a==null?void 0:a.value.value)??e.value),i=L(()=>e.rules.every(p=>p()===!0)),o=L(()=>!e.disabled&&e.editable),l=L(()=>!e.disabled&&e.editable),u=L(()=>e.error||!i.value),f=L(()=>e.complete||e.rules.length>0&&i.value),d=L(()=>u.value?e.errorIcon:f.value?e.completeIcon:a.isSelected.value&&e.editable?e.editIcon:e.icon),m=L(()=>({canEdit:l.value,hasError:u.value,hasCompleted:f.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return dt(()=>{var k,C,w;const p=(!a||a.isSelected.value||f.value||l.value)&&!u.value&&!e.disabled,g=!!(e.title!=null||n.title),y=!!(e.subtitle!=null||n.subtitle);function S(){a==null||a.toggle()}return xn(P("button",{class:Ge(["v-stepper-item",{"v-stepper-item--complete":f.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":u.value},a==null?void 0:a.selectedClass.value]),disabled:!e.editable,type:"button",onClick:S},[o.value&&nu(!0,"v-stepper-item"),h(Xi,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:p?e.color:void 0,size:24},{default:()=>{var I;return[((I=n.icon)==null?void 0:I.call(n,m.value))??(d.value?h(Vn,{icon:d.value},null):r.value)]}}),P("div",{class:"v-stepper-item__content"},[g&&P("div",{key:"title",class:"v-stepper-item__title"},[((k=n.title)==null?void 0:k.call(n,m.value))??e.title]),y&&P("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((C=n.subtitle)==null?void 0:C.call(n,m.value))??e.subtitle]),(w=n.default)==null?void 0:w.call(n,m.value)])]),[[Ur,e.ripple&&e.editable,null]])}),{}}}),rz=ze({...ha(dv(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),XT=ot()({name:"VStepperWindow",props:rz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=fn(fb,null),r=Lt(e,"modelValue"),i=L({get(){var o;return r.value!=null||!a?r.value:(o=a.items.value.find(l=>a.selected.value.includes(l.id)))==null?void 0:o.value},set(o){r.value=o}});return dt(()=>{const o=Ku.filterProps(e);return h(Ku,it({_as:"VStepperWindow"},o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),iz=ze({...fv()},"VStepperWindowItem"),JT=ot()({name:"VStepperWindowItem",props:iz(),setup(e,t){let{slots:n}=t;return dt(()=>{const a=Gu.filterProps(e);return h(Gu,it({_as:"VStepperWindowItem"},a,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),oz=ze({altLabels:Boolean,bgColor:String,completeIcon:Ut,editIcon:Ut,editable:Boolean,errorIcon:Ut,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...tc()},"Stepper"),sz=ze({...oz(),...sc({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Qy(),...Jl(YT(),["prevText","nextText"])},"VStepper"),lz=ot()({name:"VStepper",props:sz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:a,next:r,prev:i,selected:o}=au(e,fb),{displayClasses:l,mobile:u}=Ji(e),{completeIcon:f,editIcon:d,errorIcon:m,color:p,editable:g,prevText:y,nextText:S}=kd(e),k=L(()=>e.items.map((I,V)=>{const O=La(I,e.itemTitle,I),U=La(I,e.itemValue,V+1);return{title:O,value:U,raw:I}})),C=L(()=>a.value.findIndex(I=>o.value.includes(I.id))),w=L(()=>e.disabled?e.disabled:C.value===0?"prev":C.value===a.value.length-1?"next":!1);return va({VStepperItem:{editable:g,errorIcon:m,completeIcon:f,editIcon:d,prevText:y,nextText:S},VStepperActions:{color:p,disabled:w,prevText:y,nextText:S}}),dt(()=>{const I=Lf.filterProps(e),V=!!(n.header||e.items.length),O=e.items.length>0,U=!e.hideActions&&!!(O||n.actions);return h(Lf,it(I,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":u.value},l.value,e.class],style:e.style}),{default:()=>{var Y,H;return[V&&h(GT,{key:"stepper-header"},{default:()=>[k.value.map((B,j)=>{let{raw:G,...F}=B;return P(ht,null,[!!j&&h(Ws,null,null),h(QT,F,{default:n[`header-item.${F.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),O&&h(XT,{key:"stepper-window"},{default:()=>[k.value.map(B=>h(JT,{value:B.value},{default:()=>{var j,G;return((j=n[`item.${B.value}`])==null?void 0:j.call(n,B))??((G=n.item)==null?void 0:G.call(n,B))}}))]}),(Y=n.default)==null?void 0:Y.call(n,{prev:i,next:r}),U&&(((H=n.actions)==null?void 0:H.call(n,{next:r,prev:i}))??h(KT,{key:"stepper-actions","onClick:prev":i,"onClick:next":r},n))]}})}),{prev:i,next:r}}}),uz=ze({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...sl(),...sv()},"VSwitch"),cz=ot()({name:"VSwitch",inheritAttrs:!1,props:uz(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Lt(e,"indeterminate"),i=Lt(e,"modelValue"),{loaderClasses:o}=Zf(e),{isFocused:l,focus:u,blur:f}=ol(e),d=Ne(),m=On&&window.matchMedia("(forced-colors: active)").matches,p=Pe(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),g=ii(),y=Pe(()=>e.id||`switch-${g}`);function S(){r.value&&(r.value=!1)}function k(C){var w,I;C.stopPropagation(),C.preventDefault(),(I=(w=d.value)==null?void 0:w.input)==null||I.click()}return dt(()=>{const[C,w]=Zl(n),I=Dr.filterProps(e),V=Yl.filterProps(e);return h(Dr,it({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},C,I,{modelValue:i.value,"onUpdate:modelValue":O=>i.value=O,id:y.value,focused:l.value,style:e.style}),{...a,default:O=>{let{id:U,messagesId:Y,isDisabled:H,isReadonly:B,isValid:j}=O;const G={model:i,isValid:j};return h(Yl,it({ref:d},V,{modelValue:i.value,"onUpdate:modelValue":[F=>i.value=F,S],id:U.value,"aria-describedby":Y.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:H.value,readonly:B.value,onFocus:u,onBlur:f},w),{...a,default:F=>{let{backgroundColorClasses:ce,backgroundColorStyles:Z}=F;return P("div",{class:Ge(["v-switch__track",m?void 0:ce.value]),style:vt(Z.value),onClick:k},[a["track-true"]&&P("div",{key:"prepend",class:"v-switch__track-true"},[a["track-true"](G)]),a["track-false"]&&P("div",{key:"append",class:"v-switch__track-false"},[a["track-false"](G)])])},input:F=>{let{inputNode:ce,icon:Z,backgroundColorClasses:le,backgroundColorStyles:ae}=F;return P(ht,null,[ce,P("div",{class:Ge(["v-switch__thumb",{"v-switch__thumb--filled":Z||e.loading},e.inset||m?void 0:le.value]),style:vt(e.inset?void 0:ae.value)},[a.thumb?h(an,{defaults:{VIcon:{icon:Z,size:"x-small"}}},{default:()=>[a.thumb({...G,icon:Z})]}):h(Vy,null,{default:()=>[e.loading?h(em,{name:"v-switch",active:!0,color:j.value===!1?void 0:p.value},{default:_e=>a.loader?a.loader(_e):h(pd,{active:_e.isActive,color:_e.color,indeterminate:!0,size:"16",width:"2"},null)}):Z&&h(Vn,{key:String(Z),icon:Z,size:"x-small"},null)]})])])}})}})}),{}}}),dz=ze({color:String,height:[Number,String],window:Boolean,...Ot(),...Qa(),...nc(),...sa(),...nn(),...yn()},"VSystemBar"),fz=ot()({name:"VSystemBar",props:dz(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{backgroundColorClasses:r,backgroundColorStyles:i}=Yn(()=>e.color),{elevationClasses:o}=_r(e),{roundedClasses:l}=ga(e),{ssrBootStyles:u}=ic(),f=L(()=>e.height??(e.window?32:24)),{layoutItemStyles:d}=ac({id:e.name,order:L(()=>parseInt(e.order,10)),position:kt("top"),layoutSize:f,elementSize:f,active:L(()=>!0),absolute:Pe(()=>e.absolute)});return dt(()=>h(e.tag,{class:Ge(["v-system-bar",{"v-system-bar--window":e.window},a.value,r.value,o.value,l.value,e.class]),style:vt([i.value,d.value,u.value,e.style])},n)),{}}}),mb=Symbol.for("vuetify:v-tabs"),mz=ze({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ha(ov({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ZT=ot()({name:"VTab",props:mz(),setup(e,t){let{slots:n,attrs:a}=t;const{textColorClasses:r,textColorStyles:i}=Tr(()=>e.sliderColor),o=Ne(),l=Ne(),u=L(()=>e.direction==="horizontal"),f=L(()=>{var m,p;return((p=(m=o.value)==null?void 0:m.group)==null?void 0:p.isSelected.value)??!1});function d(m){var g,y;let{value:p}=m;if(p){const S=(y=(g=o.value)==null?void 0:g.$el.parentElement)==null?void 0:y.querySelector(".v-tab--selected .v-tab__slider"),k=l.value;if(!S||!k)return;const C=getComputedStyle(S).color,w=S.getBoundingClientRect(),I=k.getBoundingClientRect(),V=u.value?"x":"y",O=u.value?"X":"Y",U=u.value?"right":"bottom",Y=u.value?"width":"height",H=w[V],B=I[V],j=H>B?w[U]-I[U]:w[V]-I[V],G=Math.sign(j)>0?u.value?"right":"bottom":Math.sign(j)<0?u.value?"left":"top":"center",ce=(Math.abs(j)+(Math.sign(j)<0?w[Y]:I[Y]))/Math.max(w[Y],I[Y])||0,Z=w[Y]/I[Y]||0,le=1.5;Ru(k,{backgroundColor:[C,"currentcolor"],transform:[`translate${O}(${j}px) scale${O}(${Z})`,`translate${O}(${j/le}px) scale${O}(${(ce-1)/le+1})`,"none"],transformOrigin:Array(3).fill(G)},{duration:225,easing:Tf})}}return dt(()=>{const m=wn.filterProps(e);return h(wn,it({symbol:mb,ref:o,class:["v-tab",e.class],style:e.style,tabindex:f.value?0:-1,role:"tab","aria-selected":String(f.value),active:!1},m,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var p;return P(ht,null,[((p=n.default)==null?void 0:p.call(n))??e.text,!e.hideSlider&&P("div",{ref:l,class:Ge(["v-tab__slider",r.value]),style:vt(i.value)},null)])}})}),Vi({},o)}}),hz=ze({...ha(dv(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),eD=ot()({name:"VTabsWindow",props:hz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=fn(mb,null),r=Lt(e,"modelValue"),i=L({get(){var o;return r.value!=null||!a?r.value:(o=a.items.value.find(l=>a.selected.value.includes(l.id)))==null?void 0:o.value},set(o){r.value=o}});return dt(()=>{const o=Ku.filterProps(e);return h(Ku,it({_as:"VTabsWindow"},o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),vz=ze({...fv()},"VTabsWindowItem"),tD=ot()({name:"VTabsWindowItem",props:vz(),setup(e,t){let{slots:n}=t;return dt(()=>{const a=Gu.filterProps(e);return h(Gu,it({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function _z(e){return e?e.map(t=>xf(t)?t:{text:t,value:t}):[]}const pz=ze({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...$y({mandatory:"force",selectedClass:"v-tab-item--selected"}),...rr(),...nn()},"VTabs"),gz=ot()({name:"VTabs",props:pz(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Lt(e,"modelValue"),i=L(()=>_z(e.items)),{densityClasses:o}=Hr(e),{backgroundColorClasses:l,backgroundColorStyles:u}=Yn(()=>e.bgColor),{scopeId:f}=dc();return va({VTab:{color:Pe(()=>e.color),direction:Pe(()=>e.direction),stacked:Pe(()=>e.stacked),fixed:Pe(()=>e.fixedTabs),sliderColor:Pe(()=>e.sliderColor),hideSlider:Pe(()=>e.hideSlider)}}),dt(()=>{const d=Ff.filterProps(e),m=!!(a.window||e.items.length>0);return P(ht,null,[h(Ff,it(d,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,l.value,e.class],style:[{"--v-tabs-height":Vt(e.height)},u.value,e.style],role:"tablist",symbol:mb},f,n),{default:()=>{var p;return[((p=a.default)==null?void 0:p.call(a))??i.value.map(g=>{var y;return((y=a.tab)==null?void 0:y.call(a,{item:g}))??h(ZT,it(g,{key:g.text,value:g.value}),{default:a[`tab.${g.value}`]?()=>{var S;return(S=a[`tab.${g.value}`])==null?void 0:S.call(a,{item:g})}:void 0})})]}}),m&&h(eD,it({modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,key:"tabs-window"},f),{default:()=>{var p;return[i.value.map(g=>{var y;return((y=a.item)==null?void 0:y.call(a,{item:g}))??h(tD,{value:g.value},{default:()=>{var S;return(S=a[`item.${g.value}`])==null?void 0:S.call(a,{item:g})}})}),(p=a.window)==null?void 0:p.call(a)]}})])}),{}}}),yz=ze({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...sl(),...om()},"VTextarea"),bz=ot()({name:"VTextarea",directives:{vIntersect:Xs},inheritAttrs:!1,props:yz(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const i=Lt(e,"modelValue"),{isFocused:o,focus:l,blur:u}=ol(e),{onIntersect:f}=EP(e),d=L(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),m=L(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=Ne(),g=Ne(),y=kt(""),S=Ne(),k=L(()=>e.persistentPlaceholder||o.value||e.active);function C(){var G;S.value!==document.activeElement&&((G=S.value)==null||G.focus()),o.value||l()}function w(G){C(),a("click:control",G)}function I(G){a("mousedown:control",G)}function V(G){G.stopPropagation(),C(),Qt(()=>{i.value="",Kh(e["onClick:clear"],G)})}function O(G){var ce;const F=G.target;if(i.value=F.value,(ce=e.modelModifiers)!=null&&ce.trim){const Z=[F.selectionStart,F.selectionEnd];Qt(()=>{F.selectionStart=Z[0],F.selectionEnd=Z[1]})}}const U=Ne(),Y=Ne(Number(e.rows)),H=L(()=>["plain","underlined"].includes(e.variant));fa(()=>{e.autoGrow||(Y.value=Number(e.rows))});function B(){e.autoGrow&&Qt(()=>{if(!U.value||!g.value)return;const G=getComputedStyle(U.value),F=getComputedStyle(g.value.$el),ce=parseFloat(G.getPropertyValue("--v-field-padding-top"))+parseFloat(G.getPropertyValue("--v-input-padding-top"))+parseFloat(G.getPropertyValue("--v-field-padding-bottom")),Z=U.value.scrollHeight,le=parseFloat(G.lineHeight),ae=Math.max(parseFloat(e.rows)*le+ce,parseFloat(F.getPropertyValue("--v-input-control-height"))),_e=parseFloat(e.maxRows)*le+ce||1/0,Ee=Xn(Z??0,ae,_e);Y.value=Math.floor((Ee-ce)/le),y.value=Vt(Ee)})}Pn(B),yt(i,B),yt(()=>e.rows,B),yt(()=>e.maxRows,B),yt(()=>e.density,B);let j;return yt(U,G=>{G?(j=new ResizeObserver(B),j.observe(U.value)):j==null||j.disconnect()}),vr(()=>{j==null||j.disconnect()}),dt(()=>{const G=!!(r.counter||e.counter||e.counterValue),F=!!(G||r.details),[ce,Z]=Zl(n),{modelValue:le,...ae}=Dr.filterProps(e),_e=Kl.filterProps(e);return h(Dr,it({ref:p,modelValue:i.value,"onUpdate:modelValue":Ee=>i.value=Ee,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":H.value},e.class],style:e.style},ce,ae,{centerAffix:Y.value===1&&!H.value,focused:o.value}),{...r,default:Ee=>{let{id:$e,isDisabled:re,isDirty:ee,isReadonly:ge,isValid:se}=Ee;return h(Kl,it({ref:g,style:{"--v-textarea-control-height":y.value},onClick:w,onMousedown:I,"onClick:clear":V,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},_e,{id:$e.value,active:k.value||ee.value,centerAffix:Y.value===1&&!H.value,dirty:ee.value||e.dirty,disabled:re.value,focused:o.value,error:se.value===!1}),{...r,default:ye=>{let{props:{class:Me,...De}}=ye;return P(ht,null,[e.prefix&&P("span",{class:"v-text-field__prefix"},[e.prefix]),xn(P("textarea",it({ref:S,class:Me,value:i.value,onInput:O,autofocus:e.autofocus,readonly:ge.value,disabled:re.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:C,onBlur:u},De,Z),null),[[Xs,{handler:f},null,{once:!0}]]),e.autoGrow&&xn(P("textarea",{class:Ge([Me,"v-textarea__sizer"]),id:`${De.id}-sizer`,"onUpdate:modelValue":R=>i.value=R,ref:U,readonly:!0,"aria-hidden":"true"},null),[[TR,i.value]]),e.suffix&&P("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:F?Ee=>{var $e;return P(ht,null,[($e=r.details)==null?void 0:$e.call(r,Ee),G&&P(ht,null,[P("span",null,null),h(uv,{active:e.persistentCounter||o.value,value:d.value,max:m.value,disabled:e.disabled},r.counter)])])}:void 0})}),Vi({},p,g,S)}}),wz=ze({withBackground:Boolean,...Ot(),...yn(),...nn()},"VThemeProvider"),kz=ot()({name:"VThemeProvider",props:wz(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e);return()=>{var r;return e.withBackground?h(e.tag,{class:Ge(["v-theme-provider",a.value,e.class]),style:vt(e.style)},{default:()=>{var i;return[(i=n.default)==null?void 0:i.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),Sz=ze({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ut,iconColor:String,lineColor:String,...Ot(),...sa(),...ss(),...Qa()},"VTimelineDivider"),Cz=ot()({name:"VTimelineDivider",props:Sz(),setup(e,t){let{slots:n}=t;const{sizeClasses:a,sizeStyles:r}=Td(e,"v-timeline-divider__dot"),{backgroundColorStyles:i,backgroundColorClasses:o}=Yn(()=>e.dotColor),{roundedClasses:l}=ga(e,"v-timeline-divider__dot"),{elevationClasses:u}=_r(e),{backgroundColorClasses:f,backgroundColorStyles:d}=Yn(()=>e.lineColor);return dt(()=>P("div",{class:Ge(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:vt(e.style)},[P("div",{class:Ge(["v-timeline-divider__before",f.value]),style:vt(d.value)},null),!e.hideDot&&P("div",{key:"dot",class:Ge(["v-timeline-divider__dot",u.value,l.value,a.value]),style:vt(r.value)},[P("div",{class:Ge(["v-timeline-divider__inner-dot",o.value,l.value]),style:vt(i.value)},[n.default?h(an,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):h(Vn,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),P("div",{class:Ge(["v-timeline-divider__after",f.value]),style:vt(d.value)},null)])),{}}}),nD=ze({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ut,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||["start","end"].includes(e)},...Ot(),...Ha(),...Qa(),...sa(),...ss(),...nn()},"VTimelineItem"),xz=ot()({name:"VTimelineItem",props:nD(),setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=za(e),r=kt(0),i=Ne();return yt(i,o=>{var l;o&&(r.value=((l=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:l.getBoundingClientRect().width)??0)},{flush:"post"}),dt(()=>{var o,l;return P("div",{class:Ge(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side==="start","v-timeline-item--side-end":e.side==="end"},e.class]),style:vt([{"--v-timeline-dot-size":Vt(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Vt(e.lineInset)})`:Vt(0)},e.style])},[P("div",{class:"v-timeline-item__body",style:vt(a.value)},[(o=n.default)==null?void 0:o.call(n)]),h(Cz,{ref:i,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&P("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((l=n.opposite)==null?void 0:l.call(n))])])}),{}}}),Pz=ze({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Jl(nD({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Ot(),...rr(),...nn(),...yn()},"VTimeline"),Tz=ot()({name:"VTimeline",props:Pz(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Mn(e),{densityClasses:r}=Hr(e),{rtlClasses:i}=Ua();va({VTimelineDivider:{lineColor:Pe(()=>e.lineColor)},VTimelineItem:{density:Pe(()=>e.density),dotColor:Pe(()=>e.dotColor),fillDot:Pe(()=>e.fillDot),hideOpposite:Pe(()=>e.hideOpposite),iconColor:Pe(()=>e.iconColor),lineColor:Pe(()=>e.lineColor),lineInset:Pe(()=>e.lineInset),size:Pe(()=>e.size)}});const o=L(()=>{const u=e.side?e.side:e.density!=="default"?"end":null;return u&&`v-timeline--side-${u}`}),l=L(()=>{const u=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return u;case"start":return u[0];case"end":return u[1];default:return null}});return dt(()=>h(e.tag,{class:Ge(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,l.value,{"v-timeline--inset-line":!!e.lineInset},a.value,r.value,o.value,i.value,e.class]),style:vt([{"--v-timeline-line-thickness":Vt(e.lineThickness)},e.style])},n)),{}}}),Dz=ze({...Ot(),...Zi({variant:"text"})},"VToolbarItems"),Iz=ot()({name:"VToolbarItems",props:Dz(),setup(e,t){let{slots:n}=t;return va({VBtn:{color:Pe(()=>e.color),height:"inherit",variant:Pe(()=>e.variant)}}),dt(()=>{var a;return P("div",{class:Ge(["v-toolbar-items",e.class]),style:vt(e.style)},[(a=n.default)==null?void 0:a.call(n)])}),{}}}),Az=ze({id:String,interactive:Boolean,text:String,...ha(im({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),aD=ot()({name:"VTooltip",props:Az(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{scopeId:r}=dc(),i=ii(),o=Pe(()=>e.id||`v-tooltip-${i}`),l=Ne(),u=L(()=>e.location.split(" ").length>1?e.location:e.location+" center"),f=L(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=Pe(()=>e.transition!=null?e.transition:a.value?"scale-transition":"fade-transition"),m=L(()=>it({"aria-describedby":o.value},e.activatorProps));return dt(()=>{const p=ts.filterProps(e);return h(ts,it({ref:l,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:o.value},p,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,transition:d.value,absolute:!0,location:u.value,origin:f.value,persistent:!0,role:"tooltip",activatorProps:m.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var k;for(var g=arguments.length,y=new Array(g),S=0;S<g;S++)y[S]=arguments[S];return((k=n.default)==null?void 0:k.call(n,...y))??e.text}})}),Vi({},l)}}),Ez=ot()({name:"VValidation",props:aP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=rP(e,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,a)}}}),Vz=Object.freeze(Object.defineProperty({__proto__:null,VAlert:G5,VAlertTitle:Qx,VApp:r5,VAppBar:C5,VAppBarNavIcon:W5,VAppBarTitle:j5,VAutocomplete:p6,VAvatar:Xi,VBadge:y6,VBanner:k6,VBannerActions:RP,VBannerText:FP,VBottomNavigation:C6,VBottomSheet:P6,VBreadcrumbs:A6,VBreadcrumbsDivider:LP,VBreadcrumbsItem:NP,VBtn:wn,VBtnGroup:Hp,VBtnToggle:A5,VCard:B6,VCardActions:qP,VCardItem:zP,VCardSubtitle:UP,VCardText:WP,VCardTitle:HP,VCarousel:z6,VCarouselItem:j6,VCheckbox:o8,VCheckboxBtn:Zs,VChip:Ed,VChipGroup:d8,VClassIcon:cy,VCode:Y6,VCol:kU,VColorPicker:Rq,VCombobox:$q,VComponentIcon:Vp,VConfirmEdit:Nq,VContainer:gU,VCounter:uv,VDataIterator:Qq,VDataTable:fU,VDataTableFooter:Nf,VDataTableHeaders:Qu,VDataTableRow:sb,VDataTableRows:Xu,VDataTableServer:_U,VDataTableVirtual:hU,VDatePicker:MU,VDatePickerControls:og,VDatePickerHeader:sg,VDatePickerMonth:lg,VDatePickerMonths:ug,VDatePickerYears:cg,VDefaultsProvider:an,VDialog:Jp,VDialogBottomTransition:l5,VDialogTopTransition:u5,VDialogTransition:nv,VDivider:Ws,VEmptyState:RU,VExpandTransition:av,VExpandXTransition:My,VExpansionPanel:FU,VExpansionPanelText:dg,VExpansionPanelTitle:fg,VExpansionPanels:NU,VFab:UU,VFabTransition:s5,VFadeTransition:Of,VField:Kl,VFieldLabel:sf,VFileInput:WU,VFooter:YU,VForm:GU,VHover:XU,VIcon:Vn,VImg:Js,VInfiniteScroll:ZU,VInput:Dr,VItem:nH,VItemGroup:tH,VKbd:aH,VLabel:Ad,VLayout:iH,VLayoutItem:sH,VLazy:uH,VLigatureIcon:P$,VList:lv,VListGroup:Yp,VListImg:O8,VListItem:el,VListItemAction:B8,VListItemMedia:F8,VListItemSubtitle:pP,VListItemTitle:gP,VListSubheader:yP,VLocaleProvider:dH,VMain:mH,VMenu:gd,VMessages:tP,VNavigationDrawer:kH,VNoSsr:SH,VNumberInput:DH,VOtpInput:AH,VOverlay:ts,VPagination:rg,VParallax:OH,VProgressCircular:pd,VProgressLinear:rv,VRadio:BH,VRadioGroup:FH,VRangeSlider:LH,VRating:qH,VResponsive:qp,VRow:IU,VScaleTransition:Vy,VScrollXReverseTransition:d5,VScrollXTransition:c5,VScrollYReverseTransition:m5,VScrollYTransition:f5,VSelect:Ky,VSelectionControl:Yl,VSelectionControlGroup:Jx,VSheet:Lf,VSkeletonLoader:WH,VSlideGroup:Ff,VSlideGroupItem:jH,VSlideXReverseTransition:v5,VSlideXTransition:h5,VSlideYReverseTransition:_5,VSlideYTransition:Oy,VSlider:ag,VSnackbar:mg,VSnackbarQueue:GH,VSpacer:VT,VSparkline:ZH,VSpeedDial:tz,VStepper:lz,VStepperActions:KT,VStepperHeader:GT,VStepperItem:QT,VStepperWindow:XT,VStepperWindowItem:JT,VSvgIcon:uy,VSwitch:cz,VSystemBar:fz,VTab:ZT,VTable:Ju,VTabs:gz,VTabsWindow:eD,VTabsWindowItem:tD,VTextField:tl,VTextarea:bz,VThemeProvider:kz,VTimeline:Tz,VTimelineItem:xz,VToolbar:Up,VToolbarItems:Iz,VToolbarTitle:Ey,VTooltip:aD,VValidation:Ez,VVirtualScroll:cv,VWindow:Ku,VWindowItem:Gu},Symbol.toStringTag,{value:"Module"}));function Oz(e,t){const n=t.modifiers||{},a=t.value,{once:r,immediate:i,...o}=n,l=!Object.keys(o).length,{handler:u,options:f}=typeof a=="object"?a:{handler:a,options:{attributes:(o==null?void 0:o.attr)??l,characterData:(o==null?void 0:o.char)??l,childList:(o==null?void 0:o.child)??l,subtree:(o==null?void 0:o.sub)??l}},d=new MutationObserver(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0;u==null||u(m,p),r&&rD(e,t)});i&&(u==null||u([],d)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,f)}function rD(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Mz={mounted:Oz,unmounted:rD};function Bz(e,t){var r,i;const n=t.value,a={passive:!((r=t.modifiers)!=null&&r.active)};window.addEventListener("resize",n,a),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:a},(i=t.modifiers)!=null&&i.quiet||n()}function Rz(e,t){var r;if(!((r=e._onResize)!=null&&r[t.instance.$.uid]))return;const{handler:n,options:a}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,a),delete e._onResize[t.instance.$.uid]}const Fz={mounted:Bz,unmounted:Rz};function iD(e,t){const{self:n=!1}=t.modifiers??{},a=t.value,r=typeof a=="object"&&a.options||{passive:!0},i=typeof a=="function"||"handleEvent"in a?a:a.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",i,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:i,options:r,target:n?void 0:o})}function oD(e,t){var i;if(!((i=e._onScroll)!=null&&i[t.instance.$.uid]))return;const{handler:n,options:a,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,a),delete e._onScroll[t.instance.$.uid]}function $z(e,t){t.value!==t.oldValue&&(oD(e,t),iD(e,t))}const Lz={mounted:iD,unmounted:oD,updated:$z};function Nz(e,t){const n=typeof e=="string"?ie(e):e,a=qz(n,t);return{mounted:a,updated:a,unmounted(r){bh(null,r)}}}function qz(e,t){return function(n,a,r){var m,p,g;const i=typeof t=="function"?t(a):t,o=((m=a.value)==null?void 0:m.text)??a.value??(i==null?void 0:i.text),l=xf(a.value)?a.value:{},u=()=>o??n.textContent,f=(r.ctx===a.instance.$?(p=Uz(r,a.instance.$))==null?void 0:p.provides:(g=r.ctx)==null?void 0:g.provides)??a.instance.$.provides,d=rs(e,it(i,l),u);d.appContext=Object.assign(Object.create(null),a.instance.$.appContext,{provides:f}),bh(d,n)}}function Uz(e,t){const n=new Set,a=i=>{var o,l;for(const u of i){if(!u)continue;if(u===e||u.el&&e.el&&u.el===e.el)return!0;n.add(u);let f;if(u.suspense?f=a([u.ssContent]):Array.isArray(u.children)?f=a(u.children):(o=u.component)!=null&&o.vnode&&(f=a([(l=u.component)==null?void 0:l.subTree])),f)return f;n.delete(u)}return!1};if(!a([t.subTree]))return t;const r=Array.from(n).reverse();for(const i of r)if(i.component)return i.component;return t}const Hz=Nz(aD,e=>{var t;return{activator:"parent",location:(t=e.arg)==null?void 0:t.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),zz=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:Xp,Intersect:Xs,Mutate:Mz,Resize:Fz,Ripple:Ur,Scroll:Lz,Tooltip:Hz,Touch:Vh},Symbol.toStringTag,{value:"Module"})),Wz="modulepreload",jz=function(e){return"/assets/posawesome/"+e},pk={},Yz=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(n.map(f=>{if(f=jz(f),f in pk)return;pk[f]=!0;const d=f.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Wz,d||(p.as="script"),p.crossOrigin="",p.href=f,u&&p.setAttribute("nonce",u),document.head.appendChild(p),d)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Bn=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n},Kz={name:"NavbarAppBar",props:{posProfile:{type:Object,default:()=>({})},pendingInvoices:{type:Number,default:0},isDark:Boolean},computed:{appBarColor(){return this.isDark?this.$vuetify.theme.themes.dark.colors.surface:"white"},displayName(){return this.posProfile&&this.posProfile.name?this.posProfile.name:frappe.session&&frappe.session.user_fullname?frappe.session.user_fullname:frappe.session&&frappe.session.user?frappe.session.user:"User"}},emits:["nav-click","go-desk","show-offline-invoices"]},Gz={class:"profile-section mx-1"};function Qz(e,t,n,a,r,i){const o=ie("v-app-bar-nav-icon"),l=ie("v-img"),u=ie("v-toolbar-title"),f=ie("v-spacer"),d=ie("v-icon"),m=ie("v-chip"),p=ie("v-badge"),g=ie("v-tooltip"),y=ie("v-btn"),S=ie("v-app-bar");return de(),ct(S,{app:"",flat:"",height:"56",color:i.appBarColor,theme:n.isDark?"dark":"light",class:"navbar-enhanced elevation-2 px-2 pb-1"},{default:D(()=>[h(o,{ref:"navIcon",onClick:t[0]||(t[0]=k=>e.$emit("nav-click")),class:"text-secondary nav-icon"},null,512),h(l,{src:"/assets/posawesome/images/pos.png",alt:"POS Awesome","max-width":"32",class:"mx-2"}),h(u,{onClick:t[1]||(t[1]=k=>e.$emit("go-desk")),class:"text-h6 font-weight-bold text-primary navbar-title",style:{cursor:"pointer","text-decoration":"none"}},{default:D(()=>t[3]||(t[3]=[P("span",{class:"font-weight-light"},"POS",-1),P("span",null,"Awesome",-1)])),_:1,__:[3]}),h(f),$t(e.$slots,"status-indicator",{},void 0,!0),$t(e.$slots,"cache-usage-meter",{},void 0,!0),P("div",Gz,[h(m,{color:"primary",variant:"outlined",class:"profile-chip"},{default:D(()=>[h(d,{start:""},{default:D(()=>t[4]||(t[4]=[Ye("mdi-account-circle")])),_:1,__:[4]}),Ye(" "+ve(i.displayName),1)]),_:1})]),h(y,{icon:"",color:"primary",class:Ge(["mx-1 offline-invoices-btn",{"has-pending":n.pendingInvoices>0}]),onClick:t[2]||(t[2]=k=>e.$emit("show-offline-invoices"))},{default:D(()=>[n.pendingInvoices>0?(de(),ct(p,{key:0,content:n.pendingInvoices,color:"error",overlap:""},{default:D(()=>[h(d,null,{default:D(()=>t[5]||(t[5]=[Ye("mdi-file-document-multiple-outline")])),_:1,__:[5]})]),_:1},8,["content"])):(de(),ct(d,{key:1},{default:D(()=>t[6]||(t[6]=[Ye("mdi-file-document-multiple-outline")])),_:1,__:[6]})),h(g,{activator:"parent",location:"bottom"},{default:D(()=>[Ye(ve(e.__("Offline Invoices"))+" ("+ve(n.pendingInvoices)+") ",1)]),_:1})]),_:1},8,["class"]),$t(e.$slots,"menu",{},void 0,!0)]),_:3},8,["color","theme"])}const Xz=Bn(Kz,[["render",Qz],["__scopeId","data-v-7882bd0e"]]),Jz={name:"NavbarDrawer",props:{drawer:Boolean,company:String,companyImg:String,items:Array,item:Number,isDark:Boolean},data(){return{mini:!1,drawerOpen:this.drawer,activeItem:this.item}},watch:{drawer(e){this.drawerOpen=e,e&&(this.mini=!1)},drawerOpen(e){this.$emit("update:drawer",e)},item(e){this.activeItem=e},activeItem(e){this.$emit("update:item",e)}},mounted(){},methods:{handleMouseLeave(){this.drawerOpen&&(clearTimeout(this._closeTimeout),this._closeTimeout=setTimeout(()=>{this.drawerOpen=!1,this.mini=!0},250))},changePage(e){this.$emit("change-page",e),window.innerWidth<1024&&this.closeDrawer()},closeDrawer(){this.drawerOpen=!1,this.mini=!0}}},Zz={key:0,class:"drawer-header"},eW={class:"drawer-company"},tW={key:1,class:"drawer-header-mini"};function nW(e,t,n,a,r,i){const o=ie("v-img"),l=ie("v-avatar"),u=ie("v-divider"),f=ie("v-icon"),d=ie("v-list-item-title"),m=ie("v-list-item"),p=ie("v-list-item-group"),g=ie("v-list"),y=ie("v-navigation-drawer");return de(),ct(y,{modelValue:r.drawerOpen,"onUpdate:modelValue":t[1]||(t[1]=S=>r.drawerOpen=S),"mini-variant":r.mini,"expand-on-hover":"",width:"220",class:"drawer-custom",onMouseleave:i.handleMouseLeave,temporary:"",location:"left",scrim:!0},{default:D(()=>[r.mini?(de(),nt("div",tW,[h(l,{size:"40"},{default:D(()=>[h(o,{src:n.companyImg,alt:"Company logo"},null,8,["src"])]),_:1})])):(de(),nt("div",Zz,[h(l,{size:"40"},{default:D(()=>[h(o,{src:n.companyImg,alt:"Company logo"},null,8,["src"])]),_:1}),P("span",eW,ve(n.company),1)])),h(u),h(g,{dense:"",nav:""},{default:D(()=>[h(p,{modelValue:r.activeItem,"onUpdate:modelValue":t[0]||(t[0]=S=>r.activeItem=S),"active-class":"active-item"},{default:D(()=>[(de(!0),nt(ht,null,In(n.items,(S,k)=>(de(),ct(m,{key:S.text,onClick:C=>i.changePage(S.text),class:"drawer-item"},{prepend:D(()=>[h(f,{class:"drawer-icon"},{default:D(()=>[Ye(ve(S.icon),1)]),_:2},1024)]),default:D(()=>[h(d,{class:"drawer-item-title"},{default:D(()=>[Ye(ve(S.text),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","mini-variant","onMouseleave"])}const aW=Bn(Jz,[["render",nW],["__scopeId","data-v-567088d9"]]),rW={name:"NavbarMenu",props:{posProfile:{type:Object,default:()=>({})},lastInvoiceId:String,manualOffline:Boolean,isDark:Boolean},emits:["close-shift","print-last-invoice","sync-invoices","toggle-offline","clear-cache","show-about","toggle-theme","logout"]},iW={class:"menu-header-compact"},oW={class:"menu-header-text-compact"},sW={class:"menu-icon-wrapper-compact primary-icon"},lW={class:"menu-content-compact"},uW={class:"menu-icon-wrapper-compact secondary-icon"},cW={class:"menu-content-compact"},dW={class:"menu-icon-wrapper-compact info-icon"},fW={class:"menu-content-compact"},mW={class:"menu-icon-wrapper-compact warning-icon"},hW={class:"menu-content-compact"},vW={class:"menu-icon-wrapper-compact neutral-icon"},_W={class:"menu-content-compact"},pW={class:"menu-icon-wrapper-compact neutral-icon"},gW={class:"menu-content-compact"},yW={class:"menu-icon-wrapper-compact info-icon"},bW={class:"menu-content-compact"},wW={class:"menu-icon-wrapper-compact danger-icon"},kW={class:"menu-content-compact"};function SW(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-btn"),u=ie("v-list-item-title"),f=ie("v-list-item-subtitle"),d=ie("v-list-item"),m=ie("v-divider"),p=ie("v-list"),g=ie("v-card"),y=ie("v-menu");return de(),ct(y,{"min-width":240,"close-on-content-click":!0,location:"bottom end",offset:[0,4]},{activator:D(({props:S})=>[h(l,it(S,{color:"primary",variant:"elevated",class:"menu-btn-compact"}),{default:D(()=>[Ye(ve(e.__("Menu"))+" ",1),h(o,{end:"",size:"16",class:"ml-1"},{default:D(()=>t[8]||(t[8]=[Ye("mdi-menu-down")])),_:1,__:[8]})]),_:2},1040)]),default:D(()=>[h(g,{class:"menu-card-compact",elevation:"12"},{default:D(()=>[P("div",iW,[h(o,{color:"primary",size:"20"},{default:D(()=>t[9]||(t[9]=[Ye("mdi-menu")])),_:1,__:[9]}),P("span",oW,ve(e.__("Actions")),1)]),h(p,{density:"compact",class:"menu-list-compact"},{default:D(()=>[n.posProfile.posa_hide_closing_shift?Ke("",!0):(de(),ct(d,{key:0,onClick:t[0]||(t[0]=S=>e.$emit("close-shift")),class:"menu-item-compact primary-action"},{prepend:D(()=>[P("div",sW,[h(o,{color:"white",size:"16"},{default:D(()=>t[10]||(t[10]=[Ye("mdi-content-save-move-outline")])),_:1,__:[10]})])]),default:D(()=>[P("div",lW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(e.__("Close Shift")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("End current session")),1)]),_:1})])]),_:1})),n.posProfile.posa_allow_print_last_invoice?(de(),ct(d,{key:1,onClick:t[1]||(t[1]=S=>e.$emit("print-last-invoice")),disabled:!n.lastInvoiceId,class:"menu-item-compact secondary-action"},{prepend:D(()=>[P("div",uW,[h(o,{color:"white",size:"16"},{default:D(()=>t[11]||(t[11]=[Ye("mdi-printer")])),_:1,__:[11]})])]),default:D(()=>[P("div",cW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(e.__("Print Last Invoice")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("Reprint previous transaction")),1)]),_:1})])]),_:1},8,["disabled"])):Ke("",!0),h(d,{onClick:t[2]||(t[2]=S=>e.$emit("sync-invoices")),class:"menu-item-compact info-action"},{prepend:D(()=>[P("div",dW,[h(o,{color:"white",size:"16"},{default:D(()=>t[12]||(t[12]=[Ye("mdi-sync")])),_:1,__:[12]})])]),default:D(()=>[P("div",fW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(e.__("Sync Offline Invoices")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("Upload pending transactions")),1)]),_:1})])]),_:1}),h(d,{onClick:t[3]||(t[3]=S=>e.$emit("toggle-offline")),class:"menu-item-compact warning-action"},{prepend:D(()=>[P("div",mW,[h(o,{color:"white",size:"16"},{default:D(()=>t[13]||(t[13]=[Ye("mdi-wifi-off")])),_:1,__:[13]})])]),default:D(()=>[P("div",hW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(n.manualOffline?e.__("Go Online"):e.__("Go Offline")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(n.manualOffline?e.__("Disable offline mode"):e.__("Work without server connection")),1)]),_:1})])]),_:1}),h(d,{onClick:t[4]||(t[4]=S=>e.$emit("clear-cache")),class:"menu-item-compact neutral-action"},{prepend:D(()=>[P("div",vW,[h(o,{color:"white",size:"16"},{default:D(()=>t[14]||(t[14]=[Ye("mdi-delete-sweep-outline")])),_:1,__:[14]})])]),default:D(()=>[P("div",_W,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(e.__("Clear Cache")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("Remove local data and refresh")),1)]),_:1})])]),_:1}),h(m,{class:"menu-section-divider-compact"}),h(d,{onClick:t[5]||(t[5]=S=>e.$emit("show-about")),class:"menu-item-compact neutral-action"},{prepend:D(()=>[P("div",pW,[h(o,{color:"white",size:"16"},{default:D(()=>t[15]||(t[15]=[Ye("mdi-information-outline")])),_:1,__:[15]})])]),default:D(()=>[P("div",gW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(e.__("About")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("App information")),1)]),_:1})])]),_:1}),h(d,{onClick:t[6]||(t[6]=S=>e.$emit("toggle-theme")),class:"menu-item-compact info-action"},{prepend:D(()=>[P("div",yW,[h(o,{color:"white",size:"16"},{default:D(()=>[Ye(ve(n.isDark?"mdi-white-balance-sunny":"mdi-moon-waning-crescent"),1)]),_:1})])]),default:D(()=>[P("div",bW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(n.isDark?e.__("Light Mode"):e.__("Dark Mode")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("Switch theme appearance")),1)]),_:1})])]),_:1}),h(d,{onClick:t[7]||(t[7]=S=>e.$emit("logout")),class:"menu-item-compact danger-action"},{prepend:D(()=>[P("div",wW,[h(o,{color:"white",size:"16"},{default:D(()=>t[16]||(t[16]=[Ye("mdi-logout")])),_:1,__:[16]})])]),default:D(()=>[P("div",kW,[h(u,{class:"menu-item-title-compact"},{default:D(()=>[Ye(ve(e.__("Logout")),1)]),_:1}),h(f,{class:"menu-item-subtitle-compact"},{default:D(()=>[Ye(ve(e.__("Sign out of session")),1)]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})}const CW=Bn(rW,[["render",SW],["__scopeId","data-v-d2855870"]]),xW={name:"StatusIndicator",props:{networkOnline:Boolean,serverOnline:Boolean,serverConnecting:Boolean,isIpHost:Boolean,syncTotals:Object},computed:{statusColor(){return console.log("StatusIndicator - Network:",this.networkOnline,"Server:",this.serverOnline,"Connecting:",this.serverConnecting,"IP Host:",this.isIpHost,"Host:",window.location.hostname),this.serverConnecting?"orange":this.isIpHost?this.networkOnline?"green":"red":this.networkOnline&&this.serverOnline?"green":this.networkOnline&&!this.serverOnline?"orange":"red"},statusIcon(){return console.log("StatusIndicator - Determining icon for network:",this.networkOnline,"server:",this.serverOnline,"connecting:",this.serverConnecting),this.serverConnecting?"mdi-wifi-sync":this.isIpHost?this.networkOnline?"mdi-wifi":"mdi-wifi-off":this.networkOnline&&this.serverOnline?"mdi-wifi":this.networkOnline&&!this.serverOnline?"mdi-wifi-strength-alert-outline":"mdi-wifi-off"},statusText(){const e=window.location.hostname,t=this.isIpHost?"Local/IP Host":"Domain Host";return this.serverConnecting?this.__(`Connecting to server... (${t}: ${e})`):this.networkOnline?this.isIpHost?this.__(`Connected to ${e}`):this.serverOnline?this.__(`Connected to Server (${e})`):this.__(`Server Offline (${e})`):this.__(`No Internet Connection (${t}: ${e})`)},syncInfoText(){const{pending:e,synced:t,drafted:n}=this.syncTotals,a=e||0,r=t||0,i=n||0;return this.networkOnline?`To Sync: ${a} | Synced: ${r} | Draft: ${i}`:a>0||r>0||i>0?`Pending: ${a} | Synced: ${r} | Draft: ${i}`:"Offline Mode"}}},PW={class:"status-section-enhanced mx-1"},TW={class:"status-info-always-visible"},DW={class:"status-detail-inline"};function IW(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-btn");return de(),nt("div",PW,[h(l,{icon:"",title:i.statusText,class:"status-btn-enhanced",color:i.statusColor},{default:D(()=>[h(o,{color:i.statusColor},{default:D(()=>[Ye(ve(i.statusIcon),1)]),_:1},8,["color"])]),_:1},8,["title","color"]),P("div",TW,[P("div",{class:Ge(["status-title-inline",{"status-connected":i.statusColor==="green","status-offline":i.statusColor==="red"}])},ve(i.statusText),3),P("div",DW,ve(i.syncInfoText),1)])])}const AW=Bn(xW,[["render",IW],["__scopeId","data-v-23dbb2af"]]),EW={name:"CacheUsageMeter",props:{cacheUsage:{type:Number,default:0},cacheUsageLoading:{type:Boolean,default:!1},cacheUsageDetails:{type:Object,default:()=>({total:0,indexedDB:0,localStorage:0})}},computed:{cacheUsageColor(){return this.cacheUsage<50?"success":this.cacheUsage<80?"warning":"error"}},methods:{refreshCacheUsage(){this.$emit("refresh")},formatBytes(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+n[a]}}},VW={class:"cache-usage-section mx-1"},OW={class:"cache-tooltip-content"},MW={class:"cache-tooltip-title"},BW={key:0,class:"cache-tooltip-detail"},RW={key:1,class:"cache-tooltip-detail"},FW={class:"cache-tooltip-action"};function $W(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-progress-circular"),u=ie("v-tooltip");return de(),nt("div",VW,[h(u,{location:"bottom"},{activator:D(({props:f})=>[P("div",it(f,{class:"cache-meter-container",onClick:t[0]||(t[0]=(...d)=>i.refreshCacheUsage&&i.refreshCacheUsage(...d))}),[h(l,{"model-value":n.cacheUsage,color:i.cacheUsageColor,size:32,width:3,class:"cache-meter"},{default:D(()=>[h(o,{size:"16"},{default:D(()=>t[1]||(t[1]=[Ye("mdi-database")])),_:1,__:[1]})]),_:1},8,["model-value","color"])],16)]),default:D(()=>[P("div",OW,[P("div",MW,ve(e.__("Cache Usage")),1),n.cacheUsageLoading?(de(),nt("div",RW,ve(e.__("Calculating...")),1)):(de(),nt("div",BW,[P("div",null,ve(e.__("Total Size"))+": "+ve(i.formatBytes(n.cacheUsageDetails.total)),1),P("div",null,ve(e.__("IndexedDB"))+": "+ve(i.formatBytes(n.cacheUsageDetails.indexedDB)),1),P("div",null,ve(e.__("localStorage"))+": "+ve(i.formatBytes(n.cacheUsageDetails.localStorage)),1)])),P("div",FW,[h(o,{size:"14",class:"mr-1"},{default:D(()=>t[2]||(t[2]=[Ye("mdi-refresh")])),_:1,__:[2]}),Ye(" "+ve(e.__("Click to refresh")),1)])])]),_:1})])}const LW=Bn(EW,[["render",$W],["__scopeId","data-v-28d74094"]]),NW={name:"AboutDialog",props:{modelValue:Boolean},data(){return{dialogOpen:this.modelValue,loadingAppInfo:!1,appInfoError:!1,appInfo:[]}},watch:{modelValue(e){this.dialogOpen=e,e&&this.loadAppInfo()},dialogOpen(e){this.$emit("update:modelValue",e)}},methods:{close(){this.dialogOpen=!1},loadAppInfo(){this.loadingAppInfo=!0,this.appInfoError=!1,frappe.call({method:"posawesome.posawesome.api.utilities.get_app_info",callback:e=>{this.loadingAppInfo=!1,Array.isArray(e.message.apps)?this.appInfo=e.message.apps:this.appInfoError=!0},error:()=>{this.loadingAppInfo=!1,this.appInfoError=!0}})}}},qW={class:"header-content-improved"},UW={class:"header-icon-wrapper-improved"},HW={class:"header-text-improved"},zW={class:"header-title-improved"},WW={class:"header-subtitle-improved"},jW={key:0,class:"header-stats-improved"},YW={class:"content-container-improved"},KW={key:0,class:"empty-state-improved text-center"},GW={class:"text-body-2 mt-3 mb-0"},QW={key:1,class:"empty-state-improved text-center"},XW={class:"text-body-2 mb-3"},JW={key:2,class:"apps-list-improved"},ZW={class:"apps-header-improved"},ej={class:"text-h6 mb-2"},tj={class:"apps-grid-improved"},nj={class:"app-icon-improved"},aj={class:"app-details-improved"},rj={class:"app-name-improved"},ij={class:"app-version-improved"},oj={class:"footer-info-improved"},sj={class:"footer-text-improved"};function lj(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-chip"),u=ie("v-btn"),f=ie("v-card-title"),d=ie("v-progress-circular"),m=ie("v-card-text"),p=ie("v-spacer"),g=ie("v-card-actions"),y=ie("v-card"),S=ie("v-dialog");return de(),ct(S,{modelValue:r.dialogOpen,"onUpdate:modelValue":t[0]||(t[0]=k=>r.dialogOpen=k),"max-width":"650",persistent:""},{default:D(()=>[h(y,{class:"about-dialog-card-improved"},{default:D(()=>[h(f,{class:"about-header-improved pa-5"},{default:D(()=>[P("div",qW,[P("div",UW,[h(o,{size:"22",class:"header-icon"},{default:D(()=>t[1]||(t[1]=[Ye("mdi-information-outline")])),_:1,__:[1]})]),P("div",HW,[P("h3",zW,ve(e.__("About")),1),P("p",WW,ve(e.__("System Information")),1)]),!r.loadingAppInfo&&!r.appInfoError?(de(),nt("div",jW,[h(l,{size:"small",color:"primary",variant:"tonal",class:"status-chip-improved"},{default:D(()=>[h(o,{start:"",size:"14"},{default:D(()=>t[2]||(t[2]=[Ye("mdi-application-outline")])),_:1,__:[2]}),Ye(" "+ve(r.appInfo.length)+" "+ve(e.__("Apps")),1)]),_:1})])):Ke("",!0)]),h(u,{icon:"mdi-close",variant:"text",size:"default",onClick:i.close,class:"close-btn-improved"},null,8,["onClick"])]),_:1}),h(m,{class:"pa-0 white-background"},{default:D(()=>[P("div",YW,[r.loadingAppInfo?(de(),nt("div",KW,[h(d,{indeterminate:"",color:"primary",size:"50"}),P("p",GW,ve(e.__("Loading...")),1)])):r.appInfoError?(de(),nt("div",QW,[h(o,{size:"50",color:"error",class:"mb-3"},{default:D(()=>t[3]||(t[3]=[Ye("mdi-alert-circle-outline")])),_:1,__:[3]}),P("p",XW,ve(e.__("Error Loading Data")),1),h(u,{color:"primary",variant:"outlined",size:"default",onClick:i.loadAppInfo},{default:D(()=>[h(o,{start:"",size:"18"},{default:D(()=>t[4]||(t[4]=[Ye("mdi-refresh")])),_:1,__:[4]}),Ye(" "+ve(e.__("Retry")),1)]),_:1},8,["onClick"])])):(de(),nt("div",JW,[P("div",ZW,[P("h4",ej,ve(e.__("Installed Applications")),1)]),P("div",tj,[(de(!0),nt(ht,null,In(r.appInfo,k=>(de(),nt("div",{key:k.app_name,class:"app-item-improved"},[P("div",nj,[h(o,{size:"18",color:"white"},{default:D(()=>t[5]||(t[5]=[Ye("mdi-application-outline")])),_:1,__:[5]})]),P("div",aj,[P("div",rj,ve(k.app_name),1),P("div",ij,"v"+ve(k.installed_version),1)])]))),128))])]))])]),_:1}),h(g,{class:"dialog-actions-improved pa-4"},{default:D(()=>[P("div",oj,[P("span",sj,[h(o,{start:"",size:"16",color:"error"},{default:D(()=>t[6]||(t[6]=[Ye("mdi-heart")])),_:1,__:[6]}),Ye(" "+ve(e.__("Built with Frappe")),1)])]),h(p),h(u,{color:"primary",onClick:i.close,class:"close-btn-action-improved"},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const uj=Bn(NW,[["render",lj],["__scopeId","data-v-ad7bf57a"]]),po={data(){return{float_precision:2,currency_precision:2}},methods:{flt(e,t,n,a){return!t&&t!=0&&(t=this.currency_precision||2),a||(a="Banker's Rounding (legacy)"),flt(e,t,n,a)},formatCurrency(e,t){e==null&&(e=0);let n=Number(String(e).replace(/,/g,""));isNaN(n)&&(n=0);let a=t!=null?Number(t):Number(this.currency_precision)||2;return(!Number.isInteger(a)||a<0||a>20)&&(a=Math.min(Math.max(parseInt(a)||2,0),20)),n.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})},formatFloat(e,t){e==null&&(e=0);let n=Number(String(e).replace(/,/g,""));isNaN(n)&&(n=0);let a=t!=null?Number(t):Number(this.float_precision)||2;return(!Number.isInteger(a)||a<0||a>20)&&(a=Math.min(Math.max(parseInt(a)||2,0),20)),n.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})},setFormatedCurrency(e,t,n,a=!1,r){let i=r&&r.target?r.target.value:r;typeof i=="string"&&(i=i.replace(/,/g,""));let o=parseFloat(i);return isNaN(o)?o=0:a&&o<0&&(o=Math.abs(o)),typeof e=="object"?e[t]=o:this[t]=o,this.formatCurrency(o,n)},setFormatedFloat(e,t,n,a=!1,r){let i=r&&r.target?r.target.value:r;typeof i=="string"&&(i=i.replace(/,/g,""));let o=parseFloat(i);return isNaN(o)?o=0:a&&o<0&&(o=Math.abs(o)),typeof e=="object"?e[t]=o:this[t]=o,this.formatFloat(o,n)},currencySymbol(e){return get_currency_symbol(e)},isNumber(e){return/^-?(\d+|\d{1,3}(\.\d{3})*)(,\d+)?$/.test(e)||"invalid number"}},mounted(){this.float_precision=frappe.defaults.get_default("float_precision")||2,this.currency_precision=frappe.defaults.get_default("currency_precision")||2;const e=t=>{const n=t.pos_profile||t,a=parseInt(n.posa_decimal_precision);isNaN(a)||(this.float_precision=a,this.currency_precision=a)};this.eventBus&&this.eventBus.on&&(this.eventBus.on("register_pos_profile",e),this.eventBus.on("payments_register_pos_profile",e))}};let ap=Promise.resolve();function cj(e){return ap=ap.then(()=>e()).catch(t=>{console.error("DB operation failed",t)}),ap}async function dj(e,t=1/0){const n=[];try{await qr.transaction("r",qr.table(e),async()=>{let a=0;await qr.table(e).each(r=>{if(n.push(r),a+=1,a>=t)throw es.IterationComplete})})}catch(a){a!==es.IterationComplete&&console.error("Cursor read failed",a)}return n}const hb="/assets/posawesome/itemWorker-C89mggeQ.js",qr=new es("posawesome_offline");qr.version(1).stores({keyval:"&key"});async function ho(){try{return await qr.table("keyval").get("health_check"),!0}catch(e){console.error("IndexedDB health check failed",e);try{qr.isOpen()&&await qr.close(),await es.delete("posawesome_offline"),await qr.open()}catch(t){console.error("Failed to recover IndexedDB",t)}return!1}}let Bh=null;if(typeof Worker<"u")try{Bh=new Worker(hb,{type:"module"})}catch(e){console.error("Failed to init persist worker",e),Bh=null}const oh={};let hg=null;function fj(e,t){oh[e]=t,hg||(hg=setTimeout(mj,100))}function mj(){const e=Object.keys(oh);e.length&&e.forEach(t=>{rn(t,oh[t]),delete oh[t]}),hg=null}function rn(e,t){if(ho().catch(()=>{}),Bh){let n=t;try{n=JSON.parse(JSON.stringify(t))}catch(a){console.error("Failed to serialize",e,a)}try{Bh.postMessage({type:"persist",key:e,value:n})}catch(a){console.error(`Failed to postMessage for ${e}`,a)}return}if(cj(()=>qr.table("keyval").put({key:e,value:t}).catch(n=>console.error(`Failed to persist ${e}`,n))),typeof localStorage<"u"&&e!=="price_list_cache")try{localStorage.setItem(`posa_${e}`,JSON.stringify(t))}catch(n){console.error("Failed to persist",e,"to localStorage",n)}}const Zu=new Promise(e=>{const t=async()=>{try{await qr.open(),e()}catch(n){console.error("Failed to initialize offline DB",n),e()}};typeof requestIdleCallback=="function"?requestIdleCallback(t):setTimeout(t,0)}),nl=1e3,Ze={offline_invoices:[],offline_customers:[],offline_payments:[],pos_last_sync_totals:{pending:0,synced:0,drafted:0},uom_cache:{},offers_cache:[],customer_balance_cache:{},local_stock_cache:{},stock_cache_ready:!1,items_storage:[],customer_storage:[],pos_opening_storage:null,opening_dialog_storage:null,sales_persons_storage:[],price_list_cache:{},item_details_cache:{},tax_template_cache:{},tax_inclusive:!1,manual_offline:!1},sD=(async()=>{try{await ho();for(const e of Object.keys(Ze)){const t=await qr.table("keyval").get(e);if(t&&t.value!==void 0){Ze[e]=t.value;continue}if(typeof localStorage<"u"){const n=localStorage.getItem(`posa_${e}`);if(n)try{Ze[e]=JSON.parse(n);continue}catch(a){console.error("Failed to parse localStorage for",e,a)}}}}catch(e){console.error("Failed to initialize memory from DB",e)}})();function lD(){Ze.offline_invoices=[],Ze.offline_customers=[],Ze.offline_payments=[],Ze.pos_last_sync_totals={pending:0,synced:0,drafted:0},rn("offline_invoices",Ze.offline_invoices),rn("offline_customers",Ze.offline_customers),rn("offline_payments",Ze.offline_payments),rn("pos_last_sync_totals",Ze.pos_last_sync_totals)}function vg(){return Ze.items_storage||[]}function _g(e){try{Ze.items_storage=JSON.parse(JSON.stringify(e))}catch(t){console.error("Failed to serialize items for storage",t),Ze.items_storage=[]}rn("items_storage",Ze.items_storage)}function $u(){return Ze.customer_storage||[]}function pg(e){Ze.customer_storage=e,rn("customer_storage",Ze.customer_storage)}function gg(){return Ze.sales_persons_storage||[]}function uD(e){try{Ze.sales_persons_storage=JSON.parse(JSON.stringify(e)),rn("sales_persons_storage",Ze.sales_persons_storage)}catch(t){console.error("Failed to set sales persons storage",t)}}function yd(){return Ze.pos_opening_storage||null}function Sv(e){try{Ze.pos_opening_storage=JSON.parse(JSON.stringify(e)),rn("pos_opening_storage",Ze.pos_opening_storage)}catch(t){console.error("Failed to set opening storage",t)}}function cD(){try{Ze.pos_opening_storage=null,rn("pos_opening_storage",Ze.pos_opening_storage)}catch(e){console.error("Failed to clear opening storage",e)}}function dD(){return Ze.opening_dialog_storage||null}function fD(e){try{Ze.opening_dialog_storage=JSON.parse(JSON.stringify(e)),rn("opening_dialog_storage",Ze.opening_dialog_storage)}catch(t){console.error("Failed to set opening dialog storage",t)}}function mD(e){try{return(Ze.tax_template_cache||{})[e]||null}catch(t){return console.error("Failed to get cached tax template",t),null}}function hD(e,t){try{const n=Ze.tax_template_cache||{},a=JSON.parse(JSON.stringify(t));n[e]=a,Ze.tax_template_cache=n,rn("tax_template_cache",Ze.tax_template_cache)}catch(n){console.error("Failed to cache tax template",n)}}function sh(e){Ze.pos_last_sync_totals=e,rn("pos_last_sync_totals",Ze.pos_last_sync_totals)}function vD(){return Ze.pos_last_sync_totals}function _D(){return!!Ze.tax_inclusive}function hj(e){Ze.tax_inclusive=!!e,rn("tax_inclusive",Ze.tax_inclusive)}function yg(){return Ze.manual_offline||!1}function pD(e){Ze.manual_offline=!!e,rn("manual_offline",Ze.manual_offline)}function gD(){pD(!Ze.manual_offline)}function yD(e=nl){const t=(Ze.offline_invoices||[]).length>e,n=(Ze.offline_customers||[]).length>e,a=(Ze.offline_payments||[]).length>e;return t||n||a}function bD(e=nl){Array.isArray(Ze.offline_invoices)&&Ze.offline_invoices.length>e&&(Ze.offline_invoices.splice(0,Ze.offline_invoices.length-e),rn("offline_invoices",Ze.offline_invoices)),Array.isArray(Ze.offline_customers)&&Ze.offline_customers.length>e&&(Ze.offline_customers.splice(0,Ze.offline_customers.length-e),rn("offline_customers",Ze.offline_customers)),Array.isArray(Ze.offline_payments)&&Ze.offline_payments.length>e&&(Ze.offline_payments.splice(0,Ze.offline_payments.length-e),rn("offline_payments",Ze.offline_payments))}async function wD(){try{await ho(),qr.isOpen()&&await qr.close(),await es.delete("posawesome_offline"),await qr.open()}catch(e){console.error("Failed to clear IndexedDB cache",e)}typeof localStorage<"u"&&Object.keys(localStorage).forEach(e=>{e.startsWith("posa_")&&localStorage.removeItem(e)}),Ze.offline_invoices=[],Ze.offline_customers=[],Ze.offline_payments=[],Ze.pos_last_sync_totals={pending:0,synced:0,drafted:0},Ze.uom_cache={},Ze.offers_cache=[],Ze.customer_balance_cache={},Ze.local_stock_cache={},Ze.stock_cache_ready=!1,Ze.items_storage=[],Ze.customer_storage=[],Ze.pos_opening_storage=null,Ze.opening_dialog_storage=null,Ze.sales_persons_storage=[],Ze.price_list_cache={},Ze.item_details_cache={},Ze.tax_template_cache={},Ze.tax_inclusive=!1,Ze.manual_offline=!1}async function bg(){try{await ho();let e=0;if(typeof localStorage<"u")for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);if(o&&o.startsWith("posa_")){const l=localStorage.getItem(o)||"";e+=(o.length+l.length)*2}}let t=0;try{qr.isOpen()&&(t=(await dj("keyval")).reduce((o,l)=>{const u=JSON.stringify(l).length*2;return o+u},0))}catch(i){console.error("Failed to calculate IndexedDB size",i)}const n=e+t,a=10*1024*1024,r=Math.min(100,Math.round(n/a*100));return{total:n,localStorage:e,indexedDB:t,percentage:r}}catch(e){return console.error("Failed to estimate cache usage",e),{total:0,localStorage:0,indexedDB:0,percentage:0}}}async function kD(e,t){try{if(Ze.stock_cache_ready&&Object.keys(Ze.local_stock_cache||{}).length>0)return console.debug("Stock cache already initialized, skipping"),!0;console.info("Initializing stock cache for",e.length,"items");const n=await CD(e,t);if(n&&n.length>0){const a={};return n.forEach(r=>{r.actual_qty!==void 0&&(a[r.item_code]={actual_qty:r.actual_qty,last_updated:new Date().toISOString()})}),Ze.local_stock_cache=a,Ze.stock_cache_ready=!0,rn("local_stock_cache",Ze.local_stock_cache),rn("stock_cache_ready",Ze.stock_cache_ready),console.info("Stock cache initialized with",Object.keys(a).length,"items"),!0}return!1}catch(n){return console.error("Failed to initialize stock cache:",n),!1}}function SD(){return Ze.stock_cache_ready||!1}function vj(e){Ze.stock_cache_ready=e,rn("stock_cache_ready",Ze.stock_cache_ready)}function _j(e){var i,o;if((o=(i=Ze.pos_opening_storage)==null?void 0:i.stock_settings)==null?void 0:o.allow_negative_stock)return{isValid:!0,invalidItems:[],errorMessage:""};const n=Ze.local_stock_cache||{},a=[];e.forEach(l=>{var m;const u=l.item_code,f=Math.abs(l.qty||0),d=((m=n[u])==null?void 0:m.actual_qty)||0;d-f<0&&a.push({item_code:u,item_name:l.item_name||u,requested_qty:f,available_qty:d})});let r="";if(a.length===1){const l=a[0];r=`Not enough stock for ${l.item_name}. You need ${l.requested_qty} but only ${l.available_qty} available.`}else a.length>1&&(r=`Insufficient stock for multiple items:
`+a.map(l=>` ${l.item_name}: Need ${l.requested_qty}, Have ${l.available_qty}`).join(`
`));return{isValid:a.length===0,invalidItems:a,errorMessage:r}}function vb(e){try{const t=Ze.local_stock_cache||{};e.forEach(n=>{const a=n.item_code;if(t[a]){const r=Math.abs(n.qty||0);t[a].actual_qty=Math.max(0,t[a].actual_qty-r),t[a].last_updated=new Date().toISOString()}}),Ze.local_stock_cache=t,rn("local_stock_cache",Ze.local_stock_cache)}catch(t){console.error("Failed to update local stock",t)}}function wg(e){var t;try{return((t=(Ze.local_stock_cache||{})[e])==null?void 0:t.actual_qty)||null}catch{return null}}function lh(e){try{const t=Ze.local_stock_cache||{};e.forEach(n=>{!n||!n.item_code||n.actual_qty!==void 0&&(t[n.item_code]={actual_qty:n.actual_qty,last_updated:new Date().toISOString()})}),Ze.local_stock_cache=t,rn("local_stock_cache",Ze.local_stock_cache)}catch(t){console.error("Failed to refresh local stock cache",t)}}function pj(){Ze.local_stock_cache={},rn("local_stock_cache",Ze.local_stock_cache)}async function CD(e,t,n=100){const a=[];try{for(let r=0;r<e.length;r+=n){const i=e.slice(r,r+n),o=await new Promise((l,u)=>{frappe.call({method:"posawesome.posawesome.api.posapp.get_items_details",args:{pos_profile:JSON.stringify(t),items_data:JSON.stringify(i)},freeze:!1,callback:function(f){f.message?l(f.message):u(new Error("No response from server"))},error:function(f){u(f)}})});o&&a.push(...o)}return a}catch(r){return console.error("Failed to fetch item stock quantities:",r),null}}function gj(e,t){try{const n=Ze.local_stock_cache||{};e.forEach(a=>{const r=a.item_code,i=t.find(o=>o.item_code===a.item_code);if(i&&i.actual_qty!==void 0){n[r]?(n[r].actual_qty=i.actual_qty,n[r].last_updated=new Date().toISOString()):n[r]={actual_qty:i.actual_qty,last_updated:new Date().toISOString()};const o=Math.abs(a.qty||0);n[r].actual_qty=Math.max(0,n[r].actual_qty-o)}}),Ze.local_stock_cache=n,rn("local_stock_cache",Ze.local_stock_cache)}catch(n){console.error("Failed to update local stock with actual quantities",n)}}function yj(){return Ze.local_stock_cache||{}}function bj(e){Ze.local_stock_cache=e||{},rn("local_stock_cache",Ze.local_stock_cache)}let rp=!1;function xD(e){if(!e.invoice||!Array.isArray(e.invoice.items)||!e.invoice.items.length)throw new Error("Cart is empty. Add items before saving.");const t="offline_invoices",n=Ze.offline_invoices;let a;try{a=JSON.parse(JSON.stringify(e))}catch(r){throw console.error("Failed to serialize offline invoice",r),r}n.push(a),n.length>nl&&n.splice(0,n.length-nl),Ze.offline_invoices=n,rn(t,Ze.offline_invoices),e.invoice&&e.invoice.items&&vb(e.invoice.items)}function wa(){if(typeof window>"u")return Ze.manual_offline||!1;const{protocol:e,hostname:t,navigator:n}=window,a=n.onLine,r=typeof window.serverOnline=="boolean"?window.serverOnline:!0,l=!/^(?:\d{1,3}\.){3}\d{1,3}$/.test(t)&&!(t==="localhost"||t==="127.0.0.1");return Ze.manual_offline?!0:!a||!r}function _b(){return Ze.offline_invoices}function PD(){Ze.offline_invoices=[],rn("offline_invoices",Ze.offline_invoices)}function TD(e){Array.isArray(Ze.offline_invoices)&&e>=0&&e<Ze.offline_invoices.length&&(Ze.offline_invoices.splice(e,1),rn("offline_invoices",Ze.offline_invoices))}function js(){return Ze.offline_invoices.length}function kg(e){var r,i;const t="offline_payments",n=Ze.offline_payments;if((i=(r=e==null?void 0:e.args)==null?void 0:r.payload)!=null&&i.pos_profile){const o=e.args.payload.pos_profile;e.args.payload.pos_profile={posa_use_pos_awesome_payments:o.posa_use_pos_awesome_payments,posa_allow_make_new_payments:o.posa_allow_make_new_payments,posa_allow_reconcile_payments:o.posa_allow_reconcile_payments,posa_allow_mpesa_reconcile_payments:o.posa_allow_mpesa_reconcile_payments,cost_center:o.cost_center,posa_cash_mode_of_payment:o.posa_cash_mode_of_payment,name:o.name}}let a;try{a=JSON.parse(JSON.stringify(e))}catch(o){throw console.error("Failed to serialize offline payment",o),o}n.push(a),n.length>nl&&n.splice(0,n.length-nl),Ze.offline_payments=n,rn(t,Ze.offline_payments)}function DD(){return Ze.offline_payments}function ID(){Ze.offline_payments=[],rn("offline_payments",Ze.offline_payments)}function wj(e){Array.isArray(Ze.offline_payments)&&e>=0&&e<Ze.offline_payments.length&&(Ze.offline_payments.splice(e,1),rn("offline_payments",Ze.offline_payments))}function AD(){return Ze.offline_payments.length}function ED(e){const t="offline_customers",n=Ze.offline_customers;let a;try{a=JSON.parse(JSON.stringify(e))}catch(r){throw console.error("Failed to serialize offline customer",r),r}n.push(a),n.length>nl&&n.splice(0,n.length-nl),Ze.offline_customers=n,rn(t,Ze.offline_customers)}function VD(e,t){let n=!1;const a=Ze.offline_invoices||[];a.forEach(r=>{r.invoice&&r.invoice.customer===e&&(r.invoice.customer=t,r.invoice.customer_name&&(r.invoice.customer_name=t),n=!0)}),n&&(Ze.offline_invoices=a,rn("offline_invoices",Ze.offline_invoices))}function Cv(){return Ze.offline_customers}function OD(){Ze.offline_customers=[],rn("offline_customers",Ze.offline_customers)}async function pb(){if(rp)return{pending:js(),synced:0,drafted:0};rp=!0;try{await gb();const e=_b();if(!e.length){const o={pending:0,synced:0,drafted:0};return sh(o),o}if(wa())return{pending:e.length,synced:0,drafted:0};const t=[];let n=0,a=0;for(const o of e)try{await frappe.call({method:"posawesome.posawesome.api.invoices.submit_invoice",args:{invoice:o.invoice,data:o.data}}),n++}catch(l){console.error("Failed to submit invoice, saving as draft",l);try{await frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice",args:{data:o.invoice}}),a+=1}catch(u){console.error("Failed to save invoice as draft",u),t.push(o)}}n>0&&lD();const r=t.length;r?(Ze.offline_invoices=t,rn("offline_invoices",Ze.offline_invoices)):PD();const i={pending:r,synced:n,drafted:a};return sh(r||a?i:{pending:0,synced:0,drafted:0}),i}finally{rp=!1}}async function gb(){const e=Cv();if(!e.length)return{pending:0,synced:0};if(wa())return{pending:e.length,synced:0};const t=[];let n=0;for(const a of e)try{const r=await frappe.call({method:"posawesome.posawesome.api.customers.create_customer",args:a.args});n++,r&&r.message&&r.message.name&&r.message.name!==a.args.customer_name&&VD(a.args.customer_name,r.message.name)}catch(r){console.error("Failed to create customer",r),t.push(a)}return t.length?(Ze.offline_customers=t,rn("offline_customers",Ze.offline_customers)):OD(),{pending:t.length,synced:n}}async function MD(){await gb();const e=DD();if(!e.length)return{pending:0,synced:0};if(wa())return{pending:e.length,synced:0};const t=[];let n=0;for(const a of e)try{await frappe.call({method:"posawesome.posawesome.api.payment_entry.process_pos_payment",args:a.args}),n++}catch(r){console.error("Failed to submit payment",r),t.push(a)}return t.length?(Ze.offline_payments=t,rn("offline_payments",Ze.offline_payments)):ID(),{pending:t.length,synced:n}}function Ls(e,t){try{const n=Ze.uom_cache,a=JSON.parse(JSON.stringify(t));n[e]=a,Ze.uom_cache=n,rn("uom_cache",Ze.uom_cache)}catch(n){console.error("Failed to cache UOMs",n)}}function $l(e){try{return(Ze.uom_cache||{})[e]||[]}catch{return[]}}function BD(e){try{Ze.offers_cache=e,rn("offers_cache",Ze.offers_cache)}catch(t){console.error("Failed to cache offers",t)}}function Sg(){try{return Ze.offers_cache||[]}catch{return[]}}function Cg(e,t){try{const n=Ze.price_list_cache||{};let a;try{a=JSON.parse(JSON.stringify(t))}catch(r){console.error("Failed to serialize price list items",r),a=[]}n[e]={items:a,timestamp:Date.now()},Ze.price_list_cache=n,rn("price_list_cache",Ze.price_list_cache)}catch(n){console.error("Failed to cache price list items",n)}}function Rh(e){try{const n=(Ze.price_list_cache||{})[e];return n&&Date.now()-n.timestamp<864e5?n.items:null}catch(t){return console.error("Failed to get cached price list items",t),null}}function xg(){try{Ze.price_list_cache={},rn("price_list_cache",Ze.price_list_cache)}catch(e){console.error("Failed to clear price list cache",e)}}function Pg(e,t,n){try{const a=Ze.item_details_cache||{},r=a[e]||{},i=r[t]||{};let o;try{o=JSON.parse(JSON.stringify(n))}catch(l){console.error("Failed to serialize item details",l),o=[]}o.forEach(l=>{i[l.item_code]={data:l,timestamp:Date.now()}}),r[t]=i,a[e]=r,Ze.item_details_cache=a,rn("item_details_cache",Ze.item_details_cache)}catch(a){console.error("Failed to cache item details",a)}}function Tg(e,t,n,a=15*60*1e3){var r;try{const o=((r=(Ze.item_details_cache||{})[e])==null?void 0:r[t])||{},l=Date.now(),u=[],f=[];return n.forEach(d=>{const m=o[d];m&&l-m.timestamp<a?u.push(m.data):f.push(d)}),{cached:u,missing:f}}catch(i){return console.error("Failed to get cached item details",i),{cached:[],missing:n}}}function RD(e,t){try{const n=Ze.customer_balance_cache;n[e]={balance:t,timestamp:Date.now()},Ze.customer_balance_cache=n,rn("customer_balance_cache",Ze.customer_balance_cache)}catch(n){console.error("Failed to cache customer balance",n)}}function Dg(e){try{const n=(Ze.customer_balance_cache||{})[e];return n&&Date.now()-n.timestamp<864e5?n.balance:null}catch(t){return console.error("Failed to get cached customer balance",t),null}}function kj(){try{Ze.customer_balance_cache={},rn("customer_balance_cache",Ze.customer_balance_cache)}catch(e){console.error("Failed to clear customer balance cache",e)}}function FD(){try{const e=Ze.customer_balance_cache||{},t=Date.now(),n={};Object.keys(e).forEach(a=>{const r=e[a];r&&t-r.timestamp<24*60*60*1e3&&(n[a]=r)}),Ze.customer_balance_cache=n,rn("customer_balance_cache",Ze.customer_balance_cache)}catch(e){console.error("Failed to clear expired customer balances",e)}}const Sj=Object.freeze(Object.defineProperty({__proto__:null,MAX_QUEUE_ITEMS:nl,addToPersistQueue:fj,checkDbHealth:ho,clearAllCache:wD,clearCustomerBalanceCache:kj,clearExpiredCustomerBalances:FD,clearLocalStockCache:pj,clearOfflineCustomers:OD,clearOfflineInvoices:PD,clearOfflinePayments:ID,clearOpeningStorage:cD,clearPriceListCache:xg,db:qr,deleteOfflineInvoice:TD,deleteOfflinePayment:wj,fetchItemStockQuantities:CD,getCacheUsageEstimate:bg,getCachedCustomerBalance:Dg,getCachedItemDetails:Tg,getCachedOffers:Sg,getCachedPriceListItems:Rh,getCustomerStorage:$u,getItemUOMs:$l,getItemsStorage:vg,getLastSyncTotals:vD,getLocalStock:wg,getLocalStockCache:yj,getOfflineCustomers:Cv,getOfflineInvoices:_b,getOfflinePayments:DD,getOpeningDialogStorage:dD,getOpeningStorage:yd,getPendingOfflineInvoiceCount:js,getPendingOfflinePaymentCount:AD,getSalesPersonsStorage:gg,getTaxInclusiveSetting:_D,getTaxTemplate:mD,initPromise:Zu,initializeStockCache:kD,isManualOffline:yg,isOffline:wa,isStockCacheReady:SD,memory:Ze,memoryInitPromise:sD,persist:rn,purgeOldQueueEntries:bD,queueHealthCheck:yD,resetOfflineState:lD,saveCustomerBalance:RD,saveItemDetailsCache:Pg,saveItemUOMs:Ls,saveOffers:BD,saveOfflineCustomer:ED,saveOfflineInvoice:xD,saveOfflinePayment:kg,savePriceListItems:Cg,setCustomerStorage:pg,setItemsStorage:_g,setLastSyncTotals:sh,setLocalStockCache:bj,setManualOffline:pD,setOpeningDialogStorage:fD,setOpeningStorage:Sv,setSalesPersonsStorage:uD,setStockCacheReady:vj,setTaxInclusiveSetting:hj,setTaxTemplate:hD,syncOfflineCustomers:gb,syncOfflineInvoices:pb,syncOfflinePayments:MD,toggleManualOffline:gD,updateLocalStock:vb,updateLocalStockCache:lh,updateLocalStockWithActualQuantities:gj,updateOfflineInvoicesCustomer:VD,validateStockForOfflineInvoice:_j},Symbol.toStringTag,{value:"Module"})),Cj={name:"OfflineInvoicesDialog",mixins:[po],props:{modelValue:Boolean,posProfile:{type:Object,default:()=>({})}},emits:["update:modelValue","deleted","sync-all"],data(){return{dialog:this.modelValue,invoices:[],headers:[{title:this.__("Customer"),value:"customer",align:"start",width:"35%"},{title:this.__("Date"),value:"posting_date",align:"center",width:"20%"},{title:this.__("Amount"),value:"grand_total",align:"end",width:"25%"},{title:this.__("Actions"),value:"actions",align:"center",width:"20%",sortable:!1}]}},watch:{modelValue(e){this.dialog=e,e&&this.loadInvoices()},dialog(e){this.$emit("update:modelValue",e)}},methods:{loadInvoices(){this.invoices=_b()},removeInvoice(e){this.posProfile.posa_allow_delete_offline_invoice&&(TD(e),this.loadInvoices(),this.$emit("deleted",js()))}}},xj={class:"header-content"},Pj={class:"header-icon-wrapper"},Tj={class:"header-text"},Dj={class:"header-title"},Ij={class:"header-subtitle"},Aj={class:"header-stats"},Ej={key:0,class:"empty-state text-center py-12"},Vj={class:"empty-icon-wrapper mb-4"},Oj={class:"text-h5 mb-3 text-grey-darken-2 font-weight-medium"},Mj={class:"text-body-1 text-grey-darken-1 mb-0"},Bj={key:1,class:"table-container"},Rj={class:"table-header mb-4"},Fj={class:"text-h6 text-grey-darken-2 mb-1"},$j={class:"text-body-2 text-grey"},Lj={class:"customer-cell"},Nj={class:"font-weight-medium text-grey-darken-2"},qj={class:"text-caption text-grey"},Uj={class:"amount-cell text-right"},Hj={class:"text-h6 font-weight-bold text-success"},zj={class:"text-caption text-grey"};function Wj(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-chip"),u=ie("v-spacer"),f=ie("v-card-title"),d=ie("v-divider"),m=ie("v-avatar"),p=ie("v-tooltip"),g=ie("v-btn"),y=ie("v-data-table"),S=ie("v-container"),k=ie("v-card-text"),C=ie("v-card-actions"),w=ie("v-card"),I=ie("v-dialog"),V=ie("v-row");return de(),ct(V,{justify:"center"},{default:D(()=>[h(I,{modelValue:r.dialog,"onUpdate:modelValue":t[2]||(t[2]=O=>r.dialog=O),"max-width":"1000px",persistent:""},{default:D(()=>[h(w,{class:"offline-invoices-card"},{default:D(()=>[h(f,{class:"offline-header pa-6"},{default:D(()=>[P("div",xj,[P("div",Pj,[h(o,{class:"header-icon",size:"40"},{default:D(()=>t[3]||(t[3]=[Ye("mdi-file-document-multiple")])),_:1,__:[3]})]),P("div",Tj,[P("h3",Dj,ve(e.__("Offline Invoices")),1),P("p",Ij,ve(e.__("Manage your offline transactions")),1),P("div",Aj,[r.invoices.length>0?(de(),ct(l,{key:0,color:"primary",variant:"flat",size:"small",class:"status-chip mr-2"},{default:D(()=>[h(o,{start:"",size:"14"},{default:D(()=>t[4]||(t[4]=[Ye("mdi-clock-outline")])),_:1,__:[4]}),Ye(" "+ve(r.invoices.length)+" "+ve(e.__("Pending")),1)]),_:1})):(de(),ct(l,{key:1,color:"success",variant:"flat",size:"small",class:"status-chip"},{default:D(()=>[h(o,{start:"",size:"14"},{default:D(()=>t[5]||(t[5]=[Ye("mdi-check-circle")])),_:1,__:[5]}),Ye(" "+ve(e.__("All Synced")),1)]),_:1}))])])]),h(u)]),_:1}),h(d,{class:"header-divider"}),h(k,{class:"pa-0 white-background"},{default:D(()=>[h(S,{fluid:"",class:"pa-6"},{default:D(()=>[r.invoices.length?(de(),nt("div",Bj,[P("div",Rj,[P("h4",Fj,ve(e.__("Pending Invoices")),1),P("p",$j,ve(e.__("These invoices will be synced when connection is restored")),1)]),h(y,{headers:r.headers,items:r.invoices,class:"elevation-0 rounded-lg white-table","items-per-page":15,"items-per-page-options":[15,25,50]},{"item.customer":D(({item:O})=>[P("div",Lj,[h(m,{size:"32",color:"primary",class:"mr-3"},{default:D(()=>[h(o,{size:"18",color:"white"},{default:D(()=>t[7]||(t[7]=[Ye("mdi-account")])),_:1,__:[7]})]),_:1}),P("div",null,[P("div",Nj,ve(O.invoice.customer_name||O.invoice.customer),1),P("div",qj,ve(e.__("Customer")),1)])])]),"item.posting_date":D(({item:O})=>[h(l,{size:"small",color:"info",variant:"tonal",class:"date-chip"},{default:D(()=>[h(o,{start:"",size:"14"},{default:D(()=>t[8]||(t[8]=[Ye("mdi-calendar")])),_:1,__:[8]}),Ye(" "+ve(O.invoice.posting_date),1)]),_:2},1024)]),"item.grand_total":D(({item:O})=>[P("div",Uj,[P("div",Hj,ve(e.currencySymbol(O.invoice.currency))+" "+ve(e.formatCurrency(O.invoice.grand_total||O.invoice.rounded_total)),1),P("div",zj,ve(e.__("Total Amount")),1)])]),"item.actions":D(({index:O})=>[n.posProfile.posa_allow_delete_offline_invoice?(de(),ct(g,{key:0,icon:"",color:"error",size:"small",variant:"text",onClick:U=>i.removeInvoice(O),class:"delete-btn"},{default:D(()=>[h(o,{size:"18"},{default:D(()=>t[9]||(t[9]=[Ye("mdi-delete-outline")])),_:1,__:[9]}),h(p,{activator:"parent",location:"top"},{default:D(()=>[Ye(ve(e.__("Delete Invoice")),1)]),_:1})]),_:2},1032,["onClick"])):Ke("",!0)]),_:1},8,["headers","items"])])):(de(),nt("div",Ej,[P("div",Vj,[h(o,{size:"80",color:"success",class:"empty-icon"},{default:D(()=>t[6]||(t[6]=[Ye("mdi-check-circle-outline")])),_:1,__:[6]})]),P("h3",Oj,ve(e.__("All Caught Up!")),1),P("p",Mj,ve(e.__("No offline invoices pending synchronization")),1)]))]),_:1})]),_:1}),h(d),h(C,{class:"dialog-actions-container"},{default:D(()=>[r.invoices.length>0?(de(),ct(g,{key:0,theme:"dark",variant:"elevated","prepend-icon":"mdi-sync",onClick:t[0]||(t[0]=O=>e.$emit("sync-all")),class:"pos-action-btn sync-action-btn",size:"large",elevation:"2"},{default:D(()=>[Ye(ve(e.__("Sync All")),1)]),_:1})):Ke("",!0),h(u),h(g,{theme:"dark",onClick:t[1]||(t[1]=O=>r.dialog=!1),class:"pos-action-btn cancel-action-btn",size:"large",elevation:"2"},{default:D(()=>[h(o,{start:""},{default:D(()=>t[10]||(t[10]=[Ye("mdi-close-circle-outline")])),_:1,__:[10]}),P("span",null,ve(e.__("Close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const jj=Bn(Cj,[["render",Wj]]),Yj={name:"NavBar",components:{NavbarAppBar:Xz,NavbarDrawer:aW,NavbarMenu:CW,StatusIndicator:AW,CacheUsageMeter:LW,AboutDialog:uj,OfflineInvoicesDialog:jj},props:{posProfile:{type:Object,default:()=>({})},pendingInvoices:{type:Number,default:0},lastInvoiceId:String,networkOnline:Boolean,serverOnline:Boolean,serverConnecting:Boolean,isIpHost:Boolean,syncTotals:{type:Object,default:()=>({pending:0,synced:0,drafted:0})},manualOffline:Boolean,isDark:Boolean,cacheUsage:{type:Number,default:0},cacheUsageLoading:{type:Boolean,default:!1},cacheUsageDetails:{type:Object,default:()=>({total:0,indexedDB:0,localStorage:0})}},data(){return{drawer:!1,mini:!0,item:0,items:[{text:"POS",icon:"mdi-network-pos"},{text:"Payments",icon:"mdi-credit-card"}],company:"POS Awesome",companyImg:"/assets/posawesome/images/pos.png",showAboutDialog:!1,showOfflineInvoices:!1,freeze:!1,freezeTitle:"",freezeMsg:"",snack:!1,snackText:"",snackColor:"success",snackTimeout:3e3}},computed:{appBarColor(){return this.isDark?this.$vuetify.theme.themes.dark.colors.surface:"white"}},mounted(){this.initializeNavbar(),this.eventBus&&(this.eventBus.on("show_message",this.showMessage),this.eventBus.on("freeze",this.handleFreeze),this.eventBus.on("unfreeze",this.handleUnfreeze),this.eventBus.on("set_company",this.handleSetCompany))},unmounted(){this.eventBus&&(this.eventBus.off("show_message",this.showMessage),this.eventBus.off("freeze",this.handleFreeze),this.eventBus.off("unfreeze",this.handleUnfreeze),this.eventBus.off("set_company",this.handleSetCompany))},methods:{initializeNavbar(){frappe.boot&&frappe.boot.sysdefaults&&frappe.boot.sysdefaults.company&&(this.company=frappe.boot.sysdefaults.company),frappe.boot&&frappe.boot.website_settings&&frappe.boot.website_settings.app_logo?this.companyImg=frappe.boot.website_settings.app_logo:frappe.boot&&frappe.boot.website_settings&&frappe.boot.website_settings.banner_image&&(this.companyImg=frappe.boot.website_settings.banner_image),this.$forceUpdate()},handleNavClick(){this.drawer=!this.drawer,this.$emit("nav-click")},goDesk(){window.location.href="/app"},changePage(e){this.$emit("change-page",e)},openCloseShift(){this.$emit("close-shift")},printLastInvoice(){this.$emit("print-last-invoice")},syncPendingInvoices(){this.$emit("sync-invoices")},toggleManualOffline(){this.$emit("toggle-offline")},async clearCache(){try{await wD(),this.showMessage({color:"success",title:this.__("Cache cleared successfully")})}catch(e){console.error("Failed to clear cache",e),this.showMessage({color:"error",title:this.__("Failed to clear cache")})}finally{setTimeout(()=>location.reload(),1e3)}},toggleTheme(){this.$emit("toggle-theme")},logOut(){this.$emit("logout")},refreshCacheUsage(){this.$emit("refresh-cache-usage")},updateAfterDelete(){this.$emit("update-after-delete")},showMessage(e){this.snackText=e.title,this.snackColor=e.color||"success",this.snack=!0},handleFreeze(e){this.freezeTitle=(e==null?void 0:e.title)||"",this.freezeMsg=(e==null?void 0:e.message)||"",this.freeze=!0},handleUnfreeze(){this.freeze=!1,this.freezeTitle="",this.freezeMsg=""},handleSetCompany(e){typeof e=="string"?this.company=e:e&&e.name&&(this.company=e.name,e.company_image&&(this.companyImg=e.company_image))},handleMouseLeave(){this.drawer&&(clearTimeout(this._closeTimeout),this._closeTimeout=setTimeout(()=>{this.drawer=!1,this.mini=!0},250))}},emits:["nav-click","change-page","close-shift","print-last-invoice","sync-invoices","toggle-offline","toggle-theme","logout","refresh-cache-usage","update-after-delete"]};function Kj(e,t,n,a,r,i){const o=ie("StatusIndicator"),l=ie("CacheUsageMeter"),u=ie("NavbarMenu"),f=ie("NavbarAppBar"),d=ie("NavbarDrawer"),m=ie("AboutDialog"),p=ie("v-card-title"),g=ie("v-card-text"),y=ie("v-card"),S=ie("v-dialog"),k=ie("OfflineInvoicesDialog"),C=ie("v-btn"),w=ie("v-snackbar");return de(),nt("nav",null,[h(f,{"pos-profile":n.posProfile,"pending-invoices":n.pendingInvoices,"is-dark":n.isDark,onNavClick:i.handleNavClick,onGoDesk:i.goDesk,onShowOfflineInvoices:t[1]||(t[1]=I=>r.showOfflineInvoices=!0)},{"status-indicator":D(()=>[h(o,{"network-online":n.networkOnline,"server-online":n.serverOnline,"server-connecting":n.serverConnecting,"is-ip-host":n.isIpHost,"sync-totals":n.syncTotals},null,8,["network-online","server-online","server-connecting","is-ip-host","sync-totals"])]),"cache-usage-meter":D(()=>[h(l,{"cache-usage":n.cacheUsage,"cache-usage-loading":n.cacheUsageLoading,"cache-usage-details":n.cacheUsageDetails,onRefresh:i.refreshCacheUsage},null,8,["cache-usage","cache-usage-loading","cache-usage-details","onRefresh"])]),menu:D(()=>[h(u,{"pos-profile":n.posProfile,"last-invoice-id":n.lastInvoiceId,"manual-offline":n.manualOffline,"is-dark":n.isDark,onCloseShift:i.openCloseShift,onPrintLastInvoice:i.printLastInvoice,onSyncInvoices:i.syncPendingInvoices,onToggleOffline:i.toggleManualOffline,onClearCache:i.clearCache,onShowAbout:t[0]||(t[0]=I=>r.showAboutDialog=!0),onToggleTheme:i.toggleTheme,onLogout:i.logOut},null,8,["pos-profile","last-invoice-id","manual-offline","is-dark","onCloseShift","onPrintLastInvoice","onSyncInvoices","onToggleOffline","onClearCache","onToggleTheme","onLogout"])]),_:1},8,["pos-profile","pending-invoices","is-dark","onNavClick","onGoDesk"]),h(d,{drawer:r.drawer,"onUpdate:drawer":t[2]||(t[2]=I=>r.drawer=I),item:r.item,"onUpdate:item":t[3]||(t[3]=I=>r.item=I),company:r.company,"company-img":r.companyImg,items:r.items,"is-dark":n.isDark,onChangePage:i.changePage},null,8,["drawer","item","company","company-img","items","is-dark","onChangePage"]),h(m,{modelValue:r.showAboutDialog,"onUpdate:modelValue":t[4]||(t[4]=I=>r.showAboutDialog=I)},null,8,["modelValue"]),h(S,{modelValue:r.freeze,"onUpdate:modelValue":t[5]||(t[5]=I=>r.freeze=I),persistent:"","max-width":"290"},{default:D(()=>[h(y,null,{default:D(()=>[h(p,{class:"text-h5"},{default:D(()=>[Ye(ve(r.freezeTitle),1)]),_:1}),h(g,null,{default:D(()=>[Ye(ve(r.freezeMsg),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(k,{modelValue:r.showOfflineInvoices,"onUpdate:modelValue":t[6]||(t[6]=I=>r.showOfflineInvoices=I),"pos-profile":n.posProfile,onDeleted:i.updateAfterDelete,onSyncAll:i.syncPendingInvoices},null,8,["modelValue","pos-profile","onDeleted","onSyncAll"]),h(w,{modelValue:r.snack,"onUpdate:modelValue":t[8]||(t[8]=I=>r.snack=I),timeout:r.snackTimeout,color:r.snackColor,location:"top right"},{actions:D(()=>[h(C,{color:"white",variant:"text",onClick:t[7]||(t[7]=I=>r.snack=!1)},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1})]),default:D(()=>[Ye(ve(r.snackText)+" ",1)]),_:1},8,["modelValue","timeout","color"])])}const Gj=Bn(Yj,[["render",Kj],["__scopeId","data-v-d419c9eb"]]);var lf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Qj=lf.exports,gk;function Xj(){return gk||(gk=1,function(e,t){(function(){var n,a="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",m=1,p=2,g=4,y=1,S=2,k=1,C=2,w=4,I=8,V=16,O=32,U=64,Y=128,H=256,B=512,j=30,G="...",F=800,ce=16,Z=1,le=2,ae=3,_e=1/0,Ee=9007199254740991,$e=17976931348623157e292,re=NaN,ee=4294967295,ge=ee-1,se=ee>>>1,ye=[["ary",Y],["bind",k],["bindKey",C],["curry",I],["curryRight",V],["flip",B],["partial",O],["partialRight",U],["rearg",H]],Me="[object Arguments]",De="[object Array]",R="[object AsyncFunction]",Oe="[object Boolean]",He="[object Date]",at="[object DOMException]",Be="[object Error]",N="[object Function]",Q="[object GeneratorFunction]",pe="[object Map]",W="[object Number]",Ve="[object Null]",Ie="[object Object]",We="[object Promise]",Qe="[object Proxy]",st="[object RegExp]",tt="[object Set]",Tt="[object String]",ke="[object Symbol]",ut="[object Undefined]",Dt="[object WeakMap]",Nt="[object WeakSet]",jt="[object ArrayBuffer]",xt="[object DataView]",Jt="[object Float32Array]",mn="[object Float64Array]",Zn="[object Int8Array]",Un="[object Int16Array]",ya="[object Int32Array]",xa="[object Uint8Array]",Rn="[object Uint8ClampedArray]",Mt="[object Uint16Array]",ir="[object Uint32Array]",et=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,At=RegExp(Bt.source),Ft=RegExp(_t.source),pr=/<%-([\s\S]+?)%>/g,Ir=/<%([\s\S]+?)%>/g,Ar=/<%=([\s\S]+?)%>/g,Oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zr=/^\w*$/,us=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eo=/[\\^$.*+?()[\]{}|]/g,Kn=RegExp(eo.source),la=/^\s+/,Vd=/\s/,ll=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oi=/\{\n\/\* \[wrapped with (.+)\] \*/,go=/,? & /,cs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mi=/[()=,{}\[\]\/\s]/,yo=/\\(\\)?/g,Er=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ds=/\w*$/,Od=/^[-+]0x[0-9a-f]+$/i,Wr=/^0b[01]+$/i,fc=/^\[object .+?Constructor\]$/,jr=/^0o[0-7]+$/i,mc=/^(?:0|[1-9]\d*)$/,bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fn=/($^)/,Bi=/['\n\r\u2028\u2029\\]/g,or="\\ud800-\\udfff",hc="\\u0300-\\u036f",wo="\\ufe20-\\ufe2f",ul="\\u20d0-\\u20ff",cl=hc+wo+ul,ko="\\u2700-\\u27bf",Ri="a-z\\xdf-\\xf6\\xf8-\\xff",vc="\\xac\\xb1\\xd7\\xf7",dl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ru="\\u2000-\\u206f",_n=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",So="A-Z\\xc0-\\xd6\\xd8-\\xde",fl="\\ufe0e\\ufe0f",iu=vc+dl+ru+_n,An="[']",Co="["+or+"]",Ln="["+iu+"]",pi="["+cl+"]",ml="\\d+",gr="["+ko+"]",fs="["+Ri+"]",hl="[^"+or+iu+ml+ko+Ri+So+"]",to="\\ud83c[\\udffb-\\udfff]",ms="(?:"+pi+"|"+to+")",xo="[^"+or+"]",Po="(?:\\ud83c[\\udde6-\\uddff]){2}",ou="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+So+"]",vl="\\u200d",su="(?:"+fs+"|"+hl+")",Md="(?:"+cn+"|"+hl+")",sr="(?:"+An+"(?:d|ll|m|re|s|t|ve))?",Fi="(?:"+An+"(?:D|LL|M|RE|S|T|VE))?",Wa=ms+"?",Yr="["+fl+"]?",_c="(?:"+vl+"(?:"+[xo,Po,ou].join("|")+")"+Yr+Wa+")*",pc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kr=Yr+Wa+_c,hs="(?:"+[gr,Po,ou].join("|")+")"+Kr,vs="(?:"+[xo+pi+"?",pi,Po,ou,Co].join("|")+")",_s=RegExp(An,"g"),$i=RegExp(pi,"g"),ps=RegExp(to+"(?="+to+")|"+vs+Kr,"g"),oi=RegExp([cn+"?"+fs+"+"+sr+"(?="+[Ln,cn,"$"].join("|")+")",Md+"+"+Fi+"(?="+[Ln,cn+su,"$"].join("|")+")",cn+"?"+su+"+"+sr,cn+"+"+Fi,Hn,pc,ml,hs].join("|"),"g"),lu=RegExp("["+vl+or+cl+fl+"]"),gc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gs=-1,Nn={};Nn[Jt]=Nn[mn]=Nn[Zn]=Nn[Un]=Nn[ya]=Nn[xa]=Nn[Rn]=Nn[Mt]=Nn[ir]=!0,Nn[Me]=Nn[De]=Nn[jt]=Nn[Oe]=Nn[xt]=Nn[He]=Nn[Be]=Nn[N]=Nn[pe]=Nn[W]=Nn[Ie]=Nn[st]=Nn[tt]=Nn[Tt]=Nn[Dt]=!1;var $n={};$n[Me]=$n[De]=$n[jt]=$n[xt]=$n[Oe]=$n[He]=$n[Jt]=$n[mn]=$n[Zn]=$n[Un]=$n[ya]=$n[pe]=$n[W]=$n[Ie]=$n[st]=$n[tt]=$n[Tt]=$n[ke]=$n[xa]=$n[Rn]=$n[Mt]=$n[ir]=!0,$n[Be]=$n[N]=$n[Dt]=!1;var Bd={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},To={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Do=parseFloat,_l=parseInt,ys=typeof of=="object"&&of&&of.Object===Object&&of,Fd=typeof self=="object"&&self&&self.Object===Object&&self,Ma=ys||Fd||Function("return this")(),cu=t&&!t.nodeType&&t,gi=cu&&!0&&e&&!e.nodeType&&e,pl=gi&&gi.exports===cu,gl=pl&&ys.process,Xa=function(){try{var J=gi&&gi.require&&gi.require("util").types;return J||gl&&gl.binding&&gl.binding("util")}catch{}}(),bs=Xa&&Xa.isArrayBuffer,ws=Xa&&Xa.isDate,du=Xa&&Xa.isMap,yl=Xa&&Xa.isRegExp,ks=Xa&&Xa.isSet,bl=Xa&&Xa.isTypedArray;function Ja(J,fe,te){switch(te.length){case 0:return J.call(fe);case 1:return J.call(fe,te[0]);case 2:return J.call(fe,te[0],te[1]);case 3:return J.call(fe,te[0],te[1],te[2])}return J.apply(fe,te)}function wl(J,fe,te,Te){for(var Se=-1,Le=J==null?0:J.length;++Se<Le;){var je=J[Se];fe(Te,je,te(je),J)}return Te}function lr(J,fe){for(var te=-1,Te=J==null?0:J.length;++te<Te&&fe(J[te],te,J)!==!1;);return J}function ja(J,fe){for(var te=J==null?0:J.length;te--&&fe(J[te],te,J)!==!1;);return J}function Io(J,fe){for(var te=-1,Te=J==null?0:J.length;++te<Te;)if(!fe(J[te],te,J))return!1;return!0}function Vr(J,fe){for(var te=-1,Te=J==null?0:J.length,Se=0,Le=[];++te<Te;){var je=J[te];fe(je,te,J)&&(Le[Se++]=je)}return Le}function Ss(J,fe){var te=J==null?0:J.length;return!!te&&si(J,fe,0)>-1}function Ao(J,fe,te){for(var Te=-1,Se=J==null?0:J.length;++Te<Se;)if(te(fe,J[Te]))return!0;return!1}function Gn(J,fe){for(var te=-1,Te=J==null?0:J.length,Se=Array(Te);++te<Te;)Se[te]=fe(J[te],te,J);return Se}function yi(J,fe){for(var te=-1,Te=fe.length,Se=J.length;++te<Te;)J[Se+te]=fe[te];return J}function Eo(J,fe,te,Te){var Se=-1,Le=J==null?0:J.length;for(Te&&Le&&(te=J[++Se]);++Se<Le;)te=fe(te,J[Se],Se,J);return te}function fu(J,fe,te,Te){var Se=J==null?0:J.length;for(Te&&Se&&(te=J[--Se]);Se--;)te=fe(te,J[Se],Se,J);return te}function bi(J,fe){for(var te=-1,Te=J==null?0:J.length;++te<Te;)if(fe(J[te],te,J))return!0;return!1}var mu=Ps("length");function hu(J){return J.split("")}function kl(J){return J.match(cs)||[]}function Vo(J,fe,te){var Te;return te(J,function(Se,Le,je){if(fe(Se,Le,je))return Te=Le,!1}),Te}function Cs(J,fe,te,Te){for(var Se=J.length,Le=te+(Te?1:-1);Te?Le--:++Le<Se;)if(fe(J[Le],Le,J))return Le;return-1}function si(J,fe,te){return fe===fe?Ni(J,fe,te):Cs(J,xs,te)}function vu(J,fe,te,Te){for(var Se=te-1,Le=J.length;++Se<Le;)if(Te(J[Se],fe))return Se;return-1}function xs(J){return J!==J}function bc(J,fe){var te=J==null?0:J.length;return te?Sl(J,fe)/te:re}function Ps(J){return function(fe){return fe==null?n:fe[J]}}function Li(J){return function(fe){return J==null?n:J[fe]}}function wc(J,fe,te,Te,Se){return Se(J,function(Le,je,Fe){te=Te?(Te=!1,Le):fe(te,Le,je,Fe)}),te}function _u(J,fe){var te=J.length;for(J.sort(fe);te--;)J[te]=J[te].value;return J}function Sl(J,fe){for(var te,Te=-1,Se=J.length;++Te<Se;){var Le=fe(J[Te]);Le!==n&&(te=te===n?Le:te+Le)}return te}function Cl(J,fe){for(var te=-1,Te=Array(J);++te<J;)Te[te]=fe(te);return Te}function kc(J,fe){return Gn(fe,function(te){return[te,J[te]]})}function Sc(J){return J&&J.slice(0,A(J)+1).replace(la,"")}function ur(J){return function(fe){return J(fe)}}function Ts(J,fe){return Gn(fe,function(te){return J[te]})}function Oo(J,fe){return J.has(fe)}function ta(J,fe){for(var te=-1,Te=J.length;++te<Te&&si(fe,J[te],0)>-1;);return te}function li(J,fe){for(var te=J.length;te--&&si(fe,J[te],0)>-1;);return te}function pu(J,fe){for(var te=J.length,Te=0;te--;)J[te]===fe&&++Te;return Te}var Cc=Li(Bd),zn=Li(To);function yr(J){return"\\"+Rd[J]}function on(J,fe){return J==null?n:J[fe]}function En(J){return lu.test(J)}function br(J){return gc.test(J)}function xc(J){for(var fe,te=[];!(fe=J.next()).done;)te.push(fe.value);return te}function Mo(J){var fe=-1,te=Array(J.size);return J.forEach(function(Te,Se){te[++fe]=[Se,Te]}),te}function xl(J,fe){return function(te){return J(fe(te))}}function Za(J,fe){for(var te=-1,Te=J.length,Se=0,Le=[];++te<Te;){var je=J[te];(je===fe||je===d)&&(J[te]=d,Le[Se++]=te)}return Le}function Bo(J){var fe=-1,te=Array(J.size);return J.forEach(function(Te){te[++fe]=Te}),te}function Ro(J){var fe=-1,te=Array(J.size);return J.forEach(function(Te){te[++fe]=[Te,Te]}),te}function Ni(J,fe,te){for(var Te=te-1,Se=J.length;++Te<Se;)if(J[Te]===fe)return Te;return-1}function Pc(J,fe,te){for(var Te=te+1;Te--;)if(J[Te]===fe)return Te;return Te}function v(J){return En(J)?z(J):mu(J)}function b(J){return En(J)?ne(J):hu(J)}function A(J){for(var fe=J.length;fe--&&Vd.test(J.charAt(fe)););return fe}var M=Li(yc);function z(J){for(var fe=ps.lastIndex=0;ps.test(J);)++fe;return fe}function ne(J){return J.match(ps)||[]}function he(J){return J.match(oi)||[]}var xe=function J(fe){fe=fe==null?Ma:Ue.defaults(Ma.Object(),fe,Ue.pick(Ma,uu));var te=fe.Array,Te=fe.Date,Se=fe.Error,Le=fe.Function,je=fe.Math,Fe=fe.Object,rt=fe.RegExp,lt=fe.String,x=fe.TypeError,T=te.prototype,q=Le.prototype,X=Fe.prototype,me=fe["__core-js_shared__"],be=q.toString,we=X.hasOwnProperty,Re=0,Je=function(){var s=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),mt=X.toString,wt=be.call(Fe),Et=Ma._,zt=rt("^"+be.call(we).replace(eo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=pl?fe.Buffer:n,tn=fe.Symbol,un=fe.Uint8Array,Tn=It?It.allocUnsafe:n,pn=xl(Fe.getPrototypeOf,Fe),St=Fe.create,Ht=X.propertyIsEnumerable,na=T.splice,Pa=tn?tn.isConcatSpreadable:n,qi=tn?tn.iterator:n,Ui=tn?tn.toStringTag:n,gu=function(){try{var s=Su(Fe,"defineProperty");return s({},"",{}),s}catch{}}(),cm=fe.clearTimeout!==Ma.clearTimeout&&fe.clearTimeout,vI=Te&&Te.now!==Ma.Date.now&&Te.now,_I=fe.setTimeout!==Ma.setTimeout&&fe.setTimeout,dm=je.ceil,fm=je.floor,Pv=Fe.getOwnPropertySymbols,pI=It?It.isBuffer:n,wb=fe.isFinite,gI=T.join,yI=xl(Fe.keys,Fe),er=je.max,Or=je.min,bI=Te.now,wI=fe.parseInt,kb=je.random,kI=T.reverse,Tv=Su(fe,"DataView"),$d=Su(fe,"Map"),Dv=Su(fe,"Promise"),Tc=Su(fe,"Set"),Ld=Su(fe,"WeakMap"),Nd=Su(Fe,"create"),mm=Ld&&new Ld,Dc={},SI=Cu(Tv),CI=Cu($d),xI=Cu(Dv),PI=Cu(Tc),TI=Cu(Ld),hm=tn?tn.prototype:n,qd=hm?hm.valueOf:n,Sb=hm?hm.toString:n;function oe(s){if(Ta(s)&&!dn(s)&&!(s instanceof kn)){if(s instanceof Hi)return s;if(we.call(s,"__wrapped__"))return C0(s)}return new Hi(s)}var Ic=function(){function s(){}return function(c){if(!ba(c))return{};if(St)return St(c);s.prototype=c;var _=new s;return s.prototype=n,_}}();function _m(){}function Hi(s,c){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}oe.templateSettings={escape:pr,evaluate:Ir,interpolate:Ar,variable:"",imports:{_:oe}},oe.prototype=_m.prototype,oe.prototype.constructor=oe,Hi.prototype=Ic(_m.prototype),Hi.prototype.constructor=Hi;function kn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function DI(){var s=new kn(this.__wrapped__);return s.__actions__=ui(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=ui(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=ui(this.__views__),s}function II(){if(this.__filtered__){var s=new kn(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function AI(){var s=this.__wrapped__.value(),c=this.__dir__,_=dn(s),E=c<0,K=_?s.length:0,ue=UA(0,K,this.__views__),Ce=ue.start,qe=ue.end,Xe=qe-Ce,pt=E?qe:Ce-1,gt=this.__iteratees__,Ct=gt.length,Rt=0,Wt=Or(Xe,this.__takeCount__);if(!_||!E&&K==Xe&&Wt==Xe)return Yb(s,this.__actions__);var Zt=[];e:for(;Xe--&&Rt<Wt;){pt+=c;for(var vn=-1,en=s[pt];++vn<Ct;){var bn=gt[vn],Dn=bn.iteratee,Si=bn.type,Xr=Dn(en);if(Si==le)en=Xr;else if(!Xr){if(Si==Z)continue e;break e}}Zt[Rt++]=en}return Zt}kn.prototype=Ic(_m.prototype),kn.prototype.constructor=kn;function yu(s){var c=-1,_=s==null?0:s.length;for(this.clear();++c<_;){var E=s[c];this.set(E[0],E[1])}}function EI(){this.__data__=Nd?Nd(null):{},this.size=0}function VI(s){var c=this.has(s)&&delete this.__data__[s];return this.size-=c?1:0,c}function OI(s){var c=this.__data__;if(Nd){var _=c[s];return _===u?n:_}return we.call(c,s)?c[s]:n}function MI(s){var c=this.__data__;return Nd?c[s]!==n:we.call(c,s)}function BI(s,c){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=Nd&&c===n?u:c,this}yu.prototype.clear=EI,yu.prototype.delete=VI,yu.prototype.get=OI,yu.prototype.has=MI,yu.prototype.set=BI;function Ds(s){var c=-1,_=s==null?0:s.length;for(this.clear();++c<_;){var E=s[c];this.set(E[0],E[1])}}function RI(){this.__data__=[],this.size=0}function FI(s){var c=this.__data__,_=pm(c,s);if(_<0)return!1;var E=c.length-1;return _==E?c.pop():na.call(c,_,1),--this.size,!0}function $I(s){var c=this.__data__,_=pm(c,s);return _<0?n:c[_][1]}function LI(s){return pm(this.__data__,s)>-1}function NI(s,c){var _=this.__data__,E=pm(_,s);return E<0?(++this.size,_.push([s,c])):_[E][1]=c,this}Ds.prototype.clear=RI,Ds.prototype.delete=FI,Ds.prototype.get=$I,Ds.prototype.has=LI,Ds.prototype.set=NI;function Is(s){var c=-1,_=s==null?0:s.length;for(this.clear();++c<_;){var E=s[c];this.set(E[0],E[1])}}function qI(){this.size=0,this.__data__={hash:new yu,map:new($d||Ds),string:new yu}}function UI(s){var c=Im(this,s).delete(s);return this.size-=c?1:0,c}function HI(s){return Im(this,s).get(s)}function zI(s){return Im(this,s).has(s)}function WI(s,c){var _=Im(this,s),E=_.size;return _.set(s,c),this.size+=_.size==E?0:1,this}Is.prototype.clear=qI,Is.prototype.delete=UI,Is.prototype.get=HI,Is.prototype.has=zI,Is.prototype.set=WI;function bu(s){var c=-1,_=s==null?0:s.length;for(this.__data__=new Is;++c<_;)this.add(s[c])}function jI(s){return this.__data__.set(s,u),this}function YI(s){return this.__data__.has(s)}bu.prototype.add=bu.prototype.push=jI,bu.prototype.has=YI;function no(s){var c=this.__data__=new Ds(s);this.size=c.size}function KI(){this.__data__=new Ds,this.size=0}function GI(s){var c=this.__data__,_=c.delete(s);return this.size=c.size,_}function QI(s){return this.__data__.get(s)}function XI(s){return this.__data__.has(s)}function JI(s,c){var _=this.__data__;if(_ instanceof Ds){var E=_.__data__;if(!$d||E.length<r-1)return E.push([s,c]),this.size=++_.size,this;_=this.__data__=new Is(E)}return _.set(s,c),this.size=_.size,this}no.prototype.clear=KI,no.prototype.delete=GI,no.prototype.get=QI,no.prototype.has=XI,no.prototype.set=JI;function Cb(s,c){var _=dn(s),E=!_&&xu(s),K=!_&&!E&&Al(s),ue=!_&&!E&&!K&&Oc(s),Ce=_||E||K||ue,qe=Ce?Cl(s.length,lt):[],Xe=qe.length;for(var pt in s)(c||we.call(s,pt))&&!(Ce&&(pt=="length"||K&&(pt=="offset"||pt=="parent")||ue&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||Os(pt,Xe)))&&qe.push(pt);return qe}function xb(s){var c=s.length;return c?s[Lv(0,c-1)]:n}function ZI(s,c){return Am(ui(s),wu(c,0,s.length))}function eA(s){return Am(ui(s))}function Iv(s,c,_){(_!==n&&!ao(s[c],_)||_===n&&!(c in s))&&As(s,c,_)}function Ud(s,c,_){var E=s[c];(!(we.call(s,c)&&ao(E,_))||_===n&&!(c in s))&&As(s,c,_)}function pm(s,c){for(var _=s.length;_--;)if(ao(s[_][0],c))return _;return-1}function tA(s,c,_,E){return Pl(s,function(K,ue,Ce){c(E,K,_(K),Ce)}),E}function Pb(s,c){return s&&$o(c,cr(c),s)}function nA(s,c){return s&&$o(c,di(c),s)}function As(s,c,_){c=="__proto__"&&gu?gu(s,c,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[c]=_}function Av(s,c){for(var _=-1,E=c.length,K=te(E),ue=s==null;++_<E;)K[_]=ue?n:c_(s,c[_]);return K}function wu(s,c,_){return s===s&&(_!==n&&(s=s<=_?s:_),c!==n&&(s=s>=c?s:c)),s}function zi(s,c,_,E,K,ue){var Ce,qe=c&m,Xe=c&p,pt=c&g;if(_&&(Ce=K?_(s,E,K,ue):_(s)),Ce!==n)return Ce;if(!ba(s))return s;var gt=dn(s);if(gt){if(Ce=zA(s),!qe)return ui(s,Ce)}else{var Ct=Mr(s),Rt=Ct==N||Ct==Q;if(Al(s))return Qb(s,qe);if(Ct==Ie||Ct==Me||Rt&&!K){if(Ce=Xe||Rt?{}:v0(s),!qe)return Xe?OA(s,nA(Ce,s)):VA(s,Pb(Ce,s))}else{if(!$n[Ct])return K?s:{};Ce=WA(s,Ct,qe)}}ue||(ue=new no);var Wt=ue.get(s);if(Wt)return Wt;ue.set(s,Ce),z0(s)?s.forEach(function(en){Ce.add(zi(en,c,_,en,s,ue))}):U0(s)&&s.forEach(function(en,bn){Ce.set(bn,zi(en,c,_,bn,s,ue))});var Zt=pt?Xe?Qv:Gv:Xe?di:cr,vn=gt?n:Zt(s);return lr(vn||s,function(en,bn){vn&&(bn=en,en=s[bn]),Ud(Ce,bn,zi(en,c,_,bn,s,ue))}),Ce}function aA(s){var c=cr(s);return function(_){return Tb(_,s,c)}}function Tb(s,c,_){var E=_.length;if(s==null)return!E;for(s=Fe(s);E--;){var K=_[E],ue=c[K],Ce=s[K];if(Ce===n&&!(K in s)||!ue(Ce))return!1}return!0}function Db(s,c,_){if(typeof s!="function")throw new x(o);return Gd(function(){s.apply(n,_)},c)}function Hd(s,c,_,E){var K=-1,ue=Ss,Ce=!0,qe=s.length,Xe=[],pt=c.length;if(!qe)return Xe;_&&(c=Gn(c,ur(_))),E?(ue=Ao,Ce=!1):c.length>=r&&(ue=Oo,Ce=!1,c=new bu(c));e:for(;++K<qe;){var gt=s[K],Ct=_==null?gt:_(gt);if(gt=E||gt!==0?gt:0,Ce&&Ct===Ct){for(var Rt=pt;Rt--;)if(c[Rt]===Ct)continue e;Xe.push(gt)}else ue(c,Ct,E)||Xe.push(gt)}return Xe}var Pl=t0(Fo),Ib=t0(Vv,!0);function rA(s,c){var _=!0;return Pl(s,function(E,K,ue){return _=!!c(E,K,ue),_}),_}function gm(s,c,_){for(var E=-1,K=s.length;++E<K;){var ue=s[E],Ce=c(ue);if(Ce!=null&&(qe===n?Ce===Ce&&!ki(Ce):_(Ce,qe)))var qe=Ce,Xe=ue}return Xe}function iA(s,c,_,E){var K=s.length;for(_=hn(_),_<0&&(_=-_>K?0:K+_),E=E===n||E>K?K:hn(E),E<0&&(E+=K),E=_>E?0:j0(E);_<E;)s[_++]=c;return s}function Ab(s,c){var _=[];return Pl(s,function(E,K,ue){c(E,K,ue)&&_.push(E)}),_}function wr(s,c,_,E,K){var ue=-1,Ce=s.length;for(_||(_=YA),K||(K=[]);++ue<Ce;){var qe=s[ue];c>0&&_(qe)?c>1?wr(qe,c-1,_,E,K):yi(K,qe):E||(K[K.length]=qe)}return K}var Ev=n0(),Eb=n0(!0);function Fo(s,c){return s&&Ev(s,c,cr)}function Vv(s,c){return s&&Eb(s,c,cr)}function ym(s,c){return Vr(c,function(_){return Ms(s[_])})}function ku(s,c){c=Dl(c,s);for(var _=0,E=c.length;s!=null&&_<E;)s=s[Lo(c[_++])];return _&&_==E?s:n}function Vb(s,c,_){var E=c(s);return dn(s)?E:yi(E,_(s))}function Gr(s){return s==null?s===n?ut:Ve:Ui&&Ui in Fe(s)?qA(s):eE(s)}function Ov(s,c){return s>c}function oA(s,c){return s!=null&&we.call(s,c)}function sA(s,c){return s!=null&&c in Fe(s)}function lA(s,c,_){return s>=Or(c,_)&&s<er(c,_)}function Mv(s,c,_){for(var E=_?Ao:Ss,K=s[0].length,ue=s.length,Ce=ue,qe=te(ue),Xe=1/0,pt=[];Ce--;){var gt=s[Ce];Ce&&c&&(gt=Gn(gt,ur(c))),Xe=Or(gt.length,Xe),qe[Ce]=!_&&(c||K>=120&&gt.length>=120)?new bu(Ce&&gt):n}gt=s[0];var Ct=-1,Rt=qe[0];e:for(;++Ct<K&&pt.length<Xe;){var Wt=gt[Ct],Zt=c?c(Wt):Wt;if(Wt=_||Wt!==0?Wt:0,!(Rt?Oo(Rt,Zt):E(pt,Zt,_))){for(Ce=ue;--Ce;){var vn=qe[Ce];if(!(vn?Oo(vn,Zt):E(s[Ce],Zt,_)))continue e}Rt&&Rt.push(Zt),pt.push(Wt)}}return pt}function uA(s,c,_,E){return Fo(s,function(K,ue,Ce){c(E,_(K),ue,Ce)}),E}function zd(s,c,_){c=Dl(c,s),s=y0(s,c);var E=s==null?s:s[Lo(ji(c))];return E==null?n:Ja(E,s,_)}function Ob(s){return Ta(s)&&Gr(s)==Me}function cA(s){return Ta(s)&&Gr(s)==jt}function dA(s){return Ta(s)&&Gr(s)==He}function Wd(s,c,_,E,K){return s===c?!0:s==null||c==null||!Ta(s)&&!Ta(c)?s!==s&&c!==c:fA(s,c,_,E,Wd,K)}function fA(s,c,_,E,K,ue){var Ce=dn(s),qe=dn(c),Xe=Ce?De:Mr(s),pt=qe?De:Mr(c);Xe=Xe==Me?Ie:Xe,pt=pt==Me?Ie:pt;var gt=Xe==Ie,Ct=pt==Ie,Rt=Xe==pt;if(Rt&&Al(s)){if(!Al(c))return!1;Ce=!0,gt=!1}if(Rt&&!gt)return ue||(ue=new no),Ce||Oc(s)?f0(s,c,_,E,K,ue):LA(s,c,Xe,_,E,K,ue);if(!(_&y)){var Wt=gt&&we.call(s,"__wrapped__"),Zt=Ct&&we.call(c,"__wrapped__");if(Wt||Zt){var vn=Wt?s.value():s,en=Zt?c.value():c;return ue||(ue=new no),K(vn,en,_,E,ue)}}return Rt?(ue||(ue=new no),NA(s,c,_,E,K,ue)):!1}function mA(s){return Ta(s)&&Mr(s)==pe}function Bv(s,c,_,E){var K=_.length,ue=K,Ce=!E;if(s==null)return!ue;for(s=Fe(s);K--;){var qe=_[K];if(Ce&&qe[2]?qe[1]!==s[qe[0]]:!(qe[0]in s))return!1}for(;++K<ue;){qe=_[K];var Xe=qe[0],pt=s[Xe],gt=qe[1];if(Ce&&qe[2]){if(pt===n&&!(Xe in s))return!1}else{var Ct=new no;if(E)var Rt=E(pt,gt,Xe,s,c,Ct);if(!(Rt===n?Wd(gt,pt,y|S,E,Ct):Rt))return!1}}return!0}function Mb(s){if(!ba(s)||GA(s))return!1;var c=Ms(s)?zt:fc;return c.test(Cu(s))}function hA(s){return Ta(s)&&Gr(s)==st}function vA(s){return Ta(s)&&Mr(s)==tt}function _A(s){return Ta(s)&&Rm(s.length)&&!!Nn[Gr(s)]}function Bb(s){return typeof s=="function"?s:s==null?fi:typeof s=="object"?dn(s)?$b(s[0],s[1]):Fb(s):aw(s)}function Rv(s){if(!Kd(s))return yI(s);var c=[];for(var _ in Fe(s))we.call(s,_)&&_!="constructor"&&c.push(_);return c}function pA(s){if(!ba(s))return ZA(s);var c=Kd(s),_=[];for(var E in s)E=="constructor"&&(c||!we.call(s,E))||_.push(E);return _}function Fv(s,c){return s<c}function Rb(s,c){var _=-1,E=ci(s)?te(s.length):[];return Pl(s,function(K,ue,Ce){E[++_]=c(K,ue,Ce)}),E}function Fb(s){var c=Jv(s);return c.length==1&&c[0][2]?p0(c[0][0],c[0][1]):function(_){return _===s||Bv(_,s,c)}}function $b(s,c){return e_(s)&&_0(c)?p0(Lo(s),c):function(_){var E=c_(_,s);return E===n&&E===c?d_(_,s):Wd(c,E,y|S)}}function bm(s,c,_,E,K){s!==c&&Ev(c,function(ue,Ce){if(K||(K=new no),ba(ue))gA(s,c,Ce,_,bm,E,K);else{var qe=E?E(n_(s,Ce),ue,Ce+"",s,c,K):n;qe===n&&(qe=ue),Iv(s,Ce,qe)}},di)}function gA(s,c,_,E,K,ue,Ce){var qe=n_(s,_),Xe=n_(c,_),pt=Ce.get(Xe);if(pt){Iv(s,_,pt);return}var gt=ue?ue(qe,Xe,_+"",s,c,Ce):n,Ct=gt===n;if(Ct){var Rt=dn(Xe),Wt=!Rt&&Al(Xe),Zt=!Rt&&!Wt&&Oc(Xe);gt=Xe,Rt||Wt||Zt?dn(qe)?gt=qe:Ba(qe)?gt=ui(qe):Wt?(Ct=!1,gt=Qb(Xe,!0)):Zt?(Ct=!1,gt=Xb(Xe,!0)):gt=[]:Qd(Xe)||xu(Xe)?(gt=qe,xu(qe)?gt=Y0(qe):(!ba(qe)||Ms(qe))&&(gt=v0(Xe))):Ct=!1}Ct&&(Ce.set(Xe,gt),K(gt,Xe,E,ue,Ce),Ce.delete(Xe)),Iv(s,_,gt)}function Lb(s,c){var _=s.length;if(_)return c+=c<0?_:0,Os(c,_)?s[c]:n}function Nb(s,c,_){c.length?c=Gn(c,function(ue){return dn(ue)?function(Ce){return ku(Ce,ue.length===1?ue[0]:ue)}:ue}):c=[fi];var E=-1;c=Gn(c,ur(Kt()));var K=Rb(s,function(ue,Ce,qe){var Xe=Gn(c,function(pt){return pt(ue)});return{criteria:Xe,index:++E,value:ue}});return _u(K,function(ue,Ce){return EA(ue,Ce,_)})}function yA(s,c){return qb(s,c,function(_,E){return d_(s,E)})}function qb(s,c,_){for(var E=-1,K=c.length,ue={};++E<K;){var Ce=c[E],qe=ku(s,Ce);_(qe,Ce)&&jd(ue,Dl(Ce,s),qe)}return ue}function bA(s){return function(c){return ku(c,s)}}function $v(s,c,_,E){var K=E?vu:si,ue=-1,Ce=c.length,qe=s;for(s===c&&(c=ui(c)),_&&(qe=Gn(s,ur(_)));++ue<Ce;)for(var Xe=0,pt=c[ue],gt=_?_(pt):pt;(Xe=K(qe,gt,Xe,E))>-1;)qe!==s&&na.call(qe,Xe,1),na.call(s,Xe,1);return s}function Ub(s,c){for(var _=s?c.length:0,E=_-1;_--;){var K=c[_];if(_==E||K!==ue){var ue=K;Os(K)?na.call(s,K,1):Uv(s,K)}}return s}function Lv(s,c){return s+fm(kb()*(c-s+1))}function wA(s,c,_,E){for(var K=-1,ue=er(dm((c-s)/(_||1)),0),Ce=te(ue);ue--;)Ce[E?ue:++K]=s,s+=_;return Ce}function Nv(s,c){var _="";if(!s||c<1||c>Ee)return _;do c%2&&(_+=s),c=fm(c/2),c&&(s+=s);while(c);return _}function gn(s,c){return a_(g0(s,c,fi),s+"")}function kA(s){return xb(Mc(s))}function SA(s,c){var _=Mc(s);return Am(_,wu(c,0,_.length))}function jd(s,c,_,E){if(!ba(s))return s;c=Dl(c,s);for(var K=-1,ue=c.length,Ce=ue-1,qe=s;qe!=null&&++K<ue;){var Xe=Lo(c[K]),pt=_;if(Xe==="__proto__"||Xe==="constructor"||Xe==="prototype")return s;if(K!=Ce){var gt=qe[Xe];pt=E?E(gt,Xe,qe):n,pt===n&&(pt=ba(gt)?gt:Os(c[K+1])?[]:{})}Ud(qe,Xe,pt),qe=qe[Xe]}return s}var Hb=mm?function(s,c){return mm.set(s,c),s}:fi,CA=gu?function(s,c){return gu(s,"toString",{configurable:!0,enumerable:!1,value:m_(c),writable:!0})}:fi;function xA(s){return Am(Mc(s))}function Wi(s,c,_){var E=-1,K=s.length;c<0&&(c=-c>K?0:K+c),_=_>K?K:_,_<0&&(_+=K),K=c>_?0:_-c>>>0,c>>>=0;for(var ue=te(K);++E<K;)ue[E]=s[E+c];return ue}function PA(s,c){var _;return Pl(s,function(E,K,ue){return _=c(E,K,ue),!_}),!!_}function wm(s,c,_){var E=0,K=s==null?E:s.length;if(typeof c=="number"&&c===c&&K<=se){for(;E<K;){var ue=E+K>>>1,Ce=s[ue];Ce!==null&&!ki(Ce)&&(_?Ce<=c:Ce<c)?E=ue+1:K=ue}return K}return qv(s,c,fi,_)}function qv(s,c,_,E){var K=0,ue=s==null?0:s.length;if(ue===0)return 0;c=_(c);for(var Ce=c!==c,qe=c===null,Xe=ki(c),pt=c===n;K<ue;){var gt=fm((K+ue)/2),Ct=_(s[gt]),Rt=Ct!==n,Wt=Ct===null,Zt=Ct===Ct,vn=ki(Ct);if(Ce)var en=E||Zt;else pt?en=Zt&&(E||Rt):qe?en=Zt&&Rt&&(E||!Wt):Xe?en=Zt&&Rt&&!Wt&&(E||!vn):Wt||vn?en=!1:en=E?Ct<=c:Ct<c;en?K=gt+1:ue=gt}return Or(ue,ge)}function zb(s,c){for(var _=-1,E=s.length,K=0,ue=[];++_<E;){var Ce=s[_],qe=c?c(Ce):Ce;if(!_||!ao(qe,Xe)){var Xe=qe;ue[K++]=Ce===0?0:Ce}}return ue}function Wb(s){return typeof s=="number"?s:ki(s)?re:+s}function wi(s){if(typeof s=="string")return s;if(dn(s))return Gn(s,wi)+"";if(ki(s))return Sb?Sb.call(s):"";var c=s+"";return c=="0"&&1/s==-_e?"-0":c}function Tl(s,c,_){var E=-1,K=Ss,ue=s.length,Ce=!0,qe=[],Xe=qe;if(_)Ce=!1,K=Ao;else if(ue>=r){var pt=c?null:FA(s);if(pt)return Bo(pt);Ce=!1,K=Oo,Xe=new bu}else Xe=c?[]:qe;e:for(;++E<ue;){var gt=s[E],Ct=c?c(gt):gt;if(gt=_||gt!==0?gt:0,Ce&&Ct===Ct){for(var Rt=Xe.length;Rt--;)if(Xe[Rt]===Ct)continue e;c&&Xe.push(Ct),qe.push(gt)}else K(Xe,Ct,_)||(Xe!==qe&&Xe.push(Ct),qe.push(gt))}return qe}function Uv(s,c){return c=Dl(c,s),s=y0(s,c),s==null||delete s[Lo(ji(c))]}function jb(s,c,_,E){return jd(s,c,_(ku(s,c)),E)}function km(s,c,_,E){for(var K=s.length,ue=E?K:-1;(E?ue--:++ue<K)&&c(s[ue],ue,s););return _?Wi(s,E?0:ue,E?ue+1:K):Wi(s,E?ue+1:0,E?K:ue)}function Yb(s,c){var _=s;return _ instanceof kn&&(_=_.value()),Eo(c,function(E,K){return K.func.apply(K.thisArg,yi([E],K.args))},_)}function Hv(s,c,_){var E=s.length;if(E<2)return E?Tl(s[0]):[];for(var K=-1,ue=te(E);++K<E;)for(var Ce=s[K],qe=-1;++qe<E;)qe!=K&&(ue[K]=Hd(ue[K]||Ce,s[qe],c,_));return Tl(wr(ue,1),c,_)}function Kb(s,c,_){for(var E=-1,K=s.length,ue=c.length,Ce={};++E<K;){var qe=E<ue?c[E]:n;_(Ce,s[E],qe)}return Ce}function zv(s){return Ba(s)?s:[]}function Wv(s){return typeof s=="function"?s:fi}function Dl(s,c){return dn(s)?s:e_(s,c)?[s]:S0(Wn(s))}var TA=gn;function Il(s,c,_){var E=s.length;return _=_===n?E:_,!c&&_>=E?s:Wi(s,c,_)}var Gb=cm||function(s){return Ma.clearTimeout(s)};function Qb(s,c){if(c)return s.slice();var _=s.length,E=Tn?Tn(_):new s.constructor(_);return s.copy(E),E}function jv(s){var c=new s.constructor(s.byteLength);return new un(c).set(new un(s)),c}function DA(s,c){var _=c?jv(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.byteLength)}function IA(s){var c=new s.constructor(s.source,ds.exec(s));return c.lastIndex=s.lastIndex,c}function AA(s){return qd?Fe(qd.call(s)):{}}function Xb(s,c){var _=c?jv(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}function Jb(s,c){if(s!==c){var _=s!==n,E=s===null,K=s===s,ue=ki(s),Ce=c!==n,qe=c===null,Xe=c===c,pt=ki(c);if(!qe&&!pt&&!ue&&s>c||ue&&Ce&&Xe&&!qe&&!pt||E&&Ce&&Xe||!_&&Xe||!K)return 1;if(!E&&!ue&&!pt&&s<c||pt&&_&&K&&!E&&!ue||qe&&_&&K||!Ce&&K||!Xe)return-1}return 0}function EA(s,c,_){for(var E=-1,K=s.criteria,ue=c.criteria,Ce=K.length,qe=_.length;++E<Ce;){var Xe=Jb(K[E],ue[E]);if(Xe){if(E>=qe)return Xe;var pt=_[E];return Xe*(pt=="desc"?-1:1)}}return s.index-c.index}function Zb(s,c,_,E){for(var K=-1,ue=s.length,Ce=_.length,qe=-1,Xe=c.length,pt=er(ue-Ce,0),gt=te(Xe+pt),Ct=!E;++qe<Xe;)gt[qe]=c[qe];for(;++K<Ce;)(Ct||K<ue)&&(gt[_[K]]=s[K]);for(;pt--;)gt[qe++]=s[K++];return gt}function e0(s,c,_,E){for(var K=-1,ue=s.length,Ce=-1,qe=_.length,Xe=-1,pt=c.length,gt=er(ue-qe,0),Ct=te(gt+pt),Rt=!E;++K<gt;)Ct[K]=s[K];for(var Wt=K;++Xe<pt;)Ct[Wt+Xe]=c[Xe];for(;++Ce<qe;)(Rt||K<ue)&&(Ct[Wt+_[Ce]]=s[K++]);return Ct}function ui(s,c){var _=-1,E=s.length;for(c||(c=te(E));++_<E;)c[_]=s[_];return c}function $o(s,c,_,E){var K=!_;_||(_={});for(var ue=-1,Ce=c.length;++ue<Ce;){var qe=c[ue],Xe=E?E(_[qe],s[qe],qe,_,s):n;Xe===n&&(Xe=s[qe]),K?As(_,qe,Xe):Ud(_,qe,Xe)}return _}function VA(s,c){return $o(s,Zv(s),c)}function OA(s,c){return $o(s,m0(s),c)}function Sm(s,c){return function(_,E){var K=dn(_)?wl:tA,ue=c?c():{};return K(_,s,Kt(E,2),ue)}}function Ac(s){return gn(function(c,_){var E=-1,K=_.length,ue=K>1?_[K-1]:n,Ce=K>2?_[2]:n;for(ue=s.length>3&&typeof ue=="function"?(K--,ue):n,Ce&&Qr(_[0],_[1],Ce)&&(ue=K<3?n:ue,K=1),c=Fe(c);++E<K;){var qe=_[E];qe&&s(c,qe,E,ue)}return c})}function t0(s,c){return function(_,E){if(_==null)return _;if(!ci(_))return s(_,E);for(var K=_.length,ue=c?K:-1,Ce=Fe(_);(c?ue--:++ue<K)&&E(Ce[ue],ue,Ce)!==!1;);return _}}function n0(s){return function(c,_,E){for(var K=-1,ue=Fe(c),Ce=E(c),qe=Ce.length;qe--;){var Xe=Ce[s?qe:++K];if(_(ue[Xe],Xe,ue)===!1)break}return c}}function MA(s,c,_){var E=c&k,K=Yd(s);function ue(){var Ce=this&&this!==Ma&&this instanceof ue?K:s;return Ce.apply(E?_:this,arguments)}return ue}function a0(s){return function(c){c=Wn(c);var _=En(c)?b(c):n,E=_?_[0]:c.charAt(0),K=_?Il(_,1).join(""):c.slice(1);return E[s]()+K}}function Ec(s){return function(c){return Eo(tw(ew(c).replace(_s,"")),s,"")}}function Yd(s){return function(){var c=arguments;switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3]);case 5:return new s(c[0],c[1],c[2],c[3],c[4]);case 6:return new s(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new s(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var _=Ic(s.prototype),E=s.apply(_,c);return ba(E)?E:_}}function BA(s,c,_){var E=Yd(s);function K(){for(var ue=arguments.length,Ce=te(ue),qe=ue,Xe=Vc(K);qe--;)Ce[qe]=arguments[qe];var pt=ue<3&&Ce[0]!==Xe&&Ce[ue-1]!==Xe?[]:Za(Ce,Xe);if(ue-=pt.length,ue<_)return l0(s,c,Cm,K.placeholder,n,Ce,pt,n,n,_-ue);var gt=this&&this!==Ma&&this instanceof K?E:s;return Ja(gt,this,Ce)}return K}function r0(s){return function(c,_,E){var K=Fe(c);if(!ci(c)){var ue=Kt(_,3);c=cr(c),_=function(qe){return ue(K[qe],qe,K)}}var Ce=s(c,_,E);return Ce>-1?K[ue?c[Ce]:Ce]:n}}function i0(s){return Vs(function(c){var _=c.length,E=_,K=Hi.prototype.thru;for(s&&c.reverse();E--;){var ue=c[E];if(typeof ue!="function")throw new x(o);if(K&&!Ce&&Dm(ue)=="wrapper")var Ce=new Hi([],!0)}for(E=Ce?E:_;++E<_;){ue=c[E];var qe=Dm(ue),Xe=qe=="wrapper"?Xv(ue):n;Xe&&t_(Xe[0])&&Xe[1]==(Y|I|O|H)&&!Xe[4].length&&Xe[9]==1?Ce=Ce[Dm(Xe[0])].apply(Ce,Xe[3]):Ce=ue.length==1&&t_(ue)?Ce[qe]():Ce.thru(ue)}return function(){var pt=arguments,gt=pt[0];if(Ce&&pt.length==1&&dn(gt))return Ce.plant(gt).value();for(var Ct=0,Rt=_?c[Ct].apply(this,pt):gt;++Ct<_;)Rt=c[Ct].call(this,Rt);return Rt}})}function Cm(s,c,_,E,K,ue,Ce,qe,Xe,pt){var gt=c&Y,Ct=c&k,Rt=c&C,Wt=c&(I|V),Zt=c&B,vn=Rt?n:Yd(s);function en(){for(var bn=arguments.length,Dn=te(bn),Si=bn;Si--;)Dn[Si]=arguments[Si];if(Wt)var Xr=Vc(en),Ci=pu(Dn,Xr);if(E&&(Dn=Zb(Dn,E,K,Wt)),ue&&(Dn=e0(Dn,ue,Ce,Wt)),bn-=Ci,Wt&&bn<pt){var Ra=Za(Dn,Xr);return l0(s,c,Cm,en.placeholder,_,Dn,Ra,qe,Xe,pt-bn)}var ro=Ct?_:this,Rs=Rt?ro[s]:s;return bn=Dn.length,qe?Dn=tE(Dn,qe):Zt&&bn>1&&Dn.reverse(),gt&&Xe<bn&&(Dn.length=Xe),this&&this!==Ma&&this instanceof en&&(Rs=vn||Yd(Rs)),Rs.apply(ro,Dn)}return en}function o0(s,c){return function(_,E){return uA(_,s,c(E),{})}}function xm(s,c){return function(_,E){var K;if(_===n&&E===n)return c;if(_!==n&&(K=_),E!==n){if(K===n)return E;typeof _=="string"||typeof E=="string"?(_=wi(_),E=wi(E)):(_=Wb(_),E=Wb(E)),K=s(_,E)}return K}}function Yv(s){return Vs(function(c){return c=Gn(c,ur(Kt())),gn(function(_){var E=this;return s(c,function(K){return Ja(K,E,_)})})})}function Pm(s,c){c=c===n?" ":wi(c);var _=c.length;if(_<2)return _?Nv(c,s):c;var E=Nv(c,dm(s/v(c)));return En(c)?Il(b(E),0,s).join(""):E.slice(0,s)}function RA(s,c,_,E){var K=c&k,ue=Yd(s);function Ce(){for(var qe=-1,Xe=arguments.length,pt=-1,gt=E.length,Ct=te(gt+Xe),Rt=this&&this!==Ma&&this instanceof Ce?ue:s;++pt<gt;)Ct[pt]=E[pt];for(;Xe--;)Ct[pt++]=arguments[++qe];return Ja(Rt,K?_:this,Ct)}return Ce}function s0(s){return function(c,_,E){return E&&typeof E!="number"&&Qr(c,_,E)&&(_=E=n),c=Bs(c),_===n?(_=c,c=0):_=Bs(_),E=E===n?c<_?1:-1:Bs(E),wA(c,_,E,s)}}function Tm(s){return function(c,_){return typeof c=="string"&&typeof _=="string"||(c=Yi(c),_=Yi(_)),s(c,_)}}function l0(s,c,_,E,K,ue,Ce,qe,Xe,pt){var gt=c&I,Ct=gt?Ce:n,Rt=gt?n:Ce,Wt=gt?ue:n,Zt=gt?n:ue;c|=gt?O:U,c&=~(gt?U:O),c&w||(c&=-4);var vn=[s,c,K,Wt,Ct,Zt,Rt,qe,Xe,pt],en=_.apply(n,vn);return t_(s)&&b0(en,vn),en.placeholder=E,w0(en,s,c)}function Kv(s){var c=je[s];return function(_,E){if(_=Yi(_),E=E==null?0:Or(hn(E),292),E&&wb(_)){var K=(Wn(_)+"e").split("e"),ue=c(K[0]+"e"+(+K[1]+E));return K=(Wn(ue)+"e").split("e"),+(K[0]+"e"+(+K[1]-E))}return c(_)}}var FA=Tc&&1/Bo(new Tc([,-0]))[1]==_e?function(s){return new Tc(s)}:p_;function u0(s){return function(c){var _=Mr(c);return _==pe?Mo(c):_==tt?Ro(c):kc(c,s(c))}}function Es(s,c,_,E,K,ue,Ce,qe){var Xe=c&C;if(!Xe&&typeof s!="function")throw new x(o);var pt=E?E.length:0;if(pt||(c&=-97,E=K=n),Ce=Ce===n?Ce:er(hn(Ce),0),qe=qe===n?qe:hn(qe),pt-=K?K.length:0,c&U){var gt=E,Ct=K;E=K=n}var Rt=Xe?n:Xv(s),Wt=[s,c,_,E,K,gt,Ct,ue,Ce,qe];if(Rt&&JA(Wt,Rt),s=Wt[0],c=Wt[1],_=Wt[2],E=Wt[3],K=Wt[4],qe=Wt[9]=Wt[9]===n?Xe?0:s.length:er(Wt[9]-pt,0),!qe&&c&(I|V)&&(c&=-25),!c||c==k)var Zt=MA(s,c,_);else c==I||c==V?Zt=BA(s,c,qe):(c==O||c==(k|O))&&!K.length?Zt=RA(s,c,_,E):Zt=Cm.apply(n,Wt);var vn=Rt?Hb:b0;return w0(vn(Zt,Wt),s,c)}function c0(s,c,_,E){return s===n||ao(s,X[_])&&!we.call(E,_)?c:s}function d0(s,c,_,E,K,ue){return ba(s)&&ba(c)&&(ue.set(c,s),bm(s,c,n,d0,ue),ue.delete(c)),s}function $A(s){return Qd(s)?n:s}function f0(s,c,_,E,K,ue){var Ce=_&y,qe=s.length,Xe=c.length;if(qe!=Xe&&!(Ce&&Xe>qe))return!1;var pt=ue.get(s),gt=ue.get(c);if(pt&&gt)return pt==c&&gt==s;var Ct=-1,Rt=!0,Wt=_&S?new bu:n;for(ue.set(s,c),ue.set(c,s);++Ct<qe;){var Zt=s[Ct],vn=c[Ct];if(E)var en=Ce?E(vn,Zt,Ct,c,s,ue):E(Zt,vn,Ct,s,c,ue);if(en!==n){if(en)continue;Rt=!1;break}if(Wt){if(!bi(c,function(bn,Dn){if(!Oo(Wt,Dn)&&(Zt===bn||K(Zt,bn,_,E,ue)))return Wt.push(Dn)})){Rt=!1;break}}else if(!(Zt===vn||K(Zt,vn,_,E,ue))){Rt=!1;break}}return ue.delete(s),ue.delete(c),Rt}function LA(s,c,_,E,K,ue,Ce){switch(_){case xt:if(s.byteLength!=c.byteLength||s.byteOffset!=c.byteOffset)return!1;s=s.buffer,c=c.buffer;case jt:return!(s.byteLength!=c.byteLength||!ue(new un(s),new un(c)));case Oe:case He:case W:return ao(+s,+c);case Be:return s.name==c.name&&s.message==c.message;case st:case Tt:return s==c+"";case pe:var qe=Mo;case tt:var Xe=E&y;if(qe||(qe=Bo),s.size!=c.size&&!Xe)return!1;var pt=Ce.get(s);if(pt)return pt==c;E|=S,Ce.set(s,c);var gt=f0(qe(s),qe(c),E,K,ue,Ce);return Ce.delete(s),gt;case ke:if(qd)return qd.call(s)==qd.call(c)}return!1}function NA(s,c,_,E,K,ue){var Ce=_&y,qe=Gv(s),Xe=qe.length,pt=Gv(c),gt=pt.length;if(Xe!=gt&&!Ce)return!1;for(var Ct=Xe;Ct--;){var Rt=qe[Ct];if(!(Ce?Rt in c:we.call(c,Rt)))return!1}var Wt=ue.get(s),Zt=ue.get(c);if(Wt&&Zt)return Wt==c&&Zt==s;var vn=!0;ue.set(s,c),ue.set(c,s);for(var en=Ce;++Ct<Xe;){Rt=qe[Ct];var bn=s[Rt],Dn=c[Rt];if(E)var Si=Ce?E(Dn,bn,Rt,c,s,ue):E(bn,Dn,Rt,s,c,ue);if(!(Si===n?bn===Dn||K(bn,Dn,_,E,ue):Si)){vn=!1;break}en||(en=Rt=="constructor")}if(vn&&!en){var Xr=s.constructor,Ci=c.constructor;Xr!=Ci&&"constructor"in s&&"constructor"in c&&!(typeof Xr=="function"&&Xr instanceof Xr&&typeof Ci=="function"&&Ci instanceof Ci)&&(vn=!1)}return ue.delete(s),ue.delete(c),vn}function Vs(s){return a_(g0(s,n,T0),s+"")}function Gv(s){return Vb(s,cr,Zv)}function Qv(s){return Vb(s,di,m0)}var Xv=mm?function(s){return mm.get(s)}:p_;function Dm(s){for(var c=s.name+"",_=Dc[c],E=we.call(Dc,c)?_.length:0;E--;){var K=_[E],ue=K.func;if(ue==null||ue==s)return K.name}return c}function Vc(s){var c=we.call(oe,"placeholder")?oe:s;return c.placeholder}function Kt(){var s=oe.iteratee||h_;return s=s===h_?Bb:s,arguments.length?s(arguments[0],arguments[1]):s}function Im(s,c){var _=s.__data__;return KA(c)?_[typeof c=="string"?"string":"hash"]:_.map}function Jv(s){for(var c=cr(s),_=c.length;_--;){var E=c[_],K=s[E];c[_]=[E,K,_0(K)]}return c}function Su(s,c){var _=on(s,c);return Mb(_)?_:n}function qA(s){var c=we.call(s,Ui),_=s[Ui];try{s[Ui]=n;var E=!0}catch{}var K=mt.call(s);return E&&(c?s[Ui]=_:delete s[Ui]),K}var Zv=Pv?function(s){return s==null?[]:(s=Fe(s),Vr(Pv(s),function(c){return Ht.call(s,c)}))}:g_,m0=Pv?function(s){for(var c=[];s;)yi(c,Zv(s)),s=pn(s);return c}:g_,Mr=Gr;(Tv&&Mr(new Tv(new ArrayBuffer(1)))!=xt||$d&&Mr(new $d)!=pe||Dv&&Mr(Dv.resolve())!=We||Tc&&Mr(new Tc)!=tt||Ld&&Mr(new Ld)!=Dt)&&(Mr=function(s){var c=Gr(s),_=c==Ie?s.constructor:n,E=_?Cu(_):"";if(E)switch(E){case SI:return xt;case CI:return pe;case xI:return We;case PI:return tt;case TI:return Dt}return c});function UA(s,c,_){for(var E=-1,K=_.length;++E<K;){var ue=_[E],Ce=ue.size;switch(ue.type){case"drop":s+=Ce;break;case"dropRight":c-=Ce;break;case"take":c=Or(c,s+Ce);break;case"takeRight":s=er(s,c-Ce);break}}return{start:s,end:c}}function HA(s){var c=s.match(Oi);return c?c[1].split(go):[]}function h0(s,c,_){c=Dl(c,s);for(var E=-1,K=c.length,ue=!1;++E<K;){var Ce=Lo(c[E]);if(!(ue=s!=null&&_(s,Ce)))break;s=s[Ce]}return ue||++E!=K?ue:(K=s==null?0:s.length,!!K&&Rm(K)&&Os(Ce,K)&&(dn(s)||xu(s)))}function zA(s){var c=s.length,_=new s.constructor(c);return c&&typeof s[0]=="string"&&we.call(s,"index")&&(_.index=s.index,_.input=s.input),_}function v0(s){return typeof s.constructor=="function"&&!Kd(s)?Ic(pn(s)):{}}function WA(s,c,_){var E=s.constructor;switch(c){case jt:return jv(s);case Oe:case He:return new E(+s);case xt:return DA(s,_);case Jt:case mn:case Zn:case Un:case ya:case xa:case Rn:case Mt:case ir:return Xb(s,_);case pe:return new E;case W:case Tt:return new E(s);case st:return IA(s);case tt:return new E;case ke:return AA(s)}}function jA(s,c){var _=c.length;if(!_)return s;var E=_-1;return c[E]=(_>1?"& ":"")+c[E],c=c.join(_>2?", ":" "),s.replace(ll,`{
/* [wrapped with `+c+`] */
`)}function YA(s){return dn(s)||xu(s)||!!(Pa&&s&&s[Pa])}function Os(s,c){var _=typeof s;return c=c??Ee,!!c&&(_=="number"||_!="symbol"&&mc.test(s))&&s>-1&&s%1==0&&s<c}function Qr(s,c,_){if(!ba(_))return!1;var E=typeof c;return(E=="number"?ci(_)&&Os(c,_.length):E=="string"&&c in _)?ao(_[c],s):!1}function e_(s,c){if(dn(s))return!1;var _=typeof s;return _=="number"||_=="symbol"||_=="boolean"||s==null||ki(s)?!0:zr.test(s)||!Oa.test(s)||c!=null&&s in Fe(c)}function KA(s){var c=typeof s;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?s!=="__proto__":s===null}function t_(s){var c=Dm(s),_=oe[c];if(typeof _!="function"||!(c in kn.prototype))return!1;if(s===_)return!0;var E=Xv(_);return!!E&&s===E[0]}function GA(s){return!!Je&&Je in s}var QA=me?Ms:y_;function Kd(s){var c=s&&s.constructor,_=typeof c=="function"&&c.prototype||X;return s===_}function _0(s){return s===s&&!ba(s)}function p0(s,c){return function(_){return _==null?!1:_[s]===c&&(c!==n||s in Fe(_))}}function XA(s){var c=Mm(s,function(E){return _.size===f&&_.clear(),E}),_=c.cache;return c}function JA(s,c){var _=s[1],E=c[1],K=_|E,ue=K<(k|C|Y),Ce=E==Y&&_==I||E==Y&&_==H&&s[7].length<=c[8]||E==(Y|H)&&c[7].length<=c[8]&&_==I;if(!(ue||Ce))return s;E&k&&(s[2]=c[2],K|=_&k?0:w);var qe=c[3];if(qe){var Xe=s[3];s[3]=Xe?Zb(Xe,qe,c[4]):qe,s[4]=Xe?Za(s[3],d):c[4]}return qe=c[5],qe&&(Xe=s[5],s[5]=Xe?e0(Xe,qe,c[6]):qe,s[6]=Xe?Za(s[5],d):c[6]),qe=c[7],qe&&(s[7]=qe),E&Y&&(s[8]=s[8]==null?c[8]:Or(s[8],c[8])),s[9]==null&&(s[9]=c[9]),s[0]=c[0],s[1]=K,s}function ZA(s){var c=[];if(s!=null)for(var _ in Fe(s))c.push(_);return c}function eE(s){return mt.call(s)}function g0(s,c,_){return c=er(c===n?s.length-1:c,0),function(){for(var E=arguments,K=-1,ue=er(E.length-c,0),Ce=te(ue);++K<ue;)Ce[K]=E[c+K];K=-1;for(var qe=te(c+1);++K<c;)qe[K]=E[K];return qe[c]=_(Ce),Ja(s,this,qe)}}function y0(s,c){return c.length<2?s:ku(s,Wi(c,0,-1))}function tE(s,c){for(var _=s.length,E=Or(c.length,_),K=ui(s);E--;){var ue=c[E];s[E]=Os(ue,_)?K[ue]:n}return s}function n_(s,c){if(!(c==="constructor"&&typeof s[c]=="function")&&c!="__proto__")return s[c]}var b0=k0(Hb),Gd=_I||function(s,c){return Ma.setTimeout(s,c)},a_=k0(CA);function w0(s,c,_){var E=c+"";return a_(s,jA(E,nE(HA(E),_)))}function k0(s){var c=0,_=0;return function(){var E=bI(),K=ce-(E-_);if(_=E,K>0){if(++c>=F)return arguments[0]}else c=0;return s.apply(n,arguments)}}function Am(s,c){var _=-1,E=s.length,K=E-1;for(c=c===n?E:c;++_<c;){var ue=Lv(_,K),Ce=s[ue];s[ue]=s[_],s[_]=Ce}return s.length=c,s}var S0=XA(function(s){var c=[];return s.charCodeAt(0)===46&&c.push(""),s.replace(us,function(_,E,K,ue){c.push(K?ue.replace(yo,"$1"):E||_)}),c});function Lo(s){if(typeof s=="string"||ki(s))return s;var c=s+"";return c=="0"&&1/s==-_e?"-0":c}function Cu(s){if(s!=null){try{return be.call(s)}catch{}try{return s+""}catch{}}return""}function nE(s,c){return lr(ye,function(_){var E="_."+_[0];c&_[1]&&!Ss(s,E)&&s.push(E)}),s.sort()}function C0(s){if(s instanceof kn)return s.clone();var c=new Hi(s.__wrapped__,s.__chain__);return c.__actions__=ui(s.__actions__),c.__index__=s.__index__,c.__values__=s.__values__,c}function aE(s,c,_){(_?Qr(s,c,_):c===n)?c=1:c=er(hn(c),0);var E=s==null?0:s.length;if(!E||c<1)return[];for(var K=0,ue=0,Ce=te(dm(E/c));K<E;)Ce[ue++]=Wi(s,K,K+=c);return Ce}function rE(s){for(var c=-1,_=s==null?0:s.length,E=0,K=[];++c<_;){var ue=s[c];ue&&(K[E++]=ue)}return K}function iE(){var s=arguments.length;if(!s)return[];for(var c=te(s-1),_=arguments[0],E=s;E--;)c[E-1]=arguments[E];return yi(dn(_)?ui(_):[_],wr(c,1))}var oE=gn(function(s,c){return Ba(s)?Hd(s,wr(c,1,Ba,!0)):[]}),sE=gn(function(s,c){var _=ji(c);return Ba(_)&&(_=n),Ba(s)?Hd(s,wr(c,1,Ba,!0),Kt(_,2)):[]}),lE=gn(function(s,c){var _=ji(c);return Ba(_)&&(_=n),Ba(s)?Hd(s,wr(c,1,Ba,!0),n,_):[]});function uE(s,c,_){var E=s==null?0:s.length;return E?(c=_||c===n?1:hn(c),Wi(s,c<0?0:c,E)):[]}function cE(s,c,_){var E=s==null?0:s.length;return E?(c=_||c===n?1:hn(c),c=E-c,Wi(s,0,c<0?0:c)):[]}function dE(s,c){return s&&s.length?km(s,Kt(c,3),!0,!0):[]}function fE(s,c){return s&&s.length?km(s,Kt(c,3),!0):[]}function mE(s,c,_,E){var K=s==null?0:s.length;return K?(_&&typeof _!="number"&&Qr(s,c,_)&&(_=0,E=K),iA(s,c,_,E)):[]}function x0(s,c,_){var E=s==null?0:s.length;if(!E)return-1;var K=_==null?0:hn(_);return K<0&&(K=er(E+K,0)),Cs(s,Kt(c,3),K)}function P0(s,c,_){var E=s==null?0:s.length;if(!E)return-1;var K=E-1;return _!==n&&(K=hn(_),K=_<0?er(E+K,0):Or(K,E-1)),Cs(s,Kt(c,3),K,!0)}function T0(s){var c=s==null?0:s.length;return c?wr(s,1):[]}function hE(s){var c=s==null?0:s.length;return c?wr(s,_e):[]}function vE(s,c){var _=s==null?0:s.length;return _?(c=c===n?1:hn(c),wr(s,c)):[]}function _E(s){for(var c=-1,_=s==null?0:s.length,E={};++c<_;){var K=s[c];E[K[0]]=K[1]}return E}function D0(s){return s&&s.length?s[0]:n}function pE(s,c,_){var E=s==null?0:s.length;if(!E)return-1;var K=_==null?0:hn(_);return K<0&&(K=er(E+K,0)),si(s,c,K)}function gE(s){var c=s==null?0:s.length;return c?Wi(s,0,-1):[]}var yE=gn(function(s){var c=Gn(s,zv);return c.length&&c[0]===s[0]?Mv(c):[]}),bE=gn(function(s){var c=ji(s),_=Gn(s,zv);return c===ji(_)?c=n:_.pop(),_.length&&_[0]===s[0]?Mv(_,Kt(c,2)):[]}),wE=gn(function(s){var c=ji(s),_=Gn(s,zv);return c=typeof c=="function"?c:n,c&&_.pop(),_.length&&_[0]===s[0]?Mv(_,n,c):[]});function kE(s,c){return s==null?"":gI.call(s,c)}function ji(s){var c=s==null?0:s.length;return c?s[c-1]:n}function SE(s,c,_){var E=s==null?0:s.length;if(!E)return-1;var K=E;return _!==n&&(K=hn(_),K=K<0?er(E+K,0):Or(K,E-1)),c===c?Pc(s,c,K):Cs(s,xs,K,!0)}function CE(s,c){return s&&s.length?Lb(s,hn(c)):n}var xE=gn(I0);function I0(s,c){return s&&s.length&&c&&c.length?$v(s,c):s}function PE(s,c,_){return s&&s.length&&c&&c.length?$v(s,c,Kt(_,2)):s}function TE(s,c,_){return s&&s.length&&c&&c.length?$v(s,c,n,_):s}var DE=Vs(function(s,c){var _=s==null?0:s.length,E=Av(s,c);return Ub(s,Gn(c,function(K){return Os(K,_)?+K:K}).sort(Jb)),E});function IE(s,c){var _=[];if(!(s&&s.length))return _;var E=-1,K=[],ue=s.length;for(c=Kt(c,3);++E<ue;){var Ce=s[E];c(Ce,E,s)&&(_.push(Ce),K.push(E))}return Ub(s,K),_}function r_(s){return s==null?s:kI.call(s)}function AE(s,c,_){var E=s==null?0:s.length;return E?(_&&typeof _!="number"&&Qr(s,c,_)?(c=0,_=E):(c=c==null?0:hn(c),_=_===n?E:hn(_)),Wi(s,c,_)):[]}function EE(s,c){return wm(s,c)}function VE(s,c,_){return qv(s,c,Kt(_,2))}function OE(s,c){var _=s==null?0:s.length;if(_){var E=wm(s,c);if(E<_&&ao(s[E],c))return E}return-1}function ME(s,c){return wm(s,c,!0)}function BE(s,c,_){return qv(s,c,Kt(_,2),!0)}function RE(s,c){var _=s==null?0:s.length;if(_){var E=wm(s,c,!0)-1;if(ao(s[E],c))return E}return-1}function FE(s){return s&&s.length?zb(s):[]}function $E(s,c){return s&&s.length?zb(s,Kt(c,2)):[]}function LE(s){var c=s==null?0:s.length;return c?Wi(s,1,c):[]}function NE(s,c,_){return s&&s.length?(c=_||c===n?1:hn(c),Wi(s,0,c<0?0:c)):[]}function qE(s,c,_){var E=s==null?0:s.length;return E?(c=_||c===n?1:hn(c),c=E-c,Wi(s,c<0?0:c,E)):[]}function UE(s,c){return s&&s.length?km(s,Kt(c,3),!1,!0):[]}function HE(s,c){return s&&s.length?km(s,Kt(c,3)):[]}var zE=gn(function(s){return Tl(wr(s,1,Ba,!0))}),WE=gn(function(s){var c=ji(s);return Ba(c)&&(c=n),Tl(wr(s,1,Ba,!0),Kt(c,2))}),jE=gn(function(s){var c=ji(s);return c=typeof c=="function"?c:n,Tl(wr(s,1,Ba,!0),n,c)});function YE(s){return s&&s.length?Tl(s):[]}function KE(s,c){return s&&s.length?Tl(s,Kt(c,2)):[]}function GE(s,c){return c=typeof c=="function"?c:n,s&&s.length?Tl(s,n,c):[]}function i_(s){if(!(s&&s.length))return[];var c=0;return s=Vr(s,function(_){if(Ba(_))return c=er(_.length,c),!0}),Cl(c,function(_){return Gn(s,Ps(_))})}function A0(s,c){if(!(s&&s.length))return[];var _=i_(s);return c==null?_:Gn(_,function(E){return Ja(c,n,E)})}var QE=gn(function(s,c){return Ba(s)?Hd(s,c):[]}),XE=gn(function(s){return Hv(Vr(s,Ba))}),JE=gn(function(s){var c=ji(s);return Ba(c)&&(c=n),Hv(Vr(s,Ba),Kt(c,2))}),ZE=gn(function(s){var c=ji(s);return c=typeof c=="function"?c:n,Hv(Vr(s,Ba),n,c)}),eV=gn(i_);function tV(s,c){return Kb(s||[],c||[],Ud)}function nV(s,c){return Kb(s||[],c||[],jd)}var aV=gn(function(s){var c=s.length,_=c>1?s[c-1]:n;return _=typeof _=="function"?(s.pop(),_):n,A0(s,_)});function E0(s){var c=oe(s);return c.__chain__=!0,c}function rV(s,c){return c(s),s}function Em(s,c){return c(s)}var iV=Vs(function(s){var c=s.length,_=c?s[0]:0,E=this.__wrapped__,K=function(ue){return Av(ue,s)};return c>1||this.__actions__.length||!(E instanceof kn)||!Os(_)?this.thru(K):(E=E.slice(_,+_+(c?1:0)),E.__actions__.push({func:Em,args:[K],thisArg:n}),new Hi(E,this.__chain__).thru(function(ue){return c&&!ue.length&&ue.push(n),ue}))});function oV(){return E0(this)}function sV(){return new Hi(this.value(),this.__chain__)}function lV(){this.__values__===n&&(this.__values__=W0(this.value()));var s=this.__index__>=this.__values__.length,c=s?n:this.__values__[this.__index__++];return{done:s,value:c}}function uV(){return this}function cV(s){for(var c,_=this;_ instanceof _m;){var E=C0(_);E.__index__=0,E.__values__=n,c?K.__wrapped__=E:c=E;var K=E;_=_.__wrapped__}return K.__wrapped__=s,c}function dV(){var s=this.__wrapped__;if(s instanceof kn){var c=s;return this.__actions__.length&&(c=new kn(this)),c=c.reverse(),c.__actions__.push({func:Em,args:[r_],thisArg:n}),new Hi(c,this.__chain__)}return this.thru(r_)}function fV(){return Yb(this.__wrapped__,this.__actions__)}var mV=Sm(function(s,c,_){we.call(s,_)?++s[_]:As(s,_,1)});function hV(s,c,_){var E=dn(s)?Io:rA;return _&&Qr(s,c,_)&&(c=n),E(s,Kt(c,3))}function vV(s,c){var _=dn(s)?Vr:Ab;return _(s,Kt(c,3))}var _V=r0(x0),pV=r0(P0);function gV(s,c){return wr(Vm(s,c),1)}function yV(s,c){return wr(Vm(s,c),_e)}function bV(s,c,_){return _=_===n?1:hn(_),wr(Vm(s,c),_)}function V0(s,c){var _=dn(s)?lr:Pl;return _(s,Kt(c,3))}function O0(s,c){var _=dn(s)?ja:Ib;return _(s,Kt(c,3))}var wV=Sm(function(s,c,_){we.call(s,_)?s[_].push(c):As(s,_,[c])});function kV(s,c,_,E){s=ci(s)?s:Mc(s),_=_&&!E?hn(_):0;var K=s.length;return _<0&&(_=er(K+_,0)),Fm(s)?_<=K&&s.indexOf(c,_)>-1:!!K&&si(s,c,_)>-1}var SV=gn(function(s,c,_){var E=-1,K=typeof c=="function",ue=ci(s)?te(s.length):[];return Pl(s,function(Ce){ue[++E]=K?Ja(c,Ce,_):zd(Ce,c,_)}),ue}),CV=Sm(function(s,c,_){As(s,_,c)});function Vm(s,c){var _=dn(s)?Gn:Rb;return _(s,Kt(c,3))}function xV(s,c,_,E){return s==null?[]:(dn(c)||(c=c==null?[]:[c]),_=E?n:_,dn(_)||(_=_==null?[]:[_]),Nb(s,c,_))}var PV=Sm(function(s,c,_){s[_?0:1].push(c)},function(){return[[],[]]});function TV(s,c,_){var E=dn(s)?Eo:wc,K=arguments.length<3;return E(s,Kt(c,4),_,K,Pl)}function DV(s,c,_){var E=dn(s)?fu:wc,K=arguments.length<3;return E(s,Kt(c,4),_,K,Ib)}function IV(s,c){var _=dn(s)?Vr:Ab;return _(s,Bm(Kt(c,3)))}function AV(s){var c=dn(s)?xb:kA;return c(s)}function EV(s,c,_){(_?Qr(s,c,_):c===n)?c=1:c=hn(c);var E=dn(s)?ZI:SA;return E(s,c)}function VV(s){var c=dn(s)?eA:xA;return c(s)}function OV(s){if(s==null)return 0;if(ci(s))return Fm(s)?v(s):s.length;var c=Mr(s);return c==pe||c==tt?s.size:Rv(s).length}function MV(s,c,_){var E=dn(s)?bi:PA;return _&&Qr(s,c,_)&&(c=n),E(s,Kt(c,3))}var BV=gn(function(s,c){if(s==null)return[];var _=c.length;return _>1&&Qr(s,c[0],c[1])?c=[]:_>2&&Qr(c[0],c[1],c[2])&&(c=[c[0]]),Nb(s,wr(c,1),[])}),Om=vI||function(){return Ma.Date.now()};function RV(s,c){if(typeof c!="function")throw new x(o);return s=hn(s),function(){if(--s<1)return c.apply(this,arguments)}}function M0(s,c,_){return c=_?n:c,c=s&&c==null?s.length:c,Es(s,Y,n,n,n,n,c)}function B0(s,c){var _;if(typeof c!="function")throw new x(o);return s=hn(s),function(){return--s>0&&(_=c.apply(this,arguments)),s<=1&&(c=n),_}}var o_=gn(function(s,c,_){var E=k;if(_.length){var K=Za(_,Vc(o_));E|=O}return Es(s,E,c,_,K)}),R0=gn(function(s,c,_){var E=k|C;if(_.length){var K=Za(_,Vc(R0));E|=O}return Es(c,E,s,_,K)});function F0(s,c,_){c=_?n:c;var E=Es(s,I,n,n,n,n,n,c);return E.placeholder=F0.placeholder,E}function $0(s,c,_){c=_?n:c;var E=Es(s,V,n,n,n,n,n,c);return E.placeholder=$0.placeholder,E}function L0(s,c,_){var E,K,ue,Ce,qe,Xe,pt=0,gt=!1,Ct=!1,Rt=!0;if(typeof s!="function")throw new x(o);c=Yi(c)||0,ba(_)&&(gt=!!_.leading,Ct="maxWait"in _,ue=Ct?er(Yi(_.maxWait)||0,c):ue,Rt="trailing"in _?!!_.trailing:Rt);function Wt(Ra){var ro=E,Rs=K;return E=K=n,pt=Ra,Ce=s.apply(Rs,ro),Ce}function Zt(Ra){return pt=Ra,qe=Gd(bn,c),gt?Wt(Ra):Ce}function vn(Ra){var ro=Ra-Xe,Rs=Ra-pt,rw=c-ro;return Ct?Or(rw,ue-Rs):rw}function en(Ra){var ro=Ra-Xe,Rs=Ra-pt;return Xe===n||ro>=c||ro<0||Ct&&Rs>=ue}function bn(){var Ra=Om();if(en(Ra))return Dn(Ra);qe=Gd(bn,vn(Ra))}function Dn(Ra){return qe=n,Rt&&E?Wt(Ra):(E=K=n,Ce)}function Si(){qe!==n&&Gb(qe),pt=0,E=Xe=K=qe=n}function Xr(){return qe===n?Ce:Dn(Om())}function Ci(){var Ra=Om(),ro=en(Ra);if(E=arguments,K=this,Xe=Ra,ro){if(qe===n)return Zt(Xe);if(Ct)return Gb(qe),qe=Gd(bn,c),Wt(Xe)}return qe===n&&(qe=Gd(bn,c)),Ce}return Ci.cancel=Si,Ci.flush=Xr,Ci}var FV=gn(function(s,c){return Db(s,1,c)}),$V=gn(function(s,c,_){return Db(s,Yi(c)||0,_)});function LV(s){return Es(s,B)}function Mm(s,c){if(typeof s!="function"||c!=null&&typeof c!="function")throw new x(o);var _=function(){var E=arguments,K=c?c.apply(this,E):E[0],ue=_.cache;if(ue.has(K))return ue.get(K);var Ce=s.apply(this,E);return _.cache=ue.set(K,Ce)||ue,Ce};return _.cache=new(Mm.Cache||Is),_}Mm.Cache=Is;function Bm(s){if(typeof s!="function")throw new x(o);return function(){var c=arguments;switch(c.length){case 0:return!s.call(this);case 1:return!s.call(this,c[0]);case 2:return!s.call(this,c[0],c[1]);case 3:return!s.call(this,c[0],c[1],c[2])}return!s.apply(this,c)}}function NV(s){return B0(2,s)}var qV=TA(function(s,c){c=c.length==1&&dn(c[0])?Gn(c[0],ur(Kt())):Gn(wr(c,1),ur(Kt()));var _=c.length;return gn(function(E){for(var K=-1,ue=Or(E.length,_);++K<ue;)E[K]=c[K].call(this,E[K]);return Ja(s,this,E)})}),s_=gn(function(s,c){var _=Za(c,Vc(s_));return Es(s,O,n,c,_)}),N0=gn(function(s,c){var _=Za(c,Vc(N0));return Es(s,U,n,c,_)}),UV=Vs(function(s,c){return Es(s,H,n,n,n,c)});function HV(s,c){if(typeof s!="function")throw new x(o);return c=c===n?c:hn(c),gn(s,c)}function zV(s,c){if(typeof s!="function")throw new x(o);return c=c==null?0:er(hn(c),0),gn(function(_){var E=_[c],K=Il(_,0,c);return E&&yi(K,E),Ja(s,this,K)})}function WV(s,c,_){var E=!0,K=!0;if(typeof s!="function")throw new x(o);return ba(_)&&(E="leading"in _?!!_.leading:E,K="trailing"in _?!!_.trailing:K),L0(s,c,{leading:E,maxWait:c,trailing:K})}function jV(s){return M0(s,1)}function YV(s,c){return s_(Wv(c),s)}function KV(){if(!arguments.length)return[];var s=arguments[0];return dn(s)?s:[s]}function GV(s){return zi(s,g)}function QV(s,c){return c=typeof c=="function"?c:n,zi(s,g,c)}function XV(s){return zi(s,m|g)}function JV(s,c){return c=typeof c=="function"?c:n,zi(s,m|g,c)}function ZV(s,c){return c==null||Tb(s,c,cr(c))}function ao(s,c){return s===c||s!==s&&c!==c}var eO=Tm(Ov),tO=Tm(function(s,c){return s>=c}),xu=Ob(function(){return arguments}())?Ob:function(s){return Ta(s)&&we.call(s,"callee")&&!Ht.call(s,"callee")},dn=te.isArray,nO=bs?ur(bs):cA;function ci(s){return s!=null&&Rm(s.length)&&!Ms(s)}function Ba(s){return Ta(s)&&ci(s)}function aO(s){return s===!0||s===!1||Ta(s)&&Gr(s)==Oe}var Al=pI||y_,rO=ws?ur(ws):dA;function iO(s){return Ta(s)&&s.nodeType===1&&!Qd(s)}function oO(s){if(s==null)return!0;if(ci(s)&&(dn(s)||typeof s=="string"||typeof s.splice=="function"||Al(s)||Oc(s)||xu(s)))return!s.length;var c=Mr(s);if(c==pe||c==tt)return!s.size;if(Kd(s))return!Rv(s).length;for(var _ in s)if(we.call(s,_))return!1;return!0}function sO(s,c){return Wd(s,c)}function lO(s,c,_){_=typeof _=="function"?_:n;var E=_?_(s,c):n;return E===n?Wd(s,c,n,_):!!E}function l_(s){if(!Ta(s))return!1;var c=Gr(s);return c==Be||c==at||typeof s.message=="string"&&typeof s.name=="string"&&!Qd(s)}function uO(s){return typeof s=="number"&&wb(s)}function Ms(s){if(!ba(s))return!1;var c=Gr(s);return c==N||c==Q||c==R||c==Qe}function q0(s){return typeof s=="number"&&s==hn(s)}function Rm(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Ee}function ba(s){var c=typeof s;return s!=null&&(c=="object"||c=="function")}function Ta(s){return s!=null&&typeof s=="object"}var U0=du?ur(du):mA;function cO(s,c){return s===c||Bv(s,c,Jv(c))}function dO(s,c,_){return _=typeof _=="function"?_:n,Bv(s,c,Jv(c),_)}function fO(s){return H0(s)&&s!=+s}function mO(s){if(QA(s))throw new Se(i);return Mb(s)}function hO(s){return s===null}function vO(s){return s==null}function H0(s){return typeof s=="number"||Ta(s)&&Gr(s)==W}function Qd(s){if(!Ta(s)||Gr(s)!=Ie)return!1;var c=pn(s);if(c===null)return!0;var _=we.call(c,"constructor")&&c.constructor;return typeof _=="function"&&_ instanceof _&&be.call(_)==wt}var u_=yl?ur(yl):hA;function _O(s){return q0(s)&&s>=-Ee&&s<=Ee}var z0=ks?ur(ks):vA;function Fm(s){return typeof s=="string"||!dn(s)&&Ta(s)&&Gr(s)==Tt}function ki(s){return typeof s=="symbol"||Ta(s)&&Gr(s)==ke}var Oc=bl?ur(bl):_A;function pO(s){return s===n}function gO(s){return Ta(s)&&Mr(s)==Dt}function yO(s){return Ta(s)&&Gr(s)==Nt}var bO=Tm(Fv),wO=Tm(function(s,c){return s<=c});function W0(s){if(!s)return[];if(ci(s))return Fm(s)?b(s):ui(s);if(qi&&s[qi])return xc(s[qi]());var c=Mr(s),_=c==pe?Mo:c==tt?Bo:Mc;return _(s)}function Bs(s){if(!s)return s===0?s:0;if(s=Yi(s),s===_e||s===-_e){var c=s<0?-1:1;return c*$e}return s===s?s:0}function hn(s){var c=Bs(s),_=c%1;return c===c?_?c-_:c:0}function j0(s){return s?wu(hn(s),0,ee):0}function Yi(s){if(typeof s=="number")return s;if(ki(s))return re;if(ba(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=ba(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=Sc(s);var _=Wr.test(s);return _||jr.test(s)?_l(s.slice(2),_?2:8):Od.test(s)?re:+s}function Y0(s){return $o(s,di(s))}function kO(s){return s?wu(hn(s),-Ee,Ee):s===0?s:0}function Wn(s){return s==null?"":wi(s)}var SO=Ac(function(s,c){if(Kd(c)||ci(c)){$o(c,cr(c),s);return}for(var _ in c)we.call(c,_)&&Ud(s,_,c[_])}),K0=Ac(function(s,c){$o(c,di(c),s)}),$m=Ac(function(s,c,_,E){$o(c,di(c),s,E)}),CO=Ac(function(s,c,_,E){$o(c,cr(c),s,E)}),xO=Vs(Av);function PO(s,c){var _=Ic(s);return c==null?_:Pb(_,c)}var TO=gn(function(s,c){s=Fe(s);var _=-1,E=c.length,K=E>2?c[2]:n;for(K&&Qr(c[0],c[1],K)&&(E=1);++_<E;)for(var ue=c[_],Ce=di(ue),qe=-1,Xe=Ce.length;++qe<Xe;){var pt=Ce[qe],gt=s[pt];(gt===n||ao(gt,X[pt])&&!we.call(s,pt))&&(s[pt]=ue[pt])}return s}),DO=gn(function(s){return s.push(n,d0),Ja(G0,n,s)});function IO(s,c){return Vo(s,Kt(c,3),Fo)}function AO(s,c){return Vo(s,Kt(c,3),Vv)}function EO(s,c){return s==null?s:Ev(s,Kt(c,3),di)}function VO(s,c){return s==null?s:Eb(s,Kt(c,3),di)}function OO(s,c){return s&&Fo(s,Kt(c,3))}function MO(s,c){return s&&Vv(s,Kt(c,3))}function BO(s){return s==null?[]:ym(s,cr(s))}function RO(s){return s==null?[]:ym(s,di(s))}function c_(s,c,_){var E=s==null?n:ku(s,c);return E===n?_:E}function FO(s,c){return s!=null&&h0(s,c,oA)}function d_(s,c){return s!=null&&h0(s,c,sA)}var $O=o0(function(s,c,_){c!=null&&typeof c.toString!="function"&&(c=mt.call(c)),s[c]=_},m_(fi)),LO=o0(function(s,c,_){c!=null&&typeof c.toString!="function"&&(c=mt.call(c)),we.call(s,c)?s[c].push(_):s[c]=[_]},Kt),NO=gn(zd);function cr(s){return ci(s)?Cb(s):Rv(s)}function di(s){return ci(s)?Cb(s,!0):pA(s)}function qO(s,c){var _={};return c=Kt(c,3),Fo(s,function(E,K,ue){As(_,c(E,K,ue),E)}),_}function UO(s,c){var _={};return c=Kt(c,3),Fo(s,function(E,K,ue){As(_,K,c(E,K,ue))}),_}var HO=Ac(function(s,c,_){bm(s,c,_)}),G0=Ac(function(s,c,_,E){bm(s,c,_,E)}),zO=Vs(function(s,c){var _={};if(s==null)return _;var E=!1;c=Gn(c,function(ue){return ue=Dl(ue,s),E||(E=ue.length>1),ue}),$o(s,Qv(s),_),E&&(_=zi(_,m|p|g,$A));for(var K=c.length;K--;)Uv(_,c[K]);return _});function WO(s,c){return Q0(s,Bm(Kt(c)))}var jO=Vs(function(s,c){return s==null?{}:yA(s,c)});function Q0(s,c){if(s==null)return{};var _=Gn(Qv(s),function(E){return[E]});return c=Kt(c),qb(s,_,function(E,K){return c(E,K[0])})}function YO(s,c,_){c=Dl(c,s);var E=-1,K=c.length;for(K||(K=1,s=n);++E<K;){var ue=s==null?n:s[Lo(c[E])];ue===n&&(E=K,ue=_),s=Ms(ue)?ue.call(s):ue}return s}function KO(s,c,_){return s==null?s:jd(s,c,_)}function GO(s,c,_,E){return E=typeof E=="function"?E:n,s==null?s:jd(s,c,_,E)}var X0=u0(cr),J0=u0(di);function QO(s,c,_){var E=dn(s),K=E||Al(s)||Oc(s);if(c=Kt(c,4),_==null){var ue=s&&s.constructor;K?_=E?new ue:[]:ba(s)?_=Ms(ue)?Ic(pn(s)):{}:_={}}return(K?lr:Fo)(s,function(Ce,qe,Xe){return c(_,Ce,qe,Xe)}),_}function XO(s,c){return s==null?!0:Uv(s,c)}function JO(s,c,_){return s==null?s:jb(s,c,Wv(_))}function ZO(s,c,_,E){return E=typeof E=="function"?E:n,s==null?s:jb(s,c,Wv(_),E)}function Mc(s){return s==null?[]:Ts(s,cr(s))}function e2(s){return s==null?[]:Ts(s,di(s))}function t2(s,c,_){return _===n&&(_=c,c=n),_!==n&&(_=Yi(_),_=_===_?_:0),c!==n&&(c=Yi(c),c=c===c?c:0),wu(Yi(s),c,_)}function n2(s,c,_){return c=Bs(c),_===n?(_=c,c=0):_=Bs(_),s=Yi(s),lA(s,c,_)}function a2(s,c,_){if(_&&typeof _!="boolean"&&Qr(s,c,_)&&(c=_=n),_===n&&(typeof c=="boolean"?(_=c,c=n):typeof s=="boolean"&&(_=s,s=n)),s===n&&c===n?(s=0,c=1):(s=Bs(s),c===n?(c=s,s=0):c=Bs(c)),s>c){var E=s;s=c,c=E}if(_||s%1||c%1){var K=kb();return Or(s+K*(c-s+Do("1e-"+((K+"").length-1))),c)}return Lv(s,c)}var r2=Ec(function(s,c,_){return c=c.toLowerCase(),s+(_?Z0(c):c)});function Z0(s){return f_(Wn(s).toLowerCase())}function ew(s){return s=Wn(s),s&&s.replace(bo,Cc).replace($i,"")}function i2(s,c,_){s=Wn(s),c=wi(c);var E=s.length;_=_===n?E:wu(hn(_),0,E);var K=_;return _-=c.length,_>=0&&s.slice(_,K)==c}function o2(s){return s=Wn(s),s&&Ft.test(s)?s.replace(_t,zn):s}function s2(s){return s=Wn(s),s&&Kn.test(s)?s.replace(eo,"\\$&"):s}var l2=Ec(function(s,c,_){return s+(_?"-":"")+c.toLowerCase()}),u2=Ec(function(s,c,_){return s+(_?" ":"")+c.toLowerCase()}),c2=a0("toLowerCase");function d2(s,c,_){s=Wn(s),c=hn(c);var E=c?v(s):0;if(!c||E>=c)return s;var K=(c-E)/2;return Pm(fm(K),_)+s+Pm(dm(K),_)}function f2(s,c,_){s=Wn(s),c=hn(c);var E=c?v(s):0;return c&&E<c?s+Pm(c-E,_):s}function m2(s,c,_){s=Wn(s),c=hn(c);var E=c?v(s):0;return c&&E<c?Pm(c-E,_)+s:s}function h2(s,c,_){return _||c==null?c=0:c&&(c=+c),wI(Wn(s).replace(la,""),c||0)}function v2(s,c,_){return(_?Qr(s,c,_):c===n)?c=1:c=hn(c),Nv(Wn(s),c)}function _2(){var s=arguments,c=Wn(s[0]);return s.length<3?c:c.replace(s[1],s[2])}var p2=Ec(function(s,c,_){return s+(_?"_":"")+c.toLowerCase()});function g2(s,c,_){return _&&typeof _!="number"&&Qr(s,c,_)&&(c=_=n),_=_===n?ee:_>>>0,_?(s=Wn(s),s&&(typeof c=="string"||c!=null&&!u_(c))&&(c=wi(c),!c&&En(s))?Il(b(s),0,_):s.split(c,_)):[]}var y2=Ec(function(s,c,_){return s+(_?" ":"")+f_(c)});function b2(s,c,_){return s=Wn(s),_=_==null?0:wu(hn(_),0,s.length),c=wi(c),s.slice(_,_+c.length)==c}function w2(s,c,_){var E=oe.templateSettings;_&&Qr(s,c,_)&&(c=n),s=Wn(s),c=$m({},c,E,c0);var K=$m({},c.imports,E.imports,c0),ue=cr(K),Ce=Ts(K,ue),qe,Xe,pt=0,gt=c.interpolate||Fn,Ct="__p += '",Rt=rt((c.escape||Fn).source+"|"+gt.source+"|"+(gt===Ar?Er:Fn).source+"|"+(c.evaluate||Fn).source+"|$","g"),Wt="//# sourceURL="+(we.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gs+"]")+`
`;s.replace(Rt,function(en,bn,Dn,Si,Xr,Ci){return Dn||(Dn=Si),Ct+=s.slice(pt,Ci).replace(Bi,yr),bn&&(qe=!0,Ct+=`' +
__e(`+bn+`) +
'`),Xr&&(Xe=!0,Ct+=`';
`+Xr+`;
__p += '`),Dn&&(Ct+=`' +
((__t = (`+Dn+`)) == null ? '' : __t) +
'`),pt=Ci+en.length,en}),Ct+=`';
`;var Zt=we.call(c,"variable")&&c.variable;if(!Zt)Ct=`with (obj) {
`+Ct+`
}
`;else if(Mi.test(Zt))throw new Se(l);Ct=(Xe?Ct.replace(et,""):Ct).replace(bt,"$1").replace(ft,"$1;"),Ct="function("+(Zt||"obj")+`) {
`+(Zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(qe?", __e = _.escape":"")+(Xe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ct+`return __p
}`;var vn=nw(function(){return Le(ue,Wt+"return "+Ct).apply(n,Ce)});if(vn.source=Ct,l_(vn))throw vn;return vn}function k2(s){return Wn(s).toLowerCase()}function S2(s){return Wn(s).toUpperCase()}function C2(s,c,_){if(s=Wn(s),s&&(_||c===n))return Sc(s);if(!s||!(c=wi(c)))return s;var E=b(s),K=b(c),ue=ta(E,K),Ce=li(E,K)+1;return Il(E,ue,Ce).join("")}function x2(s,c,_){if(s=Wn(s),s&&(_||c===n))return s.slice(0,A(s)+1);if(!s||!(c=wi(c)))return s;var E=b(s),K=li(E,b(c))+1;return Il(E,0,K).join("")}function P2(s,c,_){if(s=Wn(s),s&&(_||c===n))return s.replace(la,"");if(!s||!(c=wi(c)))return s;var E=b(s),K=ta(E,b(c));return Il(E,K).join("")}function T2(s,c){var _=j,E=G;if(ba(c)){var K="separator"in c?c.separator:K;_="length"in c?hn(c.length):_,E="omission"in c?wi(c.omission):E}s=Wn(s);var ue=s.length;if(En(s)){var Ce=b(s);ue=Ce.length}if(_>=ue)return s;var qe=_-v(E);if(qe<1)return E;var Xe=Ce?Il(Ce,0,qe).join(""):s.slice(0,qe);if(K===n)return Xe+E;if(Ce&&(qe+=Xe.length-qe),u_(K)){if(s.slice(qe).search(K)){var pt,gt=Xe;for(K.global||(K=rt(K.source,Wn(ds.exec(K))+"g")),K.lastIndex=0;pt=K.exec(gt);)var Ct=pt.index;Xe=Xe.slice(0,Ct===n?qe:Ct)}}else if(s.indexOf(wi(K),qe)!=qe){var Rt=Xe.lastIndexOf(K);Rt>-1&&(Xe=Xe.slice(0,Rt))}return Xe+E}function D2(s){return s=Wn(s),s&&At.test(s)?s.replace(Bt,M):s}var I2=Ec(function(s,c,_){return s+(_?" ":"")+c.toUpperCase()}),f_=a0("toUpperCase");function tw(s,c,_){return s=Wn(s),c=_?n:c,c===n?br(s)?he(s):kl(s):s.match(c)||[]}var nw=gn(function(s,c){try{return Ja(s,n,c)}catch(_){return l_(_)?_:new Se(_)}}),A2=Vs(function(s,c){return lr(c,function(_){_=Lo(_),As(s,_,o_(s[_],s))}),s});function E2(s){var c=s==null?0:s.length,_=Kt();return s=c?Gn(s,function(E){if(typeof E[1]!="function")throw new x(o);return[_(E[0]),E[1]]}):[],gn(function(E){for(var K=-1;++K<c;){var ue=s[K];if(Ja(ue[0],this,E))return Ja(ue[1],this,E)}})}function V2(s){return aA(zi(s,m))}function m_(s){return function(){return s}}function O2(s,c){return s==null||s!==s?c:s}var M2=i0(),B2=i0(!0);function fi(s){return s}function h_(s){return Bb(typeof s=="function"?s:zi(s,m))}function R2(s){return Fb(zi(s,m))}function F2(s,c){return $b(s,zi(c,m))}var $2=gn(function(s,c){return function(_){return zd(_,s,c)}}),L2=gn(function(s,c){return function(_){return zd(s,_,c)}});function v_(s,c,_){var E=cr(c),K=ym(c,E);_==null&&!(ba(c)&&(K.length||!E.length))&&(_=c,c=s,s=this,K=ym(c,cr(c)));var ue=!(ba(_)&&"chain"in _)||!!_.chain,Ce=Ms(s);return lr(K,function(qe){var Xe=c[qe];s[qe]=Xe,Ce&&(s.prototype[qe]=function(){var pt=this.__chain__;if(ue||pt){var gt=s(this.__wrapped__),Ct=gt.__actions__=ui(this.__actions__);return Ct.push({func:Xe,args:arguments,thisArg:s}),gt.__chain__=pt,gt}return Xe.apply(s,yi([this.value()],arguments))})}),s}function N2(){return Ma._===this&&(Ma._=Et),this}function p_(){}function q2(s){return s=hn(s),gn(function(c){return Lb(c,s)})}var U2=Yv(Gn),H2=Yv(Io),z2=Yv(bi);function aw(s){return e_(s)?Ps(Lo(s)):bA(s)}function W2(s){return function(c){return s==null?n:ku(s,c)}}var j2=s0(),Y2=s0(!0);function g_(){return[]}function y_(){return!1}function K2(){return{}}function G2(){return""}function Q2(){return!0}function X2(s,c){if(s=hn(s),s<1||s>Ee)return[];var _=ee,E=Or(s,ee);c=Kt(c),s-=ee;for(var K=Cl(E,c);++_<s;)c(_);return K}function J2(s){return dn(s)?Gn(s,Lo):ki(s)?[s]:ui(S0(Wn(s)))}function Z2(s){var c=++Re;return Wn(s)+c}var eM=xm(function(s,c){return s+c},0),tM=Kv("ceil"),nM=xm(function(s,c){return s/c},1),aM=Kv("floor");function rM(s){return s&&s.length?gm(s,fi,Ov):n}function iM(s,c){return s&&s.length?gm(s,Kt(c,2),Ov):n}function oM(s){return bc(s,fi)}function sM(s,c){return bc(s,Kt(c,2))}function lM(s){return s&&s.length?gm(s,fi,Fv):n}function uM(s,c){return s&&s.length?gm(s,Kt(c,2),Fv):n}var cM=xm(function(s,c){return s*c},1),dM=Kv("round"),fM=xm(function(s,c){return s-c},0);function mM(s){return s&&s.length?Sl(s,fi):0}function hM(s,c){return s&&s.length?Sl(s,Kt(c,2)):0}return oe.after=RV,oe.ary=M0,oe.assign=SO,oe.assignIn=K0,oe.assignInWith=$m,oe.assignWith=CO,oe.at=xO,oe.before=B0,oe.bind=o_,oe.bindAll=A2,oe.bindKey=R0,oe.castArray=KV,oe.chain=E0,oe.chunk=aE,oe.compact=rE,oe.concat=iE,oe.cond=E2,oe.conforms=V2,oe.constant=m_,oe.countBy=mV,oe.create=PO,oe.curry=F0,oe.curryRight=$0,oe.debounce=L0,oe.defaults=TO,oe.defaultsDeep=DO,oe.defer=FV,oe.delay=$V,oe.difference=oE,oe.differenceBy=sE,oe.differenceWith=lE,oe.drop=uE,oe.dropRight=cE,oe.dropRightWhile=dE,oe.dropWhile=fE,oe.fill=mE,oe.filter=vV,oe.flatMap=gV,oe.flatMapDeep=yV,oe.flatMapDepth=bV,oe.flatten=T0,oe.flattenDeep=hE,oe.flattenDepth=vE,oe.flip=LV,oe.flow=M2,oe.flowRight=B2,oe.fromPairs=_E,oe.functions=BO,oe.functionsIn=RO,oe.groupBy=wV,oe.initial=gE,oe.intersection=yE,oe.intersectionBy=bE,oe.intersectionWith=wE,oe.invert=$O,oe.invertBy=LO,oe.invokeMap=SV,oe.iteratee=h_,oe.keyBy=CV,oe.keys=cr,oe.keysIn=di,oe.map=Vm,oe.mapKeys=qO,oe.mapValues=UO,oe.matches=R2,oe.matchesProperty=F2,oe.memoize=Mm,oe.merge=HO,oe.mergeWith=G0,oe.method=$2,oe.methodOf=L2,oe.mixin=v_,oe.negate=Bm,oe.nthArg=q2,oe.omit=zO,oe.omitBy=WO,oe.once=NV,oe.orderBy=xV,oe.over=U2,oe.overArgs=qV,oe.overEvery=H2,oe.overSome=z2,oe.partial=s_,oe.partialRight=N0,oe.partition=PV,oe.pick=jO,oe.pickBy=Q0,oe.property=aw,oe.propertyOf=W2,oe.pull=xE,oe.pullAll=I0,oe.pullAllBy=PE,oe.pullAllWith=TE,oe.pullAt=DE,oe.range=j2,oe.rangeRight=Y2,oe.rearg=UV,oe.reject=IV,oe.remove=IE,oe.rest=HV,oe.reverse=r_,oe.sampleSize=EV,oe.set=KO,oe.setWith=GO,oe.shuffle=VV,oe.slice=AE,oe.sortBy=BV,oe.sortedUniq=FE,oe.sortedUniqBy=$E,oe.split=g2,oe.spread=zV,oe.tail=LE,oe.take=NE,oe.takeRight=qE,oe.takeRightWhile=UE,oe.takeWhile=HE,oe.tap=rV,oe.throttle=WV,oe.thru=Em,oe.toArray=W0,oe.toPairs=X0,oe.toPairsIn=J0,oe.toPath=J2,oe.toPlainObject=Y0,oe.transform=QO,oe.unary=jV,oe.union=zE,oe.unionBy=WE,oe.unionWith=jE,oe.uniq=YE,oe.uniqBy=KE,oe.uniqWith=GE,oe.unset=XO,oe.unzip=i_,oe.unzipWith=A0,oe.update=JO,oe.updateWith=ZO,oe.values=Mc,oe.valuesIn=e2,oe.without=QE,oe.words=tw,oe.wrap=YV,oe.xor=XE,oe.xorBy=JE,oe.xorWith=ZE,oe.zip=eV,oe.zipObject=tV,oe.zipObjectDeep=nV,oe.zipWith=aV,oe.entries=X0,oe.entriesIn=J0,oe.extend=K0,oe.extendWith=$m,v_(oe,oe),oe.add=eM,oe.attempt=nw,oe.camelCase=r2,oe.capitalize=Z0,oe.ceil=tM,oe.clamp=t2,oe.clone=GV,oe.cloneDeep=XV,oe.cloneDeepWith=JV,oe.cloneWith=QV,oe.conformsTo=ZV,oe.deburr=ew,oe.defaultTo=O2,oe.divide=nM,oe.endsWith=i2,oe.eq=ao,oe.escape=o2,oe.escapeRegExp=s2,oe.every=hV,oe.find=_V,oe.findIndex=x0,oe.findKey=IO,oe.findLast=pV,oe.findLastIndex=P0,oe.findLastKey=AO,oe.floor=aM,oe.forEach=V0,oe.forEachRight=O0,oe.forIn=EO,oe.forInRight=VO,oe.forOwn=OO,oe.forOwnRight=MO,oe.get=c_,oe.gt=eO,oe.gte=tO,oe.has=FO,oe.hasIn=d_,oe.head=D0,oe.identity=fi,oe.includes=kV,oe.indexOf=pE,oe.inRange=n2,oe.invoke=NO,oe.isArguments=xu,oe.isArray=dn,oe.isArrayBuffer=nO,oe.isArrayLike=ci,oe.isArrayLikeObject=Ba,oe.isBoolean=aO,oe.isBuffer=Al,oe.isDate=rO,oe.isElement=iO,oe.isEmpty=oO,oe.isEqual=sO,oe.isEqualWith=lO,oe.isError=l_,oe.isFinite=uO,oe.isFunction=Ms,oe.isInteger=q0,oe.isLength=Rm,oe.isMap=U0,oe.isMatch=cO,oe.isMatchWith=dO,oe.isNaN=fO,oe.isNative=mO,oe.isNil=vO,oe.isNull=hO,oe.isNumber=H0,oe.isObject=ba,oe.isObjectLike=Ta,oe.isPlainObject=Qd,oe.isRegExp=u_,oe.isSafeInteger=_O,oe.isSet=z0,oe.isString=Fm,oe.isSymbol=ki,oe.isTypedArray=Oc,oe.isUndefined=pO,oe.isWeakMap=gO,oe.isWeakSet=yO,oe.join=kE,oe.kebabCase=l2,oe.last=ji,oe.lastIndexOf=SE,oe.lowerCase=u2,oe.lowerFirst=c2,oe.lt=bO,oe.lte=wO,oe.max=rM,oe.maxBy=iM,oe.mean=oM,oe.meanBy=sM,oe.min=lM,oe.minBy=uM,oe.stubArray=g_,oe.stubFalse=y_,oe.stubObject=K2,oe.stubString=G2,oe.stubTrue=Q2,oe.multiply=cM,oe.nth=CE,oe.noConflict=N2,oe.noop=p_,oe.now=Om,oe.pad=d2,oe.padEnd=f2,oe.padStart=m2,oe.parseInt=h2,oe.random=a2,oe.reduce=TV,oe.reduceRight=DV,oe.repeat=v2,oe.replace=_2,oe.result=YO,oe.round=dM,oe.runInContext=J,oe.sample=AV,oe.size=OV,oe.snakeCase=p2,oe.some=MV,oe.sortedIndex=EE,oe.sortedIndexBy=VE,oe.sortedIndexOf=OE,oe.sortedLastIndex=ME,oe.sortedLastIndexBy=BE,oe.sortedLastIndexOf=RE,oe.startCase=y2,oe.startsWith=b2,oe.subtract=fM,oe.sum=mM,oe.sumBy=hM,oe.template=w2,oe.times=X2,oe.toFinite=Bs,oe.toInteger=hn,oe.toLength=j0,oe.toLower=k2,oe.toNumber=Yi,oe.toSafeInteger=kO,oe.toString=Wn,oe.toUpper=S2,oe.trim=C2,oe.trimEnd=x2,oe.trimStart=P2,oe.truncate=T2,oe.unescape=D2,oe.uniqueId=Z2,oe.upperCase=I2,oe.upperFirst=f_,oe.each=V0,oe.eachRight=O0,oe.first=D0,v_(oe,function(){var s={};return Fo(oe,function(c,_){we.call(oe.prototype,_)||(s[_]=c)}),s}(),{chain:!1}),oe.VERSION=a,lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){oe[s].placeholder=oe}),lr(["drop","take"],function(s,c){kn.prototype[s]=function(_){_=_===n?1:er(hn(_),0);var E=this.__filtered__&&!c?new kn(this):this.clone();return E.__filtered__?E.__takeCount__=Or(_,E.__takeCount__):E.__views__.push({size:Or(_,ee),type:s+(E.__dir__<0?"Right":"")}),E},kn.prototype[s+"Right"]=function(_){return this.reverse()[s](_).reverse()}}),lr(["filter","map","takeWhile"],function(s,c){var _=c+1,E=_==Z||_==ae;kn.prototype[s]=function(K){var ue=this.clone();return ue.__iteratees__.push({iteratee:Kt(K,3),type:_}),ue.__filtered__=ue.__filtered__||E,ue}}),lr(["head","last"],function(s,c){var _="take"+(c?"Right":"");kn.prototype[s]=function(){return this[_](1).value()[0]}}),lr(["initial","tail"],function(s,c){var _="drop"+(c?"":"Right");kn.prototype[s]=function(){return this.__filtered__?new kn(this):this[_](1)}}),kn.prototype.compact=function(){return this.filter(fi)},kn.prototype.find=function(s){return this.filter(s).head()},kn.prototype.findLast=function(s){return this.reverse().find(s)},kn.prototype.invokeMap=gn(function(s,c){return typeof s=="function"?new kn(this):this.map(function(_){return zd(_,s,c)})}),kn.prototype.reject=function(s){return this.filter(Bm(Kt(s)))},kn.prototype.slice=function(s,c){s=hn(s);var _=this;return _.__filtered__&&(s>0||c<0)?new kn(_):(s<0?_=_.takeRight(-s):s&&(_=_.drop(s)),c!==n&&(c=hn(c),_=c<0?_.dropRight(-c):_.take(c-s)),_)},kn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},kn.prototype.toArray=function(){return this.take(ee)},Fo(kn.prototype,function(s,c){var _=/^(?:filter|find|map|reject)|While$/.test(c),E=/^(?:head|last)$/.test(c),K=oe[E?"take"+(c=="last"?"Right":""):c],ue=E||/^find/.test(c);K&&(oe.prototype[c]=function(){var Ce=this.__wrapped__,qe=E?[1]:arguments,Xe=Ce instanceof kn,pt=qe[0],gt=Xe||dn(Ce),Ct=function(bn){var Dn=K.apply(oe,yi([bn],qe));return E&&Rt?Dn[0]:Dn};gt&&_&&typeof pt=="function"&&pt.length!=1&&(Xe=gt=!1);var Rt=this.__chain__,Wt=!!this.__actions__.length,Zt=ue&&!Rt,vn=Xe&&!Wt;if(!ue&&gt){Ce=vn?Ce:new kn(this);var en=s.apply(Ce,qe);return en.__actions__.push({func:Em,args:[Ct],thisArg:n}),new Hi(en,Rt)}return Zt&&vn?s.apply(this,qe):(en=this.thru(Ct),Zt?E?en.value()[0]:en.value():en)})}),lr(["pop","push","shift","sort","splice","unshift"],function(s){var c=T[s],_=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",E=/^(?:pop|shift)$/.test(s);oe.prototype[s]=function(){var K=arguments;if(E&&!this.__chain__){var ue=this.value();return c.apply(dn(ue)?ue:[],K)}return this[_](function(Ce){return c.apply(dn(Ce)?Ce:[],K)})}}),Fo(kn.prototype,function(s,c){var _=oe[c];if(_){var E=_.name+"";we.call(Dc,E)||(Dc[E]=[]),Dc[E].push({name:c,func:_})}}),Dc[Cm(n,C).name]=[{name:"wrapper",func:n}],kn.prototype.clone=DI,kn.prototype.reverse=II,kn.prototype.value=AI,oe.prototype.at=iV,oe.prototype.chain=oV,oe.prototype.commit=sV,oe.prototype.next=lV,oe.prototype.plant=cV,oe.prototype.reverse=dV,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=fV,oe.prototype.first=oe.prototype.head,qi&&(oe.prototype[qi]=uV),oe},Ue=xe();gi?((gi.exports=Ue)._=Ue,cu._=Ue):Ma._=Ue}).call(Qj)}(lf,lf.exports)),lf.exports}var Jj=Xj();const Uc=NC(Jj);var $D=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},yk=(e,t,n)=>($D(e,t,"read from private field"),n?n.call(e):t.get(e)),Zj=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},eY=(e,t,n,a)=>($D(e,t,"write to private field"),t.set(e,n),n);const LD=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],tY=[...LD,["unknown"]].map(e=>e[0]),uh=new Map(LD);function nY(e){for(const[t,n]of uh)if(e===n)return t;return"unknown"}function aY(e){if(ND(e))return{width:e.naturalWidth,height:e.naturalHeight};if(qD(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(UD(e))return{width:e.videoWidth,height:e.videoHeight};if(zD(e))return{width:e.width,height:e.height};if(jD(e))return{width:e.displayWidth,height:e.displayHeight};if(HD(e))return{width:e.width,height:e.height};if(WD(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function ND(e){try{return e instanceof HTMLImageElement}catch{return!1}}function qD(e){try{return e instanceof SVGImageElement}catch{return!1}}function UD(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function HD(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function zD(e){try{return e instanceof ImageBitmap}catch{return!1}}function WD(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function jD(e){try{return e instanceof VideoFrame}catch{return!1}}function YD(e){try{return e instanceof Blob}catch{return!1}}function rY(e){try{return e instanceof ImageData}catch{return!1}}function iY(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const a=document.createElement("canvas");return a.width=e,a.height=t,a}}async function KD(e){if(ND(e)&&!await uY(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(qD(e)&&!await cY(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(jD(e)&&dY(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(UD(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(zD(e)&&mY(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=aY(e);if(t===0||n===0)return null;const a=iY(t,n).getContext("2d");a.drawImage(e,0,0);try{return a.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function oY(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await KD(t)}function sY(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const a=e.getContext("2d");try{return a.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function lY(e){if(YD(e))return await oY(e);if(rY(e)){if(fY(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return HD(e)||WD(e)?sY(e):await KD(e)}async function uY(e){try{return await e.decode(),!0}catch{return!1}}async function cY(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function dY(e){return e.format===null}function fY(e){return e.data.buffer.byteLength===0}function mY(e){return e.width===0&&e.height===0}function bk(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const wk=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function hY(e){return e.join("|")}function vY(e){const t=kk(e);let n=0,a=wk.length-1;for(;n<=a;){const r=Math.floor((n+a)/2),i=wk[r],o=kk(i);if(o===t)return i;o<t?n=r+1:a=r-1}return"None"}function kk(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function _Y(e,t){return e.Binarizer[t]}function pY(e,t){return e.CharacterSet[t]}const gY=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function yY(e){return gY[e.value]}function bY(e,t){return e.EanAddOnSymbol[t]}function wY(e,t){return e.TextMode[t]}const bd={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function GD(e,t){return{...t,formats:hY(t.formats),binarizer:_Y(e,t.binarizer),eanAddOnSymbol:bY(e,t.eanAddOnSymbol),textMode:wY(e,t.textMode),characterSet:pY(e,t.characterSet)}}function QD(e){return{...e,format:vY(e.format),eccLevel:e.eccLevel,contentType:yY(e.contentType)}}const kY={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${n[1]}/${e}`:t+e}};let Sk=new WeakMap;function yb(e,t){var n;const a=Sk.get(e);if(a!=null&&a.modulePromise&&t===void 0)return a.modulePromise;const r=(n=a==null?void 0:a.moduleOverrides)!=null?n:kY,i=e({...r});return Sk.set(e,{moduleOverrides:r,modulePromise:i}),i}async function SY(e,t,n=bd){const a={...bd,...n},r=await yb(e),{size:i}=t,o=new Uint8Array(await t.arrayBuffer()),l=r._malloc(i);r.HEAPU8.set(o,l);const u=r.readBarcodesFromImage(l,i,GD(r,a));r._free(l);const f=[];for(let d=0;d<u.size();++d)f.push(QD(u.get(d)));return f}async function CY(e,t,n=bd){const a={...bd,...n},r=await yb(e),{data:i,width:o,height:l,data:{byteLength:u}}=t,f=r._malloc(u);r.HEAPU8.set(i,f);const d=r.readBarcodesFromPixmap(f,o,l,GD(r,a));r._free(f);const m=[];for(let p=0;p<d.size();++p)m.push(QD(d.get(p)));return m}({...bd,formats:[...bd.formats]});var bb=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var n=t,a,r;n.ready=new Promise((x,T)=>{a=x,r=T});var i=Object.assign({},n),o="./this.program",l=typeof window=="object",u=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var f="";function d(x){return n.locateFile?n.locateFile(x,f):f+x}var m;(l||u)&&(u?f=self.location.href:typeof document<"u"&&document.currentScript&&(f=document.currentScript.src),e&&(f=e),f.indexOf("blob:")!==0?f=f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):f="",u&&(m=x=>{var T=new XMLHttpRequest;return T.open("GET",x,!1),T.responseType="arraybuffer",T.send(null),new Uint8Array(T.response)})),n.print||console.log.bind(console);var p=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,n.arguments&&n.arguments,n.thisProgram&&(o=n.thisProgram),n.quit&&n.quit;var g;n.wasmBinary&&(g=n.wasmBinary),typeof WebAssembly!="object"&&ge("no native wasm support detected");var y,S=!1,k,C,w,I,V,O,U,Y;function H(){var x=y.buffer;n.HEAP8=k=new Int8Array(x),n.HEAP16=w=new Int16Array(x),n.HEAPU8=C=new Uint8Array(x),n.HEAPU16=I=new Uint16Array(x),n.HEAP32=V=new Int32Array(x),n.HEAPU32=O=new Uint32Array(x),n.HEAPF32=U=new Float32Array(x),n.HEAPF64=Y=new Float64Array(x)}var B=[],j=[],G=[];function F(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)le(n.preRun.shift());Be(B)}function ce(){Be(j)}function Z(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)_e(n.postRun.shift());Be(G)}function le(x){B.unshift(x)}function ae(x){j.unshift(x)}function _e(x){G.unshift(x)}var Ee=0,$e=null;function re(x){var T;Ee++,(T=n.monitorRunDependencies)===null||T===void 0||T.call(n,Ee)}function ee(x){var T;if(Ee--,(T=n.monitorRunDependencies)===null||T===void 0||T.call(n,Ee),Ee==0&&$e){var q=$e;$e=null,q()}}function ge(x){var T;(T=n.onAbort)===null||T===void 0||T.call(n,x),x="Aborted("+x+")",p(x),S=!0,x+=". Build with -sASSERTIONS for more info.";var q=new WebAssembly.RuntimeError(x);throw r(q),q}var se="data:application/octet-stream;base64,",ye=x=>x.startsWith(se),Me;Me="zxing_reader.wasm",ye(Me)||(Me=d(Me));function De(x){if(x==Me&&g)return new Uint8Array(g);if(m)return m(x);throw"both async and sync fetching of the wasm failed"}function R(x){return!g&&(l||u)&&typeof fetch=="function"?fetch(x,{credentials:"same-origin"}).then(T=>{if(!T.ok)throw"failed to load wasm binary file at '"+x+"'";return T.arrayBuffer()}).catch(()=>De(x)):Promise.resolve().then(()=>De(x))}function Oe(x,T,q){return R(x).then(X=>WebAssembly.instantiate(X,T)).then(X=>X).then(q,X=>{p(`failed to asynchronously prepare wasm: ${X}`),ge(X)})}function He(x,T,q,X){return!x&&typeof WebAssembly.instantiateStreaming=="function"&&!ye(T)&&typeof fetch=="function"?fetch(T,{credentials:"same-origin"}).then(me=>{var be=WebAssembly.instantiateStreaming(me,q);return be.then(X,function(we){return p(`wasm streaming compile failed: ${we}`),p("falling back to ArrayBuffer instantiation"),Oe(T,q,X)})}):Oe(T,q,X)}function at(){var x={a:Oo};function T(X,me){return ta=X.exports,y=ta.ia,H(),Co=ta.ma,ae(ta.ja),ee(),ta}re();function q(X){T(X.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(x,T)}catch(X){p(`Module.instantiateWasm callback failed with error: ${X}`),r(X)}return He(g,Me,x,q).catch(r),{}}var Be=x=>{for(;x.length>0;)x.shift()(n)};n.noExitRuntime;var N=[],Q=0,pe=x=>{var T=new Ie(x);return T.get_caught()||(T.set_caught(!0),Q--),T.set_rethrown(!1),N.push(T),xc(T.excPtr),T.get_exception_ptr()},W=0,Ve=()=>{zn(0,0);var x=N.pop();br(x.excPtr),W=0};function Ie(x){this.excPtr=x,this.ptr=x-24,this.set_type=function(T){O[this.ptr+4>>2]=T},this.get_type=function(){return O[this.ptr+4>>2]},this.set_destructor=function(T){O[this.ptr+8>>2]=T},this.get_destructor=function(){return O[this.ptr+8>>2]},this.set_caught=function(T){T=T?1:0,k[this.ptr+12>>0]=T},this.get_caught=function(){return k[this.ptr+12>>0]!=0},this.set_rethrown=function(T){T=T?1:0,k[this.ptr+13>>0]=T},this.get_rethrown=function(){return k[this.ptr+13>>0]!=0},this.init=function(T,q){this.set_adjusted_ptr(0),this.set_type(T),this.set_destructor(q)},this.set_adjusted_ptr=function(T){O[this.ptr+16>>2]=T},this.get_adjusted_ptr=function(){return O[this.ptr+16>>2]},this.get_exception_ptr=function(){var T=xl(this.get_type());if(T)return O[this.excPtr>>2];var q=this.get_adjusted_ptr();return q!==0?q:this.excPtr}}var We=x=>{throw W||(W=x),W},Qe=x=>{var T=W;if(!T)return yr(0),0;var q=new Ie(T);q.set_adjusted_ptr(T);var X=q.get_type();if(!X)return yr(0),T;for(var me in x){var be=x[me];if(be===0||be===X)break;var we=q.ptr+16;if(Mo(be,X,we))return yr(be),T}return yr(X),T},st=()=>Qe([]),tt=x=>Qe([x]),Tt=(x,T)=>Qe([x,T]),ke=()=>{var x=N.pop();x||ge("no exception to throw");var T=x.excPtr;throw x.get_rethrown()||(N.push(x),x.set_rethrown(!0),x.set_caught(!1),Q++),W=T,W},ut=(x,T,q)=>{var X=new Ie(x);throw X.init(T,q),W=x,Q++,W},Dt=()=>Q,Nt={},jt=x=>{for(;x.length;){var T=x.pop(),q=x.pop();q(T)}};function xt(x){return this.fromWireType(V[x>>2])}var Jt={},mn={},Zn={},Un,ya=x=>{throw new Un(x)},xa=(x,T,q)=>{x.forEach(function(Re){Zn[Re]=T});function X(Re){var Je=q(Re);Je.length!==x.length&&ya("Mismatched type converter count");for(var mt=0;mt<x.length;++mt)At(x[mt],Je[mt])}var me=new Array(T.length),be=[],we=0;T.forEach((Re,Je)=>{mn.hasOwnProperty(Re)?me[Je]=mn[Re]:(be.push(Re),Jt.hasOwnProperty(Re)||(Jt[Re]=[]),Jt[Re].push(()=>{me[Je]=mn[Re],++we,we===be.length&&X(me)}))}),be.length===0&&X(me)},Rn=x=>{var T=Nt[x];delete Nt[x];var q=T.rawConstructor,X=T.rawDestructor,me=T.fields,be=me.map(we=>we.getterReturnType).concat(me.map(we=>we.setterArgumentType));xa([x],be,we=>{var Re={};return me.forEach((Je,mt)=>{var wt=Je.fieldName,Et=we[mt],zt=Je.getter,It=Je.getterContext,tn=we[mt+me.length],un=Je.setter,Tn=Je.setterContext;Re[wt]={read:pn=>Et.fromWireType(zt(It,pn)),write:(pn,St)=>{var Ht=[];un(Tn,pn,tn.toWireType(Ht,St)),jt(Ht)}}}),[{name:T.name,fromWireType:Je=>{var mt={};for(var wt in Re)mt[wt]=Re[wt].read(Je);return X(Je),mt},toWireType:(Je,mt)=>{for(var wt in Re)if(!(wt in mt))throw new TypeError(`Missing field: "${wt}"`);var Et=q();for(wt in Re)Re[wt].write(Et,mt[wt]);return Je!==null&&Je.push(X,Et),Et},argPackAdvance:Ft,readValueFromPointer:xt,destructorFunction:X}]})},Mt=(x,T,q,X,me)=>{},ir=()=>{for(var x=new Array(256),T=0;T<256;++T)x[T]=String.fromCharCode(T);et=x},et,bt=x=>{for(var T="",q=x;C[q];)T+=et[C[q++]];return T},ft,Bt=x=>{throw new ft(x)};function _t(x,T){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var X=T.name;if(x||Bt(`type "${X}" must have a positive integer typeid pointer`),mn.hasOwnProperty(x)){if(q.ignoreDuplicateRegistrations)return;Bt(`Cannot register type '${X}' twice`)}if(mn[x]=T,delete Zn[x],Jt.hasOwnProperty(x)){var me=Jt[x];delete Jt[x],me.forEach(be=>be())}}function At(x,T){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in T))throw new TypeError("registerType registeredInstance requires argPackAdvance");return _t(x,T,q)}var Ft=8,pr=(x,T,q,X)=>{T=bt(T),At(x,{name:T,fromWireType:function(me){return!!me},toWireType:function(me,be){return be?q:X},argPackAdvance:Ft,readValueFromPointer:function(me){return this.fromWireType(C[me])},destructorFunction:null})},Ir=x=>({count:x.count,deleteScheduled:x.deleteScheduled,preservePointerOnDelete:x.preservePointerOnDelete,ptr:x.ptr,ptrType:x.ptrType,smartPtr:x.smartPtr,smartPtrType:x.smartPtrType}),Ar=x=>{function T(q){return q.$$.ptrType.registeredClass.name}Bt(T(x)+" instance already deleted")},Oa=!1,zr=x=>{},us=x=>{x.smartPtr?x.smartPtrType.rawDestructor(x.smartPtr):x.ptrType.registeredClass.rawDestructor(x.ptr)},eo=x=>{x.count.value-=1;var T=x.count.value===0;T&&us(x)},Kn=(x,T,q)=>{if(T===q)return x;if(q.baseClass===void 0)return null;var X=Kn(x,T,q.baseClass);return X===null?null:q.downcast(X)},la={},Vd=()=>Object.keys(Er).length,ll=()=>{var x=[];for(var T in Er)Er.hasOwnProperty(T)&&x.push(Er[T]);return x},Oi=[],go=()=>{for(;Oi.length;){var x=Oi.pop();x.$$.deleteScheduled=!1,x.delete()}},cs,Mi=x=>{cs=x,Oi.length&&cs&&cs(go)},yo=()=>{n.getInheritedInstanceCount=Vd,n.getLiveInheritedInstances=ll,n.flushPendingDeletes=go,n.setDelayFunction=Mi},Er={},ds=(x,T)=>{for(T===void 0&&Bt("ptr should not be undefined");x.baseClass;)T=x.upcast(T),x=x.baseClass;return T},Od=(x,T)=>(T=ds(x,T),Er[T]),Wr=(x,T)=>{(!T.ptrType||!T.ptr)&&ya("makeClassHandle requires ptr and ptrType");var q=!!T.smartPtrType,X=!!T.smartPtr;return q!==X&&ya("Both smartPtrType and smartPtr must be specified"),T.count={value:1},jr(Object.create(x,{$$:{value:T,writable:!0}}))};function fc(x){var T=this.getPointee(x);if(!T)return this.destructor(x),null;var q=Od(this.registeredClass,T);if(q!==void 0){if(q.$$.count.value===0)return q.$$.ptr=T,q.$$.smartPtr=x,q.clone();var X=q.clone();return this.destructor(x),X}function me(){return this.isSmartPointer?Wr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:T,smartPtrType:this,smartPtr:x}):Wr(this.registeredClass.instancePrototype,{ptrType:this,ptr:x})}var be=this.registeredClass.getActualType(T),we=la[be];if(!we)return me.call(this);var Re;this.isConst?Re=we.constPointerType:Re=we.pointerType;var Je=Kn(T,this.registeredClass,Re.registeredClass);return Je===null?me.call(this):this.isSmartPointer?Wr(Re.registeredClass.instancePrototype,{ptrType:Re,ptr:Je,smartPtrType:this,smartPtr:x}):Wr(Re.registeredClass.instancePrototype,{ptrType:Re,ptr:Je})}var jr=x=>typeof FinalizationRegistry>"u"?(jr=T=>T,x):(Oa=new FinalizationRegistry(T=>{eo(T.$$)}),jr=T=>{var q=T.$$,X=!!q.smartPtr;if(X){var me={$$:q};Oa.register(T,me,T)}return T},zr=T=>Oa.unregister(T),jr(x)),mc=()=>{Object.assign(bo.prototype,{isAliasOf(x){if(!(this instanceof bo)||!(x instanceof bo))return!1;var T=this.$$.ptrType.registeredClass,q=this.$$.ptr;x.$$=x.$$;for(var X=x.$$.ptrType.registeredClass,me=x.$$.ptr;T.baseClass;)q=T.upcast(q),T=T.baseClass;for(;X.baseClass;)me=X.upcast(me),X=X.baseClass;return T===X&&q===me},clone(){if(this.$$.ptr||Ar(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var x=jr(Object.create(Object.getPrototypeOf(this),{$$:{value:Ir(this.$$)}}));return x.$$.count.value+=1,x.$$.deleteScheduled=!1,x},delete(){this.$$.ptr||Ar(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Bt("Object already scheduled for deletion"),zr(this),eo(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ar(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Bt("Object already scheduled for deletion"),Oi.push(this),Oi.length===1&&cs&&cs(go),this.$$.deleteScheduled=!0,this}})};function bo(){}var Fn=(x,T)=>Object.defineProperty(T,"name",{value:x}),Bi=(x,T,q)=>{if(x[T].overloadTable===void 0){var X=x[T];x[T]=function(){return x[T].overloadTable.hasOwnProperty(arguments.length)||Bt(`Function '${q}' called with an invalid number of arguments (${arguments.length}) - expects one of (${x[T].overloadTable})!`),x[T].overloadTable[arguments.length].apply(this,arguments)},x[T].overloadTable=[],x[T].overloadTable[X.argCount]=X}},or=(x,T,q)=>{n.hasOwnProperty(x)?((q===void 0||n[x].overloadTable!==void 0&&n[x].overloadTable[q]!==void 0)&&Bt(`Cannot register public name '${x}' twice`),Bi(n,x,x),n.hasOwnProperty(q)&&Bt(`Cannot register multiple overloads of a function with the same number of arguments (${q})!`),n[x].overloadTable[q]=T):(n[x]=T,q!==void 0&&(n[x].numArguments=q))},hc=48,wo=57,ul=x=>{if(x===void 0)return"_unknown";x=x.replace(/[^a-zA-Z0-9_]/g,"$");var T=x.charCodeAt(0);return T>=hc&&T<=wo?`_${x}`:x};function cl(x,T,q,X,me,be,we,Re){this.name=x,this.constructor=T,this.instancePrototype=q,this.rawDestructor=X,this.baseClass=me,this.getActualType=be,this.upcast=we,this.downcast=Re,this.pureVirtualFunctions=[]}var ko=(x,T,q)=>{for(;T!==q;)T.upcast||Bt(`Expected null or instance of ${q.name}, got an instance of ${T.name}`),x=T.upcast(x),T=T.baseClass;return x};function Ri(x,T){if(T===null)return this.isReference&&Bt(`null is not a valid ${this.name}`),0;T.$$||Bt(`Cannot pass "${ps(T)}" as a ${this.name}`),T.$$.ptr||Bt(`Cannot pass deleted object as a pointer of type ${this.name}`);var q=T.$$.ptrType.registeredClass,X=ko(T.$$.ptr,q,this.registeredClass);return X}function vc(x,T){var q;if(T===null)return this.isReference&&Bt(`null is not a valid ${this.name}`),this.isSmartPointer?(q=this.rawConstructor(),x!==null&&x.push(this.rawDestructor,q),q):0;(!T||!T.$$)&&Bt(`Cannot pass "${ps(T)}" as a ${this.name}`),T.$$.ptr||Bt(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&T.$$.ptrType.isConst&&Bt(`Cannot convert argument of type ${T.$$.smartPtrType?T.$$.smartPtrType.name:T.$$.ptrType.name} to parameter type ${this.name}`);var X=T.$$.ptrType.registeredClass;if(q=ko(T.$$.ptr,X,this.registeredClass),this.isSmartPointer)switch(T.$$.smartPtr===void 0&&Bt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:T.$$.smartPtrType===this?q=T.$$.smartPtr:Bt(`Cannot convert argument of type ${T.$$.smartPtrType?T.$$.smartPtrType.name:T.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:q=T.$$.smartPtr;break;case 2:if(T.$$.smartPtrType===this)q=T.$$.smartPtr;else{var me=T.clone();q=this.rawShare(q,Hn.toHandle(()=>me.delete())),x!==null&&x.push(this.rawDestructor,q)}break;default:Bt("Unsupporting sharing policy")}return q}function dl(x,T){if(T===null)return this.isReference&&Bt(`null is not a valid ${this.name}`),0;T.$$||Bt(`Cannot pass "${ps(T)}" as a ${this.name}`),T.$$.ptr||Bt(`Cannot pass deleted object as a pointer of type ${this.name}`),T.$$.ptrType.isConst&&Bt(`Cannot convert argument of type ${T.$$.ptrType.name} to parameter type ${this.name}`);var q=T.$$.ptrType.registeredClass,X=ko(T.$$.ptr,q,this.registeredClass);return X}function ru(x){return this.fromWireType(O[x>>2])}var _n=()=>{Object.assign(So.prototype,{getPointee(x){return this.rawGetPointee&&(x=this.rawGetPointee(x)),x},destructor(x){var T;(T=this.rawDestructor)===null||T===void 0||T.call(this,x)},argPackAdvance:Ft,readValueFromPointer:ru,deleteObject(x){x!==null&&x.delete()},fromWireType:fc})};function So(x,T,q,X,me,be,we,Re,Je,mt,wt){this.name=x,this.registeredClass=T,this.isReference=q,this.isConst=X,this.isSmartPointer=me,this.pointeeType=be,this.sharingPolicy=we,this.rawGetPointee=Re,this.rawConstructor=Je,this.rawShare=mt,this.rawDestructor=wt,!me&&T.baseClass===void 0?X?(this.toWireType=Ri,this.destructorFunction=null):(this.toWireType=dl,this.destructorFunction=null):this.toWireType=vc}var fl=(x,T,q)=>{n.hasOwnProperty(x)||ya("Replacing nonexistant public symbol"),n[x].overloadTable!==void 0&&q!==void 0?n[x].overloadTable[q]=T:(n[x]=T,n[x].argCount=q)},iu=(x,T,q)=>{var X=n["dynCall_"+x];return q&&q.length?X.apply(null,[T].concat(q)):X.call(null,T)},An=[],Co,Ln=x=>{var T=An[x];return T||(x>=An.length&&(An.length=x+1),An[x]=T=Co.get(x)),T},pi=(x,T,q)=>{if(x.includes("j"))return iu(x,T,q);var X=Ln(T).apply(null,q);return X},ml=(x,T)=>{var q=[];return function(){return q.length=0,Object.assign(q,arguments),pi(x,T,q)}},gr=(x,T)=>{x=bt(x);function q(){return x.includes("j")?ml(x,T):Ln(T)}var X=q();return typeof X!="function"&&Bt(`unknown function pointer with signature ${x}: ${T}`),X},fs=(x,T)=>{var q=Fn(T,function(X){this.name=T,this.message=X;var me=new Error(X).stack;me!==void 0&&(this.stack=this.toString()+`
`+me.replace(/^Error(:[^\n]*)?\n/,""))});return q.prototype=Object.create(x.prototype),q.prototype.constructor=q,q.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},q},hl,to=x=>{var T=Cc(x),q=bt(T);return li(T),q},ms=(x,T)=>{var q=[],X={};function me(be){if(!X[be]&&!mn[be]){if(Zn[be]){Zn[be].forEach(me);return}q.push(be),X[be]=!0}}throw T.forEach(me),new hl(`${x}: `+q.map(to).join([", "]))},xo=(x,T,q,X,me,be,we,Re,Je,mt,wt,Et,zt)=>{wt=bt(wt),be=gr(me,be),Re&&(Re=gr(we,Re)),mt&&(mt=gr(Je,mt)),zt=gr(Et,zt);var It=ul(wt);or(It,function(){ms(`Cannot construct ${wt} due to unbound types`,[X])}),xa([x,T,q],X?[X]:[],function(tn){tn=tn[0];var un,Tn;X?(un=tn.registeredClass,Tn=un.instancePrototype):Tn=bo.prototype;var pn=Fn(wt,function(){if(Object.getPrototypeOf(this)!==St)throw new ft("Use 'new' to construct "+wt);if(Ht.constructor_body===void 0)throw new ft(wt+" has no accessible constructor");var cm=Ht.constructor_body[arguments.length];if(cm===void 0)throw new ft(`Tried to invoke ctor of ${wt} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(Ht.constructor_body).toString()}) parameters instead!`);return cm.apply(this,arguments)}),St=Object.create(Tn,{constructor:{value:pn}});pn.prototype=St;var Ht=new cl(wt,pn,St,zt,un,be,Re,mt);if(Ht.baseClass){var na,Pa;(Pa=(na=Ht.baseClass).__derivedClasses)!==null&&Pa!==void 0||(na.__derivedClasses=[]),Ht.baseClass.__derivedClasses.push(Ht)}var qi=new So(wt,Ht,!0,!1,!1),Ui=new So(wt+"*",Ht,!1,!1,!1),gu=new So(wt+" const*",Ht,!1,!0,!1);return la[x]={pointerType:Ui,constPointerType:gu},fl(It,pn),[qi,Ui,gu]})},Po=(x,T)=>{for(var q=[],X=0;X<x;X++)q.push(O[T+X*4>>2]);return q};function ou(x){for(var T=1;T<x.length;++T)if(x[T]!==null&&x[T].destructorFunction===void 0)return!0;return!1}function cn(x,T,q,X,me,be){var we=T.length;we<2&&Bt("argTypes array size mismatch! Must at least get return value and 'this' types!");var Re=T[1]!==null&&q!==null,Je=ou(T),mt=T[0].name!=="void",wt=we-2,Et=new Array(wt),zt=[],It=[],tn=function(){arguments.length!==wt&&Bt(`function ${x} called with ${arguments.length} arguments, expected ${wt}`),It.length=0;var un;zt.length=Re?2:1,zt[0]=me,Re&&(un=T[1].toWireType(It,this),zt[1]=un);for(var Tn=0;Tn<wt;++Tn)Et[Tn]=T[Tn+2].toWireType(It,arguments[Tn]),zt.push(Et[Tn]);var pn=X.apply(null,zt);function St(Ht){if(Je)jt(It);else for(var na=Re?1:2;na<T.length;na++){var Pa=na===1?un:Et[na-2];T[na].destructorFunction!==null&&T[na].destructorFunction(Pa)}if(mt)return T[0].fromWireType(Ht)}return St(pn)};return Fn(x,tn)}var vl=(x,T,q,X,me,be)=>{var we=Po(T,q);me=gr(X,me),xa([],[x],function(Re){Re=Re[0];var Je=`constructor ${Re.name}`;if(Re.registeredClass.constructor_body===void 0&&(Re.registeredClass.constructor_body=[]),Re.registeredClass.constructor_body[T-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${T-1}) for class '${Re.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Re.registeredClass.constructor_body[T-1]=()=>{ms(`Cannot construct ${Re.name} due to unbound types`,we)},xa([],we,mt=>(mt.splice(1,0,null),Re.registeredClass.constructor_body[T-1]=cn(Je,mt,null,me,be),[])),[]})},su=x=>{x=x.trim();const T=x.indexOf("(");return T!==-1?x.substr(0,T):x},Md=(x,T,q,X,me,be,we,Re,Je)=>{var mt=Po(q,X);T=bt(T),T=su(T),be=gr(me,be),xa([],[x],function(wt){wt=wt[0];var Et=`${wt.name}.${T}`;T.startsWith("@@")&&(T=Symbol[T.substring(2)]),Re&&wt.registeredClass.pureVirtualFunctions.push(T);function zt(){ms(`Cannot call ${Et} due to unbound types`,mt)}var It=wt.registeredClass.instancePrototype,tn=It[T];return tn===void 0||tn.overloadTable===void 0&&tn.className!==wt.name&&tn.argCount===q-2?(zt.argCount=q-2,zt.className=wt.name,It[T]=zt):(Bi(It,T,Et),It[T].overloadTable[q-2]=zt),xa([],mt,function(un){var Tn=cn(Et,un,wt,be,we);return It[T].overloadTable===void 0?(Tn.argCount=q-2,It[T]=Tn):It[T].overloadTable[q-2]=Tn,[]}),[]})};function sr(){Object.assign(Fi.prototype,{get(x){return this.allocated[x]},has(x){return this.allocated[x]!==void 0},allocate(x){var T=this.freelist.pop()||this.allocated.length;return this.allocated[T]=x,T},free(x){this.allocated[x]=void 0,this.freelist.push(x)}})}function Fi(){this.allocated=[void 0],this.freelist=[]}var Wa=new Fi,Yr=x=>{x>=Wa.reserved&&--Wa.get(x).refcount===0&&Wa.free(x)},_c=()=>{for(var x=0,T=Wa.reserved;T<Wa.allocated.length;++T)Wa.allocated[T]!==void 0&&++x;return x},pc=()=>{Wa.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Wa.reserved=Wa.allocated.length,n.count_emval_handles=_c},Hn={toValue:x=>(x||Bt("Cannot use deleted val. handle = "+x),Wa.get(x).value),toHandle:x=>{switch(x){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Wa.allocate({refcount:1,value:x})}}},Kr=(x,T)=>{T=bt(T),At(x,{name:T,fromWireType:q=>{var X=Hn.toValue(q);return Yr(q),X},toWireType:(q,X)=>Hn.toHandle(X),argPackAdvance:Ft,readValueFromPointer:xt,destructorFunction:null})},hs=(x,T,q)=>{switch(T){case 1:return q?function(X){return this.fromWireType(k[X>>0])}:function(X){return this.fromWireType(C[X>>0])};case 2:return q?function(X){return this.fromWireType(w[X>>1])}:function(X){return this.fromWireType(I[X>>1])};case 4:return q?function(X){return this.fromWireType(V[X>>2])}:function(X){return this.fromWireType(O[X>>2])};default:throw new TypeError(`invalid integer width (${T}): ${x}`)}},vs=(x,T,q,X)=>{T=bt(T);function me(){}me.values={},At(x,{name:T,constructor:me,fromWireType:function(be){return this.constructor.values[be]},toWireType:(be,we)=>we.value,argPackAdvance:Ft,readValueFromPointer:hs(T,q,X),destructorFunction:null}),or(T,me)},_s=(x,T)=>{var q=mn[x];return q===void 0&&Bt(T+" has unknown type "+to(x)),q},$i=(x,T,q)=>{var X=_s(x,"enum");T=bt(T);var me=X.constructor,be=Object.create(X.constructor.prototype,{value:{value:q},constructor:{value:Fn(`${X.name}_${T}`,function(){})}});me.values[q]=be,me[T]=be},ps=x=>{if(x===null)return"null";var T=typeof x;return T==="object"||T==="array"||T==="function"?x.toString():""+x},oi=(x,T)=>{switch(T){case 4:return function(q){return this.fromWireType(U[q>>2])};case 8:return function(q){return this.fromWireType(Y[q>>3])};default:throw new TypeError(`invalid float width (${T}): ${x}`)}},lu=(x,T,q)=>{T=bt(T),At(x,{name:T,fromWireType:X=>X,toWireType:(X,me)=>me,argPackAdvance:Ft,readValueFromPointer:oi(T,q),destructorFunction:null})},gc=(x,T,q,X,me,be,we)=>{var Re=Po(T,q);x=bt(x),x=su(x),me=gr(X,me),or(x,function(){ms(`Cannot call ${x} due to unbound types`,Re)},T-1),xa([],Re,function(Je){var mt=[Je[0],null].concat(Je.slice(1));return fl(x,cn(x,mt,null,me,be),T-1),[]})},uu=(x,T,q)=>{switch(T){case 1:return q?X=>k[X>>0]:X=>C[X>>0];case 2:return q?X=>w[X>>1]:X=>I[X>>1];case 4:return q?X=>V[X>>2]:X=>O[X>>2];default:throw new TypeError(`invalid integer width (${T}): ${x}`)}},gs=(x,T,q,X,me)=>{T=bt(T);var be=wt=>wt;if(X===0){var we=32-8*q;be=wt=>wt<<we>>>we}var Re=T.includes("unsigned"),Je=(wt,Et)=>{},mt;Re?mt=function(wt,Et){return Je(Et,this.name),Et>>>0}:mt=function(wt,Et){return Je(Et,this.name),Et},At(x,{name:T,fromWireType:be,toWireType:mt,argPackAdvance:Ft,readValueFromPointer:uu(T,q,X!==0),destructorFunction:null})},Nn=(x,T,q)=>{var X=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],me=X[T];function be(we){var Re=O[we>>2],Je=O[we+4>>2];return new me(k.buffer,Je,Re)}q=bt(q),At(x,{name:q,fromWireType:be,argPackAdvance:Ft,readValueFromPointer:be},{ignoreDuplicateRegistrations:!0})},$n=(x,T,q,X)=>{if(!(X>0))return 0;for(var me=q,be=q+X-1,we=0;we<x.length;++we){var Re=x.charCodeAt(we);if(Re>=55296&&Re<=57343){var Je=x.charCodeAt(++we);Re=65536+((Re&1023)<<10)|Je&1023}if(Re<=127){if(q>=be)break;T[q++]=Re}else if(Re<=2047){if(q+1>=be)break;T[q++]=192|Re>>6,T[q++]=128|Re&63}else if(Re<=65535){if(q+2>=be)break;T[q++]=224|Re>>12,T[q++]=128|Re>>6&63,T[q++]=128|Re&63}else{if(q+3>=be)break;T[q++]=240|Re>>18,T[q++]=128|Re>>12&63,T[q++]=128|Re>>6&63,T[q++]=128|Re&63}}return T[q]=0,q-me},Bd=(x,T,q)=>$n(x,C,T,q),To=x=>{for(var T=0,q=0;q<x.length;++q){var X=x.charCodeAt(q);X<=127?T++:X<=2047?T+=2:X>=55296&&X<=57343?(T+=4,++q):T+=3}return T},yc=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Rd=(x,T,q)=>{for(var X=T+q,me=T;x[me]&&!(me>=X);)++me;if(me-T>16&&x.buffer&&yc)return yc.decode(x.subarray(T,me));for(var be="";T<me;){var we=x[T++];if(!(we&128)){be+=String.fromCharCode(we);continue}var Re=x[T++]&63;if((we&224)==192){be+=String.fromCharCode((we&31)<<6|Re);continue}var Je=x[T++]&63;if((we&240)==224?we=(we&15)<<12|Re<<6|Je:we=(we&7)<<18|Re<<12|Je<<6|x[T++]&63,we<65536)be+=String.fromCharCode(we);else{var mt=we-65536;be+=String.fromCharCode(55296|mt>>10,56320|mt&1023)}}return be},Do=(x,T)=>x?Rd(C,x,T):"",_l=(x,T)=>{T=bt(T);var q=T==="std::string";At(x,{name:T,fromWireType(X){var me=O[X>>2],be=X+4,we;if(q)for(var Re=be,Je=0;Je<=me;++Je){var mt=be+Je;if(Je==me||C[mt]==0){var wt=mt-Re,Et=Do(Re,wt);we===void 0?we=Et:(we+="\0",we+=Et),Re=mt+1}}else{for(var zt=new Array(me),Je=0;Je<me;++Je)zt[Je]=String.fromCharCode(C[be+Je]);we=zt.join("")}return li(X),we},toWireType(X,me){me instanceof ArrayBuffer&&(me=new Uint8Array(me));var be,we=typeof me=="string";we||me instanceof Uint8Array||me instanceof Uint8ClampedArray||me instanceof Int8Array||Bt("Cannot pass non-string to std::string"),q&&we?be=To(me):be=me.length;var Re=pu(4+be+1),Je=Re+4;if(O[Re>>2]=be,q&&we)Bd(me,Je,be+1);else if(we)for(var mt=0;mt<be;++mt){var wt=me.charCodeAt(mt);wt>255&&(li(Je),Bt("String has UTF-16 code units that do not fit in 8 bits")),C[Je+mt]=wt}else for(var mt=0;mt<be;++mt)C[Je+mt]=me[mt];return X!==null&&X.push(li,Re),Re},argPackAdvance:Ft,readValueFromPointer:ru,destructorFunction(X){li(X)}})},ys=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Fd=(x,T)=>{for(var q=x,X=q>>1,me=X+T/2;!(X>=me)&&I[X];)++X;if(q=X<<1,q-x>32&&ys)return ys.decode(C.subarray(x,q));for(var be="",we=0;!(we>=T/2);++we){var Re=w[x+we*2>>1];if(Re==0)break;be+=String.fromCharCode(Re)}return be},Ma=(x,T,q)=>{var X;if((X=q)!==null&&X!==void 0||(q=2147483647),q<2)return 0;q-=2;for(var me=T,be=q<x.length*2?q/2:x.length,we=0;we<be;++we){var Re=x.charCodeAt(we);w[T>>1]=Re,T+=2}return w[T>>1]=0,T-me},cu=x=>x.length*2,gi=(x,T)=>{for(var q=0,X="";!(q>=T/4);){var me=V[x+q*4>>2];if(me==0)break;if(++q,me>=65536){var be=me-65536;X+=String.fromCharCode(55296|be>>10,56320|be&1023)}else X+=String.fromCharCode(me)}return X},pl=(x,T,q)=>{var X;if((X=q)!==null&&X!==void 0||(q=2147483647),q<4)return 0;for(var me=T,be=me+q-4,we=0;we<x.length;++we){var Re=x.charCodeAt(we);if(Re>=55296&&Re<=57343){var Je=x.charCodeAt(++we);Re=65536+((Re&1023)<<10)|Je&1023}if(V[T>>2]=Re,T+=4,T+4>be)break}return V[T>>2]=0,T-me},gl=x=>{for(var T=0,q=0;q<x.length;++q){var X=x.charCodeAt(q);X>=55296&&X<=57343&&++q,T+=4}return T},Xa=(x,T,q)=>{q=bt(q);var X,me,be,we,Re;T===2?(X=Fd,me=Ma,we=cu,be=()=>I,Re=1):T===4&&(X=gi,me=pl,we=gl,be=()=>O,Re=2),At(x,{name:q,fromWireType:Je=>{for(var mt=O[Je>>2],wt=be(),Et,zt=Je+4,It=0;It<=mt;++It){var tn=Je+4+It*T;if(It==mt||wt[tn>>Re]==0){var un=tn-zt,Tn=X(zt,un);Et===void 0?Et=Tn:(Et+="\0",Et+=Tn),zt=tn+T}}return li(Je),Et},toWireType:(Je,mt)=>{typeof mt!="string"&&Bt(`Cannot pass non-string to C++ string type ${q}`);var wt=we(mt),Et=pu(4+wt+T);return O[Et>>2]=wt>>Re,me(mt,Et+4,wt+T),Je!==null&&Je.push(li,Et),Et},argPackAdvance:Ft,readValueFromPointer:xt,destructorFunction(Je){li(Je)}})},bs=(x,T,q,X,me,be)=>{Nt[x]={name:bt(T),rawConstructor:gr(q,X),rawDestructor:gr(me,be),fields:[]}},ws=(x,T,q,X,me,be,we,Re,Je,mt)=>{Nt[x].fields.push({fieldName:bt(T),getterReturnType:q,getter:gr(X,me),getterContext:be,setterArgumentType:we,setter:gr(Re,Je),setterContext:mt})},du=(x,T)=>{T=bt(T),At(x,{isVoid:!0,name:T,argPackAdvance:0,fromWireType:()=>{},toWireType:(q,X)=>{}})},yl=[],ks=(x,T,q,X)=>(x=yl[x],T=Hn.toValue(T),x(null,T,q,X)),bl={},Ja=x=>{var T=bl[x];return T===void 0?bt(x):T},wl=()=>{if(typeof globalThis=="object")return globalThis;function x(T){T.$$$embind_global$$$=T;var q=typeof $$$embind_global$$$=="object"&&T.$$$embind_global$$$==T;return q||delete T.$$$embind_global$$$,q}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&x(global)?$$$embind_global$$$=global:typeof self=="object"&&x(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},lr=x=>x===0?Hn.toHandle(wl()):(x=Ja(x),Hn.toHandle(wl()[x])),ja=x=>{var T=yl.length;return yl.push(x),T},Io=(x,T)=>{for(var q=new Array(x),X=0;X<x;++X)q[X]=_s(O[T+X*4>>2],"parameter "+X);return q},Vr=Reflect.construct,Ss=(x,T,q)=>{var X=[],me=x.toWireType(X,q);return X.length&&(O[T>>2]=Hn.toHandle(X)),me},Ao=(x,T,q)=>{var X=Io(x,T),me=X.shift();x--;var be=new Array(x),we=(Je,mt,wt,Et)=>{for(var zt=0,It=0;It<x;++It)be[It]=X[It].readValueFromPointer(Et+zt),zt+=X[It].argPackAdvance;for(var tn=q===1?Vr(mt,be):mt.apply(Je,be),It=0;It<x;++It){var un,Tn;(un=(Tn=X[It]).deleteObject)===null||un===void 0||un.call(Tn,be[It])}return Ss(me,wt,tn)},Re=`methodCaller<(${X.map(Je=>Je.name).join(", ")}) => ${me.name}>`;return ja(Fn(Re,we))},Gn=x=>{x>4&&(Wa.get(x).refcount+=1)},yi=x=>{var T=Hn.toValue(x);jt(T),Yr(x)},Eo=(x,T)=>{x=_s(x,"_emval_take_value");var q=x.readValueFromPointer(T);return Hn.toHandle(q)},fu=()=>{ge("")},bi=(x,T,q)=>C.copyWithin(x,T,T+q),mu=()=>2147483648,hu=x=>{var T=y.buffer,q=(x-T.byteLength+65535)/65536;try{return y.grow(q),H(),1}catch{}},kl=x=>{var T=C.length;x>>>=0;var q=mu();if(x>q)return!1;for(var X=(Je,mt)=>Je+(mt-Je%mt)%mt,me=1;me<=4;me*=2){var be=T*(1+.2/me);be=Math.min(be,x+100663296);var we=Math.min(q,X(Math.max(x,be),65536)),Re=hu(we);if(Re)return!0}return!1},Vo={},Cs=()=>o||"./this.program",si=()=>{if(!si.strings){var x=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:x,_:Cs()};for(var q in Vo)Vo[q]===void 0?delete T[q]:T[q]=Vo[q];var X=[];for(var q in T)X.push(`${q}=${T[q]}`);si.strings=X}return si.strings},vu=(x,T)=>{for(var q=0;q<x.length;++q)k[T++>>0]=x.charCodeAt(q);k[T>>0]=0},xs=(x,T)=>{var q=0;return si().forEach((X,me)=>{var be=T+q;O[x+me*4>>2]=be,vu(X,be),q+=X.length+1}),0},bc=(x,T)=>{var q=si();O[x>>2]=q.length;var X=0;return q.forEach(me=>X+=me.length+1),O[T>>2]=X,0},Ps=x=>x,Li=x=>x%4===0&&(x%100!==0||x%400===0),wc=(x,T)=>{for(var q=0,X=0;X<=T;q+=x[X++]);return q},_u=[31,29,31,30,31,30,31,31,30,31,30,31],Sl=[31,28,31,30,31,30,31,31,30,31,30,31],Cl=(x,T)=>{for(var q=new Date(x.getTime());T>0;){var X=Li(q.getFullYear()),me=q.getMonth(),be=(X?_u:Sl)[me];if(T>be-q.getDate())T-=be-q.getDate()+1,q.setDate(1),me<11?q.setMonth(me+1):(q.setMonth(0),q.setFullYear(q.getFullYear()+1));else return q.setDate(q.getDate()+T),q}return q};function kc(x,T,q){var X=To(x)+1,me=new Array(X);return $n(x,me,0,me.length),me}var Sc=(x,T)=>{k.set(x,T)},ur=(x,T,q,X)=>{var me=O[X+40>>2],be={tm_sec:V[X>>2],tm_min:V[X+4>>2],tm_hour:V[X+8>>2],tm_mday:V[X+12>>2],tm_mon:V[X+16>>2],tm_year:V[X+20>>2],tm_wday:V[X+24>>2],tm_yday:V[X+28>>2],tm_isdst:V[X+32>>2],tm_gmtoff:V[X+36>>2],tm_zone:me?Do(me):""},we=Do(q),Re={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Je in Re)we=we.replace(new RegExp(Je,"g"),Re[Je]);var mt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Et(St,Ht,na){for(var Pa=typeof St=="number"?St.toString():St||"";Pa.length<Ht;)Pa=na[0]+Pa;return Pa}function zt(St,Ht){return Et(St,Ht,"0")}function It(St,Ht){function na(qi){return qi<0?-1:qi>0?1:0}var Pa;return(Pa=na(St.getFullYear()-Ht.getFullYear()))===0&&(Pa=na(St.getMonth()-Ht.getMonth()))===0&&(Pa=na(St.getDate()-Ht.getDate())),Pa}function tn(St){switch(St.getDay()){case 0:return new Date(St.getFullYear()-1,11,29);case 1:return St;case 2:return new Date(St.getFullYear(),0,3);case 3:return new Date(St.getFullYear(),0,2);case 4:return new Date(St.getFullYear(),0,1);case 5:return new Date(St.getFullYear()-1,11,31);case 6:return new Date(St.getFullYear()-1,11,30)}}function un(St){var Ht=Cl(new Date(St.tm_year+1900,0,1),St.tm_yday),na=new Date(Ht.getFullYear(),0,4),Pa=new Date(Ht.getFullYear()+1,0,4),qi=tn(na),Ui=tn(Pa);return It(qi,Ht)<=0?It(Ui,Ht)<=0?Ht.getFullYear()+1:Ht.getFullYear():Ht.getFullYear()-1}var Tn={"%a":St=>mt[St.tm_wday].substring(0,3),"%A":St=>mt[St.tm_wday],"%b":St=>wt[St.tm_mon].substring(0,3),"%B":St=>wt[St.tm_mon],"%C":St=>{var Ht=St.tm_year+1900;return zt(Ht/100|0,2)},"%d":St=>zt(St.tm_mday,2),"%e":St=>Et(St.tm_mday,2," "),"%g":St=>un(St).toString().substring(2),"%G":St=>un(St),"%H":St=>zt(St.tm_hour,2),"%I":St=>{var Ht=St.tm_hour;return Ht==0?Ht=12:Ht>12&&(Ht-=12),zt(Ht,2)},"%j":St=>zt(St.tm_mday+wc(Li(St.tm_year+1900)?_u:Sl,St.tm_mon-1),3),"%m":St=>zt(St.tm_mon+1,2),"%M":St=>zt(St.tm_min,2),"%n":()=>`
`,"%p":St=>St.tm_hour>=0&&St.tm_hour<12?"AM":"PM","%S":St=>zt(St.tm_sec,2),"%t":()=>"	","%u":St=>St.tm_wday||7,"%U":St=>{var Ht=St.tm_yday+7-St.tm_wday;return zt(Math.floor(Ht/7),2)},"%V":St=>{var Ht=Math.floor((St.tm_yday+7-(St.tm_wday+6)%7)/7);if((St.tm_wday+371-St.tm_yday-2)%7<=2&&Ht++,Ht){if(Ht==53){var na=(St.tm_wday+371-St.tm_yday)%7;na!=4&&(na!=3||!Li(St.tm_year))&&(Ht=1)}}else{Ht=52;var Pa=(St.tm_wday+7-St.tm_yday-1)%7;(Pa==4||Pa==5&&Li(St.tm_year%400-1))&&Ht++}return zt(Ht,2)},"%w":St=>St.tm_wday,"%W":St=>{var Ht=St.tm_yday+7-(St.tm_wday+6)%7;return zt(Math.floor(Ht/7),2)},"%y":St=>(St.tm_year+1900).toString().substring(2),"%Y":St=>St.tm_year+1900,"%z":St=>{var Ht=St.tm_gmtoff,na=Ht>=0;return Ht=Math.abs(Ht)/60,Ht=Ht/60*100+Ht%60,(na?"+":"-")+("0000"+Ht).slice(-4)},"%Z":St=>St.tm_zone,"%%":()=>"%"};we=we.replace(/%%/g,"\0\0");for(var Je in Tn)we.includes(Je)&&(we=we.replace(new RegExp(Je,"g"),Tn[Je](be)));we=we.replace(/\0\0/g,"%");var pn=kc(we);return pn.length>T?0:(Sc(pn,x),pn.length-1)},Ts=(x,T,q,X,me)=>ur(x,T,q,X);Un=n.InternalError=class extends Error{constructor(x){super(x),this.name="InternalError"}},ir(),ft=n.BindingError=class extends Error{constructor(x){super(x),this.name="BindingError"}},mc(),yo(),_n(),hl=n.UnboundTypeError=fs(Error,"UnboundTypeError"),sr(),pc();var Oo={s:pe,u:Ve,b:st,g:tt,q:Tt,J:ke,f:ut,V:Dt,d:We,da:Rn,Q:Mt,_:pr,ca:xo,ba:vl,w:Md,Y:Kr,x:vs,h:$i,L:lu,M:gc,t:gs,o:Nn,K:_l,C:Xa,A:bs,ea:ws,$:du,R:ks,ha:Yr,fa:lr,Z:Ao,N:Gn,O:yi,aa:Eo,B:fu,X:bi,W:kl,T:xs,U:bc,E:te,D:v,F:fe,n:Te,a:Bo,e:A,m:Pc,k:z,H:Ue,v:he,G:J,z:Le,P:Fe,l:M,j:b,c:Ni,p:Ro,I:xe,r:Se,i:ne,y:je,ga:Ps,S:Ts},ta=at(),li=n._free=x=>(li=n._free=ta.ka)(x),pu=n._malloc=x=>(pu=n._malloc=ta.la)(x),Cc=x=>(Cc=ta.na)(x),zn=(x,T)=>(zn=ta.oa)(x,T),yr=x=>(yr=ta.pa)(x),on=()=>(on=ta.qa)(),En=x=>(En=ta.ra)(x),br=x=>(br=ta.sa)(x),xc=x=>(xc=ta.ta)(x),Mo=(x,T,q)=>(Mo=ta.ua)(x,T,q),xl=x=>(xl=ta.va)(x);n.dynCall_viijii=(x,T,q,X,me,be,we)=>(n.dynCall_viijii=ta.wa)(x,T,q,X,me,be,we);var Za=n.dynCall_jiiii=(x,T,q,X,me)=>(Za=n.dynCall_jiiii=ta.xa)(x,T,q,X,me);n.dynCall_iiiiij=(x,T,q,X,me,be,we)=>(n.dynCall_iiiiij=ta.ya)(x,T,q,X,me,be,we),n.dynCall_iiiiijj=(x,T,q,X,me,be,we,Re,Je)=>(n.dynCall_iiiiijj=ta.za)(x,T,q,X,me,be,we,Re,Je),n.dynCall_iiiiiijj=(x,T,q,X,me,be,we,Re,Je,mt)=>(n.dynCall_iiiiiijj=ta.Aa)(x,T,q,X,me,be,we,Re,Je,mt);function Bo(x,T){var q=on();try{return Ln(x)(T)}catch(X){if(En(q),X!==X+0)throw X;zn(1,0)}}function Ro(x,T,q,X){var me=on();try{Ln(x)(T,q,X)}catch(be){if(En(me),be!==be+0)throw be;zn(1,0)}}function Ni(x,T,q){var X=on();try{Ln(x)(T,q)}catch(me){if(En(X),me!==me+0)throw me;zn(1,0)}}function Pc(x,T,q,X){var me=on();try{return Ln(x)(T,q,X)}catch(be){if(En(me),be!==be+0)throw be;zn(1,0)}}function v(x,T,q,X,me){var be=on();try{return Ln(x)(T,q,X,me)}catch(we){if(En(be),we!==we+0)throw we;zn(1,0)}}function b(x,T){var q=on();try{Ln(x)(T)}catch(X){if(En(q),X!==X+0)throw X;zn(1,0)}}function A(x,T,q){var X=on();try{return Ln(x)(T,q)}catch(me){if(En(X),me!==me+0)throw me;zn(1,0)}}function M(x){var T=on();try{Ln(x)()}catch(q){if(En(T),q!==q+0)throw q;zn(1,0)}}function z(x,T,q,X,me){var be=on();try{return Ln(x)(T,q,X,me)}catch(we){if(En(be),we!==we+0)throw we;zn(1,0)}}function ne(x,T,q,X,me,be,we,Re,Je,mt,wt){var Et=on();try{Ln(x)(T,q,X,me,be,we,Re,Je,mt,wt)}catch(zt){if(En(Et),zt!==zt+0)throw zt;zn(1,0)}}function he(x,T,q,X,me,be,we){var Re=on();try{return Ln(x)(T,q,X,me,be,we)}catch(Je){if(En(Re),Je!==Je+0)throw Je;zn(1,0)}}function xe(x,T,q,X,me){var be=on();try{Ln(x)(T,q,X,me)}catch(we){if(En(be),we!==we+0)throw we;zn(1,0)}}function Ue(x,T,q,X,me,be){var we=on();try{return Ln(x)(T,q,X,me,be)}catch(Re){if(En(we),Re!==Re+0)throw Re;zn(1,0)}}function J(x,T,q,X,me,be,we,Re){var Je=on();try{return Ln(x)(T,q,X,me,be,we,Re)}catch(mt){if(En(Je),mt!==mt+0)throw mt;zn(1,0)}}function fe(x,T,q,X){var me=on();try{return Ln(x)(T,q,X)}catch(be){if(En(me),be!==be+0)throw be;zn(1,0)}}function te(x,T,q,X){var me=on();try{return Ln(x)(T,q,X)}catch(be){if(En(me),be!==be+0)throw be;zn(1,0)}}function Te(x){var T=on();try{return Ln(x)()}catch(q){if(En(T),q!==q+0)throw q;zn(1,0)}}function Se(x,T,q,X,me,be,we,Re){var Je=on();try{Ln(x)(T,q,X,me,be,we,Re)}catch(mt){if(En(Je),mt!==mt+0)throw mt;zn(1,0)}}function Le(x,T,q,X,me,be,we,Re,Je,mt,wt,Et){var zt=on();try{return Ln(x)(T,q,X,me,be,we,Re,Je,mt,wt,Et)}catch(It){if(En(zt),It!==It+0)throw It;zn(1,0)}}function je(x,T,q,X,me,be,we,Re,Je,mt,wt,Et,zt,It,tn,un){var Tn=on();try{Ln(x)(T,q,X,me,be,we,Re,Je,mt,wt,Et,zt,It,tn,un)}catch(pn){if(En(Tn),pn!==pn+0)throw pn;zn(1,0)}}function Fe(x,T,q,X,me){var be=on();try{return Za(x,T,q,X,me)}catch(we){if(En(be),we!==we+0)throw we;zn(1,0)}}var rt;$e=function x(){rt||lt(),rt||($e=x)};function lt(){if(Ee>0||(F(),Ee>0))return;function x(){rt||(rt=!0,n.calledRun=!0,!S&&(ce(),a(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Z()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),x()},1)):x()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return lt(),t.ready}})();function xY(e){return yb(bb,e)}async function PY(e,t){return SY(bb,e,t)}async function TY(e,t){return CY(bb,e,t)}var uf;class ip extends EventTarget{constructor(t={}){var n;super(),Zj(this,uf,void 0);try{const a=(n=t==null?void 0:t.formats)==null?void 0:n.filter(r=>r!=="unknown");if((a==null?void 0:a.length)===0)throw new TypeError("Hint option provided, but is empty.");a==null||a.forEach(r=>{if(!uh.has(r))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${r}' is not a valid enum value of type BarcodeFormat.`)}),eY(this,uf,a??[]),xY().then(r=>{this.dispatchEvent(new CustomEvent("load",{detail:r}))}).catch(r=>{this.dispatchEvent(new CustomEvent("error",{detail:r}))})}catch(a){throw bk(a,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return tY.filter(t=>t!=="unknown")}async detect(t){try{const n=await lY(t);if(n===null)return[];let a;try{YD(n)?a=await PY(n,{tryHarder:!0,formats:yk(this,uf).map(r=>uh.get(r))}):a=await TY(n,{tryHarder:!0,formats:yk(this,uf).map(r=>uh.get(r))})}catch(r){throw console.error(r),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return a.map(r=>{const{topLeft:{x:i,y:o},topRight:{x:l,y:u},bottomLeft:{x:f,y:d},bottomRight:{x:m,y:p}}=r.position,g=Math.min(i,l,f,m),y=Math.min(o,u,d,p),S=Math.max(i,l,f,m),k=Math.max(o,u,d,p);return{boundingBox:new DOMRectReadOnly(g,y,S-g,k-y),rawValue:r.text,format:nY(r.format),cornerPoints:[{x:i,y:o},{x:l,y:u},{x:m,y:p},{x:f,y:d}]}})}catch(n){throw bk(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}uf=new WeakMap;const XD=(e,t,n="error")=>{let a,r;const i=new Promise((o,l)=>{a=o,r=l,e.addEventListener(t,a),e.addEventListener(n,r)});return i.finally(()=>{e.removeEventListener(t,a),e.removeEventListener(n,r)}),i},Ck=e=>new Promise(t=>setTimeout(t,e));class JD extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class DY extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class IY extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}const AY=e=>{let t=!1,n;return(...a)=>(t||(n=e(a),t=!0),n)};function qo(e,t){if(e===!1)throw new Error(t??"assertion failure")}function xk(e){throw new Error("this code should be unreachable")}function EY(){return navigator.platform.toUpperCase().includes("MAC")}let ZD;async function VY(e){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new ip({formats:e});const t=await window.BarcodeDetector.getSupportedFormats(),n=e.filter(a=>!t.includes(a));return n.length>0?(console.debug(`[vue-qrcode-reader] Native BarcodeDetector does not support formats ${JSON.stringify(n)}. Will use polyfill.`),new ip({formats:e})):EY()&&e.includes("pdf417")?(console.debug("[vue-qrcode-reader] Native BarcodeDetector is buggy for PDF417 codes on MacOS. Will use polyfill."),new ip({formats:e})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:e}))}async function eI(e){ZD=await VY(e)}const OY=async(e,{detectHandler:t,locateHandler:n,minDelay:a,formats:r})=>{console.debug("[vue-qrcode-reader] start scanning"),await eI(r);const i=o=>async l=>{if(e.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:u,contentBefore:f,lastScanHadContent:d}=o;if(l-u<a)window.requestAnimationFrame(i(o));else{const m=await ZD.detect(e),p=m.some(S=>!f.includes(S.rawValue));p&&t(m);const g=m.length>0;g&&n(m),!g&&d&&n(m);const y={lastScanned:l,lastScanHadContent:g,contentBefore:p?m.map(S=>S.rawValue):f};window.requestAnimationFrame(i(y))}}};i({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var tI={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.compactObject=rI;_i.deprecated=UY;var MY=_i.detectBrowser=HY;_i.disableLog=LY;_i.disableWarnings=NY;_i.extractVersion=ch;_i.filterStats=zY;_i.log=qY;_i.walkStats=Fh;_i.wrapPeerConnectionEvent=$Y;function BY(e,t,n){return t=RY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RY(e){var t=FY(e,"string");return Gl(t)==="symbol"?t:String(t)}function FY(e,t){if(Gl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Gl(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}var nI=!0,aI=!0;function ch(e,t,n){var a=e.match(t);return a&&a.length>=n&&parseInt(a[n],10)}function $Y(e,t,n){if(e.RTCPeerConnection){var a=e.RTCPeerConnection.prototype,r=a.addEventListener;a.addEventListener=function(o,l){if(o!==t)return r.apply(this,arguments);var u=function(f){var d=n(f);d&&(l.handleEvent?l.handleEvent(d):l(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,u),r.apply(this,[o,u])};var i=a.removeEventListener;a.removeEventListener=function(o,l){if(o!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(l))return i.apply(this,arguments);var u=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,u])},Object.defineProperty(a,"on"+t,{get:function(){return this["_on"+t]},set:function(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}}function LY(e){return typeof e!="boolean"?new Error("Argument type: "+Gl(e)+". Please use a boolean."):(nI=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function NY(e){return typeof e!="boolean"?new Error("Argument type: "+Gl(e)+". Please use a boolean."):(aI=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function qY(){if((typeof window>"u"?"undefined":Gl(window))==="object"){if(nI)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function UY(e,t){aI&&console.warn(e+" is deprecated, please use "+t+" instead.")}function HY(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=ch(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=ch(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=ch(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Pk(e){return Object.prototype.toString.call(e)==="[object Object]"}function rI(e){return Pk(e)?Object.keys(e).reduce(function(t,n){var a=Pk(e[n]),r=a?rI(e[n]):e[n],i=a&&!Object.keys(r).length;return r===void 0||i?t:Object.assign(t,BY({},n,r))},{}):e}function Fh(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(function(a){a.endsWith("Id")?Fh(e,e.get(t[a]),n):a.endsWith("Ids")&&t[a].forEach(function(r){Fh(e,e.get(r),n)})}))}function zY(e,t,n){var a=n?"outbound-rtp":"inbound-rtp",r=new Map;if(t===null)return r;var i=[];return e.forEach(function(o){o.type==="track"&&o.trackIdentifier===t.id&&i.push(o)}),i.forEach(function(o){e.forEach(function(l){l.type===a&&l.trackId===o.id&&Fh(e,l,r)})}),r}Object.defineProperty(tI,"__esModule",{value:!0});var WY=tI.shimGetUserMedia=KY,jY=YY(_i);function iI(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(iI=function(a){return a?n:t})(e)}function YY(e,t){if(e&&e.__esModule)return e;if(e===null||Nl(e)!=="object"&&typeof e!="function")return{default:e};var n=iI(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}var Tk=jY.log;function KY(e,t){var n=e&&e.navigator;if(n.mediaDevices){var a=function(u){if(Nl(u)!=="object"||u.mandatory||u.optional)return u;var f={};return Object.keys(u).forEach(function(d){if(!(d==="require"||d==="advanced"||d==="mediaSource")){var m=Nl(u[d])==="object"?u[d]:{ideal:u[d]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);var p=function(y,S){return y?y+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(m.ideal!==void 0){f.optional=f.optional||[];var g={};typeof m.ideal=="number"?(g[p("min",d)]=m.ideal,f.optional.push(g),g={},g[p("max",d)]=m.ideal,f.optional.push(g)):(g[p("",d)]=m.ideal,f.optional.push(g))}m.exact!==void 0&&typeof m.exact!="number"?(f.mandatory=f.mandatory||{},f.mandatory[p("",d)]=m.exact):["min","max"].forEach(function(y){m[y]!==void 0&&(f.mandatory=f.mandatory||{},f.mandatory[p(y,d)]=m[y])})}}),u.advanced&&(f.optional=(f.optional||[]).concat(u.advanced)),f},r=function(u,f){if(t.version>=61)return f(u);if(u=JSON.parse(JSON.stringify(u)),u&&Nl(u.audio)==="object"){var d=function(y,S,k){S in y&&!(k in y)&&(y[k]=y[S],delete y[S])};u=JSON.parse(JSON.stringify(u)),d(u.audio,"autoGainControl","googAutoGainControl"),d(u.audio,"noiseSuppression","googNoiseSuppression"),u.audio=a(u.audio)}if(u&&Nl(u.video)==="object"){var m=u.video.facingMode;m=m&&(Nl(m)==="object"?m:{ideal:m});var p=t.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete u.video.facingMode;var g;if(m.exact==="environment"||m.ideal==="environment"?g=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(function(y){y=y.filter(function(k){return k.kind==="videoinput"});var S=y.find(function(k){return g.some(function(C){return k.label.toLowerCase().includes(C)})});return!S&&y.length&&g.includes("back")&&(S=y[y.length-1]),S&&(u.video.deviceId=m.exact?{exact:S.deviceId}:{ideal:S.deviceId}),u.video=a(u.video),Tk("chrome: "+JSON.stringify(u)),f(u)})}u.video=a(u.video)}return Tk("chrome: "+JSON.stringify(u)),f(u)},i=function(u){return t.version>=64?u:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[u.name]||u.name,message:u.message,constraint:u.constraint||u.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},o=function(u,f,d){r(u,function(m){n.webkitGetUserMedia(m,f,function(p){d&&d(i(p))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){var l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(u){return r(u,function(f){return l(f).then(function(d){if(f.audio&&!d.getAudioTracks().length||f.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(function(m){m.stop()}),new DOMException("","NotFoundError");return d},function(d){return Promise.reject(i(d))})})}}}}var oI={};Object.defineProperty(oI,"__esModule",{value:!0});var GY=oI.shimGetUserMedia=JY,QY=XY(_i);function sI(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(sI=function(a){return a?n:t})(e)}function XY(e,t){if(e&&e.__esModule)return e;if(e===null||nd(e)!=="object"&&typeof e!="function")return{default:e};var n=sI(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function JY(e,t){var n=e&&e.navigator,a=e&&e.MediaStreamTrack;if(n.getUserMedia=function(u,f,d){QY.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(u).then(f,d)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var r=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return nd(u)==="object"&&nd(u.audio)==="object"&&(u=JSON.parse(JSON.stringify(u)),r(u.audio,"autoGainControl","mozAutoGainControl"),r(u.audio,"noiseSuppression","mozNoiseSuppression")),i(u)},a&&a.prototype.getSettings){var o=a.prototype.getSettings;a.prototype.getSettings=function(){var u=o.apply(this,arguments);return r(u,"mozAutoGainControl","autoGainControl"),r(u,"mozNoiseSuppression","noiseSuppression"),u}}if(a&&a.prototype.applyConstraints){var l=a.prototype.applyConstraints;a.prototype.applyConstraints=function(u){return this.kind==="audio"&&nd(u)==="object"&&(u=JSON.parse(JSON.stringify(u)),r(u,"autoGainControl","mozAutoGainControl"),r(u,"noiseSuppression","mozNoiseSuppression")),l.apply(this,[u])}}}}var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.shimAudioContext=l7;ls.shimCallbacksAPI=a7;ls.shimConstraints=cI;ls.shimCreateOfferLegacy=s7;var ZY=ls.shimGetUserMedia=r7;ls.shimLocalStreamsAPI=t7;ls.shimRTCIceServerUrls=i7;ls.shimRemoteStreamsAPI=n7;ls.shimTrackEventTransceiver=o7;var lI=e7(_i);function uI(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(uI=function(a){return a?n:t})(e)}function e7(e,t){if(e&&e.__esModule)return e;if(e===null||Ql(e)!=="object"&&typeof e!="function")return{default:e};var n=uI(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function t7(e){if(!(Ql(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var a=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(function(r){return t.call(a,r,n)}),n.getVideoTracks().forEach(function(r){return t.call(a,r,n)})},e.RTCPeerConnection.prototype.addTrack=function(n){for(var a=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach(function(l){a._localStreams?a._localStreams.includes(l)||a._localStreams.push(l):a._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){var a=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(n);if(r!==-1){this._localStreams.splice(r,1);var i=n.getTracks();this.getSenders().forEach(function(o){i.includes(o.track)&&a.removeTrack(o)})}})}}function n7(e){if(!(Ql(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(n){var a=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(function(i){if(a._remoteStreams||(a._remoteStreams=[]),!a._remoteStreams.includes(i)){a._remoteStreams.push(i);var o=new Event("addstream");o.stream=i,a.dispatchEvent(o)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(function(r){if(n._remoteStreams||(n._remoteStreams=[]),!(n._remoteStreams.indexOf(r)>=0)){n._remoteStreams.push(r);var i=new Event("addstream");i.stream=r,n.dispatchEvent(i)}})}),t.apply(n,arguments)}}}function a7(e){if(!(Ql(e)!=="object"||!e.RTCPeerConnection)){var t=e.RTCPeerConnection.prototype,n=t.createOffer,a=t.createAnswer,r=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(u,f){var d=arguments.length>=2?arguments[2]:arguments[0],m=n.apply(this,[d]);return f?(m.then(u,f),Promise.resolve()):m},t.createAnswer=function(u,f){var d=arguments.length>=2?arguments[2]:arguments[0],m=a.apply(this,[d]);return f?(m.then(u,f),Promise.resolve()):m};var l=function(u,f,d){var m=r.apply(this,[u]);return d?(m.then(f,d),Promise.resolve()):m};t.setLocalDescription=l,l=function(u,f,d){var m=i.apply(this,[u]);return d?(m.then(f,d),Promise.resolve()):m},t.setRemoteDescription=l,l=function(u,f,d){var m=o.apply(this,[u]);return d?(m.then(f,d),Promise.resolve()):m},t.addIceCandidate=l}}function r7(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,a=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(r){return a(cI(r))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,o){t.mediaDevices.getUserMedia(r).then(i,o)}).bind(t))}function cI(e){return e&&e.video!==void 0?Object.assign({},e,{video:lI.compactObject(e.video)}):e}function i7(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,a){if(n&&n.iceServers){for(var r=[],i=0;i<n.iceServers.length;i++){var o=n.iceServers[i];o.urls===void 0&&o.url?(lI.deprecated("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,r.push(o)):r.push(n.iceServers[i])}n.iceServers=r}return new t(n,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function o7(e){Ql(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function s7(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);var a=this.getTransceivers().find(function(i){return i.receiver.track.kind==="audio"});n.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);var r=this.getTransceivers().find(function(i){return i.receiver.track.kind==="video"});n.offerToReceiveVideo===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveVideo===!0&&!r&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function l7(e){Ql(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const u7=AY(()=>{const e=MY(window);switch(e.browser){case"chrome":WY(window,e);break;case"firefox":GY(window,e);break;case"safari":ZY(window,e);break;default:throw new JD}});let ad=Promise.resolve({type:"stop",data:{}});async function Dk(e,t,n){var a,r,i;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),window.isSecureContext!==!0)throw new DY;if(((a=navigator==null?void 0:navigator.mediaDevices)==null?void 0:a.getUserMedia)===void 0)throw new JD;u7(),console.debug("[vue-qrcode-reader] calling getUserMedia");const o=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});e.srcObject!==void 0?e.srcObject=o:e.mozSrcObject!==void 0?e.mozSrcObject=o:window.URL.createObjectURL?e.src=window.URL.createObjectURL(o):window.webkitURL?e.src=window.webkitURL.createObjectURL(o):e.src=o.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([XD(e,"loadeddata"),Ck(6e3).then(()=>{throw new IY})]),console.debug("[vue-qrcode-reader] video element loaded"),await Ck(500);const[l]=o.getVideoTracks(),u=(i=(r=l==null?void 0:l.getCapabilities)==null?void 0:r.call(l))!=null?i:{};let f=!1;return n&&u.torch&&(await l.applyConstraints({advanced:[{torch:!0}]}),f=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:o,capabilities:u,constraints:t,isTorchOn:f}}}async function c7(e,{constraints:t,torch:n,restart:a=!1}){ad=ad.then(i=>{if(i.type==="start"){const{data:{videoEl:o,stream:l,constraints:u,isTorchOn:f}}=i;return!a&&e===o&&t===u&&n===f?i:dI(o,l,f).then(()=>Dk(e,t,n))}else if(i.type==="stop"||i.type==="failed")return Dk(e,t,n);xk()}).catch(i=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${i}"`),{type:"failed",error:i}));const r=await ad;if(r.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(r.type==="failed")throw r.error;if(r.type==="start")return r.data.capabilities;xk()}async function dI(e,t,n){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await XD(e,"error");for(const a of t.getTracks())n!=null||await a.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(a),a.stop();return{type:"stop",data:{}}}async function Xm(){if(ad=ad.then(e=>{if(e.type==="stop"||e.type==="failed")return e;const{data:{videoEl:t,stream:n,isTorchOn:a}}=e;return dI(t,n,a)}),(await ad).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const d7=ar({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const n=e,a=t,r=Ne(n.constraints),i=Ne(n.formats);yt(()=>n.constraints,(I,V)=>{JSON.stringify(I)!==JSON.stringify(V)&&(r.value=I)},{deep:!0}),yt(()=>n.formats,(I,V)=>{JSON.stringify(I)!==JSON.stringify(V)&&(i.value=I)},{deep:!0});const o=Ne(),l=Ne(),u=Ne(),f=Ne(!1),d=Ne(!1);Pn(()=>{d.value=!0}),as(()=>{Xm()});const m=L(()=>({torch:n.torch,constraints:r.value,shouldStream:d.value&&!n.paused}));yt(m,async I=>{const V=u.value;qo(V!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const O=o.value;qo(O!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const U=O.getContext("2d");if(qo(U!==null,"if cavnas is defined, canvas 2d context should also be non-null"),I.shouldStream){Xm(),f.value=!1;try{const Y=await c7(V,I);d.value?(f.value=!0,a("camera-on",Y)):await Xm()}catch(Y){a("error",Y)}}else O.width=V.videoWidth,O.height=V.videoHeight,U.drawImage(V,0,0,V.videoWidth,V.videoHeight),Xm(),f.value=!1,a("camera-off")},{deep:!0}),yt(i,async I=>{d.value&&await eI(I)});const p=L(()=>m.value.shouldStream&&f.value);yt(p,I=>{if(I){qo(o.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),g(o.value),qo(l.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),g(l.value);const V=()=>n.track===void 0?500:40;qo(u.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),OY(u.value,{detectHandler:O=>a("detect",O),formats:i.value,locateHandler:y,minDelay:V()})}});const g=I=>{const V=I.getContext("2d");qo(V!==null,"canvas 2d context should always be non-null"),V.clearRect(0,0,I.width,I.height)},y=I=>{const V=l.value;qo(V!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const O=u.value;if(qo(O!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),I.length===0||n.track===void 0)g(V);else{const U=O.offsetWidth,Y=O.offsetHeight,H=O.videoWidth,B=O.videoHeight,j=Math.max(U/H,Y/B),G=H*j,F=B*j,ce=G/H,Z=F/B,le=(U-G)/2,ae=(Y-F)/2,_e=({x:ee,y:ge})=>({x:Math.floor(ee*ce),y:Math.floor(ge*Z)}),Ee=({x:ee,y:ge})=>({x:Math.floor(ee+le),y:Math.floor(ge+ae)}),$e=I.map(ee=>{const{boundingBox:ge,cornerPoints:se}=ee,{x:ye,y:Me}=Ee(_e({x:ge.x,y:ge.y})),{x:De,y:R}=_e({x:ge.width,y:ge.height});return{...ee,cornerPoints:se.map(Oe=>Ee(_e(Oe))),boundingBox:DOMRectReadOnly.fromRect({x:ye,y:Me,width:De,height:R})}});V.width=O.offsetWidth,V.height=O.offsetHeight;const re=V.getContext("2d");qo(re!==null,"canvas 2d context should always be non-null"),n.track($e,re)}},S={width:"100%",height:"100%",position:"relative","z-index":"0"},k={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},C={width:"100%",height:"100%","object-fit":"cover"},w=L(()=>p.value?C:{...C,visibility:"hidden",position:"absolute"});return(I,V)=>(de(),nt("div",{style:S},[P("video",{ref_key:"videoRef",ref:u,style:vt(w.value),autoplay:"",muted:"",playsinline:""},null,4),xn(P("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:o,style:C},null,512),[[Aa,!p.value]]),P("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:l,style:k},null,512),P("div",{style:k},[$t(I.$slots,"default")])]))}}),f7={name:"CameraScanner",components:{QrcodeStream:d7},props:{scanType:{type:String,default:"Both"}},data(){return{scannerDialog:!1,scanResult:"",scanFormat:"",errorMessage:"",cameraPermissionDenied:!1,isScanning:!1,torchActive:!1,selectedDeviceId:null,cameras:[]}},computed:{readerFormats(){const e=["qr_code","ean_13","ean_8","code_128","code_39","code_93","codabar","upc_a","upc_e","itf"];return this.scanType==="QR Code"?["qr_code"]:this.scanType==="Barcode"?e.filter(t=>t!=="qr_code"):e}},methods:{async startScanning(){this.scannerDialog=!0,this.errorMessage="",this.scanResult="",this.scanFormat="",this.cameraPermissionDenied=!1,this.isScanning=!0,await this.$nextTick(),await this.listCameras()},async listCameras(){try{if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){console.warn("MediaDevices API not supported."),this.cameras=[];return}const e=await navigator.mediaDevices.enumerateDevices();if(this.cameras=e.filter(t=>t.kind==="videoinput"),this.cameras.length>0&&!this.selectedDeviceId){const t=this.cameras.find(n=>/back|rear|environment/i.test(n.label));this.selectedDeviceId=t?t.deviceId:this.cameras[0].deviceId}}catch(e){console.error("Error listing cameras:",e),this.cameras=[]}},onDetect(e){if(e&&e.length>0){const t=e[0];this.scanResult=t.rawValue,this.scanFormat=t.format,this.errorMessage="",this.$emit("barcode-scanned",this.scanResult),typeof frappe<"u"&&frappe.show_alert&&frappe.show_alert({message:this.__("Code scanned successfully")+` (${this.scanFormat})`,indicator:"green"},3),this.isScanning=!1,setTimeout(()=>{this.scanResult="",this.scanFormat="",this.isScanning=!0},1e3)}},onError(e){this.errorMessage=e.name||"Unknown error",e.name==="NotAllowedError"?(this.cameraPermissionDenied=!0,this.errorMessage=this.__("Camera permission denied. Please allow camera access in your browser settings.")):e.name==="NotFoundError"||e.name==="DevicesNotFoundError"?this.errorMessage=this.__("No camera found on this device."):e.name==="NotSupportedError"?this.errorMessage=this.__("Secure context (HTTPS) required for camera access."):e.name==="AbortError"?this.errorMessage=this.__("Camera access aborted."):this.errorMessage=this.__("Error accessing camera:")+` ${e.message}`,console.error("Camera error:",e),this.isScanning=!1},stopScanning(){this.isScanning=!1,this.scannerDialog=!1,this.scanResult="",this.scanFormat="",this.errorMessage="",this.torchActive=!1,this.$emit("scanner-closed")},async toggleTorch(){this.torchActive=!this.torchActive},async switchCamera(){if(this.cameras.length>1){const t=(this.cameras.findIndex(n=>n.deviceId===this.selectedDeviceId)+1)%this.cameras.length;this.selectedDeviceId=this.cameras[t].deviceId,this.isScanning=!1,await this.$nextTick(),this.isScanning=!0,typeof frappe<"u"&&frappe.show_alert&&frappe.show_alert({message:this.__("Switched to: ")+(this.cameras[t].label||`Camera ${t+1}`),indicator:"blue"},2)}},handleEscKey(e){e.key==="Escape"&&this.scannerDialog&&(e.preventDefault(),this.stopScanning())}},watch:{scannerDialog(e){e?!this.selectedDeviceId&&this.cameras.length===0&&this.listCameras():(this.isScanning=!1,this.torchActive=!1)}},mounted(){typeof document<"u"&&document.addEventListener("keydown",this.handleEscKey)},beforeUnmount(){typeof document<"u"&&document.removeEventListener("keydown",this.handleEscKey),this.stopScanning()}},m7={key:0},h7={key:0,class:"scanner-container"},v7={key:0,class:"scanning-overlay"},_7={class:"status-messages pa-3"},p7={key:1,class:"pa-4 text-center"},g7={class:"mt-2"},y7={class:"mt-2"},b7={class:"d-flex gap-2"};function w7(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-chip"),u=ie("v-spacer"),f=ie("v-btn"),d=ie("v-card-title"),m=ie("qrcode-stream"),p=ie("v-alert"),g=ie("v-card-text"),y=ie("v-card-actions"),S=ie("v-card"),k=ie("v-dialog");return de(),ct(k,{modelValue:r.scannerDialog,"onUpdate:modelValue":t[2]||(t[2]=C=>r.scannerDialog=C),"max-width":"600px",persistent:"false"},{default:D(()=>[h(S,null,{default:D(()=>[h(d,{class:"text-h5 text-primary d-flex align-center"},{default:D(()=>[h(o,{class:"mr-2",size:"large"},{default:D(()=>t[3]||(t[3]=[Ye("mdi-camera")])),_:1,__:[3]}),Ye(" "+ve(e.__("Scan QR Code/Barcode"))+" ",1),h(l,{class:"ml-2",size:"small",color:"primary"},{default:D(()=>[Ye(ve(n.scanType==="Both"?"Auto Detect":n.scanType),1)]),_:1}),h(u),h(f,{icon:"mdi-close",onClick:Ka(i.stopScanning,["stop"]),color:"error",variant:"text",size:"large",title:e.__("Close Scanner")},null,8,["onClick","title"])]),_:1}),h(g,{class:"pa-0"},{default:D(()=>[r.cameraPermissionDenied?(de(),nt("div",p7,[h(o,{size:"64",color:"error"},{default:D(()=>t[8]||(t[8]=[Ye("mdi-camera-off")])),_:1,__:[8]}),P("h3",g7,ve(e.__("Camera Access Required")),1),P("p",y7,ve(e.__("Please allow camera access to scan codes")),1)])):(de(),nt("div",m7,[r.isScanning&&r.scannerDialog?(de(),nt("div",h7,[h(m,{formats:i.readerFormats,torch:r.torchActive,camera:r.selectedDeviceId?{deviceId:r.selectedDeviceId,exact:r.selectedDeviceId}:"auto",onDetect:i.onDetect,onError:i.onError,onCameraOn:t[0]||(t[0]=C=>r.isScanning=!0),onCameraOff:t[1]||(t[1]=C=>r.isScanning=!1),style:{width:"100%",height:"350px","object-fit":"cover"}},{default:D(()=>[r.scanResult?Ke("",!0):(de(),nt("div",v7,t[4]||(t[4]=[P("div",{class:"scan-line"},null,-1),P("div",{class:"scan-corners"},[P("div",{class:"corner top-left"}),P("div",{class:"corner top-right"}),P("div",{class:"corner bottom-left"}),P("div",{class:"corner bottom-right"})],-1)])))]),_:1},8,["formats","torch","camera","onDetect","onError"])])):Ke("",!0),P("div",_7,[r.errorMessage?(de(),ct(p,{key:0,type:"error",variant:"tonal",class:"mb-2"},{default:D(()=>[h(o,null,{default:D(()=>t[5]||(t[5]=[Ye("mdi-alert-circle")])),_:1,__:[5]}),Ye(" "+ve(r.errorMessage),1)]),_:1})):Ke("",!0),r.scanResult?(de(),ct(p,{key:1,type:"success",variant:"tonal",class:"mb-2"},{default:D(()=>[Ye(ve(e.__("Successfully scanned:"))+" ",1),P("strong",null,ve(r.scanResult),1),t[6]||(t[6]=P("br",null,null,-1)),P("small",null,"Format: "+ve(r.scanFormat),1)]),_:1,__:[6]})):Ke("",!0),!r.scanResult&&!r.errorMessage&&r.isScanning&&r.scannerDialog?(de(),ct(p,{key:2,type:"info",variant:"tonal"},{default:D(()=>[Ye(ve(e.__("Position the QR code or barcode within the scanning area"))+" ",1),t[7]||(t[7]=P("br",null,null,-1)),P("small",null,ve(e.__("Detecting formats:"))+" "+ve(i.readerFormats.join(", ")),1)]),_:1,__:[7]})):Ke("",!0)])]))]),_:1}),h(y,{class:"justify-space-between pa-3"},{default:D(()=>[P("div",b7,[r.isScanning&&r.cameras.length>0?(de(),ct(f,{key:0,onClick:i.toggleTorch,color:r.torchActive?"warning":"default",variant:"outlined",size:"small"},{default:D(()=>[h(o,null,{default:D(()=>[Ye(ve(r.torchActive?"mdi-flashlight":"mdi-flashlight-off"),1)]),_:1}),Ye(" "+ve(r.torchActive?e.__("Flash On"):e.__("Flash Off")),1)]),_:1},8,["onClick","color"])):Ke("",!0),r.isScanning&&r.cameras.length>1?(de(),ct(f,{key:1,onClick:i.switchCamera,color:"default",variant:"outlined",size:"small"},{default:D(()=>[h(o,null,{default:D(()=>t[9]||(t[9]=[Ye("mdi-camera-switch")])),_:1,__:[9]}),Ye(" "+ve(e.__("Switch Camera")),1)]),_:1},8,["onClick"])):Ke("",!0)]),h(f,{onClick:Ka(i.stopScanning,["stop"]),color:"error",variant:"outlined"},{default:D(()=>[Ye(ve(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const k7=Bn(f7,[["render",w7],["__scopeId","data-v-28c21430"]]),fI={data(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,baseWidth:window.innerWidth,baseHeight:window.innerHeight}},computed:{widthScale(){return this.windowWidth/this.baseWidth},heightScale(){return this.windowHeight/this.baseHeight},averageScale(){return(this.widthScale+this.heightScale)/2},dynamicSpacing(){const e={xs:4,sm:8,md:16,lg:24,xl:32};return{xs:Math.max(2,Math.round(e.xs*this.averageScale)),sm:Math.max(4,Math.round(e.sm*this.averageScale)),md:Math.max(8,Math.round(e.md*this.averageScale)),lg:Math.max(12,Math.round(e.lg*this.averageScale)),xl:Math.max(16,Math.round(e.xl*this.averageScale))}},responsiveStyles(){let e;return this.windowWidth<=480?e=Math.round(45*this.heightScale):this.windowWidth<=768?e=Math.round(55*this.heightScale):e=Math.round(60*this.heightScale),e=Math.max(30,Math.min(e,70)),{"--dynamic-xs":`${this.dynamicSpacing.xs}px`,"--dynamic-sm":`${this.dynamicSpacing.sm}px`,"--dynamic-md":`${this.dynamicSpacing.md}px`,"--dynamic-lg":`${this.dynamicSpacing.lg}px`,"--dynamic-xl":`${this.dynamicSpacing.xl}px`,"--container-height":`${Math.round(68*this.heightScale)}vh`,"--card-height":`${e}vh`,"--font-scale":this.averageScale.toFixed(2)}}},mounted(){this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}},S7={mixins:[po,fI],components:{CameraScanner:k7},data:()=>({pos_profile:"",flags:{},items_view:"list",item_group:"ALL",loading:!1,items_group:["ALL"],items:[],search:"",first_search:"",search_backup:"",itemsPerPage:50,offersCount:0,appliedOffersCount:0,couponsCount:0,appliedCouponsCount:0,customer_price_list:null,customer:null,new_line:!1,qty:1,refresh_interval:null,currentRequest:null,abortController:null,itemDetailsRetryCount:0,itemDetailsRetryTimeout:null,items_loaded:!1,selected_currency:"",exchange_rate:1,prePopulateInProgress:!1,itemWorker:null,items_request_token:0,show_item_settings:!1,hide_qty_decimals:!1,temp_hide_qty_decimals:!1,hide_zero_rate_items:!1,temp_hide_zero_rate_items:!1,isDragging:!1,search_from_scanner:!1}),watch:{customer:Uc.debounce(function(){if(this.pos_profile.posa_force_reload_items){this.pos_profile.posa_smart_reload_mode?!this.items_loaded||!this.filtered_items.length?(this.items_loaded=!1,this.get_items(!0)):this.$nextTick(()=>this.refreshPricesForVisibleItems()):(this.items_loaded=!1,this.get_items(!0));return}this.items_loaded&&this.filtered_items&&this.filtered_items.length>0?this.$nextTick(()=>this.refreshPricesForVisibleItems()):this.get_items()},300),customer_price_list:Uc.debounce(function(){if(this.pos_profile.posa_force_reload_items){this.pos_profile.posa_smart_reload_mode?!this.items_loaded||!this.items.length?(this.items_loaded=!1,this.get_items(!0)):this.$nextTick(()=>this.refreshPricesForVisibleItems()):(this.items_loaded=!1,this.get_items(!0));return}if(this.items_loaded&&this.items&&this.items.length>0){const e=Rh(this.customer_price_list);if(e&&e.length){const t={};e.forEach(n=>{t[n.item_code]=n}),this.items.forEach(n=>{const a=t[n.item_code];a&&(n.rate=a.rate,n.price_list_rate=a.price_list_rate||a.rate)}),this.eventBus.emit("set_all_items",this.items),this.update_items_details(this.items);return}}this.items_loaded=!1,this.get_items(!0)},300),new_line(){this.eventBus.emit("set_new_line",this.new_line)},filtered_items(e,t){!this.pos_profile.pose_use_limit_search&&e.length!==t.length&&this.update_items_details(e)},first_search:Uc.debounce(function(e){this.search_onchange()},300),selected_currency(){this.applyCurrencyConversionToItems()},exchange_rate(){this.applyCurrencyConversionToItems()},windowWidth(e){this.adjustItemsPerPage(e,this.windowHeight)},windowHeight(e){this.adjustItemsPerPage(this.windowWidth,e)}},methods:{adjustItemsPerPage(e,t=this.windowHeight){const r=t*.68,i=Math.max(1,Math.floor(e/200)),o=Math.max(1,Math.floor(r/160));this.itemsPerPage=i*o},refreshPricesForVisibleItems(){const e=this;if(!e.filtered_items||e.filtered_items.length===0)return;e.loading=!0,e.currentRequest&&(e.abortController.abort(),e.currentRequest=null);const t=e.filtered_items.map(i=>i.item_code),n=Tg(e.pos_profile.name,e.active_price_list,t),a=[];if(n.cached.forEach(i=>{const o=e.filtered_items.find(l=>l.item_code===i.item_code);if(o){const l={actual_qty:i.actual_qty,serial_no_data:i.serial_no_data,batch_no_data:i.batch_no_data};i.item_uoms&&i.item_uoms.length>0&&(l.item_uoms=i.item_uoms,Ls(o.item_code,i.item_uoms)),i.rate!==void 0&&(i.rate!==0||!o.rate)&&(l.rate=i.rate,l.price_list_rate=i.price_list_rate||i.rate),a.push({item:o,upd:l})}}),n.missing.length===0){e.$nextTick(()=>{a.forEach(({item:i,upd:o})=>Object.assign(i,o)),lh(n.cached),e.loading=!1});return}e.abortController=new AbortController;const r=e.filtered_items.filter(i=>n.missing.includes(i.item_code));frappe.call({method:"posawesome.posawesome.api.items.get_items_details",args:{pos_profile:JSON.stringify(e.pos_profile),items_data:JSON.stringify(r),price_list:e.active_price_list},freeze:!1,signal:e.abortController.signal,callback:function(i){i.message&&(i.message.forEach(o=>{const l=e.filtered_items.find(u=>u.item_code===o.item_code);if(l){const u={actual_qty:o.actual_qty,serial_no_data:o.serial_no_data,batch_no_data:o.batch_no_data};o.item_uoms&&o.item_uoms.length>0&&(u.item_uoms=o.item_uoms,Ls(l.item_code,o.item_uoms)),o.rate!==void 0&&(o.rate!==0||!l.rate)&&(u.rate=o.rate,u.price_list_rate=o.price_list_rate||o.rate),a.push({item:l,upd:u})}}),e.$nextTick(()=>{a.forEach(({item:o,upd:l})=>Object.assign(o,l)),lh(i.message),Pg(e.pos_profile.name,e.active_price_list,i.message),e.loading=!1}))},error:function(i){i.name!=="AbortError"&&(console.error("Error fetching item details:",i),e.loading=!1)}})},show_offers(){this.eventBus.emit("show_offers","true")},show_coupons(){this.eventBus.emit("show_coupons","true")},forceReloadItems(){this.items_loaded=!1,this.get_items(!0)},async get_items(e=!1){await Zu,await ho();const t=++this.items_request_token;if(!this.pos_profile){console.error("No POS Profile");return}e&&this.pos_profile.posa_local_storage&&localStorage.setItem("items_storage","");const n=this;this.loading=!0;let a=this.get_search(this.first_search),r=n.item_group!=="ALL"?n.item_group.toLowerCase():"",i=a||"";if(this.items_loaded&&!e&&!this.first_search&&!this.pos_profile.pose_use_limit_search){console.info("Items already loaded, skipping reload"),this.filtered_items&&this.filtered_items.length>0&&this.update_items_details(this.filtered_items),this.loading=!1;return}if(!e&&!this.pos_profile.pose_use_limit_search){const o=Rh(n.customer_price_list);if(o&&o.length){n.items=o,n.items.forEach(l=>{if(!l.item_uoms||l.item_uoms.length===0){const u=$l(l.item_code);u.length>0?l.item_uoms=u:l.stock_uom&&(l.item_uoms=[{uom:l.stock_uom,conversion_factor:1}])}}),this.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,n.items&&n.items.length>0&&(n.prePopulateStockCache(n.items),n.update_items_details(n.items));return}}if(n.pos_profile.posa_local_storage&&vg().length&&!n.pos_profile.pose_use_limit_search&&!e){n.items=vg(),n.items.forEach(o=>{if(!o.item_uoms||o.item_uoms.length===0){const l=$l(o.item_code);l.length>0?o.item_uoms=l:o.stock_uom&&(o.item_uoms=[{uom:o.stock_uom,conversion_factor:1}])}}),this.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,n.items&&n.items.length>0&&(await n.prePopulateStockCache(n.items),n.update_items_details(n.items));return}if(this.itemWorker)try{const l=await(await fetch("/api/method/posawesome.posawesome.api.items.get_items",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":frappe.csrf_token},credentials:"same-origin",body:JSON.stringify({pos_profile:JSON.stringify(n.pos_profile),price_list:n.customer_price_list,item_group:r,search_value:i,customer:n.customer})})).text();this.itemWorker.onmessage=async u=>{if(this.items_request_token===t)if(u.data.type==="parsed"){const f=u.data.items;if(n.items=f.message||f,Cg(n.customer_price_list,n.items),n.items.forEach(d=>{if(d.item_uoms&&d.item_uoms.length>0)Ls(d.item_code,d.item_uoms);else{const m=$l(d.item_code);m.length>0?d.item_uoms=m:d.stock_uom&&(d.item_uoms=[{uom:d.stock_uom,conversion_factor:1}])}}),n.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,console.info("Items Loaded"),n.prePopulateStockCache(n.items),n.$nextTick(()=>{n.search&&!n.pos_profile.pose_use_limit_search&&n.search_onchange()}),n.items&&n.items.length>0&&n.update_items_details(n.items),n.pos_profile.posa_local_storage&&!n.pos_profile.pose_use_limit_search)try{_g(n.items),n.items.forEach(d=>{d.item_uoms&&d.item_uoms.length>0&&Ls(d.item_code,d.item_uoms)})}catch(d){console.error(d)}n.pos_profile.pose_use_limit_search&&n.enter_event(),n.itemWorker&&(n.itemWorker.terminate(),n.itemWorker=null)}else u.data.type==="error"&&(console.error("Item worker parse error:",u.data.error),n.loading=!1)},this.itemWorker.postMessage({type:"parse_and_cache",json:l,priceList:n.customer_price_list})}catch(o){console.error("Failed to fetch items",o),n.loading=!1}else frappe.call({method:"posawesome.posawesome.api.items.get_items",args:{pos_profile:JSON.stringify(n.pos_profile),price_list:n.customer_price_list,item_group:r,search_value:i,customer:n.customer},callback:async function(o){if(n.items_request_token===t&&o.message){if(n.items=o.message,n.items.forEach(l=>{if(l.item_uoms&&l.item_uoms.length>0)Ls(l.item_code,l.item_uoms);else{const u=$l(l.item_code);u.length>0?l.item_uoms=u:l.stock_uom&&(l.item_uoms=[{uom:l.stock_uom,conversion_factor:1}])}}),n.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,Cg(n.customer_price_list,n.items),console.info("Items Loaded"),n.prePopulateStockCache(n.items),n.$nextTick(()=>{n.search&&!n.pos_profile.pose_use_limit_search&&n.search_onchange()}),n.items&&n.items.length>0&&n.update_items_details(n.items),n.pos_profile.posa_local_storage&&!n.pos_profile.pose_use_limit_search)try{_g(o.message),o.message.forEach(l=>{l.item_uoms&&l.item_uoms.length>0&&Ls(l.item_code,l.item_uoms)})}catch(l){console.error(l)}n.pos_profile.pose_use_limit_search&&n.enter_event()}}})},get_items_groups(){if(!this.pos_profile){console.log("No POS Profile");return}if(this.pos_profile.item_groups.length>0)this.pos_profile.item_groups.forEach(e=>{e.item_group!=="All Item Groups"&&this.items_group.push(e.item_group)});else{const e=this;frappe.call({method:"posawesome.posawesome.api.items.get_items_groups",args:{},callback:function(t){t.message&&t.message.forEach(n=>{e.items_group.push(n.name)})}})}},getItemsHeaders(){const e=[{title:__("Name"),align:"start",sortable:!0,key:"item_name"},{title:__("Code"),align:"start",sortable:!0,key:"item_code"},{title:__("Rate"),key:"rate",align:"start"},{title:__("Available QTY"),key:"actual_qty",align:"start"},{title:__("UOM"),key:"stock_uom",align:"start"}];return this.pos_profile.posa_display_item_code||e.splice(1,1),e},click_item_row(e,{item:t}){this.add_item(t)},add_item(e){if(e={...e},e.has_variants)this.eventBus.emit("open_variants_model",e,this.items);else{if(e.actual_qty===0&&this.pos_profile.posa_display_items_in_stock){this.eventBus.emit("show_message",{title:`No stock available for ${e.item_name}`,color:"warning"}),this.update_items_details([e]);return}if((!e.item_uoms||e.item_uoms.length===0)&&(this.update_items_details([e]),(!e.item_uoms||e.item_uoms.length===0)&&(e.item_uoms=[{uom:e.stock_uom,conversion_factor:1}])),this.pos_profile.posa_allow_multi_currency){this.applyCurrencyConversionToItem(e);const t=e.original_currency===this.pos_profile.currency?e.original_rate:e.original_rate*(e.plc_conversion_rate||this.exchange_rate);e.base_rate=t,e.base_price_list_rate=t}if(!e.qty||e.qty===1){let t=this.qty!=null?this.qty:1;t=Math.abs(t),this.hide_qty_decimals&&(t=Math.trunc(t)),e.qty=t}this.eventBus.emit("add_item",e),this.qty=1}},enter_event(){let e=!1;if(!this.filtered_items.length||!this.first_search)return;const t=this.get_item_qty(this.first_search),n={...this.filtered_items[0]};n.qty=flt(t),n.item_barcode.forEach(a=>{this.search==a.barcode&&(n.uom=a.posa_uom,this.eventBus.emit("calc_uom",n,a.posa_uom),e=!0)}),!n.to_set_serial_no&&n.has_serial_no&&this.pos_profile.posa_search_serial_no&&n.serial_no_data.forEach(a=>{this.search&&a.serial_no==this.search&&(n.to_set_serial_no=this.first_search,e=!0)}),this.flags.serial_no&&(n.to_set_serial_no=this.flags.serial_no),!n.to_set_batch_no&&n.has_batch_no&&this.pos_profile.posa_search_batch_no&&n.batch_no_data.forEach(a=>{this.search&&a.batch_no==this.search&&(n.to_set_batch_no=this.first_search,n.batch_no=this.first_search,e=!0)}),this.flags.batch_no&&(n.to_set_batch_no=this.flags.batch_no),e&&(this.add_item(n),this.flags.serial_no=null,this.flags.batch_no=null,this.qty=1,this.clearSearch(),this.$refs.debounce_search.focus())},search_onchange:Uc.debounce(function(e){const t=this,n=typeof e=="string"?e:t.first_search;if(t.search=(n||"").trim(),!t.search){t.search_from_scanner=!1;return}const a=t.search_from_scanner;t.pos_profile.pose_use_limit_search?t.search&&t.search.length>=3&&t.get_items():([...t.filtered_items],t.search&&t.search.length>=3&&t.enter_event(),t.filtered_items&&t.filtered_items.length>0&&setTimeout(()=>{t.update_items_details(t.filtered_items)},300)),a&&(t.clearSearch(),t.$refs.debounce_search&&t.$refs.debounce_search.focus(),t.search_from_scanner=!1)},300),get_item_qty(e){const t=this.qty!=null?this.qty:1;let n=Math.abs(t);if(e.startsWith(this.pos_profile.posa_scale_barcode_start)){let a=e.substr(7,5),r;a.startsWith("0000")?r="0.00"+a.substr(4):a.startsWith("000")?r="0.0"+a.substr(3):a.startsWith("00")?r="0."+a.substr(2):a.startsWith("0")?r=a.substr(1,1)+"."+a.substr(2,a.length):a.startsWith("0")||(r=a.substr(0,2)+"."+a.substr(2,a.length)),n=r}return this.hide_qty_decimals&&(n=Math.trunc(n)),n},get_search(e){let t="";return e&&e.startsWith(this.pos_profile.posa_scale_barcode_start)?t=e.substr(0,7):t=e,t},esc_event(){this.search=null,this.first_search=null,this.search_backup=null,this.qty=1,this.$refs.debounce_search.focus()},update_items_details(e){const t=this;if(!e||!e.length)return;t.itemDetailsRetryTimeout&&(clearTimeout(t.itemDetailsRetryTimeout),t.itemDetailsRetryTimeout=null);const n=e.map(o=>o.item_code),a=Tg(t.pos_profile.name,t.active_price_list,n);a.cached.forEach(o=>{const l=e.find(u=>u.item_code===o.item_code);l&&(Object.assign(l,{actual_qty:o.actual_qty,serial_no_data:o.serial_no_data,batch_no_data:o.batch_no_data,has_batch_no:o.has_batch_no,has_serial_no:o.has_serial_no}),o.item_uoms&&o.item_uoms.length>0&&(l.item_uoms=o.item_uoms,Ls(l.item_code,o.item_uoms)),o.rate!==void 0&&(o.rate!==0||!l.rate)&&(l.rate=o.rate,l.price_list_rate=o.price_list_rate||o.rate),l.original_rate||(l.original_rate=l.rate,l.original_currency=l.currency||t.pos_profile.currency),t.applyCurrencyConversionToItem(l))});let r=a.missing.length===0;if(e.forEach(o=>{const l=wg(o.item_code);if(l!==null?o.actual_qty=l:r=!1,!o.item_uoms||o.item_uoms.length===0){const u=$l(o.item_code);u.length>0?o.item_uoms=u:wa()?o.item_uoms=[{uom:o.stock_uom,conversion_factor:1}]:r=!1}}),wa()||r){t.itemDetailsRetryCount=0;return}t.currentRequest&&(t.abortController.abort(),t.currentRequest=null),t.abortController=new AbortController;const i=e.filter(o=>a.missing.includes(o.item_code));t.currentRequest=frappe.call({method:"posawesome.posawesome.api.items.get_items_details",args:{pos_profile:JSON.stringify(t.pos_profile),items_data:JSON.stringify(i),price_list:t.active_price_list},freeze:!1,signal:t.abortController.signal,callback:function(o){if(o.message){t.itemDetailsRetryCount=0;let l=!1,u=[];t.$nextTick(()=>{e.forEach(f=>{const d=o.message.find(m=>m.item_code==f.item_code);if(d){const m=f.actual_qty;u.push({item:f,updates:{actual_qty:d.actual_qty,serial_no_data:d.serial_no_data,batch_no_data:d.batch_no_data,has_batch_no:d.has_batch_no,has_serial_no:d.has_serial_no,item_uoms:d.item_uoms&&d.item_uoms.length>0?d.item_uoms:f.item_uoms}}),m>0&&d.actual_qty===0&&(l=!0),d.item_uoms&&d.item_uoms.length>0&&Ls(f.item_code,d.item_uoms)}}),u.forEach(({item:f,updates:d})=>{Object.assign(f,d),t.applyCurrencyConversionToItem(f)}),lh(o.message),Pg(t.pos_profile.name,t.active_price_list,o.message),l&&t.$forceUpdate()})}},error:function(o){if(o.name!=="AbortError"&&(console.error("Error fetching item details:",o),e.forEach(l=>{const u=wg(l.item_code);if(u!==null&&(l.actual_qty=u),!l.item_uoms||l.item_uoms.length===0){const f=$l(l.item_code);f.length>0&&(l.item_uoms=f)}}),!wa())){t.itemDetailsRetryCount+=1;const l=Math.min(32e3,1e3*Math.pow(2,t.itemDetailsRetryCount-1));t.itemDetailsRetryTimeout=setTimeout(()=>{t.update_items_details(e)},l)}}}),this.cleanupBeforeDestroy=()=>{t.abortController&&t.abortController.abort()}},update_cur_items_details(){this.filtered_items&&this.filtered_items.length>0&&this.update_items_details(this.filtered_items)},async prePopulateStockCache(e){if(!this.prePopulateInProgress){this.prePopulateInProgress=!0;try{if(SD()){console.debug("Stock cache already initialized");return}console.info("Pre-populating stock cache for",e.length,"items"),await kD(e,this.pos_profile)}catch(t){console.error("Failed to pre-populate stock cache:",t)}finally{this.prePopulateInProgress=!1}}},applyCurrencyConversionToItems(){!this.items||!this.items.length||this.items.forEach(e=>this.applyCurrencyConversionToItem(e))},applyCurrencyConversionToItem(e){if(!e)return;const t=this.pos_profile.currency;e.original_rate||(e.original_rate=e.rate,e.original_currency=e.currency||t);const n=e.original_rate,a=n*(e.plc_conversion_rate||1);e.base_rate=a,e.base_price_list_rate=n;const r=e.original_currency===this.selected_currency?n:n*(this.exchange_rate||1);e.rate=this.flt(r,this.currency_precision),e.currency=this.selected_currency,e.price_list_rate=e.rate},scan_barcoud(){const e=this;try{if(document._scannerAttached)return;onScan.attachTo(document,{suffixKeyCodes:[],keyCodeMapper:function(t){return t.stopImmediatePropagation(),t.preventDefault(),onScan.decodeKeyEvent(t)},onScan:function(t){setTimeout(()=>{e.trigger_onscan(t)},300)}}),document._scannerAttached=!0}catch(t){console.warn("Scanner initialization error:",t.message)}},trigger_onscan(e){this.search_from_scanner=!0,this.first_search=e,this.search=e,this.$nextTick(()=>{this.filtered_items.length==0?(this.eventBus.emit("show_message",{title:`No Item has this barcode "${e}"`,color:"error"}),frappe.utils.play_sound("error")):this.enter_event(),this.clearSearch(),this.$refs.debounce_search&&this.$refs.debounce_search.focus()})},generateWordCombinations(e){const t=e.split(" ");t.length;const n=[];function a(r,i=[]){if(r.length===0)n.push(i.join(" "));else for(let o=0;o<r.length;o++){const l=r.slice(),u=l.splice(o,1);a(l.slice(),i.concat(u))}}return a(t),n},clearSearch(){this.search_backup=this.first_search,this.first_search="",this.search=""},restoreSearch(){this.first_search===""&&(this.first_search=this.search_backup,this.search=this.search_backup)},handleItemSearchFocus(){this.first_search="",this.search=""},clearQty(){this.qty=null},startCameraScanning(){this.$refs.cameraScanner&&this.$refs.cameraScanner.startScanning()},onBarcodeScanned(e){console.log("Barcode scanned:",e),this.search_from_scanner=!0,this.search="",this.first_search="",this.first_search=e,this.search=e,frappe.show_alert({message:`Scanning for: ${e}`,indicator:"blue"},2),setTimeout(()=>{this.processScannedItem(e)},300)},processScannedItem(e){let t=this.items.find(a=>a.barcode===e||a.item_code===e||a.barcodes&&a.barcodes.some(r=>r.barcode===e));if(t){console.log("Found item by exact match:",t),this.addScannedItemToInvoice(t,e);return}const n=this.searchItemsByCode(e);n.length===1?(console.log("Found item by search:",n[0]),this.addScannedItemToInvoice(n[0],e)):n.length>1?this.showMultipleItemsDialog(n,e):this.handleItemNotFound(e)},searchItemsByCode(e){return this.items.filter(t=>{const n=e.toLowerCase();return t.item_code.toLowerCase().includes(n)||t.item_name.toLowerCase().includes(n)||t.barcode&&t.barcode.toLowerCase().includes(n)||t.barcodes&&t.barcodes.some(a=>a.barcode.toLowerCase().includes(n))})},addScannedItemToInvoice(e,t){console.log("Adding scanned item to invoice:",e,t),this.add_item(e),frappe.show_alert({message:`Added: ${e.item_name}`,indicator:"green"},3),this.clearSearch(),this.$refs.debounce_search&&this.$refs.debounce_search.focus()},showMultipleItemsDialog(e,t){const n=new frappe.ui.Dialog({title:__("Multiple Items Found"),fields:[{fieldtype:"HTML",fieldname:"items_html",options:this.generateItemSelectionHTML(e,t)}],primary_action_label:__("Cancel"),primary_action:()=>n.hide()});n.show(),setTimeout(()=>{e.forEach((a,r)=>{n.$wrapper.find(`[data-item-index="${r}"]`).on("click",()=>{this.addScannedItemToInvoice(a,t),n.hide()})})},100)},generateItemSelectionHTML(e,t){let n=`<div class="mb-3"><strong>Scanned Code:</strong> ${t}</div>`;return n+='<div class="item-selection-list">',e.forEach((a,r)=>{n+=`
          <div class="item-option p-3 mb-2 border rounded cursor-pointer" data-item-index="${r}" style="border: 1px solid #ddd; cursor: pointer;">
            <div class="d-flex align-items-center">
              <img src="${a.image||"/assets/posawesome/images/placeholder-image.png"}"
                   style="width: 50px; height: 50px; object-fit: cover; margin-right: 15px;" />
              <div>
                <div class="font-weight-bold">${a.item_name}</div>
                <div class="text-muted small">${a.item_code}</div>
                <div class="text-primary">${this.format_currency(a.rate,this.pos_profile.currency,this.ratePrecision(a.rate))}</div>
              </div>
            </div>
          </div>
        `}),n+="</div>",n},handleItemNotFound(e){console.warn("Item not found for scanned code:",e),frappe.show_alert({message:`Item not found: ${e}`,indicator:"red"},5),this.trigger_onscan(e)},currencySymbol(e){return get_currency_symbol(e)},format_currency(e,t,n){const a=typeof n=="number"?n:this.currency_precision;return this.formatCurrency(e,a)},ratePrecision(e){const t=typeof e=="string"?parseFloat(e):e;return Number.isInteger(t)?0:this.currency_precision},format_number(e,t){const n=typeof t=="number"?t:this.float_precision;return this.formatFloat(e,n)},hasDecimalPrecision(e){if(this.exchange_rate&&this.exchange_rate!==1){let t=e*this.exchange_rate;return!Number.isInteger(t)}return!Number.isInteger(e)},toggleItemSettings(){this.temp_hide_qty_decimals=this.hide_qty_decimals,this.temp_hide_zero_rate_items=this.hide_zero_rate_items,this.show_item_settings=!0},cancelItemSettings(){this.show_item_settings=!1},applyItemSettings(){this.hide_qty_decimals=this.temp_hide_qty_decimals,this.hide_zero_rate_items=this.temp_hide_zero_rate_items,this.saveItemSettings(),this.show_item_settings=!1},onDragStart(e,t){this.isDragging=!0,e.dataTransfer.setData("application/json",JSON.stringify({type:"item-from-selector",item:t})),e.dataTransfer.effectAllowed="copy",this.eventBus.emit("item-drag-start",t)},onDragEnd(e){this.isDragging=!1,this.eventBus.emit("item-drag-end")},saveItemSettings(){try{const e={hide_qty_decimals:this.hide_qty_decimals,hide_zero_rate_items:this.hide_zero_rate_items};localStorage.setItem("posawesome_item_selector_settings",JSON.stringify(e))}catch(e){console.error("Failed to save item selector settings:",e)}},loadItemSettings(){try{const e=localStorage.getItem("posawesome_item_selector_settings");if(e){const t=JSON.parse(e);typeof t.hide_qty_decimals=="boolean"&&(this.hide_qty_decimals=t.hide_qty_decimals),typeof t.hide_zero_rate_items=="boolean"&&(this.hide_zero_rate_items=t.hide_zero_rate_items)}}catch(e){console.error("Failed to load item selector settings:",e)}}},computed:{headers(){return this.getItemsHeaders()},filtered_items(){if(this.search=this.get_search(this.first_search).trim(),this.pos_profile.pose_use_limit_search){const e=this.items.slice(0,this.itemsPerPage);return e.forEach(t=>{t.actual_qty===void 0&&(t.actual_qty=0)}),this.hide_zero_rate_items?e.filter(t=>parseFloat(t.rate)!==0):e}else{let e=[],t=[];if(this.item_group!="ALL"?t=this.items.filter(a=>a.item_group.toLowerCase().includes(this.item_group.toLowerCase())):t=this.items,!this.search||this.search.length<3){let a=[];return this.pos_profile.posa_show_template_items&&this.pos_profile.posa_hide_variants_items?a=t.filter(r=>!r.variant_of).slice(0,this.itemsPerPage):a=t.slice(0,this.itemsPerPage),this.hide_zero_rate_items&&(a=a.filter(r=>parseFloat(r.rate)!==0)),a.forEach(r=>{r.actual_qty===void 0&&(r.actual_qty=0)}),a}else if(this.search){const a=this.search.toLowerCase();if(e=t.filter(r=>r.item_barcode.some(i=>i.barcode===this.search)),e.length===0&&(e=t.filter(r=>r.item_code.toLowerCase().includes(a)||r.item_name.toLowerCase().includes(a))),e.length===0){const r=this.generateWordCombinations(this.search);e=t.filter(i=>{const o=i.item_name.toLowerCase();return r.some(l=>(l=l.toLowerCase().trim(),new RegExp(`.*${l.split("").join(".*")}.*`).test(o)))})}e.length===0&&this.pos_profile.posa_search_serial_no&&(e=t.filter(r=>{for(let i of r.serial_no_data)if(i.serial_no===this.search)return this.flags.serial_no=this.search,!0;return!1})),e.length===0&&this.pos_profile.posa_search_batch_no&&(e=t.filter(r=>{for(let i of r.batch_no_data)if(i.batch_no===this.search)return this.flags.batch_no=this.search,!0;return!1}))}let n=[];return this.pos_profile.posa_show_template_items&&this.pos_profile.posa_hide_variants_items?n=e.filter(a=>!a.variant_of).slice(0,this.itemsPerPage):n=e.slice(0,this.itemsPerPage),this.hide_zero_rate_items&&(n=n.filter(a=>parseFloat(a.rate)!==0)),n.forEach(a=>{a.actual_qty===void 0&&(a.actual_qty=0)}),n}},debounce_search:{get(){return this.first_search},set:Uc.debounce(function(e){this.first_search=(e||"").trim()},200)},debounce_qty:{get(){return this.qty===null||this.qty===""?"":this.hide_qty_decimals?Math.trunc(this.qty):this.qty},set:Uc.debounce(function(e){let t=parseFloat(String(e).replace(/,/g,""));isNaN(t)&&(t=null),this.hide_qty_decimals&&t!=null&&(t=Math.trunc(t)),this.qty=t},200)},isDarkTheme(){return this.$theme.current==="dark"},active_price_list(){return this.customer_price_list||this.pos_profile&&this.pos_profile.selling_price_list}},created:function(){if(this.loadItemSettings(),typeof Worker<"u")try{this.itemWorker=new Worker(hb,{type:"module"}),this.itemWorker.onerror=function(e){console.error("Worker error:",e),console.error("Message:",e.message),console.error("Filename:",e.filename),console.error("Line number:",e.lineno)},console.log("Created worker nowwwwww")}catch(e){console.error("Failed to start item worker",e),this.itemWorker=null}this.$nextTick(function(){}),this.eventBus.on("register_pos_profile",async e=>{await Zu,await ho(),this.pos_profile=e.pos_profile,this.pos_profile.posa_force_reload_items&&!this.pos_profile.posa_smart_reload_mode?await this.get_items(!0):await this.get_items(),this.get_items_groups(),this.items_view=this.pos_profile.posa_default_card_view?"card":"list"}),this.eventBus.on("update_cur_items_details",()=>{this.update_cur_items_details()}),this.eventBus.on("update_offers_counters",e=>{this.offersCount=e.offersCount,this.appliedOffersCount=e.appliedOffersCount}),this.eventBus.on("update_coupons_counters",e=>{this.couponsCount=e.couponsCount,this.appliedCouponsCount=e.appliedCouponsCount}),this.eventBus.on("update_customer_price_list",e=>{this.customer_price_list=e}),this.eventBus.on("update_customer",e=>{this.customer=e}),this.eventBus.on("force_reload_items",async()=>{this.items_loaded=!1,await this.get_items(!0)}),this.eventBus.on("server-online",async()=>{this.items&&this.items.length>0&&await this.update_items_details(this.items)}),this.update_cur_items_details(),this.refresh_interval=setInterval(()=>{this.filtered_items&&this.filtered_items.length>0&&this.update_cur_items_details()},3e4),this.eventBus.on("update_currency",e=>{this.selected_currency=e.currency,this.exchange_rate=e.exchange_rate,this.applyCurrencyConversionToItems(),this.update_cur_items_details()})},mounted(){this.scan_barcoud(),this.adjustItemsPerPage(this.windowWidth,this.windowHeight)},beforeUnmount(){if(this.refresh_interval&&clearInterval(this.refresh_interval),this.itemDetailsRetryTimeout&&clearTimeout(this.itemDetailsRetryTimeout),this.itemDetailsRetryCount=0,this.cleanupBeforeDestroy&&this.cleanupBeforeDestroy(),document._scannerAttached)try{onScan.detachFrom(document),document._scannerAttached=!1}catch(e){console.warn("Scanner detach error:",e.message)}this.itemWorker&&this.itemWorker.terminate(),this.eventBus.off("update_currency"),this.eventBus.off("server-online"),this.eventBus.off("register_pos_profile"),this.eventBus.off("update_cur_items_details"),this.eventBus.off("update_offers_counters"),this.eventBus.off("update_coupons_counters"),this.eventBus.off("update_customer_price_list"),this.eventBus.off("update_customer"),this.eventBus.off("force_reload_items")}},C7={class:"dynamic-padding"},x7={class:"settings-container"},P7={key:0,fluid:"",class:"items-grid dynamic-scroll",ref:"itemsContainer",style:{maxHeight:"calc(100% - 80px)"}},T7={class:"text-caption text-primary truncate"},D7={key:0,class:"text-caption text-success truncate"},I7={class:"text-caption golden--text truncate"},A7={key:1},E7={class:"text-primary"},V7={key:0,class:"text-success"},O7={class:"golden--text"};function M7(e,t,n,a,r,i){const o=ie("v-progress-linear"),l=ie("v-progress-circular"),u=ie("v-overlay"),f=ie("v-btn"),d=ie("v-text-field"),m=ie("v-col"),p=ie("v-checkbox"),g=ie("v-spacer"),y=ie("v-card-title"),S=ie("v-divider"),k=ie("v-switch"),C=ie("v-card-text"),w=ie("v-card-actions"),I=ie("v-card"),V=ie("v-dialog"),O=ie("v-img"),U=ie("v-data-table-virtual"),Y=ie("v-row"),H=ie("v-select"),B=ie("v-btn-toggle"),j=ie("CameraScanner");return de(),nt("div",{style:vt(e.responsiveStyles)},[h(I,{class:Ge(["selection mx-auto my-0 py-0 mt-3 dynamic-card resizable",i.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt({height:e.responsiveStyles["--container-height"],maxHeight:e.responsiveStyles["--container-height"],backgroundColor:i.isDarkTheme?"#121212":"",resize:"vertical",overflow:"auto"})},{default:D(()=>[h(o,{active:e.loading,indeterminate:e.loading,absolute:"",location:"top",color:"info"},null,8,["active","indeterminate"]),h(u,{"model-value":e.loading,class:"align-center justify-center",absolute:""},{default:D(()=>[h(l,{indeterminate:"",color:"primary",size:"48"})]),_:1},8,["model-value"]),P("div",C7,[h(Y,{class:"items"},{default:D(()=>[h(m,{class:"pb-0"},{default:D(()=>[h(d,{density:"compact",clearable:"",autofocus:"",variant:"solo",color:"primary",label:e.frappe._("Search Items"),hint:"Search by item code, serial number, batch no or barcode","hide-details":"",modelValue:i.debounce_search,"onUpdate:modelValue":t[0]||(t[0]=G=>i.debounce_search=G),onKeydown:[Mu(i.esc_event,["esc"]),Mu(i.search_onchange,["enter"])],"onClick:clear":i.clearSearch,"prepend-inner-icon":"mdi-magnify",onFocus:i.handleItemSearchFocus,ref:"debounce_search"},xr({_:2},[e.pos_profile.posa_enable_camera_scanning?{name:"append-inner",fn:D(()=>[h(f,{icon:"mdi-camera",size:"small",color:"primary",variant:"text",onClick:i.startCameraScanning,title:e.__("Scan with Camera")},null,8,["onClick","title"])]),key:"0"}:void 0]),1032,["label","modelValue","onKeydown","onClick:clear","onFocus"])]),_:1}),e.pos_profile.posa_input_qty?(de(),ct(m,{key:0,cols:"3",class:"pb-0"},{default:D(()=>[h(d,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("QTY"),"hide-details":"",modelValue:i.debounce_qty,"onUpdate:modelValue":t[1]||(t[1]=G=>i.debounce_qty=G),type:"text",onKeydown:[Mu(i.enter_event,["enter"]),Mu(i.esc_event,["esc"])],onFocus:i.clearQty},null,8,["label","modelValue","onKeydown","onFocus"])]),_:1})):Ke("",!0),e.pos_profile.posa_new_line?(de(),ct(m,{key:1,cols:"2",class:"pb-0"},{default:D(()=>[h(p,{modelValue:e.new_line,"onUpdate:modelValue":t[2]||(t[2]=G=>e.new_line=G),color:"accent",value:"true",label:"NLine",density:"default","hide-details":""},null,8,["modelValue"])]),_:1})):Ke("",!0),h(m,{cols:"12",class:"dynamic-margin-xs"},{default:D(()=>[P("div",x7,[h(f,{density:"compact",variant:"text",color:"primary","prepend-icon":"mdi-cog-outline",onClick:i.toggleItemSettings,class:"settings-btn"},{default:D(()=>[Ye(ve(e.__("Settings")),1)]),_:1},8,["onClick"]),h(g),h(f,{density:"compact",variant:"text",color:"primary","prepend-icon":"mdi-refresh",onClick:i.forceReloadItems,class:"settings-btn"},{default:D(()=>[Ye(ve(e.__("Reload Items")),1)]),_:1},8,["onClick"]),h(V,{modelValue:e.show_item_settings,"onUpdate:modelValue":t[6]||(t[6]=G=>e.show_item_settings=G),"max-width":"400px"},{default:D(()=>[h(I,null,{default:D(()=>[h(y,{class:"text-h6 pa-4 d-flex align-center"},{default:D(()=>[P("span",null,ve(e.__("Item Selector Settings")),1),h(g),h(f,{icon:"mdi-close",variant:"text",density:"compact",onClick:t[3]||(t[3]=G=>e.show_item_settings=!1)})]),_:1}),h(S),h(C,{class:"pa-4"},{default:D(()=>[h(k,{modelValue:e.temp_hide_qty_decimals,"onUpdate:modelValue":t[4]||(t[4]=G=>e.temp_hide_qty_decimals=G),label:e.__("Hide quantity decimals"),"hide-details":"",density:"compact",color:"primary",class:"mb-2"},null,8,["modelValue","label"]),h(k,{modelValue:e.temp_hide_zero_rate_items,"onUpdate:modelValue":t[5]||(t[5]=G=>e.temp_hide_zero_rate_items=G),label:e.__("Hide zero rated items"),"hide-details":"",density:"compact",color:"primary"},null,8,["modelValue","label"])]),_:1}),h(w,{class:"pa-4 pt-0"},{default:D(()=>[h(f,{color:"error",variant:"text",onClick:i.cancelItemSettings},{default:D(()=>[Ye(ve(e.__("Cancel")),1)]),_:1},8,["onClick"]),h(g),h(f,{color:"primary",variant:"tonal",onClick:i.applyItemSettings},{default:D(()=>[Ye(ve(e.__("Apply")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),h(m,{cols:"12",class:"pt-0 mt-0"},{default:D(()=>[e.items_view=="card"?(de(),nt("div",P7,[(de(!0),nt(ht,null,In(i.filtered_items,G=>(de(),ct(I,{key:G.item_code,hover:"",class:"dynamic-item-card",draggable:!0,onDragstart:F=>i.onDragStart(F,G),onDragend:i.onDragEnd,onClick:F=>i.add_item(G)},{default:D(()=>[h(O,{src:G.image||"/assets/posawesome/images/placeholder-image.png",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,0), rgba(0,0,0,0.4)",height:"100px"},{default:D(()=>[h(C,{class:"text-caption px-1 pb-0 truncate"},{default:D(()=>[Ye(ve(G.item_name),1)]),_:2},1024)]),_:2},1032,["src"]),h(C,{class:"text--primary pa-1"},{default:D(()=>[P("div",T7,ve(i.currencySymbol(G.original_currency||e.pos_profile.currency)||"")+" "+ve(i.format_currency(G.base_price_list_rate||G.rate,G.original_currency||e.pos_profile.currency,i.ratePrecision(G.base_price_list_rate||G.rate))),1),e.pos_profile.posa_allow_multi_currency&&e.selected_currency!==e.pos_profile.currency?(de(),nt("div",D7,ve(i.currencySymbol(e.selected_currency)||"")+" "+ve(i.format_currency(G.rate,e.selected_currency,i.ratePrecision(G.rate))),1)):Ke("",!0),P("div",I7,ve(i.format_number(G.actual_qty,e.hide_qty_decimals?0:4)||0)+" "+ve(G.stock_uom||""),1)]),_:2},1024)]),_:2},1032,["onDragstart","onDragend","onClick"]))),128))],512)):(de(),nt("div",A7,[h(U,{headers:i.headers,items:i.filtered_items,class:"sleek-data-table overflow-y-auto",style:{maxHeight:"calc(100% - 80px)"},"item-key":"item_code","onClick:row":i.click_item_row},{"item.rate":D(({item:G})=>[P("div",null,[P("div",E7,ve(i.currencySymbol(G.original_currency||e.pos_profile.currency))+" "+ve(i.format_currency(G.base_price_list_rate||G.rate,G.original_currency||e.pos_profile.currency,i.ratePrecision(G.base_price_list_rate||G.rate))),1),e.pos_profile.posa_allow_multi_currency&&e.selected_currency!==e.pos_profile.currency?(de(),nt("div",V7,ve(i.currencySymbol(e.selected_currency))+" "+ve(i.format_currency(G.rate,e.selected_currency,i.ratePrecision(G.rate))),1)):Ke("",!0)])]),"item.actual_qty":D(({item:G})=>[P("span",O7,ve(i.format_number(G.actual_qty,e.hide_qty_decimals?0:4)),1)]),_:1},8,["headers","items","onClick:row"])]))]),_:1})]),_:1})])]),_:1},8,["class","style"]),h(I,{class:"cards mb-0 mt-3 dynamic-padding resizable",style:{resize:"vertical",overflow:"auto"}},{default:D(()=>[h(Y,{"no-gutters":"",align:"center",justify:"center",class:"dynamic-spacing-sm"},{default:D(()=>[h(m,{cols:"12",class:"mb-2"},{default:D(()=>[h(H,{items:e.items_group,label:e.frappe._("Items Group"),density:"compact",variant:"solo","hide-details":"",modelValue:e.item_group,"onUpdate:modelValue":t[7]||(t[7]=G=>e.item_group=G)},null,8,["items","label","modelValue"])]),_:1}),e.pos_profile.posa_enable_price_list_dropdown?(de(),ct(m,{key:0,cols:"12",class:"mb-2"},{default:D(()=>[h(d,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Price List"),"hide-details":"","model-value":i.active_price_list,readonly:""},null,8,["label","model-value"])]),_:1})):Ke("",!0),h(m,{cols:"3",class:"dynamic-margin-xs"},{default:D(()=>[h(B,{modelValue:e.items_view,"onUpdate:modelValue":t[8]||(t[8]=G=>e.items_view=G),color:"primary",group:"",density:"compact",rounded:""},{default:D(()=>[h(f,{size:"small",value:"list"},{default:D(()=>[Ye(ve(e.__("List")),1)]),_:1}),h(f,{size:"small",value:"card"},{default:D(()=>[Ye(ve(e.__("Card")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),h(m,{cols:"5",class:"dynamic-margin-xs"},{default:D(()=>[h(f,{size:"small",block:"",color:"warning",variant:"text",onClick:i.show_offers,class:"action-btn-consistent"},{default:D(()=>[Ye(ve(e.offersCount)+" "+ve(e.__("Offers")),1)]),_:1},8,["onClick"])]),_:1}),h(m,{cols:"4",class:"dynamic-margin-xs"},{default:D(()=>[h(f,{size:"small",block:"",color:"primary",variant:"text",onClick:i.show_coupons,class:"action-btn-consistent"},{default:D(()=>[Ye(ve(e.couponsCount)+" "+ve(e.__("Coupons")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e.pos_profile.posa_enable_camera_scanning?(de(),ct(j,{key:0,ref:"cameraScanner","scan-type":e.pos_profile.posa_camera_scan_type||"Both",onBarcodeScanned:i.onBarcodeScanned},null,8,["scan-type","onBarcodeScanned"])):Ke("",!0)],4)}const B7=Bn(S7,[["render",M7],["__scopeId","data-v-b7949ba9"]]),R7={data:()=>({customerDialog:!1,confirmDialog:!1,pos_profile:"",customer_id:"",customer_name:"",tax_id:"",mobile_no:"",address_line1:"",city:"",country:"Pakistan",email_id:"",referral_code:"",birthday:"",birthday_menu:!1,group:"",groups:[],territory:"",territorys:[],genders:[],customer_type:"Individual",gender:"",loyalty_points:null,loyalty_program:null,countries:["Afghanistan","Australia","Bahrain","Bangladesh","Canada","China","Denmark","France","Germany","India","Indonesia","Italy","Japan","Kuwait","Malaysia","Nepal","Netherlands","New Zealand","Norway","Oman","Pakistan","Philippines","Qatar","Saudi Arabia","Singapore","South Korea","Spain","Sri Lanka","Sweden","Switzerland","Syria","Thailand","United Arab Emirates","United Kingdom","United States","Vietnam","Yemen"]}),watch:{birthday(e){if(e&&/^\d{8}$/.test(e))try{const t=e.substring(0,2),n=e.substring(2,4),a=e.substring(4);this.birthday=`${t}-${n}-${a}`,this.updateCalendarDate(t,n,a)}catch(t){console.error("Error processing 8-digit date:",t)}else if(e&&/^\d{2}-\d{2}-\d{4}$/.test(e))try{const t=e.split("-"),n=t[0],a=t[1],r=t[2];this.updateCalendarDate(n,a,r)}catch(t){console.error("Error processing formatted date:",t)}},birthday_menu(e){if(e&&this.birthday&&/^\d{2}-\d{2}-\d{4}$/.test(this.birthday))try{const t=this.birthday.split("-"),n=t[0],a=t[1],r=t[2];this.$nextTick(()=>{this.updateCalendarDate(n,a,r)})}catch(t){console.error("Error updating calendar on menu open:",t)}}},computed:{isDarkTheme(){return this.$theme.current==="dark"}},methods:{updateCalendarDate(e,t,n){const a=this.birthday_menu;this.birthday_menu=!1,this.$nextTick(()=>{const r=`${n}-${t}-${e}`;setTimeout(()=>{this.$refs.birthday_menu&&(this.$refs.birthday_menu.date=r,a&&(this.birthday_menu=!0))},50)})},confirm_close(){this.customer_name||this.tax_id||this.mobile_no||this.address_line1||this.email_id||this.referral_code||this.birthday?this.confirmDialog=!0:this.close_dialog()},confirmClose(){this.confirmDialog=!1,this.close_dialog()},close_dialog(){this.customerDialog=!1,this.clear_customer()},clear_customer(){this.customer_name="",this.tax_id="",this.mobile_no="",this.address_line1="",this.city="",this.country=this.pos_profile&&this.pos_profile.posa_default_country||"Pakistan",this.email_id="",this.referral_code="",this.birthday="",this.group=frappe.defaults.get_user_default("Customer Group"),this.territory=frappe.defaults.get_user_default("Territory"),this.customer_id="",this.customer_type="Individual",this.gender="",this.loyalty_points=null,this.loyalty_program=null},getCustomerGroups(){if(this.groups.length>0)return;const e=this;frappe.db.get_list("Customer Group",{fields:["name"],filters:{is_group:0},limit:1e3,order_by:"name"}).then(t=>{t.length>0&&t.forEach(n=>{e.groups.push(n.name)})})},getCustomerTerritorys(){if(this.territorys.length>0)return;const e=this;frappe.db.get_list("Territory",{fields:["name"],filters:{is_group:0},limit:5e3,order_by:"name"}).then(t=>{t.length>0&&t.forEach(n=>{e.territorys.push(n.name)})})},getGenders(){const e=this;frappe.db.get_list("Gender",{fields:["name"],page_length:10}).then(t=>{t.length>0&&t.forEach(n=>{e.genders.push(n.name)})})},formatBirthdayOnInput(){if(this.birthday&&/^\d{8}$/.test(this.birthday))try{const e=this.birthday.substring(0,2),t=this.birthday.substring(2,4),n=this.birthday.substring(4);this.birthday=`${e}-${t}-${n}`}catch(e){console.error("Error formatting date:",e)}},submit_dialog(){const e=this;if(!this.customer_name){frappe.throw(__("Customer Name is required"));return}if(!this.group){frappe.throw(__("Customer group is required"));return}if(!this.territory){frappe.throw(__("Customer territory is required"));return}let t=null;if(this.birthday)try{if(/^\d{8}$/.test(this.birthday)){const r=this.birthday.substring(0,2),i=this.birthday.substring(2,4);t=`${this.birthday.substring(4)}-${i}-${r}`}else if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(this.birthday)){const r=this.birthday.split("-");if(r.length===3){const i=r[0].padStart(2,"0"),o=r[1].padStart(2,"0");t=`${r[2]}-${o}-${i}`}}else if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(this.birthday)){const r=this.birthday.split("/");if(r.length===3){const i=r[0].padStart(2,"0"),o=r[1].padStart(2,"0");t=`${r[2]}-${o}-${i}`}}else if(this.birthday)try{const r=new Date(this.birthday);if(!isNaN(r.getTime())){const i=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");t=`${i}-${o}-${l}`}}catch(r){console.error("Failed to parse date:",r)}}catch(r){console.error("Error formatting date:",r),t=null}const n={customer_id:this.customer_id,customer_name:this.customer_name,tax_id:this.tax_id,mobile_no:this.mobile_no,address_line1:this.address_line1,city:this.city,country:this.country,email_id:this.email_id,referral_code:this.referral_code,birthday:t||this.birthday,customer_group:this.group,territory:this.territory,customer_type:this.customer_type,gender:this.gender},a={...n,company:e.pos_profile.company,pos_profile_doc:JSON.stringify(e.pos_profile),method:this.customer_id?"update":"create"};if(wa()){ED({args:a}),e.eventBus.emit("show_message",{title:__("Customer saved offline"),color:"warning"}),n.name=this.customer_name,e.eventBus.emit("add_customer_to_list",n),e.eventBus.emit("set_customer",n.name),e.close_dialog();return}frappe.call({method:"posawesome.posawesome.api.customers.create_customer",args:a,callback:r=>{if(!r.exc&&r.message.name){let i=__("Customer created successfully.");e.customer_id&&(i=__("Customer updated successfully.")),e.eventBus.emit("show_message",{title:i,color:"success"}),n.name=r.message.name,frappe.utils.play_sound("submit"),e.eventBus.emit("add_customer_to_list",n),e.eventBus.emit("set_customer",r.message.name),e.eventBus.emit("fetch_customer_details"),e.close_dialog()}else frappe.utils.play_sound("error"),e.eventBus.emit("show_message",{title:__("Customer creation failed."),color:"error"})}})},onDateSelect(){if(this.birthday_menu=!1,this.birthday)try{let e;if(typeof this.birthday=="object")e=this.birthday;else if(typeof this.birthday=="string"&&(this.birthday.includes("GMT")||this.birthday.includes("T")))e=new Date(this.birthday);else return;const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");this.birthday=`${a}-${n}-${t}`}catch(e){console.error("Error formatting date from picker:",e)}}},created:function(){this.eventBus.on("open_update_customer",e=>{this.customerDialog=!0,e?(this.customer_name=e.customer_name,this.customer_id=e.name,this.address_line1=e.address_line1||"",this.city=e.city||"",this.country=e.country||this.pos_profile&&this.pos_profile.posa_default_country||"Pakistan",this.tax_id=e.tax_id,this.mobile_no=e.mobile_no,this.email_id=e.email_id,this.referral_code=e.referral_code,this.birthday=e.birthday,this.group=e.customer_group,this.territory=e.territory,this.loyalty_points=e.loyalty_points,this.loyalty_program=e.loyalty_program,this.gender=e.gender):this.country=this.pos_profile&&this.pos_profile.posa_default_country||"Pakistan"}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.country=this.pos_profile&&this.pos_profile.posa_default_country||"Pakistan"}),this.eventBus.on("payments_register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.country=this.pos_profile&&this.pos_profile.posa_default_country||"Pakistan"}),this.getCustomerGroups(),this.getCustomerTerritorys(),this.getGenders(),this.group=frappe.defaults.get_user_default("Customer Group"),this.territory=frappe.defaults.get_user_default("Territory")}},F7={key:0,class:"text-h5 text-primary"},$7={key:1,class:"text-h5 text-primary"};function L7(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-select"),d=ie("v-autocomplete"),m=ie("v-row"),p=ie("v-container"),g=ie("v-card-text"),y=ie("v-spacer"),S=ie("v-btn"),k=ie("v-card-actions"),C=ie("v-card"),w=ie("v-dialog");return de(),ct(m,{justify:"center"},{default:D(()=>[h(w,{modelValue:e.customerDialog,"onUpdate:modelValue":t[14]||(t[14]=I=>e.customerDialog=I),"max-width":"600px",persistent:""},{default:D(()=>[h(C,null,{default:D(()=>[h(o,null,{default:D(()=>[e.customer_id?(de(),nt("span",F7,ve(e.__("Update Customer")),1)):(de(),nt("span",$7,ve(e.__("Create Customer")),1))]),_:1}),h(g,{class:"pa-0"},{default:D(()=>[h(p,null,{default:D(()=>[h(m,null,{default:D(()=>[h(u,{cols:"12"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Customer Name")+" *","bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"",class:"dark-field",modelValue:e.customer_name,"onUpdate:modelValue":t[0]||(t[0]=I=>e.customer_name=I)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Tax ID"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.tax_id,"onUpdate:modelValue":t[1]||(t[1]=I=>e.tax_id=I)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Mobile No"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.mobile_no,"onUpdate:modelValue":t[2]||(t[2]=I=>e.mobile_no=I)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.__("Address Line 1"),"bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"",class:"dark-field",modelValue:e.address_line1,"onUpdate:modelValue":t[3]||(t[3]=I=>e.address_line1=I)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:D(()=>[h(l,{modelValue:e.city,"onUpdate:modelValue":t[4]||(t[4]=I=>e.city=I),variant:"outlined",density:"compact",label:e.__("City"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","bg-color"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:D(()=>[h(f,{modelValue:e.country,"onUpdate:modelValue":t[5]||(t[5]=I=>e.country=I),items:e.countries,variant:"outlined",density:"compact",label:e.__("Country"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","items","label","bg-color"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Email Id"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.email_id,"onUpdate:modelValue":t[6]||(t[6]=I=>e.email_id=I)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(f,{density:"compact",label:"Gender",items:e.genders,modelValue:e.gender,"onUpdate:modelValue":t[7]||(t[7]=I=>e.gender=I),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["items","modelValue","bg-color"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Referral Code"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.referral_code,"onUpdate:modelValue":t[8]||(t[8]=I=>e.referral_code=I)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{modelValue:e.birthday,"onUpdate:modelValue":[t[9]||(t[9]=I=>e.birthday=I),i.formatBirthdayOnInput],label:e.frappe._("Birthday (DD-MM-YYYY)"),density:"compact",clearable:"","hide-details":"",color:"primary",placeholder:"DD-MM-YYYY","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","onUpdate:modelValue","bg-color"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(d,{clearable:"",density:"compact","auto-select-first":"",color:"primary",label:e.frappe._("Customer Group")+" *",modelValue:e.group,"onUpdate:modelValue":t[10]||(t[10]=I=>e.group=I),items:e.groups,"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","no-data-text":e.__("Group not found"),"hide-details":"",required:""},null,8,["label","modelValue","items","bg-color","no-data-text"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(d,{clearable:"",density:"compact","auto-select-first":"",color:"primary",label:e.frappe._("Territory")+" *",modelValue:e.territory,"onUpdate:modelValue":t[11]||(t[11]=I=>e.territory=I),items:e.territorys,"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","no-data-text":e.__("Territory not found"),"hide-details":"",required:""},null,8,["label","modelValue","items","bg-color","no-data-text"])]),_:1}),e.loyalty_program?(de(),ct(u,{key:0,cols:"6"},{default:D(()=>[h(l,{modelValue:e.loyalty_program,"onUpdate:modelValue":t[12]||(t[12]=I=>e.loyalty_program=I),label:e.frappe._("Loyalty Program"),density:"compact",readonly:"","hide-details":"","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","bg-color"])]),_:1})):Ke("",!0),e.loyalty_points?(de(),ct(u,{key:1,cols:"6"},{default:D(()=>[h(l,{modelValue:e.loyalty_points,"onUpdate:modelValue":t[13]||(t[13]=I=>e.loyalty_points=I),label:e.frappe._("Loyalty Points"),density:"compact",readonly:"","hide-details":"","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","bg-color"])]),_:1})):Ke("",!0)]),_:1})]),_:1})]),_:1}),h(k,null,{default:D(()=>[h(y),h(S,{color:"error",theme:"dark",onClick:i.confirm_close},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1},8,["onClick"]),h(S,{color:"success",theme:"dark",onClick:i.submit_dialog},{default:D(()=>[Ye(ve(e.__("Submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(w,{modelValue:e.confirmDialog,"onUpdate:modelValue":t[16]||(t[16]=I=>e.confirmDialog=I),"max-width":"400px"},{default:D(()=>[h(C,null,{default:D(()=>[h(o,{class:"text-h5 text-primary"},{default:D(()=>[Ye(ve(e.__("Confirm Close")),1)]),_:1}),h(g,null,{default:D(()=>[Ye(ve(e.__("Are you sure you want to close? All entered data will be lost.")),1)]),_:1}),h(k,null,{default:D(()=>[h(y),h(S,{color:"primary",onClick:t[15]||(t[15]=I=>e.confirmDialog=!1)},{default:D(()=>[Ye(ve(e.__("Continue Editing")),1)]),_:1}),h(S,{color:"error",onClick:i.confirmClose},{default:D(()=>[Ye(ve(e.__("Yes, Close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const mI=Bn(R7,[["render",L7],["__scopeId","data-v-1fb2c64a"]]),N7={props:{pos_profile:Object},data:()=>({pos_profile:"",customers:[],customer:"",internalCustomer:null,tempSelectedCustomer:null,isMenuOpen:!1,readonly:!1,customer_info:{},loadingCustomers:!1,customerSearch:""}),components:{UpdateCustomer:mI},computed:{isDarkTheme(){return this.$theme.current==="dark"},filteredCustomers(){const e=this.customerSearch.toLowerCase();let t=this.customers;return e&&(t=t.filter(n=>n.customer_name&&n.customer_name.toLowerCase().includes(e)||n.tax_id&&n.tax_id.toLowerCase().includes(e)||n.email_id&&n.email_id.toLowerCase().includes(e)||n.mobile_no&&n.mobile_no.toLowerCase().includes(e)||n.name&&n.name.toLowerCase().includes(e))),t}},methods:{onCustomerMenuToggle(e){this.isMenuOpen=e,e?(this.internalCustomer=null,this.$nextTick(()=>{setTimeout(()=>{var n,a;const t=(a=(n=this.$refs.customerDropdown)==null?void 0:n.$el)==null?void 0:a.querySelector(".v-overlay__content .v-select-list");t&&(t.scrollTop=0)},50)})):(this.tempSelectedCustomer?(this.internalCustomer=this.tempSelectedCustomer,this.customer=this.tempSelectedCustomer,this.eventBus.emit("update_customer",this.customer)):this.customer&&(this.internalCustomer=this.customer),this.tempSelectedCustomer=null)},onCustomerChange(e){this.tempSelectedCustomer=e,!this.isMenuOpen&&e&&(this.customer=e,this.eventBus.emit("update_customer",e))},onCustomerSearch(e){this.customerSearch=e||""},handleEnter(e){var a;const t=((a=e.target.value)==null?void 0:a.toLowerCase())||"",n=this.customers.find(r=>{var i,o;return((i=r.customer_name)==null?void 0:i.toLowerCase().includes(t))||((o=r.name)==null?void 0:o.toLowerCase().includes(t))});n&&(this.tempSelectedCustomer=n.name,this.internalCustomer=n.name,this.customer=n.name,this.eventBus.emit("update_customer",n.name),this.isMenuOpen=!1,e.target.blur())},get_customer_names(){var e=this;if(!(this.customers.length>0)){if(e.pos_profile.posa_local_storage&&$u().length)try{e.customers=$u()}catch(t){console.error("Failed to parse customer cache:",t),e.customers=[]}this.loadingCustomers=!0,frappe.call({method:"posawesome.posawesome.api.customers.get_customer_names",args:{pos_profile:this.pos_profile.pos_profile},callback:function(t){t.message&&(e.customers=t.message,e.pos_profile.posa_local_storage&&pg(t.message)),e.loadingCustomers=!1},error:function(t){console.error("Failed to fetch customers:",t),e.loadingCustomers=!1}})}},new_customer(){this.eventBus.emit("open_update_customer",null)},edit_customer(){this.eventBus.emit("open_update_customer",this.customer_info)}},created(){if($u().length)try{this.customers=$u()}catch(e){console.error("Failed to parse customer cache:",e),this.customers=[]}this.$nextTick(()=>{this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e,this.get_customer_names()}),this.eventBus.on("payments_register_pos_profile",e=>{this.pos_profile=e,this.get_customer_names()}),this.eventBus.on("set_customer",e=>{this.customer=e,this.internalCustomer=e}),this.eventBus.on("add_customer_to_list",e=>{const t=this.customers.findIndex(n=>n.name===e.name);t!==-1?this.customers.splice(t,1,e):this.customers.push(e),this.pos_profile.posa_local_storage&&pg(this.customers),this.customer=e.name,this.internalCustomer=e.name,this.eventBus.emit("update_customer",e.name)}),this.eventBus.on("set_customer_readonly",e=>{this.readonly=e}),this.eventBus.on("set_customer_info_to_edit",e=>{this.customer_info=e}),this.eventBus.on("fetch_customer_details",()=>{this.get_customer_names()})})}},q7={class:"customer-input-wrapper"},U7=["innerHTML"],H7=["innerHTML"],z7=["innerHTML"],W7=["innerHTML"],j7=["innerHTML"],Y7={class:"mt-4"};function K7(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-tooltip"),u=ie("v-list-item-subtitle"),f=ie("v-list-item"),d=ie("v-autocomplete"),m=ie("UpdateCustomer");return de(),nt("div",q7,[h(d,{ref:"customerDropdown",class:"customer-autocomplete sleek-field",density:"compact",clearable:"",variant:"solo",color:"primary",label:e.frappe._("Customer"),modelValue:e.internalCustomer,"onUpdate:modelValue":[t[2]||(t[2]=p=>e.internalCustomer=p),i.onCustomerChange],items:i.filteredCustomers,"item-title":"customer_name","item-value":"name","bg-color":i.isDarkTheme?"#1E1E1E":"white","no-data-text":e.__("Customers not found"),"hide-details":"",customFilter:()=>!0,disabled:e.readonly||e.loadingCustomers,"menu-props":{closeOnContentClick:!1},"onUpdate:menu":i.onCustomerMenuToggle,"onUpdate:search":i.onCustomerSearch,onKeydown:Mu(i.handleEnter,["enter"]),"virtual-scroll":!0,"virtual-scroll-item-height":48},{"prepend-inner":D(()=>[h(l,{text:"Edit customer"},{activator:D(({props:p})=>[h(o,it(p,{class:"icon-button",onMousedown:t[0]||(t[0]=Ka(()=>{},["prevent","stop"])),onClick:Ka(i.edit_customer,["stop"])}),{default:D(()=>t[3]||(t[3]=[Ye(" mdi-account-edit ")])),_:2,__:[3]},1040,["onClick"])]),_:1})]),"append-inner":D(()=>[h(l,{text:"Add new customer"},{activator:D(({props:p})=>[h(o,it(p,{class:"icon-button",onMousedown:t[1]||(t[1]=Ka(()=>{},["prevent","stop"])),onClick:Ka(i.new_customer,["stop"])}),{default:D(()=>t[4]||(t[4]=[Ye(" mdi-plus ")])),_:2,__:[4]},1040,["onClick"])]),_:1})]),item:D(({props:p,item:g})=>[h(f,Ea(tr(p)),{default:D(()=>[g.raw.customer_name!==g.raw.name?(de(),ct(u,{key:0},{default:D(()=>[P("div",{innerHTML:`ID: ${g.raw.name}`},null,8,U7)]),_:2},1024)):Ke("",!0),g.raw.tax_id?(de(),ct(u,{key:1},{default:D(()=>[P("div",{innerHTML:`TAX ID: ${g.raw.tax_id}`},null,8,H7)]),_:2},1024)):Ke("",!0),g.raw.email_id?(de(),ct(u,{key:2},{default:D(()=>[P("div",{innerHTML:`Email: ${g.raw.email_id}`},null,8,z7)]),_:2},1024)):Ke("",!0),g.raw.mobile_no?(de(),ct(u,{key:3},{default:D(()=>[P("div",{innerHTML:`Mobile No: ${g.raw.mobile_no}`},null,8,W7)]),_:2},1024)):Ke("",!0),g.raw.primary_address?(de(),ct(u,{key:4},{default:D(()=>[P("div",{innerHTML:`Primary Address: ${g.raw.primary_address}`},null,8,j7)]),_:2},1024)):Ke("",!0)]),_:2},1040)]),_:1},8,["label","modelValue","items","bg-color","no-data-text","disabled","onUpdate:menu","onUpdate:modelValue","onUpdate:search","onKeydown"]),P("div",Y7,[h(m)])])}const hI=Bn(N7,[["render",K7],["__scopeId","data-v-479d1452"]]),G7={props:{pos_profile:Object,delivery_charges:Array,selected_delivery_charge:[Object,String],delivery_charges_rate:Number,deliveryChargesFilter:Function,formatCurrency:Function,currencySymbol:Function,readonly:Boolean},data(){return{internal_selected_delivery_charge:this.selected_delivery_charge}},computed:{isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},watch:{selected_delivery_charge(e){this.internal_selected_delivery_charge=e}},methods:{onUpdate(e){this.$emit("update:selected_delivery_charge",e)}}};function Q7(e,t,n,a,r,i){const o=ie("v-list-item-title"),l=ie("v-list-item-subtitle"),u=ie("v-list-item"),f=ie("v-autocomplete"),d=ie("v-col"),m=ie("v-text-field"),p=ie("v-row");return n.pos_profile.posa_use_delivery_charges?(de(),ct(p,{key:0,align:"center",class:"items px-3 py-2 mt-0"},{default:D(()=>[h(d,{cols:"12",sm:"8",class:"pb-0 mb-0 pr-0 pt-0"},{default:D(()=>[h(f,{density:"compact",clearable:"","auto-select-first":"",variant:"solo",color:"primary",label:e.frappe._("Delivery Charges"),modelValue:r.internal_selected_delivery_charge,"onUpdate:modelValue":[t[0]||(t[0]=g=>r.internal_selected_delivery_charge=g),i.onUpdate],items:n.delivery_charges,"item-title":"name","item-value":"name","return-object":"","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","no-data-text":e.__("Charges not found"),"hide-details":"",customFilter:n.deliveryChargesFilter,disabled:n.readonly},{item:D(({props:g,item:y})=>[h(u,Ea(tr(g)),{default:D(()=>[h(o,{class:"text-primary text-subtitle-1",innerHTML:y.raw.name},null,8,["innerHTML"]),h(l,{innerHTML:`Rate: ${y.raw.rate}`},null,8,["innerHTML"])]),_:2},1040)]),_:1},8,["label","modelValue","items","bg-color","no-data-text","customFilter","disabled","onUpdate:modelValue"])]),_:1}),h(d,{cols:"12",sm:"4",class:"pb-0 mb-0 pt-0"},{default:D(()=>[h(m,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Delivery Charges Rate"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":n.formatCurrency(n.delivery_charges_rate),prefix:n.currencySymbol(n.pos_profile.currency),disabled:""},null,8,["label","bg-color","model-value","prefix"])]),_:1})]),_:1})):Ke("",!0)}const X7=Bn(G7,[["render",Q7],["__scopeId","data-v-3c227787"]]),J7={props:{pos_profile:Object,posting_date_display:String,customer_balance:Number,formatCurrency:Function,priceList:String,priceLists:Array},data(){return{internal_posting_date_display:this.posting_date_display,internal_price_list:this.priceList}},computed:{isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},watch:{posting_date_display(e){this.internal_posting_date_display=e},priceList(e){this.internal_price_list=e}},methods:{onUpdate(e){this.$emit("update:posting_date_display",e)},onPriceListUpdate(e){this.$emit("update:priceList",e)}}},Z7={key:0,class:"balance-field ml-3"},eK={class:"balance-value"},tK={class:"balance-field"},nK={class:"balance-value"};function aK(e,t,n,a,r,i){const o=ie("VueDatePicker"),l=ie("v-col"),u=ie("v-select"),f=ie("v-row");return n.pos_profile.posa_allow_change_posting_date?(de(),ct(f,{key:0,align:"center",class:"items px-3 py-2 mt-0"},{default:D(()=>[h(l,{cols:"12",sm:"4",class:"pb-2"},{default:D(()=>[h(o,{modelValue:r.internal_posting_date_display,"onUpdate:modelValue":[t[0]||(t[0]=d=>r.internal_posting_date_display=d),i.onUpdate],"model-type":"format",format:"dd-MM-yyyy","auto-apply":"",placeholder:e.frappe._("Posting Date"),dark:i.isDarkTheme,class:"dark-field sleek-field posting-date-input"},null,8,["modelValue","placeholder","dark","onUpdate:modelValue"])]),_:1}),n.pos_profile.posa_enable_price_list_dropdown?(de(),ct(l,{key:0,cols:"12",sm:"6",class:"pb-2 d-flex align-center"},{default:D(()=>[h(u,{density:"comfortable",variant:"solo",color:"primary",items:n.priceLists,label:e.frappe._("Price List"),modelValue:r.internal_price_list,"onUpdate:modelValue":[t[1]||(t[1]=d=>r.internal_price_list=d),i.onPriceListUpdate],"hide-details":"",class:"flex-grow-1 sleek-field"},null,8,["items","label","modelValue","onUpdate:modelValue"]),n.pos_profile.posa_show_customer_balance?(de(),nt("div",Z7,[P("strong",null,ve(e.__("Customer Balance"))+":",1),P("span",eK,ve(n.formatCurrency(n.customer_balance)),1)])):Ke("",!0)]),_:1})):n.pos_profile.posa_show_customer_balance?(de(),ct(l,{key:1,cols:"12",sm:"8",class:"pb-2 d-flex align-center"},{default:D(()=>[P("div",tK,[P("strong",null,ve(e.__("Customer Balance"))+":",1),P("span",nK,ve(n.formatCurrency(n.customer_balance)),1)])]),_:1})):Ke("",!0)]),_:1})):Ke("",!0)}const rK=Bn(J7,[["render",aK],["__scopeId","data-v-b1c78ebe"]]),iK={props:{pos_profile:Object,selected_currency:String,plc_conversion_rate:Number,conversion_rate:Number,available_currencies:Array,isNumber:Function,price_list_currency:String},data(){return{internal_selected_currency:this.selected_currency,internal_plc_rate:this.plc_conversion_rate,internal_conversion_rate:this.conversion_rate}},computed:{isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},watch:{selected_currency(e){this.internal_selected_currency=e},plc_conversion_rate(e){this.internal_plc_rate=e},conversion_rate(e){this.internal_conversion_rate=e}},methods:{onCurrencyUpdate(e){this.$emit("update:selected_currency",e)},onPlcRateChange(){this.$emit("update:plc_conversion_rate",this.internal_plc_rate)},onConversionChange(){this.$emit("update:conversion_rate",this.internal_conversion_rate)}}};function oK(e,t,n,a,r,i){const o=ie("v-select"),l=ie("v-col"),u=ie("v-text-field"),f=ie("v-row");return n.pos_profile.posa_allow_multi_currency?(de(),ct(f,{key:0,align:"center",class:"items px-3 py-2 mt-0"},{default:D(()=>[h(l,{cols:"12",sm:"4",class:"pb-2"},{default:D(()=>[h(o,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Currency"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",modelValue:r.internal_selected_currency,"onUpdate:modelValue":[t[0]||(t[0]=d=>r.internal_selected_currency=d),i.onCurrencyUpdate],items:n.available_currencies},null,8,["label","bg-color","modelValue","items","onUpdate:modelValue"])]),_:1}),h(l,{cols:"12",sm:"4",class:"pb-2"},{default:D(()=>[h(u,{density:"compact",variant:"solo",color:"primary",label:"Price List "+n.price_list_currency+" to "+r.internal_selected_currency,"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",modelValue:r.internal_plc_rate,"onUpdate:modelValue":t[1]||(t[1]=d=>r.internal_plc_rate=d),rules:[n.isNumber],onChange:i.onPlcRateChange},null,8,["label","bg-color","modelValue","rules","onChange"])]),_:1}),h(l,{cols:"12",sm:"4",class:"pb-2"},{default:D(()=>[h(u,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Conversion Rate"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",modelValue:r.internal_conversion_rate,"onUpdate:modelValue":t[2]||(t[2]=d=>r.internal_conversion_rate=d),rules:[n.isNumber],onChange:i.onConversionChange},null,8,["label","bg-color","modelValue","rules","onChange"])]),_:1})]),_:1})):Ke("",!0)}const sK=Bn(iK,[["render",oK],["__scopeId","data-v-2be602e6"]]),lK={props:{modelValue:Boolean},emits:["update:modelValue","confirm"],methods:{onConfirm(){this.$emit("confirm")}}},uK={class:"text-h5 text-primary"};function cK(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-card-text"),u=ie("v-spacer"),f=ie("v-btn"),d=ie("v-card-actions"),m=ie("v-card"),p=ie("v-dialog");return de(),ct(p,{"model-value":n.modelValue,"max-width":"330","onUpdate:modelValue":t[1]||(t[1]=g=>e.$emit("update:modelValue",g))},{default:D(()=>[h(m,null,{default:D(()=>[h(o,{class:"text-h5"},{default:D(()=>[P("span",uK,ve(e.__("Cancel Sale ?")),1)]),_:1}),h(l,null,{default:D(()=>t[2]||(t[2]=[Ye(' This would cancel and delete the current sale. To save it as Draft, click the "Save and Clear" instead. ')])),_:1,__:[2]}),h(d,null,{default:D(()=>[h(u),h(f,{color:"error",onClick:i.onConfirm},{default:D(()=>[Ye(ve(e.__("Yes, Cancel sale")),1)]),_:1},8,["onClick"]),h(f,{color:"warning",onClick:t[0]||(t[0]=g=>e.$emit("update:modelValue",!1))},{default:D(()=>[Ye(ve(e.__("Back")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}const dK=Bn(lK,[["render",cK]]),fK={props:{pos_profile:Object,total_qty:[Number,String],additional_discount:Number,additional_discount_percentage:Number,total_items_discount_amount:Number,subtotal:Number,displayCurrency:String,formatFloat:Function,formatCurrency:Function,currencySymbol:Function,discount_percentage_offer_name:[String,Number],isNumber:Function},emits:["update:additional_discount","update:additional_discount_percentage","update_discount_umount","save-and-clear","load-drafts","select-order","cancel-sale","open-returns","print-draft","show-payment"],computed:{isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"},hide_qty_decimals(){try{const e=localStorage.getItem("posawesome_item_selector_settings");if(e)return!!JSON.parse(e).hide_qty_decimals}catch(e){console.error("Failed to load item selector settings:",e)}return!1}}};function mK(e,t,n,a,r,i){const o=ie("v-text-field"),l=ie("v-col"),u=ie("v-row"),f=ie("v-btn"),d=ie("v-card");return de(),ct(d,{class:Ge(["cards mb-0 mt-3 py-2 px-3 rounded-lg resizable",i.isDarkTheme?"":"bg-grey-lighten-4"]),style:vt((i.isDarkTheme?"background-color:#1E1E1E;":"")+"resize: vertical; overflow: auto;")},{default:D(()=>[h(u,{dense:""},{default:D(()=>[h(l,{cols:"12",md:"7"},{default:D(()=>[h(u,{dense:""},{default:D(()=>[h(l,{cols:"6"},{default:D(()=>[h(o,{"model-value":n.formatFloat(n.total_qty,i.hide_qty_decimals?0:void 0),label:e.frappe._("Total Qty"),"prepend-inner-icon":"mdi-format-list-numbered",variant:"solo",density:"compact",readonly:"",color:"accent"},null,8,["model-value","label"])]),_:1}),n.pos_profile.posa_use_percentage_discount?(de(),ct(l,{key:1,cols:"6"},{default:D(()=>[h(o,{"model-value":n.additional_discount_percentage,"onUpdate:modelValue":t[1]||(t[1]=m=>e.$emit("update:additional_discount_percentage",m)),onChange:t[2]||(t[2]=m=>e.$emit("update_discount_umount")),rules:[n.isNumber],label:e.frappe._("Additional Discount %"),suffix:"%","prepend-inner-icon":"mdi-percent",variant:"solo",density:"compact",color:"warning",disabled:!n.pos_profile.posa_allow_user_to_edit_additional_discount||!!n.discount_percentage_offer_name},null,8,["model-value","rules","label","disabled"])]),_:1})):(de(),ct(l,{key:0,cols:"6"},{default:D(()=>[h(o,{"model-value":n.additional_discount,"onUpdate:modelValue":t[0]||(t[0]=m=>e.$emit("update:additional_discount",m)),label:e.frappe._("Additional Discount"),"prepend-inner-icon":"mdi-cash-minus",variant:"solo",density:"compact",color:"warning",prefix:n.currencySymbol(n.pos_profile.currency),disabled:!n.pos_profile.posa_allow_user_to_edit_additional_discount||!!n.discount_percentage_offer_name},null,8,["model-value","label","prefix","disabled"])]),_:1})),h(l,{cols:"6"},{default:D(()=>[h(o,{"model-value":n.formatCurrency(n.total_items_discount_amount),prefix:n.currencySymbol(n.displayCurrency),label:e.frappe._("Items Discounts"),"prepend-inner-icon":"mdi-tag-minus",variant:"solo",density:"compact",color:"warning",readonly:""},null,8,["model-value","prefix","label"])]),_:1}),h(l,{cols:"6"},{default:D(()=>[h(o,{"model-value":n.formatCurrency(n.subtotal),prefix:n.currencySymbol(n.displayCurrency),label:e.frappe._("Total"),"prepend-inner-icon":"mdi-cash",variant:"solo",density:"compact",readonly:"",color:"success"},null,8,["model-value","prefix","label"])]),_:1})]),_:1})]),_:1}),h(l,{cols:"12",md:"5"},{default:D(()=>[h(u,{dense:""},{default:D(()=>[h(l,{cols:"6"},{default:D(()=>[h(f,{block:"",color:"accent",theme:"dark","prepend-icon":"mdi-content-save",onClick:t[3]||(t[3]=m=>e.$emit("save-and-clear")),class:"summary-btn"},{default:D(()=>[Ye(ve(e.__("Save & Clear")),1)]),_:1})]),_:1}),h(l,{cols:"6"},{default:D(()=>[h(f,{block:"",color:"warning",theme:"dark","prepend-icon":"mdi-file-document",onClick:t[4]||(t[4]=m=>e.$emit("load-drafts")),class:"white-text-btn summary-btn"},{default:D(()=>[Ye(ve(e.__("Load Drafts")),1)]),_:1})]),_:1}),n.pos_profile.custom_allow_select_sales_order==1?(de(),ct(l,{key:0,cols:"6"},{default:D(()=>[h(f,{block:"",color:"info",theme:"dark","prepend-icon":"mdi-book-search",onClick:t[5]||(t[5]=m=>e.$emit("select-order")),class:"summary-btn"},{default:D(()=>[Ye(ve(e.__("Select S.O")),1)]),_:1})]),_:1})):Ke("",!0),h(l,{cols:"6"},{default:D(()=>[h(f,{block:"",color:"error",theme:"dark","prepend-icon":"mdi-close-circle",onClick:t[6]||(t[6]=m=>e.$emit("cancel-sale")),class:"summary-btn"},{default:D(()=>[Ye(ve(e.__("Cancel Sale")),1)]),_:1})]),_:1}),n.pos_profile.posa_allow_return==1?(de(),ct(l,{key:1,cols:"6"},{default:D(()=>[h(f,{block:"",color:"secondary",theme:"dark","prepend-icon":"mdi-backup-restore",onClick:t[7]||(t[7]=m=>e.$emit("open-returns")),class:"summary-btn"},{default:D(()=>[Ye(ve(e.__("Sales Return")),1)]),_:1})]),_:1})):Ke("",!0),n.pos_profile.posa_allow_print_draft_invoices?(de(),ct(l,{key:2,cols:"6"},{default:D(()=>[h(f,{block:"",color:"primary",theme:"dark","prepend-icon":"mdi-printer",onClick:t[8]||(t[8]=m=>e.$emit("print-draft")),class:"summary-btn"},{default:D(()=>[Ye(ve(e.__("Print Draft")),1)]),_:1})]),_:1})):Ke("",!0),h(l,{cols:"12"},{default:D(()=>[h(f,{block:"",color:"success",theme:"dark",size:"large","prepend-icon":"mdi-credit-card",onClick:t[9]||(t[9]=m=>e.$emit("show-payment")),class:"summary-btn"},{default:D(()=>[Ye(ve(e.__("PAY")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class","style"])}const hK=Bn(fK,[["render",mK],["__scopeId","data-v-4943c5fd"]]),vK={name:"ItemsTable",props:{headers:Array,items:Array,expanded:Array,itemsPerPage:Number,itemSearch:String,pos_profile:Object,invoice_doc:Object,invoiceType:String,displayCurrency:String,formatFloat:Function,formatCurrency:Function,currencySymbol:Function,isNumber:Function,setFormatedQty:Function,calcStockQty:Function,setFormatedCurrency:Function,calcPrices:Function,calcUom:Function,setSerialNo:Function,setBatchQty:Function,validateDueDate:Function,removeItem:Function,subtractOne:Function,addOne:Function,isReturnInvoice:Boolean,toggleOffer:Function},data(){return{draggedItem:null,draggedIndex:null,dragOverIndex:null,isDragging:!1}},computed:{headerProps(){return this.isDarkTheme?{style:"background-color:#121212;color:#fff"}:{}},isDarkTheme(){return this.$theme.current==="dark"},hide_qty_decimals(){try{const e=localStorage.getItem("posawesome_item_selector_settings");if(e)return!!JSON.parse(e).hide_qty_decimals}catch(e){console.error("Failed to load item selector settings:",e)}return!1}},methods:{onDragOverFromSelector(e){e.dataTransfer.types.includes("application/json")&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")},onDragEnterFromSelector(e){this.$emit("show-drop-feedback",!0)},onDragLeaveFromSelector(e){e.currentTarget.contains(e.relatedTarget)||this.$emit("show-drop-feedback",!1)},onDropFromSelector(e){e.preventDefault();try{const t=JSON.parse(e.dataTransfer.getData("application/json"));t.type==="item-from-selector"&&(this.$emit("add-item-from-drag",t.item),this.$emit("item-dropped",!1))}catch(t){console.error("Error parsing drag data:",t)}}}},_K={class:"amount-value"},pK={class:"currency-display"},gK={class:"currency-symbol"},yK={class:"amount-value"},bK={class:"currency-display"},wK={class:"currency-symbol"},kK={class:"amount-value"},SK={class:"amount-value"},CK={class:"currency-display"},xK={class:"currency-symbol"},PK={class:"amount-value"},TK={class:"currency-display"},DK={class:"currency-symbol"},IK={class:"amount-value"},AK=["colspan"],EK={class:"expanded-content"},VK={class:"action-panel"},OK={class:"action-button-group"},MK={class:"action-label"},BK={class:"action-button-group"},RK={class:"action-label"},FK={class:"action-label"},$K={class:"item-details-form"},LK={class:"form-row"},NK={class:"form-field"},qK={class:"form-field"},UK={class:"form-field"},HK={class:"form-row"},zK={class:"form-field"},WK={class:"form-field"},jK={class:"form-field"},YK={class:"form-row"},KK={class:"form-field"},GK={class:"form-field"},QK={class:"form-field"},XK={class:"form-row"},JK={class:"form-field"},ZK={class:"form-field"},e9={key:0,class:"form-field"},t9={key:0,class:"form-section"},n9={class:"form-row"},a9={class:"form-field"},r9={class:"form-row"},i9={class:"form-field full-width"},o9={key:1,class:"form-section"},s9={class:"form-row"},l9={class:"form-field"},u9={class:"form-field"},c9={class:"form-field"},d9={key:2,class:"form-section"},f9={class:"form-row"},m9={class:"form-field"},h9={class:"form-row"},v9={class:"form-field"},_9={class:"form-field"},p9={class:"form-field"};function g9(e,t,n,a,r,i){const o=ie("v-checkbox-btn"),l=ie("v-icon"),u=ie("v-btn"),f=ie("v-text-field"),d=ie("v-select"),m=ie("v-checkbox"),p=ie("v-autocomplete"),g=ie("v-list-item-title"),y=ie("v-list-item-subtitle"),S=ie("v-list-item"),k=ie("VueDatePicker"),C=ie("v-data-table-virtual");return de(),nt("div",{class:"my-0 py-0 overflow-y-auto items-table-container",style:{height:"calc(100% - 80px)",maxHeight:"calc(100% - 80px)"},onDragover:t[1]||(t[1]=w=>i.onDragOverFromSelector(w)),onDrop:t[2]||(t[2]=w=>i.onDropFromSelector(w)),onDragenter:t[3]||(t[3]=(...w)=>i.onDragEnterFromSelector&&i.onDragEnterFromSelector(...w)),onDragleave:t[4]||(t[4]=(...w)=>i.onDragLeaveFromSelector&&i.onDragLeaveFromSelector(...w))},[h(C,{headers:n.headers,items:n.items,theme:e.$theme.current,expanded:n.expanded,"show-expand":"","item-value":"posa_row_id",class:"modern-items-table elevation-2","items-per-page":n.itemsPerPage,"expand-on-click":"",density:"compact","hide-default-footer":"","single-expand":!0,"header-props":i.headerProps,"onUpdate:expanded":t[0]||(t[0]=w=>e.$emit("update:expanded",w)),search:n.itemSearch},{"item.qty":D(({item:w})=>[P("div",_K,ve(n.formatFloat(w.qty,i.hide_qty_decimals?0:void 0)),1)]),"item.rate":D(({item:w})=>[P("div",pK,[P("span",gK,ve(n.currencySymbol(n.displayCurrency)),1),P("span",yK,ve(n.formatCurrency(w.rate)),1)])]),"item.amount":D(({item:w})=>[P("div",bK,[P("span",wK,ve(n.currencySymbol(n.displayCurrency)),1),P("span",kK,ve(n.formatCurrency(w.qty*w.rate)),1)])]),"item.discount_value":D(({item:w})=>[P("div",SK,ve(n.formatFloat(w.discount_percentage||(w.price_list_rate?w.discount_amount/w.price_list_rate*100:0)))+"% ",1)]),"item.discount_amount":D(({item:w})=>[P("div",CK,[P("span",xK,ve(n.currencySymbol(n.displayCurrency)),1),P("span",PK,ve(n.formatCurrency(w.discount_amount||0)),1)])]),"item.price_list_rate":D(({item:w})=>[P("div",TK,[P("span",DK,ve(n.currencySymbol(n.displayCurrency)),1),P("span",IK,ve(n.formatCurrency(w.price_list_rate)),1)])]),"item.posa_is_offer":D(({item:w})=>[h(o,{modelValue:w.posa_is_offer,"onUpdate:modelValue":I=>w.posa_is_offer=I,class:"center",onChange:I=>n.toggleOffer(w)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"expanded-row":D(({item:w})=>[P("td",{colspan:n.headers.length,class:"ma-0 pa-0"},[P("div",EK,[P("div",VK,[P("div",OK,[h(u,{disabled:!!w.posa_is_replace,icon:"mdi-trash-can-outline",size:"large",color:"error",variant:"tonal",class:"item-action-btn delete-btn",onClick:Ka(I=>n.removeItem(w),["stop"])},{default:D(()=>[h(l,{size:"large"},{default:D(()=>t[5]||(t[5]=[Ye("mdi-trash-can-outline")])),_:1,__:[5]}),P("span",MK,ve(e.__("Remove")),1)]),_:2},1032,["disabled","onClick"])]),P("div",BK,[h(u,{disabled:!!w.posa_is_replace,size:"large",color:"warning",variant:"tonal",class:"item-action-btn minus-btn",onClick:Ka(I=>n.subtractOne(w),["stop"])},{default:D(()=>[h(l,{size:"large"},{default:D(()=>t[6]||(t[6]=[Ye("mdi-minus-circle-outline")])),_:1,__:[6]}),P("span",RK,ve(e.__("Decrease")),1)]),_:2},1032,["disabled","onClick"]),h(u,{disabled:!!w.posa_is_replace,size:"large",color:"success",variant:"tonal",class:"item-action-btn plus-btn",onClick:Ka(I=>n.addOne(w),["stop"])},{default:D(()=>[h(l,{size:"large"},{default:D(()=>t[7]||(t[7]=[Ye("mdi-plus-circle-outline")])),_:1,__:[7]}),P("span",FK,ve(e.__("Increase")),1)]),_:2},1032,["disabled","onClick"])])]),P("div",$K,[P("div",LK,[P("div",NK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Item Code"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:w.item_code,"onUpdate:modelValue":I=>w.item_code=I,disabled:"","prepend-inner-icon":"mdi-barcode"},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),P("div",qK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("QTY"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(w.qty,i.hide_qty_decimals?0:void 0),onChange:I=>[n.setFormatedQty(w,"qty",null,!1,I.target.value),n.calcStockQty(w,w.qty)],rules:[n.isNumber],disabled:!!w.posa_is_replace,"prepend-inner-icon":"mdi-numeric"},null,8,["label","bg-color","model-value","onChange","rules","disabled"])]),P("div",UK,[h(d,{density:"compact","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field",label:e.frappe._("UOM"),modelValue:w.uom,"onUpdate:modelValue":[I=>w.uom=I,I=>n.calcUom(w,I)],items:w.item_uoms,variant:"outlined","item-title":"uom","item-value":"uom","hide-details":"",disabled:!!w.posa_is_replace||n.isReturnInvoice&&n.invoice_doc.return_against,"prepend-inner-icon":"mdi-weight"},null,8,["bg-color","label","modelValue","onUpdate:modelValue","items","disabled"])])]),P("div",HK,[P("div",zK,[h(f,{density:"compact",variant:"outlined",color:"primary",id:"rate",label:e.frappe._("Rate"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(w.rate),onChange:I=>[n.setFormatedCurrency(w,"rate",null,!1,I),n.calcPrices(w,I.target.value,I)],disabled:!!w.posa_is_replace||!!w.posa_offer_applied,"prepend-inner-icon":"mdi-currency-usd"},null,8,["label","bg-color","model-value","onChange","disabled"])]),P("div",WK,[h(f,{density:"compact",variant:"outlined",color:"primary",id:"discount_percentage",label:e.frappe._("Discount %"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(w.discount_percentage||0),onChange:I=>[n.setFormatedCurrency(w,"discount_percentage",null,!1,I),n.calcPrices(w,I.target.value,I)],disabled:!!w.posa_is_replace||!!w.posa_offer_applied,"prepend-inner-icon":"mdi-percent"},null,8,["label","bg-color","model-value","onChange","disabled"])]),P("div",jK,[h(f,{density:"compact",variant:"outlined",color:"primary",id:"discount_amount",label:e.frappe._("Discount Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(w.discount_amount||0),onChange:I=>[n.setFormatedCurrency(w,"discount_amount",null,!1,I),n.calcPrices(w,I.target.value,I)],disabled:!!w.posa_is_replace||!!w.posa_offer_applied,"prepend-inner-icon":"mdi-tag-minus"},null,8,["label","bg-color","model-value","onChange","disabled"])])]),P("div",YK,[P("div",KK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Price list Rate"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(w.price_list_rate),disabled:"",prefix:n.currencySymbol(n.pos_profile.currency)},null,8,["label","bg-color","model-value","prefix"])]),P("div",GK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Available QTY"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(w.actual_qty),disabled:""},null,8,["label","bg-color","model-value"])]),P("div",QK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Group"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:w.item_group,"onUpdate:modelValue":I=>w.item_group=I,disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])])]),P("div",XK,[P("div",JK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Stock QTY"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(w.stock_qty),disabled:""},null,8,["label","bg-color","model-value"])]),P("div",ZK,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Stock UOM"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:w.stock_uom,"onUpdate:modelValue":I=>w.stock_uom=I,disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),w.posa_offer_applied?(de(),nt("div",e9,[h(m,{density:"compact",label:e.frappe._("Offer Applied"),modelValue:w.posa_offer_applied,"onUpdate:modelValue":I=>w.posa_offer_applied=I,readonly:"","hide-details":"",class:"mt-1"},null,8,["label","modelValue","onUpdate:modelValue"])])):Ke("",!0)]),w.has_serial_no==1||w.serial_no?(de(),nt("div",t9,[P("div",n9,[P("div",a9,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Serial No QTY"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:w.serial_no_selected_count,"onUpdate:modelValue":I=>w.serial_no_selected_count=I,type:"number",disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])])]),P("div",r9,[P("div",i9,[h(p,{modelValue:w.serial_no_selected,"onUpdate:modelValue":[I=>w.serial_no_selected=I,I=>n.setSerialNo(w)],items:w.serial_no_data,"item-title":"serial_no","item-value":"serial_no",variant:"outlined",density:"compact",chips:"",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field",label:e.frappe._("Serial No"),multiple:""},null,8,["modelValue","onUpdate:modelValue","items","bg-color","label"])])])])):Ke("",!0),w.has_batch_no==1||w.batch_no?(de(),nt("div",o9,[P("div",s9,[P("div",l9,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Batch No. Available QTY"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(w.actual_batch_qty),disabled:""},null,8,["label","bg-color","model-value"])]),P("div",u9,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Batch No Expiry Date"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:w.batch_no_expiry_date,"onUpdate:modelValue":I=>w.batch_no_expiry_date=I,disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),P("div",c9,[h(p,{modelValue:w.batch_no,"onUpdate:modelValue":[I=>w.batch_no=I,I=>n.setBatchQty(w,I)],items:w.batch_no_data,"item-title":"batch_no",variant:"outlined",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field",label:e.frappe._("Batch No"),"hide-details":""},{item:D(({props:I,item:V})=>[h(S,Ea(tr(I)),{default:D(()=>[h(g,{innerHTML:V.raw.batch_no},null,8,["innerHTML"]),h(y,{innerHTML:`Available QTY  '${V.raw.batch_qty}' - Expiry Date ${V.raw.expiry_date}`},null,8,["innerHTML"])]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","items","bg-color","label"])])])])):Ke("",!0),n.pos_profile.posa_allow_sales_order&&n.invoiceType=="Order"?(de(),nt("div",d9,[P("div",f9,[P("div",m9,[h(k,{modelValue:w.posa_delivery_date,"onUpdate:modelValue":[I=>w.posa_delivery_date=I,I=>n.validateDueDate(w)],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:i.isDarkTheme},null,8,["modelValue","onUpdate:modelValue","min-date","dark"])])])])):Ke("",!0),P("div",h9,[P("div",v9,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Warehouse"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:w.warehouse,"onUpdate:modelValue":I=>w.warehouse=I,disabled:"","prepend-inner-icon":"mdi-warehouse"},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),P("div",_9,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Price List Rate"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(w.price_list_rate||0),disabled:"","prepend-inner-icon":"mdi-format-list-numbered"},null,8,["label","bg-color","model-value"])]),P("div",p9,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(w.qty*w.rate),disabled:"","prepend-inner-icon":"mdi-calculator"},null,8,["label","bg-color","model-value"])])])])])],8,AK)]),_:1},8,["headers","items","theme","expanded","items-per-page","header-props","search"])],32)}const y9=Bn(vK,[["render",g9],["__scopeId","data-v-2579d97b"]]),b9={total_qty(){this.close_payments();let e=0;return this.items.forEach(t=>{e+=flt(t.qty)}),this.flt(e,this.float_precision)},Total(){let e=0;return this.items.forEach(t=>{const n=this.isReturnInvoice?Math.abs(flt(t.qty)):flt(t.qty),a=flt(t.rate);e+=n*a}),this.flt(e,this.currency_precision)},subtotal(){this.close_payments();let e=0;this.items.forEach(a=>{const r=this.isReturnInvoice?Math.abs(flt(a.qty)):flt(a.qty),i=flt(a.rate);e+=r*i});const t=this.flt(this.additional_discount);e-=t;const n=this.flt(this.delivery_charges_rate);return e+=n,this.flt(e,this.currency_precision)},total_items_discount_amount(){let e=0;return this.items.forEach(t=>{this.isReturnInvoice?e+=Math.abs(flt(t.qty))*flt(t.discount_amount):e+=flt(t.qty)*flt(t.discount_amount)}),this.flt(e,this.float_precision)},formatted_posting_date:{get(){if(!this.posting_date)return"";const e=this.posting_date.split("-");return e.length===3?`${e[2]}-${e[1]}-${e[0]}`:this.posting_date},set(e){const t=e.split("-");t.length===3?this.posting_date=`${t[2]}-${t[1]}-${t[0]}`:this.posting_date=e}},currencySymbol(){return e=>get_currency_symbol(e||this.selected_currency||this.pos_profile.currency)},displayCurrency(){return this.selected_currency||this.pos_profile.currency},isReturnInvoice(){return this.invoiceType==="Return"||this.invoice_doc&&this.invoice_doc.is_return},itemTableHeaders(){return[{text:__("Item"),value:"item_name",width:"35%"},{text:__("Qty"),value:"qty",width:"15%"},{text:__(`Rate (${this.displayCurrency})`),value:"rate",width:"20%"},{text:__(`Amount (${this.displayCurrency})`),value:"amount",width:"20%"},{text:__("Action"),value:"actions",sortable:!1,width:"10%"}]}},w9={customer(){this.close_payments(),this.eventBus.emit("set_customer",this.customer),this.fetch_customer_details(),this.fetch_customer_balance(),this.set_delivery_charges()},customer_info(){this.eventBus.emit("set_customer_info_to_edit",this.customer_info)},expanded(e){e.length>0&&this.update_item_detail(e[0])},discount_percentage_offer_name(){this.eventBus.emit("update_discount_percentage_offer_name",{value:this.discount_percentage_offer_name})},items:{deep:!0,handler(e){this.handelOffers(),this.$forceUpdate()}},invoiceType(){this.eventBus.emit("update_invoice_type",this.invoiceType)},additional_discount(){!this.additional_discount||this.additional_discount==0?this.additional_discount_percentage=0:this.pos_profile.posa_use_percentage_discount?this.Total&&this.Total!==0?this.additional_discount_percentage=this.additional_discount/this.Total*100:this.additional_discount_percentage=0:this.additional_discount_percentage=0},posting_date:{handler(e){this.posting_date_display=this.formatDateForDisplay(e)},immediate:!0},posting_date_display(e){this.posting_date=this.formatDateForBackend(e)},selected_price_list(e){xg();const t=e===this.pos_profile.selling_price_list?null:e;this.eventBus.emit("update_customer_price_list",t);const n=e||this.pos_profile.selling_price_list;this.apply_cached_price_list(n),this.pos_profile.posa_allow_multi_currency&&n&&frappe.call({method:"posawesome.posawesome.api.invoices.get_price_list_currency",args:{price_list:n},callback:a=>{a.message&&(this.price_list_currency=a.message,this.update_currency(a.message))}})},selected_currency(){xg(),this.items&&this.items.length&&this.update_item_rates()},exchange_rate(){this.items&&this.items.length&&this.update_item_rates()}},k9={remove_item(e){const t=this.items.findIndex(n=>n.posa_row_id==e.posa_row_id);t>=0&&this.items.splice(t,1),this.expanded=this.expanded.filter(n=>n!==e.posa_row_id)},add_item(e){e.uom||(e.uom=e.stock_uom);let t=-1;this.new_line||(this.pos_profile.posa_auto_set_batch&&e.has_batch_no?t=this.items.findIndex(a=>a.item_code===e.item_code&&a.uom===e.uom&&!a.posa_is_offer&&!a.posa_is_replace):t=this.items.findIndex(a=>a.item_code===e.item_code&&a.uom===e.uom&&!a.posa_is_offer&&!a.posa_is_replace&&(a.batch_no&&e.batch_no&&a.batch_no===e.batch_no||!a.batch_no&&!e.batch_no)));let n;if(t===-1||this.new_line)n=this.get_new_item(e),e.has_serial_no&&e.to_set_serial_no&&(n.serial_no_selected=[],n.serial_no_selected.push(e.to_set_serial_no),e.to_set_serial_no=null),e.has_batch_no&&e.to_set_batch_no&&(n.batch_no=e.to_set_batch_no,e.to_set_batch_no=null,e.batch_no=null,this.set_batch_qty(n,n.batch_no,!1)),this.isReturnInvoice&&(n.qty=-Math.abs(n.qty||1)),this.items.unshift(n),this.update_item_detail(n,!0),(!this.pos_profile.posa_auto_set_batch&&n.has_batch_no||n.has_serial_no)&&this.$nextTick(()=>{this.expanded=[n.posa_row_id]});else{const a=this.items[t];if(this.update_items_details([a]),e.has_serial_no&&e.to_set_serial_no){if(a.serial_no_selected.includes(e.to_set_serial_no)){this.eventBus.emit("show_message",{title:__("This Serial Number {0} has already been added!",[e.to_set_serial_no]),color:"warning"}),e.to_set_serial_no=null;return}a.serial_no_selected.push(e.to_set_serial_no),e.to_set_serial_no=null}this.isReturnInvoice?a.qty-=e.qty||1:a.qty+=e.qty||1,this.calc_stock_qty(a,a.qty),a.has_batch_no&&a.batch_no&&this.set_batch_qty(a,a.batch_no,!1),this.set_serial_no(a)}this.$forceUpdate(),n&&(!this.pos_profile.posa_auto_set_batch&&n.has_batch_no||n.has_serial_no)&&(this.expanded=[n.posa_row_id])},get_new_item(e){const t={...e};e.qty||(e.qty=1),e.posa_is_offer||(e.posa_is_offer=0),e.posa_is_replace||(e.posa_is_replace=""),t._manual_rate_set=!1,this.isReturnInvoice&&e.qty>0&&(e.qty=-Math.abs(e.qty)),t.stock_qty=e.qty,t.discount_amount=0,t.discount_percentage=0,t.discount_amount_per_item=0,t.price_list_rate=e.rate;const n=this.price_list_currency||this.pos_profile.currency;return this.selected_currency!==n?(t.base_price_list_rate=e.rate/this.exchange_rate,t.base_rate=e.rate/this.exchange_rate,t.base_discount_amount=0):(t.base_price_list_rate=e.rate,t.base_rate=e.rate,t.base_discount_amount=0),t.qty=e.qty,t.uom=e.uom?e.uom:e.stock_uom,t.item_uoms=e.item_uoms||[],t.item_uoms.length===0&&t.stock_uom&&t.item_uoms.push({uom:t.stock_uom,conversion_factor:1}),t.actual_batch_qty="",t.batch_no_expiry_date=e.batch_no_expiry_date||null,t.conversion_factor=1,t.posa_offers=JSON.stringify([]),t.posa_offer_applied=0,t.posa_is_offer=e.posa_is_offer,t.posa_is_replace=e.posa_is_replace||null,t.is_free_item=0,t.posa_notes="",t.posa_delivery_date="",t.posa_row_id=this.makeid(20),t.has_serial_no&&!t.serial_no_selected&&(t.serial_no_selected=[],t.serial_no_selected_count=0),(!this.pos_profile.posa_auto_set_batch&&t.has_batch_no||t.has_serial_no)&&this.expanded.push(t),t},clear_invoice(){this.items=[],this.posa_offers=[],this.expanded=[],this.eventBus.emit("set_pos_coupons",[]),this.posa_coupons=[],this.invoice_doc="",this.return_doc="",this.discount_amount=0,this.additional_discount=0,this.additional_discount_percentage=0,this.delivery_charges_rate=0,this.selected_delivery_charge="",this.posting_date=frappe.datetime.nowdate(),this.update_price_list(),this.customer=this.pos_profile.customer,this.eventBus.emit("set_customer_readonly",!1),this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.invoiceTypes=["Invoice","Order"]}},S9={set_serial_no(e){console.log(e),e.has_serial_no&&(e.serial_no="",e.serial_no_selected.forEach(t=>{e.serial_no+=t+`
`}),e.serial_no_selected_count=e.serial_no_selected.length,e.serial_no_selected_count!=e.stock_qty&&(e.qty=e.serial_no_selected_count,this.calc_stock_qty(e,e.qty),this.$forceUpdate()))},set_batch_qty(e,t,n=!0){console.log("Setting batch quantity:",e,t);const a=this.items.filter(o=>o.item_code==e.item_code&&o.posa_row_id!=e.posa_row_id),r={};e.batch_no_data.forEach(o=>{r[o.batch_no]={...o,used_qty:0,remaining_qty:o.batch_qty},a.forEach(l=>{l.batch_no&&l.batch_no==o.batch_no&&(r[o.batch_no].used_qty+=l.qty,r[o.batch_no].remaining_qty-=l.qty,r[o.batch_no].batch_qty-=l.qty)})});const i=Object.values(r).filter(o=>o.remaining_qty>0).sort((o,l)=>o.expiry_date&&l.expiry_date?new Date(o.expiry_date)-new Date(l.expiry_date):o.expiry_date?-1:l.expiry_date?1:o.manufacturing_date&&l.manufacturing_date?new Date(o.manufacturing_date)-new Date(l.manufacturing_date):o.manufacturing_date?-1:l.manufacturing_date?1:l.remaining_qty-o.remaining_qty);if(i.length>0){let o=null;if(t&&(o=i.find(l=>l.batch_no==t)),o||(o=i[0]),e.batch_no=o.batch_no,e.actual_batch_qty=o.batch_qty,e.batch_no_expiry_date=o.expiry_date,o.batch_price){e.base_batch_price=o.batch_price;const l=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==l?e.batch_price=this.flt(o.batch_price/this.exchange_rate,this.currency_precision):e.batch_price=o.batch_price,e.base_price_list_rate=e.base_batch_price,e.base_rate=e.base_batch_price,this.selected_currency!==l?(e.price_list_rate=e.batch_price,e.rate=e.batch_price):(e.price_list_rate=e.base_batch_price,e.rate=e.base_batch_price),e.discount_percentage=0,e.discount_amount=0,e.base_discount_amount=0,e.amount=this.flt(e.qty*e.rate,this.currency_precision),e.base_amount=this.flt(e.qty*e.base_rate,this.currency_precision),console.log("Updated batch prices:",{base_batch_price:e.base_batch_price,batch_price:e.batch_price,rate:e.rate,base_rate:e.base_rate,price_list_rate:e.price_list_rate,exchange_rate:this.exchange_rate})}else n&&(e.batch_price=null,e.base_batch_price=null,this.update_item_detail(e))}else e.batch_no=null,e.actual_batch_qty=null,e.batch_no_expiry_date=null,e.batch_price=null,e.base_batch_price=null;e.batch_no_data=i,this.$forceUpdate()}},C9={update_discount_umount(){const e=flt(this.additional_discount_percentage);if(e<-100||e>100){this.additional_discount_percentage=0,this.additional_discount=0;return}this.Total&&this.Total!==0?this.additional_discount=this.Total*e/100:this.additional_discount=0},calc_prices(e,t,n){var i;if(!((i=n==null?void 0:n.target)!=null&&i.id)||!e)return;const a=n.target.id;let r=flt(t,this.currency_precision);try{a==="rate"&&(e._manual_rate_set=!0),r<0&&(r=0,this.eventBus.emit("show_message",{title:__("Negative values not allowed"),color:"error"}));const o=this.price_list_currency||this.pos_profile.currency,l=this.selected_currency!==o?this.flt(e.price_list_rate/this.exchange_rate,this.currency_precision):e.price_list_rate;switch(a){case"rate":e.base_rate=this.flt(r/this.exchange_rate,this.currency_precision),e.rate=r,e.discount_amount=this.flt(l-e.rate,this.currency_precision),e.base_discount_amount=this.flt(e.price_list_rate-e.base_rate,this.currency_precision),l&&(e.discount_percentage=this.flt(e.discount_amount/l*100,this.float_precision));break;case"discount_amount":console.log("[calc_prices] Event Target ID:",a),console.log("[calc_prices] RAW value received by function:",t),console.log("[calc_prices] Original item.price_list_rate:",e.price_list_rate),console.log("[calc_prices] Converted price_list_rate for calc:",l),console.log("[calc_prices] Input value (newValue before Math.min):",r),r=Math.min(r,l),console.log("[calc_prices] Input value (newValue after Math.min):",r),e.base_discount_amount=this.flt(r/this.exchange_rate,this.currency_precision),e.discount_amount=r,console.log("[calc_prices] Updated item.discount_amount:",e.discount_amount),console.log("[calc_prices] Updated item.base_discount_amount:",e.base_discount_amount),e.rate=this.flt(l-e.discount_amount,this.currency_precision),e.base_rate=this.flt(e.price_list_rate-e.base_discount_amount,this.currency_precision),console.log("[calc_prices] Calculated item.rate:",e.rate),console.log("[calc_prices] Calculated item.base_rate:",e.base_rate),l?e.discount_percentage=this.flt(e.discount_amount/l*100,this.float_precision):e.discount_percentage=0,console.log("[calc_prices] Calculated item.discount_percentage:",e.discount_percentage);break;case"discount_percentage":r=Math.min(r,100),e.discount_percentage=this.flt(r,this.float_precision),e.discount_amount=this.flt(l*e.discount_percentage/100,this.currency_precision),e.base_discount_amount=this.flt(e.price_list_rate*e.discount_percentage/100,this.currency_precision),e.rate=this.flt(l-e.discount_amount,this.currency_precision),e.base_rate=this.flt(e.price_list_rate-e.base_discount_amount,this.currency_precision);break}e.rate<0&&(e.rate=0,e.base_rate=0,e.discount_amount=l,e.base_discount_amount=e.price_list_rate,e.discount_percentage=100),this.calc_stock_qty(e,e.qty),this.$forceUpdate()}catch(o){console.error("Error calculating prices:",o),this.eventBus.emit("show_message",{title:__("Error calculating prices"),color:"error"})}},calc_item_price(e){if(e._skip_calc){e._skip_calc=!1;return}if(!e.posa_offer_applied&&e.price_list_rate){e.base_price_list_rate||(e.base_price_list_rate=e.price_list_rate,e.base_rate=e.rate);const n=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==n?(e.price_list_rate=this.flt(e.base_price_list_rate/this.exchange_rate,this.currency_precision),e.rate=this.flt(e.base_rate/this.exchange_rate,this.currency_precision)):(e.price_list_rate=e.base_price_list_rate,e.rate=e.base_rate)}if(e.discount_percentage){const n=e.price_list_rate,a=this.flt(n*e.discount_percentage/100,this.currency_precision);e.discount_amount=a,e.rate=this.flt(n-a,this.currency_precision);const r=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==r?e.base_discount_amount=this.flt(a/this.exchange_rate,this.currency_precision):e.base_discount_amount=e.discount_amount}e.amount=this.flt(e.qty*e.rate,this.currency_precision);const t=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==t?e.base_amount=this.flt(e.amount/this.exchange_rate,this.currency_precision):e.base_amount=e.amount,this.$forceUpdate()}},x9={calc_uom(e,t){let n=e.item_uoms.find(i=>i.uom==t);if(!n){const i=getItemUOMs(e.item_code);i.length&&(e.item_uoms=i,n=i.find(o=>o.uom==t))}if(!n&&e.stock_uom===t&&(n={uom:e.stock_uom,conversion_factor:1},e.item_uoms||(e.item_uoms=[]),e.item_uoms.push(n)),!n){this.eventBus.emit("show_message",{title:__("UOM not found"),color:"error"});return}const a=e.conversion_factor||1;e.conversion_factor=n.conversion_factor;const r=e.conversion_factor/a;if(e.posa_offer_applied||(e.discount_amount=0,e.discount_percentage=0),!e.original_base_rate&&!e.posa_offer_applied&&(e.original_base_rate=e.base_rate/a,e.original_base_price_list_rate=e.base_price_list_rate/a),e.posa_offer_applied){const i=this.posOffers&&Array.isArray(this.posOffers)?this.posOffers.find(o=>{if(!o||!o.items)return!1;const l=typeof o.items=="string"?JSON.parse(o.items):o.items;return Array.isArray(l)&&l.includes(e.posa_row_id)}):null;if(i&&i.discount_type==="Rate"){const o=flt(i.rate*e.conversion_factor);e.base_rate=o,e.base_price_list_rate=o;const l=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==l?(e.rate=this.flt(o/this.exchange_rate,this.currency_precision),e.price_list_rate=e.rate):(e.rate=o,e.price_list_rate=o)}else if(i&&i.discount_type==="Discount Percentage"){let o;e.original_base_price_list_rate?o=this.flt(e.original_base_price_list_rate*e.conversion_factor,this.currency_precision):o=this.flt(e.base_price_list_rate*r,this.currency_precision),e.base_price_list_rate=o;const l=this.flt(o*i.discount_percentage/100,this.currency_precision);e.base_discount_amount=l,e.base_rate=this.flt(o-l,this.currency_precision);const u=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==u?(e.price_list_rate=this.flt(o/this.exchange_rate,this.currency_precision),e.discount_amount=this.flt(l/this.exchange_rate,this.currency_precision),e.rate=this.flt(e.base_rate/this.exchange_rate,this.currency_precision)):(e.price_list_rate=o,e.discount_amount=l,e.rate=e.base_rate)}}else{e.batch_price?(e.base_rate=e.batch_price*e.conversion_factor,e.base_price_list_rate=e.base_rate):e.original_base_rate&&(e.base_rate=e.original_base_rate*e.conversion_factor,e.base_price_list_rate=e.original_base_price_list_rate*e.conversion_factor);const i=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==i?(e.rate=this.flt(e.base_rate/this.exchange_rate,this.currency_precision),e.price_list_rate=this.flt(e.base_price_list_rate/this.exchange_rate,this.currency_precision)):(e.rate=e.base_rate,e.price_list_rate=e.base_price_list_rate)}this.calc_stock_qty(e,e.qty),this.$forceUpdate()},calc_stock_qty(e,t){e.stock_qty=e.conversion_factor*t}};function xv(e){if(e)try{const t=document.createElement("iframe");t.style.position="fixed",t.style.right="0",t.style.bottom="0",t.style.width="0",t.style.height="0",t.style.border="0",t.onload=()=>{try{t.contentWindow.focus(),t.contentWindow.print()}finally{setTimeout(()=>t.remove(),1e3)}},t.src=e,document.body.appendChild(t)}catch(t){console.error("Silent print failed, falling back to new window",t);const n=window.open(e,"_blank");n&&n.addEventListener("load",()=>n.print(),{once:!0})}}const P9={checkOfferIsAppley(e,t){let n=!1;const a=JSON.parse(e.posa_offers);for(const r of a){const i=this.posa_offers.find(o=>r==o.row_id);if(i&&i.offer_name==t.name){n=!0;break}}return n},handelOffers(){const e=[];this.posOffers.forEach(t=>{if(t.apply_on==="Item Code"){const n=this.getItemOffer(t);n&&e.push(n)}else if(t.apply_on==="Item Group"){const n=this.getGroupOffer(t);n&&e.push(n)}else if(t.apply_on==="Brand"){const n=this.getBrandOffer(t);n&&e.push(n)}else if(t.apply_on==="Transaction"){const n=this.getTransactionOffer(t);n&&e.push(n)}}),this.setItemGiveOffer(e),this.updatePosOffers(e)},setItemGiveOffer(e){e.forEach(t=>{if(t.apply_on=="Item Code"&&t.apply_type=="Item Code"&&t.replace_item)t.give_item=t.item,t.apply_item_code=t.item;else if(t.apply_on=="Item Group"&&t.apply_type=="Item Group"&&t.replace_cheapest_item){const n=this.getCheapestItem(t).item_code;t.give_item=n,t.apply_item_code=n}})},getCheapestItem(e){let t;typeof e.items=="string"?t=JSON.parse(e.items):t=e.items;const n=[];return t.forEach(r=>{n.push(this.getItemFromRowID(r))}),n.reduce(function(r,i){return!i.posa_is_replace&&!i.posa_is_offer&&i.price_list_rate<r.price_list_rate?i:r})},getItemFromRowID(e){return this.items.find(n=>n.posa_row_id==e)},checkQtyAnountOffer(e,t,n){let a=!1,r=!1,i=!1,o=!1;const l=[];(e.min_qty||e.min_qty==0)&&(t>=e.min_qty&&(a=!0),l.push(a)),e.max_qty>0&&(t<=e.max_qty&&(r=!0),l.push(r)),e.min_amt>0&&(n>=e.min_amt&&(i=!0),l.push(i)),e.max_amt>0&&(n<=e.max_amt&&(o=!0),l.push(o));let u=!1;return l.includes(!1)||(u=!0),{apply:u,conditions:{min_qty:a,max_qty:r,min_amt:i,max_amt:o}}},checkOfferCoupon(e){if(e.coupon_based){const t=this.posa_coupons.find(n=>e.name==n.pos_offer);return t?(e.coupon=t.coupon,!0):!1}else return e.coupon=null,!0},getItemOffer(e){let t=null;return e.apply_on==="Item Code"&&this.checkOfferCoupon(e)&&this.items.forEach(n=>{if(!n.posa_is_offer&&n.item_code===e.item){const a=[];e.offer==="Item Price"&&n.posa_offer_applied&&!this.checkOfferIsAppley(n,e)||this.checkQtyAnountOffer(e,n.stock_qty,n.stock_qty*n.price_list_rate).apply&&(a.push(n.posa_row_id),e.items=a,t=e)}}),t},getGroupOffer(e){let t=null;if(e.apply_on==="Item Group"&&this.checkOfferCoupon(e)){const n=[];let a=0,r=0;this.items.forEach(i=>{!i.posa_is_offer&&i.item_group===e.item_group&&(e.offer==="Item Price"&&i.posa_offer_applied&&!this.checkOfferIsAppley(i,e)||(a+=i.stock_qty,r+=i.stock_qty*i.price_list_rate,n.push(i.posa_row_id)))}),(a||r)&&this.checkQtyAnountOffer(e,a,r).apply&&(e.items=n,t=e)}return t},getBrandOffer(e){let t=null;if(e.apply_on==="Brand"&&this.checkOfferCoupon(e)){const n=[];let a=0,r=0;this.items.forEach(i=>{!i.posa_is_offer&&i.brand===e.brand&&(e.offer==="Item Price"&&i.posa_offer_applied&&!this.checkOfferIsAppley(i,e)||(a+=i.stock_qty,r+=i.stock_qty*i.price_list_rate,n.push(i.posa_row_id)))}),(a||r)&&this.checkQtyAnountOffer(e,a,r).apply&&(e.items=n,t=e)}return t},getTransactionOffer(e){let t=null;if(e.apply_on==="Transaction"&&this.checkOfferCoupon(e)){let n=0;this.items.forEach(o=>{!o.posa_is_offer&&!o.posa_is_replace&&(n+=o.stock_qty)});const a=[],r=n,i=this.Total;(r||i)&&this.checkQtyAnountOffer(e,r,i).apply&&(this.items.forEach(l=>{a.push(l.posa_row_id)}),e.items=a,t=e)}return t},updatePosOffers(e){this.eventBus.emit("update_pos_offers",e)},updateInvoiceOffers(e){this.posa_offers.forEach(t=>{e.find(a=>t.row_id==a.row_id)||this.removeApplyOffer(t)}),e.forEach(t=>{const n=this.posa_offers.find(a=>a.row_id==t.row_id);if(n){if(n.items=JSON.stringify(t.items),n.offer==="Give Product"&&n.give_item&&n.give_item!=t.give_item){const a=this.items.find(i=>i.posa_row_id==n.give_item_row_id);if(a){const i=t.items.filter(o=>o!=a.posa_row_id);t.items=i,this.remove_item(a),n.give_item_row_id=null,n.give_item=null}const r=this.ApplyOnGiveProduct(t);if(t.replace_cheapest_item){const i=this.getCheapestItem(t),o=this.items.find(u=>u.posa_row_id==a.posa_is_replace);if(r.qty=a.qty,o&&!o.posa_is_replace)o.qty+=a.qty;else{const u=this.ApplyOnGiveProduct({given_qty:a.qty},a.item_code);u.posa_is_offer=0,this.items.unshift(u)}r.posa_is_offer=0,r.posa_is_replace=i.posa_row_id;const l=i.qty-r.qty;l<=0?(r.qty+=l,this.remove_item(i),r.posa_row_id=i.posa_row_id,r.posa_is_replace=r.posa_row_id):i.qty=l}this.items.unshift(r),n.give_item_row_id=r.posa_row_id,n.give_item=r.item_code}else n.offer==="Give Product"&&n.give_item&&n.give_item==t.give_item&&(t.replace_item||t.replace_cheapest_item)?this.$nextTick(function(){const a=this.getItemFromRowID(n.give_item_row_id),r=t.given_qty-a.qty;if(r>0){const i=JSON.parse(n.items),o=[];i.forEach(u=>{o.push(this.getItemFromRowID(u))});const l=o.find(u=>u.item_code==a.item_code&&u.posa_is_replace!=a.posa_row_id);l&&(l.qty-r>0?(a.qty+=r,l.qty-=r):(a.qty+=l.qty,this.remove_item(l)))}}):n.offer==="Item Price"?this.ApplyOnPrice(t):n.offer==="Grand Total"&&this.ApplyOnTotal(t);this.addOfferToItems(n)}else this.applyNewOffer(t)})},removeApplyOffer(e){if(e.offer==="Item Price"){this.RemoveOnPrice(e);const t=this.posa_offers.findIndex(n=>n.row_id===e.row_id);this.posa_offers.splice(t,1)}if(e.offer==="Give Product"){const t=this.items.find(a=>a.posa_row_id==e.give_item_row_id),n=this.posa_offers.findIndex(a=>a.row_id===e.row_id);this.posa_offers.splice(n,1),this.remove_item(t)}if(e.offer==="Grand Total"){this.RemoveOnTotal(e);const t=this.posa_offers.findIndex(n=>n.row_id===e.row_id);this.posa_offers.splice(t,1)}if(e.offer==="Loyalty Point"){const t=this.posa_offers.findIndex(n=>n.row_id===e.row_id);this.posa_offers.splice(t,1)}this.deleteOfferFromItems(e)},applyNewOffer(e){if(e.offer==="Item Price"&&this.ApplyOnPrice(e),e.offer==="Give Product"){let n;if(typeof e.items=="string"?n=JSON.parse(e.items):n=e.items,e.apply_on=="Item Code"&&e.apply_type=="Item Code"&&e.replace_item){const a=this.ApplyOnGiveProduct(e,e.item);a.posa_is_replace=n[0];const r=this.items.find(o=>o.posa_row_id==a.posa_is_replace),i=r.qty-e.given_qty;a.posa_is_offer=0,i<=0?(a.qty=r.qty,this.remove_item(r),a.posa_row_id=a.posa_is_replace):r.qty=i,this.items.unshift(a),e.give_item_row_id=a.posa_row_id}else if(e.apply_on=="Item Group"&&e.apply_type=="Item Group"&&e.replace_cheapest_item){const a=[];n.forEach(l=>{a.push(this.getItemFromRowID(l))});const r=a.find(l=>l.item_code==e.give_item),i=this.ApplyOnGiveProduct(e,e.give_item);i.posa_is_offer=0,i.posa_is_replace=r.posa_row_id;const o=r.qty-e.given_qty;o<=0?(i.qty=r.qty,this.remove_item(r),i.posa_row_id=i.posa_is_replace):r.qty=o,this.items.unshift(i),e.give_item_row_id=i.posa_row_id}else{const a=this.ApplyOnGiveProduct(e);this.items.unshift(a),a&&(e.give_item_row_id=a.posa_row_id)}}e.offer==="Grand Total"&&this.ApplyOnTotal(e),e.offer==="Loyalty Point"&&this.eventBus.emit("show_message",{title:__("Loyalty Point Offer Applied"),color:"success"});const t={offer_name:e.name,row_id:e.row_id,apply_on:e.apply_on,offer:e.offer,items:JSON.stringify(e.items),give_item:e.give_item,give_item_row_id:e.give_item_row_id,offer_applied:e.offer_applied,coupon_based:e.coupon_based,coupon:e.coupon};this.posa_offers.push(t),this.addOfferToItems(t)},ApplyOnGiveProduct(e,t){t||(t=e.give_item);const a=this.allItems.find(o=>o.item_code==t);if(!a)return;const r={...a};if(r.qty=e.given_qty,r.stock_qty=e.given_qty,e.discount_type==="Rate"){r.base_rate=e.rate;const o=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==o?r.rate=this.flt(e.rate*this.exchange_rate,this.currency_precision):r.rate=e.rate}else if(e.discount_type==="Discount Percentage"){const o=a.base_rate||a.rate/this.exchange_rate,l=this.flt(o*e.discount_percentage/100,this.currency_precision);r.base_discount_amount=l,r.base_rate=this.flt(o-l,this.currency_precision);const u=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==u?(r.discount_amount=this.flt(l*this.exchange_rate,this.currency_precision),r.rate=this.flt(r.base_rate*this.exchange_rate,this.currency_precision)):(r.discount_amount=l,r.rate=r.base_rate)}else{const o=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==o?(r.base_rate=a.base_rate||a.rate/this.exchange_rate,r.rate=a.rate):(r.base_rate=a.rate,r.rate=a.rate)}if(e.discount_type==="Discount Amount"){r.base_discount_amount=e.discount_amount;const o=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==o?r.discount_amount=this.flt(e.discount_amount*this.exchange_rate,this.currency_precision):r.discount_amount=e.discount_amount}else e.discount_type!=="Discount Percentage"&&(r.base_discount_amount=0,r.discount_amount=0);r.discount_percentage=e.discount_type==="Discount Percentage"?e.discount_percentage:0,r.discount_amount_per_item=0,r.uom=a.uom?a.uom:a.stock_uom,r.actual_batch_qty="",r.conversion_factor=1,r.posa_offers=JSON.stringify([]),r.posa_offer_applied=e.discount_type==="Rate"||e.discount_type==="Discount Amount"||e.discount_type==="Discount Percentage"?1:0,r.posa_is_offer=1,r.posa_is_replace=null,r.posa_notes="",r.posa_delivery_date="";const i=e.discount_type==="Rate"&&!e.rate||e.discount_type==="Discount Percentage"&&e.discount_percentage==100;if(r.is_free_item=i?1:0,i)r.base_price_list_rate=0,r.price_list_rate=0;else{r.price_list_rate=a.rate;const o=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==o?r.base_price_list_rate=this.flt(a.rate/this.exchange_rate,this.currency_precision):r.base_price_list_rate=a.rate}return r.posa_row_id=this.makeid(20),(!this.pos_profile.posa_auto_set_batch&&r.has_batch_no||r.has_serial_no)&&this.expanded.push(r),this.update_item_detail(r),r},ApplyOnPrice(e){console.log("Applying price offer:",e),!(!e||!Array.isArray(this.items))&&this.items.forEach(t=>{if(!(!t||!e.items||!Array.isArray(e.items))&&e.items.includes(t.posa_row_id)){const n=t.posa_offers?JSON.parse(t.posa_offers):[];if(!Array.isArray(n))return;if(!n.includes(e.row_id)){if(!t.posa_offer_applied){const r=flt(t.conversion_factor||1);t.original_base_rate=t.base_rate/r,t.original_base_price_list_rate=t.base_price_list_rate/r,t.original_rate=t.rate/r,t.original_price_list_rate=t.price_list_rate/r,console.log("Storing original rates (normalized to conversion factor 1):",{original_base_rate:t.original_base_rate,original_base_price_list_rate:t.original_base_price_list_rate,original_rate:t.original_rate,original_price_list_rate:t.original_price_list_rate,conversion_factor:r})}const a=flt(t.conversion_factor||1);if(e.discount_type==="Rate"){const r=flt(e.rate*a);t.base_rate=r,t.base_price_list_rate=r;const i=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==i?(t.rate=this.flt(r*this.exchange_rate,this.currency_precision),t.price_list_rate=t.rate):(t.rate=r,t.price_list_rate=r),t.discount_percentage=0,t.discount_amount=0,t.base_discount_amount=0}else if(e.discount_type==="Discount Percentage"){t.discount_percentage=e.discount_percentage;const r=this.flt((t.original_base_price_list_rate||t.base_price_list_rate/a)*a,this.currency_precision),i=this.flt(r*e.discount_percentage/100,this.currency_precision);t.base_discount_amount=i,t.base_rate=this.flt(r-i,this.currency_precision),t.base_price_list_rate=r;const o=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==o?(t.price_list_rate=this.flt(r*this.exchange_rate,this.currency_precision),t.discount_amount=this.flt(i*this.exchange_rate,this.currency_precision),t.rate=this.flt(t.base_rate*this.exchange_rate,this.currency_precision)):(t.price_list_rate=r,t.discount_amount=i,t.rate=t.base_rate)}t.amount=this.flt(t.qty*t.rate,this.currency_precision),t.base_amount=this.flt(t.qty*t.base_rate,this.currency_precision),console.log("Updated rates after applying offer:",{rate:t.rate,base_rate:t.base_rate,price_list_rate:t.price_list_rate,base_price_list_rate:t.base_price_list_rate,discount_amount:t.discount_amount,base_discount_amount:t.base_discount_amount,amount:t.amount,base_amount:t.base_amount}),t.posa_offer_applied=1,this.$forceUpdate()}}})},RemoveOnPrice(e){console.log("Removing price offer:",e),!(!e||!Array.isArray(this.items))&&this.items.forEach(t=>{if(!(!t||!t.posa_offers))try{const n=JSON.parse(t.posa_offers);if(!Array.isArray(n))return;if(n.includes(e.row_id)){if(console.log("Found item with offer:",t),!t.original_base_rate){console.warn("Original rates not found, fetching from server"),this.update_item_detail(t);return}const a=flt(t.conversion_factor||1);console.log("Restoring original rates with conversion factor:",{original_base_rate:t.original_base_rate,original_base_price_list_rate:t.original_base_price_list_rate,conversion_factor:a}),t.base_rate=this.flt(t.original_base_rate*a,this.currency_precision),t.base_price_list_rate=this.flt(t.original_base_price_list_rate*a,this.currency_precision);const r=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==r?(t.rate=this.flt(t.base_rate*this.exchange_rate,this.currency_precision),t.price_list_rate=this.flt(t.base_price_list_rate*this.exchange_rate,this.currency_precision)):(t.rate=t.base_rate,t.price_list_rate=t.base_price_list_rate),t.discount_percentage=0,t.discount_amount=0,t.base_discount_amount=0,t.amount=this.flt(t.qty*t.rate,this.currency_precision),t.base_amount=this.flt(t.qty*t.base_rate,this.currency_precision);const i=n.filter(o=>o!==e.row_id);i.length===0&&(t.original_base_rate=null,t.original_base_price_list_rate=null,t.original_rate=null,t.original_price_list_rate=null,t.posa_offer_applied=0),t.posa_offers=JSON.stringify(i),console.log("Updated rates after removing offer:",{rate:t.rate,base_rate:t.base_rate,price_list_rate:t.price_list_rate,base_price_list_rate:t.base_price_list_rate,amount:t.amount,base_amount:t.base_amount,remaining_offers:i}),this.$forceUpdate()}}catch(n){console.error("Error removing price offer:",n),this.eventBus.emit("show_message",{title:__("Error removing price offer"),color:"error",message:n.message})}})},ApplyOnTotal(e){e.name||(e=this.posOffers.find(t=>t.name==e.offer_name)),!(this.discount_percentage_offer_name===e.name&&this.discount_amount!==0)&&(!this.discount_percentage_offer_name||this.discount_percentage_offer_name==e.name)&&e.discount_percentage>0&&e.discount_percentage<=100&&(this.discount_amount=this.flt(flt(this.Total)*flt(e.discount_percentage)/100,this.currency_precision),this.discount_percentage_offer_name=e.name,this.additional_discount=this.discount_amount,this.Total&&this.Total!==0?this.additional_discount_percentage=this.discount_amount/this.Total*100:this.additional_discount_percentage=0)},RemoveOnTotal(e){this.discount_percentage_offer_name&&this.discount_percentage_offer_name==e.offer_name&&(this.discount_amount=0,this.discount_percentage_offer_name=null,this.additional_discount=0,this.additional_discount_percentage=0)},addOfferToItems(e){if(!(!e||!e.items||!Array.isArray(this.items)))try{const t=typeof e.items=="string"?JSON.parse(e.items):e.items;if(!Array.isArray(t))return;t.forEach(n=>{this.items.forEach(a=>{if(!(!a||!a.posa_row_id)&&a.posa_row_id==n){const r=a.posa_offers?JSON.parse(a.posa_offers):[];if(!Array.isArray(r))return;r.includes(e.row_id)||(r.push(e.row_id),e.offer==="Item Price"&&(a.posa_offer_applied=1)),a.posa_offers=JSON.stringify(r)}})})}catch(t){console.error("Error adding offer to items:",t),this.eventBus.emit("show_message",{title:__("Error adding offer to items"),color:"error",message:t.message})}},deleteOfferFromItems(e){if(!(!e||!e.items||!Array.isArray(this.items)))try{const t=typeof e.items=="string"?JSON.parse(e.items):e.items;if(!Array.isArray(t))return;t.forEach(n=>{this.items.forEach(a=>{if(!(!a||!a.posa_row_id)&&a.posa_row_id==n){const r=a.posa_offers?JSON.parse(a.posa_offers):[];if(!Array.isArray(r))return;const i=r.filter(o=>o!=e.row_id);e.offer==="Item Price"&&(a.posa_offer_applied=0),a.posa_offers=JSON.stringify(i)}})})}catch(t){console.error("Error deleting offer from items:",t),this.eventBus.emit("show_message",{title:__("Error deleting offer from items"),color:"error",message:t.message})}},validate_due_date(e){const t=frappe.datetime.now_date(),n=Date.parse(t),a=this.formatDateForBackend(e.posa_delivery_date),r=Date.parse(a);isNaN(r)||r<n?setTimeout(()=>{e.posa_delivery_date=this.formatDateForDisplay(t)},0):e.posa_delivery_date=this.formatDateForDisplay(a)},load_print_page(e){const t=this.pos_profile.print_format_for_online||this.pos_profile.print_format,n=this.pos_profile.letter_head||0,a=frappe.urllib.get_base_url()+"/printview?doctype=Sales%20Invoice&name="+e+"&trigger_print=1&format="+t+"&no_letterhead="+n;if(this.pos_profile.posa_silent_print)xv(a);else{const r=window.open(a,"Print");r.addEventListener("load",function(){r.print()},{once:!0})}},formatDateForBackend(e){if(!e)return null;if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2),r=`0${t.getDate()}`.slice(-2);return`${n}-${a}-${r}`}return e},formatDateForDisplay(e){if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a}-${n}`}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2);return`${`0${t.getDate()}`.slice(-2)}-${a}-${n}`}return e},toggleOffer(e){this.$nextTick(()=>{e.posa_is_offer||(e.posa_offers=JSON.stringify([]),e.posa_offer_applied=0,e.discount_percentage=0,e.discount_amount=0,e.rate=e.price_list_rate,this.calc_item_price(e),this.handelOffers()),this.$forceUpdate()})}},T9={shortOpenFirstItem(e){if(e.key.toLowerCase()==="a"&&(e.ctrlKey||e.metaKey))try{if(e.preventDefault(),e.stopPropagation(),!this.items||this.items.length===0){console.log("No items to expand/collapse");return}const t=this.items[0];console.log("Processing first item:",t.item_code),this.expanded.includes(t.posa_row_id)?(console.log("Collapsing item:",t.item_code),this.expanded=[]):(console.log("Expanding item:",t.item_code),this.expanded=[t.posa_row_id],this.$nextTick(()=>{this.update_item_detail(t)}))}catch(t){console.error("Error in shortOpenFirstItem:",t),this.eventBus.emit("show_message",{title:__("Error toggling item details"),color:"error"})}},handleExpandedUpdate(e){if(console.log("Expanded state updated:",e),this.expanded=e,e&&e.length>0){const t=e[0],n=this.items.find(a=>a.posa_row_id===t);n&&this.$nextTick(()=>{this.update_item_detail(n)})}},shortOpenPayment(e){e.key==="s"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.show_payment())},shortDeleteFirstItem(e){e.key==="d"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.remove_item(this.items[0]))},shortSelectDiscount(e){console.log("Shortcut pressed:",e.key,e.ctrlKey),e.key.toLowerCase()==="e"&&(e.ctrlKey||e.metaKey)&&(console.log("Focusing discount field"),e.preventDefault(),e.stopPropagation(),this.$refs.discount?(this.$refs.discount.focus(),console.log("Discount field focused")):console.log("Discount field ref not found"))}},D9={remove_item(e){const t=this.items.findIndex(n=>n.posa_row_id==e.posa_row_id);t>=0&&this.items.splice(t,1),this.expanded=this.expanded.filter(n=>n!==e.posa_row_id)},add_item(e){e.uom||(e.uom=e.stock_uom);let t=-1;this.new_line||(this.pos_profile.posa_auto_set_batch&&e.has_batch_no?t=this.items.findIndex(a=>a.item_code===e.item_code&&a.uom===e.uom&&!a.posa_is_offer&&!a.posa_is_replace):t=this.items.findIndex(a=>a.item_code===e.item_code&&a.uom===e.uom&&!a.posa_is_offer&&!a.posa_is_replace&&(a.batch_no&&e.batch_no&&a.batch_no===e.batch_no||!a.batch_no&&!e.batch_no)));let n;if(t===-1||this.new_line)n=this.get_new_item(e),e.has_serial_no&&e.to_set_serial_no&&(n.serial_no_selected=[],n.serial_no_selected.push(e.to_set_serial_no),e.to_set_serial_no=null),e.has_batch_no&&e.to_set_batch_no&&(n.batch_no=e.to_set_batch_no,e.to_set_batch_no=null,e.batch_no=null,this.set_batch_qty(n,n.batch_no,!1)),this.isReturnInvoice&&(n.qty=-Math.abs(n.qty||1)),this.items.unshift(n),this.update_item_detail(n,!0),(!this.pos_profile.posa_auto_set_batch&&n.has_batch_no||n.has_serial_no)&&this.$nextTick(()=>{this.expanded=[n.posa_row_id]});else{const a=this.items[t];if(this.update_items_details([a]),e.has_serial_no&&e.to_set_serial_no){if(a.serial_no_selected.includes(e.to_set_serial_no)){this.eventBus.emit("show_message",{title:__("This Serial Number {0} has already been added!",[e.to_set_serial_no]),color:"warning"}),e.to_set_serial_no=null;return}a.serial_no_selected.push(e.to_set_serial_no),e.to_set_serial_no=null}this.isReturnInvoice?a.qty-=e.qty||1:a.qty+=e.qty||1,this.calc_stock_qty(a,a.qty),a.has_batch_no&&a.batch_no&&this.set_batch_qty(a,a.batch_no,!1),this.set_serial_no(a)}this.$forceUpdate(),n&&(!this.pos_profile.posa_auto_set_batch&&n.has_batch_no||n.has_serial_no)&&(this.expanded=[n.posa_row_id])},get_new_item(e){const t={...e};t.warehouse||(t.warehouse=this.pos_profile.warehouse),e.qty||(e.qty=1),e.posa_is_offer||(e.posa_is_offer=0),e.posa_is_replace||(e.posa_is_replace=""),t._manual_rate_set=!1,this.isReturnInvoice&&e.qty>0&&(e.qty=-Math.abs(e.qty)),t.stock_qty=e.qty,t.discount_amount=0,t.discount_percentage=0,t.discount_amount_per_item=0,t.price_list_rate=e.rate;const n=this.price_list_currency||this.pos_profile.currency;return this.selected_currency!==n?(t.base_price_list_rate=e.base_price_list_rate||e.rate/this.exchange_rate,t.base_rate=e.base_rate||e.rate/this.exchange_rate,t.base_discount_amount=0):(t.base_price_list_rate=e.base_price_list_rate||e.rate,t.base_rate=e.base_rate||e.rate,t.base_discount_amount=0),t.qty=e.qty,t.uom=e.uom?e.uom:e.stock_uom,t.item_uoms=e.item_uoms||[],t.item_uoms.length===0&&t.stock_uom&&t.item_uoms.push({uom:t.stock_uom,conversion_factor:1}),t.actual_batch_qty="",t.batch_no_expiry_date=e.batch_no_expiry_date||null,t.conversion_factor=1,t.posa_offers=JSON.stringify([]),t.posa_offer_applied=0,t.posa_is_offer=e.posa_is_offer,t.posa_is_replace=e.posa_is_replace||null,t.is_free_item=0,t.posa_notes="",t.posa_delivery_date="",t.posa_row_id=this.makeid(20),t.has_serial_no&&!t.serial_no_selected&&(t.serial_no_selected=[],t.serial_no_selected_count=0),(!this.pos_profile.posa_auto_set_batch&&t.has_batch_no||t.has_serial_no)&&this.expanded.push(t),t},clear_invoice(){this.items=[],this.posa_offers=[],this.expanded=[],this.eventBus.emit("set_pos_coupons",[]),this.posa_coupons=[],this.invoice_doc="",this.return_doc="",this.discount_amount=0,this.additional_discount=0,this.additional_discount_percentage=0,this.delivery_charges_rate=0,this.selected_delivery_charge="",this.posting_date=frappe.datetime.nowdate(),this.update_price_list(),this.customer=this.pos_profile.customer,this.eventBus.emit("set_customer_readonly",!1),this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.invoiceTypes=["Invoice","Order"]},async fetch_customer_balance(){var e;try{if(!this.customer){this.customer_balance=0;return}if(wa()){const a=Dg(this.customer);if(a!==null){this.customer_balance=a;return}else{this.customer_balance=0,this.eventBus.emit("show_message",{title:__("Customer balance unavailable offline"),text:__("Balance will be updated when connection is restored"),color:"warning"});return}}const t=await frappe.call({method:"posawesome.posawesome.api.customer.get_customer_balance",args:{customer:this.customer}}),n=((e=t==null?void 0:t.message)==null?void 0:e.balance)||0;this.customer_balance=n,RD(this.customer,n)}catch(t){console.error("Error fetching balance:",t);const n=Dg(this.customer);n!==null?(this.customer_balance=n,this.eventBus.emit("show_message",{title:__("Using cached customer balance"),text:__("Could not fetch latest balance from server"),color:"warning"})):(this.eventBus.emit("show_message",{title:__("Error fetching customer balance"),color:"error"}),this.customer_balance=0)}},async cancel_invoice(){const e=this.get_invoice_doc();this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.invoiceTypes=["Invoice","Order"],this.posting_date=frappe.datetime.nowdate();var t=this;e.name&&this.pos_profile.posa_allow_delete&&await frappe.call({method:"posawesome.posawesome.api.invoices.delete_invoice",args:{invoice:e.name},async:!0,callback:function(n){n.message&&t.eventBus.emit("show_message",{text:n.message,color:"warning"})}}),this.clear_invoice(),this.cancel_dialog=!1},async load_invoice(e={}){console.log("load_invoice called with data:",{is_return:e.is_return,return_against:e.return_against,customer:e.customer,items_count:e.items?e.items.length:0}),this.clear_invoice(),e.is_return&&(console.log("Processing return invoice"),e.return_against?(console.log("Return has reference to invoice:",e.return_against),this.eventBus.emit("set_customer_readonly",!0)):(console.log("Return without invoice reference, customer can be selected"),this.eventBus.emit("set_customer_readonly",!1)),this.invoiceType="Return",this.invoiceTypes=["Return"]),this.invoice_doc=e,this.items=e.items||[],console.log("Items set:",this.items.length,"items"),this.items.length>0?(this.update_items_details(this.items),this.posa_offers=e.posa_offers||[],this.items.forEach(t=>{t.posa_row_id||(t.posa_row_id=this.makeid(20)),t.batch_no&&this.set_batch_qty(t,t.batch_no)})):console.log("Warning: No items in return invoice"),this.customer=e.customer,this.posting_date=this.formatDateForBackend(e.posting_date||frappe.datetime.nowdate()),this.discount_amount=e.discount_amount,this.additional_discount_percentage=e.additional_discount_percentage,this.items.length>0&&this.items.forEach(t=>{t.serial_no&&(t.serial_no_selected=[],t.serial_no.split(`
`).forEach(a=>{a.length&&t.serial_no_selected.push(a)}),t.serial_no_selected_count=t.serial_no_selected.length)}),e.is_return?(console.log("Setting return values for discounts"),this.discount_amount=-e.discount_amount,this.additional_discount_percentage=-e.additional_discount_percentage,this.return_doc=e):this.eventBus.emit("set_pos_coupons",e.posa_coupons),console.log("load_invoice completed, invoice state:",{invoiceType:this.invoiceType,is_return:this.invoice_doc.is_return,items:this.items.length,customer:this.customer})},save_and_clear_invoice(){const e=this.get_invoice_doc();if(e.name?old_invoice=this.update_invoice(e):e.items.length?old_invoice=this.update_invoice(e):this.eventBus.emit("show_message",{title:"Nothing to save",color:"error"}),!old_invoice)this.eventBus.emit("show_message",{title:"Error saving the current invoice",color:"error"});else return this.clear_invoice(),old_invoice},async new_order(e={}){let t=null;return this.eventBus.emit("set_customer_readonly",!1),this.expanded=[],this.posa_offers=[],this.eventBus.emit("set_pos_coupons",[]),this.posa_coupons=[],this.return_doc="",!e.name&&!e.is_return?(this.items=[],this.customer=this.pos_profile.customer,this.invoice_doc="",this.discount_amount=0,this.additional_discount_percentage=0,this.invoiceType="Invoice",this.invoiceTypes=["Invoice","Order"]):(e.is_return&&(e.return_against?this.eventBus.emit("set_customer_readonly",!0):this.eventBus.emit("set_customer_readonly",!1),this.invoiceType="Return",this.invoiceTypes=["Return"]),this.invoice_doc=e,this.items=e.items,this.update_items_details(this.items),this.posa_offers=e.posa_offers||[],this.items.forEach(n=>{n.posa_row_id||(n.posa_row_id=this.makeid(20)),n.batch_no&&this.set_batch_qty(n,n.batch_no)}),this.customer=e.customer,this.posting_date=this.formatDateForBackend(e.posting_date||frappe.datetime.nowdate()),this.discount_amount=e.discount_amount,this.additional_discount_percentage=e.additional_discount_percentage,this.items.forEach(n=>{n.serial_no&&(n.serial_no_selected=[],n.serial_no.split(`
`).forEach(r=>{r.length&&n.serial_no_selected.push(r)}),n.serial_no_selected_count=n.serial_no_selected.length)})),t},get_invoice_doc(){var u;let e={};this.invoice_doc.name&&(e={...this.invoice_doc}),this.invoiceType==="Order"&&this.pos_profile.posa_create_only_sales_order?e.doctype="Sales Order":e.doctype="Sales Invoice",e.is_pos=1,e.ignore_pricing_rule=1,e.company=e.company||this.pos_profile.company,e.pos_profile=e.pos_profile||this.pos_profile.name,e.currency=this.selected_currency||this.pos_profile.currency,e.conversion_rate=this.invoice_doc&&this.invoice_doc.conversion_rate||this.conversion_rate||1,e.price_list_currency=this.price_list_currency||e.currency,e.plc_conversion_rate=this.invoice_doc&&this.invoice_doc.plc_conversion_rate||(e.price_list_currency===e.currency?1:this.exchange_rate),e.campaign=e.campaign||this.pos_profile.campaign,e.selling_price_list=this.pos_profile.selling_price_list,e.naming_series=e.naming_series||this.pos_profile.naming_series,e.customer=this.customer;const t=this.isReturnInvoice;e.is_return=t?1:0;const n=this.get_invoice_items();e.items=n;let a=this.Total;t&&a>0&&(a=-Math.abs(a)),e.total=a,e.net_total=a,e.base_total=a*(this.exchange_rate||1),e.base_net_total=a*(this.exchange_rate||1);let r=flt(this.additional_discount);t&&r>0&&(r=-Math.abs(r)),e.discount_amount=r,e.base_discount_amount=r*(this.exchange_rate||1);let i=flt(this.additional_discount_percentage);t&&i>0&&(i=-Math.abs(i)),e.additional_discount_percentage=i;let o=this.subtotal;if(e.taxes=[],this.invoice_doc&&this.invoice_doc.taxes){let f=0;this.invoice_doc.taxes.forEach(d=>{d.tax_amount&&(o+=flt(d.tax_amount),f+=flt(d.tax_amount)),e.taxes.push({account_head:d.account_head,charge_type:d.charge_type||"On Net Total",description:d.description,rate:d.rate,included_in_print_rate:d.included_in_print_rate||0,tax_amount:d.tax_amount,total:d.total,base_tax_amount:d.tax_amount*(this.exchange_rate||1),base_total:d.total*(this.exchange_rate||1)})}),e.total_taxes_and_charges=f}else if(wa()){const f=mD(this.pos_profile.taxes_and_charges);if(f&&Array.isArray(f.taxes)){const d=_D();let m=o,p=0;f.taxes.forEach(g=>{let y=0;g.charge_type==="Actual"?y=flt(g.tax_amount||0):d?y=flt(e.total*flt(g.rate)/100):y=flt(e.net_total*flt(g.rate)/100),d||(m+=y),p+=y,e.taxes.push({account_head:g.account_head,charge_type:g.charge_type||"On Net Total",description:g.description,rate:g.rate,included_in_print_rate:d?1:0,tax_amount:y,total:m,base_tax_amount:y*(this.exchange_rate||1),base_total:m*(this.exchange_rate||1)})}),d?(e.net_total=e.total-p,e.base_net_total=e.net_total*(this.exchange_rate||1),o=e.total):o=m,e.total_taxes_and_charges=p}}t&&o>0&&(o=-Math.abs(o)),e.grand_total=o,e.base_grand_total=o*(this.exchange_rate||1),this.pos_profile.disable_rounded_total?(e.rounded_total=flt(o,this.currency_precision),e.base_rounded_total=flt(e.base_grand_total,this.currency_precision)):(e.rounded_total=this.roundAmount(o),e.base_rounded_total=this.roundAmount(e.base_grand_total)),e.posa_pos_opening_shift=this.pos_opening_shift.name,e.payments=this.get_payments(),t&&(this.invoice_doc.return_against&&(e.return_against=this.invoice_doc.return_against),e.update_stock=1,e.grand_total>0&&(e.grand_total=-Math.abs(e.grand_total)),e.base_grand_total>0&&(e.base_grand_total=-Math.abs(e.base_grand_total)),e.rounded_total>0&&(e.rounded_total=-Math.abs(e.rounded_total)),e.base_rounded_total>0&&(e.base_rounded_total=-Math.abs(e.base_rounded_total)),e.total>0&&(e.total=-Math.abs(e.total)),e.base_total>0&&(e.base_total=-Math.abs(e.base_total)),e.net_total>0&&(e.net_total=-Math.abs(e.net_total)),e.base_net_total>0&&(e.base_net_total=-Math.abs(e.base_net_total)),e.payments&&e.payments.length&&e.payments.forEach(f=>{f.amount>0&&(f.amount=-Math.abs(f.amount)),f.base_amount>0&&(f.base_amount=-Math.abs(f.base_amount))})),e.posa_offers=this.posa_offers,e.posa_coupons=this.posa_coupons,e.posa_delivery_charges=((u=this.selected_delivery_charge)==null?void 0:u.name)||null,e.posa_delivery_charges_rate=this.delivery_charges_rate||0,e.posting_date=this.formatDateForBackend(this.posting_date_display),e.ignore_pricing_rule=1,e.price_list_currency=this.price_list_currency||e.currency,e.plc_conversion_rate=this.exchange_rate||e.conversion_rate,e.ignore_default_fields=1,e.posa_is_offer_applied=this.posa_offers.length>0?1:0;const l=this.price_list_currency||this.pos_profile.currency;if(this.selected_currency!==l){const f=t?-1:1;e.base_total=a/this.exchange_rate*f,e.base_net_total=a/this.exchange_rate*f,e.base_discount_amount=r/this.exchange_rate*f,e.base_grand_total=o/this.exchange_rate*f,e.base_rounded_total=o/this.exchange_rate*f}else{const f=t?-1:1;e.base_total=a*f,e.base_net_total=a*f,e.base_discount_amount=r*f,e.base_grand_total=o*f,e.base_rounded_total=o*f}return e.payments&&e.payments.length&&e.payments.forEach(f=>{this.selected_currency!==l?f.base_amount=f.amount/this.exchange_rate:f.base_amount=f.amount,t&&(f.amount=-Math.abs(f.amount),f.base_amount=-Math.abs(f.base_amount))}),e},async get_invoice_from_order_doc(){let e={};this.invoice_doc.doctype=="Sales Order"?await frappe.call({method:"posawesome.posawesome.api.invoices.create_sales_invoice_from_order",args:{sales_order:this.invoice_doc.name},callback:function(i){i.message&&(e=i.message)}}):e=this.invoice_doc;const t=[],n=this.get_invoice_items();e.items.forEach(i=>{const o=n.find(l=>l.item_code===i.item_code);o&&(i.item_code=o.item_code,i.posa_row_id=o.posa_row_id,i.posa_offers=o.posa_offers,i.posa_offer_applied=o.posa_offer_applied,i.posa_is_offer=o.posa_is_offer,i.posa_is_replace=o.posa_is_replace,i.is_free_item=o.is_free_item,i.qty=flt(o.qty),i.rate=flt(o.rate),i.uom=o.uom,i.amount=flt(o.qty)*flt(o.rate),i.conversion_factor=o.conversion_factor,i.serial_no=o.serial_no,i.discount_percentage=flt(o.discount_percentage),i.discount_amount=flt(o.discount_amount),i.batch_no=o.batch_no,i.posa_notes=o.posa_notes,i.posa_delivery_date=this.formatDateForDisplay(o.posa_delivery_date),i.price_list_rate=o.price_list_rate,t.push(i))}),e.items=t;const a=[...e.items],r=new Set(a.map(i=>i.item_code));return n.forEach(i=>{r.has(i.item_code)||a.push(i)}),e.items=a,e.update_stock=1,e.is_pos=1,e.payments=this.get_payments(),e},get_invoice_items(){const e=[],t=this.isReturnInvoice;return this.items.forEach(n=>{const a={item_code:n.item_code,item_name:n.item_name||n.item_code,posa_row_id:n.posa_row_id,posa_offers:n.posa_offers,posa_offer_applied:n.posa_offer_applied,posa_is_offer:n.posa_is_offer,posa_is_replace:n.posa_is_replace,is_free_item:n.is_free_item,qty:flt(n.qty),uom:n.uom,conversion_factor:n.conversion_factor,serial_no:n.serial_no,...n.sales_invoice_item&&{sales_invoice_item:n.sales_invoice_item},discount_percentage:flt(n.discount_percentage),batch_no:n.batch_no,posa_notes:n.posa_notes,posa_delivery_date:this.formatDateForBackend(n.posa_delivery_date)};t&&!a.sales_invoice_item&&n.name&&(a.sales_invoice_item=n.name);const r=this.price_list_currency||this.pos_profile.currency;this.selected_currency!==r?(a.rate=flt(n.rate),a.base_rate=n.base_rate||flt(n.rate/this.exchange_rate),a.price_list_rate=flt(n.price_list_rate),a.base_price_list_rate=n.base_price_list_rate||flt(n.price_list_rate/this.exchange_rate),a.amount=flt(n.qty)*a.rate,a.base_amount=a.amount/this.exchange_rate,a.discount_amount=flt(n.discount_amount),a.base_discount_amount=n.base_discount_amount||flt(n.discount_amount/this.exchange_rate)):(a.rate=flt(n.rate),a.base_rate=n.base_rate||flt(n.rate),a.price_list_rate=flt(n.price_list_rate),a.base_price_list_rate=n.base_price_list_rate||flt(n.price_list_rate),a.amount=flt(n.qty)*a.rate,a.base_amount=a.amount,a.discount_amount=flt(n.discount_amount),a.base_discount_amount=n.base_discount_amount||flt(n.discount_amount)),t&&(a.qty=-Math.abs(a.qty),a.amount=-Math.abs(a.amount),a.base_amount=-Math.abs(a.base_amount),a.discount_amount=-Math.abs(a.discount_amount),a.base_discount_amount=-Math.abs(a.base_discount_amount)),e.push(a)}),e},get_order_items(){const e=[];return this.items.forEach(t=>{const n={item_code:t.item_code,item_name:t.item_name||t.item_code,posa_row_id:t.posa_row_id,posa_offers:t.posa_offers,posa_offer_applied:t.posa_offer_applied,posa_is_offer:t.posa_is_offer,posa_is_replace:t.posa_is_replace,is_free_item:t.is_free_item,qty:flt(t.qty),rate:flt(t.rate),uom:t.uom,amount:flt(t.qty)*flt(t.rate),conversion_factor:t.conversion_factor,serial_no:t.serial_no,discount_percentage:flt(t.discount_percentage),discount_amount:flt(t.discount_amount),batch_no:t.batch_no,posa_notes:t.posa_notes,posa_delivery_date:t.posa_delivery_date,price_list_rate:t.price_list_rate};e.push(n)}),e},get_payments(){const e=[];let n=this.subtotal;return this.pos_profile.payments.forEach((a,r)=>{const i=r===0?n:a.amount||0,o=this.isReturnInvoice?-Math.abs(i):i,l=this.price_list_currency||this.pos_profile.currency,u=this.selected_currency!==l?this.flt(o/(this.exchange_rate||1),this.currency_precision):o;e.push({amount:o,base_amount:u,mode_of_payment:a.mode_of_payment,default:a.default,account:a.account||"",type:a.type||"Cash",currency:this.selected_currency||this.pos_profile.currency,conversion_rate:this.conversion_rate||1}),n-=i}),console.log("Generated payments:",{currency:this.selected_currency,exchange_rate:this.exchange_rate,payments:e.map(a=>({mode:a.mode_of_payment,amount:a.amount,base_amount:a.base_amount}))}),e},convert_amount(e){const t=this.price_list_currency||this.pos_profile.currency;return this.selected_currency===t?e:this.flt(e*this.exchange_rate,this.currency_precision)},update_invoice(e){var t=this;return wa()?(t.invoice_doc=Object.assign({},t.invoice_doc||{},e),t.invoice_doc):(frappe.call({method:e.doctype==="Sales Order"&&this.pos_profile.posa_create_only_sales_order?"posawesome.posawesome.api.sales_orders.update_sales_order":"posawesome.posawesome.api.invoices.update_invoice",args:{data:e},async:!1,callback:function(n){if(n.message&&(t.invoice_doc=n.message,n.message.exchange_rate_date)){t.exchange_rate_date=n.message.exchange_rate_date;const a=t.formatDateForBackend(t.posting_date_display);a!==t.exchange_rate_date&&t.eventBus.emit("show_message",{title:__("Exchange rate date "+t.exchange_rate_date+" differs from posting date "+a),color:"warning"})}}}),this.invoice_doc)},update_invoice_from_order(e){var t=this;return wa()?(t.invoice_doc=Object.assign({},t.invoice_doc||{},e),t.invoice_doc):(frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice_from_order",args:{data:e},async:!1,callback:function(n){if(n.message&&(t.invoice_doc=n.message,n.message.exchange_rate_date)){t.exchange_rate_date=n.message.exchange_rate_date;const a=t.formatDateForBackend(t.posting_date_display);a!==t.exchange_rate_date&&t.eventBus.emit("show_message",{title:__("Exchange rate date "+t.exchange_rate_date+" differs from posting date "+a),color:"warning"})}}}),this.invoice_doc)},process_invoice(){const e=this.get_invoice_doc();try{const t=this.update_invoice(e);return t&&t.posting_date&&(this.posting_date=this.formatDateForBackend(t.posting_date)),t}catch(t){return console.error("Error in process_invoice:",t),this.eventBus.emit("show_message",{title:__(t.message||"Error processing invoice"),color:"error"}),!1}},async process_invoice_from_order(){const e=await this.get_invoice_from_order_doc();var t;return e.name?(t=await this.update_invoice_from_order(e),t):this.update_invoice_from_order(e)},async show_payment(){try{if(console.log("Starting show_payment process"),console.log("Invoice state before payment:",{invoiceType:this.invoiceType,is_return:this.invoice_doc?this.invoice_doc.is_return:!1,items_count:this.items.length,customer:this.customer}),!this.customer){console.log("Customer validation failed"),this.eventBus.emit("show_message",{title:__("Select a customer"),color:"error"});return}if(!this.items.length){console.log("Items validation failed - no items"),this.eventBus.emit("show_message",{title:__("Select items to sell"),color:"error"});return}console.log("Basic validations passed, proceeding to main validation");const e=this.validate();if(console.log("Main validation result:",e),!e){console.log("Main validation failed");return}let t;if(this.invoiceType==="Order"&&this.pos_profile.posa_create_only_sales_order&&!this.new_delivery_date&&!this.invoice_doc.posa_delivery_date?(console.log("Building local Sales Order doc for payment"),t=this.get_invoice_doc()):this.invoice_doc.doctype=="Sales Order"&&this.invoiceType==="Invoice"?(console.log("Processing Sales Order payment"),t=await this.process_invoice_from_order()):(console.log("Processing regular invoice"),t=this.process_invoice()),!t){console.log("Failed to process invoice");return}t.currency=this.selected_currency||this.pos_profile.currency,t.conversion_rate=this.conversion_rate||1,t.plc_conversion_rate=this.exchange_rate||1,(this.isReturnInvoice||t.is_return)&&(console.log("Preparing RETURN invoice for payment with:",{is_return:t.is_return,invoiceType:this.invoiceType,return_against:t.return_against,items:t.items.length,grand_total:t.grand_total}),t.is_return=1,t.grand_total>0&&(t.grand_total=-Math.abs(t.grand_total)),t.rounded_total>0&&(t.rounded_total=-Math.abs(t.rounded_total)),t.total>0&&(t.total=-Math.abs(t.total)),t.base_grand_total>0&&(t.base_grand_total=-Math.abs(t.base_grand_total)),t.base_rounded_total>0&&(t.base_rounded_total=-Math.abs(t.base_rounded_total)),t.base_total>0&&(t.base_total=-Math.abs(t.base_total)),t.items&&t.items.length&&t.items.forEach(n=>{n.qty>0&&(n.qty=-Math.abs(n.qty)),n.stock_qty>0&&(n.stock_qty=-Math.abs(n.stock_qty)),n.amount>0&&(n.amount=-Math.abs(n.amount))})),t.payments=this.get_payments(),console.log("Final payment data:",t.payments),(this.isReturnInvoice||t.is_return)&&t.payments.length&&(t.payments.forEach(n=>{n.amount>0&&(n.amount=-Math.abs(n.amount)),n.base_amount>0&&(n.base_amount=-Math.abs(n.base_amount))}),console.log("Ensured negative payment amounts for return:",t.payments)),console.log("Showing payment dialog with currency:",t.currency),this.eventBus.emit("show_payment","true"),this.eventBus.emit("send_invoice_doc_payment",t)}catch(e){console.error("Error in show_payment:",e),this.eventBus.emit("show_message",{title:__("Error processing payment"),color:"error",message:e.message})}},async validate(){if(console.log("Starting return validation"),this.isReturnInvoice){console.log("Validating return invoice values");const e=this.items.filter(t=>t.qty>=0||t.stock_qty>=0);e.length>0&&(console.log("Found positive quantities in return items:",e.map(t=>t.item_code)),this.eventBus.emit("show_message",{title:__("Return items must have negative quantities"),color:"error"}),e.forEach(t=>{t.qty=-Math.abs(t.qty),t.stock_qty=-Math.abs(t.stock_qty)}),this.$forceUpdate()),this.subtotal>0&&(console.log("Return has positive subtotal:",this.subtotal),this.eventBus.emit("show_message",{title:__("Return total must be negative"),color:"warning"}))}if(this.invoice_doc.is_return&&this.invoice_doc.return_against){console.log("Return doc:",this.invoice_doc),console.log("Current items:",this.items);try{const e=await new Promise((t,n)=>{frappe.call({method:"frappe.client.get",args:{doctype:"Sales Invoice",name:this.invoice_doc.return_against},callback:a=>{a.message?(console.log("Original invoice data:",a.message),t(a.message.items||[])):n(new Error("Original invoice not found"))}})});console.log("Original invoice items:",e),console.log("Original item codes:",e.map(t=>({item_code:t.item_code,qty:t.qty,rate:t.rate})));for(const t of this.items){console.log("Validating return item:",{item_code:t.item_code,rate:t.rate,qty:t.qty});const n=t.item_code.trim().toUpperCase(),a=e.find(l=>l.item_code.trim().toUpperCase()===n);if(!a)return console.log("Item not found in original invoice:",{return_item_code:n,original_items:e.map(l=>l.item_code.trim().toUpperCase())}),this.eventBus.emit("show_message",{title:__(`Item ${t.item_code} not found in original invoice`),color:"error"}),!1;const r=Math.abs(a.rate-t.rate);if(console.log("Rate comparison:",{return_rate:t.rate,orig_rate:a.rate,difference:r}),r>.01)return this.eventBus.emit("show_message",{title:__(`Rate mismatch for item ${t.item_code}`),color:"error"}),!1;const i=Math.abs(t.qty),o=a.qty;if(console.log("Quantity comparison:",{return_qty:i,orig_qty:o}),i>o)return this.eventBus.emit("show_message",{title:__(`Return quantity cannot be greater than original quantity for item ${t.item_code}`),color:"error"}),!1}}catch(e){return console.error("Error in validation:",e),this.eventBus.emit("show_message",{title:__(`Error validating return: ${e.message}`),color:"error"}),!1}}return!0},get_draft_invoices(){var e=this;frappe.call({method:"posawesome.posawesome.api.invoices.get_draft_invoices",args:{pos_opening_shift:this.pos_opening_shift.name},async:!1,callback:function(t){t.message&&e.eventBus.emit("open_drafts",t.message)}})},get_draft_orders(){var e=this;frappe.call({method:"posawesome.posawesome.api.sales_orders.search_orders",args:{company:this.pos_profile.company,currency:this.pos_profile.currency},async:!1,callback:function(t){t.message&&e.eventBus.emit("open_orders",t.message)}})},open_returns(){this.eventBus.emit("open_returns",this.pos_profile.company)},close_payments(){this.eventBus.emit("show_payment","false")},async update_items_details(e){if(e!=null&&e.length&&this.pos_profile)try{const t=await frappe.call({method:"posawesome.posawesome.api.items.get_items_details",args:{pos_profile:JSON.stringify(this.pos_profile),items_data:JSON.stringify(e)}});t!=null&&t.message&&e.forEach(n=>{const a=t.message.find(r=>r.posa_row_id==n.posa_row_id);a&&(n.actual_qty=a.actual_qty,n.serial_no_data=a.serial_no_data,n.batch_no_data=a.batch_no_data,n.item_uoms=a.item_uoms,n.has_batch_no=a.has_batch_no,n.has_serial_no=a.has_serial_no)})}catch(t){console.error("Error updating items:",t),this.eventBus.emit("show_message",{title:__("Error updating item details"),color:"error"})}},update_item_detail(e,t=!1){if(e.item_code){var n=this;frappe.call({method:"posawesome.posawesome.api.items.get_item_detail",args:{warehouse:this.pos_profile.warehouse,doc:this.get_invoice_doc(),price_list:this.selected_price_list||this.pos_profile.selling_price_list,item:{item_code:e.item_code,customer:this.customer,doctype:"Sales Invoice",name:"New Sales Invoice 1",company:this.pos_profile.company,conversion_rate:1,currency:this.pos_profile.currency,qty:e.qty,price_list_rate:e.base_price_list_rate||e.price_list_rate,child_docname:"New Sales Invoice Item 1",cost_center:this.pos_profile.cost_center,pos_profile:this.pos_profile.name,uom:e.uom,tax_category:"",transaction_type:"selling",update_stock:this.pos_profile.update_stock,price_list:this.get_price_list(),has_batch_no:e.has_batch_no,serial_no:e.serial_no,batch_no:e.batch_no,is_stock_item:e.is_stock_item}},callback:function(a){if(a.message){const r=a.message;if(r.price_list_currency&&(n.price_list_currency=r.price_list_currency),e.original_currency||(e.original_currency=r.price_list_currency||n.price_list_currency||n.selected_currency),e.original_rate||(e.original_rate=r.price_list_rate),r.batch_no_data&&(e.batch_no_data=r.batch_no_data),e.has_batch_no&&n.pos_profile.posa_auto_set_batch&&!e.batch_no&&r.batch_no_data&&r.batch_no_data.length>0&&(e.batch_no_data=r.batch_no_data,n.set_batch_qty(e,null,!1)),(t||!e.base_rate)&&(r.price_list_rate!==0||!e.base_price_list_rate)&&(e.base_price_list_rate=r.price_list_rate,e.posa_offer_applied||(e.base_rate=r.price_list_rate)),e.posa_offer_applied){const i=n.pos_profile.currency,o=i;if(n.selected_currency===n.price_list_currency&&n.selected_currency!==i){const l=n.conversion_rate||1;e.price_list_rate=n.flt(e.base_price_list_rate/l,n.currency_precision)}else if(n.selected_currency!==o){const l=n.exchange_rate||1;e.price_list_rate=n.flt(e.base_price_list_rate*l,n.currency_precision)}else e.price_list_rate=e.base_price_list_rate}else{const i=n.pos_profile.currency,o=i;if(n.selected_currency===n.price_list_currency&&n.selected_currency!==i){const l=n.conversion_rate||1;e.price_list_rate=n.flt(e.base_price_list_rate/l,n.currency_precision),e._manual_rate_set||(e.rate=n.flt(e.base_rate/l,n.currency_precision))}else if(n.selected_currency!==o){const l=n.exchange_rate||1;e.price_list_rate=n.flt(e.base_price_list_rate*l,n.currency_precision),e.rate=n.flt(e.base_rate*l,n.currency_precision)}else e.price_list_rate=e.base_price_list_rate,e._manual_rate_set||(e.rate=e.base_rate)}if(!e.posa_offer_applied&&n.pos_profile.posa_apply_customer_discount&&n.customer_info.posa_discount>0&&n.customer_info.posa_discount<=100&&e.posa_is_offer==0&&!e.posa_is_replace){const i=e.max_discount>0?Math.min(e.max_discount,n.customer_info.posa_discount):n.customer_info.posa_discount;e.discount_percentage=i;const o=n.flt(e.price_list_rate*i/100,n.currency_precision);e.discount_amount=o,e.base_discount_amount=n.flt(e.base_price_list_rate*i/100,n.currency_precision),e.rate=n.flt(e.price_list_rate-o,n.currency_precision),e.base_rate=n.flt(e.base_price_list_rate-e.base_discount_amount,n.currency_precision)}e.last_purchase_rate=r.last_purchase_rate,e.projected_qty=r.projected_qty,e.reserved_qty=r.reserved_qty,e.conversion_factor=r.conversion_factor,e.stock_qty=r.stock_qty,e.actual_qty=r.actual_qty,e.stock_uom=r.stock_uom,e.has_serial_no=r.has_serial_no,e.has_batch_no=r.has_batch_no,e.amount=n.flt(e.qty*e.rate,n.currency_precision),e.base_amount=n.flt(e.qty*e.base_rate,n.currency_precision),console.log(`Updated rates for ${e.item_code} on expand:`,{base_rate:e.base_rate,rate:e.rate,base_price_list_rate:e.base_price_list_rate,price_list_rate:e.price_list_rate,exchange_rate:n.exchange_rate,selected_currency:n.selected_currency,default_currency:n.pos_profile.currency}),n.$forceUpdate()}}})}},async fetch_customer_details(){var e=this;if(this.customer){if(wa())try{const t=($u()||[]).find(a=>a.name===e.customer||a.customer_name===e.customer);if(t){e.customer_info={...t},e.pos_profile.posa_force_reload_items&&t.customer_price_list&&(e.selected_price_list=t.customer_price_list,e.eventBus.emit("update_customer_price_list",t.customer_price_list),e.apply_cached_price_list(t.customer_price_list));return}const n=(Cv()||[]).map(a=>a.args).find(a=>a.customer_name===e.customer);if(n){e.customer_info={...n,name:n.customer_name},e.pos_profile.posa_force_reload_items&&n.customer_price_list&&(e.selected_price_list=n.customer_price_list,e.eventBus.emit("update_customer_price_list",n.customer_price_list),e.apply_cached_price_list(n.customer_price_list));return}}catch(t){console.error("Failed to fetch cached customer",t)}try{const t=await frappe.call({method:"posawesome.posawesome.api.customers.get_customer_info",args:{customer:e.customer}}),n=t.message;t.exc||(e.customer_info={...n}),e.pos_profile.posa_force_reload_items&&n.customer_price_list&&(e.selected_price_list=n.customer_price_list,e.eventBus.emit("update_customer_price_list",n.customer_price_list),e.apply_cached_price_list(n.customer_price_list))}catch(t){console.error("Failed to fetch customer details",t)}}},get_price_list(){return this.selected_price_list||this.pos_profile.selling_price_list},update_price_list(){const e=this.pos_profile.selling_price_list;this.selected_price_list!==e&&(this.selected_price_list=e,this.eventBus.emit("update_customer_price_list",null))},apply_cached_price_list(e){const t=Rh(e);if(!t)return;const n={};t.forEach(a=>{n[a.item_code]=a}),this.items.forEach(a=>{const r=n[a.item_code];if(!r)return;const i=r.rate||r.price_list_rate,o=r.currency||this.selected_currency;if(a.original_currency||(a.original_currency=o),a.original_rate||(a.original_rate=i),o===this.selected_currency){const l=this.pos_profile.currency;if(o!==l){const u=this.conversion_rate||1;a.base_price_list_rate=i*u,a._manual_rate_set||(a.base_rate=i*u)}else a.base_price_list_rate=i,a._manual_rate_set||(a.base_rate=i);a.price_list_rate=i,a._manual_rate_set||(a.rate=i)}else{(i!==0||!a.base_price_list_rate)&&(a.base_price_list_rate=i,a._manual_rate_set||(a.base_rate=i));const l=this.pos_profile.currency;if(this.selected_currency!==l){const u=this.exchange_rate||1,f=this.flt(i*u,this.currency_precision);(i!==0||!a.price_list_rate)&&(a.price_list_rate=f),!a._manual_rate_set&&(i!==0||!a.rate)&&(a.rate=f)}else(i!==0||!a.price_list_rate)&&(a.price_list_rate=i),!a._manual_rate_set&&(i!==0||!a.rate)&&(a.rate=i)}a.amount=this.flt(a.qty*a.rate,this.currency_precision),a.base_amount=this.flt(a.qty*a.base_rate,this.currency_precision)}),this.$forceUpdate()},update_discount_umount(){const e=flt(this.additional_discount_percentage);if(e<-100||e>100){this.additional_discount_percentage=0,this.additional_discount=0;return}this.Total&&this.Total!==0?this.additional_discount=this.Total*e/100:this.additional_discount=0},calc_prices(e,t,n){var i;if(!((i=n==null?void 0:n.target)!=null&&i.id)||!e)return;const a=n.target.id;let r=flt(t,this.currency_precision);try{a==="rate"&&(e._manual_rate_set=!0),r<0&&(r=0,this.eventBus.emit("show_message",{title:__("Negative values not allowed"),color:"error"}));const o=this.price_list_currency||this.pos_profile.currency,l=this.selected_currency!==o?this.flt(e.price_list_rate*this.exchange_rate,this.currency_precision):e.price_list_rate;switch(a){case"rate":e.base_rate=this.flt(r*this.exchange_rate,this.currency_precision),e.rate=r,e.discount_amount=this.flt(l-e.rate,this.currency_precision),e.base_discount_amount=this.flt(e.price_list_rate-e.base_rate,this.currency_precision),l&&(e.discount_percentage=this.flt(e.discount_amount/l*100,this.float_precision));break;case"discount_amount":console.log("[calc_prices] Event Target ID:",a),console.log("[calc_prices] RAW value received by function:",t),console.log("[calc_prices] Original item.price_list_rate:",e.price_list_rate),console.log("[calc_prices] Converted price_list_rate for calc:",l),console.log("[calc_prices] Input value (newValue before Math.min):",r),r=Math.min(r,l),console.log("[calc_prices] Input value (newValue after Math.min):",r),e.base_discount_amount=this.flt(r*this.exchange_rate,this.currency_precision),e.discount_amount=r,console.log("[calc_prices] Updated item.discount_amount:",e.discount_amount),console.log("[calc_prices] Updated item.base_discount_amount:",e.base_discount_amount),e.rate=this.flt(l-e.discount_amount,this.currency_precision),e.base_rate=this.flt(e.price_list_rate-e.base_discount_amount,this.currency_precision),console.log("[calc_prices] Calculated item.rate:",e.rate),console.log("[calc_prices] Calculated item.base_rate:",e.base_rate),l?e.discount_percentage=this.flt(e.discount_amount/l*100,this.float_precision):e.discount_percentage=0,console.log("[calc_prices] Calculated item.discount_percentage:",e.discount_percentage);break;case"discount_percentage":r=Math.min(r,100),e.discount_percentage=this.flt(r,this.float_precision),e.discount_amount=this.flt(l*e.discount_percentage/100,this.currency_precision),e.base_discount_amount=this.flt(e.price_list_rate*e.discount_percentage/100,this.currency_precision),e.rate=this.flt(l-e.discount_amount,this.currency_precision),e.base_rate=this.flt(e.price_list_rate-e.base_discount_amount,this.currency_precision);break}e.rate<0&&(e.rate=0,e.base_rate=0,e.discount_amount=l,e.base_discount_amount=e.price_list_rate,e.discount_percentage=100),this.calc_stock_qty(e,e.qty),this.$forceUpdate()}catch(o){console.error("Error calculating prices:",o),this.eventBus.emit("show_message",{title:__("Error calculating prices"),color:"error"})}},calc_item_price(e){if(e._skip_calc){e._skip_calc=!1;return}const t=this.price_list_currency||this.pos_profile.currency;if(e.posa_offer_applied||e.price_list_rate&&(e.base_price_list_rate||(e.base_price_list_rate=e.price_list_rate,e.base_rate=e.rate),this.selected_currency!==t?(e.price_list_rate=this.flt(e.base_price_list_rate*this.exchange_rate,this.currency_precision),e.rate=this.flt(e.base_rate*this.exchange_rate,this.currency_precision)):(e.price_list_rate=e.base_price_list_rate,e.rate=e.base_rate)),e.discount_percentage){const n=e.price_list_rate,a=this.flt(n*e.discount_percentage/100,this.currency_precision);e.discount_amount=a,e.rate=this.flt(n-a,this.currency_precision),this.selected_currency!==t?e.base_discount_amount=this.flt(a/this.exchange_rate,this.currency_precision):e.base_discount_amount=e.discount_amount}e.amount=this.flt(e.qty*e.rate,this.currency_precision),this.selected_currency!==t?e.base_amount=this.flt(e.amount/this.exchange_rate,this.currency_precision):e.base_amount=e.amount,this.$forceUpdate()},calc_uom(e,t){let n=e.item_uoms.find(o=>o.uom==t);const a=this.price_list_currency||this.pos_profile.currency;if(!n){const o=$l(e.item_code);o.length&&(e.item_uoms=o,n=o.find(l=>l.uom==t))}if(!n&&e.stock_uom===t&&(n={uom:e.stock_uom,conversion_factor:1},e.item_uoms||(e.item_uoms=[]),e.item_uoms.push(n)),!n){this.eventBus.emit("show_message",{title:__("UOM not found"),color:"error"});return}const r=e.conversion_factor||1;e.conversion_factor=n.conversion_factor;const i=e.conversion_factor/r;if(e.posa_offer_applied||(e.discount_amount=0,e.discount_percentage=0),!e.original_base_rate&&!e.posa_offer_applied&&(e.original_base_rate=e.base_rate/r,e.original_base_price_list_rate=e.base_price_list_rate/r),e.posa_offer_applied){const o=this.posOffers&&Array.isArray(this.posOffers)?this.posOffers.find(l=>{if(!l||!l.items)return!1;const u=typeof l.items=="string"?JSON.parse(l.items):l.items;return Array.isArray(u)&&u.includes(e.posa_row_id)}):null;if(o&&o.discount_type==="Rate"){const l=flt(o.rate*e.conversion_factor);e.base_rate=l,e.base_price_list_rate=l,this.selected_currency!==a?(e.rate=this.flt(l*this.exchange_rate,this.currency_precision),e.price_list_rate=e.rate):(e.rate=l,e.price_list_rate=l)}else if(o&&o.discount_type==="Discount Percentage"){let l;e.original_base_price_list_rate?l=this.flt(e.original_base_price_list_rate*e.conversion_factor,this.currency_precision):l=this.flt(e.base_price_list_rate*i,this.currency_precision),e.base_price_list_rate=l;const u=this.flt(l*o.discount_percentage/100,this.currency_precision);e.base_discount_amount=u,e.base_rate=this.flt(l-u,this.currency_precision),this.selected_currency!==a?(e.price_list_rate=this.flt(l*this.exchange_rate,this.currency_precision),e.discount_amount=this.flt(u*this.exchange_rate,this.currency_precision),e.rate=this.flt(e.base_rate*this.exchange_rate,this.currency_precision)):(e.price_list_rate=l,e.discount_amount=u,e.rate=e.base_rate)}}else e.batch_price?(e.base_rate=e.batch_price*e.conversion_factor,e.base_price_list_rate=e.base_rate):e.original_base_rate&&(e.base_rate=e.original_base_rate*e.conversion_factor,e.base_price_list_rate=e.original_base_price_list_rate*e.conversion_factor),this.selected_currency!==a?(e.rate=this.flt(e.base_rate*this.exchange_rate,this.currency_precision),e.price_list_rate=this.flt(e.base_price_list_rate*this.exchange_rate,this.currency_precision)):(e.rate=e.base_rate,e.price_list_rate=e.base_price_list_rate);this.calc_stock_qty(e,e.qty),this.$forceUpdate()},calc_stock_qty(e,t){e.stock_qty=e.conversion_factor*t},set_serial_no(e){console.log(e),e.has_serial_no&&(e.serial_no="",e.serial_no_selected.forEach(t=>{e.serial_no+=t+`
`}),e.serial_no_selected_count=e.serial_no_selected.length,e.serial_no_selected_count!=e.stock_qty&&(e.qty=e.serial_no_selected_count,this.calc_stock_qty(e,e.qty),this.$forceUpdate()))},set_batch_qty(e,t,n=!0){console.log("Setting batch quantity:",e,t);const a=this.price_list_currency||this.pos_profile.currency,r=this.items.filter(l=>l.item_code==e.item_code&&l.posa_row_id!=e.posa_row_id),i={};e.batch_no_data.forEach(l=>{i[l.batch_no]={...l,used_qty:0,remaining_qty:l.batch_qty},r.forEach(u=>{u.batch_no&&u.batch_no==l.batch_no&&(i[l.batch_no].used_qty+=u.qty,i[l.batch_no].remaining_qty-=u.qty,i[l.batch_no].batch_qty-=u.qty)})});const o=Object.values(i).filter(l=>l.remaining_qty>0).sort((l,u)=>l.expiry_date&&u.expiry_date?new Date(l.expiry_date)-new Date(u.expiry_date):l.expiry_date?-1:u.expiry_date?1:l.manufacturing_date&&u.manufacturing_date?new Date(l.manufacturing_date)-new Date(u.manufacturing_date):l.manufacturing_date?-1:u.manufacturing_date?1:u.remaining_qty-l.remaining_qty);if(o.length>0){let l=null;t&&(l=o.find(u=>u.batch_no==t)),l||(l=o[0]),e.batch_no=l.batch_no,e.actual_batch_qty=l.batch_qty,e.batch_no_expiry_date=l.expiry_date,l.batch_price?(e.base_batch_price=l.batch_price,this.selected_currency!==a?e.batch_price=this.flt(l.batch_price*this.exchange_rate,this.currency_precision):e.batch_price=l.batch_price,e.base_price_list_rate=e.base_batch_price,e.base_rate=e.base_batch_price,this.selected_currency!==a?(e.price_list_rate=e.batch_price,e.rate=e.batch_price):(e.price_list_rate=e.base_batch_price,e.rate=e.base_batch_price),e.discount_percentage=0,e.discount_amount=0,e.base_discount_amount=0,e.amount=this.flt(e.qty*e.rate,this.currency_precision),e.base_amount=this.flt(e.qty*e.base_rate,this.currency_precision),console.log("Updated batch prices:",{base_batch_price:e.base_batch_price,batch_price:e.batch_price,rate:e.rate,base_rate:e.base_rate,price_list_rate:e.price_list_rate,exchange_rate:this.exchange_rate})):n&&(e.batch_price=null,e.base_batch_price=null,this.update_item_detail(e))}else e.batch_no=null,e.actual_batch_qty=null,e.batch_no_expiry_date=null,e.batch_price=null,e.base_batch_price=null;e.batch_no_data=o,this.$forceUpdate()}},Ig=new es("posawesome_offline");Ig.version(1).stores({keyval:"&key"});let Ik=null;if(typeof Worker<"u")try{Ik=new Worker(hb,{type:"module"})}catch(e){console.error("Failed to init persist worker",e),Ik=null}const op={offline_invoices:[],offline_customers:[],offline_payments:[],pos_last_sync_totals:{pending:0,synced:0,drafted:0},uom_cache:{},offers_cache:[],customer_balance_cache:{},local_stock_cache:{},stock_cache_ready:!1,items_storage:[],customer_storage:[],pos_opening_storage:null,opening_dialog_storage:null,sales_persons_storage:[],price_list_cache:{},item_details_cache:{},tax_template_cache:{},tax_inclusive:!1,manual_offline:!1};new Promise(e=>{const t=async()=>{try{await Ig.open();for(const n of Object.keys(op)){const a=await Ig.table("keyval").get(n);if(a&&a.value!==void 0){op[n]=a.value;continue}if(typeof localStorage<"u"){const r=localStorage.getItem(`posa_${n}`);if(r)try{op[n]=JSON.parse(r);continue}catch(i){console.error("Failed to parse localStorage for",n,i)}}}}catch(n){console.error("Failed to initialize offline DB",n)}finally{e()}};typeof requestIdleCallback=="function"?requestIdleCallback(t):setTimeout(t,0)});const I9={name:"POSInvoice",mixins:[po],data(){return{pos_profile:"",pos_opening_shift:"",stock_settings:"",invoice_doc:"",return_doc:"",customer:"",customer_info:"",customer_balance:0,discount_amount:0,additional_discount:0,additional_discount_percentage:0,total_tax:0,items:[],posOffers:[],posa_offers:[],posa_coupons:[],allItems:[],discount_percentage_offer_name:null,invoiceTypes:["Invoice","Order"],invoiceType:"Invoice",itemsPerPage:1e3,expanded:[],singleExpand:!0,cancel_dialog:!1,float_precision:6,currency_precision:6,new_line:!1,delivery_charges:[],delivery_charges_rate:0,selected_delivery_charge:"",invoice_posting_date:!1,posting_date:frappe.datetime.nowdate(),posting_date_display:"",items_headers:[],selected_currency:"",exchange_rate:1,conversion_rate:1,exchange_rate_date:"",company:null,available_currencies:[],price_lists:[],selected_price_list:"",price_list_currency:"",selected_columns:[],temp_selected_columns:[],available_columns:[],show_column_selector:!1,invoiceHeight:null}},components:{Customer:hI,DeliveryCharges:X7,PostingDateRow:rK,MultiCurrencyRow:sK,InvoiceSummary:hK,CancelSaleDialog:dK,ItemsTable:y9},computed:{...b9,isDarkTheme(){return this.$theme.current==="dark"}},methods:{...T9,...k9,...S9,...C9,...x9,...P9,...D9,initializeItemsHeaders(){this.available_columns=[{title:__("Name"),align:"start",sortable:!0,key:"item_name",required:!0},{title:__("QTY"),key:"qty",align:"start",required:!0},{title:__("UOM"),key:"uom",align:"start",required:!1},{title:__("Rate"),key:"rate",align:"start",required:!0},{title:__("Discount %"),key:"discount_value",align:"start",required:!1},{title:__("Discount Amount"),key:"discount_amount",align:"start",required:!1},{title:__("Amount"),key:"amount",align:"start",required:!0},{title:__("Offer?"),key:"posa_is_offer",align:"center",required:!1}],(!this.selected_columns||this.selected_columns.length===0)&&(this.selected_columns=this.available_columns.filter(e=>!!(e.required||e.key==="discount_value"&&this.pos_profile.posa_display_discount_percentage||e.key==="discount_amount"&&this.pos_profile.posa_display_discount_amount)).map(e=>e.key)),this.updateHeadersFromSelection()},handleItemDrop(e){console.log("Item dropped:",e),this.add_item(e),this.eventBus.emit("show_message",{title:__("Item {0} added to invoice",[e.item_name]),color:"success"})},showDropFeedback(e){const t=this.$el.querySelector(".modern-items-table");t&&(e?t.classList.add("drag-over"):t.classList.remove("drag-over"))},toggleColumnSelection(){this.temp_selected_columns=[...this.selected_columns],this.show_column_selector=!0},cancelColumnSelection(){this.show_column_selector=!1},updateHeadersFromSelection(){this.items_headers=this.available_columns.filter(e=>this.selected_columns.includes(e.key)||e.required)},updateSelectedColumns(){this.selected_columns=[...this.temp_selected_columns],this.available_columns.filter(t=>t.required).map(t=>t.key).forEach(t=>{this.selected_columns.includes(t)||this.selected_columns.push(t)}),this.updateHeadersFromSelection(),this.saveColumnPreferences(),this.show_column_selector=!1},saveColumnPreferences(){try{localStorage.setItem("posawesome_selected_columns",JSON.stringify(this.selected_columns))}catch(e){console.error("Failed to save column preferences:",e)}},loadColumnPreferences(){try{const e=localStorage.getItem("posawesome_selected_columns");e&&(this.selected_columns=JSON.parse(e))}catch(e){console.error("Failed to load column preferences:",e)}},saveInvoiceHeight(){if(this.$refs.invoiceCard){this.invoiceHeight=this.$refs.invoiceCard.clientHeight+"px";try{localStorage.setItem("posawesome_invoice_height",this.invoiceHeight)}catch(e){console.error("Failed to save invoice height:",e)}}},loadInvoiceHeight(){try{const e=localStorage.getItem("posawesome_invoice_height");e?this.invoiceHeight=e:this.invoiceHeight=getComputedStyle(document.documentElement).getPropertyValue("--container-height")||"68vh"}catch(e){console.error("Failed to load invoice height:",e),this.invoiceHeight=getComputedStyle(document.documentElement).getPropertyValue("--container-height")||"68vh"}},makeid(e){let t="";const n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length;for(var r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},print_draft_invoice(){if(!this.pos_profile.posa_allow_print_draft_invoices){this.eventBus.emit("show_message",{title:__("You are not allowed to print draft invoices"),color:"error"});return}let e=this.invoice_doc.name;frappe.run_serially([()=>{const t=this.save_and_clear_invoice();e=t.name?t.name:e},()=>{this.load_print_page(e)}])},async set_delivery_charges(){var e=this;if(!this.pos_profile||!this.customer||!this.pos_profile.posa_use_delivery_charges){this.delivery_charges=[],this.delivery_charges_rate=0,this.selected_delivery_charge="";return}this.delivery_charges_rate=0,this.selected_delivery_charge="";try{const t=await frappe.call({method:"posawesome.posawesome.api.offers.get_applicable_delivery_charges",args:{company:this.pos_profile.company,pos_profile:this.pos_profile.name,customer:this.customer}});t.message&&t.message.length&&(console.log(t.message),e.delivery_charges=t.message)}catch(t){console.error("Failed to fetch delivery charges",t)}},deliveryChargesFilter(e,t,n){const a=n.raw;console.log("dl charges",a);const r=a.name.toLowerCase(),i=t.toLowerCase();return r.indexOf(i)>-1},update_delivery_charges(){this.selected_delivery_charge?this.delivery_charges_rate=this.selected_delivery_charge.rate:this.delivery_charges_rate=0},updatePostingDate(e){e&&(this.posting_date=e,this.$forceUpdate())},setFormatedQty(e,t,n,a,r){let i=this.setFormatedFloat(e,t,n,a,r);return this.isReturnInvoice&&i>0&&(i=-Math.abs(i),e[t]=i),i},async fetch_available_currencies(){try{console.log("Fetching available currencies...");const e=await frappe.call({method:"posawesome.posawesome.api.invoices.get_available_currencies"});if(e.message){console.log("Received currencies:",e.message);const t=this.pos_profile.currency;return this.available_currencies=e.message.map(n=>({value:n.name,title:n.name})),this.available_currencies.sort((n,a)=>n.value===t?-1:a.value===t?1:n.value.localeCompare(a.value)),this.selected_currency||(this.selected_currency=t),this.available_currencies}return[]}catch(e){console.error("Error fetching currencies:",e);const t=this.pos_profile.currency;return this.available_currencies=[{value:t,title:t}],this.selected_currency=t,this.available_currencies}},async fetch_price_lists(){if(this.pos_profile.posa_enable_price_list_dropdown)try{const e=await frappe.call({method:"posawesome.posawesome.api.posapp.get_selling_price_lists"});e&&e.message&&(this.price_lists=e.message.map(t=>t.name))}catch(e){console.error("Failed fetching price lists",e),this.price_lists=[this.pos_profile.selling_price_list]}else this.price_lists=[this.pos_profile.selling_price_list];this.selected_price_list||(this.selected_price_list=this.pos_profile.selling_price_list);try{const e=await frappe.call({method:"posawesome.posawesome.api.invoices.get_price_list_currency",args:{price_list:this.selected_price_list}});e&&e.message&&(this.price_list_currency=e.message)}catch(e){console.error("Failed fetching price list currency",e)}return this.price_lists},async update_currency(e){e&&(this.selected_currency=e,await this.update_currency_and_rate())},update_exchange_rate(){(!this.exchange_rate||this.exchange_rate<=0)&&(this.exchange_rate=1),this.eventBus.emit("update_currency",{currency:this.selected_currency||this.pos_profile.currency,exchange_rate:this.exchange_rate}),this.update_item_rates()},update_conversion_rate(){(!this.conversion_rate||this.conversion_rate<=0)&&(this.conversion_rate=1),this.sync_exchange_rate()},update_item_rates(){console.log("Updating item rates with exchange rate:",this.exchange_rate),this.items.forEach(e=>{if(e._skip_calc=!0,!e.base_rate){console.log(`Setting base rates for ${e.item_code} for the first time`);const n=this.price_list_currency||this.pos_profile.currency;this.selected_currency===n?(e.base_rate=e.rate,e.base_price_list_rate=e.price_list_rate,e.base_discount_amount=e.discount_amount||0):(e.base_rate=e.rate/this.exchange_rate,e.base_price_list_rate=e.price_list_rate/this.exchange_rate,e.base_discount_amount=(e.discount_amount||0)/this.exchange_rate)}const t=this.price_list_currency||this.pos_profile.currency;if(this.selected_currency===t)console.log(`Restoring rates for ${e.item_code} from base rates`),e.price_list_rate=e.base_price_list_rate,e.rate=e.base_rate,e.discount_amount=e.base_discount_amount;else if(e.original_currency===this.selected_currency)console.log(`Using original currency rates for ${e.item_code}`),e.price_list_rate=e.base_price_list_rate,e.rate=e.base_rate,e.discount_amount=e.base_discount_amount;else{console.log(`Converting rates for ${e.item_code} to ${this.selected_currency}`);const n=this.flt(e.base_price_list_rate*this.exchange_rate,this.currency_precision),a=this.flt(e.base_rate*this.exchange_rate,this.currency_precision),r=this.flt(e.base_discount_amount*this.exchange_rate,this.currency_precision);e.price_list_rate=n<1e-6?0:n,e.rate=a<1e-6?0:a,e.discount_amount=r<1e-6?0:r}e.amount=this.flt(e.qty*e.rate,this.currency_precision),e.base_amount=this.flt(e.qty*e.base_rate,this.currency_precision),console.log(`Updated rates for ${e.item_code}:`,{price_list_rate:e.price_list_rate,base_price_list_rate:e.base_price_list_rate,rate:e.rate,base_rate:e.base_rate,discount:e.discount_amount,base_discount:e.base_discount_amount,amount:e.amount,base_amount:e.base_amount}),this.calc_item_price(e)}),this.$forceUpdate()},formatCurrency(e,t=null){const n=t??this.currency_precision;return this.$options.mixins[0].methods.formatCurrency.call(this,e,n)},flt(e,t=null){t===null&&(t=this.float_precision);const n=Number(e);return isNaN(n)?0:Math.abs(n)<1e-6?n:Number((n||0).toFixed(t))},async update_currency_and_rate(){if(!this.selected_currency)return;const e=this.company&&this.company.default_currency||this.pos_profile.currency,t=this.price_list_currency||e;try{if(this.selected_currency===t)this.exchange_rate=1;else{const n=await frappe.call({method:"posawesome.posawesome.api.invoices.fetch_exchange_rate_pair",args:{from_currency:t,to_currency:this.selected_currency}});n&&n.message&&(this.exchange_rate=n.message.exchange_rate)}if(this.selected_currency===e)this.conversion_rate=1,this.exchange_rate_date=this.formatDateForBackend(this.posting_date_display);else{const n=await frappe.call({method:"posawesome.posawesome.api.invoices.fetch_exchange_rate_pair",args:{from_currency:this.selected_currency,to_currency:e}});if(n&&n.message){this.conversion_rate=n.message.exchange_rate,this.exchange_rate_date=n.message.date;const a=this.formatDateForBackend(this.posting_date_display);this.exchange_rate_date&&a!==this.exchange_rate_date&&this.eventBus.emit("show_message",{title:__("Exchange rate date "+this.exchange_rate_date+" differs from posting date "+a),color:"warning"})}}}catch(n){console.error("Error updating currency:",n),this.eventBus.emit("show_message",{title:"Error updating currency",color:"error"})}if(this.sync_exchange_rate(),this.items.length){const n=this.get_invoice_doc();n.currency=this.selected_currency,n.price_list_currency=t||this.pos_profile.currency,n.conversion_rate=this.conversion_rate,n.plc_conversion_rate=this.exchange_rate;try{await this.update_invoice(n)}catch(a){console.error("Error updating invoice currency:",a),this.eventBus.emit("show_message",{title:"Error updating currency",color:"error"})}}},async update_exchange_rate_on_server(){if(this.conversion_rate){if(!this.items.length){this.sync_exchange_rate();return}const e=this.get_invoice_doc();e.conversion_rate=this.conversion_rate,e.plc_conversion_rate=this.exchange_rate;try{const t=await this.update_invoice(e);if(t&&t.exchange_rate_date){this.exchange_rate_date=t.exchange_rate_date;const n=this.formatDateForBackend(this.posting_date_display);n!==this.exchange_rate_date&&this.eventBus.emit("show_message",{title:__("Exchange rate date "+this.exchange_rate_date+" differs from posting date "+n),color:"warning"})}this.sync_exchange_rate()}catch(t){console.error("Error updating exchange rate:",t),this.eventBus.emit("show_message",{title:"Error updating exchange rate",color:"error"})}}},sync_exchange_rate(){(!this.exchange_rate||this.exchange_rate<=0)&&(this.exchange_rate=1),(!this.conversion_rate||this.conversion_rate<=0)&&(this.conversion_rate=1),this.eventBus.emit("update_currency",{currency:this.selected_currency||this.pos_profile.currency,exchange_rate:this.exchange_rate,conversion_rate:this.conversion_rate}),this.update_item_rates()},roundAmount(e){if(this.pos_profile.disable_rounded_total)return this.flt(e,this.currency_precision);const t=this.price_list_currency||this.pos_profile.currency;return this.pos_profile.posa_allow_multi_currency&&this.selected_currency!==t?this.flt(e,2):Math.round(e)},add_one(e){e.qty++,e.qty==0&&this.remove_item(e),this.calc_stock_qty(e,e.qty),this.$forceUpdate()},subtract_one(e){e.qty--,e.qty==0&&this.remove_item(e),this.calc_stock_qty(e,e.qty),this.$forceUpdate()},handleItemReorder(e){const{fromIndex:t,toIndex:n}=e;if(t===n)return;const a=[...this.items],[r]=a.splice(t,1);a.splice(n,0,r),this.items=a,this.eventBus.emit("show_message",{title:__("Item order updated"),color:"success"}),this.items.forEach((i,o)=>{i.idx=o+1})}},mounted(){this.loadColumnPreferences(),this.loadInvoiceHeight(),this.eventBus.on("item-drag-start",e=>{this.showDropFeedback(!0)}),this.eventBus.on("item-drag-end",()=>{this.showDropFeedback(!1)}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.company=e.company||null,this.customer=e.pos_profile.customer,this.pos_opening_shift=e.pos_opening_shift,this.stock_settings=e.stock_settings;const t=parseInt(e.pos_profile.posa_decimal_precision);isNaN(t)||(this.float_precision=t,this.currency_precision=t),this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.initializeItemsHeaders(),this.pos_profile.posa_allow_multi_currency&&this.fetch_available_currencies().then(async()=>{this.selected_currency=this.pos_profile.currency,await this.update_currency_and_rate()}).catch(n=>{console.error("Error initializing currencies:",n),this.eventBus.emit("show_message",{title:__("Error loading currencies"),color:"error"})}),this.fetch_price_lists(),this.update_price_list()}),this.eventBus.on("add_item",this.add_item),this.eventBus.on("update_customer",e=>{this.customer=e}),this.eventBus.on("fetch_customer_details",()=>{this.fetch_customer_details()}),this.eventBus.on("clear_invoice",()=>{this.clear_invoice()}),this.eventBus.on("load_invoice",e=>{this.load_invoice(e)}),this.eventBus.on("load_order",e=>{this.new_order(e)}),this.eventBus.on("set_offers",e=>{this.posOffers=e}),this.eventBus.on("update_invoice_offers",e=>{this.updateInvoiceOffers(e)}),this.eventBus.on("update_invoice_coupons",e=>{this.posa_coupons=e,this.handelOffers()}),this.eventBus.on("set_all_items",e=>{this.allItems=e,this.items.forEach(t=>{this.update_item_detail(t)})}),this.eventBus.on("load_return_invoice",e=>{console.log("Invoice component received load_return_invoice event with data:",e),this.load_invoice(e.invoice_doc),this.invoiceType="Return",this.invoiceTypes=["Return"],this.invoice_doc.is_return=1,this.items&&this.items.length&&this.items.forEach(t=>{t.qty>0&&(t.qty=-Math.abs(t.qty)),t.stock_qty>0&&(t.stock_qty=-Math.abs(t.stock_qty))}),e.return_doc?(console.log("Return against existing invoice:",e.return_doc.name),this.discount_amount=e.return_doc.discount_amount>0?-Math.abs(e.return_doc.discount_amount):e.return_doc.discount_amount,this.additional_discount_percentage=e.return_doc.additional_discount_percentage>0?-Math.abs(e.return_doc.additional_discount_percentage):e.return_doc.additional_discount_percentage,this.return_doc=e.return_doc,this.invoice_doc.return_against=e.return_doc.name):(console.log("Return without invoice reference"),this.discount_amount=0,this.additional_discount_percentage=0),console.log("Invoice state after loading return:",{invoiceType:this.invoiceType,is_return:this.invoice_doc.is_return,items:this.items.length,customer:this.customer})}),this.eventBus.on("set_new_line",e=>{this.new_line=e}),this.pos_profile.posa_allow_multi_currency&&this.fetch_available_currencies(),this.eventBus.on("reset_posting_date",()=>{this.posting_date=frappe.datetime.nowdate()}),this.eventBus.on("open_variants_model",this.open_variants_model),this.eventBus.on("calc_uom",this.calc_uom),this.eventBus.on("item-drag-start",e=>{this.showDropFeedback(!0)}),this.eventBus.on("item-drag-end",()=>{this.showDropFeedback(!1)})},beforeUnmount(){this.eventBus.off("register_pos_profile"),this.eventBus.off("add_item"),this.eventBus.off("update_customer"),this.eventBus.off("fetch_customer_details"),this.eventBus.off("clear_invoice"),this.eventBus.off("reset_posting_date")},created(){document.addEventListener("keydown",this.shortOpenPayment.bind(this)),document.addEventListener("keydown",this.shortDeleteFirstItem.bind(this)),document.addEventListener("keydown",this.shortOpenFirstItem.bind(this)),document.addEventListener("keydown",this.shortSelectDiscount.bind(this))},unmounted(){document.removeEventListener("keydown",this.shortOpenPayment),document.removeEventListener("keydown",this.shortDeleteFirstItem),document.removeEventListener("keydown",this.shortOpenFirstItem),document.removeEventListener("keydown",this.shortSelectDiscount)},watch:w9},A9={class:"pa-0"},E9={class:"dynamic-padding"},V9={class:"items-table-wrapper"},O9={class:"column-selector-container"},M9={class:"text-caption mt-2"};function B9(e,t,n,a,r,i){const o=ie("CancelSaleDialog"),l=ie("Customer"),u=ie("v-col"),f=ie("v-select"),d=ie("v-row"),m=ie("DeliveryCharges"),p=ie("PostingDateRow"),g=ie("MultiCurrencyRow"),y=ie("v-btn"),S=ie("v-spacer"),k=ie("v-card-title"),C=ie("v-divider"),w=ie("v-switch"),I=ie("v-card-text"),V=ie("v-card-actions"),O=ie("v-card"),U=ie("v-dialog"),Y=ie("ItemsTable"),H=ie("InvoiceSummary");return de(),nt("div",A9,[h(o,{modelValue:r.cancel_dialog,"onUpdate:modelValue":t[0]||(t[0]=B=>r.cancel_dialog=B),onConfirm:e.cancel_invoice},null,8,["modelValue","onConfirm"]),h(O,{ref:"invoiceCard",style:vt({height:r.invoiceHeight||"var(--container-height)",maxHeight:r.invoiceHeight||"var(--container-height)",backgroundColor:i.isDarkTheme?"#121212":"",resize:"vertical",overflow:"auto"}),class:Ge(["cards my-0 py-0 mt-3 resizable",i.isDarkTheme?"":"bg-grey-lighten-5",{"return-mode":e.isReturnInvoice}]),onMouseup:i.saveInvoiceHeight,onTouchend:i.saveInvoiceHeight},{default:D(()=>[P("div",E9,[h(d,{align:"center",class:"items px-3 py-2"},{default:D(()=>[h(u,{cols:r.pos_profile.posa_allow_sales_order?9:12,class:"pb-0 pr-0"},{default:D(()=>[h(l)]),_:1},8,["cols"]),r.pos_profile.posa_allow_sales_order?(de(),ct(u,{key:0,cols:"3",class:"pb-4"},{default:D(()=>[h(f,{density:"compact","hide-details":"",variant:"solo",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field",items:r.invoiceTypes,label:e.frappe._("Type"),modelValue:r.invoiceType,"onUpdate:modelValue":t[1]||(t[1]=B=>r.invoiceType=B),disabled:r.invoiceType=="Return"},null,8,["bg-color","items","label","modelValue","disabled"])]),_:1})):Ke("",!0)]),_:1}),h(m,{pos_profile:r.pos_profile,delivery_charges:r.delivery_charges,selected_delivery_charge:r.selected_delivery_charge,delivery_charges_rate:r.delivery_charges_rate,deliveryChargesFilter:i.deliveryChargesFilter,formatCurrency:i.formatCurrency,currencySymbol:e.currencySymbol,readonly:e.readonly,"onUpdate:selected_delivery_charge":t[2]||(t[2]=B=>{r.selected_delivery_charge=B,i.update_delivery_charges()})},null,8,["pos_profile","delivery_charges","selected_delivery_charge","delivery_charges_rate","deliveryChargesFilter","formatCurrency","currencySymbol","readonly"]),h(p,{pos_profile:r.pos_profile,posting_date_display:r.posting_date_display,customer_balance:r.customer_balance,"price-list":r.selected_price_list,"price-lists":r.price_lists,formatCurrency:i.formatCurrency,"onUpdate:posting_date_display":t[3]||(t[3]=B=>{r.posting_date_display=B}),"onUpdate:priceList":t[4]||(t[4]=B=>{r.selected_price_list=B})},null,8,["pos_profile","posting_date_display","customer_balance","price-list","price-lists","formatCurrency"]),h(g,{pos_profile:r.pos_profile,selected_currency:r.selected_currency,plc_conversion_rate:r.exchange_rate,conversion_rate:r.conversion_rate,available_currencies:r.available_currencies,isNumber:e.isNumber,price_list_currency:r.price_list_currency,"onUpdate:selected_currency":t[5]||(t[5]=B=>{r.selected_currency=B,i.update_currency(B)}),"onUpdate:plc_conversion_rate":t[6]||(t[6]=B=>{r.exchange_rate=B,i.update_exchange_rate()}),"onUpdate:conversion_rate":t[7]||(t[7]=B=>{r.conversion_rate=B,i.update_conversion_rate()})},null,8,["pos_profile","selected_currency","plc_conversion_rate","conversion_rate","available_currencies","isNumber","price_list_currency"]),P("div",V9,[P("div",O9,[h(y,{density:"compact",variant:"text",color:"primary","prepend-icon":"mdi-cog-outline",onClick:i.toggleColumnSelection,class:"column-selector-btn"},{default:D(()=>[Ye(ve(e.__("Columns")),1)]),_:1},8,["onClick"]),h(U,{modelValue:r.show_column_selector,"onUpdate:modelValue":t[10]||(t[10]=B=>r.show_column_selector=B),"max-width":"500px"},{default:D(()=>[h(O,null,{default:D(()=>[h(k,{class:"text-h6 pa-4 d-flex align-center"},{default:D(()=>[P("span",null,ve(e.__("Select Columns to Display")),1),h(S),h(y,{icon:"mdi-close",variant:"text",density:"compact",onClick:t[8]||(t[8]=B=>r.show_column_selector=!1)})]),_:1}),h(C),h(I,{class:"pa-4"},{default:D(()=>[h(d,{dense:""},{default:D(()=>[(de(!0),nt(ht,null,In(r.available_columns.filter(B=>!B.required),B=>(de(),ct(u,{cols:"12",key:B.key},{default:D(()=>[h(w,{modelValue:r.temp_selected_columns,"onUpdate:modelValue":t[9]||(t[9]=j=>r.temp_selected_columns=j),label:B.title,value:B.key,"hide-details":"",density:"compact",color:"primary",class:"column-switch mb-1",disabled:B.required},null,8,["modelValue","label","value","disabled"])]),_:2},1024))),128))]),_:1}),P("div",M9,ve(e.__("Required columns cannot be hidden")),1)]),_:1}),h(V,{class:"pa-4 pt-0"},{default:D(()=>[h(y,{color:"error",variant:"text",onClick:i.cancelColumnSelection},{default:D(()=>[Ye(ve(e.__("Cancel")),1)]),_:1},8,["onClick"]),h(S),h(y,{color:"primary",variant:"tonal",onClick:i.updateSelectedColumns},{default:D(()=>[Ye(ve(e.__("Apply")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),h(Y,{headers:r.items_headers,items:r.items,expanded:r.expanded,itemsPerPage:r.itemsPerPage,itemSearch:e.itemSearch,pos_profile:r.pos_profile,invoice_doc:r.invoice_doc,invoiceType:r.invoiceType,displayCurrency:e.displayCurrency,formatFloat:e.formatFloat,formatCurrency:i.formatCurrency,currencySymbol:e.currencySymbol,isNumber:e.isNumber,setFormatedQty:i.setFormatedQty,calcStockQty:e.calc_stock_qty,setFormatedCurrency:e.setFormatedCurrency,calcPrices:e.calc_prices,calcUom:e.calc_uom,setSerialNo:e.set_serial_no,setBatchQty:e.set_batch_qty,validateDueDate:e.validate_due_date,removeItem:e.remove_item,subtractOne:i.subtract_one,addOne:i.add_one,toggleOffer:e.toggleOffer,"onUpdate:expanded":t[11]||(t[11]=B=>r.expanded=B),onReorderItems:i.handleItemReorder,onAddItemFromDrag:i.handleItemDrop,onShowDropFeedback:i.showDropFeedback,onItemDropped:t[12]||(t[12]=B=>i.showDropFeedback(!1))},null,8,["headers","items","expanded","itemsPerPage","itemSearch","pos_profile","invoice_doc","invoiceType","displayCurrency","formatFloat","formatCurrency","currencySymbol","isNumber","setFormatedQty","calcStockQty","setFormatedCurrency","calcPrices","calcUom","setSerialNo","setBatchQty","validateDueDate","removeItem","subtractOne","addOne","toggleOffer","onReorderItems","onAddItemFromDrag","onShowDropFeedback"])])])]),_:1},8,["style","class","onMouseup","onTouchend"]),h(H,{pos_profile:r.pos_profile,total_qty:e.total_qty,additional_discount:r.additional_discount,additional_discount_percentage:r.additional_discount_percentage,total_items_discount_amount:e.total_items_discount_amount,subtotal:e.subtotal,displayCurrency:e.displayCurrency,formatFloat:e.formatFloat,formatCurrency:i.formatCurrency,currencySymbol:e.currencySymbol,discount_percentage_offer_name:r.discount_percentage_offer_name,isNumber:e.isNumber,"onUpdate:additional_discount":t[13]||(t[13]=B=>r.additional_discount=B),"onUpdate:additional_discount_percentage":t[14]||(t[14]=B=>r.additional_discount_percentage=B),onUpdate_discount_umount:e.update_discount_umount,onSaveAndClear:e.save_and_clear_invoice,onLoadDrafts:e.get_draft_invoices,onSelectOrder:e.get_draft_orders,onCancelSale:t[15]||(t[15]=B=>r.cancel_dialog=!0),onOpenReturns:e.open_returns,onPrintDraft:i.print_draft_invoice,onShowPayment:e.show_payment},null,8,["pos_profile","total_qty","additional_discount","additional_discount_percentage","total_items_discount_amount","subtotal","displayCurrency","formatFloat","formatCurrency","currencySymbol","discount_percentage_offer_name","isNumber","onUpdate_discount_umount","onSaveAndClear","onLoadDrafts","onSelectOrder","onOpenReturns","onPrintDraft","onShowPayment"])])}const R9=Bn(I9,[["render",B9],["__scopeId","data-v-c9ea5469"]]),F9={mixins:[po],props:["dialog"],data(){return{isOpen:this.dialog?this.dialog:!1,dialog_data:{},is_loading:!1,companies:[],company:"",pos_profiles_data:[],pos_profiles:[],pos_profile:"",payments_method_data:[],payments_methods:[],payments_methods_headers:[{title:__("Mode of Payment"),align:"start",sortable:!1,value:"mode_of_payment"},{title:__("Opening Amount"),value:"amount",align:"center",sortable:!1}],itemsPerPage:100,max25chars:e=>e.length<=12||"Input too long!",pagination:{},snack:!1,snackColor:"",snackText:""}},watch:{company(e){this.pos_profiles=[],this.pos_profiles_data.forEach(t=>{t.company===e&&this.pos_profiles.push(t.name),this.pos_profiles.length?this.pos_profile=this.pos_profiles[0]:this.pos_profile=""})},pos_profile(e){this.payments_methods=[],this.payments_method_data.forEach(t=>{t.parent===e&&this.payments_methods.push({mode_of_payment:t.mode_of_payment,amount:0,currency:t.currency})})}},methods:{close_opening_dialog(){this.eventBus.emit("close_opening_dialog")},async get_opening_dialog_data(){const e=this;await Zu,await ho();const t=dD();if(t)try{e.companies=t.companies.map(n=>n.name),e.pos_profiles_data=t.pos_profiles_data||[],e.payments_method_data=t.payments_method||[],e.company=e.companies[0]||""}catch(n){console.error("Failed to parse opening dialog cache",n)}frappe.call({method:"posawesome.posawesome.api.shifts.get_opening_dialog_data",args:{},callback:function(n){if(n.message){e.companies=n.message.companies.map(a=>a.name),e.pos_profiles_data=n.message.pos_profiles_data,e.payments_method_data=n.message.payments_method,e.company=e.companies[0]||"";try{fD(n.message)}catch(a){console.error("Failed to cache opening dialog data",a)}}}})},submit_dialog(){if(!this.payments_methods.length||!this.company||!this.pos_profile)return;this.is_loading=!0;const e=this;return frappe.call("posawesome.posawesome.api.shifts.create_opening_voucher",{pos_profile:this.pos_profile,company:this.company,balance_details:this.payments_methods}).then(t=>{if(t.message){e.eventBus.emit("register_pos_data",t.message),e.eventBus.emit("set_company",t.message.company);try{Sv(t.message)}catch(n){console.error("Failed to cache opening data",n)}e.close_opening_dialog(),e.is_loading=!1}})},go_desk(){frappe.set_route("/"),location.reload()}},mounted(){this.get_opening_dialog_data()},beforeUnmount(){}},$9={class:"header-content"},L9={class:"header-icon-wrapper"},N9={class:"header-text"},q9={class:"header-title"},U9={class:"header-subtitle"},H9={class:"section-header-compact"},z9={class:"section-title-compact"};function W9(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-card-title"),u=ie("v-autocomplete"),f=ie("v-col"),d=ie("v-text-field"),m=ie("v-data-table"),p=ie("v-row"),g=ie("v-container"),y=ie("v-card-text"),S=ie("v-btn"),k=ie("v-spacer"),C=ie("v-card-actions"),w=ie("v-card"),I=ie("v-dialog");return de(),ct(p,{justify:"center"},{default:D(()=>[h(I,{modelValue:r.isOpen,"onUpdate:modelValue":t[2]||(t[2]=V=>r.isOpen=V),persistent:"","max-width":"800px","max-height":"90vh"},{default:D(()=>[h(w,{elevation:"8",class:"opening-dialog-card"},{default:D(()=>[h(l,{class:"opening-dialog-header"},{default:D(()=>[P("div",$9,[P("div",L9,[h(o,{class:"header-icon"},{default:D(()=>t[3]||(t[3]=[Ye("mdi-cash-plus")])),_:1,__:[3]})]),P("div",N9,[P("h5",q9,ve(e.__("Create POS Opening Shift")),1),P("p",U9,ve(e.__("Initialize your shift with opening balances")),1)])])]),_:1}),h(y,{class:"opening-dialog-content"},{default:D(()=>[h(g,{class:"pa-0"},{default:D(()=>[h(p,null,{default:D(()=>[h(f,{cols:"12",md:"6",class:"form-field"},{default:D(()=>[h(u,{items:r.companies,label:e.frappe._("Company"),modelValue:r.company,"onUpdate:modelValue":t[0]||(t[0]=V=>r.company=V),required:"",variant:"outlined",color:"primary",density:"compact","prepend-inner-icon":"mdi-domain",class:Ge(["enhanced-field",{"field-focused":r.company}])},null,8,["items","label","modelValue","class"])]),_:1}),h(f,{cols:"12",md:"6",class:"form-field"},{default:D(()=>[h(u,{items:r.pos_profiles,label:e.frappe._("POS Profile"),modelValue:r.pos_profile,"onUpdate:modelValue":t[1]||(t[1]=V=>r.pos_profile=V),required:"",variant:"outlined",color:"primary",density:"compact","prepend-inner-icon":"mdi-point-of-sale",class:Ge(["enhanced-field",{"field-focused":r.pos_profile}])},null,8,["items","label","modelValue","class"])]),_:1}),h(f,{cols:"12"},{default:D(()=>[P("div",H9,[P("h6",z9,[h(o,{class:"section-icon"},{default:D(()=>t[4]||(t[4]=[Ye("mdi-credit-card-multiple")])),_:1,__:[4]}),Ye(" "+ve(e.__("Payment Methods")),1)])]),h(m,{headers:r.payments_methods_headers,items:r.payments_methods,"item-key":"mode_of_payment",class:"enhanced-table-compact","items-per-page":r.itemsPerPage,"hide-default-footer":"",density:"compact",height:"300px","fixed-header":""},{"item.amount":D(({item:V})=>[h(d,{modelValue:V.amount,"onUpdate:modelValue":O=>V.amount=O,rules:[r.max25chars],type:"number",density:"compact",variant:"outlined",color:"primary","hide-details":"",prefix:e.currencySymbol(V.currency),class:"amount-input"},null,8,["modelValue","onUpdate:modelValue","rules","prefix"])]),_:1},8,["headers","items","items-per-page"])]),_:1})]),_:1})]),_:1})]),_:1}),h(C,{class:"dialog-actions-container"},{default:D(()=>[h(S,{theme:"dark",onClick:i.go_desk,class:"pos-action-btn cancel-action-btn",size:"large",elevation:"2"},{default:D(()=>[h(o,{start:""},{default:D(()=>t[5]||(t[5]=[Ye("mdi-close-circle-outline")])),_:1,__:[5]}),P("span",null,ve(e.__("Cancel")),1)]),_:1},8,["onClick"]),h(k),h(S,{theme:"dark",disabled:r.is_loading,loading:r.is_loading,onClick:i.submit_dialog,class:"pos-action-btn submit-action-btn",size:"large",elevation:"2"},{default:D(()=>[h(o,{start:""},{default:D(()=>t[6]||(t[6]=[Ye("mdi-check-circle-outline")])),_:1,__:[6]}),P("span",null,ve(e.__("Submit")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const j9=Bn(F9,[["render",W9],["__scopeId","data-v-d72a74b2"]]);function Y9(e){if(!e)return"";const t=(e.items||[]).map(o=>{const l=o.serial_no?`<br><b>SR.No:</b><br>${o.serial_no.replace(/\n/g,", ")}`:"";return`<tr>
        <td>${o.item_code}${o.item_name&&o.item_name!==o.item_code?`<br>${o.item_name}`:""}${l}</td>
        <td style="text-align:right">${o.qty} ${o.uom||""}<br>@ ${o.rate}</td>
        <td style="text-align:right">${o.amount}</td>
      </tr>`}).join(""),n=(e.taxes||[]).map(o=>`<tr>
      <td class="text-right" style="width:70%">${o.description}@${o.rate}%</td>
      <td class="text-right">${o.tax_amount}</td>
    </tr>`).join(""),a=e.discount_amount?`<tr>
      <td class="text-right" style="width:75%">Discount</td>
      <td class="text-right">${e.discount_amount}</td>
    </tr>`:"",r=e.change_amount?`<tr>
      <td class="text-right" style="width:75%">Change Amount</td>
      <td class="text-right">${e.change_amount}</td>
    </tr>`:"";return`<!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <title>Invoice ${e.name||""}</title>
    <style>
      table, tr, td, div, p { line-height:120%; vertical-align:middle; font-size:10px; }
      .print-format { width:3.5in; padding:0.1in; min-height:7in; }
      .text-right { text-align:right; }
    </style>
  </head>
  <body class="print-format">
    <div style="text-align:center; margin-bottom:0"><h5 style="margin:0; font-size:11px;">${e.is_duplicate?"Duplicate":"Original"}</h5></div>
    <p style="margin-top:0">
      <b>Invoice Status:</b> ${e.status||""}<br>
      <b>Receipt No:</b> ${e.name||""}<br>
      <b>Customer:</b> ${e.customer_name||e.customer||""}<br>
      <b>Mobile:</b> ${e.contact_mobile||""}<br>
      <b>Date:</b> ${e.posting_date||""}
      <b>Time:</b> ${e.posting_time||""}<br>
    </p>
    <p style="margin-top:3px;"><b>Additional Note:</b> <strong>${e.posa_notes||""}</strong></p>
    <table cellpadding="0" cellspacing="0" style="width:100%">
      <thead>
        <tr><th width="50%"><b>Item</b></th><th width="25%" class="text-right"><b>Qty</b></th><th width="25%" class="text-right"><b>Amount</b></th></tr>
      </thead>
      <tbody>${t}</tbody>
    </table>
    <table cellpadding="0" cellspacing="0" style="width:100%">
      <tbody>
        <tr><td class="text-right" style="width:70%"><b>Total</b></td><td class="text-right">${e.total}</td></tr>
        ${n}
        ${a}
        <tr><td class="text-right" style="width:70%"><b>Grand Total</b></td><td class="text-right">${e.grand_total}</td></tr>
        <tr><td class="text-right" style="width:75%"><b>Paid Amount</b></td><td class="text-right">${e.paid_amount}</td></tr>
        ${r}
      </tbody>
    </table>
    <p class="text-center" style="margin-top:3px;">Thank you, please visit again.</p>
  </body>
  </html>`}const K9={mixins:[po],data(){return{loading:!1,pos_profile:"",pos_settings:"",invoice_doc:"",invoiceType:"Invoice",is_return:!1,loyalty_amount:0,redeemed_customer_credit:0,credit_change:0,paid_change:0,is_credit_sale:!1,is_write_off_change:!1,is_cashback:!0,is_credit_return:!1,redeem_customer_credit:!1,customer_credit_dict:[],paid_change_rules:[],phone_dialog:!1,custom_days_dialog:!1,custom_days_value:null,new_delivery_date:null,new_po_date:null,new_credit_due_date:null,credit_due_days:null,credit_due_presets:[7,14,30],customer_info:"",mpesa_modes:[],sales_persons:[],sales_person:"",addresses:[],is_user_editing_paid_change:!1}},computed:{currencySymbol(){return e=>get_currency_symbol(e||this.invoice_doc.currency)},displayCurrency(){return this.invoice_doc?this.invoice_doc.currency:""},total_payments(){let e=0;return this.invoice_doc&&this.invoice_doc.payments&&this.invoice_doc.payments.forEach(t=>{e+=parseFloat(t.amount)||0}),this.loyalty_amount&&(this.invoice_doc.currency!==this.pos_profile.currency?e+=this.flt(this.loyalty_amount/(this.invoice_doc.conversion_rate||1),this.currency_precision):e+=parseFloat(this.loyalty_amount)||0),this.redeemed_customer_credit&&(this.invoice_doc.currency!==this.pos_profile.currency?e+=this.flt(this.redeemed_customer_credit/(this.invoice_doc.conversion_rate||1),this.currency_precision):e+=parseFloat(this.redeemed_customer_credit)||0),this.flt(e,this.currency_precision)},diff_payment(){if(!this.invoice_doc)return 0;let e;this.pos_profile.posa_allow_multi_currency&&this.invoice_doc.currency!==this.pos_profile.currency?e=this.flt(this.invoice_doc.grand_total,this.currency_precision):e=this.flt(this.invoice_doc.rounded_total||this.invoice_doc.grand_total,this.currency_precision);let t=this.flt(e-this.total_payments,this.currency_precision);return this.invoice_doc.is_return,t>=0?t:0},credit_change(){let e;this.pos_profile.posa_allow_multi_currency&&this.invoice_doc.currency!==this.pos_profile.currency?e=this.flt(this.invoice_doc.grand_total,this.currency_precision):e=this.flt(this.invoice_doc.rounded_total||this.invoice_doc.grand_total,this.currency_precision);let t=this.flt(this.total_payments-e,this.currency_precision);return t>0?t:0},diff_label(){return this.diff_payment>0?`To Be Paid (${this.displayCurrency})`:`Change (${this.displayCurrency})`},total_payments_display(){return this.formatCurrency(this.total_payments,this.displayCurrency)},diff_payment_display(){return this.formatCurrency(this.diff_payment,this.displayCurrency)},available_points_amount(){let e=0;return this.customer_info.loyalty_points&&(e=this.customer_info.loyalty_points*this.customer_info.conversion_factor,this.invoice_doc.currency!==this.pos_profile.currency&&(e=this.flt(e/(this.invoice_doc.conversion_rate||1),this.currency_precision))),e},available_customer_credit(){return this.customer_credit_dict.reduce((e,t)=>e+this.flt(t.total_credit),0)},vaildatPayment(){return!!(this.pos_profile.posa_allow_sales_order&&this.invoiceType==="Order"&&!this.invoice_doc.posa_delivery_date)},request_payment_field(){var e,t;return((t=(e=this.pos_settings)==null?void 0:e.invoice_fields)==null?void 0:t.some(n=>n.fieldtype==="Button"&&n.fieldname==="request_for_payment"))||!1},isDarkTheme(){return this.$theme.current==="dark"}},watch:{diff_payment(e){this.is_user_editing_paid_change||(this.paid_change=-e)},paid_change(e){const t=-this.diff_payment;e>t?(this.paid_change=t,this.credit_change=0,this.paid_change_rules=["Paid change can not be greater than total change!"]):(this.paid_change_rules=[],this.credit_change=this.flt(e-t,this.currency_precision))},loyalty_amount(e){e>this.available_points_amount?(this.invoice_doc.loyalty_amount=0,this.invoice_doc.redeem_loyalty_points=0,this.invoice_doc.loyalty_points=0,this.loyalty_amount=0,this.eventBus.emit("show_message",{title:`Loyalty Amount can not be more than ${this.available_points_amount}`,color:"error"})):(this.invoice_doc.loyalty_amount=this.flt(this.loyalty_amount),this.invoice_doc.redeem_loyalty_points=1,this.invoice_doc.loyalty_points=this.flt(this.loyalty_amount)/this.customer_info.conversion_factor)},redeemed_customer_credit(e){e>this.available_customer_credit&&(this.redeemed_customer_credit=this.available_customer_credit,this.eventBus.emit("show_message",{title:`You can redeem customer credit up to ${this.available_customer_credit}`,color:"error"}))},customer_credit_dict:{handler(e){const t=e.reduce((n,a)=>n+this.flt(a.credit_to_redeem||0),0);this.redeemed_customer_credit=this.flt(t,this.currency_precision)},deep:!0},sales_person(e){e?(this.invoice_doc.sales_team=[{sales_person:e,allocated_percentage:100}],console.log("Updated sales_team with sales_person:",e)):(this.invoice_doc.sales_team=[],console.log("Cleared sales_team"))},is_credit_sale(e){e?this.invoice_doc.payments.forEach(t=>{t.mode_of_payment.toLowerCase()==="cash"&&(t.amount=0)}):this.invoice_doc.payments.forEach(t=>{t.mode_of_payment.toLowerCase()==="cash"&&(t.amount=this.invoice_doc.rounded_total||this.invoice_doc.grand_total)})},is_credit_return(e){e?(this.is_cashback=!1,this.invoice_doc.payments.forEach(t=>{t.amount=0,t.base_amount!==void 0&&(t.base_amount=0)})):(this.is_cashback=!0,this.ensureReturnPaymentsAreNegative())}},methods:{back_to_invoice(){this.eventBus.emit("show_payment","false"),this.eventBus.emit("set_customer_readonly",!1)},reset_cash_payments(){this.invoice_doc.payments.forEach(e=>{e.mode_of_payment.toLowerCase()==="cash"&&(e.amount=0)})},ensureReturnPaymentsAreNegative(){if(!this.invoice_doc||!this.invoice_doc.is_return||!this.is_cashback)return;let e=!1;if(this.invoice_doc.payments.forEach(t=>{Math.abs(t.amount)>0&&(e=!0)}),!e){const t=this.invoice_doc.payments.find(n=>n.default===1);if(t){const n=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;t.amount=-Math.abs(n),t.base_amount!==void 0&&(t.base_amount=-Math.abs(n))}}this.invoice_doc.payments.forEach(t=>{t.amount>0&&(t.amount=-Math.abs(t.amount)),t.base_amount!==void 0&&t.base_amount>0&&(t.base_amount=-Math.abs(t.base_amount))})},submit(e,t=!1,n=!1){if(this.invoice_doc.is_return&&this.ensureReturnPaymentsAreNegative(),!this.is_credit_sale&&!this.invoice_doc.is_return&&this.total_payments<=0&&(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)>0){this.eventBus.emit("show_message",{title:"Please enter payment amount",color:"error"}),frappe.utils.play_sound("error");return}if(!this.is_credit_sale&&!this.invoice_doc.is_return){let o=!1,l=0;if(this.invoice_doc.payments.forEach(u=>{u.mode_of_payment.toLowerCase().includes("cash")&&(o=!0,l=this.flt(u.amount))}),o&&l>0&&!this.pos_profile.posa_allow_partial_payment&&l<(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)&&(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)>0){this.eventBus.emit("show_message",{title:"Cash payment cannot be less than invoice total when partial payment is not allowed",color:"error"}),frappe.utils.play_sound("error");return}}if(!this.is_credit_sale&&!this.pos_profile.posa_allow_partial_payment&&this.total_payments<(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)&&(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)>0){this.eventBus.emit("show_message",{title:"The amount paid is not complete",color:"error"}),frappe.utils.play_sound("error");return}let a=!0;if(!t&&(this.invoice_doc.payments.forEach(o=>{o.type==="Phone"&&![0,"0","",null,void 0].includes(o.amount)&&(a=!1)}),!a)){this.eventBus.emit("show_message",{title:__("Please request phone payment or use another payment method"),color:"error"}),frappe.utils.play_sound("error");return}if(this.paid_change>-this.diff_payment){this.eventBus.emit("show_message",{title:"Paid change cannot be greater than total change!",color:"error"}),frappe.utils.play_sound("error");return}let r=this.flt(this.flt(this.paid_change)+this.flt(-this.credit_change));if(this.is_cashback&&r!==-this.diff_payment){this.eventBus.emit("show_message",{title:"Error in change calculations!",color:"error"}),frappe.utils.play_sound("error");return}if(this.customer_credit_dict.filter(o=>this.flt(o.credit_to_redeem)>this.flt(o.total_credit)).length>0){this.eventBus.emit("show_message",{title:"Redeemed credit cannot be greater than its total.",color:"error"}),frappe.utils.play_sound("error");return}if(!this.invoice_doc.is_return&&this.redeemed_customer_credit>(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)){this.eventBus.emit("show_message",{title:"Cannot redeem customer credit more than invoice total",color:"error"}),frappe.utils.play_sound("error");return}this.loading=!0,this.submit_invoice(n)},submit_invoice(e){this.invoice_doc.is_return&&this.ensureReturnPaymentsAreNegative();let t=0;this.invoice_doc.payments.forEach(r=>{r.amount=this.flt(r.amount),t+=r.amount}),this.invoice_doc.is_return&&t===0&&(this.invoice_doc.is_pos=0),this.customer_credit_dict.length&&this.customer_credit_dict.forEach(r=>{r.credit_to_redeem=this.flt(r.credit_to_redeem)});let n={total_change:this.invoice_doc.is_return?0:-this.diff_payment,paid_change:this.invoice_doc.is_return?0:this.paid_change,credit_change:-this.credit_change,redeemed_customer_credit:this.redeemed_customer_credit,customer_credit_dict:this.customer_credit_dict,is_cashback:this.is_cashback};const a=this;if(wa())try{xD({data:n,invoice:this.invoice_doc}),this.eventBus.emit("pending_invoices_changed",js()),a.eventBus.emit("show_message",{title:__("Invoice saved offline"),color:"warning"}),e&&this.print_offline_invoice(this.invoice_doc),a.eventBus.emit("clear_invoice"),a.eventBus.emit("reset_posting_date"),a.back_to_invoice(),a.loading=!1;return}catch(r){a.eventBus.emit("show_message",{title:__("Cannot Save Offline Invoice: ")+(r.message||__("Unknown error")),color:"error"}),a.loading=!1;return}frappe.call({method:this.invoiceType==="Order"&&this.pos_profile.posa_create_only_sales_order?"posawesome.posawesome.api.sales_orders.submit_sales_order":"posawesome.posawesome.api.invoices.submit_invoice",args:{data:n,invoice:this.invoice_doc,order:this.invoice_doc},callback:function(r){if(r.exc){console.error("Error submitting invoice:",r.exc);let i=r.exc.toString();i.includes("Amount must be negative")?(a.eventBus.emit("show_message",{title:__("Fixing payment amounts for return invoice..."),color:"warning"}),a.invoice_doc.payments.forEach(o=>{o.amount>0&&(o.amount=-Math.abs(o.amount)),o.base_amount>0&&(o.base_amount=-Math.abs(o.base_amount))}),console.log("Retrying submission with fixed payment amounts"),setTimeout(()=>{a.submit_invoice(e)},500)):a.eventBus.emit("show_message",{title:__("Error submitting invoice: ")+i,color:"error"}),a.loading=!1;return}if(!r.message){a.eventBus.emit("show_message",{title:__("Error submitting invoice: No response from server"),color:"error"}),a.loading=!1;return}e&&a.load_print_page(),a.customer_credit_dict=[],a.redeem_customer_credit=!1,a.is_cashback=!0,a.is_credit_return=!1,a.sales_person="",a.eventBus.emit("set_last_invoice",a.invoice_doc.name),a.eventBus.emit("show_message",{title:a.invoiceType==="Order"&&a.pos_profile.posa_create_only_sales_order?__("Sales Order {0} is Submitted",[r.message.name]):__("Invoice {0} is Submitted",[r.message.name]),color:"success"}),frappe.utils.play_sound("submit"),vb(a.invoice_doc.items||[]),a.addresses=[],a.eventBus.emit("clear_invoice"),a.eventBus.emit("reset_posting_date"),a.back_to_invoice(),a.loading=!1}})},set_full_amount(e){var i,o;const t=this.invoice_doc.is_return||this.invoiceType==="Return";let n=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;console.log("Setting full amount for payment method idx:",e),console.log("Current payments:",JSON.stringify(this.invoice_doc.payments)),this.invoice_doc.payments.forEach(l=>{l.amount=0,l.base_amount!==void 0&&(l.base_amount=0)});const a=(o=(i=event==null?void 0:event.target)==null?void 0:i.textContent)==null?void 0:o.trim();console.log("Clicked button text:",a);const r=this.invoice_doc.payments.find(l=>l.mode_of_payment===a);if(r){console.log("Found clicked payment:",r.mode_of_payment);let l=t?-Math.abs(n):n;r.amount=l,r.base_amount!==void 0&&(r.base_amount=t?-Math.abs(l):l),console.log("Set amount for payment:",r.mode_of_payment,"amount:",l)}else console.log("No payment found for button text:",a);this.$forceUpdate()},set_rest_amount(e){const t=this.invoice_doc.is_return||this.invoiceType==="Return";this.invoice_doc.payments.forEach(n=>{if(n.idx===e&&n.amount===0&&this.diff_payment>0){let a=this.diff_payment;t&&(a=-Math.abs(a)),n.amount=a,n.base_amount!==void 0&&(n.base_amount=t?-Math.abs(a):a)}})},clear_all_amounts(){this.invoice_doc.payments.forEach(e=>{e.amount=0})},load_print_page(){const e=this.pos_profile.print_format_for_online||this.pos_profile.print_format,t=this.pos_profile.letter_head||0,n=frappe.urllib.get_base_url()+"/printview?doctype=Sales%20Invoice&name="+this.invoice_doc.name+"&trigger_print=1&format="+e+"&no_letterhead="+t;if(this.pos_profile.posa_silent_print)xv(n);else{const a=window.open(n,"Print");a.addEventListener("load",function(){a.print()},{once:!0})}},print_offline_invoice(e){if(!e)return;const t=Y9(e),n=window.open("","_blank");n.document.write(t),n.document.close(),n.focus(),n.print()},validate_due_date(){const e=frappe.datetime.now_date(),t=Date.parse(this.invoice_doc.due_date),n=Date.parse(e);t<n&&(this.invoice_doc.due_date=e)},shortPay(e){e.key.toLowerCase()==="x"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation(),this.invoice_doc&&this.invoice_doc.payments&&this.submit_invoice())},get_available_credit(e){this.clear_all_amounts(),e?frappe.call("posawesome.posawesome.api.payments.get_available_credit",{customer:this.invoice_doc.customer,company:this.pos_profile.company}).then(t=>{const n=t.message;if(n.length){let r=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;n.forEach(i=>{r>0?r>=i.total_credit?(i.credit_to_redeem=i.total_credit,r-=i.total_credit):(i.credit_to_redeem=r,r=0):i.credit_to_redeem=0}),this.customer_credit_dict=n}else this.customer_credit_dict=[]}):this.customer_credit_dict=[]},get_addresses(){const e=this;if(!e.invoice_doc||!e.invoice_doc.customer){e.addresses=[];return}frappe.call({method:"posawesome.posawesome.api.customers.get_customer_addresses",args:{customer:e.invoice_doc.customer},async:!0,callback:function(t){t.exc?e.addresses=[]:e.addresses=t.message}})},addressFilter(e,t,n){const a=t.toLowerCase();return e.address_title&&e.address_title.toLowerCase().includes(a)||e.address_line1&&e.address_line1.toLowerCase().includes(a)||e.address_line2&&e.address_line2.toLowerCase().includes(a)||e.city&&e.city.toLowerCase().includes(a)||e.name&&e.name.toLowerCase().includes(a)},new_address(){if(!this.invoice_doc||!this.invoice_doc.customer){this.eventBus.emit("show_message",{title:__("Please select a customer first"),color:"error"});return}this.eventBus.emit("open_new_address",this.invoice_doc.customer)},get_sales_person_names(){const e=this;if(e.pos_profile.posa_local_storage&&gg().length)try{e.sales_persons=gg()}catch{}frappe.call({method:"posawesome.posawesome.api.utilities.get_sales_person_names",callback:function(t){t.message&&t.message.length>0?(e.sales_persons=t.message.map(n=>({value:n.name,title:n.sales_person_name,sales_person_name:n.sales_person_name,name:n.name})),e.pos_profile.posa_local_storage&&uD(e.sales_persons)):e.sales_persons=[]}})},request_payment(e){this.phone_dialog=!1;const t=this;if(!this.invoice_doc.contact_mobile){this.eventBus.emit("show_message",{title:__("Please set the customer's mobile number"),color:"error"}),this.eventBus.emit("open_edit_customer"),this.back_to_invoice();return}this.eventBus.emit("freeze",{title:__("Waiting for payment...")}),this.invoice_doc.payments.forEach(a=>{a.amount=this.flt(a.amount)});let n={...this.invoice_doc};n.total_change=this.invoice_doc.is_return?0:-this.diff_payment,n.paid_change=this.invoice_doc.is_return?0:this.paid_change,n.credit_change=-this.credit_change,n.redeemed_customer_credit=this.redeemed_customer_credit,n.customer_credit_dict=this.customer_credit_dict,n.is_cashback=this.is_cashback,frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice",args:{data:n},async:!1,callback:function(a){a.message&&(t.invoice_doc=a.message)}}).then(()=>{frappe.call({method:"posawesome.posawesome.api.payments.create_payment_request",args:{doc:t.invoice_doc}}).fail(()=>{t.eventBus.emit("unfreeze"),t.eventBus.emit("show_message",{title:__("Payment request failed"),color:"error"})}).then(({message:a})=>{const r=a.name;setTimeout(()=>{frappe.db.get_value("Payment Request",r,["status","grand_total"]).then(({message:i})=>{i.status!=="Paid"?(t.eventBus.emit("unfreeze"),t.eventBus.emit("show_message",{title:__("Payment Request took too long to respond. Please try requesting for payment again"),color:"error"})):(t.eventBus.emit("unfreeze"),t.eventBus.emit("show_message",{title:__("Payment of {0} received successfully.",[t.formatCurrency(i.grand_total,t.invoice_doc.currency,0)]),color:"success"}),frappe.db.get_doc("Sales Invoice",t.invoice_doc.name).then(o=>{t.invoice_doc=o,t.submit(null,!0)}))})},3e4)})})},get_mpesa_modes(){const e=this;frappe.call({method:"posawesome.posawesome.api.m_pesa.get_mpesa_mode_of_payment",args:{company:e.pos_profile.company},async:!0,callback:function(t){t.exc?e.mpesa_modes=[]:e.mpesa_modes=t.message}})},is_mpesa_c2b_payment(e){return this.mpesa_modes.includes(e.mode_of_payment)&&e.type==="Bank"?(e.amount=0,!0):!1},mpesa_c2b_dialog(e){const t={company:this.pos_profile.company,mode_of_payment:e.mode_of_payment,customer:this.invoice_doc.customer};this.eventBus.emit("open_mpesa_payments",t)},set_mpesa_payment(e){this.pos_profile.use_customer_credit=!0,this.redeem_customer_credit=!0;const t=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;let n=e.unallocated_amount>t?t:e.unallocated_amount;n=n>0?n:0;const a={type:"Advance",credit_origin:e.name,total_credit:this.flt(e.unallocated_amount),credit_to_redeem:this.flt(n)};this.clear_all_amounts(),this.customer_credit_dict.push(a)},update_delivery_date(){this.invoice_doc.posa_delivery_date=this.formatDate(this.new_delivery_date),this.invoice_doc.customer&&(!this.addresses||this.addresses.length===0)&&this.get_addresses()},update_po_date(){this.invoice_doc.po_date=this.formatDate(this.new_po_date)},update_credit_due_date(){this.invoice_doc.due_date=this.formatDate(this.new_credit_due_date)},applyDuePreset(e){if(e===null||e===""||isNaN(e))return;const t=new Date;t.setDate(t.getDate()+parseInt(e,10)),this.new_credit_due_date=this.formatDateDisplay(t),this.credit_due_days=parseInt(e,10),this.update_credit_due_date()},applyCustomDays(){this.applyDuePreset(this.custom_days_value),this.custom_days_dialog=!1},formatDate(e){if(!e)return null;if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2),r=`0${t.getDate()}`.slice(-2);return`${n}-${a}-${r}`}return e},formatDateDisplay(e){if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a}-${n}`}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2);return`${`0${t.getDate()}`.slice(-2)}-${a}-${n}`}return e},showPaidAmount(){this.eventBus.emit("show_message",{title:`Total Paid Amount: ${this.formatCurrency(this.total_payments)}`,color:"info"})},showDiffPayment(){this.invoice_doc&&this.eventBus.emit("show_message",{title:`To Be Paid: ${this.formatCurrency(this.diff_payment)}`,color:"info"})},showPaidChange(){this.eventBus.emit("show_message",{title:`Paid Change: ${this.formatCurrency(this.paid_change)}`,color:"info"})},showCreditChange(e){e>0?(this.credit_change=e,this.paid_change=-this.diff_payment):this.credit_change=0},formatCurrency(e){return this.$options.mixins[0].methods.formatCurrency.call(this,e,this.currency_precision)},get_change_amount(){return Math.max(0,this.total_payments-this.invoice_doc.grand_total)},async syncPendingInvoices(){const e=js();if(e&&(this.eventBus.emit("show_message",{title:`${e} invoice${e>1?"s":""} pending for sync`,color:"warning"}),this.eventBus.emit("pending_invoices_changed",e)),wa())return;const t=await pb();t&&(t.synced||t.drafted)&&(t.synced&&this.eventBus.emit("show_message",{title:`${t.synced} offline invoice${t.synced>1?"s":""} synced`,color:"success"}),t.drafted&&this.eventBus.emit("show_message",{title:`${t.drafted} offline invoice${t.drafted>1?"s":""} saved as draft`,color:"warning"})),this.eventBus.emit("pending_invoices_changed",js())}},created(){document.addEventListener("keydown",this.shortPay.bind(this)),this.syncPendingInvoices(),this.eventBus.on("network-online",this.syncPendingInvoices),this.eventBus.on("server-online",this.syncPendingInvoices)},mounted(){this.$nextTick(()=>{this.eventBus.on("send_invoice_doc_payment",e=>{this.invoice_doc=e;const t=this.invoice_doc.payments.find(n=>n.default===1);if(this.is_credit_sale=!1,this.is_write_off_change=!1,e.is_return){if(this.is_return=!0,this.is_credit_return=!1,e.payments.forEach(n=>{n.amount=0,n.base_amount=0}),t){const n=e.rounded_total||e.grand_total;t.amount=-Math.abs(n),t.base_amount!==void 0&&(t.base_amount=-Math.abs(n))}}else t&&(t.amount=this.flt(e.rounded_total||e.grand_total,this.currency_precision),this.is_credit_return=!1);this.loyalty_amount=0,this.redeemed_customer_credit=0,e.customer&&this.get_addresses(),this.get_sales_person_names()}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.get_mpesa_modes()}),this.eventBus.on("add_the_new_address",e=>{this.addresses.push(e),this.$forceUpdate()}),this.eventBus.on("update_invoice_type",e=>{this.invoiceType=e,this.invoice_doc&&e!=="Order"?(this.invoice_doc.posa_delivery_date=null,this.invoice_doc.posa_notes=null,this.invoice_doc.shipping_address_name=null):this.invoice_doc&&e==="Order"&&(this.new_delivery_date=this.formatDateDisplay(frappe.datetime.now_date()),this.update_delivery_date()),this.invoice_doc&&e==="Return"&&(this.invoice_doc.is_return=1,this.ensureReturnPaymentsAreNegative(),this.is_credit_return=!1)}),this.eventBus.on("update_customer",e=>{this.customer!==e&&(this.customer_credit_dict=[],this.redeem_customer_credit=!1,this.is_cashback=!0,this.is_credit_return=!1)}),this.eventBus.on("set_pos_settings",e=>{this.pos_settings=e}),this.eventBus.on("set_customer_info_to_edit",e=>{this.customer_info=e}),this.eventBus.on("set_mpesa_payment",e=>{this.set_mpesa_payment(e)}),this.eventBus.on("clear_invoice",()=>{this.invoice_doc="",this.is_return=!1,this.is_credit_return=!1})})},beforeUnmount(){this.eventBus.off("send_invoice_doc_payment"),this.eventBus.off("register_pos_profile"),this.eventBus.off("add_the_new_address"),this.eventBus.off("update_invoice_type"),this.eventBus.off("update_customer"),this.eventBus.off("set_pos_settings"),this.eventBus.off("set_customer_info_to_edit"),this.eventBus.off("set_mpesa_payment"),this.eventBus.off("clear_invoice"),this.eventBus.off("network-online",this.syncPendingInvoices),this.eventBus.off("server-online",this.syncPendingInvoices)},unmounted(){document.removeEventListener("keydown",this.shortPay)}},G9={class:"pa-0"},Q9={class:"overflow-y-auto pa-2",style:{"max-height":"67vh"}},X9={key:1},J9=["innerHTML"],Z9=["innerHTML"],eG=["innerHTML"],tG=["innerHTML"],nG=["innerHTML"],aG=["innerHTML"],rG=["innerHTML"],iG=["innerHTML"],oG={key:4},sG={class:"mt-1"},lG={key:5},uG={class:"pa-2 py-3"},cG={key:0,class:"mt-1 mb-1 text-subtitle-2"},dG={key:1,class:"mt-1 mb-1 text-subtitle-2 text-red"},fG={class:"text-h5 text-primary"};function mG(e,t,n,a,r,i){const o=ie("v-progress-linear"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-row"),d=ie("v-divider"),m=ie("v-btn"),p=ie("VueDatePicker"),g=ie("v-list-item-title"),y=ie("v-list-item-subtitle"),S=ie("v-list-item"),k=ie("v-autocomplete"),C=ie("v-textarea"),w=ie("v-switch"),I=ie("v-chip"),V=ie("v-select"),O=ie("v-card"),U=ie("v-card-title"),Y=ie("v-container"),H=ie("v-card-text"),B=ie("v-spacer"),j=ie("v-card-actions"),G=ie("v-dialog");return de(),nt("div",G9,[h(O,{class:Ge(["selection mx-auto pa-1 my-0 mt-3",i.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([i.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"68vh",height:"68vh"}])},{default:D(()=>[h(o,{active:r.loading,indeterminate:r.loading,absolute:"",location:"top",color:"info"},null,8,["active","indeterminate"]),P("div",Q9,[r.invoice_doc?(de(),ct(f,{key:0,class:"pa-1",dense:""},{default:D(()=>[h(u,{cols:"7"},{default:D(()=>[h(l,{variant:"solo",color:"primary",label:e.frappe._("Paid Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",modelValue:i.total_payments_display,"onUpdate:modelValue":t[0]||(t[0]=F=>i.total_payments_display=F),readonly:"",prefix:i.currencySymbol(r.invoice_doc.currency),density:"compact",onClick:i.showPaidAmount},null,8,["label","bg-color","modelValue","prefix","onClick"])]),_:1}),h(u,{cols:"5"},{default:D(()=>[h(l,{variant:"solo",color:"primary",label:"To Be Paid","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",modelValue:i.diff_payment_display,"onUpdate:modelValue":t[1]||(t[1]=F=>i.diff_payment_display=F),prefix:i.currencySymbol(r.invoice_doc.currency),density:"compact",onFocus:i.showDiffPayment,"persistent-placeholder":""},null,8,["bg-color","modelValue","prefix","onFocus"])]),_:1}),i.credit_change>0&&!r.invoice_doc.is_return?(de(),ct(u,{key:0,cols:"7"},{default:D(()=>[h(l,{variant:"solo",color:"primary",label:e.frappe._("Paid Change"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","model-value":i.formatCurrency(r.paid_change),prefix:i.currencySymbol(r.invoice_doc.currency),rules:r.paid_change_rules,density:"compact",readonly:"",type:"text",onClick:i.showPaidChange},null,8,["label","bg-color","model-value","prefix","rules","onClick"])]),_:1})):Ke("",!0),i.credit_change>0&&!r.invoice_doc.is_return?(de(),ct(u,{key:1,cols:"5"},{default:D(()=>[h(l,{variant:"solo",color:"primary",label:e.frappe._("Credit Change"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","model-value":i.formatCurrency(i.credit_change),prefix:i.currencySymbol(r.invoice_doc.currency),density:"compact",type:"text",onChange:t[2]||(t[2]=F=>{e.setFormatedCurrency(this,"credit_change",null,!1,F),e.updateCreditChange(this.credit_change)})},null,8,["label","bg-color","model-value","prefix"])]),_:1})):Ke("",!0)]),_:1})):Ke("",!0),h(d),r.is_cashback?(de(),nt("div",X9,[(de(!0),nt(ht,null,In(r.invoice_doc.payments,F=>(de(),ct(f,{class:"payments pa-1",key:F.name},{default:D(()=>[i.is_mpesa_c2b_payment(F)?Ke("",!0):(de(),ct(u,{key:0,cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._(F.mode_of_payment),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(F.amount),onChange:ce=>e.setFormatedCurrency(F,"amount",null,!1,ce),rules:[e.isNumber,ce=>!F.mode_of_payment.toLowerCase().includes("cash")||this.is_credit_sale||ce>=(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)||"Cash payment cannot be less than invoice total when credit sale is off"],prefix:i.currencySymbol(r.invoice_doc.currency),onFocus:ce=>i.set_rest_amount(F.idx),readonly:r.invoice_doc.is_return},null,8,["label","bg-color","model-value","onChange","rules","prefix","onFocus","readonly"])]),_:2},1024)),i.is_mpesa_c2b_payment(F)?Ke("",!0):(de(),ct(u,{key:1,cols:"6"},{default:D(()=>[h(m,{block:"",color:"primary",theme:"dark",onClick:ce=>i.set_full_amount(F.idx)},{default:D(()=>[Ye(ve(F.mode_of_payment),1)]),_:2},1032,["onClick"])]),_:2},1024)),i.is_mpesa_c2b_payment(F)?(de(),ct(u,{key:2,cols:"12",class:"pl-3"},{default:D(()=>[h(m,{block:"",color:"success",theme:"dark",onClick:ce=>i.mpesa_c2b_dialog(F)},{default:D(()=>[Ye(ve(e.__("Get Payments"))+" "+ve(F.mode_of_payment),1)]),_:2},1032,["onClick"])]),_:2},1024)):Ke("",!0),F.type==="Phone"&&F.amount>0&&i.request_payment_field?(de(),ct(u,{key:3,cols:"3",class:"pl-1"},{default:D(()=>[h(m,{block:"",color:"success",theme:"dark",disabled:F.amount===0,onClick:ce=>i.request_payment(F)},{default:D(()=>[Ye(ve(e.__("Request")),1)]),_:2},1032,["disabled","onClick"])]),_:2},1024)):Ke("",!0)]),_:2},1024))),128))])):Ke("",!0),r.invoice_doc&&i.available_points_amount>0&&!r.invoice_doc.is_return?(de(),ct(f,{key:2,class:"payments pa-1"},{default:D(()=>[h(u,{cols:"7"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Redeem Loyalty Points"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.loyalty_amount),type:"text",onChange:t[3]||(t[3]=F=>e.setFormatedCurrency(this,"loyalty_amount",null,!1,F)),prefix:i.currencySymbol(r.invoice_doc.currency)},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"5"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("You can redeem up to"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":e.formatFloat(i.available_points_amount),prefix:i.currencySymbol(r.invoice_doc.currency),readonly:""},null,8,["label","bg-color","model-value","prefix"])]),_:1})]),_:1})):Ke("",!0),r.invoice_doc&&i.available_customer_credit>0&&!r.invoice_doc.is_return&&r.redeem_customer_credit?(de(),ct(f,{key:3,class:"payments pa-1"},{default:D(()=>[h(u,{cols:"7"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Redeemed Customer Credit"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.redeemed_customer_credit),type:"text",onChange:t[4]||(t[4]=F=>e.setFormatedCurrency(this,"redeemed_customer_credit",null,!1,F)),prefix:i.currencySymbol(r.invoice_doc.currency),readonly:""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"5"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("You can redeem credit up to"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(i.available_customer_credit),prefix:i.currencySymbol(r.invoice_doc.currency),readonly:""},null,8,["label","bg-color","model-value","prefix"])]),_:1})]),_:1})):Ke("",!0),h(d),h(f,{class:"pa-1"},{default:D(()=>[h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Net Total"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","model-value":i.formatCurrency(r.invoice_doc.net_total,i.displayCurrency),readonly:"",prefix:i.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Tax and Charges"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.invoice_doc.total_taxes_and_charges,i.displayCurrency),readonly:"",prefix:i.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Total Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.invoice_doc.total,i.displayCurrency),readonly:"",prefix:i.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:i.diff_label,"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(i.diff_payment,i.displayCurrency),readonly:"",prefix:i.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Discount Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.invoice_doc.discount_amount),readonly:"",prefix:i.currencySymbol(r.invoice_doc.currency),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Grand Total"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.invoice_doc.grand_total),readonly:"",prefix:i.currencySymbol(r.invoice_doc.currency),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),r.invoice_doc.rounded_total?(de(),ct(u,{key:0,cols:"6"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Rounded Total"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(r.invoice_doc.rounded_total),readonly:"",prefix:i.currencySymbol(r.invoice_doc.currency),"persistent-placeholder":""},null,8,["label","bg-color","model-value","prefix"])]),_:1})):Ke("",!0),r.pos_profile.posa_allow_sales_order&&r.invoiceType==="Order"?(de(),ct(u,{key:1,cols:"6"},{default:D(()=>[h(p,{modelValue:r.new_delivery_date,"onUpdate:modelValue":[t[5]||(t[5]=F=>r.new_delivery_date=F),t[6]||(t[6]=F=>i.update_delivery_date())],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:i.isDarkTheme,class:"dark-field sleek-field"},null,8,["modelValue","min-date","dark"])]),_:1})):Ke("",!0),r.invoice_doc.posa_delivery_date?(de(),ct(u,{key:2,cols:"12"},{default:D(()=>[h(k,{density:"compact",clearable:"","auto-select-first":"",variant:"solo",color:"primary",label:e.frappe._("Address"),modelValue:r.invoice_doc.shipping_address_name,"onUpdate:modelValue":t[7]||(t[7]=F=>r.invoice_doc.shipping_address_name=F),items:r.addresses,"item-title":"address_title","item-value":"name","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","no-data-text":"Address not found","hide-details":"",customFilter:i.addressFilter,"append-icon":"mdi-plus","onClick:append":i.new_address},{item:D(({item:F})=>[h(S,null,{default:D(()=>[h(g,{class:"text-primary text-subtitle-1"},{default:D(()=>[P("div",{innerHTML:F.address_title},null,8,J9)]),_:2},1024),h(y,null,{default:D(()=>[P("div",{innerHTML:F.address_line1},null,8,Z9)]),_:2},1024),F.address_line2?(de(),ct(y,{key:0},{default:D(()=>[P("div",{innerHTML:F.address_line2},null,8,eG)]),_:2},1024)):Ke("",!0),F.city?(de(),ct(y,{key:1},{default:D(()=>[P("div",{innerHTML:F.city},null,8,tG)]),_:2},1024)):Ke("",!0),F.state?(de(),ct(y,{key:2},{default:D(()=>[P("div",{innerHTML:F.state},null,8,nG)]),_:2},1024)):Ke("",!0),F.country?(de(),ct(y,{key:3},{default:D(()=>[P("div",{innerHTML:F.country},null,8,aG)]),_:2},1024)):Ke("",!0),F.mobile_no?(de(),ct(y,{key:4},{default:D(()=>[P("div",{innerHTML:F.mobile_no},null,8,rG)]),_:2},1024)):Ke("",!0),F.address_type?(de(),ct(y,{key:5},{default:D(()=>[P("div",{innerHTML:F.address_type},null,8,iG)]),_:2},1024)):Ke("",!0)]),_:2},1024)]),_:1},8,["label","modelValue","items","bg-color","customFilter","onClick:append"])]),_:1})):Ke("",!0),r.pos_profile.posa_display_additional_notes?(de(),ct(u,{key:3,cols:"12"},{default:D(()=>[h(C,{class:"pa-0 dark-field sleek-field",variant:"solo",density:"compact","bg-color":i.isDarkTheme?"#1E1E1E":"white",clearable:"",color:"primary","auto-grow":"",rows:"2",label:e.frappe._("Additional Notes"),modelValue:r.invoice_doc.posa_notes,"onUpdate:modelValue":t[8]||(t[8]=F=>r.invoice_doc.posa_notes=F)},null,8,["bg-color","label","modelValue"])]),_:1})):Ke("",!0)]),_:1}),r.pos_profile.posa_allow_customer_purchase_order?(de(),nt("div",oG,[h(d),h(f,{class:"pa-1",justify:"center",align:"start"},{default:D(()=>[h(u,{cols:"6"},{default:D(()=>[h(l,{modelValue:r.invoice_doc.po_no,"onUpdate:modelValue":t[9]||(t[9]=F=>r.invoice_doc.po_no=F),label:e.frappe._("Purchase Order"),variant:"solo",density:"compact","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field",clearable:"",color:"primary","hide-details":""},null,8,["modelValue","label","bg-color"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(p,{modelValue:r.new_po_date,"onUpdate:modelValue":[t[10]||(t[10]=F=>r.new_po_date=F),t[11]||(t[11]=F=>i.update_po_date())],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:i.isDarkTheme,class:"dark-field sleek-field"},null,8,["modelValue","min-date","dark"]),h(l,{modelValue:r.invoice_doc.po_date,"onUpdate:modelValue":t[12]||(t[12]=F=>r.invoice_doc.po_date=F),label:e.frappe._("Purchase Order Date"),readonly:"",variant:"solo",density:"compact","hide-details":"",color:"primary"},null,8,["modelValue","label"])]),_:1})]),_:1})])):Ke("",!0),h(d),h(f,{class:"pa-1",align:"start","no-gutters":""},{default:D(()=>[r.pos_profile.posa_allow_write_off_change&&i.credit_change>0&&!r.invoice_doc.is_return?(de(),ct(u,{key:0,cols:"6"},{default:D(()=>[h(w,{modelValue:r.is_write_off_change,"onUpdate:modelValue":t[13]||(t[13]=F=>r.is_write_off_change=F),flat:"",label:e.frappe._("Write Off Difference Amount"),class:"my-0 pa-1"},null,8,["modelValue","label"])]),_:1})):Ke("",!0),r.pos_profile.posa_allow_credit_sale&&!r.invoice_doc.is_return?(de(),ct(u,{key:1,cols:"6"},{default:D(()=>[h(w,{modelValue:r.is_credit_sale,"onUpdate:modelValue":t[14]||(t[14]=F=>r.is_credit_sale=F),label:e.frappe._("Credit Sale?")},null,8,["modelValue","label"])]),_:1})):Ke("",!0),r.invoice_doc.is_return&&r.pos_profile.use_cashback?(de(),ct(u,{key:2,cols:"6"},{default:D(()=>[h(w,{modelValue:r.is_cashback,"onUpdate:modelValue":t[15]||(t[15]=F=>r.is_cashback=F),flat:"",label:e.frappe._("Cashback?"),class:"my-0 pa-1"},null,8,["modelValue","label"])]),_:1})):Ke("",!0),r.invoice_doc.is_return?(de(),ct(u,{key:3,cols:"6"},{default:D(()=>[h(w,{modelValue:r.is_credit_return,"onUpdate:modelValue":t[16]||(t[16]=F=>r.is_credit_return=F),flat:"",label:e.frappe._("Credit Return?"),class:"my-0 pa-1"},null,8,["modelValue","label"])]),_:1})):Ke("",!0),r.is_credit_sale?(de(),ct(u,{key:4,cols:"6"},{default:D(()=>[h(p,{modelValue:r.new_credit_due_date,"onUpdate:modelValue":[t[17]||(t[17]=F=>r.new_credit_due_date=F),t[18]||(t[18]=F=>i.update_credit_due_date())],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:i.isDarkTheme,class:"dark-field sleek-field"},null,8,["modelValue","min-date","dark"]),h(l,{class:"mt-2 dark-field sleek-field",density:"compact",variant:"solo",type:"number",min:"0",max:"365","bg-color":i.isDarkTheme?"#1E1E1E":"white",modelValue:r.credit_due_days,"onUpdate:modelValue":t[19]||(t[19]=F=>r.credit_due_days=F),modelModifiers:{number:!0},label:e.frappe._("Days until due"),"hide-details":"",onChange:t[20]||(t[20]=F=>i.applyDuePreset(r.credit_due_days))},null,8,["bg-color","modelValue","label"]),P("div",sG,[(de(!0),nt(ht,null,In(r.credit_due_presets,F=>(de(),ct(I,{key:F,size:"small",class:"ma-1",variant:"solo",color:"primary",onClick:ce=>i.applyDuePreset(F)},{default:D(()=>[Ye(ve(F)+" "+ve(e.frappe._("days")),1)]),_:2},1032,["onClick"]))),128))])]),_:1})):Ke("",!0),!r.invoice_doc.is_return&&r.pos_profile.use_customer_credit?(de(),ct(u,{key:5,cols:"6"},{default:D(()=>[h(w,{modelValue:r.redeem_customer_credit,"onUpdate:modelValue":[t[21]||(t[21]=F=>r.redeem_customer_credit=F),t[22]||(t[22]=F=>i.get_available_credit(r.redeem_customer_credit))],flat:"",label:e.frappe._("Use Customer Credit"),class:"my-0 pa-1"},null,8,["modelValue","label"])]),_:1})):Ke("",!0)]),_:1}),r.invoice_doc&&i.available_customer_credit>0&&!r.invoice_doc.is_return&&r.redeem_customer_credit?(de(),nt("div",lG,[(de(!0),nt(ht,null,In(r.customer_credit_dict,(F,ce)=>(de(),ct(f,{key:ce},{default:D(()=>[h(u,{cols:"4"},{default:D(()=>[P("div",uG,ve(F.credit_origin),1)]),_:2},1024),h(u,{cols:"4"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Available Credit"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"","model-value":i.formatCurrency(F.total_credit),readonly:"",prefix:i.currencySymbol(r.invoice_doc.currency)},null,8,["label","bg-color","model-value","prefix"])]),_:2},1024),h(u,{cols:"4"},{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Redeem Credit"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",type:"text","model-value":i.formatCurrency(F.credit_to_redeem),onChange:Z=>e.setFormatedCurrency(F,"credit_to_redeem",null,!1,Z),prefix:i.currencySymbol(r.invoice_doc.currency)},null,8,["label","bg-color","model-value","onChange","prefix"])]),_:2},1024)]),_:2},1024))),128))])):Ke("",!0),h(d),h(f,{class:"pb-0 mb-2",align:"start"},{default:D(()=>[h(u,{cols:"12"},{default:D(()=>[r.sales_persons&&r.sales_persons.length>0?(de(),nt("p",cG,ve(r.sales_persons.length)+" sales persons found",1)):(de(),nt("p",dG,"No sales persons found")),h(V,{density:"compact",clearable:"",variant:"solo",color:"primary",label:e.frappe._("Sales Person"),modelValue:r.sales_person,"onUpdate:modelValue":t[23]||(t[23]=F=>r.sales_person=F),items:r.sales_persons,"item-title":"title","item-value":"value","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","no-data-text":e.__("Sales Person not found"),"hide-details":"",disabled:e.readonly},null,8,["label","modelValue","items","bg-color","no-data-text","disabled"])]),_:1})]),_:1})])]),_:1},8,["class","style"]),h(O,{flat:"",class:"cards mb-0 mt-3 pa-0"},{default:D(()=>[h(f,{align:"start","no-gutters":""},{default:D(()=>[h(u,{cols:"6"},{default:D(()=>[h(m,{block:"",size:"large",color:"primary",theme:"dark",onClick:i.submit,loading:r.loading,disabled:r.loading||i.vaildatPayment},{default:D(()=>[Ye(ve(e.__("Submit")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1}),h(u,{cols:"6",class:"pl-1"},{default:D(()=>[h(m,{block:"",size:"large",color:"success",theme:"dark",onClick:t[24]||(t[24]=F=>i.submit(void 0,!1,!0)),loading:r.loading,disabled:r.loading||i.vaildatPayment},{default:D(()=>[Ye(ve(e.__("Submit & Print")),1)]),_:1},8,["loading","disabled"])]),_:1}),h(u,{cols:"12"},{default:D(()=>[h(m,{block:"",class:"mt-2 pa-1",size:"large",color:"error",theme:"dark",onClick:i.back_to_invoice},{default:D(()=>[Ye(ve(e.__("Cancel Payment")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),h(G,{modelValue:r.custom_days_dialog,"onUpdate:modelValue":t[27]||(t[27]=F=>r.custom_days_dialog=F),"max-width":"300px"},{default:D(()=>[h(O,null,{default:D(()=>[h(U,{class:"text-h6"},{default:D(()=>[Ye(ve(e.__("Custom Due Days")),1)]),_:1}),h(H,{class:"pa-0"},{default:D(()=>[h(Y,null,{default:D(()=>[h(l,{density:"compact",variant:"solo",type:"number",min:"0",max:"365",class:"dark-field sleek-field","bg-color":i.isDarkTheme?"#1E1E1E":"white",modelValue:r.custom_days_value,"onUpdate:modelValue":t[25]||(t[25]=F=>r.custom_days_value=F),modelModifiers:{number:!0},label:e.frappe._("Days"),"hide-details":""},null,8,["bg-color","modelValue","label"])]),_:1})]),_:1}),h(j,null,{default:D(()=>[h(B),h(m,{color:"error",theme:"dark",onClick:t[26]||(t[26]=F=>r.custom_days_dialog=!1)},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1}),h(m,{color:"primary",theme:"dark",onClick:i.applyCustomDays},{default:D(()=>[Ye(ve(e.__("Apply")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(G,{modelValue:r.phone_dialog,"onUpdate:modelValue":t[30]||(t[30]=F=>r.phone_dialog=F),"max-width":"400px"},{default:D(()=>[h(O,null,{default:D(()=>[h(U,null,{default:D(()=>[P("span",fG,ve(e.__("Confirm Mobile Number")),1)]),_:1}),h(H,{class:"pa-0"},{default:D(()=>[h(Y,null,{default:D(()=>[h(l,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Mobile Number"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field sleek-field","hide-details":"",modelValue:r.invoice_doc.contact_mobile,"onUpdate:modelValue":t[28]||(t[28]=F=>r.invoice_doc.contact_mobile=F),type:"number"},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(j,null,{default:D(()=>[h(B),h(m,{color:"error",theme:"dark",onClick:t[29]||(t[29]=F=>r.phone_dialog=!1)},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1}),h(m,{color:"primary",theme:"dark",onClick:i.request_payment},{default:D(()=>[Ye(ve(e.__("Request")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const hG=Bn(K9,[["render",mG],["__scopeId","data-v-256a20ff"]]),vG={mixins:[po],data:()=>({loading:!1,pos_profile:"",pos_offers:[],allItems:[],discount_percentage_offer_name:null,itemsPerPage:1e3,expanded:[],singleExpand:!0,items_headers:[{title:__("Name"),value:"name",align:"start"},{title:__("Apply On"),value:"apply_on",align:"start"},{title:__("Offer"),value:"offer",align:"start"},{title:__("Applied"),value:"offer_applied",align:"start"}]}),computed:{offersCount(){return this.pos_offers.length},appliedOffersCount(){return this.pos_offers.filter(e=>!!e.offer_applied).length},isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},methods:{back_to_invoice(){this.eventBus.emit("show_offers","false")},forceUpdateItem(){let e=[];e=[...this.pos_offers],this.pos_offers=e},makeid(e){let t="";const n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length;for(var r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},updatePosOffers(e){const t=[];this.pos_offers.forEach(n=>{e.find(r=>r.name===n.name)||t.push(n.row_id)}),this.removeOffers(t),e.forEach(n=>{const a=this.pos_offers.find(r=>n.name===r.name);if(a)a.items=n.items,a.offer==="Grand Total"&&!this.discount_percentage_offer_name&&(a.offer_applied=!!a.auto),n.apply_on=="Item Group"&&n.apply_type=="Item Group"&&n.replace_cheapest_item&&(a.give_item=n.give_item,a.apply_item_code=n.apply_item_code);else{const r={...n};n.row_id||(r.row_id=this.makeid(20)),n.apply_type=="Item Code"&&(r.give_item=n.apply_item_code||"Nothing"),n.offer_applied?r.offer_applied==!!n.offer_applied:n.apply_type=="Item Group"&&n.offer=="Give Product"&&!n.replace_cheapest_item&&!n.replace_item||n.offer==="Grand Total"&&this.discount_percentage_offer_name?r.offer_applied=!1:r.offer_applied=!!n.auto,r.offer=="Give Product"&&!r.give_item&&(r.give_item=this.get_give_items(r)[0].item_code),this.pos_offers.push(r),this.eventBus.emit("show_message",{title:__("New Offer Available"),color:"warning"})}})},removeOffers(e){this.pos_offers=this.pos_offers.filter(t=>!e.includes(t.row_id))},handelOffers(){const e=this.pos_offers.filter(t=>t.offer_applied);this.eventBus.emit("update_invoice_offers",e)},handleNewLine(e){return e?e.replace(/(?:\r\n|\r|\n)/g,"<br />"):""},get_give_items(e){if(e.apply_type=="Item Code")return[e.apply_item_code];if(e.apply_type=="Item Group"){const t=this.allItems;let n=[];const a=t.filter(r=>r.item_group==e.apply_item_group);return e.less_then>0?n=a.filter(r=>r.rate<e.less_then):n=a,n}else return[]},updateCounters(){this.eventBus.emit("update_offers_counters",{offersCount:this.offersCount,appliedOffersCount:this.appliedOffersCount})},updatePosCoupuns(){const e=this.pos_offers.filter(t=>t.offer_applied&&t.coupon_based);this.eventBus.emit("update_pos_coupons",e)}},watch:{pos_offers:{deep:!0,handler(e){this.handelOffers(),this.updateCounters(),this.updatePosCoupuns()}}},created:function(){this.$nextTick(function(){this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})}),this.eventBus.on("update_customer",e=>{this.customer!=e&&(this.offers=[])}),this.eventBus.on("update_pos_offers",e=>{this.updatePosOffers(e)}),this.eventBus.on("update_discount_percentage_offer_name",e=>{this.discount_percentage_offer_name=e.value}),this.eventBus.on("set_all_items",e=>{this.allItems=e})}},_G={class:"text-h6 text-primary"},pG=["colspan"],gG=["innerHTML"];function yG(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-checkbox-btn"),u=ie("v-col"),f=ie("v-autocomplete"),d=ie("v-row"),m=ie("v-data-table"),p=ie("v-card"),g=ie("v-btn");return de(),nt("div",null,[h(p,{class:Ge(["selection mx-auto mt-3",i.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([i.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"80vh",height:"80vh"}])},{default:D(()=>[h(o,null,{default:D(()=>[P("span",_G,ve(e.__("Offers")),1)]),_:1}),P("div",{class:"my-0 py-0 overflow-y-auto",style:{"max-height":"75vh"},onMouseover:t[1]||(t[1]=y=>e.style="cursor: pointer")},[h(m,{headers:e.items_headers,items:e.pos_offers,"single-expand":e.singleExpand,expanded:e.expanded,"onUpdate:expanded":t[0]||(t[0]=y=>e.expanded=y),"show-expand":"","item-key":"row_id",class:"elevation-1","items-per-page":e.itemsPerPage,"hide-default-footer":""},{"item.offer_applied":D(({item:y})=>[h(l,{onClick:S=>e.toggleOfferApplied(y),modelValue:y.offer_applied,"onUpdate:modelValue":S=>y.offer_applied=S,disabled:y.offer=="Give Product"&&!y.give_item&&(!e.offer.replace_cheapest_item||!e.offer.replace_item)||y.offer=="Grand Total"&&e.discount_percentage_offer_name&&e.discount_percentage_offer_name!=y.name},null,8,["onClick","modelValue","onUpdate:modelValue","disabled"])]),"expanded-item":D(({headers:y,item:S})=>[P("td",{colspan:y.length},[h(d,{class:"mt-2"},{default:D(()=>[S.description?(de(),ct(u,{key:0},{default:D(()=>[P("div",{class:"text-primary",innerHTML:i.handleNewLine(S.description)},null,8,gG)]),_:2},1024)):Ke("",!0),S.offer=="Give Product"?(de(),ct(u,{key:1},{default:D(()=>[h(f,{modelValue:S.give_item,"onUpdate:modelValue":k=>S.give_item=k,items:i.get_give_items(S),"item-title":"item_code",variant:"outlined",density:"compact",color:"primary",label:e.frappe._("Give Item"),disabled:S.apply_type!="Item Group"||S.replace_item||S.replace_cheapest_item},null,8,["modelValue","onUpdate:modelValue","items","label","disabled"])]),_:2},1024)):Ke("",!0)]),_:2},1024)],8,pG)]),_:1},8,["headers","items","single-expand","expanded","items-per-page"])],32)]),_:1},8,["class","style"]),h(p,{flat:"",style:{"max-height":"11vh",height:"11vh"},class:"cards mb-0 mt-3 py-0"},{default:D(()=>[h(d,{align:"start","no-gutters":""},{default:D(()=>[h(u,{cols:"12"},{default:D(()=>[h(g,{block:"",class:"pa-1",size:"large",color:"warning",theme:"dark",onClick:i.back_to_invoice},{default:D(()=>[Ye(ve(e.__("Back")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])}const bG=Bn(vG,[["render",yG]]),wG={data:()=>({loading:!1,pos_profile:"",customer:"",posa_coupons:[],new_coupon:null,itemsPerPage:1e3,singleExpand:!0,items_headers:[{title:__("Coupon"),value:"coupon_code",align:"start"},{title:__("Type"),value:"type",align:"start"},{title:__("Offer"),value:"pos_offer",align:"start"},{title:__("Applied"),value:"applied",align:"start"}]}),computed:{couponsCount(){return this.posa_coupons.length},appliedCouponsCount(){return this.posa_coupons.filter(e=>!!e.applied).length},isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},methods:{back_to_invoice(){this.eventBus.emit("show_coupons","false")},add_coupon(e){if(!this.customer||!e){this.eventBus.emit("show_message",{title:__("Select a customer to use coupon"),color:"error"});return}if(this.posa_coupons.find(a=>a.coupon_code==e)){this.eventBus.emit("show_message",{title:__("This coupon already used !"),color:"error"});return}const n=this;frappe.call({method:"posawesome.posawesome.api.offers.get_pos_coupon",args:{coupon:e,customer:n.customer,company:n.pos_profile.company},callback:function(a){if(a.message){const r=a.message;if(r.msg!="Apply"||!r.coupon)n.eventBus.emit("show_message",{text:r.msg,color:"error"});else{n.new_coupon=null;const i=r.coupon;n.posa_coupons.push({coupon:i.name,coupon_code:i.coupon_code,type:i.coupon_type,applied:0,pos_offer:i.pos_offer,customer:i.customer||n.customer})}}}})},setActiveGiftCoupons(){if(!this.customer)return;const e=this;frappe.call({method:"posawesome.posawesome.api.offers.get_active_gift_coupons",args:{customer:e.customer,company:e.pos_profile.company},callback:function(t){t.message&&t.message.forEach(a=>{e.add_coupon(a)})}})},updatePosCoupons(e){this.posa_coupons.forEach(t=>{e.find(a=>a.offer_applied&&a.coupon==t.coupon)?t.applied=1:t.applied=0})},removeCoupon(e){this.posa_coupons=this.posa_coupons.filter(t=>!e.includes(t.coupon))},updateInvoice(){this.eventBus.emit("update_invoice_coupons",this.posa_coupons)},updateCounters(){this.eventBus.emit("update_coupons_counters",{couponsCount:this.couponsCount,appliedCouponsCount:this.appliedCouponsCount})}},watch:{posa_coupons:{deep:!0,handler(){this.updateInvoice(),this.updateCounters()}}},created:function(){this.$nextTick(function(){this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})}),this.eventBus.on("update_customer",e=>{if(this.customer!=e){const t=[];this.posa_coupons.forEach(n=>{n.type=="Promotional"?n.customer=e:t.push(n.coupon)}),this.customer=e,t.length&&this.removeCoupon(t)}this.setActiveGiftCoupons()}),this.eventBus.on("update_pos_coupons",e=>{this.updatePosCoupons(e)}),this.eventBus.on("set_pos_coupons",e=>{this.posa_coupons=e})}},kG={class:"text-h6 text-primary"};function SG(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-btn"),d=ie("v-row"),m=ie("v-checkbox-btn"),p=ie("v-data-table"),g=ie("v-card");return de(),nt("div",null,[h(g,{class:Ge(["selection mx-auto mt-3",i.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([i.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"80vh",height:"80vh"}])},{default:D(()=>[h(o,null,{default:D(()=>[P("span",kG,ve(e.__("Coupons")),1)]),_:1}),h(d,{class:"px-4 pb-2","no-gutters":""},{default:D(()=>[h(u,{cols:"8",class:"pr-2"},{default:D(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Coupon"),"bg-color":"white","hide-details":"",modelValue:e.new_coupon,"onUpdate:modelValue":t[0]||(t[0]=y=>e.new_coupon=y),class:"coupon-input",onKeydown:t[1]||(t[1]=Mu(y=>i.add_coupon(e.new_coupon),["enter"]))},null,8,["label","modelValue"])]),_:1}),h(u,{cols:"4"},{default:D(()=>[h(f,{class:"add-coupon-btn",color:"success",theme:"dark",block:"",onClick:t[2]||(t[2]=y=>i.add_coupon(e.new_coupon))},{default:D(()=>[Ye(ve(e.__("add")),1)]),_:1})]),_:1})]),_:1}),P("div",{class:"my-0 py-0 overflow-y-auto",style:{"max-height":"75vh"},onMouseover:t[4]||(t[4]=y=>e.style="cursor: pointer")},[h(p,{headers:e.items_headers,items:e.posa_coupons,"single-expand":e.singleExpand,expanded:e.expanded,"onUpdate:expanded":t[3]||(t[3]=y=>e.expanded=y),"item-key":"coupon",class:"elevation-1","items-per-page":e.itemsPerPage,"hide-default-footer":""},{"item.applied":D(({item:y})=>[h(m,{modelValue:y.applied,"onUpdate:modelValue":S=>y.applied=S,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","single-expand","expanded","items-per-page"])],32)]),_:1},8,["class","style"]),h(g,{flat:"",style:{"max-height":"11vh",height:"11vh"},class:"cards mb-0 mt-3 py-0"},{default:D(()=>[h(d,{align:"start","no-gutters":""},{default:D(()=>[h(u,{cols:"12"},{default:D(()=>[h(f,{block:"",class:"pa-1",size:"large",color:"warning",theme:"dark",onClick:i.back_to_invoice},{default:D(()=>[Ye(ve(e.__("Back")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])}const CG=Bn(wG,[["render",SG],["__scopeId","data-v-b7b221da"]]),xG={mixins:[po],data:()=>({draftsDialog:!1,singleSelect:!0,selected:[],dialog_data:{},headers:[{title:__("Customer"),value:"customer_name",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,value:"posting_date"},{title:__("Time"),align:"start",sortable:!0,value:"posting_time"},{title:__("Invoice"),value:"name",align:"start",sortable:!0},{title:__("Amount"),value:"grand_total",align:"end",sortable:!1}]}),watch:{},methods:{close_dialog(){this.draftsDialog=!1},submit_dialog(){this.selected.length>0?(this.eventBus.emit("load_invoice",this.selected[0]),this.draftsDialog=!1):this.eventBus.emit("show_message",{title:"Select an invoice to load",color:"error"})}},created:function(){this.eventBus.on("open_drafts",e=>{this.draftsDialog=!0,this.dialog_data=e})},beforeUnmount(){this.eventBus.off("open_drafts")}},PG={class:"text-h5 text-primary"},TG={class:"text-primary"};function DG(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-card-subtitle"),u=ie("v-data-table"),f=ie("v-col"),d=ie("v-row"),m=ie("v-container"),p=ie("v-card-text"),g=ie("v-spacer"),y=ie("v-btn"),S=ie("v-card-actions"),k=ie("v-card"),C=ie("v-dialog");return de(),ct(d,{justify:"center"},{default:D(()=>[h(C,{modelValue:e.draftsDialog,"onUpdate:modelValue":t[1]||(t[1]=w=>e.draftsDialog=w),"max-width":"900px"},{default:D(()=>[h(k,{variant:"flat",color:"white"},{default:D(()=>[h(o,null,{default:D(()=>[P("span",PG,ve(e.__("Load Sales Invoice")),1)]),_:1}),h(l,null,{default:D(()=>[P("span",TG,ve(e.__("Load previously saved invoices")),1)]),_:1}),h(p,{class:"pa-0"},{default:D(()=>[h(m,null,{default:D(()=>[h(d,{"no-gutters":""},{default:D(()=>[h(f,{cols:"12",class:"pa-1"},{default:D(()=>[h(u,{headers:e.headers,items:e.dialog_data,"item-value":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=w=>e.selected=w),"select-strategy":"single","return-object":""},{"item.posting_time":D(({item:w})=>[Ye(ve(w.posting_time.split(".")[0]),1)]),"item.grand_total":D(({item:w})=>[Ye(ve(e.currencySymbol(w.currency))+" "+ve(e.formatCurrency(w.grand_total)),1)]),_:1},8,["headers","items","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h(S,null,{default:D(()=>[h(g),h(y,{color:"error",theme:"dark",onClick:i.close_dialog},{default:D(()=>t[2]||(t[2]=[Ye("Close")])),_:1,__:[2]},8,["onClick"]),h(y,{color:"success",theme:"dark",onClick:i.submit_dialog},{default:D(()=>t[3]||(t[3]=[Ye("Load Sale")])),_:1,__:[3]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const IG=Bn(xG,[["render",DG]]),AG={mixins:[po],data:()=>({draftsDialog:!1,singleSelect:!0,pos_profile:{},selected:[],dialog_data:{},order_name:"",headers:[{title:__("Customer"),key:"customer_name",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,key:"transaction_date"},{title:__("Order"),key:"name",align:"start",sortable:!0},{title:__("Amount"),key:"grand_total",align:"end",sortable:!1}]}),watch:{},methods:{close_dialog(){this.draftsDialog=!1},clearSelected(){this.selected=[]},search_orders(){frappe.call({method:"posawesome.posawesome.api.sales_orders.search_orders",args:{order_name:vm.order_name,company:this.pos_profile.company,currency:this.pos_profile.currency},async:!1,callback:function(e){e.message&&(vm.dialog_data=e.message)}})},async submit_dialog(){if(this.selected.length>0){var e={};if(await frappe.call({method:"posawesome.posawesome.api.invoices.create_sales_invoice_from_order",args:{sales_order:this.selected[0].name},callback:function(t){t.message&&(e=t.message)}}),e.items){const t=this.selected[0].items,n=e.items,a={};n.forEach(r=>{a[r.item_code]=r});for(let r=0;r<t.length;r++){const i=t[r],o=a[i.item_code];o?(i.qty=o.qty,i.amount=o.amount,i.uom=o.uom,i.rate=o.rate):(t.splice(r,1),r--)}}this.eventBus.emit("load_order",this.selected[0]),this.draftsDialog=!1,frappe.call({method:"posawesome.posawesome.api.invoices.delete_sales_invoice",args:{sales_invoice:e.name},callback:function(t){t.message}})}}},created:function(){this.eventBus.on("open_orders",e=>{this.clearSelected(),this.draftsDialog=!0,this.dialog_data=e,this.order_name=""})},mounted(){this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})},beforeUnmount(){this.eventBus.off("open_orders"),this.eventBus.off("register_pos_profile")}},EG={class:"text-h5 text-primary"};function VG(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-btn"),f=ie("v-row"),d=ie("v-data-table"),m=ie("v-col"),p=ie("v-container"),g=ie("v-card-text"),y=ie("v-spacer"),S=ie("v-card-actions"),k=ie("v-card"),C=ie("v-dialog");return de(),ct(f,{justify:"center"},{default:D(()=>[h(C,{modelValue:e.draftsDialog,"onUpdate:modelValue":t[2]||(t[2]=w=>e.draftsDialog=w),"max-width":"900px"},{default:D(()=>[h(k,null,{default:D(()=>[h(o,null,{default:D(()=>[P("span",EG,ve(e.__("Select Sales Orders")),1)]),_:1}),h(g,{class:"pa-0"},{default:D(()=>[h(p,null,{default:D(()=>[h(f,{class:"mb-4"},{default:D(()=>[h(l,{color:"primary",label:e.frappe._("Order ID"),"bg-color":"white","hide-details":"",modelValue:e.order_name,"onUpdate:modelValue":t[0]||(t[0]=w=>e.order_name=w),density:"compact",clearable:"",class:"mx-4"},null,8,["label","modelValue"]),h(u,{variant:"text",class:"ml-2",color:"primary",theme:"dark",onClick:i.search_orders},{default:D(()=>[Ye(ve(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1}),h(f,{"no-gutters":""},{default:D(()=>[h(m,{cols:"12",class:"pa-1"},{default:D(()=>[h(d,{headers:e.headers,items:e.dialog_data,"item-key":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[1]||(t[1]=w=>e.selected=w),"return-object":"","select-strategy":"single"},{"item.grand_total":D(({item:w})=>[Ye(ve(e.currencySymbol(w.currency))+" "+ve(e.formatCurrency(w.grand_total)),1)]),_:1},8,["headers","items","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h(S,null,{default:D(()=>[h(y),h(u,{color:"error",theme:"dark",onClick:i.close_dialog},{default:D(()=>t[3]||(t[3]=[Ye("Close")])),_:1,__:[3]},8,["onClick"]),e.selected.length?(de(),ct(u,{key:0,color:"success",theme:"dark",onClick:i.submit_dialog},{default:D(()=>t[4]||(t[4]=[Ye("Select")])),_:1,__:[4]},8,["onClick"])):Ke("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const OG=Bn(AG,[["render",VG]]),MG={mixins:[po],data:()=>({closingDialog:!1,itemsPerPage:20,dialog_data:{},pos_profile:"",headers:[{title:__("Mode of Payment"),value:"mode_of_payment",align:"start",sortable:!0},{title:__("Opening Amount"),align:"end",sortable:!0,value:"opening_amount"},{title:__("Closing Amount"),value:"closing_amount",align:"end",sortable:!0}],max25chars:e=>e.length<=20||"Input too long!",pagination:{}}),watch:{},methods:{close_dialog(){this.closingDialog=!1},submit_dialog(){this.eventBus.emit("submit_closing_pos",this.dialog_data),this.closingDialog=!1}},computed:{isDarkTheme(){return this.$theme.current==="dark"}},created:function(){this.eventBus.on("open_ClosingDialog",e=>{this.closingDialog=!0,this.dialog_data=e}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.pos_profile.hide_expected_amount||(this.headers.push({title:__("Expected Amount"),value:"expected_amount",align:"end",sortable:!1}),this.headers.push({title:__("Difference"),value:"difference",align:"end",sortable:!1}))})},beforeUnmount(){this.eventBus.off("open_ClosingDialog"),this.eventBus.off("register_pos_profile")}},BG={class:"header-content"},RG={class:"header-icon-wrapper"},FG={class:"header-text"},$G={class:"header-title"},LG={class:"header-subtitle"},NG={class:"table-header mb-4"},qG={class:"text-h6 text-grey-darken-2 mb-1"},UG={class:"text-body-2 text-grey"};function HG(e,t,n,a,r,i){const o=ie("v-icon"),l=ie("v-card-title"),u=ie("v-divider"),f=ie("v-text-field"),d=ie("v-data-table"),m=ie("v-col"),p=ie("v-row"),g=ie("v-container"),y=ie("v-card-text"),S=ie("v-btn"),k=ie("v-spacer"),C=ie("v-card-actions"),w=ie("v-card"),I=ie("v-dialog");return de(),ct(p,{justify:"center"},{default:D(()=>[h(I,{modelValue:e.closingDialog,"onUpdate:modelValue":t[0]||(t[0]=V=>e.closingDialog=V),"max-width":"900px",persistent:""},{default:D(()=>[h(w,{elevation:"8",class:"closing-dialog-card"},{default:D(()=>[h(l,{class:"closing-header pa-6"},{default:D(()=>[P("div",BG,[P("div",RG,[h(o,{class:"header-icon",size:"40"},{default:D(()=>t[1]||(t[1]=[Ye("mdi-store-clock-outline")])),_:1,__:[1]})]),P("div",FG,[P("h3",$G,ve(e.__("Closing POS Shift")),1),P("p",LG,ve(e.__("Reconcile payment methods and close shift")),1)])])]),_:1}),h(u,{class:"header-divider"}),h(y,{class:"pa-0 white-background"},{default:D(()=>[h(g,{class:"pa-6"},{default:D(()=>[h(p,null,{default:D(()=>[h(m,{cols:"12",class:"pa-1"},{default:D(()=>[P("div",NG,[P("h4",qG,ve(e.__("Payment Reconciliation")),1),P("p",UG,ve(e.__("Verify closing amounts for each payment method")),1)]),h(d,{headers:e.headers,items:e.dialog_data.payment_reconciliation,"item-key":"mode_of_payment",class:"elevation-0 rounded-lg white-table","items-per-page":e.itemsPerPage,"hide-default-footer":"",density:"compact"},{"item.closing_amount":D(V=>[h(f,{modelValue:V.item.closing_amount,"onUpdate:modelValue":O=>V.item.closing_amount=O,rules:[e.max25chars],label:e.frappe._("Edit"),"single-line":"",counter:"",type:"number",density:"compact",variant:"outlined",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["modelValue","onUpdate:modelValue","rules","label","bg-color","prefix"])]),"item.difference":D(({item:V})=>[Ye(ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(V.difference=e.formatCurrency(V.expected_amount-V.closing_amount)),1)]),"item.opening_amount":D(({item:V})=>[Ye(ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(V.opening_amount)),1)]),"item.expected_amount":D(({item:V})=>[Ye(ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(V.expected_amount)),1)]),_:1},8,["headers","items","items-per-page"])]),_:1})]),_:1})]),_:1})]),_:1}),h(u),h(C,{class:"dialog-actions-container"},{default:D(()=>[h(S,{theme:"dark",onClick:i.submit_dialog,class:"pos-action-btn submit-action-btn",size:"large",elevation:"2"},{default:D(()=>[h(o,{start:""},{default:D(()=>t[2]||(t[2]=[Ye("mdi-check-circle-outline")])),_:1,__:[2]}),P("span",null,ve(e.__("Submit")),1)]),_:1},8,["onClick"]),h(k),h(S,{theme:"dark",onClick:i.close_dialog,class:"pos-action-btn cancel-action-btn",size:"large",elevation:"2"},{default:D(()=>[h(o,{start:""},{default:D(()=>t[3]||(t[3]=[Ye("mdi-close-circle-outline")])),_:1,__:[3]}),P("span",null,ve(e.__("Close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const zG=Bn(MG,[["render",HG],["__scopeId","data-v-31d72fc9"]]),WG={data:()=>({addressDialog:!1,address:{},customer:""}),computed:{isDarkTheme(){return this.$theme.current==="dark"}},methods:{close_dialog(){this.addressDialog=!1},submit_dialog(){var e=this;this.address.customer=this.customer,this.address.doctype="Customer",frappe.call({method:"posawesome.posawesome.api.customers.make_address",args:{args:this.address},callback:t=>{t.exc||(e.eventBus.emit("add_the_new_address",t.message),e.eventBus.emit("show_message",{text:"Customer Address created successfully.",color:"success"}),e.addressDialog=!1,e.customer="",e.address={})}})}},created:function(){this.eventBus.on("open_new_address",e=>{this.addressDialog=!0,this.customer=e})}},jG={class:"text-h5 text-primary"};function YG(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-row"),d=ie("v-container"),m=ie("v-card-text"),p=ie("v-spacer"),g=ie("v-btn"),y=ie("v-card-actions"),S=ie("v-card"),k=ie("v-dialog");return de(),ct(f,{justify:"center"},{default:D(()=>[h(k,{modelValue:e.addressDialog,"onUpdate:modelValue":t[5]||(t[5]=C=>e.addressDialog=C),"max-width":"600px"},{default:D(()=>[h(S,null,{default:D(()=>[h(o,null,{default:D(()=>[P("span",jG,ve(e.__("Add New Address")),1)]),_:1}),h(m,{class:"pa-0"},{default:D(()=>[h(d,null,{default:D(()=>[h(f,null,{default:D(()=>[h(u,{cols:"12"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Address Name"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.name,"onUpdate:modelValue":t[0]||(t[0]=C=>e.address.name=C)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Address Line 1"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.address_line1,"onUpdate:modelValue":t[1]||(t[1]=C=>e.address.address_line1=C)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12"},{default:D(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Address Line 2"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.address_line2,"onUpdate:modelValue":t[2]||(t[2]=C=>e.address.address_line2=C)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{label:"City",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.city,"onUpdate:modelValue":t[3]||(t[3]=C=>e.address.city=C)},null,8,["bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:D(()=>[h(l,{label:"State",density:"compact","bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.state,"onUpdate:modelValue":t[4]||(t[4]=C=>e.address.state=C)},null,8,["bg-color","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h(y,null,{default:D(()=>[h(p),h(g,{color:"error",theme:"dark",onClick:i.close_dialog},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1},8,["onClick"]),h(g,{color:"success",theme:"dark",onClick:i.submit_dialog},{default:D(()=>[Ye(ve(e.__("Submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const KG=Bn(WG,[["render",YG],["__scopeId","data-v-f2a7d991"]]),GG={data:()=>({varaintsDialog:!1,parentItem:null,items:null,filters:{},filterdItems:[]}),computed:{variantsItems(){return this.parentItem?this.items.filter(e=>e.variant_of==this.parentItem.item_code):[]}},methods:{close_dialog(){this.varaintsDialog=!1},formatCurrency(e){return this.$options.mixins[0].methods.formatCurrency.call(this,e,2)},updateFiltredItems(){this.$nextTick(function(){const e=[];if(Object.entries(this.filters).forEach(([t,n])=>{n&&e.push(n)}),!e.length)this.filterdItems=this.variantsItems;else{const t=[];this.filterdItems=[],this.variantsItems.forEach(n=>{let a=!0;n.item_attributes.forEach(r=>{this.filters[r.attribute]&&this.filters[r.attribute]!=r.attribute_value&&(a=!1)}),a&&!t.includes(n.item_code)&&(this.filterdItems.push(n),t.push(n.item_code))})}})},add_item(e){this.eventBus.emit("add_item",e),this.close_dialog()}},created:function(){this.eventBus.on("open_variants_model",(e,t)=>{this.varaintsDialog=!0,this.parentItem=e||null,this.items=t,this.filters={},this.$nextTick(function(){this.filterdItems=this.variantsItems})})},beforeUnmount(){this.eventBus.off("open_variants_model")}},QG={class:"text-caption text-primary accent-3"};function XG(e,t,n,a,r,i){const o=ie("v-spacer"),l=ie("v-btn"),u=ie("v-card-title"),f=ie("v-chip"),d=ie("v-chip-group"),m=ie("v-divider"),p=ie("v-card-text"),g=ie("v-img"),y=ie("v-card"),S=ie("v-col"),k=ie("v-row"),C=ie("v-container"),w=ie("v-dialog");return de(),ct(k,{justify:"center"},{default:D(()=>[h(w,{modelValue:e.varaintsDialog,"onUpdate:modelValue":t[0]||(t[0]=I=>e.varaintsDialog=I),"max-width":"600px"},{default:D(()=>[h(y,{"min-height":"500px"},{default:D(()=>[h(u,null,{default:D(()=>[t[2]||(t[2]=P("span",{class:"text-h5 text-primary"},"Select Item",-1)),h(o),h(l,{color:"error",theme:"dark",onClick:i.close_dialog},{default:D(()=>t[1]||(t[1]=[Ye("Close")])),_:1,__:[1]},8,["onClick"])]),_:1,__:[2]}),h(p,{class:"pa-0"},{default:D(()=>[e.parentItem?(de(),ct(C,{key:0},{default:D(()=>[(de(!0),nt(ht,null,In(e.parentItem.attributes,I=>(de(),nt("div",{key:I.attribute},[h(d,{modelValue:e.filters[I.attribute],"onUpdate:modelValue":V=>e.filters[I.attribute]=V,"selected-class":"green--text text--accent-4",column:""},{default:D(()=>[(de(!0),nt(ht,null,In(I.values,V=>(de(),ct(f,{key:V.abbr,value:V.attribute_value,variant:"outlined",label:"",onClick:i.updateFiltredItems},{default:D(()=>[Ye(ve(V.attribute_value),1)]),_:2},1032,["value","onClick"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),h(m,{class:"p-0 m-0"})]))),128)),P("div",null,[h(k,{density:"default",class:"overflow-y-auto",style:{"max-height":"500px"}},{default:D(()=>[(de(!0),nt(ht,null,In(e.filterdItems,(I,V)=>(de(),ct(S,{key:V,xl:"2",lg:"3",md:"4",sm:"4",cols:"6","min-height":"50"},{default:D(()=>[h(y,{hover:"hover",onClick:O=>i.add_item(I)},{default:D(()=>[h(g,{src:I.image||"/assets/posawesome/images/placeholder-image.png",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,.2), rgba(0,0,0,.7)",height:"100px"},{default:D(()=>[h(p,{textContent:ve(I.item_name),class:"text-subtitle-2 px-1 pb-2"},null,8,["textContent"])]),_:2},1032,["src"]),h(p,{class:"text--primary pa-1"},{default:D(()=>[P("div",QG,ve(I.rate||0)+" "+ve(I.currency||""),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])]),_:1})):Ke("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const JG=Bn(GG,[["render",XG]]),ZG={mixins:[po],data:()=>({invoicesDialog:!1,singleSelect:!0,selected:[],dialog_data:[],company:"",invoice_name:"",customer_name:"",customer_id:"",mobile_no:"",tax_id:"",from_date:null,to_date:null,from_date_formatted:null,to_date_formatted:null,min_amount:"",max_amount:"",pos_profile:"",page:1,has_more_invoices:!1,loading_more:!1,searched_once:!1,current_search_params:null,headers:[{title:__("Customer"),value:"customer",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,value:"posting_date"},{title:__("Invoice"),value:"name",align:"start",sortable:!0},{title:__("Amount"),value:"grand_total",align:"end",sortable:!1}]}),computed:{isDarkTheme(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},watch:{from_date(){this.formatFromDate()},to_date(){this.formatToDate()}},methods:{formatDateDisplay(e){if(!e)return"";try{const t=e.split("-");if(t.length===3)return`${t[2]}-${t[1]}-${t[0]}`}catch(t){console.error("Error formatting date:",t)}return e},formatFromDate(){if(this.from_date)try{let e="";if(typeof this.from_date=="object"&&this.from_date instanceof Date){const t=String(this.from_date.getDate()).padStart(2,"0"),n=String(this.from_date.getMonth()+1).padStart(2,"0"),a=this.from_date.getFullYear();e=`${t}-${n}-${a}`}else if(typeof this.from_date=="string"&&this.from_date.includes("-")){const t=this.from_date.split("-");t.length===3?e=`${t[2]}-${t[1]}-${t[0]}`:e=this.from_date}else e=String(this.from_date);this.from_date_formatted=e}catch(e){console.error("Error formatting from_date:",e),this.from_date_formatted=String(this.from_date)}else this.from_date_formatted=null},formatToDate(){if(this.to_date)try{let e="";if(typeof this.to_date=="object"&&this.to_date instanceof Date){const t=String(this.to_date.getDate()).padStart(2,"0"),n=String(this.to_date.getMonth()+1).padStart(2,"0"),a=this.to_date.getFullYear();e=`${t}-${n}-${a}`}else if(typeof this.to_date=="string"&&this.to_date.includes("-")){const t=this.to_date.split("-");t.length===3?e=`${t[2]}-${t[1]}-${t[0]}`:e=this.to_date}else e=String(this.to_date);this.to_date_formatted=e}catch(e){console.error("Error formatting to_date:",e),this.to_date_formatted=String(this.to_date)}else this.to_date_formatted=null},clearFromDate(){this.from_date=null,this.from_date_formatted=null},clearToDate(){this.to_date=null,this.to_date_formatted=null},close_dialog(){this.invoicesDialog=!1},clear_search(){this.invoice_name="",this.customer_name="",this.customer_id="",this.mobile_no="",this.tax_id="",this.from_date=null,this.to_date=null,this.from_date_formatted=null,this.to_date_formatted=null,this.min_amount="",this.max_amount="",this.dialog_data=[],this.page=1,this.has_more_invoices=!1,this.searched_once=!1},search_invoices_by_enter(e){e.keyCode===13&&this.search_invoices()},search_invoices(){this.page=1,this.dialog_data=[],this.perform_search()},perform_search(){const e=this;e.loading_more=!0;let t=null,n=null;if(e.from_date){if(typeof e.from_date=="object"&&e.from_date instanceof Date)t=[e.from_date.getFullYear(),String(e.from_date.getMonth()+1).padStart(2,"0"),String(e.from_date.getDate()).padStart(2,"0")].join("-");else if(typeof e.from_date=="string")if(e.from_date.includes("/")){const i=e.from_date.split("/");i.length===3&&(t=`${i[2]}-${i[1]}-${i[0]}`)}else if(e.from_date.includes("-")){const i=e.from_date.split("-");i.length===3&&(i[0].length===4?t=e.from_date:t=`${i[2]}-${i[1]}-${i[0]}`)}else t=null}if(e.to_date){if(typeof e.to_date=="object"&&e.to_date instanceof Date)n=[e.to_date.getFullYear(),String(e.to_date.getMonth()+1).padStart(2,"0"),String(e.to_date.getDate()).padStart(2,"0")].join("-");else if(typeof e.to_date=="string")if(e.to_date.includes("/")){const i=e.to_date.split("/");i.length===3&&(n=`${i[2]}-${i[1]}-${i[0]}`)}else if(e.to_date.includes("-")){const i=e.to_date.split("-");i.length===3&&(i[0].length===4?n=e.to_date:n=`${i[2]}-${i[1]}-${i[0]}`)}else n=null}let a=e.min_amount?parseFloat(e.min_amount):null,r=e.max_amount?parseFloat(e.max_amount):null;this.current_search_params={invoice_name:e.invoice_name,customer_name:e.customer_name,customer_id:e.customer_id,mobile_no:e.mobile_no,tax_id:e.tax_id,from_date:t,to_date:n,min_amount:a,max_amount:r,company:e.company,page:e.page},frappe.call({method:"posawesome.posawesome.api.invoices.search_invoices_for_return",args:this.current_search_params,callback:function(i){e.loading_more=!1,e.searched_once=!0,i.message?(e.page===1?e.dialog_data=i.message.invoices:e.dialog_data=[...e.dialog_data,...i.message.invoices],e.has_more_invoices=i.message.has_more):(e.dialog_data=[],e.has_more_invoices=!1,e.eventBus.emit("show_message",{title:__("No invoices found"),color:"warning"}))},error:function(i){e.loading_more=!1,console.error("Error searching invoices:",i),e.eventBus.emit("show_message",{title:__("Error searching invoices"),color:"error"})}})},load_more_invoices(){this.page+=1,this.perform_search()},return_without_invoice(){console.log("Starting return without invoice flow");const e={};e.items=[],e.is_return=1;const t={invoice_doc:e};console.log("Emitting load_return_invoice event with data:",t),this.eventBus.emit("load_return_invoice",t),this.invoicesDialog=!1},submit_dialog(){if(this.selected.length>0){console.log("Starting return with invoice flow");const e=this.selected[0],t={},n=[];console.log("Original return doc:",e),e.items.forEach(r=>{const i={...r};i.sales_invoice_item=r.name,delete i.name,i.qty=r.qty>0?r.qty*-1:r.qty,i.stock_qty=r.stock_qty>0?r.stock_qty*-1:r.stock_qty,i.amount=r.amount>0?r.amount*-1:r.amount,n.push(i)}),t.items=n,t.is_return=1,t.return_against=e.name,t.customer=e.customer,e.grand_total>0?t.grand_total=e.grand_total*-1:t.grand_total=e.grand_total,t.update_stock=1,t.pos_profile=this.pos_profile.name,t.company=this.company;const a={invoice_doc:t,return_doc:e};console.log("Emitting load_return_invoice event with data:",a),this.eventBus.emit("load_return_invoice",a),this.invoicesDialog=!1}}},created:function(){this.eventBus.on("open_returns",e=>{this.invoicesDialog=!0,this.company=e,this.invoice_name="",this.customer_name="",this.customer_id="",this.mobile_no="",this.tax_id="",this.from_date=null,this.to_date=null,this.from_date_formatted=null,this.to_date_formatted=null,this.min_amount="",this.max_amount="",this.dialog_data=[],this.selected=[],this.page=1,this.has_more_invoices=!1,this.searched_once=!1}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})},beforeUnmount(){this.eventBus.off("open_returns"),this.eventBus.off("register_pos_profile")}},eQ={class:"text-h5 text-primary"},tQ={key:0,class:"text-center mt-3"};function nQ(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-alert"),u=ie("v-col"),f=ie("v-row"),d=ie("v-text-field"),m=ie("VueDatePicker"),p=ie("v-divider"),g=ie("v-spacer"),y=ie("v-icon"),S=ie("v-btn"),k=ie("v-data-table"),C=ie("v-container"),w=ie("v-card-actions"),I=ie("v-card"),V=ie("v-dialog");return de(),ct(f,{justify:"center"},{default:D(()=>[h(V,{modelValue:e.invoicesDialog,"onUpdate:modelValue":t[12]||(t[12]=O=>e.invoicesDialog=O),"max-width":"800px","min-width":"800px"},{default:D(()=>[h(I,null,{default:D(()=>[h(o,null,{default:D(()=>[P("span",eQ,ve(e.__("Select Return Invoice")),1)]),_:1}),h(C,null,{default:D(()=>[h(f,{class:"mb-2"},{default:D(()=>[h(u,{cols:"12"},{default:D(()=>[!e.from_date&&!e.to_date?(de(),ct(l,{key:0,dense:"",type:"info",text:"",outlined:""},{default:D(()=>[P("small",null,ve(e.__("Use date range to search for older invoices")),1)]),_:1})):Ke("",!0)]),_:1})]),_:1}),h(f,{class:"mb-3"},{default:D(()=>[h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Invoice ID"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.invoice_name,"onUpdate:modelValue":t[0]||(t[0]=O=>e.invoice_name=O),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"3"},{default:D(()=>[h(m,{modelValue:e.from_date,"onUpdate:modelValue":[t[1]||(t[1]=O=>e.from_date=O),t[2]||(t[2]=O=>i.formatFromDate())],"model-type":"format",format:"dd-MM-yyyy","enable-time-picker":!1,"auto-apply":"",dark:i.isDarkTheme},null,8,["modelValue","dark"])]),_:1}),h(u,{cols:"12",sm:"3"},{default:D(()=>[h(m,{modelValue:e.to_date,"onUpdate:modelValue":[t[3]||(t[3]=O=>e.to_date=O),t[4]||(t[4]=O=>i.formatToDate())],"model-type":"format",format:"dd-MM-yyyy","enable-time-picker":!1,"auto-apply":"",dark:i.isDarkTheme},null,8,["modelValue","dark"])]),_:1})]),_:1}),h(f,{class:"mb-2"},{default:D(()=>[h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Customer Name"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.customer_name,"onUpdate:modelValue":t[5]||(t[5]=O=>e.customer_name=O),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Customer ID"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.customer_id,"onUpdate:modelValue":t[6]||(t[6]=O=>e.customer_id=O),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(f,{class:"mb-3"},{default:D(()=>[h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Mobile Number"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.mobile_no,"onUpdate:modelValue":t[7]||(t[7]=O=>e.mobile_no=O),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Tax ID"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.tax_id,"onUpdate:modelValue":t[8]||(t[8]=O=>e.tax_id=O),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(f,{class:"mb-3"},{default:D(()=>[h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Minimum Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.min_amount,"onUpdate:modelValue":t[9]||(t[9]=O=>e.min_amount=O),density:"compact",clearable:"",type:"number",min:"0",placeholder:"0"},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:D(()=>[h(d,{color:"primary",label:e.frappe._("Maximum Amount"),"bg-color":i.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.max_amount,"onUpdate:modelValue":t[10]||(t[10]=O=>e.max_amount=O),density:"compact",clearable:"",type:"number",min:"0",placeholder:"No limit"},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(f,null,{default:D(()=>[h(u,{cols:"12",class:"pt-0 pb-0"},{default:D(()=>[h(p)]),_:1})]),_:1}),h(f,{class:"mt-2 mb-2"},{default:D(()=>[h(g),h(S,{variant:"text",class:"ml-2",color:"primary",theme:"dark",onClick:i.search_invoices},{default:D(()=>[h(y,{left:""},{default:D(()=>t[13]||(t[13]=[Ye("mdi-magnify")])),_:1,__:[13]}),Ye(" "+ve(e.__("Search")),1)]),_:1},8,["onClick"]),h(S,{variant:"text",class:"ml-2",color:"warning",theme:"dark",onClick:i.clear_search},{default:D(()=>[h(y,{left:""},{default:D(()=>t[14]||(t[14]=[Ye("mdi-refresh")])),_:1,__:[14]}),Ye(" "+ve(e.__("Clear")),1)]),_:1},8,["onClick"]),e.pos_profile.posa_allow_return_without_invoice==1?(de(),ct(S,{key:0,variant:"text",class:"ml-2",color:"secondary",theme:"dark",onClick:i.return_without_invoice},{default:D(()=>[Ye(ve(e.__("Return without Invoice")),1)]),_:1},8,["onClick"])):Ke("",!0)]),_:1}),h(f,null,{default:D(()=>[e.dialog_data&&e.dialog_data.length>0?(de(),ct(u,{key:0,cols:"12",class:"pa-0 mt-1"},{default:D(()=>[h(k,{headers:e.headers,items:e.dialog_data,"item-key":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[11]||(t[11]=O=>e.selected=O),"select-strategy":"single","return-object":"","footer-props":{"items-per-page-options":[10,25,50,100],"items-per-page-text":"Invoices per page"},"items-per-page":25},{"item.posting_date":D(({item:O})=>[Ye(ve(i.formatDateDisplay(O.posting_date)),1)]),"item.grand_total":D(({item:O})=>[Ye(ve(e.currencySymbol(O.currency))+" "+ve(e.formatCurrency(O.grand_total)),1)]),_:1},8,["headers","items","modelValue"]),e.has_more_invoices?(de(),nt("div",tQ,[h(S,{color:"primary",text:"",outlined:"",loading:e.loading_more,onClick:i.load_more_invoices},{default:D(()=>[Ye(ve(e.__("Load More Invoices")),1)]),_:1},8,["loading","onClick"])])):Ke("",!0)]),_:1})):e.searched_once&&(!e.dialog_data||e.dialog_data.length===0)?(de(),ct(u,{key:1,cols:"12",class:"text-center"},{default:D(()=>[h(l,{type:"warning",text:""},{default:D(()=>[Ye(ve(e.__("No invoices found. Try different search criteria.")),1)]),_:1})]),_:1})):Ke("",!0)]),_:1})]),_:1}),h(w,{class:"mt-1"},{default:D(()=>[h(g),h(S,{color:"error mx-2",theme:"dark",onClick:i.close_dialog},{default:D(()=>[Ye(ve(e.__("Close")),1)]),_:1},8,["onClick"]),e.selected.length?(de(),ct(S,{key:0,color:"success",theme:"dark",onClick:i.submit_dialog},{default:D(()=>[Ye(ve(e.__("Select")),1)]),_:1},8,["onClick"])):Ke("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const aQ=Bn(ZG,[["render",nQ]]),rQ={data:()=>({dialog:!1,singleSelect:!0,selected:[],dialog_data:"",company:"",customer:"",mode_of_payment:"",full_name:"",mobile_no:"",headers:[{title:__("Full Name"),value:"full_name",align:"start",sortable:!0},{title:__("Mobile No"),value:"mobile_no",align:"start",sortable:!0},{title:__("Amount"),value:"amount",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,value:"posting_date"}]}),watch:{},methods:{close_dialog(){this.dialog=!1},search_by_enter(e){e.keyCode===13&&this.search()},search(){const e=this;frappe.call({method:"posawesome.posawesome.api.m_pesa.get_mpesa_draft_payments",args:{company:this.company,mode_of_payment:this.mode_of_payment,mobile_no:this.mobile_no,full_name:this.full_name},async:!1,callback:function(t){t.exc||(e.dialog_data=t.message)}})},submit_dialog(){var e=this;if(this.selected.length>0){const t=this.selected[0].name;frappe.call({method:"posawesome.posawesome.api.m_pesa.submit_mpesa_payment",args:{mpesa_payment:t,customer:this.customer},async:!1,callback:function(n){n.exc||(e.eventBus.emit("set_mpesa_payment",n.message),e.dialog=!1)}})}},formatCurrency(e){return this.$options.mixins[0].methods.formatCurrency.call(this,e,2)}},created:function(){this.eventBus.on("open_mpesa_payments",e=>{this.dialog=!0,this.full_name="",this.mobile_no="",this.company=e.company,this.customer=e.customer,this.mode_of_payment=e.mode_of_payment,this.dialog_data="",this.selected=[]})},beforeUnmount(){this.eventBus.off("open_mpesa_payments")}},iQ={class:"text-h5 text-primary"};function oQ(e,t,n,a,r,i){const o=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-btn"),f=ie("v-row"),d=ie("v-data-table"),m=ie("v-col"),p=ie("v-container"),g=ie("v-spacer"),y=ie("v-card-actions"),S=ie("v-card"),k=ie("v-dialog");return de(),ct(f,{justify:"center"},{default:D(()=>[h(k,{modelValue:e.dialog,"onUpdate:modelValue":t[3]||(t[3]=C=>e.dialog=C),"max-width":"800px","min-width":"800px"},{default:D(()=>[h(S,null,{default:D(()=>[h(o,null,{default:D(()=>[P("span",iQ,ve(e.__("Select Payment")),1)]),_:1}),h(p,null,{default:D(()=>[h(f,{class:"mb-4"},{default:D(()=>[h(l,{color:"primary",label:e.frappe._("Full Name"),"bg-color":"white","hide-details":"",modelValue:e.full_name,"onUpdate:modelValue":t[0]||(t[0]=C=>e.full_name=C),density:"compact",clearable:"",class:"mx-4"},null,8,["label","modelValue"]),h(l,{color:"primary",label:e.frappe._("Mobile No"),"bg-color":"white","hide-details":"",modelValue:e.mobile_no,"onUpdate:modelValue":t[1]||(t[1]=C=>e.mobile_no=C),density:"compact",clearable:"",class:"mx-4"},null,8,["label","modelValue"]),h(u,{variant:"text",class:"ml-2",color:"primary",theme:"dark",onClick:i.search},{default:D(()=>[Ye(ve(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1}),h(f,null,{default:D(()=>[e.dialog_data?(de(),ct(m,{key:0,cols:"12",class:"pa-1"},{default:D(()=>[h(d,{headers:e.headers,items:e.dialog_data,"item-key":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[2]||(t[2]=C=>e.selected=C),"return-object":"","select-strategy":"single"},{"item.amount":D(({item:C})=>[Ye(ve(i.formatCurrency(C.amount)),1)]),"item.posting_date":D(({item:C})=>[Ye(ve(C.posting_date.slice(0,16)),1)]),_:1},8,["headers","items","modelValue"])]),_:1})):Ke("",!0)]),_:1})]),_:1}),h(y,{class:"mt-4"},{default:D(()=>[h(g),h(u,{color:"error mx-2",theme:"dark",onClick:i.close_dialog},{default:D(()=>t[4]||(t[4]=[Ye("Close")])),_:1,__:[4]},8,["onClick"]),e.selected.length?(de(),ct(u,{key:0,color:"success",theme:"dark",onClick:i.submit_dialog},{default:D(()=>[Ye(ve(e.__("Submit")),1)]),_:1},8,["onClick"])):Ke("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const sQ=Bn(rQ,[["render",oQ]]),lQ={mixins:[fI],data:function(){return{dialog:!1,pos_profile:"",pos_opening_shift:"",payment:!1,offers:!1,coupons:!1}},components:{ItemsSelector:B7,Invoice:R9,OpeningDialog:j9,Payments:hG,Drafts:IG,ClosingDialog:zG,Returns:aQ,PosOffers:bG,PosCoupons:CG,NewAddress:KG,Variants:JG,MpesaPayments:sQ,SalesOrders:OG},methods:{async check_opening_entry(){return await Zu,await ho(),frappe.call("posawesome.posawesome.api.shifts.check_opening_shift",{user:frappe.session.user}).then(e=>{if(e.message){this.pos_profile=e.message.pos_profile,this.pos_opening_shift=e.message.pos_opening_shift,this.get_offers(this.pos_profile.name),this.pos_profile.taxes_and_charges&&frappe.call({method:"frappe.client.get",args:{doctype:"Sales Taxes and Charges Template",name:this.pos_profile.taxes_and_charges},callback:t=>{t.message&&hD(this.pos_profile.taxes_and_charges,t.message)}}),this.eventBus.emit("register_pos_profile",e.message),this.eventBus.emit("set_company",e.message.company);try{frappe.realtime.emit("pos_profile_registered")}catch(t){console.warn("Realtime emit failed",t)}console.info("LoadPosProfile");try{Sv(e.message)}catch(t){console.error("Failed to cache opening data",t)}}else{const t=yd();if(t){this.pos_profile=t.pos_profile,this.pos_opening_shift=t.pos_opening_shift,this.get_offers(this.pos_profile.name),this.eventBus.emit("register_pos_profile",t),this.eventBus.emit("set_company",t.company);try{frappe.realtime.emit("pos_profile_registered")}catch(n){console.warn("Realtime emit failed",n)}console.info("LoadPosProfile (cached)");return}this.create_opening_voucher()}}).catch(()=>{const e=yd();if(e){this.pos_profile=e.pos_profile,this.pos_opening_shift=e.pos_opening_shift,this.get_offers(this.pos_profile.name),this.eventBus.emit("register_pos_profile",e),this.eventBus.emit("set_company",e.company);try{frappe.realtime.emit("pos_profile_registered")}catch(t){console.warn("Realtime emit failed",t)}console.info("LoadPosProfile (cached)");return}this.create_opening_voucher()})},create_opening_voucher(){this.dialog=!0},get_closing_data(){return frappe.call("posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.make_closing_shift_from_opening",{opening_shift:this.pos_opening_shift}).then(e=>{e.message&&this.eventBus.emit("open_ClosingDialog",e.message)})},submit_closing_pos(e){frappe.call("posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.submit_closing_shift",{closing_shift:e}).then(t=>{t.message?(this.pos_opening_shift=null,this.pos_profile=null,cD(),this.eventBus.emit("show_message",{title:"POS Shift Closed",color:"success"}),this.check_opening_entry()):console.log(t)})},get_offers(e){if(this.pos_profile&&this.pos_profile.posa_local_storage){const t=Sg();t.length&&this.eventBus.emit("set_offers",t)}return frappe.call("posawesome.posawesome.api.offers.get_offers",{profile:e}).then(t=>{t.message&&(console.info("LoadOffers"),BD(t.message),this.eventBus.emit("set_offers",t.message))}).catch(t=>{console.error("Failed to fetch offers:",t);const n=Sg();n.length&&this.eventBus.emit("set_offers",n)})},get_pos_setting(){frappe.db.get_doc("POS Settings",void 0).then(e=>{this.eventBus.emit("set_pos_settings",e)})}},mounted:function(){this.$nextTick(function(){this.check_opening_entry(),this.get_pos_setting(),this.eventBus.on("close_opening_dialog",()=>{this.dialog=!1}),this.eventBus.on("register_pos_data",e=>{this.pos_profile=e.pos_profile,this.get_offers(this.pos_profile.name),this.pos_opening_shift=e.pos_opening_shift,this.eventBus.emit("register_pos_profile",e),console.info("LoadPosProfile")}),this.eventBus.on("show_payment",e=>{this.payment=e==="true",this.offers=!1,this.coupons=!1}),this.eventBus.on("show_offers",e=>{this.offers=e==="true",this.payment=!1,this.coupons=!1}),this.eventBus.on("show_coupons",e=>{this.coupons=e==="true",this.offers=!1,this.payment=!1}),this.eventBus.on("open_closing_dialog",()=>{this.get_closing_data()}),this.eventBus.on("submit_closing_pos",e=>{this.submit_closing_pos(e)})})},beforeUnmount(){this.eventBus.off("close_opening_dialog"),this.eventBus.off("register_pos_data"),this.eventBus.off("LoadPosProfile"),this.eventBus.off("show_offers"),this.eventBus.off("show_coupons"),this.eventBus.off("open_closing_dialog"),this.eventBus.off("submit_closing_pos")},created(){FD()}};function uQ(e,t,n,a,r,i){const o=ie("ClosingDialog"),l=ie("Drafts"),u=ie("SalesOrders"),f=ie("Returns"),d=ie("NewAddress"),m=ie("MpesaPayments"),p=ie("Variants"),g=ie("OpeningDialog"),y=ie("ItemsSelector"),S=ie("v-col"),k=ie("PosOffers"),C=ie("PosCoupons"),w=ie("Payments"),I=ie("Invoice"),V=ie("v-row");return de(),nt("div",{class:"pos-main-container dynamic-container",style:vt(e.responsiveStyles)},[h(o),h(l),h(u),h(f),h(d),h(m),h(p),e.dialog?(de(),ct(g,{key:0,dialog:e.dialog},null,8,["dialog"])):Ke("",!0),xn(h(V,{dense:"",class:"ma-0 dynamic-main-row"},{default:D(()=>[xn(h(S,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:D(()=>[h(y)]),_:1},512),[[Aa,!e.payment&&!e.offers&&!e.coupons]]),xn(h(S,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:D(()=>[h(k)]),_:1},512),[[Aa,e.offers]]),xn(h(S,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:D(()=>[h(C)]),_:1},512),[[Aa,e.coupons]]),xn(h(S,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:D(()=>[h(w)]),_:1},512),[[Aa,e.payment]]),h(S,{xl:"7",lg:"7",md:"7",sm:"7",cols:"12",class:"pos dynamic-col"},{default:D(()=>[h(I)]),_:1})]),_:1},512),[[Aa,!e.dialog]])],4)}const cQ=Bn(lQ,[["render",uQ],["__scopeId","data-v-e94c947c"]]),dQ={mixins:[po],data:function(){return{dialog:!1,pos_profile:"",pos_opening_shift:"",customer_name:"",customer_info:"",company:"",singleSelect:!0,invoices_loading:!1,unallocated_payments_loading:!1,mpesa_payments_loading:!1,payment_methods:[],outstanding_invoices:[],unallocated_payments:[],mpesa_payments:[],selected_invoices:[],selected_payments:[],selected_mpesa_payments:[],pos_profiles_list:[],pos_profile_search:"",payment_methods_list:[],mpesa_search_name:"",mpesa_search_mobile:"",invoices_headers:[{title:"",align:"start",sortable:!1,key:"actions",width:"50px"},{title:__("Invoice"),align:"start",sortable:!0,key:"voucher_no"},{title:__("Customer"),align:"start",sortable:!0,key:"customer_name"},{title:__("Date"),align:"start",sortable:!0,key:"posting_date"},{title:__("Due Date"),align:"start",sortable:!0,key:"due_date"},{title:__("Total"),align:"end",sortable:!0,key:"invoice_amount"},{title:__("Outstanding"),align:"end",sortable:!0,key:"outstanding_amount"}],unallocated_payments_headers:[{title:"",align:"center",sortable:!1,key:"select",width:"50px"},{title:__("Payment ID"),align:"start",sortable:!0,key:"name"},{title:__("Customer"),align:"start",sortable:!0,key:"customer_name"},{title:__("Date"),align:"start",sortable:!0,key:"posting_date"},{title:__("Mode"),align:"start",sortable:!0,key:"mode_of_payment"},{title:__("Paid"),align:"end",sortable:!0,key:"paid_amount"},{title:__("Unallocated"),align:"end",sortable:!0,key:"unallocated_amount"}],mpesa_payment_headers:[{title:__("Payment ID"),align:"start",sortable:!0,key:"transid"},{title:__("Full Name"),align:"start",sortable:!0,key:"full_name"},{title:__("Nobile Number"),align:"start",sortable:!0,key:"mobile_no"},{title:__("Date"),align:"start",sortable:!0,key:"posting_date"},{title:__("Amount"),align:"end",sortable:!0,key:"amount"}],isSubmitting:!1}},components:{Customer:hI,UpdateCustomer:mI},methods:{async check_opening_entry(){var e=this;return await Zu,await ho(),frappe.call("posawesome.posawesome.api.shifts.check_opening_shift",{user:frappe.session.user}).then(t=>{if(t.message){this.pos_profile=t.message.pos_profile,this.pos_opening_shift=t.message.pos_opening_shift,this.company=t.message.company.name,e.eventBus.emit("payments_register_pos_profile",t.message),e.eventBus.emit("set_company",t.message.company),this.set_payment_methods();try{Sv(t.message)}catch(n){console.error("Failed to cache opening data",n)}this.pos_profile_search="",this.pos_profiles_list=[],t.message.pos_profile&&t.message.pos_profile.name&&this.pos_profiles_list.push(t.message.pos_profile.name),this.payment_methods_list=[],this.pos_profile.payments.forEach(n=>{this.payment_methods_list.push(n.mode_of_payment)}),this.get_available_pos_profiles(),this.get_outstanding_invoices(),this.get_draft_mpesa_payments_register()}else{const n=yd();if(n){this.pos_profile=n.pos_profile,this.pos_opening_shift=n.pos_opening_shift,this.company=n.company.name,e.eventBus.emit("payments_register_pos_profile",n),e.eventBus.emit("set_company",n.company),this.set_payment_methods(),this.payment_methods_list=[],this.pos_profile.payments.forEach(a=>{this.payment_methods_list.push(a.mode_of_payment)}),this.get_available_pos_profiles(),this.get_outstanding_invoices(),this.get_draft_mpesa_payments_register();return}this.create_opening_voucher()}}).catch(()=>{const t=yd();if(t){this.pos_profile=t.pos_profile,this.pos_opening_shift=t.pos_opening_shift,this.company=t.company.name,e.eventBus.emit("payments_register_pos_profile",t),e.eventBus.emit("set_company",t.company),this.set_payment_methods(),this.payment_methods_list=[],this.pos_profile.payments.forEach(n=>{this.payment_methods_list.push(n.mode_of_payment)}),this.get_available_pos_profiles(),this.get_outstanding_invoices(),this.get_draft_mpesa_payments_register();return}this.create_opening_voucher()})},get_available_pos_profiles(){if(this.pos_profile.posa_allow_mpesa_reconcile_payments)return frappe.call("posawesome.posawesome.api.payment_entry.get_available_pos_profiles",{company:this.company,currency:this.pos_profile.currency}).then(e=>{e.message&&(this.pos_profiles_list=e.message)})},create_opening_voucher(){this.dialog=!0},async fetch_customer_details(){var e=this;if(this.customer_name){if(wa()){try{const t=($u()||[]).find(a=>a.name===e.customer_name||a.customer_name===e.customer_name);if(t){e.customer_info={...t},e.set_mpesa_search_params(),e.eventBus.emit("set_customer_info_to_edit",e.customer_info);return}const n=(Cv()||[]).map(a=>a.args).find(a=>a.customer_name===e.customer_name);n&&(e.customer_info={...n,name:n.customer_name},e.set_mpesa_search_params(),e.eventBus.emit("set_customer_info_to_edit",e.customer_info))}catch(t){console.error("Failed to fetch cached customer",t)}return}try{const t=await frappe.call({method:"posawesome.posawesome.api.posapp.get_customer_info",args:{customer:e.customer_name}}),n=t.message;t.exc||(e.customer_info={...n},e.set_mpesa_search_params(),e.eventBus.emit("set_customer_info_to_edit",e.customer_info))}catch(t){console.error("Failed to fetch customer details",t)}}},onInvoiceSelected(e){e&&e.item&&e.item.customer&&(this.eventBus.emit("set_customer",e.item.customer),this.$nextTick(()=>{this.$forceUpdate()}))},get_outstanding_invoices(){if(this.invoices_loading=!0,this.selected_invoices=[],wa()){this.outstanding_invoices=[],this.invoices_loading=!1;return}return frappe.call("posawesome.posawesome.api.payment_entry.get_outstanding_invoices",{customer:this.customer_name,company:this.company,currency:this.pos_profile.currency,pos_profile:this.pos_profile_search||null}).then(e=>{e.message&&(this.outstanding_invoices=e.message,this.invoices_loading=!1,this.$nextTick(()=>{this.$forceUpdate()}))})},get_unallocated_payments(){if(this.pos_profile.posa_allow_reconcile_payments){if(this.unallocated_payments_loading=!0,!this.customer_name){this.unallocated_payments=[],this.unallocated_payments_loading=!1;return}if(wa()){this.unallocated_payments=[],this.unallocated_payments_loading=!1;return}return frappe.call("posawesome.posawesome.api.payment_entry.get_unallocated_payments",{customer:this.customer_name,company:this.company,currency:this.pos_profile.currency}).then(e=>{e.message&&(this.unallocated_payments=e.message,this.unallocated_payments_loading=!1)})}},set_mpesa_search_params(){this.pos_profile.posa_allow_mpesa_reconcile_payments&&this.customer_name&&(this.mpesa_search_name=this.customer_info.customer_name.split(" ")[0],this.customer_info.mobile_no&&(this.mpesa_search_mobile=this.customer_info.mobile_no.substring(0,4)+" ***** "+this.customer_info.mobile_no.substring(9)))},get_draft_mpesa_payments_register(){if(!this.pos_profile.posa_allow_mpesa_reconcile_payments)return;const e=this;if(this.mpesa_payments_loading=!0,wa()){this.mpesa_payments=[],this.mpesa_payments_loading=!1;return}return frappe.call("posawesome.posawesome.api.m_pesa.get_mpesa_draft_payments",{company:e.company,mode_of_payment:null,full_name:e.mpesa_search_name||null,mobile_no:e.mpesa_search_mobile||null,payment_methods_list:e.payment_methods_list}).then(t=>{t.message?e.mpesa_payments=t.message:e.mpesa_payments=[],e.mpesa_payments_loading=!1})},set_payment_methods(){this.pos_profile.posa_allow_make_new_payments&&(this.payment_methods=[],this.pos_profile.payments.forEach(e=>{this.payment_methods.push({mode_of_payment:e.mode_of_payment,amount:0,row_id:e.name})}))},clear_all(e=!0){this.customer_name="",e&&(this.customer_info=""),this.mpesa_search_mobile="",this.mpesa_search_name="",this.mpesa_payments=[],this.selected_mpesa_payments=[],this.outstanding_invoices=[],this.unallocated_payments=[],this.selected_invoices=[],this.selected_payments=[],this.selected_mpesa_payments=[],this.set_payment_methods()},submit(){if(this.isSubmitting)return;this.isSubmitting=!0;const e=this.customer_name,t=this;if(!e){this.isSubmitting=!1,frappe.throw(__("Please select a customer"));return}if(this.selected_invoices.length==0){this.isSubmitting=!1,frappe.throw(__("Please select an invoice"));return}if(this.total_selected_payments+this.total_selected_mpesa_payments+this.total_payment_methods<=0){this.isSubmitting=!1,frappe.throw(__("Please make a payment or select an payment"));return}this.payment_methods.forEach(r=>{r.amount=flt(r.amount)});const a={};if(a.customer=e,a.company=this.company,a.currency=this.pos_profile.currency,a.pos_opening_shift_name=this.pos_opening_shift.name,a.pos_profile_name=this.pos_profile.name,a.pos_profile=this.pos_profile,a.payment_methods=this.payment_methods,a.selected_invoices=this.selected_invoices,a.selected_payments=this.selected_payments,a.total_selected_invoices=flt(this.total_selected_invoices),a.selected_mpesa_payments=this.selected_mpesa_payments,a.total_selected_payments=flt(this.total_selected_payments),a.total_payment_methods=flt(this.total_payment_methods),a.total_selected_mpesa_payments=flt(this.total_selected_mpesa_payments),wa()){try{kg({args:{payload:a}}),t.eventBus.emit("show_message",{title:__("Payment saved offline"),color:"warning"}),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register()}catch(r){frappe.msgprint(__("Cannot Save Offline Payment: ")+(r.message||__("Unknown error")))}t.isSubmitting=!1;return}frappe.call({method:"posawesome.posawesome.api.payment_entry.process_pos_payment",args:{payload:a},freeze:!0,freeze_message:__("Processing Payment"),callback:function(r){t.isSubmitting=!1,r.message&&(frappe.utils.play_sound("submit"),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register())},error:function(){t.isSubmitting=!1}})},submit_and_print(){if(this.isSubmitting)return;this.isSubmitting=!0;const e=this.customer_name,t=this;if(!e){this.isSubmitting=!1,frappe.throw(__("Please select a customer"));return}if(this.selected_invoices.length==0){this.isSubmitting=!1,frappe.throw(__("Please select an invoice"));return}if(this.total_selected_payments+this.total_selected_mpesa_payments+this.total_payment_methods<=0){this.isSubmitting=!1,frappe.throw(__("Please make a payment or select an payment"));return}this.payment_methods.forEach(r=>{r.amount=flt(r.amount)});const a={};if(a.customer=e,a.company=this.company,a.currency=this.pos_profile.currency,a.pos_opening_shift_name=this.pos_opening_shift.name,a.pos_profile_name=this.pos_profile.name,a.pos_profile=this.pos_profile,a.payment_methods=this.payment_methods,a.selected_invoices=this.selected_invoices,a.selected_payments=this.selected_payments,a.total_selected_invoices=flt(this.total_selected_invoices),a.selected_mpesa_payments=this.selected_mpesa_payments,a.total_selected_payments=flt(this.total_selected_payments),a.total_payment_methods=flt(this.total_payment_methods),a.total_selected_mpesa_payments=flt(this.total_selected_mpesa_payments),wa()){try{kg({args:{payload:a}}),t.eventBus.emit("show_message",{title:__("Payment saved offline"),color:"warning"}),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register()}catch(r){frappe.msgprint(__("Cannot Save Offline Payment: ")+(r.message||__("Unknown error")))}t.isSubmitting=!1;return}frappe.call({method:"posawesome.posawesome.api.payment_entry.process_pos_payment",args:{payload:a},freeze:!0,freeze_message:__("Processing Payment"),callback:function(r){if(t.isSubmitting=!1,r.message){console.log("Server response:",JSON.stringify(r.message)),frappe.utils.play_sound("submit");const i=r.message.new_payments_entry&&r.message.new_payments_entry.length>0?r.message.new_payments_entry[0].name:null;i?(console.log("Opening print view with payment name:",i),t.load_print_page(i)):(console.log("No payment_name found in response"),frappe.msgprint(__("Payment submitted but print function could not be executed. Payment name not found."))),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register()}},error:function(){t.isSubmitting=!1}})},selectSingleInvoice(e){console.log("Row clicked:",e),e&&this.toggleInvoiceSelection(e)},isInvoiceSelected(e){return this.selected_invoices.some(t=>t.voucher_no===e.voucher_no)},toggleInvoiceSelection(e){this.isInvoiceSelected(e)?this.selected_invoices=this.selected_invoices.filter(t=>t.voucher_no!==e.voucher_no):(this.selected_invoices.push(e),e.customer&&!this.customer_name&&this.eventBus.emit("set_customer",e.customer)),this.$nextTick(()=>{console.log("Selected invoices:",this.selected_invoices),console.log("Total selected amount:",this.total_selected_invoices),this.$forceUpdate()})},isSelected(e){return this.isInvoiceSelected(e)?"selected-row bg-primary bg-lighten-4":""},load_print_page(e){var n;if(!e){frappe.msgprint(__("Payment name not found. Cannot open print view."));return}const t=frappe.urllib.get_base_url()+"/printview?doctype=Payment%20Entry&name="+e+"&trigger_print=1";console.log("Opening printing URL:",t),(n=this.pos_profile)!=null&&n.posa_silent_print?xv(t):window.open(t,"_blank")},async syncPendingPayments(){const e=AD();if(e&&this.eventBus.emit("show_message",{title:`${e} payment${e>1?"s":""} pending for sync`,color:"warning"}),wa())return;const t=await MD();t&&t.synced&&this.eventBus.emit("show_message",{title:`${t.synced} offline payment${t.synced>1?"s":""} synced`,color:"success"})}},computed:{total_outstanding_amount(){return!this.outstanding_invoices||!this.outstanding_invoices.length?0:this.outstanding_invoices.reduce((e,t)=>e+flt((t==null?void 0:t.outstanding_amount)||0),0)},total_unallocated_amount(){return!this.unallocated_payments||!this.unallocated_payments.length?0:this.unallocated_payments.reduce((e,t)=>e+flt((t==null?void 0:t.unallocated_amount)||0),0)},total_selected_invoices(){if(!this.selected_invoices||!this.selected_invoices.length)return console.log("No selected invoices"),0;const e=this.selected_invoices.reduce((t,n)=>t+flt((n==null?void 0:n.outstanding_amount)||0),0);return console.log("Calculated total selected invoices:",e,"from",this.selected_invoices),e},total_selected_payments(){return!this.selected_payments||!this.selected_payments.length?0:this.selected_payments.reduce((e,t)=>e+flt((t==null?void 0:t.unallocated_amount)||0),0)},total_selected_mpesa_payments(){return!this.selected_mpesa_payments||!this.selected_mpesa_payments.length?0:this.selected_mpesa_payments.reduce((e,t)=>e+flt((t==null?void 0:t.amount)||0),0)},total_payment_methods(){if(!this.payment_methods||!this.payment_methods.length)return 0;const e=this.payment_methods.reduce((t,n)=>{const a=parseFloat((n==null?void 0:n.amount)||0);return t+(isNaN(a)?0:a)},0);return console.log("Payment methods total:",e,"from",this.payment_methods),e},total_of_diff(){const e=this.total_selected_invoices||0,t=(this.total_selected_payments||0)+(this.total_selected_mpesa_payments||0)+(this.total_payment_methods||0);return console.log("Difference calculation:",{invoiceTotal:e,paymentTotal:t,selectedPayments:this.total_selected_payments,mpesaPayments:this.total_selected_mpesa_payments,methodPayments:this.total_payment_methods}),flt(e-t)},isDarkTheme(){return this.$theme.current==="dark"}},created(){this.syncPendingPayments(),this.eventBus.on("network-online",this.syncPendingPayments),this.eventBus.on("server-online",this.syncPendingPayments)},mounted:function(){this.$nextTick(function(){this.check_opening_entry(),this.eventBus.on("update_customer",e=>{this.clear_all(!0),this.customer_name=e,this.fetch_customer_details(),this.get_outstanding_invoices(),this.get_unallocated_payments(),this.get_draft_mpesa_payments_register()}),this.eventBus.on("fetch_customer_details",()=>{this.fetch_customer_details()})})},beforeUnmount(){this.eventBus.off("update_customer"),this.eventBus.off("fetch_customer_details"),this.eventBus.off("network-online",this.syncPendingPayments),this.eventBus.off("server-online",this.syncPendingPayments)}},fQ={fluid:""},mQ={key:0,class:"text-primary"},hQ={key:0,class:"golden--text text-end"},vQ={class:"text-primary"},_Q={key:0},pQ={key:0,class:"text-primary"},gQ={key:0,class:"golden--text text-end"},yQ={class:"text-primary"},bQ={key:1},wQ={class:"golden--text text-end"},kQ={class:"text-primary"},SQ={key:0,class:"text-primary"},CQ={key:3},xQ={class:"mt-1"},PQ={class:"d-flex align-center"},TQ={class:"mr-1 text-primary"},DQ={class:"text-primary mt-1"},IQ={class:"pb-6 pr-6",style:{position:"absolute",bottom:"0",width:"100%"}};function AQ(e,t,n,a,r,i){const o=ie("Customer"),l=ie("v-divider"),u=ie("v-col"),f=ie("v-row"),d=ie("v-select"),m=ie("v-btn"),p=ie("v-checkbox"),g=ie("v-data-table"),y=ie("v-text-field"),S=ie("v-card");return de(),nt("div",fQ,[xn(h(f,null,{default:D(()=>[h(u,{md:"8",cols:"12",class:"pb-2 pr-0"},{default:D(()=>[h(S,{class:Ge(["main mx-auto mt-3 p-3 pb-16 overflow-y-auto",i.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([i.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"94vh",height:"94vh"}])},{default:D(()=>[h(o),h(l),P("div",null,[h(f,null,{default:D(()=>[h(u,{md:"7",cols:"12"},{default:D(()=>[P("p",null,[P("strong",null,ve(e.__("Invoices")),1),i.total_outstanding_amount?(de(),nt("span",mQ,ve(e.__("- Total Outstanding"))+" : "+ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(i.total_outstanding_amount)),1)):Ke("",!0)])]),_:1}),h(u,{md:"5",cols:"12"},{default:D(()=>[i.total_selected_invoices?(de(),nt("p",hQ,[P("span",null,ve(e.__("Total Selected :")),1),P("span",null,ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(i.total_selected_invoices)),1),P("small",null,"("+ve(e.selected_invoices.length)+" invoice(s))",1)])):Ke("",!0)]),_:1})]),_:1}),h(f,{align:"center","no-gutters":"",class:"mb-1"},{default:D(()=>[h(u,{md:"4",cols:"12"},{default:D(()=>[h(d,{density:"compact",variant:"outlined","hide-details":"",clearable:"",class:"dark-field","bg-color":i.isDarkTheme?"#1E1E1E":"white",modelValue:e.pos_profile_search,"onUpdate:modelValue":t[0]||(t[0]=k=>e.pos_profile_search=k),items:e.pos_profiles_list,"item-value":"name",label:"Select POS Profile"},null,8,["bg-color","modelValue","items"])]),_:1}),h(u),h(u,{md:"3",cols:"12"},{default:D(()=>[h(m,{block:"",color:"warning",theme:"dark",onClick:i.get_outstanding_invoices},{default:D(()=>[Ye(ve(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1}),h(u,{md:"3",cols:"12"},{default:D(()=>[e.selected_invoices.length?(de(),ct(m,{key:0,block:"",color:"error",theme:"dark",onClick:t[1]||(t[1]=k=>{e.selected_invoices=[],e.$forceUpdate()})},{default:D(()=>[Ye(ve(e.__("Clear")),1)]),_:1})):Ke("",!0)]),_:1})]),_:1}),h(g,{headers:e.invoices_headers,items:e.outstanding_invoices,"item-key":"voucher_no",class:"elevation-1 mt-0",loading:e.invoices_loading,"onClick:row":i.selectSingleInvoice,"item-class":i.isSelected},{"item.actions":D(({item:k})=>[h(p,{"model-value":i.isInvoiceSelected(k),color:"primary",onClick:Ka(C=>i.toggleInvoiceSelection(k),["stop"])},null,8,["model-value","onClick"])]),"item.invoice_amount":D(({item:k})=>[Ye(ve(e.currencySymbol(k.currency))+" "+ve(e.formatCurrency(k.invoice_amount)),1)]),"item.outstanding_amount":D(({item:k})=>[P("span",vQ,ve(e.currencySymbol((k==null?void 0:k.currency)||e.pos_profile.currency))+" "+ve(e.formatCurrency((k==null?void 0:k.outstanding_amount)||0)),1)]),_:1},8,["headers","items","loading","onClick:row","item-class"]),h(l)]),e.pos_profile.posa_allow_reconcile_payments&&e.unallocated_payments.length?(de(),nt("div",_Q,[h(f,null,{default:D(()=>[h(u,{md:"7",cols:"12"},{default:D(()=>[P("p",null,[P("strong",null,ve(e.__("Payments")),1),i.total_unallocated_amount?(de(),nt("span",pQ,ve(e.__("- Total Unallocated"))+" : "+ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(i.total_unallocated_amount)),1)):Ke("",!0)])]),_:1}),h(u,{md:"5",cols:"12"},{default:D(()=>[i.total_selected_payments?(de(),nt("p",gQ,[P("span",null,ve(e.__("Total Selected :")),1),P("span",null,ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(i.total_selected_payments)),1)])):Ke("",!0)]),_:1})]),_:1}),h(g,{headers:e.unallocated_payments_headers,items:e.unallocated_payments,"item-key":"name",class:"elevation-1 mt-0",loading:e.unallocated_payments_loading},{"item.select":D(({item:k})=>[h(p,{modelValue:e.selected_payments,"onUpdate:modelValue":t[2]||(t[2]=C=>e.selected_payments=C),value:k,color:"primary","hide-details":"",onClick:t[3]||(t[3]=Ka(()=>{},["stop"]))},null,8,["modelValue","value"])]),"item.paid_amount":D(({item:k})=>[Ye(ve(e.currencySymbol(k.currency))+" "+ve(e.formatCurrency(k.paid_amount)),1)]),"item.unallocated_amount":D(({item:k})=>[P("span",yQ,ve(e.currencySymbol(k.currency))+" "+ve(e.formatCurrency(k.unallocated_amount)),1)]),_:1},8,["headers","items","loading"]),h(l)])):Ke("",!0),e.pos_profile.posa_allow_mpesa_reconcile_payments?(de(),nt("div",bQ,[h(f,null,{default:D(()=>[h(u,{md:"8",cols:"12"},{default:D(()=>[P("p",null,[P("span",null,[P("strong",null,ve(e.__("Search Mpesa Payments")),1)])])]),_:1}),i.total_selected_mpesa_payments?(de(),ct(u,{key:0,md:"4",cols:"12"},{default:D(()=>[P("p",wQ,[P("span",null,ve(e.__("Total Selected :")),1),P("span",null,ve(e.currencySymbol(e.pos_profile.currency))+" "+ve(e.formatCurrency(i.total_selected_mpesa_payments)),1)])]),_:1})):Ke("",!0)]),_:1}),h(f,{align:"center","no-gutters":"",class:"mb-1"},{default:D(()=>[h(u,{md:"4",cols:"12",class:"mr-1"},{default:D(()=>[h(y,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Search by Name"),"bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"",class:"dark-field",modelValue:e.mpesa_search_name,"onUpdate:modelValue":t[4]||(t[4]=k=>e.mpesa_search_name=k),clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{md:"4",cols:"12",class:"mr-1"},{default:D(()=>[h(y,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Search by Mobile"),"bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"",class:"dark-field",modelValue:e.mpesa_search_mobile,"onUpdate:modelValue":t[5]||(t[5]=k=>e.mpesa_search_mobile=k),clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u),h(u,{md:"3",cols:"12"},{default:D(()=>[h(m,{block:"",color:"warning",theme:"dark",onClick:i.get_draft_mpesa_payments_register},{default:D(()=>[Ye(ve(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),h(g,{headers:e.mpesa_payment_headers,items:e.mpesa_payments,"item-key":"name",class:"elevation-1 mt-0","single-select":e.singleSelect,"show-select":"",modelValue:e.selected_mpesa_payments,"onUpdate:modelValue":t[6]||(t[6]=k=>e.selected_mpesa_payments=k),loading:e.mpesa_payments_loading,"checkbox-color":"primary"},{"item.amount":D(({item:k})=>[P("span",kQ,ve(e.currencySymbol(k.currency))+" "+ve(e.formatCurrency(k.amount)),1)]),_:1},8,["headers","items","single-select","modelValue","loading"])])):Ke("",!0)]),_:1},8,["class","style"])]),_:1}),h(u,{md:"4",cols:"12",class:"pb-3"},{default:D(()=>[h(S,{class:Ge(["invoices mx-auto mt-3 p-3",i.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([i.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"94vh",height:"94vh"}])},{default:D(()=>[P("strong",null,[t[10]||(t[10]=P("h4",{class:"text-primary"},"Totals",-1)),h(f,null,{default:D(()=>[h(u,{md:"7",class:"mt-1"},{default:D(()=>[P("span",null,ve(e.__("Total Invoices:")),1)]),_:1}),h(u,{md:"5"},{default:D(()=>[h(y,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(i.total_selected_invoices),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"]),e.selected_invoices.length?(de(),nt("small",SQ,ve(e.selected_invoices.length)+" invoice(s) selected",1)):Ke("",!0)]),_:1})]),_:1}),i.total_selected_payments?(de(),ct(f,{key:0},{default:D(()=>[h(u,{md:"7",class:"mt-1"},{default:D(()=>[P("span",null,ve(e.__("Total Payments:")),1)]),_:1}),h(u,{md:"5"},{default:D(()=>[h(y,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(i.total_selected_payments),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"])]),_:1})]),_:1})):Ke("",!0),i.total_selected_mpesa_payments?(de(),ct(f,{key:1},{default:D(()=>[h(u,{md:"7",class:"mt-1"},{default:D(()=>[P("span",null,ve(e.__("Total Mpesa:")),1)]),_:1}),h(u,{md:"5"},{default:D(()=>[h(y,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(i.total_selected_mpesa_payments),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"])]),_:1})]),_:1})):Ke("",!0),e.payment_methods.length?(de(),ct(l,{key:2})):Ke("",!0),e.pos_profile.posa_allow_make_new_payments?(de(),nt("div",CQ,[t[9]||(t[9]=P("h4",{class:"text-primary"},"Make New Payment",-1)),e.payment_methods.length?(de(!0),nt(ht,{key:0},In(e.payment_methods,k=>(de(),ct(f,{key:k.row_id},{default:D(()=>[h(u,{md:"7"},{default:D(()=>[P("span",xQ,ve(e.__(k.mode_of_payment))+":",1)]),_:2},1024),h(u,{md:"5"},{default:D(()=>[P("div",PQ,[P("div",TQ,ve(e.currencySymbol(e.pos_profile.currency)),1),h(y,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"",modelValue:k.amount,"onUpdate:modelValue":C=>k.amount=C,type:"number",flat:"",onInput:t[7]||(t[7]=C=>e.$forceUpdate())},null,8,["bg-color","modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024))),128)):Ke("",!0)])):Ke("",!0),h(l),h(f,null,{default:D(()=>[h(u,{md:"7"},{default:D(()=>[P("h4",DQ,ve(e.__("Difference:")),1)]),_:1}),h(u,{md:"5"},{default:D(()=>[h(y,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":i.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(i.total_of_diff),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"])]),_:1})]),_:1})]),P("div",IQ,[h(f,null,{default:D(()=>[h(u,{cols:"6",class:"pr-1"},{default:D(()=>[h(m,{block:"",size:"large",color:"primary",theme:"dark",onClick:i.submit,disabled:e.vaildatPayment||e.isSubmitting,loading:e.isSubmitting},{default:D(()=>[Ye(ve(e.__("Submit")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1}),h(u,{cols:"6",class:"pl-1"},{default:D(()=>[h(m,{block:"",size:"large",color:"success",theme:"dark",onClick:t[8]||(t[8]=k=>i.submit_and_print()),disabled:e.vaildatPayment||e.isSubmitting,loading:e.isSubmitting},{default:D(()=>[Ye(ve(e.__("Submit & Print")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])]),_:1},8,["class","style"])]),_:1})]),_:1},512),[[Aa,!e.dialog]])])}const EQ=Bn(dQ,[["render",AQ]]),VQ={data:function(){return{page:"POS",posProfile:{},pendingInvoices:0,lastInvoiceId:"",networkOnline:navigator.onLine||!1,serverOnline:!1,serverConnecting:!1,isIpHost:!1,syncTotals:{pending:0,synced:0,drafted:0},manualOffline:!1,cacheUsage:0,cacheUsageLoading:!1,cacheUsageDetails:{total:0,indexedDB:0,localStorage:0}}},computed:{isDark(){var e;return((e=this.$theme)==null?void 0:e.current)==="dark"}},watch:{networkOnline(e,t){e&&!t&&(this.refreshTaxInclusiveSetting(),this.eventBus.emit("network-online"),this.handleSyncInvoices())},serverOnline(e,t){e&&!t&&(this.eventBus.emit("server-online"),this.handleSyncInvoices())}},components:{Navbar:Gj,POS:cQ,Payments:EQ},mounted(){this.remove_frappe_nav(),this.initializeData(),this.setupNetworkListeners(),this.setupEventListeners(),this.handleRefreshCacheUsage()},methods:{setPage(e){this.page=e},async initializeData(){await Zu,await sD,ho().catch(()=>{});const e=yd();e&&e.pos_profile&&(this.posProfile=e.pos_profile,navigator.onLine&&await this.refreshTaxInclusiveSetting()),yD()&&(alert("Offline queue is too large. Old entries will be purged."),bD()),this.pendingInvoices=js(),this.syncTotals=vD(),bg().then(t=>{t.percentage>90&&alert("Local cache nearing capacity. Consider going online to sync.")}).catch(()=>{}),this.isIpHost=/^\d+\.\d+\.\d+\.\d+/.test(window.location.hostname),this.manualOffline=yg(),this.manualOffline&&(this.networkOnline=!1,this.serverOnline=!1,window.serverOnline=!1)},setupNetworkListeners(){window.addEventListener("online",()=>{this.networkOnline=!0,console.log("Network: Online"),this.checkNetworkConnectivity()}),window.addEventListener("offline",()=>{this.networkOnline=!1,this.serverOnline=!1,window.serverOnline=!1,console.log("Network: Offline"),this.$forceUpdate()}),this.networkOnline=navigator.onLine,this.checkNetworkConnectivity(),setInterval(()=>{navigator.onLine&&this.checkNetworkConnectivity()},15e3)},async checkNetworkConnectivity(){try{let e=!1;try{(await fetch("/app",{method:"HEAD",cache:"no-cache",signal:AbortSignal.timeout(5e3)})).status<500&&(e=!0)}catch(t){console.log("Desk endpoint check failed:",t.message)}if(!e)try{(await fetch("/assets/frappe/images/frappe-logo.svg",{method:"HEAD",cache:"no-cache",signal:AbortSignal.timeout(3e3)})).status<500&&(e=!0)}catch(t){console.log("Static asset check failed:",t.message)}if(!e)try{(await fetch(window.location.origin,{method:"HEAD",cache:"no-cache",signal:AbortSignal.timeout(3e3)})).status<500&&(e=!0)}catch(t){console.log("Origin check failed:",t.message)}e?(this.networkOnline=!0,this.serverOnline=!0,window.serverOnline=!0,this.serverConnecting=!1,console.log("Network: Connected")):(this.networkOnline=navigator.onLine,this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,console.log("Network: Disconnected")),this.$forceUpdate()}catch(e){console.warn("Network connectivity check failed:",e),this.networkOnline=navigator.onLine,this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,this.$forceUpdate()}},detectHostType(e){const t=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,n=/^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$|^::1$|^::/,a=["localhost","127.0.0.1","::1","0.0.0.0"];return t.test(e)||n.test(e)||a.includes(e.toLowerCase())},async performConnectivityChecks(e,t,n){const a=[];a.push(this.checkFrappePing()),a.push(this.checkCurrentOrigin(t,e,n)),this.isIpHost||a.push(this.checkExternalConnectivity()),frappe.realtime&&frappe.realtime.socket&&a.push(this.checkWebSocketConnectivity());try{return(await Promise.allSettled(a)).some(i=>i.status==="fulfilled"&&i.value===!0)}catch(r){return console.warn("All connectivity checks failed:",r),!1}},async checkFrappePing(){try{const e=new AbortController,t=setTimeout(()=>e.abort(),5e3),n=await fetch("/api/method/ping",{method:"HEAD",cache:"no-cache",signal:e.signal,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});return clearTimeout(t),n.ok}catch(e){return e.name!=="AbortError"&&console.warn("Frappe ping check failed:",e),!1}},async checkCurrentOrigin(e,t,n){try{const a=new AbortController,r=setTimeout(()=>a.abort(),5e3),i=`${e}//${t}${n?":"+n:""}`,o=await fetch(`${i}/api/method/frappe.auth.get_logged_user`,{method:"HEAD",cache:"no-cache",signal:a.signal,headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}});return clearTimeout(r),o.status<500}catch(a){return a.name!=="AbortError"&&console.warn("Current origin check failed:",a),!1}},async checkExternalConnectivity(){try{const e=new AbortController,t=setTimeout(()=>e.abort(),3e3),n=await fetch("https://httpbin.org/status/200",{method:"HEAD",mode:"no-cors",cache:"no-cache",signal:e.signal});return clearTimeout(t),!0}catch(e){return e.name!=="AbortError"&&console.warn("External connectivity check failed:",e),!1}},async checkWebSocketConnectivity(){try{return frappe.realtime&&frappe.realtime.socket?frappe.realtime.socket.readyState===1:!1}catch(e){return console.warn("WebSocket connectivity check failed:",e),!1}},setupEventListeners(){this.eventBus&&(this.eventBus.on("register_pos_profile",e=>{this.posProfile=e.pos_profile||{},navigator.onLine&&this.refreshTaxInclusiveSetting()}),this.eventBus.on("set_last_invoice",e=>{this.lastInvoiceId=e}),this.eventBus.on("print_last_invoice",()=>{this.handlePrintLastInvoice()}),this.eventBus.on("sync_invoices",()=>{this.handleSyncInvoices()}),this.eventBus.on("pending_invoices_changed",e=>{this.pendingInvoices=e})),frappe.realtime&&(frappe.realtime.on("connect",()=>{this.serverOnline=!0,window.serverOnline=!0,this.serverConnecting=!1,console.log("Server: Connected via WebSocket"),this.$forceUpdate()}),frappe.realtime.on("disconnect",()=>{this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,console.log("Server: Disconnected from WebSocket"),setTimeout(()=>this.checkNetworkConnectivity(),1e3)}),frappe.realtime.on("connecting",()=>{this.serverConnecting=!0,console.log("Server: Connecting to WebSocket..."),this.$forceUpdate()}),frappe.realtime.on("reconnect",()=>{console.log("Server: Reconnected to WebSocket"),window.serverOnline=!0,this.checkNetworkConnectivity()})),document.addEventListener("visibilitychange",()=>{!document.hidden&&navigator.onLine&&this.checkNetworkConnectivity()})},handleNavClick(){},handleCloseShift(){this.eventBus.emit("open_closing_dialog")},handlePrintLastInvoice(){if(!this.lastInvoiceId)return;const e=this.posProfile.print_format_for_online||this.posProfile.print_format,t=this.posProfile.letter_head||0,n=frappe.urllib.get_base_url()+"/printview?doctype=Sales%20Invoice&name="+this.lastInvoiceId+"&trigger_print=1&format="+e+"&no_letterhead="+t;if(this.posProfile.posa_silent_print)xv(n);else{const a=window.open(n,"Print");a.addEventListener("load",function(){a.print()},{once:!0})}},async handleSyncInvoices(){const e=js();if(e&&this.eventBus.emit("show_message",{title:`${e} invoice${e>1?"s":""} pending for sync`,color:"warning"}),wa())return;const t=await pb();t&&(t.synced||t.drafted)&&(t.synced&&this.eventBus.emit("show_message",{title:`${t.synced} offline invoice${t.synced>1?"s":""} synced`,color:"success"}),t.drafted&&this.eventBus.emit("show_message",{title:`${t.drafted} offline invoice${t.drafted>1?"s":""} saved as draft`,color:"warning"})),this.pendingInvoices=js(),this.syncTotals=t||this.syncTotals},handleToggleOffline(){gD(),this.manualOffline=yg(),this.manualOffline?(this.networkOnline=!1,this.serverOnline=!1,window.serverOnline=!1):this.checkNetworkConnectivity()},handleToggleTheme(){this.$theme.toggle()},handleLogout(){window.location.href="/app"},handleRefreshCacheUsage(){this.cacheUsageLoading=!0,bg().then(e=>{this.cacheUsage=e.percentage||0,this.cacheUsageDetails={total:e.total||0,indexedDB:e.indexedDB||0,localStorage:e.localStorage||0}}).catch(e=>{console.error("Failed to refresh cache usage",e)}).finally(()=>{this.cacheUsageLoading=!1})},async refreshTaxInclusiveSetting(){if(!(!this.posProfile||!this.posProfile.name||!navigator.onLine))try{const e=await frappe.call({method:"posawesome.posawesome.api.utilities.get_pos_profile_tax_inclusive",args:{pos_profile:this.posProfile.name}});if(e.message!==void 0){const t=e.message;try{localStorage.setItem("posa_tax_inclusive",JSON.stringify(t))}catch(n){console.warn("Failed to cache tax inclusive setting",n)}Yz(()=>Promise.resolve().then(()=>Sj),void 0).then(n=>{n&&n.setTaxInclusiveSetting&&n.setTaxInclusiveSetting(t)}).catch(()=>{})}}catch(e){console.warn("Failed to refresh tax inclusive setting",e)}},handleUpdateAfterDelete(){},remove_frappe_nav(){this.$nextTick(function(){$(".page-head").remove(),$(".navbar.navbar-default.navbar-fixed-top").remove()})}},beforeUnmount(){this.eventBus&&this.eventBus.off("pending_invoices_changed")},created:function(){setTimeout(()=>{this.remove_frappe_nav()},1e3)}},OQ={class:"page-content"};function MQ(e,t,n,a,r,i){const o=ie("Navbar"),l=ie("v-main"),u=ie("v-app");return de(),ct(u,{class:"container1"},{default:D(()=>[h(l,{class:"main-content"},{default:D(()=>[h(o,{"pos-profile":e.posProfile,"pending-invoices":e.pendingInvoices,"last-invoice-id":e.lastInvoiceId,"network-online":e.networkOnline,"server-online":e.serverOnline,"server-connecting":e.serverConnecting,"is-ip-host":e.isIpHost,"sync-totals":e.syncTotals,"manual-offline":e.manualOffline,"is-dark":i.isDark,"cache-usage":e.cacheUsage,"cache-usage-loading":e.cacheUsageLoading,"cache-usage-details":e.cacheUsageDetails,onChangePage:t[0]||(t[0]=f=>i.setPage(f)),onNavClick:i.handleNavClick,onCloseShift:i.handleCloseShift,onPrintLastInvoice:i.handlePrintLastInvoice,onSyncInvoices:i.handleSyncInvoices,onToggleOffline:i.handleToggleOffline,onToggleTheme:i.handleToggleTheme,onLogout:i.handleLogout,onRefreshCacheUsage:i.handleRefreshCacheUsage,onUpdateAfterDelete:i.handleUpdateAfterDelete},null,8,["pos-profile","pending-invoices","last-invoice-id","network-online","server-online","server-connecting","is-ip-host","sync-totals","manual-offline","is-dark","cache-usage","cache-usage-loading","cache-usage-details","onNavClick","onCloseShift","onPrintLastInvoice","onSyncInvoices","onToggleOffline","onToggleTheme","onLogout","onRefreshCacheUsage","onUpdateAfterDelete"]),P("div",OQ,[(de(),ct(Cd(e.page),{class:"mx-4 md-4"}))])]),_:1})]),_:1})}const BQ=Bn(VQ,[["render",MQ],["__scopeId","data-v-9fd8cad0"]]);typeof window<"u"&&!window.Dexie&&(window.Dexie=es);frappe.provide("frappe.PosApp");frappe.PosApp.posapp=class{constructor({parent:e}){this.$parent=$(document),this.page=e.page,this.make_body()}make_body(){this.$el=this.$parent.find(".main-section");const e=LC({components:Vz,directives:zz,locale:{rtl:frappe.utils.is_rtl()},theme:{defaultTheme:"light",themes:{light:{colors:{background:"#FFFFFF",primary:"#0097A7",secondary:"#00BCD4",accent:"#9575CD",success:"#66BB6A",info:"#2196F3",warning:"#FF9800",error:"#E86674",orange:"#E65100",golden:"#A68C59",badge:"#F5528C",customPrimary:"#085294"}},dark:{dark:!0,colors:{background:"#121212",surface:"#1E1E1E",primary:"#BB86FC",primaryVariant:"#985EFF",secondary:"#03DAC6",accent:"#9575CD",success:"#66BB6A",info:"#2196F3",warning:"#FF9800",error:"#CF6679",orange:"#FF6F00",golden:"#A68C59",badge:"#F5528C",customPrimary:"#4FC3F7",onBackground:"#FFFFFF",onSurface:"#FFFFFF",divider:"#373737"}}}}}),t=VR(BQ);if(t.component("VueDatePicker",Ay),t.use(t5),t.use(e),t.use(n5,{vuetify:e}),t.mount(this.$el[0]),!document.querySelector('link[rel="manifest"]')){const n=document.createElement("link");n.rel="manifest",n.href="/manifest.json",document.head.appendChild(n)}("serviceWorker"in navigator&&window.location.protocol==="https:"||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&navigator.serviceWorker.register("/sw.js").catch(n=>console.error("SW registration failed",n))}setup_header(){}};
