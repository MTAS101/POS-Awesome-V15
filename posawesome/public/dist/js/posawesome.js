(function(Yd,ko){typeof exports=="object"&&typeof module<"u"?ko(require("socket.io-client")):typeof define=="function"&&define.amd?define(["socket.io-client"],ko):(Yd=typeof globalThis<"u"?globalThis:Yd||self,ko(Yd.io))})(this,function(Yd){"use strict";$(function(){frappe.realtime.on("toconsole",function(e){e.forEach(t=>{console.log(t)})})});/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ko(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wn=process.env.NODE_ENV!=="production"?Object.freeze({}):{},Dc=process.env.NODE_ENV!=="production"?Object.freeze([]):[],ar=()=>{},YT=()=>!1,Kd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Nm=e=>e.startsWith("onUpdate:"),Sa=Object.assign,rp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},KT=Object.prototype.hasOwnProperty,Vn=(e,t)=>KT.call(e,t),Gt=Array.isArray,du=e=>Bm(e)==="[object Map]",Hb=e=>Bm(e)==="[object Set]",Xt=e=>typeof e=="function",oa=e=>typeof e=="string",ws=e=>typeof e=="symbol",Ln=e=>e!==null&&typeof e=="object",op=e=>(Ln(e)||Xt(e))&&Xt(e.then)&&Xt(e.catch),Wb=Object.prototype.toString,Bm=e=>Wb.call(e),ip=e=>Bm(e).slice(8,-1),zb=e=>Bm(e)==="[object Object]",sp=e=>oa(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gd=ko(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),GT=ko("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),$m=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},QT=/-(\w)/g,mr=$m(e=>e.replace(QT,(t,n)=>n?n.toUpperCase():"")),XT=/\B([A-Z])/g,ks=$m(e=>e.replace(XT,"-$1").toLowerCase()),So=$m(e=>e.charAt(0).toUpperCase()+e.slice(1)),fu=$m(e=>e?`on${So(e)}`:""),hl=(e,t)=>!Object.is(e,t),Tc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Qd=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},lp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},JT=e=>{const t=oa(e)?Number(e):NaN;return isNaN(t)?e:t};let jb;const Xd=()=>jb||(jb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vt(e){if(Gt(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],r=oa(a)?nV(a):vt(a);if(r)for(const o in r)t[o]=r[o]}return t}else if(oa(e)||Ln(e))return e}const ZT=/;(?![^(]*\))/g,eV=/:([^]+)/,tV=/\/\*[^]*?\*\//g;function nV(e){const t={};return e.replace(tV,"").split(ZT).forEach(n=>{if(n){const a=n.split(eV);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ye(e){let t="";if(oa(e))t=e;else if(Gt(e))for(let n=0;n<e.length;n++){const a=Ye(e[n]);a&&(t+=a+" ")}else if(Ln(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Da(e){if(!e)return null;let{class:t,style:n}=e;return t&&!oa(t)&&(e.class=Ye(t)),n&&(e.style=vt(n)),e}const aV="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",rV="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",oV="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",iV=ko(aV),sV=ko(rV),lV=ko(oV),uV=ko("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Yb(e){return!!e||e===""}const Kb=e=>!!(e&&e.__v_isRef===!0),ge=e=>oa(e)?e:e==null?"":Gt(e)||Ln(e)&&(e.toString===Wb||!Xt(e.toString))?Kb(e)?ge(e.value):JSON.stringify(e,Gb,2):String(e),Gb=(e,t)=>Kb(t)?Gb(e,t.value):du(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,r],o)=>(n[up(a,o)+" =>"]=r,n),{})}:Hb(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>up(n))}:ws(t)?up(t):Ln(t)&&!Gt(t)&&!zb(t)?String(t):t,up=(e,t="")=>{var n;return ws(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Lo(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Mr;class Qb{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mr,!t&&Mr&&(this.index=(Mr.scopes||(Mr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Mr;try{return Mr=this,t()}finally{Mr=n}}else process.env.NODE_ENV!=="production"&&Lo("cannot run an inactive effect scope.")}on(){++this._on===1&&(this.prevScope=Mr,Mr=this)}off(){this._on>0&&--this._on===0&&(Mr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(this.effects.length=0,n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Vc(e){return new Qb(e)}function cp(){return Mr}function Ba(e,t=!1){Mr?Mr.cleanups.push(e):process.env.NODE_ENV!=="production"&&!t&&Lo("onScopeDispose() is called when there is no active effect scope to be associated with.")}let zn;const dp=new WeakSet;class Xb{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mr&&Mr.active&&Mr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,dp.has(this)&&(dp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zb(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,r0(this),e0(this);const t=zn,n=si;zn=this,si=!0;try{return this.fn()}finally{process.env.NODE_ENV!=="production"&&zn!==this&&Lo("Active effect was not restored correctly - this is likely a Vue internal bug."),t0(this),zn=t,si=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)vp(t);this.deps=this.depsTail=void 0,r0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?dp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hp(this)&&this.run()}get dirty(){return hp(this)}}let Jb=0,Jd,Zd;function Zb(e,t=!1){if(e.flags|=8,t){e.next=Zd,Zd=e;return}e.next=Jd,Jd=e}function fp(){Jb++}function mp(){if(--Jb>0)return;if(Zd){let t=Zd;for(Zd=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Jd;){let t=Jd;for(Jd=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=n}}if(e)throw e}function e0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function t0(e){let t,n=e.depsTail,a=n;for(;a;){const r=a.prevDep;a.version===-1?(a===n&&(n=r),vp(a),cV(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=r}e.deps=t,e.depsTail=n}function hp(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(n0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function n0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ef)||(e.globalVersion=ef,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!hp(e))))return;e.flags|=2;const t=e.dep,n=zn,a=si;zn=e,si=!0;try{e0(e);const r=e.fn(e._value);(t.version===0||hl(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{zn=n,si=a,t0(e),e.flags&=-3}}function vp(e,t=!1){const{dep:n,prevSub:a,nextSub:r}=e;if(a&&(a.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=a,e.nextSub=void 0),process.env.NODE_ENV!=="production"&&n.subsHead===e&&(n.subsHead=r),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)vp(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function cV(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let si=!0;const a0=[];function li(){a0.push(si),si=!1}function ui(){const e=a0.pop();si=e===void 0?!0:e}function r0(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=zn;zn=void 0;try{t()}finally{zn=n}}}let ef=0;class dV{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Rm{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,process.env.NODE_ENV!=="production"&&(this.subsHead=void 0)}track(t){if(!zn||!si||zn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==zn)n=this.activeLink=new dV(zn,this),zn.deps?(n.prevDep=zn.depsTail,zn.depsTail.nextDep=n,zn.depsTail=n):zn.deps=zn.depsTail=n,o0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const a=n.nextDep;a.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=a),n.prevDep=zn.depsTail,n.nextDep=void 0,zn.depsTail.nextDep=n,zn.depsTail=n,zn.deps===n&&(zn.deps=a)}return process.env.NODE_ENV!=="production"&&zn.onTrack&&zn.onTrack(Sa({effect:zn},t)),n}trigger(t){this.version++,ef++,this.notify(t)}notify(t){fp();try{if(process.env.NODE_ENV!=="production")for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(Sa({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mp()}}}function o0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)o0(a)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),process.env.NODE_ENV!=="production"&&e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const Fm=new WeakMap,mu=Symbol(process.env.NODE_ENV!=="production"?"Object iterate":""),pp=Symbol(process.env.NODE_ENV!=="production"?"Map keys iterate":""),tf=Symbol(process.env.NODE_ENV!=="production"?"Array iterate":"");function rr(e,t,n){if(si&&zn){let a=Fm.get(e);a||Fm.set(e,a=new Map);let r=a.get(n);r||(a.set(n,r=new Rm),r.map=a,r.key=n),process.env.NODE_ENV!=="production"?r.track({target:e,type:t,key:n}):r.track()}}function Oi(e,t,n,a,r,o){const i=Fm.get(e);if(!i){ef++;return}const l=u=>{u&&(process.env.NODE_ENV!=="production"?u.trigger({target:e,type:t,key:n,newValue:a,oldValue:r,oldTarget:o}):u.trigger())};if(fp(),t==="clear")i.forEach(l);else{const u=Gt(e),f=u&&sp(n);if(u&&n==="length"){const d=Number(a);i.forEach((m,p)=>{(p==="length"||p===tf||!ws(p)&&p>=d)&&l(m)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),f&&l(i.get(tf)),t){case"add":u?f&&l(i.get("length")):(l(i.get(mu)),du(e)&&l(i.get(pp)));break;case"delete":u||(l(i.get(mu)),du(e)&&l(i.get(pp)));break;case"set":du(e)&&l(i.get(mu));break}}mp()}function fV(e,t){const n=Fm.get(e);return n&&n.get(t)}function Oc(e){const t=Wt(e);return t===e?t:(rr(t,"iterate",tf),Kr(e)?t:t.map(xr))}function Lm(e){return rr(e=Wt(e),"iterate",tf),e}const mV={__proto__:null,[Symbol.iterator](){return _p(this,Symbol.iterator,xr)},concat(...e){return Oc(this).concat(...e.map(t=>Gt(t)?Oc(t):t))},entries(){return _p(this,"entries",e=>(e[1]=xr(e[1]),e))},every(e,t){return Ss(this,"every",e,t,void 0,arguments)},filter(e,t){return Ss(this,"filter",e,t,n=>n.map(xr),arguments)},find(e,t){return Ss(this,"find",e,t,xr,arguments)},findIndex(e,t){return Ss(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ss(this,"findLast",e,t,xr,arguments)},findLastIndex(e,t){return Ss(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ss(this,"forEach",e,t,void 0,arguments)},includes(...e){return gp(this,"includes",e)},indexOf(...e){return gp(this,"indexOf",e)},join(e){return Oc(this).join(e)},lastIndexOf(...e){return gp(this,"lastIndexOf",e)},map(e,t){return Ss(this,"map",e,t,void 0,arguments)},pop(){return nf(this,"pop")},push(...e){return nf(this,"push",e)},reduce(e,...t){return i0(this,"reduce",e,t)},reduceRight(e,...t){return i0(this,"reduceRight",e,t)},shift(){return nf(this,"shift")},some(e,t){return Ss(this,"some",e,t,void 0,arguments)},splice(...e){return nf(this,"splice",e)},toReversed(){return Oc(this).toReversed()},toSorted(e){return Oc(this).toSorted(e)},toSpliced(...e){return Oc(this).toSpliced(...e)},unshift(...e){return nf(this,"unshift",e)},values(){return _p(this,"values",xr)}};function _p(e,t,n){const a=Lm(e),r=a[t]();return a!==e&&!Kr(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const hV=Array.prototype;function Ss(e,t,n,a,r,o){const i=Lm(e),l=i!==e&&!Kr(e),u=i[t];if(u!==hV[t]){const m=u.apply(e,o);return l?xr(m):m}let f=n;i!==e&&(l?f=function(m,p){return n.call(this,xr(m),p,e)}:n.length>2&&(f=function(m,p){return n.call(this,m,p,e)}));const d=u.call(i,f,a);return l&&r?r(d):d}function i0(e,t,n,a){const r=Lm(e);let o=n;return r!==e&&(Kr(e)?n.length>3&&(o=function(i,l,u){return n.call(this,i,l,u,e)}):o=function(i,l,u){return n.call(this,i,xr(l),u,e)}),r[t](o,...a)}function gp(e,t,n){const a=Wt(e);rr(a,"iterate",tf);const r=a[t](...n);return(r===-1||r===!1)&&af(n[0])?(n[0]=Wt(n[0]),a[t](...n)):r}function nf(e,t,n=[]){li(),fp();const a=Wt(e)[t].apply(e,n);return mp(),ui(),a}const vV=ko("__proto__,__v_isRef,__isVue"),s0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ws));function pV(e){ws(e)||(e=String(e));const t=Wt(this);return rr(t,"has",e),t.hasOwnProperty(e)}class l0{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,a){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return a===(r?o?v0:h0:o?m0:f0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const i=Gt(t);if(!r){let u;if(i&&(u=mV[n]))return u;if(n==="hasOwnProperty")return pV}const l=Reflect.get(t,n,na(t)?t:a);return(ws(n)?s0.has(n):vV(n))||(r||rr(t,"get",n),o)?l:na(l)?i&&sp(n)?l:l.value:Ln(l)?r?vl(l):Ta(l):l}}class u0 extends l0{constructor(t=!1){super(!1,t)}set(t,n,a,r){let o=t[n];if(!this._isShallow){const u=Ai(o);if(!Kr(a)&&!Ai(a)&&(o=Wt(o),a=Wt(a)),!Gt(t)&&na(o)&&!na(a))return u?!1:(o.value=a,!0)}const i=Gt(t)&&sp(n)?Number(n)<t.length:Vn(t,n),l=Reflect.set(t,n,a,na(t)?t:r);return t===Wt(r)&&(i?hl(a,o)&&Oi(t,"set",n,a,o):Oi(t,"add",n,a)),l}deleteProperty(t,n){const a=Vn(t,n),r=t[n],o=Reflect.deleteProperty(t,n);return o&&a&&Oi(t,"delete",n,void 0,r),o}has(t,n){const a=Reflect.has(t,n);return(!ws(n)||!s0.has(n))&&rr(t,"has",n),a}ownKeys(t){return rr(t,"iterate",Gt(t)?"length":mu),Reflect.ownKeys(t)}}class c0 extends l0{constructor(t=!1){super(!0,t)}set(t,n){return process.env.NODE_ENV!=="production"&&Lo(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return process.env.NODE_ENV!=="production"&&Lo(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const _V=new u0,gV=new c0,yV=new u0(!0),bV=new c0(!0),yp=e=>e,qm=e=>Reflect.getPrototypeOf(e);function wV(e,t,n){return function(...a){const r=this.__v_raw,o=Wt(r),i=du(o),l=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,f=r[e](...a),d=n?yp:t?zm:xr;return!t&&rr(o,"iterate",u?pp:mu),{next(){const{value:m,done:p}=f.next();return p?{value:m,done:p}:{value:l?[d(m[0]),d(m[1])]:d(m),done:p}},[Symbol.iterator](){return this}}}}function Um(e){return function(...t){if(process.env.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";Lo(`${So(e)} operation ${n}failed: target is readonly.`,Wt(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function kV(e,t){const n={get(r){const o=this.__v_raw,i=Wt(o),l=Wt(r);e||(hl(r,l)&&rr(i,"get",r),rr(i,"get",l));const{has:u}=qm(i),f=t?yp:e?zm:xr;if(u.call(i,r))return f(o.get(r));if(u.call(i,l))return f(o.get(l));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&rr(Wt(r),"iterate",mu),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,i=Wt(o),l=Wt(r);return e||(hl(r,l)&&rr(i,"has",r),rr(i,"has",l)),r===l?o.has(r):o.has(r)||o.has(l)},forEach(r,o){const i=this,l=i.__v_raw,u=Wt(l),f=t?yp:e?zm:xr;return!e&&rr(u,"iterate",mu),l.forEach((d,m)=>r.call(o,f(d),f(m),i))}};return Sa(n,e?{add:Um("add"),set:Um("set"),delete:Um("delete"),clear:Um("clear")}:{add(r){!t&&!Kr(r)&&!Ai(r)&&(r=Wt(r));const o=Wt(this);return qm(o).has.call(o,r)||(o.add(r),Oi(o,"add",r,r)),this},set(r,o){!t&&!Kr(o)&&!Ai(o)&&(o=Wt(o));const i=Wt(this),{has:l,get:u}=qm(i);let f=l.call(i,r);f?process.env.NODE_ENV!=="production"&&d0(i,l,r):(r=Wt(r),f=l.call(i,r));const d=u.call(i,r);return i.set(r,o),f?hl(o,d)&&Oi(i,"set",r,o,d):Oi(i,"add",r,o),this},delete(r){const o=Wt(this),{has:i,get:l}=qm(o);let u=i.call(o,r);u?process.env.NODE_ENV!=="production"&&d0(o,i,r):(r=Wt(r),u=i.call(o,r));const f=l?l.call(o,r):void 0,d=o.delete(r);return u&&Oi(o,"delete",r,void 0,f),d},clear(){const r=Wt(this),o=r.size!==0,i=process.env.NODE_ENV!=="production"?du(r)?new Map(r):new Set(r):void 0,l=r.clear();return o&&Oi(r,"clear",void 0,void 0,i),l}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=wV(r,e,t)}),n}function Hm(e,t){const n=kV(e,t);return(a,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?a:Reflect.get(Vn(n,r)&&r in a?n:a,r,o)}const SV={get:Hm(!1,!1)},CV={get:Hm(!1,!0)},xV={get:Hm(!0,!1)},PV={get:Hm(!0,!0)};function d0(e,t,n){const a=Wt(n);if(a!==n&&t.call(e,a)){const r=ip(e);Lo(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const f0=new WeakMap,m0=new WeakMap,h0=new WeakMap,v0=new WeakMap;function EV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DV(e){return e.__v_skip||!Object.isExtensible(e)?0:EV(ip(e))}function Ta(e){return Ai(e)?e:Wm(e,!1,_V,SV,f0)}function TV(e){return Wm(e,!1,yV,CV,m0)}function vl(e){return Wm(e,!0,gV,xV,h0)}function Ii(e){return Wm(e,!0,bV,PV,v0)}function Wm(e,t,n,a,r){if(!Ln(e))return process.env.NODE_ENV!=="production"&&Lo(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=DV(e);if(o===0)return e;const i=r.get(e);if(i)return i;const l=new Proxy(e,o===2?a:n);return r.set(e,l),l}function hu(e){return Ai(e)?hu(e.__v_raw):!!(e&&e.__v_isReactive)}function Ai(e){return!!(e&&e.__v_isReadonly)}function Kr(e){return!!(e&&e.__v_isShallow)}function af(e){return e?!!e.__v_raw:!1}function Wt(e){const t=e&&e.__v_raw;return t?Wt(t):e}function p0(e){return!Vn(e,"__v_skip")&&Object.isExtensible(e)&&Qd(e,"__v_skip",!0),e}const xr=e=>Ln(e)?Ta(e):e,zm=e=>Ln(e)?vl(e):e;function na(e){return e?e.__v_isRef===!0:!1}function Re(e){return _0(e,!1)}function gt(e){return _0(e,!0)}function _0(e,t){return na(e)?e:new VV(e,t)}class VV{constructor(t,n){this.dep=new Rm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Wt(t),this._value=n?t:xr(t),this.__v_isShallow=n}get value(){return process.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track(),this._value}set value(t){const n=this._rawValue,a=this.__v_isShallow||Kr(t)||Ai(t);t=a?t:Wt(t),hl(t,n)&&(this._rawValue=t,this._value=a?t:xr(t),process.env.NODE_ENV!=="production"?this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:n}):this.dep.trigger())}}function Pe(e){return na(e)?e.value:e}function Xa(e){return Xt(e)?e():Pe(e)}const OV={get:(e,t,n)=>t==="__v_raw"?e:Pe(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const r=e[t];return na(r)&&!na(n)?(r.value=n,!0):Reflect.set(e,t,n,a)}};function g0(e){return hu(e)?e:new Proxy(e,OV)}class IV{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Rm,{get:a,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=a,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function AV(e){return new IV(e)}function Ic(e){process.env.NODE_ENV!=="production"&&!af(e)&&Lo("toRefs() expects a reactive object but received a plain one.");const t=Gt(e)?new Array(e.length):{};for(const n in e)t[n]=y0(e,n);return t}class MV{constructor(t,n,a){this._object=t,this._key=n,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fV(Wt(this._object),this._key)}}class NV{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ke(e,t,n){return na(e)?e:Xt(e)?new NV(e):Ln(e)&&arguments.length>1?y0(e,t,n):Re(e)}function y0(e,t,n){const a=e[t];return na(a)?a:new MV(e,t,n)}class BV{constructor(t,n,a){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Rm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ef-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&zn!==this)return Zb(this,!0),!0;process.env.NODE_ENV}get value(){const t=process.env.NODE_ENV!=="production"?this.dep.track({target:this,type:"get",key:"value"}):this.dep.track();return n0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):process.env.NODE_ENV!=="production"&&Lo("Write operation failed: computed value is readonly")}}function $V(e,t,n=!1){let a,r;Xt(e)?a=e:(a=e.get,r=e.set);const o=new BV(a,r,n);return process.env.NODE_ENV,o}const jm={},Ym=new WeakMap;let vu;function RV(e,t=!1,n=vu){if(n){let a=Ym.get(n);a||Ym.set(n,a=[]),a.push(e)}else process.env.NODE_ENV!=="production"&&!t&&Lo("onWatcherCleanup() was called when there was no active watcher to associate with.")}function FV(e,t,n=Wn){const{immediate:a,deep:r,once:o,scheduler:i,augmentJob:l,call:u}=n,f=I=>{(n.onWarn||Lo)("Invalid watch source: ",I,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=I=>r?I:Kr(I)||r===!1||r===0?Cs(I,1):Cs(I);let m,p,y,b,C=!1,w=!1;if(na(e)?(p=()=>e.value,C=Kr(e)):hu(e)?(p=()=>d(e),C=!0):Gt(e)?(w=!0,C=e.some(I=>hu(I)||Kr(I)),p=()=>e.map(I=>{if(na(I))return I.value;if(hu(I))return d(I);if(Xt(I))return u?u(I,2):I();process.env.NODE_ENV!=="production"&&f(I)})):Xt(e)?t?p=u?()=>u(e,2):e:p=()=>{if(y){li();try{y()}finally{ui()}}const I=vu;vu=m;try{return u?u(e,3,[b]):e(b)}finally{vu=I}}:(p=ar,process.env.NODE_ENV!=="production"&&f(e)),t&&r){const I=p,R=r===!0?1/0:r;p=()=>Cs(I(),R)}const k=cp(),T=()=>{m.stop(),k&&k.active&&rp(k.effects,m)};if(o&&t){const I=t;t=(...R)=>{I(...R),T()}}let V=w?new Array(e.length).fill(jm):jm;const M=I=>{if(!(!(m.flags&1)||!m.dirty&&!I))if(t){const R=m.run();if(r||C||(w?R.some((W,q)=>hl(W,V[q])):hl(R,V))){y&&y();const W=vu;vu=m;try{const q=[R,V===jm?void 0:w&&V[0]===jm?[]:V,b];V=R,u?u(t,3,q):t(...q)}finally{vu=W}}}else m.run()};return l&&l(M),m=new Xb(p),m.scheduler=i?()=>i(M,!1):M,b=I=>RV(I,!1,m),y=m.onStop=()=>{const I=Ym.get(m);if(I){if(u)u(I,4);else for(const R of I)R();Ym.delete(m)}},process.env.NODE_ENV!=="production"&&(m.onTrack=n.onTrack,m.onTrigger=n.onTrigger),t?a?M(!0):V=m.run():i?i(M.bind(null,!0),!0):m.run(),T.pause=m.pause.bind(m),T.resume=m.resume.bind(m),T.stop=T,T}function Cs(e,t=1/0,n){if(t<=0||!Ln(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,na(e))Cs(e.value,t,n);else if(Gt(e))for(let a=0;a<e.length;a++)Cs(e[a],t,n);else if(Hb(e)||du(e))e.forEach(a=>{Cs(a,t,n)});else if(zb(e)){for(const a in e)Cs(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&Cs(e[a],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pu=[];function Km(e){pu.push(e)}function Gm(){pu.pop()}let bp=!1;function Tt(e,...t){if(bp)return;bp=!0,li();const n=pu.length?pu[pu.length-1].component:null,a=n&&n.appContext.config.warnHandler,r=LV();if(a)Ac(a,n,11,[e+t.map(o=>{var i,l;return(l=(i=o.toString)==null?void 0:i.call(o))!=null?l:JSON.stringify(o)}).join(""),n&&n.proxy,r.map(({vnode:o})=>`at <${mh(n,o.type)}>`).join(`
`),r]);else{const o=[`[Vue warn]: ${e}`,...t];r.length&&o.push(`
`,...qV(r)),console.warn(...o)}ui(),bp=!1}function LV(){let e=pu[pu.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function qV(e){const t=[];return e.forEach((n,a)=>{t.push(...a===0?[]:[`
`],...UV(n))}),t}function UV({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,r=` at <${mh(e.component,e.type,a)}`,o=">"+n;return e.props?[r,...HV(e.props),o]:[r+o]}function HV(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(a=>{t.push(...b0(a,e[a]))}),n.length>3&&t.push(" ..."),t}function b0(e,t,n){return oa(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:na(t)?(t=b0(e,Wt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Xt(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Wt(t),n?t:[`${e}=`,t])}function WV(e,t){process.env.NODE_ENV!=="production"&&e!==void 0&&(typeof e!="number"?Tt(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&Tt(`${t} is NaN - the duration expression might be incorrect.`))}const wp={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ac(e,t,n,a){try{return a?e(...a):e()}catch(r){rf(r,t,n)}}function ci(e,t,n,a){if(Xt(e)){const r=Ac(e,t,n,a);return r&&op(r)&&r.catch(o=>{rf(o,t,n)}),r}if(Gt(e)){const r=[];for(let o=0;o<e.length;o++)r.push(ci(e[o],t,n,a));return r}else process.env.NODE_ENV!=="production"&&Tt(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function rf(e,t,n,a=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Wn;if(t){let l=t.parent;const u=t.proxy,f=process.env.NODE_ENV!=="production"?wp[n]:`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,f)===!1)return}l=l.parent}if(o){li(),Ac(o,null,10,[e,u,f]),ui();return}}zV(e,n,r,a,i)}function zV(e,t,n,a=!0,r=!1){if(process.env.NODE_ENV!=="production"){const o=wp[t];if(n&&Km(n),Tt(`Unhandled error${o?` during execution of ${o}`:""}`),n&&Gm(),a)throw e;console.error(e)}else{if(r)throw e;console.error(e)}}const Gr=[];let Mi=-1;const Mc=[];let pl=null,Nc=0;const w0=Promise.resolve();let Qm=null;const jV=100;function Qt(e){const t=Qm||w0;return e?t.then(this?e.bind(this):e):t}function YV(e){let t=Mi+1,n=Gr.length;for(;t<n;){const a=t+n>>>1,r=Gr[a],o=of(r);o<e||o===e&&r.flags&2?t=a+1:n=a}return t}function Xm(e){if(!(e.flags&1)){const t=of(e),n=Gr[Gr.length-1];!n||!(e.flags&2)&&t>=of(n)?Gr.push(e):Gr.splice(YV(t),0,e),e.flags|=1,k0()}}function k0(){Qm||(Qm=w0.then(P0))}function S0(e){Gt(e)?Mc.push(...e):pl&&e.id===-1?pl.splice(Nc+1,0,e):e.flags&1||(Mc.push(e),e.flags|=1),k0()}function C0(e,t,n=Mi+1){for(process.env.NODE_ENV!=="production"&&(t=t||new Map);n<Gr.length;n++){const a=Gr[n];if(a&&a.flags&2){if(e&&a.id!==e.uid||process.env.NODE_ENV!=="production"&&kp(t,a))continue;Gr.splice(n,1),n--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function x0(e){if(Mc.length){const t=[...new Set(Mc)].sort((n,a)=>of(n)-of(a));if(Mc.length=0,pl){pl.push(...t);return}for(pl=t,process.env.NODE_ENV!=="production"&&(e=e||new Map),Nc=0;Nc<pl.length;Nc++){const n=pl[Nc];process.env.NODE_ENV!=="production"&&kp(e,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}pl=null,Nc=0}}const of=e=>e.id==null?e.flags&2?-1:1/0:e.id;function P0(e){process.env.NODE_ENV!=="production"&&(e=e||new Map);const t=process.env.NODE_ENV!=="production"?n=>kp(e,n):ar;try{for(Mi=0;Mi<Gr.length;Mi++){const n=Gr[Mi];if(n&&!(n.flags&8)){if(process.env.NODE_ENV!=="production"&&t(n))continue;n.flags&4&&(n.flags&=-2),Ac(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;Mi<Gr.length;Mi++){const n=Gr[Mi];n&&(n.flags&=-2)}Mi=-1,Gr.length=0,x0(e),Qm=null,(Gr.length||Mc.length)&&P0(e)}}function kp(e,t){const n=e.get(t)||0;if(n>jV){const a=t.i,r=a&&Gp(a.type);return rf(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,n+1),!1}let di=!1;const Jm=new Map;process.env.NODE_ENV!=="production"&&(Xd().__VUE_HMR_RUNTIME__={createRecord:Sp(E0),rerender:Sp(QV),reload:Sp(XV)});const _u=new Map;function KV(e){const t=e.type.__hmrId;let n=_u.get(t);n||(E0(t,e.type),n=_u.get(t)),n.instances.add(e)}function GV(e){_u.get(e.type.__hmrId).instances.delete(e)}function E0(e,t){return _u.has(e)?!1:(_u.set(e,{initialDef:Zm(t),instances:new Set}),!0)}function Zm(e){return Uw(e)?e.__vccOpts:e}function QV(e,t){const n=_u.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(a=>{t&&(a.render=t,Zm(a.type).render=t),a.renderCache=[],di=!0,a.update(),di=!1}))}function XV(e,t){const n=_u.get(e);if(!n)return;t=Zm(t),D0(n.initialDef,t);const a=[...n.instances];for(let r=0;r<a.length;r++){const o=a[r],i=Zm(o.type);let l=Jm.get(i);l||(i!==n.initialDef&&D0(i,t),Jm.set(i,l=new Set)),l.add(o),o.appContext.propsCache.delete(o.type),o.appContext.emitsCache.delete(o.type),o.appContext.optionsCache.delete(o.type),o.ceReload?(l.add(o),o.ceReload(t.styles),l.delete(o)):o.parent?Xm(()=>{di=!0,o.parent.update(),di=!1,l.delete(o)}):o.appContext.reload?o.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),o.root.ce&&o!==o.root&&o.root.ce._removeChildStyle(i)}S0(()=>{Jm.clear()})}function D0(e,t){Sa(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Sp(e){return(t,n)=>{try{return e(t,n)}catch(a){console.error(a),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let fi,sf=[],Cp=!1;function lf(e,...t){fi?fi.emit(e,...t):Cp||sf.push({event:e,args:t})}function xp(e,t){var n,a;fi=e,fi?(fi.enabled=!0,sf.forEach(({event:r,args:o})=>fi.emit(r,...o)),sf=[]):typeof window<"u"&&window.HTMLElement&&!((a=(n=window.navigator)==null?void 0:n.userAgent)!=null&&a.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{xp(o,t)}),setTimeout(()=>{fi||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Cp=!0,sf=[])},3e3)):(Cp=!0,sf=[])}function JV(e,t){lf("app:init",e,t,{Fragment:ft,Text:xu,Comment:Oa,Static:uh})}function ZV(e){lf("app:unmount",e)}const eO=Pp("component:added"),T0=Pp("component:updated"),tO=Pp("component:removed"),nO=e=>{fi&&typeof fi.cleanupBuffer=="function"&&!fi.cleanupBuffer(e)&&tO(e)};/*! #__NO_SIDE_EFFECTS__ */function Pp(e){return t=>{lf(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const aO=V0("perf:start"),rO=V0("perf:end");function V0(e){return(t,n,a)=>{lf(e,t.appContext.app,t.uid,t,n,a)}}function oO(e,t,n){lf("component:emit",e.appContext.app,e,t,n)}let Va=null,O0=null;function eh(e){const t=Va;return Va=e,O0=e&&e.type.__scopeId||null,t}function E(e,t=Va,n){if(!t||e._n)return e;const a=(...r)=>{a._d&&Ow(-1);const o=eh(t);let i;try{i=e(...r)}finally{eh(o),a._d&&Ow(1)}return process.env.NODE_ENV!=="production"&&T0(t),i};return a._n=!0,a._c=!0,a._d=!0,a}function I0(e){GT(e)&&Tt("Do not use built-in directive ids as custom directive id: "+e)}function Sn(e,t){if(Va===null)return process.env.NODE_ENV!=="production"&&Tt("withDirectives can only be used inside render functions."),e;const n=fh(Va),a=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,l,u=Wn]=t[r];o&&(Xt(o)&&(o={mounted:o,updated:o}),o.deep&&Cs(i),a.push({dir:o,instance:n,value:i,oldValue:void 0,arg:l,modifiers:u}))}return e}function gu(e,t,n,a){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];o&&(l.oldValue=o[i].value);let u=l.dir[a];u&&(li(),ci(u,n,8,[e.el,l,e,t]),ui())}}const A0=Symbol("_vte"),M0=e=>e.__isTeleport,yu=e=>e&&(e.disabled||e.disabled===""),N0=e=>e&&(e.defer||e.defer===""),B0=e=>typeof SVGElement<"u"&&e instanceof SVGElement,$0=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ep=(e,t)=>{const n=e&&e.to;if(oa(n))if(t){const a=t(n);return process.env.NODE_ENV!=="production"&&!a&&!yu(e)&&Tt(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),a}else return process.env.NODE_ENV!=="production"&&Tt("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return process.env.NODE_ENV!=="production"&&!n&&!yu(e)&&Tt(`Invalid Teleport target: ${n}`),n},R0={name:"Teleport",__isTeleport:!0,process(e,t,n,a,r,o,i,l,u,f){const{mc:d,pc:m,pbc:p,o:{insert:y,querySelector:b,createText:C,createComment:w}}=f,k=yu(t.props);let{shapeFlag:T,children:V,dynamicChildren:M}=t;if(process.env.NODE_ENV!=="production"&&di&&(u=!1,M=null),e==null){const I=t.el=process.env.NODE_ENV!=="production"?w("teleport start"):C(""),R=t.anchor=process.env.NODE_ENV!=="production"?w("teleport end"):C("");y(I,n,a),y(R,n,a);const W=(z,Y)=>{T&16&&(r&&r.isCE&&(r.ce._teleportTarget=z),d(V,z,Y,r,o,i,l,u))},q=()=>{const z=t.target=Ep(t.props,b),Y=L0(z,t,C,y);z?(i!=="svg"&&B0(z)?i="svg":i!=="mathml"&&$0(z)&&(i="mathml"),k||(W(z,Y),nh(t,!1))):process.env.NODE_ENV!=="production"&&!k&&Tt("Invalid Teleport target on mount:",z,`(${typeof z})`)};k&&(W(n,R),nh(t,!0)),N0(t.props)?(t.el.__isMounted=!1,Jr(()=>{q(),delete t.el.__isMounted},o)):q()}else{if(N0(t.props)&&e.el.__isMounted===!1){Jr(()=>{R0.process(e,t,n,a,r,o,i,l,u,f)},o);return}t.el=e.el,t.targetStart=e.targetStart;const I=t.anchor=e.anchor,R=t.target=e.target,W=t.targetAnchor=e.targetAnchor,q=yu(e.props),z=q?n:R,Y=q?I:W;if(i==="svg"||B0(R)?i="svg":(i==="mathml"||$0(R))&&(i="mathml"),M?(p(e.dynamicChildren,M,z,r,o,i,l),hf(e,t,process.env.NODE_ENV==="production")):u||m(e,t,z,Y,r,o,i,l,!1),k)q?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):th(t,n,I,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=Ep(t.props,b);K?th(t,K,null,f,0):process.env.NODE_ENV!=="production"&&Tt("Invalid Teleport target on update:",R,`(${typeof R})`)}else q&&th(t,R,W,f,1);nh(t,k)}},remove(e,t,n,{um:a,o:{remove:r}},o){const{shapeFlag:i,children:l,anchor:u,targetStart:f,targetAnchor:d,target:m,props:p}=e;if(m&&(r(f),r(d)),o&&r(u),i&16){const y=o||!yu(p);for(let b=0;b<l.length;b++){const C=l[b];a(C,t,n,y,!!C.dynamicChildren)}}},move:th,hydrate:iO};function th(e,t,n,{o:{insert:a},m:r},o=2){o===0&&a(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:u,children:f,props:d}=e,m=o===2;if(m&&a(i,t,n),(!m||yu(d))&&u&16)for(let p=0;p<f.length;p++)r(f[p],t,n,2);m&&a(l,t,n)}function iO(e,t,n,a,r,o,{o:{nextSibling:i,parentNode:l,querySelector:u,insert:f,createText:d}},m){const p=t.target=Ep(t.props,u);if(p){const y=yu(t.props),b=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=m(i(e),t,l(e),n,a,r,o),t.targetStart=b,t.targetAnchor=b&&i(b);else{t.anchor=i(e);let C=b;for(;C;){if(C&&C.nodeType===8){if(C.data==="teleport start anchor")t.targetStart=C;else if(C.data==="teleport anchor"){t.targetAnchor=C,p._lpa=t.targetAnchor&&i(t.targetAnchor);break}}C=i(C)}t.targetAnchor||L0(p,t,d,f),m(b&&i(b),t,p,n,a,r,o)}nh(t,y)}return t.anchor&&i(t.anchor)}const F0=R0;function nh(e,t){const n=e.ctx;if(n&&n.ut){let a,r;for(t?(a=e.el,r=e.anchor):(a=e.targetStart,r=e.targetAnchor);a&&a!==r;)a.nodeType===1&&a.setAttribute("data-v-owner",n.uid),a=a.nextSibling;n.ut()}}function L0(e,t,n,a){const r=t.targetStart=n(""),o=t.targetAnchor=n("");return r[A0]=o,e&&(a(r,e),a(o,e)),o}const _l=Symbol("_leaveCb"),ah=Symbol("_enterCb");function q0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yn(()=>{e.isMounted=!0}),hr(()=>{e.isUnmounting=!0}),e}const qo=[Function,Array],U0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qo,onEnter:qo,onAfterEnter:qo,onEnterCancelled:qo,onBeforeLeave:qo,onLeave:qo,onAfterLeave:qo,onLeaveCancelled:qo,onBeforeAppear:qo,onAppear:qo,onAfterAppear:qo,onAppearCancelled:qo},H0=e=>{const t=e.subTree;return t.component?H0(t.component):t},sO={name:"BaseTransition",props:U0,setup(e,{slots:t}){const n=$i(),a=q0();return()=>{const r=t.default&&Tp(t.default(),!0);if(!r||!r.length)return;const o=W0(r),i=Wt(e),{mode:l}=i;if(process.env.NODE_ENV!=="production"&&l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&Tt(`invalid <transition> mode: ${l}`),a.isLeaving)return Dp(o);const u=j0(o);if(!u)return Dp(o);let f=uf(u,i,a,n,m=>f=m);u.type!==Oa&&bu(u,f);let d=n.subTree&&j0(n.subTree);if(d&&d.type!==Oa&&!Pu(u,d)&&H0(n).type!==Oa){let m=uf(d,i,a,n);if(bu(d,m),l==="out-in"&&u.type!==Oa)return a.isLeaving=!0,m.afterLeave=()=>{a.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,d=void 0},Dp(o);l==="in-out"&&u.type!==Oa?m.delayLeave=(p,y,b)=>{const C=z0(a,d);C[String(d.key)]=d,p[_l]=()=>{y(),p[_l]=void 0,delete f.delayedLeave,d=void 0},f.delayedLeave=()=>{b(),delete f.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function W0(e){let t=e[0];if(e.length>1){let n=!1;for(const a of e)if(a.type!==Oa){if(process.env.NODE_ENV!=="production"&&n){Tt("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}if(t=a,n=!0,process.env.NODE_ENV==="production")break}}return t}const lO=sO;function z0(e,t){const{leavingVNodes:n}=e;let a=n.get(t.type);return a||(a=Object.create(null),n.set(t.type,a)),a}function uf(e,t,n,a,r){const{appear:o,mode:i,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:p,onLeave:y,onAfterLeave:b,onLeaveCancelled:C,onBeforeAppear:w,onAppear:k,onAfterAppear:T,onAppearCancelled:V}=t,M=String(e.key),I=z0(n,e),R=(z,Y)=>{z&&ci(z,a,9,Y)},W=(z,Y)=>{const K=Y[1];R(z,Y),Gt(z)?z.every(ae=>ae.length<=1)&&K():z.length<=1&&K()},q={mode:i,persisted:l,beforeEnter(z){let Y=u;if(!n.isMounted)if(o)Y=w||u;else return;z[_l]&&z[_l](!0);const K=I[M];K&&Pu(e,K)&&K.el[_l]&&K.el[_l](),R(Y,[z])},enter(z){let Y=f,K=d,ae=m;if(!n.isMounted)if(o)Y=k||f,K=T||d,ae=V||m;else return;let te=!1;const J=z[ah]=ne=>{te||(te=!0,ne?R(ae,[z]):R(K,[z]),q.delayedLeave&&q.delayedLeave(),z[ah]=void 0)};Y?W(Y,[z,J]):J()},leave(z,Y){const K=String(e.key);if(z[ah]&&z[ah](!0),n.isUnmounting)return Y();R(p,[z]);let ae=!1;const te=z[_l]=J=>{ae||(ae=!0,Y(),J?R(C,[z]):R(b,[z]),z[_l]=void 0,I[K]===e&&delete I[K])};I[K]=e,y?W(y,[z,te]):te()},clone(z){const Y=uf(z,t,n,a,r);return r&&r(Y),Y}};return q}function Dp(e){if(df(e))return e=mi(e),e.children=null,e}function j0(e){if(!df(e))return M0(e.type)&&e.children?W0(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Xt(n.default))return n.default()}}function bu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,bu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Tp(e,t=!1,n){let a=[],r=0;for(let o=0;o<e.length;o++){let i=e[o];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===ft?(i.patchFlag&128&&r++,a=a.concat(Tp(i.children,t,l))):(t||i.type!==Oa)&&a.push(l!=null?mi(i,{key:l}):i)}if(r>1)for(let o=0;o<a.length;o++)a[o].patchFlag=-2;return a}/*! #__NO_SIDE_EFFECTS__ */function or(e,t){return Xt(e)?Sa({name:e.name},t,{setup:e}):e}function Qr(){const e=$i();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:(process.env.NODE_ENV!=="production"&&Tt("useId() is called when there is no active component instance to be associated with."),"")}function Y0(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const uO=new WeakSet;function cf(e,t,n,a,r=!1){if(Gt(e)){e.forEach((b,C)=>cf(b,t&&(Gt(t)?t[C]:t),n,a,r));return}if(Bc(a)&&!r){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&cf(e,t,n,a.component.subTree);return}const o=a.shapeFlag&4?fh(a.component):a.el,i=r?null:o,{i:l,r:u}=e;if(process.env.NODE_ENV!=="production"&&!l){Tt("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const f=t&&t.r,d=l.refs===Wn?l.refs={}:l.refs,m=l.setupState,p=Wt(m),y=m===Wn?()=>!1:b=>process.env.NODE_ENV!=="production"&&(Vn(p,b)&&!na(p[b])&&Tt(`Template ref "${b}" used on a non-ref value. It will not work in the production build.`),uO.has(p[b]))?!1:Vn(p,b);if(f!=null&&f!==u&&(oa(f)?(d[f]=null,y(f)&&(m[f]=null)):na(f)&&(f.value=null)),Xt(u))Ac(u,l,12,[i,d]);else{const b=oa(u),C=na(u);if(b||C){const w=()=>{if(e.f){const k=b?y(u)?m[u]:d[u]:u.value;r?Gt(k)&&rp(k,o):Gt(k)?k.includes(o)||k.push(o):b?(d[u]=[o],y(u)&&(m[u]=d[u])):(u.value=[o],e.k&&(d[e.k]=u.value))}else b?(d[u]=i,y(u)&&(m[u]=i)):C?(u.value=i,e.k&&(d[e.k]=i)):process.env.NODE_ENV!=="production"&&Tt("Invalid template ref type:",u,`(${typeof u})`)};i?(w.id=-1,Jr(w,n)):w()}else process.env.NODE_ENV!=="production"&&Tt("Invalid template ref type:",u,`(${typeof u})`)}}Xd().requestIdleCallback,Xd().cancelIdleCallback;const Bc=e=>!!e.type.__asyncLoader,df=e=>e.type.__isKeepAlive;function K0(e,t){G0(e,"a",t)}function Vp(e,t){G0(e,"da",t)}function G0(e,t,n=Ja){const a=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(rh(t,a,n),n){let r=n.parent;for(;r&&r.parent;)df(r.parent.vnode)&&cO(a,t,n,r),r=r.parent}}function cO(e,t,n,a){const r=rh(t,e,a,!0);Ni(()=>{rp(a[t],r)},n)}function rh(e,t,n=Ja,a=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{li();const l=_f(n),u=ci(t,n,e,i);return l(),ui(),u});return a?r.unshift(o):r.push(o),o}else if(process.env.NODE_ENV!=="production"){const r=fu(wp[e].replace(/ hook$/,""));Tt(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const xs=e=>(t,n=Ja)=>{(!gf||e==="sp")&&rh(e,(...a)=>t(...a),n)},$c=xs("bm"),yn=xs("m"),Op=xs("bu"),Ip=xs("u"),hr=xs("bum"),Ni=xs("um"),dO=xs("sp"),fO=xs("rtg"),mO=xs("rtc");function hO(e,t=Ja){rh("ec",e,t)}const Q0="components";function ie(e,t){return J0(Q0,e,!0,t)||e}const X0=Symbol.for("v-ndc");function Rc(e){return oa(e)?J0(Q0,e,!1)||e:e||X0}function J0(e,t,n=!0,a=!1){const r=Va||Ja;if(r){const o=r.type;{const l=Gp(o,!1);if(l&&(l===t||l===mr(t)||l===So(mr(t))))return o}const i=Z0(r[e]||o[e],t)||Z0(r.appContext[e],t);return!i&&a?o:(process.env.NODE_ENV!=="production"&&n&&!i&&Tt(`Failed to resolve ${e.slice(0,-1)}: ${t}
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`),i)}else process.env.NODE_ENV!=="production"&&Tt(`resolve${So(e.slice(0,-1))} can only be used in render() or setup().`)}function Z0(e,t){return e&&(e[t]||e[mr(t)]||e[So(mr(t))])}function En(e,t,n,a){let r;const o=n,i=Gt(e);if(i||oa(e)){const l=i&&hu(e);let u=!1,f=!1;l&&(u=!Kr(e),f=Ai(e),e=Lm(e)),r=new Array(e.length);for(let d=0,m=e.length;d<m;d++)r[d]=t(u?f?zm(xr(e[d])):xr(e[d]):e[d],d,void 0,o)}else if(typeof e=="number"){process.env.NODE_ENV!=="production"&&!Number.isInteger(e)&&Tt(`The v-for range expect an integer value but got ${e}.`),r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,o)}else if(Ln(e))if(e[Symbol.iterator])r=Array.from(e,(l,u)=>t(l,u,void 0,o));else{const l=Object.keys(e);r=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const d=l[u];r[u]=t(e[d],d,u,o)}}else r=[];return r}function Pr(e,t){for(let n=0;n<t.length;n++){const a=t[n];if(Gt(a))for(let r=0;r<a.length;r++)e[a[r].name]=a[r].fn;else a&&(e[a.name]=a.key?(...r)=>{const o=a.fn(...r);return o&&(o.key=a.key),o}:a.fn)}return e}function qt(e,t,n={},a,r){if(Va.ce||Va.parent&&Bc(Va.parent)&&Va.parent.ce)return t!=="default"&&(n.name=t),de(),lt(ft,null,[h("slot",n,a)],64);let o=e[t];process.env.NODE_ENV!=="production"&&o&&o.length>1&&(Tt("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),o=()=>[]),o&&o._c&&(o._d=!1),de();const i=o&&ew(o(n)),l=n.key||i&&i.key,u=lt(ft,{key:(l&&!ws(l)?l:`_${t}`)+""},i||[],i&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function ew(e){return e.some(t=>yl(t)?!(t.type===Oa||t.type===ft&&!ew(t.children)):!0)?e:null}const Ap=e=>e?$w(e)?fh(e):Ap(e.parent):null,wu=Sa(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV!=="production"?Ii(e.props):e.props,$attrs:e=>process.env.NODE_ENV!=="production"?Ii(e.attrs):e.attrs,$slots:e=>process.env.NODE_ENV!=="production"?Ii(e.slots):e.slots,$refs:e=>process.env.NODE_ENV!=="production"?Ii(e.refs):e.refs,$parent:e=>Ap(e.parent),$root:e=>Ap(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>iw(e),$forceUpdate:e=>e.f||(e.f=()=>{Xm(e.update)}),$nextTick:e=>e.n||(e.n=Qt.bind(e.proxy)),$watch:e=>YO.bind(e)}),Mp=e=>e==="_"||e==="$",Np=(e,t)=>e!==Wn&&!e.__isScriptSetup&&Vn(e,t),tw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:a,data:r,props:o,accessCache:i,type:l,appContext:u}=e;if(process.env.NODE_ENV!=="production"&&t==="__isVue")return!0;let f;if(t[0]!=="$"){const y=i[t];if(y!==void 0)switch(y){case 1:return a[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Np(a,t))return i[t]=1,a[t];if(r!==Wn&&Vn(r,t))return i[t]=2,r[t];if((f=e.propsOptions[0])&&Vn(f,t))return i[t]=3,o[t];if(n!==Wn&&Vn(n,t))return i[t]=4,n[t];Bp&&(i[t]=0)}}const d=wu[t];let m,p;if(d)return t==="$attrs"?(rr(e.attrs,"get",""),process.env.NODE_ENV!=="production"&&lh()):process.env.NODE_ENV!=="production"&&t==="$slots"&&rr(e,"get",t),d(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==Wn&&Vn(n,t))return i[t]=4,n[t];if(p=u.config.globalProperties,Vn(p,t))return p[t];process.env.NODE_ENV!=="production"&&Va&&(!oa(t)||t.indexOf("__v")!==0)&&(r!==Wn&&Mp(t[0])&&Vn(r,t)?Tt(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Va&&Tt(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:a,setupState:r,ctx:o}=e;return Np(r,t)?(r[t]=n,!0):process.env.NODE_ENV!=="production"&&r.__isScriptSetup&&Vn(r,t)?(Tt(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):a!==Wn&&Vn(a,t)?(a[t]=n,!0):Vn(e.props,t)?(process.env.NODE_ENV!=="production"&&Tt(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(process.env.NODE_ENV!=="production"&&Tt(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(o,t,{enumerable:!0,configurable:!0,value:n}):o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:r,propsOptions:o}},i){let l;return!!n[i]||e!==Wn&&Vn(e,i)||Np(t,i)||(l=o[0])&&Vn(l,i)||Vn(a,i)||Vn(wu,i)||Vn(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Vn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!=="production"&&(tw.ownKeys=e=>(Tt("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function vO(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(wu).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>wu[n](e),set:ar})}),t}function pO(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(a=>{Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>e.props[a],set:ar})})}function _O(e){const{ctx:t,setupState:n}=e;Object.keys(Wt(n)).forEach(a=>{if(!n.__isScriptSetup){if(Mp(a[0])){Tt(`setup() return property ${JSON.stringify(a)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>n[a],set:ar})}})}function ku(){return nw().slots}function gO(){return nw().attrs}function nw(){const e=$i();return process.env.NODE_ENV!=="production"&&!e&&Tt("useContext() called without active instance."),e.setupContext||(e.setupContext=qw(e))}function aw(e){return Gt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function yO(){const e=Object.create(null);return(t,n)=>{e[n]?Tt(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Bp=!0;function bO(e){const t=iw(e),n=e.proxy,a=e.ctx;Bp=!1,t.beforeCreate&&rw(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:l,provide:u,inject:f,created:d,beforeMount:m,mounted:p,beforeUpdate:y,updated:b,activated:C,deactivated:w,beforeDestroy:k,beforeUnmount:T,destroyed:V,unmounted:M,render:I,renderTracked:R,renderTriggered:W,errorCaptured:q,serverPrefetch:z,expose:Y,inheritAttrs:K,components:ae,directives:te,filters:J}=t,ne=process.env.NODE_ENV!=="production"?yO():null;if(process.env.NODE_ENV!=="production"){const[pe]=e.propsOptions;if(pe)for(const Ee in pe)ne("Props",Ee)}if(f&&wO(f,a,ne),i)for(const pe in i){const Ee=i[pe];Xt(Ee)?(process.env.NODE_ENV!=="production"?Object.defineProperty(a,pe,{value:Ee.bind(n),configurable:!0,enumerable:!0,writable:!0}):a[pe]=Ee.bind(n),process.env.NODE_ENV!=="production"&&ne("Methods",pe)):process.env.NODE_ENV!=="production"&&Tt(`Method "${pe}" has type "${typeof Ee}" in the component definition. Did you reference the function correctly?`)}if(r){process.env.NODE_ENV!=="production"&&!Xt(r)&&Tt("The data option must be a function. Plain object usage is no longer supported.");const pe=r.call(n,n);if(process.env.NODE_ENV!=="production"&&op(pe)&&Tt("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Ln(pe))process.env.NODE_ENV!=="production"&&Tt("data() should return an object.");else if(e.data=Ta(pe),process.env.NODE_ENV!=="production")for(const Ee in pe)ne("Data",Ee),Mp(Ee[0])||Object.defineProperty(a,Ee,{configurable:!0,enumerable:!0,get:()=>pe[Ee],set:ar})}if(Bp=!0,o)for(const pe in o){const Ee=o[pe],me=Xt(Ee)?Ee.bind(n,n):Xt(Ee.get)?Ee.get.bind(n,n):ar;process.env.NODE_ENV!=="production"&&me===ar&&Tt(`Computed property "${pe}" has no getter.`);const fe=!Xt(Ee)&&Xt(Ee.set)?Ee.set.bind(n):process.env.NODE_ENV!=="production"?()=>{Tt(`Write operation failed: computed property "${pe}" is readonly.`)}:ar,le=N({get:me,set:fe});Object.defineProperty(a,pe,{enumerable:!0,configurable:!0,get:()=>le.value,set:Te=>le.value=Te}),process.env.NODE_ENV!=="production"&&ne("Computed",pe)}if(l)for(const pe in l)ow(l[pe],a,n,pe);if(u){const pe=Xt(u)?u.call(n):u;Reflect.ownKeys(pe).forEach(Ee=>{ia(Ee,pe[Ee])})}d&&rw(d,e,"c");function re(pe,Ee){Gt(Ee)?Ee.forEach(me=>pe(me.bind(n))):Ee&&pe(Ee.bind(n))}if(re($c,m),re(yn,p),re(Op,y),re(Ip,b),re(K0,C),re(Vp,w),re(hO,q),re(mO,R),re(fO,W),re(hr,T),re(Ni,M),re(dO,z),Gt(Y))if(Y.length){const pe=e.exposed||(e.exposed={});Y.forEach(Ee=>{Object.defineProperty(pe,Ee,{get:()=>n[Ee],set:me=>n[Ee]=me})})}else e.exposed||(e.exposed={});I&&e.render===ar&&(e.render=I),K!=null&&(e.inheritAttrs=K),ae&&(e.components=ae),te&&(e.directives=te),z&&Y0(e)}function wO(e,t,n=ar){Gt(e)&&(e=$p(e));for(const a in e){const r=e[a];let o;Ln(r)?"default"in r?o=un(r.from||a,r.default,!0):o=un(r.from||a):o=un(r),na(o)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[a]=o,process.env.NODE_ENV!=="production"&&n("Inject",a)}}function rw(e,t,n){ci(Gt(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function ow(e,t,n,a){let r=a.includes(".")?Cw(n,a):()=>n[a];if(oa(e)){const o=t[e];Xt(o)?_t(r,o):process.env.NODE_ENV!=="production"&&Tt(`Invalid watch handler specified by key "${e}"`,o)}else if(Xt(e))_t(r,e.bind(n));else if(Ln(e))if(Gt(e))e.forEach(o=>ow(o,t,n,a));else{const o=Xt(e.handler)?e.handler.bind(n):t[e.handler];Xt(o)?_t(r,o,e):process.env.NODE_ENV!=="production"&&Tt(`Invalid watch handler specified by key "${e.handler}"`,o)}else process.env.NODE_ENV!=="production"&&Tt(`Invalid watch option: "${a}"`,e)}function iw(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let u;return l?u=l:!r.length&&!n&&!a?u=t:(u={},r.length&&r.forEach(f=>oh(u,f,i,!0)),oh(u,t,i)),Ln(t)&&o.set(t,u),u}function oh(e,t,n,a=!1){const{mixins:r,extends:o}=t;o&&oh(e,o,n,!0),r&&r.forEach(i=>oh(e,i,n,!0));for(const i in t)if(a&&i==="expose")process.env.NODE_ENV!=="production"&&Tt('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=kO[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const kO={data:sw,props:lw,emits:lw,methods:ff,computed:ff,beforeCreate:Xr,created:Xr,beforeMount:Xr,mounted:Xr,beforeUpdate:Xr,updated:Xr,beforeDestroy:Xr,beforeUnmount:Xr,destroyed:Xr,unmounted:Xr,activated:Xr,deactivated:Xr,errorCaptured:Xr,serverPrefetch:Xr,components:ff,directives:ff,watch:CO,provide:sw,inject:SO};function sw(e,t){return t?e?function(){return Sa(Xt(e)?e.call(this,this):e,Xt(t)?t.call(this,this):t)}:t:e}function SO(e,t){return ff($p(e),$p(t))}function $p(e){if(Gt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xr(e,t){return e?[...new Set([].concat(e,t))]:t}function ff(e,t){return e?Sa(Object.create(null),e,t):t}function lw(e,t){return e?Gt(e)&&Gt(t)?[...new Set([...e,...t])]:Sa(Object.create(null),aw(e),aw(t??{})):t}function CO(e,t){if(!e)return t;if(!t)return e;const n=Sa(Object.create(null),e);for(const a in t)n[a]=Xr(e[a],t[a]);return n}function uw(){return{app:null,config:{isNativeTag:YT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xO=0;function PO(e,t){return function(a,r=null){Xt(a)||(a=Sa({},a)),r!=null&&!Ln(r)&&(process.env.NODE_ENV!=="production"&&Tt("root props passed to app.mount() must be an object."),r=null);const o=uw(),i=new WeakSet,l=[];let u=!1;const f=o.app={_uid:xO++,_component:a,_props:r,_container:null,_context:o,_instance:null,version:Hw,get config(){return o.config},set config(d){process.env.NODE_ENV!=="production"&&Tt("app.config cannot be replaced. Modify individual options instead.")},use(d,...m){return i.has(d)?process.env.NODE_ENV!=="production"&&Tt("Plugin has already been applied to target app."):d&&Xt(d.install)?(i.add(d),d.install(f,...m)):Xt(d)?(i.add(d),d(f,...m)):process.env.NODE_ENV!=="production"&&Tt('A plugin must either be a function or an object with an "install" function.'),f},mixin(d){return o.mixins.includes(d)?process.env.NODE_ENV!=="production"&&Tt("Mixin has already been applied to target app"+(d.name?`: ${d.name}`:"")):o.mixins.push(d),f},component(d,m){return process.env.NODE_ENV!=="production"&&Kp(d,o.config),m?(process.env.NODE_ENV!=="production"&&o.components[d]&&Tt(`Component "${d}" has already been registered in target app.`),o.components[d]=m,f):o.components[d]},directive(d,m){return process.env.NODE_ENV!=="production"&&I0(d),m?(process.env.NODE_ENV!=="production"&&o.directives[d]&&Tt(`Directive "${d}" has already been registered in target app.`),o.directives[d]=m,f):o.directives[d]},mount(d,m,p){if(u)process.env.NODE_ENV!=="production"&&Tt("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!=="production"&&d.__vue_app__&&Tt("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const y=f._ceVNode||h(a,r);return y.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),process.env.NODE_ENV!=="production"&&(o.reload=()=>{const b=mi(y);b.el=null,e(b,d,p)}),e(y,d,p),u=!0,f._container=d,d.__vue_app__=f,process.env.NODE_ENV!=="production"&&(f._instance=y.component,JV(f,Hw)),fh(y.component)}},onUnmount(d){process.env.NODE_ENV!=="production"&&typeof d!="function"&&Tt(`Expected function as first argument to app.onUnmount(), but got ${typeof d}`),l.push(d)},unmount(){u?(ci(l,f._instance,16),e(null,f._container),process.env.NODE_ENV!=="production"&&(f._instance=null,ZV(f)),delete f._container.__vue_app__):process.env.NODE_ENV!=="production"&&Tt("Cannot unmount an app that is not mounted.")},provide(d,m){return process.env.NODE_ENV!=="production"&&d in o.provides&&(Vn(o.provides,d)?Tt(`App already provides property with key "${String(d)}". It will be overwritten with the new value.`):Tt(`App already provides property with key "${String(d)}" inherited from its parent element. It will be overwritten with the new value.`)),o.provides[d]=m,f},runWithContext(d){const m=Su;Su=f;try{return d()}finally{Su=m}}};return f}}let Su=null;function ia(e,t){if(!Ja)process.env.NODE_ENV!=="production"&&Tt("provide() can only be used inside setup().");else{let n=Ja.provides;const a=Ja.parent&&Ja.parent.provides;a===n&&(n=Ja.provides=Object.create(a)),n[e]=t}}function un(e,t,n=!1){const a=Ja||Va;if(a||Su){let r=Su?Su._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Xt(t)?t.call(a&&a.proxy):t;process.env.NODE_ENV!=="production"&&Tt(`injection "${String(e)}" not found.`)}else process.env.NODE_ENV!=="production"&&Tt("inject() can only be used inside setup() or functional components.")}function cw(){return!!(Ja||Va||Su)}const dw={},fw=()=>Object.create(dw),mw=e=>Object.getPrototypeOf(e)===dw;function EO(e,t,n,a=!1){const r={},o=fw();e.propsDefaults=Object.create(null),hw(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);process.env.NODE_ENV!=="production"&&_w(t||{},r,e),n?e.props=a?r:TV(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function DO(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function TO(e,t,n,a){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,l=Wt(r),[u]=e.propsOptions;let f=!1;if(!(process.env.NODE_ENV!=="production"&&DO(e))&&(a||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let p=d[m];if(sh(e.emitsOptions,p))continue;const y=t[p];if(u)if(Vn(o,p))y!==o[p]&&(o[p]=y,f=!0);else{const b=mr(p);r[b]=Rp(u,l,b,y,e,!1)}else y!==o[p]&&(o[p]=y,f=!0)}}}else{hw(e,t,r,o)&&(f=!0);let d;for(const m in l)(!t||!Vn(t,m)&&((d=ks(m))===m||!Vn(t,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(r[m]=Rp(u,l,m,void 0,e,!0)):delete r[m]);if(o!==l)for(const m in o)(!t||!Vn(t,m))&&(delete o[m],f=!0)}f&&Oi(e.attrs,"set",""),process.env.NODE_ENV!=="production"&&_w(t||{},r,e)}function hw(e,t,n,a){const[r,o]=e.propsOptions;let i=!1,l;if(t)for(let u in t){if(Gd(u))continue;const f=t[u];let d;r&&Vn(r,d=mr(u))?!o||!o.includes(d)?n[d]=f:(l||(l={}))[d]=f:sh(e.emitsOptions,u)||(!(u in a)||f!==a[u])&&(a[u]=f,i=!0)}if(o){const u=Wt(n),f=l||Wn;for(let d=0;d<o.length;d++){const m=o[d];n[m]=Rp(r,u,m,f[m],e,!Vn(f,m))}}return i}function Rp(e,t,n,a,r,o){const i=e[n];if(i!=null){const l=Vn(i,"default");if(l&&a===void 0){const u=i.default;if(i.type!==Function&&!i.skipFactory&&Xt(u)){const{propsDefaults:f}=r;if(n in f)a=f[n];else{const d=_f(r);a=f[n]=u.call(null,t),d()}}else a=u;r.ce&&r.ce._setProp(n,a)}i[0]&&(o&&!l?a=!1:i[1]&&(a===""||a===ks(n))&&(a=!0))}return a}const VO=new WeakMap;function vw(e,t,n=!1){const a=n?VO:t.propsCache,r=a.get(e);if(r)return r;const o=e.props,i={},l=[];let u=!1;if(!Xt(e)){const d=m=>{u=!0;const[p,y]=vw(m,t,!0);Sa(i,p),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!u)return Ln(e)&&a.set(e,Dc),Dc;if(Gt(o))for(let d=0;d<o.length;d++){process.env.NODE_ENV!=="production"&&!oa(o[d])&&Tt("props must be strings when using array syntax.",o[d]);const m=mr(o[d]);pw(m)&&(i[m]=Wn)}else if(o){process.env.NODE_ENV!=="production"&&!Ln(o)&&Tt("invalid props options",o);for(const d in o){const m=mr(d);if(pw(m)){const p=o[d],y=i[m]=Gt(p)||Xt(p)?{type:p}:Sa({},p),b=y.type;let C=!1,w=!0;if(Gt(b))for(let k=0;k<b.length;++k){const T=b[k],V=Xt(T)&&T.name;if(V==="Boolean"){C=!0;break}else V==="String"&&(w=!1)}else C=Xt(b)&&b.name==="Boolean";y[0]=C,y[1]=w,(C||Vn(y,"default"))&&l.push(m)}}}const f=[i,l];return Ln(e)&&a.set(e,f),f}function pw(e){return e[0]!=="$"&&!Gd(e)?!0:(process.env.NODE_ENV!=="production"&&Tt(`Invalid prop name: "${e}" is a reserved property.`),!1)}function OO(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function _w(e,t,n){const a=Wt(t),r=n.propsOptions[0],o=Object.keys(e).map(i=>mr(i));for(const i in r){let l=r[i];l!=null&&IO(i,a[i],l,process.env.NODE_ENV!=="production"?Ii(a):a,!o.includes(i))}}function IO(e,t,n,a,r){const{type:o,required:i,validator:l,skipCheck:u}=n;if(i&&r){Tt('Missing required prop: "'+e+'"');return}if(!(t==null&&!i)){if(o!=null&&o!==!0&&!u){let f=!1;const d=Gt(o)?o:[o],m=[];for(let p=0;p<d.length&&!f;p++){const{valid:y,expectedType:b}=MO(t,d[p]);m.push(b||""),f=y}if(!f){Tt(NO(e,t,m));return}}l&&!l(t,a)&&Tt('Invalid prop: custom validator check failed for prop "'+e+'".')}}const AO=ko("String,Number,Boolean,Function,Symbol,BigInt");function MO(e,t){let n;const a=OO(t);if(a==="null")n=e===null;else if(AO(a)){const r=typeof e;n=r===a.toLowerCase(),!n&&r==="object"&&(n=e instanceof t)}else a==="Object"?n=Ln(e):a==="Array"?n=Gt(e):n=e instanceof t;return{valid:n,expectedType:a}}function NO(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let a=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(So).join(" | ")}`;const r=n[0],o=ip(t),i=gw(t,r),l=gw(t,o);return n.length===1&&yw(r)&&!BO(r,o)&&(a+=` with value ${i}`),a+=`, got ${o} `,yw(o)&&(a+=`with value ${l}.`),a}function gw(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function yw(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function BO(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Fp=e=>e[0]==="_"||e==="$stable",Lp=e=>Gt(e)?e.map(hi):[hi(e)],$O=(e,t,n)=>{if(t._n)return t;const a=E((...r)=>(process.env.NODE_ENV!=="production"&&Ja&&!(n===null&&Va)&&!(n&&n.root!==Ja.root)&&Tt(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Lp(t(...r))),n);return a._c=!1,a},bw=(e,t,n)=>{const a=e._ctx;for(const r in e){if(Fp(r))continue;const o=e[r];if(Xt(o))t[r]=$O(r,o,a);else if(o!=null){process.env.NODE_ENV!=="production"&&Tt(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const i=Lp(o);t[r]=()=>i}}},ww=(e,t)=>{process.env.NODE_ENV!=="production"&&!df(e.vnode)&&Tt("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Lp(t);e.slots.default=()=>n},qp=(e,t,n)=>{for(const a in t)(n||!Fp(a))&&(e[a]=t[a])},RO=(e,t,n)=>{const a=e.slots=fw();if(e.vnode.shapeFlag&32){const r=t.__;r&&Qd(a,"__",r,!0);const o=t._;o?(qp(a,t,n),n&&Qd(a,"_",o,!0)):bw(t,a)}else t&&ww(e,t)},FO=(e,t,n)=>{const{vnode:a,slots:r}=e;let o=!0,i=Wn;if(a.shapeFlag&32){const l=t._;l?process.env.NODE_ENV!=="production"&&di?(qp(r,t,n),Oi(e,"set","$slots")):n&&l===1?o=!1:qp(r,t,n):(o=!t.$stable,bw(t,r)),i=t}else t&&(ww(e,t),i={default:1});if(o)for(const l in r)!Fp(l)&&i[l]==null&&delete r[l]};let mf,gl;function Fc(e,t){e.appContext.config.performance&&ih()&&gl.mark(`vue-${t}-${e.uid}`),process.env.NODE_ENV!=="production"&&aO(e,t,ih()?gl.now():Date.now())}function Lc(e,t){if(e.appContext.config.performance&&ih()){const n=`vue-${t}-${e.uid}`,a=n+":end";gl.mark(a),gl.measure(`<${mh(e,e.type)}> ${t}`,n,a),gl.clearMarks(n),gl.clearMarks(a)}process.env.NODE_ENV!=="production"&&rO(e,t,ih()?gl.now():Date.now())}function ih(){return mf!==void 0||(typeof window<"u"&&window.performance?(mf=!0,gl=window.performance):mf=!1),mf}function LO(){const e=[];if(process.env.NODE_ENV!=="production"&&e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Jr=eI;function qO(e){return UO(e)}function UO(e,t){LO();const n=Xd();n.__VUE__=!0,process.env.NODE_ENV!=="production"&&xp(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:a,remove:r,patchProp:o,createElement:i,createText:l,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:p,setScopeId:y=ar,insertStaticContent:b}=e,C=(H,X,F,Ue=null,$e=null,He=null,ot=void 0,nt=null,st=process.env.NODE_ENV!=="production"&&di?!1:!!X.dynamicChildren)=>{if(H===X)return;H&&!Pu(H,X)&&(Ue=Ae(H),ue(H,$e,He,!0),H=null),X.patchFlag===-2&&(st=!1,X.dynamicChildren=null);const{type:ht,ref:Ve,shapeFlag:Je}=X;switch(ht){case xu:w(H,X,F,Ue);break;case Oa:k(H,X,F,Ue);break;case uh:H==null?T(X,F,Ue,ot):process.env.NODE_ENV!=="production"&&V(H,X,F,ot);break;case ft:te(H,X,F,Ue,$e,He,ot,nt,st);break;default:Je&1?R(H,X,F,Ue,$e,He,ot,nt,st):Je&6?J(H,X,F,Ue,$e,He,ot,nt,st):Je&64||Je&128?ht.process(H,X,F,Ue,$e,He,ot,nt,st,_e):process.env.NODE_ENV!=="production"&&Tt("Invalid VNode type:",ht,`(${typeof ht})`)}Ve!=null&&$e?cf(Ve,H&&H.ref,He,X||H,!X):Ve==null&&H&&H.ref!=null&&cf(H.ref,null,He,H,!0)},w=(H,X,F,Ue)=>{if(H==null)a(X.el=l(X.children),F,Ue);else{const $e=X.el=H.el;X.children!==H.children&&f($e,X.children)}},k=(H,X,F,Ue)=>{H==null?a(X.el=u(X.children||""),F,Ue):X.el=H.el},T=(H,X,F,Ue)=>{[H.el,H.anchor]=b(H.children,X,F,Ue,H.el,H.anchor)},V=(H,X,F,Ue)=>{if(X.children!==H.children){const $e=p(H.anchor);I(H),[X.el,X.anchor]=b(X.children,F,$e,Ue)}else X.el=H.el,X.anchor=H.anchor},M=({el:H,anchor:X},F,Ue)=>{let $e;for(;H&&H!==X;)$e=p(H),a(H,F,Ue),H=$e;a(X,F,Ue)},I=({el:H,anchor:X})=>{let F;for(;H&&H!==X;)F=p(H),r(H),H=F;r(X)},R=(H,X,F,Ue,$e,He,ot,nt,st)=>{X.type==="svg"?ot="svg":X.type==="math"&&(ot="mathml"),H==null?W(X,F,Ue,$e,He,ot,nt,st):Y(H,X,$e,He,ot,nt,st)},W=(H,X,F,Ue,$e,He,ot,nt)=>{let st,ht;const{props:Ve,shapeFlag:Je,transition:Pt,dirs:Bt}=H;if(st=H.el=i(H.type,He,Ve&&Ve.is,Ve),Je&8?d(st,H.children):Je&16&&z(H.children,st,null,Ue,$e,Up(H,He),ot,nt),Bt&&gu(H,null,Ue,"created"),q(st,H,H.scopeId,ot,Ue),Ve){for(const Dt in Ve)Dt!=="value"&&!Gd(Dt)&&o(st,Dt,null,Ve[Dt],He,Ue);"value"in Ve&&o(st,"value",null,Ve.value,He),(ht=Ve.onVnodeBeforeMount)&&Bi(ht,Ue,H)}process.env.NODE_ENV!=="production"&&(Qd(st,"__vnode",H,!0),Qd(st,"__vueParentComponent",Ue,!0)),Bt&&gu(H,null,Ue,"beforeMount");const jt=HO($e,Pt);jt&&Pt.beforeEnter(st),a(st,X,F),((ht=Ve&&Ve.onVnodeMounted)||jt||Bt)&&Jr(()=>{ht&&Bi(ht,Ue,H),jt&&Pt.enter(st),Bt&&gu(H,null,Ue,"mounted")},$e)},q=(H,X,F,Ue,$e)=>{if(F&&y(H,F),Ue)for(let He=0;He<Ue.length;He++)y(H,Ue[He]);if($e){let He=$e.subTree;if(process.env.NODE_ENV!=="production"&&He.patchFlag>0&&He.patchFlag&2048&&(He=zp(He.children)||He),X===He||Vw(He.type)&&(He.ssContent===X||He.ssFallback===X)){const ot=$e.vnode;q(H,ot,ot.scopeId,ot.slotScopeIds,$e.parent)}}},z=(H,X,F,Ue,$e,He,ot,nt,st=0)=>{for(let ht=st;ht<H.length;ht++){const Ve=H[ht]=nt?bl(H[ht]):hi(H[ht]);C(null,Ve,X,F,Ue,$e,He,ot,nt)}},Y=(H,X,F,Ue,$e,He,ot)=>{const nt=X.el=H.el;process.env.NODE_ENV!=="production"&&(nt.__vnode=X);let{patchFlag:st,dynamicChildren:ht,dirs:Ve}=X;st|=H.patchFlag&16;const Je=H.props||Wn,Pt=X.props||Wn;let Bt;if(F&&Cu(F,!1),(Bt=Pt.onVnodeBeforeUpdate)&&Bi(Bt,F,X,H),Ve&&gu(X,H,F,"beforeUpdate"),F&&Cu(F,!0),process.env.NODE_ENV!=="production"&&di&&(st=0,ot=!1,ht=null),(Je.innerHTML&&Pt.innerHTML==null||Je.textContent&&Pt.textContent==null)&&d(nt,""),ht?(K(H.dynamicChildren,ht,nt,F,Ue,Up(X,$e),He),process.env.NODE_ENV!=="production"&&hf(H,X)):ot||me(H,X,nt,null,F,Ue,Up(X,$e),He,!1),st>0){if(st&16)ae(nt,Je,Pt,F,$e);else if(st&2&&Je.class!==Pt.class&&o(nt,"class",null,Pt.class,$e),st&4&&o(nt,"style",Je.style,Pt.style,$e),st&8){const jt=X.dynamicProps;for(let Dt=0;Dt<jt.length;Dt++){const zt=jt[Dt],mn=Je[zt],$n=Pt[zt];($n!==mn||zt==="value")&&o(nt,zt,mn,$n,$e,F)}}st&1&&H.children!==X.children&&d(nt,X.children)}else!ot&&ht==null&&ae(nt,Je,Pt,F,$e);((Bt=Pt.onVnodeUpdated)||Ve)&&Jr(()=>{Bt&&Bi(Bt,F,X,H),Ve&&gu(X,H,F,"updated")},Ue)},K=(H,X,F,Ue,$e,He,ot)=>{for(let nt=0;nt<X.length;nt++){const st=H[nt],ht=X[nt],Ve=st.el&&(st.type===ft||!Pu(st,ht)||st.shapeFlag&198)?m(st.el):F;C(st,ht,Ve,null,Ue,$e,He,ot,!0)}},ae=(H,X,F,Ue,$e)=>{if(X!==F){if(X!==Wn)for(const He in X)!Gd(He)&&!(He in F)&&o(H,He,X[He],null,$e,Ue);for(const He in F){if(Gd(He))continue;const ot=F[He],nt=X[He];ot!==nt&&He!=="value"&&o(H,He,nt,ot,$e,Ue)}"value"in F&&o(H,"value",X.value,F.value,$e)}},te=(H,X,F,Ue,$e,He,ot,nt,st)=>{const ht=X.el=H?H.el:l(""),Ve=X.anchor=H?H.anchor:l("");let{patchFlag:Je,dynamicChildren:Pt,slotScopeIds:Bt}=X;process.env.NODE_ENV!=="production"&&(di||Je&2048)&&(Je=0,st=!1,Pt=null),Bt&&(nt=nt?nt.concat(Bt):Bt),H==null?(a(ht,F,Ue),a(Ve,F,Ue),z(X.children||[],F,Ve,$e,He,ot,nt,st)):Je>0&&Je&64&&Pt&&H.dynamicChildren?(K(H.dynamicChildren,Pt,F,$e,He,ot,nt),process.env.NODE_ENV!=="production"?hf(H,X):(X.key!=null||$e&&X===$e.subTree)&&hf(H,X,!0)):me(H,X,F,Ve,$e,He,ot,nt,st)},J=(H,X,F,Ue,$e,He,ot,nt,st)=>{X.slotScopeIds=nt,H==null?X.shapeFlag&512?$e.ctx.activate(X,F,Ue,ot,st):ne(X,F,Ue,$e,He,ot,st):re(H,X,st)},ne=(H,X,F,Ue,$e,He,ot)=>{const nt=H.component=oI(H,Ue,$e);if(process.env.NODE_ENV!=="production"&&nt.type.__hmrId&&KV(nt),process.env.NODE_ENV!=="production"&&(Km(H),Fc(nt,"mount")),df(H)&&(nt.ctx.renderer=_e),process.env.NODE_ENV!=="production"&&Fc(nt,"init"),sI(nt,!1,ot),process.env.NODE_ENV!=="production"&&Lc(nt,"init"),process.env.NODE_ENV!=="production"&&di&&(H.el=null),nt.asyncDep){if($e&&$e.registerDep(nt,pe,ot),!H.el){const st=nt.subTree=h(Oa);k(null,st,X,F)}}else pe(nt,H,X,F,$e,He,ot);process.env.NODE_ENV!=="production"&&(Gm(),Lc(nt,"mount"))},re=(H,X,F)=>{const Ue=X.component=H.component;if(JO(H,X,F))if(Ue.asyncDep&&!Ue.asyncResolved){process.env.NODE_ENV!=="production"&&Km(X),Ee(Ue,X,F),process.env.NODE_ENV!=="production"&&Gm();return}else Ue.next=X,Ue.update();else X.el=H.el,Ue.vnode=X},pe=(H,X,F,Ue,$e,He,ot)=>{const nt=()=>{if(H.isMounted){let{next:Je,bu:Pt,u:Bt,parent:jt,vnode:Dt}=H;{const ra=kw(H);if(ra){Je&&(Je.el=Dt.el,Ee(H,Je,ot)),ra.asyncDep.then(()=>{H.isUnmounted||nt()});return}}let zt=Je,mn;process.env.NODE_ENV!=="production"&&Km(Je||H.vnode),Cu(H,!1),Je?(Je.el=Dt.el,Ee(H,Je,ot)):Je=Dt,Pt&&Tc(Pt),(mn=Je.props&&Je.props.onVnodeBeforeUpdate)&&Bi(mn,jt,Je,Dt),Cu(H,!0),process.env.NODE_ENV!=="production"&&Fc(H,"render");const $n=Pw(H);process.env.NODE_ENV!=="production"&&Lc(H,"render");const Yn=H.subTree;H.subTree=$n,process.env.NODE_ENV!=="production"&&Fc(H,"patch"),C(Yn,$n,m(Yn.el),Ae(Yn),H,$e,He),process.env.NODE_ENV!=="production"&&Lc(H,"patch"),Je.el=$n.el,zt===null&&ZO(H,$n.el),Bt&&Jr(Bt,$e),(mn=Je.props&&Je.props.onVnodeUpdated)&&Jr(()=>Bi(mn,jt,Je,Dt),$e),process.env.NODE_ENV!=="production"&&T0(H),process.env.NODE_ENV!=="production"&&Gm()}else{let Je;const{el:Pt,props:Bt}=X,{bm:jt,m:Dt,parent:zt,root:mn,type:$n}=H,Yn=Bc(X);Cu(H,!1),jt&&Tc(jt),!Yn&&(Je=Bt&&Bt.onVnodeBeforeMount)&&Bi(Je,zt,X),Cu(H,!0);{mn.ce&&mn.ce._def.shadowRoot!==!1&&mn.ce._injectChildStyle($n),process.env.NODE_ENV!=="production"&&Fc(H,"render");const ra=H.subTree=Pw(H);process.env.NODE_ENV!=="production"&&Lc(H,"render"),process.env.NODE_ENV!=="production"&&Fc(H,"patch"),C(null,ra,F,Ue,H,$e,He),process.env.NODE_ENV!=="production"&&Lc(H,"patch"),X.el=ra.el}if(Dt&&Jr(Dt,$e),!Yn&&(Je=Bt&&Bt.onVnodeMounted)){const ra=X;Jr(()=>Bi(Je,zt,ra),$e)}(X.shapeFlag&256||zt&&Bc(zt.vnode)&&zt.vnode.shapeFlag&256)&&H.a&&Jr(H.a,$e),H.isMounted=!0,process.env.NODE_ENV!=="production"&&eO(H),X=F=Ue=null}};H.scope.on();const st=H.effect=new Xb(nt);H.scope.off();const ht=H.update=st.run.bind(st),Ve=H.job=st.runIfDirty.bind(st);Ve.i=H,Ve.id=H.uid,st.scheduler=()=>Xm(Ve),Cu(H,!0),process.env.NODE_ENV!=="production"&&(st.onTrack=H.rtc?Je=>Tc(H.rtc,Je):void 0,st.onTrigger=H.rtg?Je=>Tc(H.rtg,Je):void 0),ht()},Ee=(H,X,F)=>{X.component=H;const Ue=H.vnode.props;H.vnode=X,H.next=null,TO(H,X.props,Ue,F),FO(H,X.children,F),li(),C0(H),ui()},me=(H,X,F,Ue,$e,He,ot,nt,st=!1)=>{const ht=H&&H.children,Ve=H?H.shapeFlag:0,Je=X.children,{patchFlag:Pt,shapeFlag:Bt}=X;if(Pt>0){if(Pt&128){le(ht,Je,F,Ue,$e,He,ot,nt,st);return}else if(Pt&256){fe(ht,Je,F,Ue,$e,He,ot,nt,st);return}}Bt&8?(Ve&16&&B(ht,$e,He),Je!==ht&&d(F,Je)):Ve&16?Bt&16?le(ht,Je,F,Ue,$e,He,ot,nt,st):B(ht,$e,He,!0):(Ve&8&&d(F,""),Bt&16&&z(Je,F,Ue,$e,He,ot,nt,st))},fe=(H,X,F,Ue,$e,He,ot,nt,st)=>{H=H||Dc,X=X||Dc;const ht=H.length,Ve=X.length,Je=Math.min(ht,Ve);let Pt;for(Pt=0;Pt<Je;Pt++){const Bt=X[Pt]=st?bl(X[Pt]):hi(X[Pt]);C(H[Pt],Bt,F,null,$e,He,ot,nt,st)}ht>Ve?B(H,$e,He,!0,!1,Je):z(X,F,Ue,$e,He,ot,nt,st,Je)},le=(H,X,F,Ue,$e,He,ot,nt,st)=>{let ht=0;const Ve=X.length;let Je=H.length-1,Pt=Ve-1;for(;ht<=Je&&ht<=Pt;){const Bt=H[ht],jt=X[ht]=st?bl(X[ht]):hi(X[ht]);if(Pu(Bt,jt))C(Bt,jt,F,null,$e,He,ot,nt,st);else break;ht++}for(;ht<=Je&&ht<=Pt;){const Bt=H[Je],jt=X[Pt]=st?bl(X[Pt]):hi(X[Pt]);if(Pu(Bt,jt))C(Bt,jt,F,null,$e,He,ot,nt,st);else break;Je--,Pt--}if(ht>Je){if(ht<=Pt){const Bt=Pt+1,jt=Bt<Ve?X[Bt].el:Ue;for(;ht<=Pt;)C(null,X[ht]=st?bl(X[ht]):hi(X[ht]),F,jt,$e,He,ot,nt,st),ht++}}else if(ht>Pt)for(;ht<=Je;)ue(H[ht],$e,He,!0),ht++;else{const Bt=ht,jt=ht,Dt=new Map;for(ht=jt;ht<=Pt;ht++){const Nt=X[ht]=st?bl(X[ht]):hi(X[ht]);Nt.key!=null&&(process.env.NODE_ENV!=="production"&&Dt.has(Nt.key)&&Tt("Duplicate keys found during update:",JSON.stringify(Nt.key),"Make sure keys are unique."),Dt.set(Nt.key,ht))}let zt,mn=0;const $n=Pt-jt+1;let Yn=!1,ra=0;const pa=new Array($n);for(ht=0;ht<$n;ht++)pa[ht]=0;for(ht=Bt;ht<=Je;ht++){const Nt=H[ht];if(mn>=$n){ue(Nt,$e,He,!0);continue}let fa;if(Nt.key!=null)fa=Dt.get(Nt.key);else for(zt=jt;zt<=Pt;zt++)if(pa[zt-jt]===0&&Pu(Nt,X[zt])){fa=zt;break}fa===void 0?ue(Nt,$e,He,!0):(pa[fa-jt]=ht+1,fa>=ra?ra=fa:Yn=!0,C(Nt,X[fa],F,null,$e,He,ot,nt,st),mn++)}const ja=Yn?WO(pa):Dc;for(zt=ja.length-1,ht=$n-1;ht>=0;ht--){const Nt=jt+ht,fa=X[Nt],Xe=Nt+1<Ve?X[Nt+1].el:Ue;pa[ht]===0?C(null,fa,F,Xe,$e,He,ot,nt,st):Yn&&(zt<0||ht!==ja[zt]?Te(fa,F,Xe,2):zt--)}}},Te=(H,X,F,Ue,$e=null)=>{const{el:He,type:ot,transition:nt,children:st,shapeFlag:ht}=H;if(ht&6){Te(H.component.subTree,X,F,Ue);return}if(ht&128){H.suspense.move(X,F,Ue);return}if(ht&64){ot.move(H,X,F,_e);return}if(ot===ft){a(He,X,F);for(let Je=0;Je<st.length;Je++)Te(st[Je],X,F,Ue);a(H.anchor,X,F);return}if(ot===uh){M(H,X,F);return}if(Ue!==2&&ht&1&&nt)if(Ue===0)nt.beforeEnter(He),a(He,X,F),Jr(()=>nt.enter(He),$e);else{const{leave:Je,delayLeave:Pt,afterLeave:Bt}=nt,jt=()=>{H.ctx.isUnmounted?r(He):a(He,X,F)},Dt=()=>{Je(He,()=>{jt(),Bt&&Bt()})};Pt?Pt(He,jt,Dt):Dt()}else a(He,X,F)},ue=(H,X,F,Ue=!1,$e=!1)=>{const{type:He,props:ot,ref:nt,children:st,dynamicChildren:ht,shapeFlag:Ve,patchFlag:Je,dirs:Pt,cacheIndex:Bt}=H;if(Je===-2&&($e=!1),nt!=null&&(li(),cf(nt,null,F,H,!0),ui()),Bt!=null&&(X.renderCache[Bt]=void 0),Ve&256){X.ctx.deactivate(H);return}const jt=Ve&1&&Pt,Dt=!Bc(H);let zt;if(Dt&&(zt=ot&&ot.onVnodeBeforeUnmount)&&Bi(zt,X,H),Ve&6)Oe(H.component,F,Ue);else{if(Ve&128){H.suspense.unmount(F,Ue);return}jt&&gu(H,null,X,"beforeUnmount"),Ve&64?H.type.remove(H,X,F,_e,Ue):ht&&!ht.hasOnce&&(He!==ft||Je>0&&Je&64)?B(ht,X,F,!1,!0):(He===ft&&Je&384||!$e&&Ve&16)&&B(st,X,F),Ue&&De(H)}(Dt&&(zt=ot&&ot.onVnodeUnmounted)||jt)&&Jr(()=>{zt&&Bi(zt,X,H),jt&&gu(H,null,X,"unmounted")},F)},De=H=>{const{type:X,el:F,anchor:Ue,transition:$e}=H;if(X===ft){process.env.NODE_ENV!=="production"&&H.patchFlag>0&&H.patchFlag&2048&&$e&&!$e.persisted?H.children.forEach(ot=>{ot.type===Oa?r(ot.el):De(ot)}):Me(F,Ue);return}if(X===uh){I(H);return}const He=()=>{r(F),$e&&!$e.persisted&&$e.afterLeave&&$e.afterLeave()};if(H.shapeFlag&1&&$e&&!$e.persisted){const{leave:ot,delayLeave:nt}=$e,st=()=>ot(F,He);nt?nt(H.el,He,st):st()}else He()},Me=(H,X)=>{let F;for(;H!==X;)F=p(H),r(H),H=F;r(X)},Oe=(H,X,F)=>{process.env.NODE_ENV!=="production"&&H.type.__hmrId&&GV(H);const{bum:Ue,scope:$e,job:He,subTree:ot,um:nt,m:st,a:ht,parent:Ve,slots:{__:Je}}=H;Sw(st),Sw(ht),Ue&&Tc(Ue),Ve&&Gt(Je)&&Je.forEach(Pt=>{Ve.renderCache[Pt]=void 0}),$e.stop(),He&&(He.flags|=8,ue(ot,H,X,F)),nt&&Jr(nt,X),Jr(()=>{H.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve()),process.env.NODE_ENV!=="production"&&nO(H)},B=(H,X,F,Ue=!1,$e=!1,He=0)=>{for(let ot=He;ot<H.length;ot++)ue(H[ot],X,F,Ue,$e)},Ae=H=>{if(H.shapeFlag&6)return Ae(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const X=p(H.anchor||H.el),F=X&&X[A0];return F?p(F):X};let Fe=!1;const it=(H,X,F)=>{H==null?X._vnode&&ue(X._vnode,null,null,!0):C(X._vnode||null,H,X,null,null,null,F),X._vnode=H,Fe||(Fe=!0,C0(),x0(),Fe=!1)},_e={p:C,um:ue,m:Te,r:De,mt:ne,mc:z,pc:me,pbc:K,n:Ae,o:e};return{render:it,hydrate:void 0,createApp:PO(it)}}function Up({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Cu({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function HO(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function hf(e,t,n=!1){const a=e.children,r=t.children;if(Gt(a)&&Gt(r))for(let o=0;o<a.length;o++){const i=a[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=bl(r[o]),l.el=i.el),!n&&l.patchFlag!==-2&&hf(i,l)),l.type===xu&&(l.el=i.el),l.type===Oa&&!l.el&&(l.el=i.el),process.env.NODE_ENV!=="production"&&l.el&&(l.el.__vnode=l)}}function WO(e){const t=e.slice(),n=[0];let a,r,o,i,l;const u=e.length;for(a=0;a<u;a++){const f=e[a];if(f!==0){if(r=n[n.length-1],e[r]<f){t[a]=r,n.push(a);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<f?o=l+1:i=l;f<e[n[o]]&&(o>0&&(t[a]=n[o-1]),n[o]=a)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function kw(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:kw(t)}function Sw(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const zO=Symbol.for("v-scx"),jO=()=>{{const e=un(zO);return e||process.env.NODE_ENV!=="production"&&Tt("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function ca(e,t){return Hp(e,null,t)}function _t(e,t,n){return process.env.NODE_ENV!=="production"&&!Xt(t)&&Tt("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Hp(e,t,n)}function Hp(e,t,n=Wn){const{immediate:a,deep:r,flush:o,once:i}=n;process.env.NODE_ENV!=="production"&&!t&&(a!==void 0&&Tt('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&Tt('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&Tt('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=Sa({},n);process.env.NODE_ENV!=="production"&&(l.onWarn=Tt);const u=t&&a||!t&&o!=="post";let f;if(gf){if(o==="sync"){const y=jO();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!u){const y=()=>{};return y.stop=ar,y.resume=ar,y.pause=ar,y}}const d=Ja;l.call=(y,b,C)=>ci(y,d,b,C);let m=!1;o==="post"?l.scheduler=y=>{Jr(y,d&&d.suspense)}:o!=="sync"&&(m=!0,l.scheduler=(y,b)=>{b?y():Xm(y)}),l.augmentJob=y=>{t&&(y.flags|=4),m&&(y.flags|=2,d&&(y.id=d.uid,y.i=d))};const p=FV(e,t,l);return gf&&(f?f.push(p):u&&p()),p}function YO(e,t,n){const a=this.proxy,r=oa(e)?e.includes(".")?Cw(a,e):()=>a[e]:e.bind(a,a);let o;Xt(t)?o=t:(o=t.handler,n=t);const i=_f(this),l=Hp(r,o.bind(a),n);return i(),l}function Cw(e,t){const n=t.split(".");return()=>{let a=e;for(let r=0;r<n.length&&a;r++)a=a[n[r]];return a}}const KO=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${mr(t)}Modifiers`]||e[`${ks(t)}Modifiers`];function GO(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||Wn;if(process.env.NODE_ENV!=="production"){const{emitsOptions:d,propsOptions:[m]}=e;if(d)if(!(t in d))(!m||!(fu(mr(t))in m))&&Tt(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${fu(mr(t))}" prop.`);else{const p=d[t];Xt(p)&&(p(...n)||Tt(`Invalid event arguments: event validation failed for event "${t}".`))}}let r=n;const o=t.startsWith("update:"),i=o&&KO(a,t.slice(7));if(i&&(i.trim&&(r=n.map(d=>oa(d)?d.trim():d)),i.number&&(r=n.map(lp))),process.env.NODE_ENV!=="production"&&oO(e,t,r),process.env.NODE_ENV!=="production"){const d=t.toLowerCase();d!==t&&a[fu(d)]&&Tt(`Event "${d}" is emitted in component ${mh(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${ks(t)}" instead of "${t}".`)}let l,u=a[l=fu(t)]||a[l=fu(mr(t))];!u&&o&&(u=a[l=fu(ks(t))]),u&&ci(u,e,6,r);const f=a[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ci(f,e,6,r)}}function xw(e,t,n=!1){const a=t.emitsCache,r=a.get(e);if(r!==void 0)return r;const o=e.emits;let i={},l=!1;if(!Xt(e)){const u=f=>{const d=xw(f,t,!0);d&&(l=!0,Sa(i,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!l?(Ln(e)&&a.set(e,null),null):(Gt(o)?o.forEach(u=>i[u]=null):Sa(i,o),Ln(e)&&a.set(e,i),i)}function sh(e,t){return!e||!Kd(t)?!1:(t=t.slice(2).replace(/Once$/,""),Vn(e,t[0].toLowerCase()+t.slice(1))||Vn(e,ks(t))||Vn(e,t))}let Wp=!1;function lh(){Wp=!0}function Pw(e){const{type:t,vnode:n,proxy:a,withProxy:r,propsOptions:[o],slots:i,attrs:l,emit:u,render:f,renderCache:d,props:m,data:p,setupState:y,ctx:b,inheritAttrs:C}=e,w=eh(e);let k,T;process.env.NODE_ENV!=="production"&&(Wp=!1);try{if(n.shapeFlag&4){const I=r||a,R=process.env.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(I,{get(W,q,z){return Tt(`Property '${String(q)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(W,q,z)}}):I;k=hi(f.call(R,I,d,process.env.NODE_ENV!=="production"?Ii(m):m,y,p,b)),T=l}else{const I=t;process.env.NODE_ENV!=="production"&&l===m&&lh(),k=hi(I.length>1?I(process.env.NODE_ENV!=="production"?Ii(m):m,process.env.NODE_ENV!=="production"?{get attrs(){return lh(),Ii(l)},slots:i,emit:u}:{attrs:l,slots:i,emit:u}):I(process.env.NODE_ENV!=="production"?Ii(m):m,null)),T=t.props?l:QO(l)}}catch(I){vf.length=0,rf(I,e,1),k=h(Oa)}let V=k,M;if(process.env.NODE_ENV!=="production"&&k.patchFlag>0&&k.patchFlag&2048&&([V,M]=Ew(k)),T&&C!==!1){const I=Object.keys(T),{shapeFlag:R}=V;if(I.length){if(R&7)o&&I.some(Nm)&&(T=XO(T,o)),V=mi(V,T,!1,!0);else if(process.env.NODE_ENV!=="production"&&!Wp&&V.type!==Oa){const W=Object.keys(l),q=[],z=[];for(let Y=0,K=W.length;Y<K;Y++){const ae=W[Y];Kd(ae)?Nm(ae)||q.push(ae[2].toLowerCase()+ae.slice(3)):z.push(ae)}z.length&&Tt(`Extraneous non-props attributes (${z.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),q.length&&Tt(`Extraneous non-emits event listeners (${q.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!=="production"&&!Dw(V)&&Tt("Runtime directive used on component with non-element root node. The directives will not function as intended."),V=mi(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!=="production"&&!Dw(V)&&Tt("Component inside <Transition> renders non-element root node that cannot be animated."),bu(V,n.transition)),process.env.NODE_ENV!=="production"&&M?M(V):k=V,eh(w),k}const Ew=e=>{const t=e.children,n=e.dynamicChildren,a=zp(t,!1);if(a){if(process.env.NODE_ENV!=="production"&&a.patchFlag>0&&a.patchFlag&2048)return Ew(a)}else return[e,void 0];const r=t.indexOf(a),o=n?n.indexOf(a):-1,i=l=>{t[r]=l,n&&(o>-1?n[o]=l:l.patchFlag>0&&(e.dynamicChildren=[...n,l]))};return[hi(a),i]};function zp(e,t=!0){let n;for(let a=0;a<e.length;a++){const r=e[a];if(yl(r)){if(r.type!==Oa||r.children==="v-if"){if(n)return;if(n=r,process.env.NODE_ENV!=="production"&&t&&n.patchFlag>0&&n.patchFlag&2048)return zp(n.children)}}else return}return n}const QO=e=>{let t;for(const n in e)(n==="class"||n==="style"||Kd(n))&&((t||(t={}))[n]=e[n]);return t},XO=(e,t)=>{const n={};for(const a in e)(!Nm(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n},Dw=e=>e.shapeFlag&7||e.type===Oa;function JO(e,t,n){const{props:a,children:r,component:o}=e,{props:i,children:l,patchFlag:u}=t,f=o.emitsOptions;if(process.env.NODE_ENV!=="production"&&(r||l)&&di||t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return a?Tw(a,i,f):!!i;if(u&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const p=d[m];if(i[p]!==a[p]&&!sh(f,p))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:a===i?!1:a?i?Tw(a,i,f):!0:!!i;return!1}function Tw(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let r=0;r<a.length;r++){const o=a[r];if(t[o]!==e[o]&&!sh(n,o))return!0}return!1}function ZO({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=n,t=t.parent;else break}}const Vw=e=>e.__isSuspense;function eI(e,t){t&&t.pendingBranch?Gt(e)?t.effects.push(...e):t.effects.push(e):S0(e)}const ft=Symbol.for("v-fgt"),xu=Symbol.for("v-txt"),Oa=Symbol.for("v-cmt"),uh=Symbol.for("v-stc"),vf=[];let Co=null;function de(e=!1){vf.push(Co=e?null:[])}function tI(){vf.pop(),Co=vf[vf.length-1]||null}let pf=1;function Ow(e,t=!1){pf+=e,e<0&&Co&&t&&(Co.hasOnce=!0)}function Iw(e){return e.dynamicChildren=pf>0?Co||Dc:null,tI(),pf>0&&Co&&Co.push(e),e}function Ze(e,t,n,a,r,o){return Iw(x(e,t,n,a,r,o,!0))}function lt(e,t,n,a,r){return Iw(h(e,t,n,a,r,!0))}function yl(e){return e?e.__v_isVNode===!0:!1}function Pu(e,t){if(process.env.NODE_ENV!=="production"&&t.shapeFlag&6&&e.component){const n=Jm.get(t.type);if(n&&n.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const nI=(...e)=>Mw(...e),Aw=({key:e})=>e??null,ch=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?oa(e)||na(e)||Xt(e)?{i:Va,r:e,k:t,f:!!n}:e:null);function x(e,t=null,n=null,a=0,r=null,o=e===ft?0:1,i=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Aw(t),ref:t&&ch(t),scopeId:O0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Va};return l?(jp(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=oa(n)?8:16),process.env.NODE_ENV!=="production"&&u.key!==u.key&&Tt("VNode created with invalid key (NaN). VNode type:",u.type),pf>0&&!i&&Co&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Co.push(u),u}const h=process.env.NODE_ENV!=="production"?nI:Mw;function Mw(e,t=null,n=null,a=0,r=null,o=!1){if((!e||e===X0)&&(process.env.NODE_ENV!=="production"&&!e&&Tt(`Invalid vnode type when creating vnode: ${e}.`),e=Oa),yl(e)){const l=mi(e,t,!0);return n&&jp(l,n),pf>0&&!o&&Co&&(l.shapeFlag&6?Co[Co.indexOf(e)]=l:Co.push(l)),l.patchFlag=-2,l}if(Uw(e)&&(e=e.__vccOpts),t){t=ir(t);let{class:l,style:u}=t;l&&!oa(l)&&(t.class=Ye(l)),Ln(u)&&(af(u)&&!Gt(u)&&(u=Sa({},u)),t.style=vt(u))}const i=oa(e)?1:Vw(e)?128:M0(e)?64:Ln(e)?4:Xt(e)?2:0;return process.env.NODE_ENV!=="production"&&i&4&&af(e)&&(e=Wt(e),Tt("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),x(e,t,n,a,r,i,o,!0)}function ir(e){return e?af(e)||mw(e)?Sa({},e):e:null}function mi(e,t,n=!1,a=!1){const{props:r,ref:o,patchFlag:i,children:l,transition:u}=e,f=t?tt(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Aw(f),ref:t&&t.ref?n&&o?Gt(o)?o.concat(ch(t)):[o,ch(t)]:ch(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!=="production"&&i===-1&&Gt(l)?l.map(Nw):l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ft?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mi(e.ssContent),ssFallback:e.ssFallback&&mi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&a&&bu(d,u.clone(d)),d}function Nw(e){const t=mi(e);return Gt(e.children)&&(t.children=e.children.map(Nw)),t}function Ke(e=" ",t=0){return h(xu,null,e,t)}function je(e="",t=!1){return t?(de(),lt(Oa,null,e)):h(Oa,null,e)}function hi(e){return e==null||typeof e=="boolean"?h(Oa):Gt(e)?h(ft,null,e.slice()):yl(e)?bl(e):h(xu,null,String(e))}function bl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:mi(e)}function jp(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Gt(t))n=16;else if(typeof t=="object")if(a&65){const r=t.default;r&&(r._c&&(r._d=!1),jp(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!mw(t)?t._ctx=Va:r===3&&Va&&(Va.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xt(t)?(t={default:t,_ctx:Va},n=32):(t=String(t),a&64?(n=16,t=[Ke(t)]):n=8);e.children=t,e.shapeFlag|=n}function tt(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const r in a)if(r==="class")t.class!==a.class&&(t.class=Ye([t.class,a.class]));else if(r==="style")t.style=vt([t.style,a.style]);else if(Kd(r)){const o=t[r],i=a[r];i&&o!==i&&!(Gt(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=a[r])}return t}function Bi(e,t,n,a=null){ci(e,t,7,[n,a])}const aI=uw();let rI=0;function oI(e,t,n){const a=e.type,r=(t?t.appContext:e.appContext)||aI,o={uid:rI++,vnode:e,type:a,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vw(a,r),emitsOptions:xw(a,r),emit:null,emitted:null,propsDefaults:Wn,inheritAttrs:a.inheritAttrs,ctx:Wn,data:Wn,props:Wn,attrs:Wn,slots:Wn,refs:Wn,setupState:Wn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV!=="production"?o.ctx=vO(o):o.ctx={_:o},o.root=t?t.root:o,o.emit=GO.bind(null,o),e.ce&&e.ce(o),o}let Ja=null;const $i=()=>Ja||Va;let dh,Yp;{const e=Xd(),t=(n,a)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(a),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};dh=t("__VUE_INSTANCE_SETTERS__",n=>Ja=n),Yp=t("__VUE_SSR_SETTERS__",n=>gf=n)}const _f=e=>{const t=Ja;return dh(e),e.scope.on(),()=>{e.scope.off(),dh(t)}},Bw=()=>{Ja&&Ja.scope.off(),dh(null)},iI=ko("slot,component");function Kp(e,{isNativeTag:t}){(iI(e)||t(e))&&Tt("Do not use built-in or reserved HTML elements as component id: "+e)}function $w(e){return e.vnode.shapeFlag&4}let gf=!1;function sI(e,t=!1,n=!1){t&&Yp(t);const{props:a,children:r}=e.vnode,o=$w(e);EO(e,a,o,t),RO(e,r,n||t);const i=o?lI(e,t):void 0;return t&&Yp(!1),i}function lI(e,t){var n;const a=e.type;if(process.env.NODE_ENV!=="production"){if(a.name&&Kp(a.name,e.appContext.config),a.components){const o=Object.keys(a.components);for(let i=0;i<o.length;i++)Kp(o[i],e.appContext.config)}if(a.directives){const o=Object.keys(a.directives);for(let i=0;i<o.length;i++)I0(o[i])}a.compilerOptions&&uI()&&Tt('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tw),process.env.NODE_ENV!=="production"&&pO(e);const{setup:r}=a;if(r){li();const o=e.setupContext=r.length>1?qw(e):null,i=_f(e),l=Ac(r,e,0,[process.env.NODE_ENV!=="production"?Ii(e.props):e.props,o]),u=op(l);if(ui(),i(),(u||e.sp)&&!Bc(e)&&Y0(e),u){if(l.then(Bw,Bw),t)return l.then(f=>{Rw(e,f,t)}).catch(f=>{rf(f,e,0)});if(e.asyncDep=l,process.env.NODE_ENV!=="production"&&!e.suspense){const f=(n=a.name)!=null?n:"Anonymous";Tt(`Component <${f}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Rw(e,l,t)}else Fw(e,t)}function Rw(e,t,n){Xt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ln(t)?(process.env.NODE_ENV!=="production"&&yl(t)&&Tt("setup() should not return VNodes directly - return a render function instead."),process.env.NODE_ENV!=="production"&&(e.devtoolsRawSetupState=t),e.setupState=g0(t),process.env.NODE_ENV!=="production"&&_O(e)):process.env.NODE_ENV!=="production"&&t!==void 0&&Tt(`setup() should return an object. Received: ${t===null?"null":typeof t}`),Fw(e,n)}const uI=()=>!0;function Fw(e,t,n){const a=e.type;e.render||(e.render=a.render||ar);{const r=_f(e);li();try{bO(e)}finally{ui(),r()}}process.env.NODE_ENV!=="production"&&!a.render&&e.render===ar&&!t&&(a.template?Tt('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Tt("Component is missing template or render function: ",a))}const Lw=process.env.NODE_ENV!=="production"?{get(e,t){return lh(),rr(e,"get",""),e[t]},set(){return Tt("setupContext.attrs is readonly."),!1},deleteProperty(){return Tt("setupContext.attrs is readonly."),!1}}:{get(e,t){return rr(e,"get",""),e[t]}};function cI(e){return new Proxy(e.slots,{get(t,n){return rr(e,"get","$slots"),t[n]}})}function qw(e){const t=n=>{if(process.env.NODE_ENV!=="production"&&(e.exposed&&Tt("expose() should be called only once per setup()."),n!=null)){let a=typeof n;a==="object"&&(Gt(n)?a="array":na(n)&&(a="ref")),a!=="object"&&Tt(`expose() should be passed a plain object, received ${a}.`)}e.exposed=n||{}};if(process.env.NODE_ENV!=="production"){let n,a;return Object.freeze({get attrs(){return n||(n=new Proxy(e.attrs,Lw))},get slots(){return a||(a=cI(e))},get emit(){return(r,...o)=>e.emit(r,...o)},expose:t})}else return{attrs:new Proxy(e.attrs,Lw),slots:e.slots,emit:e.emit,expose:t}}function fh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(g0(p0(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wu)return wu[n](e)},has(t,n){return n in t||n in wu}})):e.proxy}const dI=/(?:^|[-_])(\w)/g,fI=e=>e.replace(dI,t=>t.toUpperCase()).replace(/[-_]/g,"");function Gp(e,t=!0){return Xt(e)?e.displayName||e.name:e.name||t&&e.__name}function mh(e,t,n=!1){let a=Gp(t);if(!a&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(a=r[1])}if(!a&&e&&e.parent){const r=o=>{for(const i in o)if(o[i]===t)return i};a=r(e.components||e.parent.type.components)||r(e.appContext.components)}return a?fI(a):n?"App":"Anonymous"}function Uw(e){return Xt(e)&&"__vccOpts"in e}const N=(e,t)=>{const n=$V(e,t,gf);if(process.env.NODE_ENV!=="production"){const a=$i();a&&a.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Ri(e,t,n){const a=arguments.length;return a===2?Ln(t)&&!Gt(t)?yl(t)?h(e,null,[t]):h(e,t):h(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&yl(n)&&(n=[n]),h(e,t,n))}function mI(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},n={style:"color:#f5222d"},a={style:"color:#eb2f96"},r={__vue_custom_formatter:!0,header(m){if(!Ln(m))return null;if(m.__isVue)return["div",e,"VueInstance"];if(na(m)){li();const p=m.value;return ui(),["div",{},["span",e,d(m)],"<",l(p),">"]}else{if(hu(m))return["div",{},["span",e,Kr(m)?"ShallowReactive":"Reactive"],"<",l(m),`>${Ai(m)?" (readonly)":""}`];if(Ai(m))return["div",{},["span",e,Kr(m)?"ShallowReadonly":"Readonly"],"<",l(m),">"]}return null},hasBody(m){return m&&m.__isVue},body(m){if(m&&m.__isVue)return["div",{},...o(m.$)]}};function o(m){const p=[];m.type.props&&m.props&&p.push(i("props",Wt(m.props))),m.setupState!==Wn&&p.push(i("setup",m.setupState)),m.data!==Wn&&p.push(i("data",Wt(m.data)));const y=u(m,"computed");y&&p.push(i("computed",y));const b=u(m,"inject");return b&&p.push(i("injected",b)),p.push(["div",{},["span",{style:a.style+";opacity:0.66"},"$ (internal): "],["object",{object:m}]]),p}function i(m,p){return p=Sa({},p),Object.keys(p).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},m],["div",{style:"padding-left:1.25em"},...Object.keys(p).map(y=>["div",{},["span",a,y+": "],l(p[y],!1)])]]:["span",{}]}function l(m,p=!0){return typeof m=="number"?["span",t,m]:typeof m=="string"?["span",n,JSON.stringify(m)]:typeof m=="boolean"?["span",a,m]:Ln(m)?["object",{object:p?Wt(m):m}]:["span",n,String(m)]}function u(m,p){const y=m.type;if(Xt(y))return;const b={};for(const C in m.ctx)f(y,C,p)&&(b[C]=m.ctx[C]);return b}function f(m,p,y){const b=m[y];if(Gt(b)&&b.includes(p)||Ln(b)&&p in b||m.extends&&f(m.extends,p,y)||m.mixins&&m.mixins.some(C=>f(C,p,y)))return!0}function d(m){return Kr(m)?"ShallowRef":m.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const Hw="3.5.17",uo=process.env.NODE_ENV!=="production"?Tt:ar;process.env.NODE_ENV,process.env.NODE_ENV;/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qp;const Ww=typeof window<"u"&&window.trustedTypes;if(Ww)try{Qp=Ww.createPolicy("vue",{createHTML:e=>e})}catch(e){process.env.NODE_ENV!=="production"&&uo(`Error creating trusted types policy: ${e}`)}const zw=Qp?e=>Qp.createHTML(e):e=>e,hI="http://www.w3.org/2000/svg",vI="http://www.w3.org/1998/Math/MathML",Ps=typeof document<"u"?document:null,jw=Ps&&Ps.createElement("template"),pI={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const r=t==="svg"?Ps.createElementNS(hI,e):t==="mathml"?Ps.createElementNS(vI,e):n?Ps.createElement(e,{is:n}):Ps.createElement(e);return e==="select"&&a&&a.multiple!=null&&r.setAttribute("multiple",a.multiple),r},createText:e=>Ps.createTextNode(e),createComment:e=>Ps.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ps.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{jw.innerHTML=zw(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const l=jw.content;if(a==="svg"||a==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wl="transition",yf="animation",qc=Symbol("_vtc"),Yw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kw=Sa({},U0,Yw),co=(e=>(e.displayName="Transition",e.props=Kw,e))((e,{slots:t})=>Ri(lO,Qw(e),t)),Eu=(e,t=[])=>{Gt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Gw=e=>e?Gt(e)?e.some(t=>t.length>1):e.length>1:!1;function Qw(e){const t={};for(const ae in e)ae in Yw||(t[ae]=e[ae]);if(e.css===!1)return t;const{name:n="v",type:a,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:f=i,appearToClass:d=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,b=_I(r),C=b&&b[0],w=b&&b[1],{onBeforeEnter:k,onEnter:T,onEnterCancelled:V,onLeave:M,onLeaveCancelled:I,onBeforeAppear:R=k,onAppear:W=T,onAppearCancelled:q=V}=t,z=(ae,te,J,ne)=>{ae._enterCancelled=ne,kl(ae,te?d:l),kl(ae,te?f:i),J&&J()},Y=(ae,te)=>{ae._isLeaving=!1,kl(ae,m),kl(ae,y),kl(ae,p),te&&te()},K=ae=>(te,J)=>{const ne=ae?W:T,re=()=>z(te,ae,J);Eu(ne,[te,re]),Xw(()=>{kl(te,ae?u:o),Fi(te,ae?d:l),Gw(ne)||Jw(te,a,C,re)})};return Sa(t,{onBeforeEnter(ae){Eu(k,[ae]),Fi(ae,o),Fi(ae,i)},onBeforeAppear(ae){Eu(R,[ae]),Fi(ae,u),Fi(ae,f)},onEnter:K(!1),onAppear:K(!0),onLeave(ae,te){ae._isLeaving=!0;const J=()=>Y(ae,te);Fi(ae,m),ae._enterCancelled?(Fi(ae,p),Jp()):(Jp(),Fi(ae,p)),Xw(()=>{ae._isLeaving&&(kl(ae,m),Fi(ae,y),Gw(M)||Jw(ae,a,w,J))}),Eu(M,[ae,J])},onEnterCancelled(ae){z(ae,!1,void 0,!0),Eu(V,[ae])},onAppearCancelled(ae){z(ae,!0,void 0,!0),Eu(q,[ae])},onLeaveCancelled(ae){Y(ae),Eu(I,[ae])}})}function _I(e){if(e==null)return null;if(Ln(e))return[Xp(e.enter),Xp(e.leave)];{const t=Xp(e);return[t,t]}}function Xp(e){const t=JT(e);return process.env.NODE_ENV!=="production"&&WV(t,"<transition> explicit duration"),t}function Fi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[qc]||(e[qc]=new Set)).add(t)}function kl(e,t){t.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const n=e[qc];n&&(n.delete(t),n.size||(e[qc]=void 0))}function Xw(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gI=0;function Jw(e,t,n,a){const r=e._endId=++gI,o=()=>{r===e._endId&&a()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:l,propCount:u}=Zw(e,t);if(!i)return a();const f=i+"end";let d=0;const m=()=>{e.removeEventListener(f,p),o()},p=y=>{y.target===e&&++d>=u&&m()};setTimeout(()=>{d<u&&m()},l+1),e.addEventListener(f,p)}function Zw(e,t){const n=window.getComputedStyle(e),a=b=>(n[b]||"").split(", "),r=a(`${wl}Delay`),o=a(`${wl}Duration`),i=e1(r,o),l=a(`${yf}Delay`),u=a(`${yf}Duration`),f=e1(l,u);let d=null,m=0,p=0;t===wl?i>0&&(d=wl,m=i,p=o.length):t===yf?f>0&&(d=yf,m=f,p=u.length):(m=Math.max(i,f),d=m>0?i>f?wl:yf:null,p=d?d===wl?o.length:u.length:0);const y=d===wl&&/\b(transform|all)(,|$)/.test(a(`${wl}Property`).toString());return{type:d,timeout:m,propCount:p,hasTransform:y}}function e1(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,a)=>t1(n)+t1(e[a])))}function t1(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Jp(){return document.body.offsetHeight}function yI(e,t,n){const a=e[qc];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const hh=Symbol("_vod"),n1=Symbol("_vsh"),Ca={beforeMount(e,{value:t},{transition:n}){e[hh]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):bf(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),bf(e,!0),a.enter(e)):a.leave(e,()=>{bf(e,!1)}):bf(e,t))},beforeUnmount(e,{value:t}){bf(e,t)}};process.env.NODE_ENV!=="production"&&(Ca.name="show");function bf(e,t){e.style.display=t?e[hh]:"none",e[n1]=!t}const bI=Symbol(process.env.NODE_ENV!=="production"?"CSS_VAR_TEXT":""),wI=/(^|;)\s*display\s*:/;function kI(e,t,n){const a=e.style,r=oa(n);let o=!1;if(n&&!r){if(t)if(oa(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&vh(a,l,"")}else for(const i in t)n[i]==null&&vh(a,i,"");for(const i in n)i==="display"&&(o=!0),vh(a,i,n[i])}else if(r){if(t!==n){const i=a[bI];i&&(n+=";"+i),a.cssText=n,o=wI.test(n)}}else t&&e.removeAttribute("style");hh in e&&(e[hh]=o?a.display:"",e[n1]&&(a.display="none"))}const SI=/[^\\];\s*$/,a1=/\s*!important$/;function vh(e,t,n){if(Gt(n))n.forEach(a=>vh(e,t,a));else if(n==null&&(n=""),process.env.NODE_ENV!=="production"&&SI.test(n)&&uo(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const a=CI(e,t);a1.test(n)?e.setProperty(ks(a),n.replace(a1,""),"important"):e[a]=n}}const r1=["Webkit","Moz","ms"],Zp={};function CI(e,t){const n=Zp[t];if(n)return n;let a=mr(t);if(a!=="filter"&&a in e)return Zp[t]=a;a=So(a);for(let r=0;r<r1.length;r++){const o=r1[r]+a;if(o in e)return Zp[t]=o}return t}const o1="http://www.w3.org/1999/xlink";function i1(e,t,n,a,r,o=uV(t)){a&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(o1,t.slice(6,t.length)):e.setAttributeNS(o1,t,n):n==null||o&&!Yb(n)?e.removeAttribute(t):e.setAttribute(t,o?"":ws(n)?String(n):n)}function s1(e,t,n,a,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?zw(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Yb(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch(l){process.env.NODE_ENV!=="production"&&!i&&uo(`Failed setting prop "${t}" on <${o.toLowerCase()}>: value ${n} is invalid.`,l)}i&&e.removeAttribute(r||t)}function Uc(e,t,n,a){e.addEventListener(t,n,a)}function xI(e,t,n,a){e.removeEventListener(t,n,a)}const l1=Symbol("_vei");function PI(e,t,n,a,r=null){const o=e[l1]||(e[l1]={}),i=o[t];if(a&&i)i.value=process.env.NODE_ENV!=="production"?c1(a,t):a;else{const[l,u]=EI(t);if(a){const f=o[t]=VI(process.env.NODE_ENV!=="production"?c1(a,t):a,r);Uc(e,l,f,u)}else i&&(xI(e,l,i,u),o[t]=void 0)}}const u1=/(?:Once|Passive|Capture)$/;function EI(e){let t;if(u1.test(e)){t={};let a;for(;a=e.match(u1);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ks(e.slice(2)),t]}let e_=0;const DI=Promise.resolve(),TI=()=>e_||(DI.then(()=>e_=0),e_=Date.now());function VI(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;ci(OI(a,n.value),t,5,[a])};return n.value=e,n.attached=TI(),n}function c1(e,t){return Xt(e)||Gt(e)?e:(uo(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),ar)}function OI(e,t){if(Gt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>r=>!r._stopped&&a&&a(r))}else return t}const d1=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,II=(e,t,n,a,r,o)=>{const i=r==="svg";t==="class"?yI(e,a,i):t==="style"?kI(e,n,a):Kd(t)?Nm(t)||PI(e,t,n,a,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):AI(e,t,a,i))?(s1(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&i1(e,t,a,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!oa(a))?s1(e,mr(t),a,o,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),i1(e,t,a,i))};function AI(e,t,n,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&d1(t)&&Xt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return d1(t)&&oa(n)?!1:t in e}const f1=new WeakMap,m1=new WeakMap,ph=Symbol("_moveCb"),h1=Symbol("_enterCb"),t_=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:Sa({},Kw,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=$i(),a=q0();let r,o;return Ip(()=>{if(!r.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!$I(r[0].el,n.vnode.el,i)){r=[];return}r.forEach(MI),r.forEach(NI);const l=r.filter(BI);Jp(),l.forEach(u=>{const f=u.el,d=f.style;Fi(f,i),d.transform=d.webkitTransform=d.transitionDuration="";const m=f[ph]=p=>{p&&p.target!==f||(!p||/transform$/.test(p.propertyName))&&(f.removeEventListener("transitionend",m),f[ph]=null,kl(f,i))};f.addEventListener("transitionend",m)}),r=[]}),()=>{const i=Wt(e),l=Qw(i);let u=i.tag||ft;if(r=[],o)for(let f=0;f<o.length;f++){const d=o[f];d.el&&d.el instanceof Element&&(r.push(d),bu(d,uf(d,l,a,n)),f1.set(d,d.el.getBoundingClientRect()))}o=t.default?Tp(t.default()):[];for(let f=0;f<o.length;f++){const d=o[f];d.key!=null?bu(d,uf(d,l,a,n)):process.env.NODE_ENV!=="production"&&d.type!==xu&&uo("<TransitionGroup> children must be keyed.")}return h(u,null,o)}}});function MI(e){const t=e.el;t[ph]&&t[ph](),t[h1]&&t[h1]()}function NI(e){m1.set(e,e.el.getBoundingClientRect())}function BI(e){const t=f1.get(e),n=m1.get(e),a=t.left-n.left,r=t.top-n.top;if(a||r){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${a}px,${r}px)`,o.transitionDuration="0s",e}}function $I(e,t,n){const a=e.cloneNode(),r=e[qc];r&&r.forEach(l=>{l.split(/\s+/).forEach(u=>u&&a.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&a.classList.add(l)),a.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(a);const{hasTransform:i}=Zw(a);return o.removeChild(a),i}const v1=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Gt(t)?n=>Tc(t,n):t};function RI(e){e.target.composing=!0}function p1(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const n_=Symbol("_assign"),FI={created(e,{modifiers:{lazy:t,trim:n,number:a}},r){e[n_]=v1(r);const o=a||r.props&&r.props.type==="number";Uc(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=lp(l)),e[n_](l)}),n&&Uc(e,"change",()=>{e.value=e.value.trim()}),t||(Uc(e,"compositionstart",RI),Uc(e,"compositionend",p1),Uc(e,"change",p1))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:r,number:o}},i){if(e[n_]=v1(i),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?lp(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(a&&t===n||r&&e.value.trim()===u)||(e.value=u))}},LI=["ctrl","shift","alt","meta"],qI={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LI.some(n=>e[`${n}Key`]&&!t.includes(n))},$a=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(r,...o)=>{for(let i=0;i<t.length;i++){const l=qI[t[i]];if(l&&l(r,t))return}return e(r,...o)})},UI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Du=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=r=>{if(!("key"in r))return;const o=ks(r.key);if(t.some(i=>i===o||UI[i]===o))return e(r)})},HI=Sa({patchProp:II},pI);let _1;function g1(){return _1||(_1=qO(HI))}const _h=(...e)=>{g1().render(...e)},WI=(...e)=>{const t=g1().createApp(...e);process.env.NODE_ENV!=="production"&&(jI(t),YI(t));const{mount:n}=t;return t.mount=a=>{const r=KI(a);if(!r)return;const o=t._component;!Xt(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,zI(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function zI(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function jI(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>iV(t)||sV(t)||lV(t),writable:!1})}function YI(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){uo("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,a='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return uo(a),n},set(){uo(a)}})}}function KI(e){if(oa(e)){const t=document.querySelector(e);return process.env.NODE_ENV!=="production"&&!t&&uo(`Failed to mount app: mount target selector "${e}" returned null.`),t}return process.env.NODE_ENV!=="production"&&window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&uo('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function GI(){mI()}process.env.NODE_ENV!=="production"&&GI();function Nr(e,t){let n;function a(){n=Vc(),n.run(()=>t.length?t(()=>{n?.stop(),a()}):t())}_t(e,r=>{r&&!n?a():r||(n?.stop(),n=void 0)},{immediate:!0}),Ba(()=>{n?.stop()})}const On=typeof window<"u",a_=On&&"IntersectionObserver"in window,QI=On&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),y1=On&&"EyeDropper"in window;function b1(e,t,n){XI(e,t),t.set(e,n)}function XI(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w1(e,t,n){return e.set(k1(e,t),n),n}function Es(e,t){return e.get(k1(e,t))}function k1(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function S1(e,t,n){const a=t.length-1;if(a<0)return e===void 0?n:e;for(let r=0;r<a;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[a]]===void 0?n:e[t[a]]}function vr(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(a=>vr(e[a],t[a]))}function Tu(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),S1(e,t.split("."),n))}function Ra(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return Tu(e,t,n);if(Array.isArray(t))return S1(e,t,n);if(typeof t!="function")return n;const a=t(e,n);return typeof a>"u"?n:a}function Li(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,a)=>t+a)}function It(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const n=Number(e);return isNaN(n)?String(e):isFinite(n)?`${n}${t}`:void 0}function wf(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function C1(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function r_(e){if(e&&"$el"in e){const t=e.$el;return t?.nodeType===Node.TEXT_NODE?t.nextElementSibling:t}return e}const x1=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),o_=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function P1(e){return Object.keys(e)}function Vu(e,t){return t.every(n=>e.hasOwnProperty(n))}function Sl(e,t){const n={};for(const a of t)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i_(e,t,n){const a=Object.create(null),r=Object.create(null);for(const o in e)t.some(i=>i instanceof RegExp?i.test(o):i===o)?a[o]=e[o]:r[o]=e[o];return[a,r]}function ga(e,t){const n={...e};return t.forEach(a=>delete n[a]),n}const E1=/^on[^a-z]/,s_=e=>E1.test(e),JI=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],ZI=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function eA(e){return e.isComposing&&ZI.includes(e.key)}function Cl(e){const[t,n]=i_(e,[E1]),a=ga(t,JI),[r,o]=i_(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(o,a),[r,o]}function ma(e){return e==null?[]:Array.isArray(e)?e:[e]}function tA(e,t){let n=0;const a=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout(()=>e(...o),Pe(t))};return a.clear=()=>{clearTimeout(n)},a.immediate=e,a}function Xn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function D1(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function T1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function V1(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function nA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let a=0;for(;a<e.length;)n.push(e.substr(a,t)),a+=t;return n}function O1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let a=-1;for(;Math.abs(e)>=t&&a<n.length-1;)e/=t,++a;return`${e.toFixed(1)} ${n[a]}B`}function Br(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const a={};for(const r in e)a[r]=e[r];for(const r in t){const o=e[r],i=t[r];if(C1(o)&&C1(i)){a[r]=Br(o,i,n);continue}if(n&&Array.isArray(o)&&Array.isArray(i)){a[r]=n(o,i);continue}a[r]=i}return a}function I1(e){return e.map(t=>t.type===ft?I1(t.children):t).flat()}function Ou(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ou.cache.has(e))return Ou.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Ou.cache.set(e,t),t}Ou.cache=new Map;function Hc(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Hc(e,n)).flat(1);if(t.suspense)return Hc(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Hc(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Hc(e,t.component.subTree).flat(1)}return[]}var Wc=new WeakMap,Iu=new WeakMap;class A1{constructor(t){b1(this,Wc,[]),b1(this,Iu,0),this.size=t}get isFull(){return Es(Wc,this).length===this.size}push(t){Es(Wc,this)[Es(Iu,this)]=t,w1(Iu,this,(Es(Iu,this)+1)%this.size)}values(){return Es(Wc,this).slice(Es(Iu,this)).concat(Es(Wc,this).slice(0,Es(Iu,this)))}clear(){Es(Wc,this).length=0,w1(Iu,this,0)}}function aA(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function l_(e){const t=Ta({});ca(()=>{const a=e();for(const r in a)t[r]=a[r]},{flush:"sync"});const n={};for(const a in t)n[a]=ke(()=>t[a]);return n}function gh(e,t){return e.includes(t)}function M1(e){return e[2].toLowerCase()+e.slice(3)}const pr=()=>[Function,Array];function N1(e,t){return t="on"+So(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function yh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function kf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(a=>`${a}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function B1(e,t,n){let a,r=e.indexOf(document.activeElement);const o=t==="next"?1:-1;do r+=o,a=e[r];while((!a||a.offsetParent==null||!(n?.(a)??!0))&&r<e.length&&r>=0);return a}function Au(e,t){const n=kf(e);if(t==null)(e===document.activeElement||!e.contains(document.activeElement))&&n[0]?.focus();else if(t==="first")n[0]?.focus();else if(t==="last")n.at(-1)?.focus();else if(typeof t=="number")n[t]?.focus();else{const a=B1(n,t);a?a.focus():Au(e,t==="next"?"first":"last")}}function bh(e){return e==null||typeof e=="string"&&e.trim()===""}function $1(){}function zc(e,t){if(!(On&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function wh(e){return e.some(t=>yl(t)?t.type===Oa?!1:t.type!==ft||wh(t.children):!0)?e:null}function rA(e,t){if(!On||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function oA(e,t){const n=e.clientX,a=e.clientY,r=t.getBoundingClientRect(),o=r.left,i=r.top,l=r.right,u=r.bottom;return n>=o&&n<=l&&a>=i&&a<=u}function kh(){const e=gt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>r_(e.value)}),t}function jc(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}function u_(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}function iA(e,t){const n=e.split("").filter(a=>/[\d\-.]/.test(a)).filter((a,r,o)=>r===0&&/[-]/.test(a)||a==="."&&r===o.indexOf(".")||/\d/.test(a)).join("");if(t===0)return n.split(".")[0];if(t!==null&&/\.\d/.test(n)){const a=n.split(".");return[a[0],a[1].substring(0,t)].join(".")}return n}function sA(e){const t={};for(const n in e)t[mr(n)]=e[n];return t}function lA(e){const t=["checked","disabled"];return Object.fromEntries(Object.entries(e).filter(n=>{let[a,r]=n;return t.includes(a)?!!r:r!==void 0}))}const R1=["top","bottom"],uA=["start","end","left","right"];function c_(e,t){let[n,a]=e.split(" ");return a||(a=gh(R1,n)?"start":gh(uA,n)?"top":"center"),{side:d_(n,t),align:d_(a,t)}}function d_(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function f_(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function m_(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function F1(e){return{side:e.align,align:e.side}}function L1(e){return gh(R1,e.side)?"y":"x"}class qi{constructor(t){let{x:n,y:a,width:r,height:o}=t;this.x=n,this.y=a,this.width=r,this.height=o}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function q1(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function U1(e){return Array.isArray(e)?new qi({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function cA(e){if(e===document.documentElement)return visualViewport?new qi({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new qi({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const t=e.getBoundingClientRect();return new qi({x:t.x,y:t.y,width:e.clientWidth,height:e.clientHeight})}}function h_(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),a=n.transform;if(a){let r,o,i,l,u;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=Number(r[0]),i=Number(r[5]),l=Number(r[12]),u=Number(r[13]);else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=Number(r[0]),i=Number(r[3]),l=Number(r[4]),u=Number(r[5]);else return new qi(t);const f=n.transformOrigin,d=t.x-l-(1-o)*parseFloat(f),m=t.y-u-(1-i)*parseFloat(f.slice(f.indexOf(" ")+1)),p=o?t.width/o:e.offsetWidth+1,y=i?t.height/i:e.offsetHeight+1;return new qi({x:d,y:m,width:p,height:y})}else return new qi(t)}function Mu(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(r=>{a.onfinish=()=>{r(a)}})),a}const Sh=new WeakMap;function dA(e,t){Object.keys(t).forEach(n=>{if(s_(n)){const a=M1(n),r=Sh.get(e);if(t[n]==null)r?.forEach(o=>{const[i,l]=o;i===a&&(e.removeEventListener(a,l),r.delete(o))});else if(!r||![...r].some(o=>o[0]===a&&o[1]===t[n])){e.addEventListener(a,t[n]);const o=r||new Set;o.add([a,t[n]]),Sh.has(e)||Sh.set(e,o)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function fA(e,t){Object.keys(t).forEach(n=>{if(s_(n)){const a=M1(n),r=Sh.get(e);r?.forEach(o=>{const[i,l]=o;i===a&&(e.removeEventListener(a,l),r.delete(o))})}else e.removeAttribute(n)})}const Yc=2.4,H1=.2126729,W1=.7151522,z1=.072175,mA=.55,hA=.58,vA=.57,pA=.62,Ch=.03,j1=1.45,_A=5e-4,gA=1.25,yA=1.25,Y1=.078,K1=12.82051282051282,xh=.06,G1=.001;function Q1(e,t){const n=(e.r/255)**Yc,a=(e.g/255)**Yc,r=(e.b/255)**Yc,o=(t.r/255)**Yc,i=(t.g/255)**Yc,l=(t.b/255)**Yc;let u=n*H1+a*W1+r*z1,f=o*H1+i*W1+l*z1;if(u<=Ch&&(u+=(Ch-u)**j1),f<=Ch&&(f+=(Ch-f)**j1),Math.abs(f-u)<_A)return 0;let d;if(f>u){const m=(f**mA-u**hA)*gA;d=m<G1?0:m<Y1?m-m*K1*xh:m-xh}else{const m=(f**pA-u**vA)*yA;d=m>-G1?0:m>-Y1?m-m*K1*xh:m+xh}return d*100}function vi(e){uo(`Vuetify: ${e}`)}function Kc(e){uo(`Vuetify error: ${e}`)}function bA(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`,uo(`[Vuetify UPGRADE] '${e}' is deprecated, use ${t} instead.`)}const Ph=.20689655172413793,wA=e=>e>Ph**3?Math.cbrt(e):e/(3*Ph**2)+4/29,kA=e=>e>Ph?e**3:3*Ph**2*(e-4/29);function X1(e){const t=wA,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function J1(e){const t=kA,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const SA=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],CA=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,xA=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],PA=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function Z1(e){const t=Array(3),n=CA,a=SA;for(let r=0;r<3;++r)t[r]=Math.round(Xn(n(a[r][0]*e[0]+a[r][1]*e[1]+a[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function v_(e){let{r:t,g:n,b:a}=e;const r=[0,0,0],o=PA,i=xA;t=o(t/255),n=o(n/255),a=o(a/255);for(let l=0;l<3;++l)r[l]=i[l][0]*t+i[l][1]*n+i[l][2]*a;return r}function p_(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function EA(e){return p_(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const ek=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,DA={rgb:(e,t,n,a)=>({r:e,g:t,b:n,a}),rgba:(e,t,n,a)=>({r:e,g:t,b:n,a}),hsl:(e,t,n,a)=>tk({h:e,s:t,l:n,a}),hsla:(e,t,n,a)=>tk({h:e,s:t,l:n,a}),hsv:(e,t,n,a)=>Ui({h:e,s:t,v:n,a}),hsva:(e,t,n,a)=>Ui({h:e,s:t,v:n,a})};function xo(e){if(typeof e=="number")return(isNaN(e)||e<0||e>16777215)&&vi(`'${e}' is not a valid hex color`),{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&ek.test(e)){const{groups:t}=e.match(ek),{fn:n,values:a}=t,r=a.split(/,\s*|\s*\/\s*|\s+/).map((o,i)=>o.endsWith("%")||i>0&&i<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(o)/100:parseFloat(o));return DA[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;[3,4].includes(t.length)?t=t.split("").map(a=>a+a).join(""):[6,8].includes(t.length)||vi(`'${e}' is not a valid hex(a) color`);const n=parseInt(t,16);return(isNaN(n)||n<0||n>4294967295)&&vi(`'${e}' is not a valid hex(a) color`),ok(t)}else if(typeof e=="object"){if(Vu(e,["r","g","b"]))return e;if(Vu(e,["h","s","l"]))return Ui(y_(e));if(Vu(e,["h","s","v"]))return Ui(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ui(e){const{h:t,s:n,v:a,a:r}=e,o=l=>{const u=(l+t/60)%6;return a-a*n*Math.max(Math.min(u,4-u,1),0)},i=[o(5),o(3),o(1)].map(l=>Math.round(l*255));return{r:i[0],g:i[1],b:i[2],a:r}}function tk(e){return Ui(y_(e))}function Sf(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,a=e.b/255,r=Math.max(t,n,a),o=Math.min(t,n,a);let i=0;r!==o&&(r===t?i=60*(0+(n-a)/(r-o)):r===n?i=60*(2+(a-t)/(r-o)):r===a&&(i=60*(4+(t-n)/(r-o)))),i<0&&(i=i+360);const l=r===0?0:(r-o)/r,u=[i,l,r];return{h:u[0],s:u[1],v:u[2],a:e.a}}function g_(e){const{h:t,s:n,v:a,a:r}=e,o=a-a*n/2,i=o===1||o===0?0:(a-o)/Math.min(o,1-o);return{h:t,s:i,l:o,a:r}}function y_(e){const{h:t,s:n,l:a,a:r}=e,o=a+n*Math.min(a,1-a),i=o===0?0:2-2*a/o;return{h:t,s:i,v:o,a:r}}function nk(e){let{r:t,g:n,b:a,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${a})`:`rgba(${t}, ${n}, ${a}, ${r})`}function ak(e){return nk(Ui(e))}function Eh(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function rk(e){let{r:t,g:n,b:a,a:r}=e;return`#${[Eh(t),Eh(n),Eh(a),r!==void 0?Eh(Math.round(r*255)):""].join("")}`}function ok(e){e=VA(e);let[t,n,a,r]=nA(e,2).map(o=>parseInt(o,16));return r=r===void 0?r:r/255,{r:t,g:n,b:a,a:r}}function TA(e){const t=ok(e);return Sf(t)}function ik(e){return rk(Ui(e))}function VA(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=T1(T1(e,6),8,"F")),e}function OA(e,t){const n=X1(v_(e));return n[0]=n[0]+t*10,Z1(J1(n))}function IA(e,t){const n=X1(v_(e));return n[0]=n[0]-t*10,Z1(J1(n))}function b_(e){const t=xo(e);return v_(t)[1]}function AA(e,t){const n=b_(e),a=b_(t),r=Math.max(n,a),o=Math.min(n,a);return(r+.05)/(o+.05)}function sk(e){const t=Math.abs(Q1(xo(0),xo(e)));return Math.abs(Q1(xo(16777215),xo(e)))>Math.min(t,50)?"#fff":"#000"}function We(e,t){return n=>Object.keys(e).reduce((a,r)=>{const i=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?a[r]={...i,default:n[r]}:a[r]=i,t&&!a[r].source&&(a[r].source=t),a},{})}const Mt=We({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function xa(e,t){const n=$i();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Hi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=xa(e).type;return Ou(t?.aliasName||t?.name)}function MA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xa("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Gc=Symbol.for("vuetify:defaults");function NA(e){return Re(e)}function w_(){const e=un(Gc);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function ya(e,t){const n=w_(),a=Re(e),r=N(()=>{if(Pe(t?.disabled))return n.value;const i=Pe(t?.scoped),l=Pe(t?.reset),u=Pe(t?.root);if(a.value==null&&!(i||l||u))return n.value;let f=Br(a.value,{prev:n.value});if(i)return f;if(l||u){const d=Number(l||1/0);for(let m=0;m<=d&&!(!f||!("prev"in f));m++)f=f.prev;return f&&typeof u=="string"&&u in f&&(f=Br(Br(f,{prev:f}),f[u])),f}return f.prev?Br(f.prev,f):f});return ia(Gc,r),r}function BA(e,t){return e.props&&(typeof e.props[t]<"u"||typeof e.props[Ou(t)]<"u")}function $A(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w_();const a=xa("useDefaults");if(t=t??a.type.name??a.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=N(()=>n.value?.[e._as??t]),o=new Proxy(e,{get(u,f){const d=Reflect.get(u,f);if(f==="class"||f==="style")return[r.value?.[f],d].filter(y=>y!=null);if(BA(a.vnode,f))return d;const m=r.value?.[f];if(m!==void 0)return m;const p=n.value?.global?.[f];return p!==void 0?p:d}}),i=gt();ca(()=>{if(r.value){const u=Object.entries(r.value).filter(f=>{let[d]=f;return d.startsWith(d[0].toUpperCase())});i.value=u.length?Object.fromEntries(u):void 0}else i.value=void 0});function l(){const u=MA(Gc,a);ia(Gc,N(()=>i.value?Br(u?.value??{},i.value):u?.value))}return{props:o,provideSubDefaults:l}}function Po(e){if(e._setup=e._setup??e.setup,!e.name)return vi("The component is missing an explicit name, unable to generate default prop value"),e;if(e._setup){e.props=We(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(a){return Sl(a,t)},e.props._as=String,e.setup=function(a,r){const o=w_();if(!o.value)return e._setup(a,r);const{props:i,provideSubDefaults:l}=$A(a,a._as??e.name,o),u=e._setup(i,r);return l(),u}}return e}function at(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Po:or)(t)}function RA(e,t){return t.props=e,t}function Wi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return at()({name:n??So(mr(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Mt()},setup(a,r){let{slots:o}=r;return()=>Ri(a.tag,{class:[e,a.class],style:a.style},o.default?.())}})}function lk(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Cf="cubic-bezier(0.4, 0, 0.2, 1)",FA="cubic-bezier(0.0, 0, 0.2, 1)",LA="cubic-bezier(0.4, 0, 1, 1)";function uk(e,t,n){return Object.keys(e).filter(a=>s_(a)&&a.endsWith(t)).reduce((a,r)=>(a[r.slice(0,-t.length)]=o=>e[r](o,n(o)),a),{})}function k_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?qA(e):S_(e))return e;e=e.parentElement}return document.scrollingElement}function Dh(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(S_(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function S_(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function qA(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function UA(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function ut(e){const t=xa("useRender");t.render=e}function Lt(e,t,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m=>m,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:m=>m;const o=xa("useProxiedModel"),i=Re(e[t]!==void 0?e[t]:n),l=Ou(t),f=N(l!==t?()=>(e[t],!!((o.vnode.props?.hasOwnProperty(t)||o.vnode.props?.hasOwnProperty(l))&&(o.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||o.vnode.props?.hasOwnProperty(`onUpdate:${l}`)))):()=>(e[t],!!(o.vnode.props?.hasOwnProperty(t)&&o.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));Nr(()=>!f.value,()=>{_t(()=>e[t],m=>{i.value=m})});const d=N({get(){const m=e[t];return a(f.value?m:i.value)},set(m){const p=r(m),y=Wt(f.value?e[t]:i.value);y===p||a(y)===m||(i.value=p,o?.emit(`update:${t}`,p))}});return Object.defineProperty(d,"externalValue",{get:()=>f.value?e[t]:i.value}),d}const HA={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},ck="$vuetify.",dk=(e,t)=>e.replace(/\{(\d+)\}/g,(n,a)=>String(t[Number(a)])),fk=(e,t,n)=>function(a){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(!a.startsWith(ck))return dk(a,o);const l=a.replace(ck,""),u=e.value&&n.value[e.value],f=t.value&&n.value[t.value];let d=Tu(u,l,null);return d||(vi(`Translation key "${a}" not found in "${e.value}", trying fallback locale`),d=Tu(f,l,null)),d||(Kc(`Translation key "${a}" not found in fallback`),d=a),typeof d!="string"&&(Kc(`Translation key "${a}" has a non-string value`),d=a),dk(d,o)};function mk(e,t){return(n,a)=>new Intl.NumberFormat([e.value,t.value],a).format(n)}function C_(e,t,n){const a=Lt(e,t,e[t]??n.value);return a.value=e[t]??n.value,_t(n,r=>{e[t]==null&&(a.value=n.value)}),a}function hk(e){return t=>{const n=C_(t,"locale",e.current),a=C_(t,"fallback",e.fallback),r=C_(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:a,messages:r,t:fk(n,a,r),n:mk(n,a),provide:hk({current:n,fallback:a,messages:r})}}}function WA(e){const t=gt(e?.locale??"en"),n=gt(e?.fallback??"en"),a=Re({en:HA,...e?.messages});return{name:"vuetify",current:t,fallback:n,messages:a,t:fk(t,n,a),n:mk(t,n),provide:hk({current:t,fallback:n,messages:a})}}const Qc=Symbol.for("vuetify:locale");function zA(e){return e.name!=null}function jA(e){const t=e?.adapter&&zA(e?.adapter)?e?.adapter:WA(e),n=GA(t,e);return{...t,...n}}function ba(){const e=un(Qc);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function YA(e){const t=un(Qc);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),a=QA(n,t.rtl,e),r={...n,...a};return ia(Qc,r),r}function KA(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function GA(e,t){const n=Re(t?.rtl??KA()),a=N(()=>n.value[e.current.value]??!1);return{isRtl:a,rtl:n,rtlClasses:ke(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function QA(e,t,n){const a=N(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:a,rtl:t,rtlClasses:ke(()=>`v-locale--is-${a.value?"rtl":"ltr"}`)}}function Fa(){const e=un(Qc);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}function xf(e){const t=e.slice(-2).toUpperCase();switch(!0){case e==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case e==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(t):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(t):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(t):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(t):return{firstDay:6,firstWeekSize:1};case t==="MV":return{firstDay:5,firstWeekSize:1};case t==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function XA(e,t,n){const a=[];let r=[];const o=vk(e),i=pk(e),l=n??xf(t)?.firstDay??0,u=(o.getDay()-l+7)%7,f=(i.getDay()-l+7)%7;for(let d=0;d<u;d++){const m=new Date(o);m.setDate(m.getDate()-(u-d)),r.push(m)}for(let d=1;d<=i.getDate();d++){const m=new Date(e.getFullYear(),e.getMonth(),d);r.push(m),r.length===7&&(a.push(r),r=[])}for(let d=1;d<7-f;d++){const m=new Date(i);m.setDate(m.getDate()+d),r.push(m)}return r.length>0&&a.push(r),a}function x_(e,t,n){const a=n??xf(t)?.firstDay??0,r=new Date(e);for(;r.getDay()!==a;)r.setDate(r.getDate()-1);return r}function JA(e,t){const n=new Date(e),a=((xf(t)?.firstDay??0)+6)%7;for(;n.getDay()!==a;)n.setDate(n.getDate()+1);return n}function vk(e){return new Date(e.getFullYear(),e.getMonth(),1)}function pk(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function ZA(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const e2=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function _k(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(e2.test(e))return ZA(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const gk=new Date(2e3,0,2);function t2(e,t){const n=t??xf(e)?.firstDay??0;return Li(7).map(a=>{const r=new Date(gk);return r.setDate(gk.getDate()+n+a),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function n2(e,t,n,a){const r=_k(e)??new Date,o=a?.[t];if(typeof o=="function")return o(r,t,n);let i={};switch(t){case"fullDate":i={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":i={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const l=r.getDate(),u=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${l} ${u}`;case"normalDateWithWeekday":i={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":i={month:"short",day:"numeric"};break;case"year":i={year:"numeric"};break;case"month":i={month:"long"};break;case"monthShort":i={month:"short"};break;case"monthAndYear":i={month:"long",year:"numeric"};break;case"monthAndDate":i={month:"long",day:"numeric"};break;case"weekday":i={weekday:"long"};break;case"weekdayShort":i={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":i={hour:"numeric",hour12:!0};break;case"hours24h":i={hour:"numeric",hour12:!1};break;case"minutes":i={minute:"numeric"};break;case"seconds":i={second:"numeric"};break;case"fullTime":i={hour:"numeric",minute:"numeric"};break;case"fullTime12h":i={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":i={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":i={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":i={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":i={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":i={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return i={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,i).format(r).replace(/, /g," ");case"keyboardDateTime12h":return i={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,i).format(r).replace(/, /g," ");case"keyboardDateTime24h":return i={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,i).format(r).replace(/, /g," ");default:i=o??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,i).format(r)}function a2(e,t){const n=e.toJsDate(t),a=n.getFullYear(),r=V1(String(n.getMonth()+1),2,"0"),o=V1(String(n.getDate()),2,"0");return`${a}-${r}-${o}`}function r2(e){const[t,n,a]=e.split("-").map(Number);return new Date(t,n-1,a)}function o2(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function i2(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function Th(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function s2(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function l2(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function P_(e){return e.getFullYear()}function u2(e){return e.getMonth()}function c2(e,t,n,a){const r=xf(t),o=n??r?.firstDay??0,i=a??r?.firstWeekSize??1;function l(y){const b=new Date(y,0,1);return 7-E_(b,x_(b,t,o),"days")}let u=P_(e);const f=Th(x_(e,t,o),6);u<P_(f)&&l(u+1)>=i&&u++;const d=new Date(u,0,1),m=l(u),p=m>=i?Th(d,m-7):Th(d,m);return 1+E_(bk(e),Oh(p),"weeks")}function d2(e){return e.getDate()}function f2(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function m2(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function h2(e){return e.getHours()}function v2(e){return e.getMinutes()}function p2(e){return new Date(e.getFullYear(),0,1)}function _2(e){return new Date(e.getFullYear(),11,31)}function g2(e,t){return Vh(e,t[0])&&w2(e,t[1])}function y2(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Vh(e,t){return e.getTime()>t.getTime()}function b2(e,t){return Vh(Oh(e),Oh(t))}function w2(e,t){return e.getTime()<t.getTime()}function yk(e,t){return e.getTime()===t.getTime()}function k2(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function S2(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function C2(e,t){return e.getFullYear()===t.getFullYear()}function E_(e,t,n){const a=new Date(e),r=new Date(t);switch(n){case"years":return a.getFullYear()-r.getFullYear();case"quarters":return Math.floor((a.getMonth()-r.getMonth()+(a.getFullYear()-r.getFullYear())*12)/4);case"months":return a.getMonth()-r.getMonth()+(a.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((a.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((a.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((a.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((a.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((a.getTime()-r.getTime())/1e3);default:return a.getTime()-r.getTime()}}function x2(e,t){const n=new Date(e);return n.setHours(t),n}function P2(e,t){const n=new Date(e);return n.setMinutes(t),n}function E2(e,t){const n=new Date(e);return n.setMonth(t),n}function D2(e,t){const n=new Date(e);return n.setDate(t),n}function T2(e,t){const n=new Date(e);return n.setFullYear(t),n}function Oh(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function bk(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class V2{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return _k(t)}toJsDate(t){return t}toISO(t){return a2(this,t)}parseISO(t){return r2(t)}addMinutes(t,n){return o2(t,n)}addHours(t,n){return i2(t,n)}addDays(t,n){return Th(t,n)}addWeeks(t,n){return s2(t,n)}addMonths(t,n){return l2(t,n)}getWeekArray(t,n){const a=n!==void 0?Number(n):void 0;return XA(t,this.locale,a)}startOfWeek(t,n){const a=n!==void 0?Number(n):void 0;return x_(t,this.locale,a)}endOfWeek(t){return JA(t,this.locale)}startOfMonth(t){return vk(t)}endOfMonth(t){return pk(t)}format(t,n){return n2(t,n,this.locale,this.formats)}isEqual(t,n){return yk(t,n)}isValid(t){return y2(t)}isWithinRange(t,n){return g2(t,n)}isAfter(t,n){return Vh(t,n)}isAfterDay(t,n){return b2(t,n)}isBefore(t,n){return!Vh(t,n)&&!yk(t,n)}isSameDay(t,n){return k2(t,n)}isSameMonth(t,n){return S2(t,n)}isSameYear(t,n){return C2(t,n)}setMinutes(t,n){return P2(t,n)}setHours(t,n){return x2(t,n)}setMonth(t,n){return E2(t,n)}setDate(t,n){return D2(t,n)}setYear(t,n){return T2(t,n)}getDiff(t,n,a){return E_(t,n,a)}getWeekdays(t){const n=t!==void 0?Number(t):void 0;return t2(this.locale,n)}getYear(t){return P_(t)}getMonth(t){return u2(t)}getWeek(t,n,a){const r=n!==void 0?Number(n):void 0;return c2(t,this.locale,r,a)}getDate(t){return d2(t)}getNextMonth(t){return f2(t)}getPreviousMonth(t){return m2(t)}getHours(t){return h2(t)}getMinutes(t){return v2(t)}startOfDay(t){return Oh(t)}endOfDay(t){return bk(t)}startOfYear(t){return p2(t)}endOfYear(t){return _2(t)}}const wk=Symbol.for("vuetify:date-options"),kk=Symbol.for("vuetify:date-adapter");function O2(e,t){const n=Br({adapter:V2,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:Sk(n,t)}}function I2(e,t,n){const a=e.getDiff(e.endOfDay(n??t),e.startOfDay(t),"days"),r=[t];for(let o=1;o<a;o++){const i=e.addDays(t,o);r.push(i)}return n&&r.push(e.endOfDay(n)),r}function Sk(e,t){const n=Ta(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return _t(t.current,a=>{n.locale=e.locale[a]??a??n.locale}),n}function Pf(){const e=un(wk);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=ba();return Sk(e,t)}const Ih=["sm","md","lg","xl","xxl"],D_=Symbol.for("vuetify:display"),Ck={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},A2=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ck;return Br(Ck,e)};function xk(e){return On&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function Pk(e){return On&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Ek(e){const t=On&&!e?window.navigator.userAgent:"ssr";function n(b){return!!t.match(b)}const a=n(/android/i),r=n(/iphone|ipad|ipod/i),o=n(/cordova/i),i=n(/electron/i),l=n(/chrome/i),u=n(/edge/i),f=n(/firefox/i),d=n(/opera/i),m=n(/win/i),p=n(/mac/i),y=n(/linux/i);return{android:a,ios:r,cordova:o,electron:i,chrome:l,edge:u,firefox:f,opera:d,win:m,mac:p,linux:y,touch:QI,ssr:t==="ssr"}}function M2(e,t){const{thresholds:n,mobileBreakpoint:a}=A2(e),r=gt(Pk(t)),o=gt(Ek(t)),i=Ta({}),l=gt(xk(t));function u(){r.value=Pk(),l.value=xk()}function f(){u(),o.value=Ek()}return ca(()=>{const d=l.value<n.sm,m=l.value<n.md&&!d,p=l.value<n.lg&&!(m||d),y=l.value<n.xl&&!(p||m||d),b=l.value<n.xxl&&!(y||p||m||d),C=l.value>=n.xxl,w=d?"xs":m?"sm":p?"md":y?"lg":b?"xl":"xxl",k=typeof a=="number"?a:n[a],T=l.value<k;i.xs=d,i.sm=m,i.md=p,i.lg=y,i.xl=b,i.xxl=C,i.smAndUp=!d,i.mdAndUp=!(d||m),i.lgAndUp=!(d||m||p),i.xlAndUp=!(d||m||p||y),i.smAndDown=!(p||y||b||C),i.mdAndDown=!(y||b||C),i.lgAndDown=!(b||C),i.xlAndDown=!C,i.name=w,i.height=r.value,i.width=l.value,i.mobile=T,i.mobileBreakpoint=a,i.platform=o.value,i.thresholds=n}),On&&(window.addEventListener("resize",u,{passive:!0}),Ba(()=>{window.removeEventListener("resize",u)},!0)),{...Ic(i),update:f,ssr:!!t}}const Nu=We({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Uo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();const n=un(D_);if(!n)throw new Error("Could not find Vuetify display injection");const a=N(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),r=ke(()=>t?{[`${t}--mobile`]:a.value}:{});return{...n,displayClasses:r,mobile:a}}const Dk=Symbol.for("vuetify:goto");function Tk(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function N2(e){return T_(e)??(document.scrollingElement||document.body)}function T_(e){return typeof e=="string"?document.querySelector(e):r_(e)}function V_(e,t,n){if(typeof e=="number")return t&&n?-e:e;let a=T_(e),r=0;for(;a;)r+=t?a.offsetLeft:a.offsetTop,a=a.offsetParent;return r}function B2(e,t){return{rtl:t.isRtl,options:Br(Tk(),e)}}async function Vk(e,t,n,a){const r=n?"scrollLeft":"scrollTop",o=Br(a?.options??Tk(),t),i=a?.rtl.value,l=(typeof e=="number"?e:T_(e))??0,u=o.container==="parent"&&l instanceof HTMLElement?l.parentElement:N2(o.container),f=typeof o.easing=="function"?o.easing:o.patterns[o.easing];if(!f)throw new TypeError(`Easing function "${o.easing}" not found.`);let d;if(typeof l=="number")d=V_(l,n,i);else if(d=V_(l,n,i)-V_(u,n,i),o.layout){const b=window.getComputedStyle(l).getPropertyValue("--v-layout-top");b&&(d-=parseInt(b,10))}d+=o.offset,d=R2(u,d,!!i,!!n);const m=u[r]??0;if(d===m)return Promise.resolve(d);const p=performance.now();return new Promise(y=>requestAnimationFrame(function b(C){const k=(C-p)/o.duration,T=Math.floor(m+(d-m)*f(Xn(k,0,1)));if(u[r]=T,k>=1&&Math.abs(T-u[r])<10)return y(d);if(k>2)return vi("Scroll target is not reachable"),y(u[r]);requestAnimationFrame(b)}))}function $2(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=un(Dk),{isRtl:n}=Fa();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const a={...t,rtl:ke(()=>t.rtl.value||n.value)};async function r(o,i){return Vk(o,Br(e,i),!1,a)}return r.horizontal=async(o,i)=>Vk(o,Br(e,i),!0,a),r}function R2(e,t,n,a){const{scrollWidth:r,scrollHeight:o}=e,[i,l]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let u,f;return a?n?(u=-(r-i),f=0):(u=0,f=r-i):(u=0,f=o+-l),Xn(t,u,f)}const F2={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette"},L2={component:e=>Ri(M_,{...e,class:"mdi"})},Ut=[String,Function,Object,Array],O_=Symbol.for("vuetify:icons"),Ah=We({icon:{type:Ut},tag:{type:[String,Object,Function],required:!0}},"icon"),I_=at()({name:"VComponentIcon",props:Ah(),setup(e,t){let{slots:n}=t;return()=>{const a=e.icon;return h(e.tag,null,{default:()=>[e.icon?h(a,null,null):n.default?.()]})}}}),A_=Po({name:"VSvgIcon",inheritAttrs:!1,props:Ah(),setup(e,t){let{attrs:n}=t;return()=>h(e.tag,tt(n,{style:null}),{default:()=>[x("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(a=>Array.isArray(a)?x("path",{d:a[0],"fill-opacity":a[1]},null):x("path",{d:a},null)):x("path",{d:e.icon},null)])]})}}),q2=Po({name:"VLigatureIcon",props:Ah(),setup(e){return()=>h(e.tag,null,{default:()=>[e.icon]})}}),M_=Po({name:"VClassIcon",props:Ah(),setup(e){return()=>h(e.tag,{class:Ye(e.icon)},null)}});function U2(){return{svg:{component:A_},class:{component:M_}}}function H2(e){const t=U2(),n=e?.defaultSet??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=L2),Br({defaultSet:n,sets:t,aliases:{...F2,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const W2=e=>{const t=un(O_);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:N(()=>{const a=Xa(e);if(!a)return{component:I_};let r=a;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=t.aliases?.[r.slice(1)])),r||vi(`Could not find aliased icon "${a}"`),Array.isArray(r))return{component:A_,icon:r};if(typeof r!="string")return{component:I_,icon:r};const o=Object.keys(t.sets).find(u=>typeof r=="string"&&r.startsWith(`${u}:`)),i=o?r.slice(o.length+1):r;return{component:t.sets[o??t.defaultSet].component,icon:i}})}},Ef=Symbol.for("vuetify:theme"),bn=We({theme:String},"theme");function Ok(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function z2(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ok();const t=Ok();if(!e)return{...t,isDisabled:!0};const n={};for(const[a,r]of Object.entries(e.themes??{})){const o=r.dark||a==="dark"?t.themes?.dark:t.themes?.light;n[a]=Br(o,r)}return Br(t,{...e,themes:n})}function Bu(e,t,n,a){e.push(`${G2(t,a)} {
`,...n.map(r=>`  ${r};
`),`}
`)}function Ik(e){const t=e.dark?2:1,n=e.dark?1:2,a=[];for(const[r,o]of Object.entries(e.colors)){const i=xo(o);a.push(`--v-theme-${r}: ${i.r},${i.g},${i.b}`),r.startsWith("on-")||a.push(`--v-theme-${r}-overlay-multiplier: ${b_(o)>.18?t:n}`)}for(const[r,o]of Object.entries(e.variables)){const i=typeof o=="string"&&o.startsWith("#")?xo(o):void 0,l=i?`${i.r}, ${i.g}, ${i.b}`:void 0;a.push(`--v-${r}: ${l??o}`)}return a}function j2(e,t,n){const a={};if(n)for(const r of["lighten","darken"]){const o=r==="lighten"?OA:IA;for(const i of Li(n[r],1))a[`${e}-${r}-${i}`]=rk(o(xo(t),i))}return a}function Y2(e,t){if(!t)return{};let n={};for(const a of t.colors){const r=e[a];r&&(n={...n,...j2(a,r,t)})}return n}function K2(e){const t={};for(const n of Object.keys(e)){if(n.startsWith("on-")||e[`on-${n}`])continue;const a=`on-${n}`,r=xo(e[n]);t[a]=sk(r)}return t}function G2(e,t){if(!t)return e;const n=`:where(${t})`;return e===":root"?n:`${n} ${e}`}function Q2(e,t){e&&(e.innerHTML=t)}function X2(e,t){if(!On)return null;let n=document.getElementById(e);return n||(n=document.createElement("style"),n.id=e,n.type="text/css",t&&n.setAttribute("nonce",t),document.head.appendChild(n)),n}function J2(e){const t=z2(e),n=gt(t.defaultTheme),a=Re(t.themes),r=N(()=>{const f={};for(const[d,m]of Object.entries(a.value)){const p={...m.colors,...Y2(m.colors,t.variations)};f[d]={...m,colors:{...p,...K2(p)}}}return f}),o=ke(()=>r.value[n.value]),i=N(()=>{const f=[];o.value?.dark&&Bu(f,":root",["color-scheme: dark"],t.scope),Bu(f,":root",Ik(o.value),t.scope);for(const[y,b]of Object.entries(r.value))Bu(f,`.v-theme--${y}`,[`color-scheme: ${b.dark?"dark":"normal"}`,...Ik(b)],t.scope);const d=[],m=[],p=new Set(Object.values(r.value).flatMap(y=>Object.keys(y.colors)));for(const y of p)y.startsWith("on-")?Bu(m,`.${y}`,[`color: rgb(var(--v-theme-${y})) !important`],t.scope):(Bu(d,`.bg-${y}`,[`--v-theme-overlay-multiplier: var(--v-theme-${y}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${y})) !important`,`color: rgb(var(--v-theme-on-${y})) !important`],t.scope),Bu(m,`.text-${y}`,[`color: rgb(var(--v-theme-${y})) !important`],t.scope),Bu(m,`.border-${y}`,[`--v-border-color: var(--v-theme-${y})`],t.scope));return f.push(...d,...m),f.map((y,b)=>b===0?y:`    ${y}`).join("")});function l(f){if(t.isDisabled)return;const d=f._context.provides.usehead;if(d){let m=function(){return{style:[{textContent:i.value,id:t.stylesheetId,nonce:t.cspNonce||!1}]}};if(d.push){const p=d.push(m);On&&_t(i,()=>{p.patch(m)})}else On?(d.addHeadObjs(ke(m)),ca(()=>d.updateDOM())):d.addHeadObjs(m())}else{let m=function(){Q2(X2(t.stylesheetId,t.cspNonce),i.value)};On?_t(i,m,{immediate:!0}):m()}}const u=ke(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:a,current:o,computedThemes:r,themeClasses:u,styles:i,global:{name:n,current:o}}}function Nn(e){xa("provideTheme");const t=un(Ef,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=ke(()=>e.theme??t.name.value),a=ke(()=>t.themes.value[n.value]),r=ke(()=>t.isDisabled?void 0:`v-theme--${n.value}`),o={...t,name:n,current:a,themeClasses:r};return ia(Ef,o),o}function N_(){xa("useTheme");const e=un(Ef,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function pi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=kh(),a=Re();if(On){const r=new ResizeObserver(o=>{e?.(o,r),o.length&&(t==="content"?a.value=o[0].contentRect:a.value=o[0].target.getBoundingClientRect())});hr(()=>{r.disconnect()}),_t(()=>n.el,(o,i)=>{i&&(r.unobserve(i),a.value=void 0),o&&r.observe(o)},{flush:"post"})}return{resizeRef:n,contentRect:vl(a)}}const Df=Symbol.for("vuetify:layout"),Ak=Symbol.for("vuetify:layout-item"),Mk=1e3,Nk=We({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),$u=We({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Bk(){const e=un(Df);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Ru(e){const t=un(Df);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Qr()}`,a=xa("useLayoutItem");ia(Ak,{id:n});const r=gt(!1);Vp(()=>r.value=!0),K0(()=>r.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:i}=t.register(a,{...e,active:N(()=>r.value?!1:e.active.value),id:n});return hr(()=>t.unregister(n)),{layoutItemStyles:o,layoutRect:t.layoutRect,layoutItemScrimStyles:i}}const Z2=(e,t,n,a)=>{let r={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...r}}];for(const i of e){const l=t.get(i),u=n.get(i),f=a.get(i);if(!l||!u||!f)continue;const d={...r,[l.value]:parseInt(r[l.value],10)+(f.value?parseInt(u.value,10):0)};o.push({id:i,layer:d}),r=d}return o};function $k(e){const t=un(Df,null),n=N(()=>t?t.rootZIndex.value-100:Mk),a=Re([]),r=Ta(new Map),o=Ta(new Map),i=Ta(new Map),l=Ta(new Map),u=Ta(new Map),{resizeRef:f,contentRect:d}=pi(),m=N(()=>{const R=new Map,W=e.overlaps??[];for(const q of W.filter(z=>z.includes(":"))){const[z,Y]=q.split(":");if(!a.value.includes(z)||!a.value.includes(Y))continue;const K=r.get(z),ae=r.get(Y),te=o.get(z),J=o.get(Y);!K||!ae||!te||!J||(R.set(Y,{position:K.value,amount:parseInt(te.value,10)}),R.set(z,{position:ae.value,amount:-parseInt(J.value,10)}))}return R}),p=N(()=>{const R=[...new Set([...i.values()].map(q=>q.value))].sort((q,z)=>q-z),W=[];for(const q of R){const z=a.value.filter(Y=>i.get(Y)?.value===q);W.push(...z)}return Z2(W,r,o,l)}),y=N(()=>!Array.from(u.values()).some(R=>R.value)),b=N(()=>p.value[p.value.length-1].layer),C=ke(()=>({"--v-layout-left":It(b.value.left),"--v-layout-right":It(b.value.right),"--v-layout-top":It(b.value.top),"--v-layout-bottom":It(b.value.bottom),...y.value?void 0:{transition:"none"}})),w=N(()=>p.value.slice(1).map((R,W)=>{let{id:q}=R;const{layer:z}=p.value[W],Y=o.get(q),K=r.get(q);return{id:q,...z,size:Number(Y.value),position:K.value}})),k=R=>w.value.find(W=>W.id===R),T=xa("createLayout"),V=gt(!1);yn(()=>{V.value=!0}),ia(Df,{register:(R,W)=>{let{id:q,order:z,position:Y,layoutSize:K,elementSize:ae,active:te,disableTransitions:J,absolute:ne}=W;i.set(q,z),r.set(q,Y),o.set(q,K),l.set(q,te),J&&u.set(q,J);const pe=Hc(Ak,T?.vnode).indexOf(R);pe>-1?a.value.splice(pe,0,q):a.value.push(q);const Ee=N(()=>w.value.findIndex(Te=>Te.id===q)),me=N(()=>n.value+p.value.length*2-Ee.value*2),fe=N(()=>{const Te=Y.value==="left"||Y.value==="right",ue=Y.value==="right",De=Y.value==="bottom",Me=ae.value??K.value,Oe=Me===0?"%":"px",B={[Y.value]:0,zIndex:me.value,transform:`translate${Te?"X":"Y"}(${(te.value?0:-(Me===0?100:Me))*(ue||De?-1:1)}${Oe})`,position:ne.value||n.value!==Mk?"absolute":"fixed",...y.value?void 0:{transition:"none"}};if(!V.value)return B;const Ae=w.value[Ee.value];if(!Ae)throw new Error(`[Vuetify] Could not find layout item "${q}"`);const Fe=m.value.get(q);return Fe&&(Ae[Fe.position]+=Fe.amount),{...B,height:Te?`calc(100% - ${Ae.top}px - ${Ae.bottom}px)`:ae.value?`${ae.value}px`:void 0,left:ue?void 0:`${Ae.left}px`,right:ue?`${Ae.right}px`:void 0,top:Y.value!=="bottom"?`${Ae.top}px`:void 0,bottom:Y.value!=="top"?`${Ae.bottom}px`:void 0,width:Te?ae.value?`${ae.value}px`:void 0:`calc(100% - ${Ae.left}px - ${Ae.right}px)`}}),le=N(()=>({zIndex:me.value-1}));return{layoutItemStyles:fe,layoutItemScrimStyles:le,zIndex:me}},unregister:R=>{i.delete(R),r.delete(R),o.delete(R),l.delete(R),u.delete(R),a.value=a.value.filter(W=>W!==R)},mainRect:b,mainStyles:C,getLayoutItem:k,items:w,layoutRect:d,rootZIndex:n});const M=ke(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),I=ke(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:M,layoutStyles:I,getLayoutItem:k,items:w,layoutRect:d,layoutRef:f}}function Rk(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,a=Br(t,n),{aliases:r={},components:o={},directives:i={}}=a,l=Vc();return l.run(()=>{const u=NA(a.defaults),f=M2(a.display,a.ssr),d=J2(a.theme),m=H2(a.icons),p=jA(a.locale),y=O2(a.date,p),b=B2(a.goTo,p);function C(k){for(const V in i)k.directive(V,i[V]);for(const V in o)k.component(V,o[V]);for(const V in r)k.component(V,Po({...r[V],name:V,aliasName:r[V].name}));const T=Vc();if(T.run(()=>{d.install(k)}),k.onUnmount(()=>T.stop()),k.provide(Gc,u),k.provide(D_,f),k.provide(Ef,d),k.provide(O_,m),k.provide(Qc,p),k.provide(wk,y.options),k.provide(kk,y.instance),k.provide(Dk,b),On&&a.ssr)if(k.$nuxt)k.$nuxt.hook("app:suspense:resolve",()=>{f.update()});else{const{mount:V}=k;k.mount=function(){const M=V(...arguments);return Qt(()=>f.update()),k.mount=V,M}}k.mixin({computed:{$vuetify(){return Ta({defaults:Xc.call(this,Gc),display:Xc.call(this,D_),theme:Xc.call(this,Ef),icons:Xc.call(this,O_),locale:Xc.call(this,Qc),date:Xc.call(this,kk)})}}})}function w(){l.stop()}return{install:C,unmount:w,defaults:u,display:f,theme:d,icons:m,locale:p,date:y,goTo:b}})}const eM="3.8.12";Rk.version=eM;function Xc(e){const t=this.$,n=t.parent?.provides??t.vnode.appContext?.provides;if(n&&e in n)return n[e]}const Fk=6048e5,tM=864e5,nM=6e4,Lk=36e5,aM=1e3,qk=Symbol.for("constructDateFrom");function Jn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&qk in e?e[qk](t):e instanceof Date?new e.constructor(t):new Date(t)}function Jt(e,t){return Jn(t||e,e)}function Ho(e,t,n){const a=Jt(e,n?.in);return isNaN(t)?Jn(n?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function _i(e,t,n){const a=Jt(e,n?.in);if(isNaN(t))return Jn(e,NaN);if(!t)return a;const r=a.getDate(),o=Jn(e,a.getTime());o.setMonth(a.getMonth()+t+1,0);const i=o.getDate();return r>=i?o:(a.setFullYear(o.getFullYear(),o.getMonth(),r),a)}function Uk(e,t,n){const{years:a=0,months:r=0,weeks:o=0,days:i=0,hours:l=0,minutes:u=0,seconds:f=0}=t,d=Jt(e,n?.in),m=r||a?_i(d,r+a*12):d,p=i||o?Ho(m,i+o*7):m,y=u+l*60,C=(f+y*60)*1e3;return Jn(e,+p+C)}function rM(e,t,n){return Jn(e,+Jt(e)+t)}function oM(e,t,n){return rM(e,t*Lk)}let iM={};function Fu(){return iM}function gi(e,t){const n=Fu(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Jt(e,t?.in),o=r.getDay(),i=(o<a?7:0)+o-a;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Jc(e,t){return gi(e,{...t,weekStartsOn:1})}function Hk(e,t){const n=Jt(e,t?.in),a=n.getFullYear(),r=Jn(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const o=Jc(r),i=Jn(n,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const l=Jc(i);return n.getTime()>=o.getTime()?a+1:n.getTime()>=l.getTime()?a:a-1}function Mh(e){const t=Jt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Tf(e,...t){const n=Jn.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function Wk(e,t){const n=Jt(e,t?.in);return n.setHours(0,0,0,0),n}function zk(e,t,n){const[a,r]=Tf(n?.in,e,t),o=Wk(a),i=Wk(r),l=+o-Mh(o),u=+i-Mh(i);return Math.round((l-u)/tM)}function sM(e,t){const n=Hk(e,t),a=Jn(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Jc(a)}function lM(e,t,n){return _i(e,t*3,n)}function B_(e,t,n){return _i(e,t*12,n)}function jk(e,t){const n=+Jt(e)-+Jt(t);return n<0?-1:n>0?1:n}function Yk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vf(e){return!(!Yk(e)&&typeof e!="number"||isNaN(+Jt(e)))}function Kk(e,t){const n=Jt(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function uM(e,t,n){const[a,r]=Tf(n?.in,e,t);return a.getFullYear()-r.getFullYear()}function cM(e,t,n){const[a,r]=Tf(n?.in,e,t),o=jk(a,r),i=Math.abs(uM(a,r));a.setFullYear(1584),r.setFullYear(1584);const l=jk(a,r)===-o,u=o*(i-+l);return u===0?0:u}function Gk(e,t){const[n,a]=Tf(e,t.start,t.end);return{start:n,end:a}}function Qk(e,t){const{start:n,end:a}=Gk(t?.in,e);let r=+n>+a;const o=r?+n:+a,i=r?a:n;i.setHours(0,0,0,0);let l=1;const u=[];for(;+i<=o;)u.push(Jn(n,i)),i.setDate(i.getDate()+l),i.setHours(0,0,0,0);return r?u.reverse():u}function Lu(e,t){const n=Jt(e,t?.in),a=n.getMonth(),r=a-a%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function dM(e,t){const{start:n,end:a}=Gk(t?.in,e);let r=+n>+a;const o=r?+Lu(n):+Lu(a);let i=Lu(r?a:n),l=1;const u=[];for(;+i<=o;)u.push(Jn(n,i)),i=lM(i,l);return r?u.reverse():u}function fM(e,t){const n=Jt(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Xk(e,t){const n=Jt(e,t?.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function Of(e,t){const n=Jt(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Jk(e,t){const n=Fu(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Jt(e,t?.in),o=r.getDay(),i=(o<a?-7:0)+6-(o-a);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function Zk(e,t){const n=Jt(e,t?.in),a=n.getMonth(),r=a-a%3+3;return n.setMonth(r,0),n.setHours(23,59,59,999),n}const mM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hM=(e,t,n)=>{let a;const r=mM[e];return typeof r=="string"?a=r:t===1?a=r.one:a=r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function $_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_M={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gM={date:$_({formats:vM,defaultWidth:"full"}),time:$_({formats:pM,defaultWidth:"full"}),dateTime:$_({formats:_M,defaultWidth:"full"})},yM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bM=(e,t,n,a)=>yM[e];function If(e){return(t,n)=>{const a=n?.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):i;r=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return r[o]}}const wM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EM={ordinalNumber:(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:If({values:wM,defaultWidth:"wide"}),quarter:If({values:kM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:If({values:SM,defaultWidth:"wide"}),day:If({values:CM,defaultWidth:"wide"}),dayPeriod:If({values:xM,defaultWidth:"wide",formattingValues:PM,defaultFormattingWidth:"wide"})};function Af(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;const i=o[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?TM(l,m=>m.test(i)):DM(l,m=>m.test(i));let f;f=e.valueCallback?e.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const d=t.slice(i.length);return{value:f,rest:d}}}function DM(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function TM(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function VM(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const r=a[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(r.length);return{value:i,rest:l}}}const OM=/^(\d+)(th|st|nd|rd)?/i,IM=/\d+/i,AM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MM={any:[/^b/i,/^(a|c)/i]},NM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BM={any:[/1/i,/2/i,/3/i,/4/i]},$M={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HM={ordinalNumber:VM({matchPattern:OM,parsePattern:IM,valueCallback:e=>parseInt(e,10)}),era:Af({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:MM,defaultParseWidth:"any"}),quarter:Af({matchPatterns:NM,defaultMatchWidth:"wide",parsePatterns:BM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Af({matchPatterns:$M,defaultMatchWidth:"wide",parsePatterns:RM,defaultParseWidth:"any"}),day:Af({matchPatterns:FM,defaultMatchWidth:"wide",parsePatterns:LM,defaultParseWidth:"any"}),dayPeriod:Af({matchPatterns:qM,defaultMatchWidth:"any",parsePatterns:UM,defaultParseWidth:"any"})},eS={code:"en-US",formatDistance:hM,formatLong:gM,formatRelative:bM,localize:EM,match:HM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WM(e,t){const n=Jt(e,t?.in);return zk(n,Of(n))+1}function R_(e,t){const n=Jt(e,t?.in),a=+Jc(n)-+sM(n);return Math.round(a/Fk)+1}function F_(e,t){const n=Jt(e,t?.in),a=n.getFullYear(),r=Fu(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=Jn(t?.in||e,0);i.setFullYear(a+1,0,o),i.setHours(0,0,0,0);const l=gi(i,t),u=Jn(t?.in||e,0);u.setFullYear(a,0,o),u.setHours(0,0,0,0);const f=gi(u,t);return+n>=+l?a+1:+n>=+f?a:a-1}function zM(e,t){const n=Fu(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=F_(e,t),o=Jn(t?.in||e,0);return o.setFullYear(r,0,a),o.setHours(0,0,0,0),gi(o,t)}function L_(e,t){const n=Jt(e,t?.in),a=+gi(n,t)-+zM(n,t);return Math.round(a/Fk)+1}function Zn(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const xl={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Zn(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Zn(n+1,2)},d(e,t){return Zn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Zn(e.getHours()%12||12,t.length)},H(e,t){return Zn(e.getHours(),t.length)},m(e,t){return Zn(e.getMinutes(),t.length)},s(e,t){return Zn(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return Zn(r,t.length)}},Zc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tS={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return xl.y(e,t)},Y:function(e,t,n,a){const r=F_(e,a),o=r>0?r:1-r;if(t==="YY"){const i=o%100;return Zn(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Zn(o,t.length)},R:function(e,t){const n=Hk(e);return Zn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Zn(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Zn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Zn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return xl.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Zn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=L_(e,a);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):Zn(r,t.length)},I:function(e,t,n){const a=R_(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Zn(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):xl.d(e,t)},D:function(e,t,n){const a=WM(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Zn(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Zn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Zn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=a===0?7:a;switch(t){case"i":return String(r);case"ii":return Zn(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(a===12?r=Zc.noon:a===0?r=Zc.midnight:r=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(a>=17?r=Zc.evening:a>=12?r=Zc.afternoon:a>=4?r=Zc.morning:r=Zc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return xl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):xl.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Zn(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Zn(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xl.s(e,t)},S:function(e,t){return xl.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return aS(a);case"XXXX":case"XX":return qu(a);case"XXXXX":case"XXX":default:return qu(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return aS(a);case"xxxx":case"xx":return qu(a);case"xxxxx":case"xxx":default:return qu(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nS(a,":");case"OOOO":default:return"GMT"+qu(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nS(a,":");case"zzzz":default:return"GMT"+qu(a,":")}},t:function(e,t,n){const a=Math.trunc(+e/1e3);return Zn(a,t.length)},T:function(e,t,n){return Zn(+e,t.length)}};function nS(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),o=a%60;return o===0?n+String(r):n+String(r)+t+Zn(o,2)}function aS(e,t){return e%60===0?(e>0?"-":"+")+Zn(Math.abs(e)/60,2):qu(e,t)}function qu(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Zn(Math.trunc(a/60),2),o=Zn(a%60,2);return n+r+t+o}const rS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},q_={p:oS,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return rS(e,t);let o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",rS(a,t)).replace("{{time}}",oS(r,t))}},jM=/^D+$/,YM=/^Y+$/,KM=["D","DD","YY","YYYY"];function iS(e){return jM.test(e)}function sS(e){return YM.test(e)}function U_(e,t,n){const a=GM(e,t,n);if(console.warn(a),KM.includes(e))throw new RangeError(a)}function GM(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JM=/^'([^]*?)'?$/,ZM=/''/g,eN=/[a-zA-Z]/;function zi(e,t,n){const a=Fu(),r=n?.locale??a.locale??eS,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=Jt(e,n?.in);if(!Vf(l))throw new RangeError("Invalid time value");let u=t.match(XM).map(d=>{const m=d[0];if(m==="p"||m==="P"){const p=q_[m];return p(d,r.formatLong)}return d}).join("").match(QM).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const m=d[0];if(m==="'")return{isToken:!1,value:tN(d)};if(tS[m])return{isToken:!0,value:d};if(m.match(eN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:d}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const f={firstWeekContainsDate:o,weekStartsOn:i,locale:r};return u.map(d=>{if(!d.isToken)return d.value;const m=d.value;(!n?.useAdditionalWeekYearTokens&&sS(m)||!n?.useAdditionalDayOfYearTokens&&iS(m))&&U_(m,t,String(e));const p=tS[m[0]];return p(l,m,r.localize,f)}).join("")}function tN(e){const t=e.match(JM);return t?t[1].replace(ZM,"'"):e}function nN(e,t){return Jt(e,t?.in).getDay()}function aN(e,t){const n=Jt(e,t?.in),a=n.getFullYear(),r=n.getMonth(),o=Jn(n,0);return o.setFullYear(a,r+1,0),o.setHours(0,0,0,0),o.getDate()}function rN(){return Object.assign({},Fu())}function Ds(e,t){return Jt(e,t?.in).getHours()}function oN(e,t){const n=Jt(e,t?.in).getDay();return n===0?7:n}function Pl(e,t){return Jt(e,t?.in).getMinutes()}function Cn(e,t){return Jt(e,t?.in).getMonth()}function ed(e){return Jt(e).getSeconds()}function on(e,t){return Jt(e,t?.in).getFullYear()}function Uu(e,t){return+Jt(e)>+Jt(t)}function td(e,t){return+Jt(e)<+Jt(t)}function nd(e,t){return+Jt(e)==+Jt(t)}function iN(e,t){const n=sN(t)?new t(0):Jn(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function sN(e){return typeof e=="function"&&e.prototype?.constructor===e}const lN=10;class lS{subPriority=0;validate(t,n){return!0}}class uN extends lS{constructor(t,n,a,r,o){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=r,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class cN extends lS{priority=lN;subPriority=-1;constructor(t,n){super(),this.context=t||(a=>Jn(n,a))}set(t,n){return n.timestampIsSet?t:Jn(t,iN(t,this.context))}}class qn{run(t,n,a,r){const o=this.parse(t,n,a,r);return o?{setter:new uN(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,a){return!0}}class dN extends qn{priority=140;parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const La={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ji={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qa(e,t){return e&&{value:t(e.value),rest:e.rest}}function Pa(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Yi(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:a*(r*Lk+o*nM+i*aM),rest:t.slice(n[0].length)}}function uS(e){return Pa(La.anyDigitsSigned,e)}function Ia(e,t){switch(e){case 1:return Pa(La.singleDigit,t);case 2:return Pa(La.twoDigits,t);case 3:return Pa(La.threeDigits,t);case 4:return Pa(La.fourDigits,t);default:return Pa(new RegExp("^\\d{1,"+e+"}"),t)}}function Nh(e,t){switch(e){case 1:return Pa(La.singleDigitSigned,t);case 2:return Pa(La.twoDigitsSigned,t);case 3:return Pa(La.threeDigitsSigned,t);case 4:return Pa(La.fourDigitsSigned,t);default:return Pa(new RegExp("^-?\\d{1,"+e+"}"),t)}}function H_(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function cS(e,t){const n=t>0,a=n?t:1-t;let r;if(a<=50)r=e||100;else{const o=a+50,i=Math.trunc(o/100)*100,l=e>=o%100;r=e+i-(l?100:0)}return n?r:1-r}function dS(e){return e%400===0||e%4===0&&e%100!==0}class fN extends qn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,a){const r=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return qa(Ia(4,t),r);case"yo":return qa(a.ordinalNumber(t,{unit:"year"}),r);default:return qa(Ia(n.length,t),r)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const r=t.getFullYear();if(a.isTwoDigitYear){const i=cS(a.year,r);return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}const o=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class mN extends qn{priority=130;parse(t,n,a){const r=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return qa(Ia(4,t),r);case"Yo":return qa(a.ordinalNumber(t,{unit:"year"}),r);default:return qa(Ia(n.length,t),r)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,r){const o=F_(t,r);if(a.isTwoDigitYear){const l=cS(a.year,o);return t.setFullYear(l,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),gi(t,r)}const i=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(i,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),gi(t,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class hN extends qn{priority=130;parse(t,n){return Nh(n==="R"?4:n.length,t)}set(t,n,a){const r=Jn(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Jc(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class vN extends qn{priority=130;parse(t,n){return Nh(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class pN extends qn{priority=120;parse(t,n,a){switch(n){case"Q":case"QQ":return Ia(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class _N extends qn{priority=120;parse(t,n,a){switch(n){case"q":case"qq":return Ia(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class gN extends qn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,a){const r=o=>o-1;switch(n){case"M":return qa(Pa(La.month,t),r);case"MM":return qa(Ia(2,t),r);case"Mo":return qa(a.ordinalNumber(t,{unit:"month"}),r);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class yN extends qn{priority=110;parse(t,n,a){const r=o=>o-1;switch(n){case"L":return qa(Pa(La.month,t),r);case"LL":return qa(Ia(2,t),r);case"Lo":return qa(a.ordinalNumber(t,{unit:"month"}),r);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function bN(e,t,n){const a=Jt(e,n?.in),r=L_(a,n)-t;return a.setDate(a.getDate()-r*7),Jt(a,n?.in)}class wN extends qn{priority=100;parse(t,n,a){switch(n){case"w":return Pa(La.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Ia(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,r){return gi(bN(t,a,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function kN(e,t,n){const a=Jt(e,n?.in),r=R_(a,n)-t;return a.setDate(a.getDate()-r*7),a}class SN extends qn{priority=100;parse(t,n,a){switch(n){case"I":return Pa(La.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Ia(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return Jc(kN(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const CN=[31,28,31,30,31,30,31,31,30,31,30,31],xN=[31,29,31,30,31,30,31,31,30,31,30,31];class PN extends qn{priority=90;subPriority=1;parse(t,n,a){switch(n){case"d":return Pa(La.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Ia(n.length,t)}}validate(t,n){const a=t.getFullYear(),r=dS(a),o=t.getMonth();return r?n>=1&&n<=xN[o]:n>=1&&n<=CN[o]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class EN extends qn{priority=90;subpriority=1;parse(t,n,a){switch(n){case"D":case"DD":return Pa(La.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Ia(n.length,t)}}validate(t,n){const a=t.getFullYear();return dS(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function W_(e,t,n){const a=Fu(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,o=Jt(e,n?.in),i=o.getDay(),u=(t%7+7)%7,f=7-r,d=t<0||t>6?t-(i+f)%7:(u+f)%7-(i+f)%7;return Ho(o,d,n)}class DN extends qn{priority=90;parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,r){return t=W_(t,a,r),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class TN extends qn{priority=90;parse(t,n,a,r){const o=i=>{const l=Math.floor((i-1)/7)*7;return(i+r.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return qa(Ia(n.length,t),o);case"eo":return qa(a.ordinalNumber(t,{unit:"day"}),o);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,r){return t=W_(t,a,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class VN extends qn{priority=90;parse(t,n,a,r){const o=i=>{const l=Math.floor((i-1)/7)*7;return(i+r.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return qa(Ia(n.length,t),o);case"co":return qa(a.ordinalNumber(t,{unit:"day"}),o);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,r){return t=W_(t,a,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ON(e,t,n){const a=Jt(e,n?.in),r=oN(a,n),o=t-r;return Ho(a,o,n)}class IN extends qn{priority=90;parse(t,n,a){const r=o=>o===0?7:o;switch(n){case"i":case"ii":return Ia(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return qa(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return qa(a.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return qa(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),r);case"iiii":default:return qa(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=ON(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class AN extends qn{priority=80;parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(H_(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class MN extends qn{priority=80;parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(H_(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class NN extends qn{priority=80;parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(H_(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class BN extends qn{priority=70;parse(t,n,a){switch(n){case"h":return Pa(La.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Ia(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const r=t.getHours()>=12;return r&&a<12?t.setHours(a+12,0,0,0):!r&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class $N extends qn{priority=70;parse(t,n,a){switch(n){case"H":return Pa(La.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Ia(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class RN extends qn{priority=70;parse(t,n,a){switch(n){case"K":return Pa(La.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Ia(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class FN extends qn{priority=70;parse(t,n,a){switch(n){case"k":return Pa(La.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Ia(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const r=a<=24?a%24:a;return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class LN extends qn{priority=60;parse(t,n,a){switch(n){case"m":return Pa(La.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Ia(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class qN extends qn{priority=50;parse(t,n,a){switch(n){case"s":return Pa(La.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Ia(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class UN extends qn{priority=30;parse(t,n){const a=r=>Math.trunc(r*Math.pow(10,-n.length+3));return qa(Ia(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class HN extends qn{priority=10;parse(t,n){switch(n){case"X":return Yi(ji.basicOptionalMinutes,t);case"XX":return Yi(ji.basic,t);case"XXXX":return Yi(ji.basicOptionalSeconds,t);case"XXXXX":return Yi(ji.extendedOptionalSeconds,t);case"XXX":default:return Yi(ji.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Jn(t,t.getTime()-Mh(t)-a)}incompatibleTokens=["t","T","x"]}class WN extends qn{priority=10;parse(t,n){switch(n){case"x":return Yi(ji.basicOptionalMinutes,t);case"xx":return Yi(ji.basic,t);case"xxxx":return Yi(ji.basicOptionalSeconds,t);case"xxxxx":return Yi(ji.extendedOptionalSeconds,t);case"xxx":default:return Yi(ji.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Jn(t,t.getTime()-Mh(t)-a)}incompatibleTokens=["t","T","X"]}class zN extends qn{priority=40;parse(t){return uS(t)}set(t,n,a){return[Jn(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class jN extends qn{priority=20;parse(t){return uS(t)}set(t,n,a){return[Jn(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const YN={G:new dN,y:new fN,Y:new mN,R:new hN,u:new vN,Q:new pN,q:new _N,M:new gN,L:new yN,w:new wN,I:new SN,d:new PN,D:new EN,E:new DN,e:new TN,c:new VN,i:new IN,a:new AN,b:new MN,B:new NN,h:new BN,H:new $N,K:new RN,k:new FN,m:new LN,s:new qN,S:new UN,X:new HN,x:new WN,t:new zN,T:new jN},KN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QN=/^'([^]*?)'?$/,XN=/''/g,JN=/\S/,ZN=/[a-zA-Z]/;function z_(e,t,n,a){const r=()=>Jn(a?.in||n,NaN),o=rN(),i=a?.locale??o.locale??eS,l=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return e?r():Jt(n,a?.in);const f={firstWeekContainsDate:l,weekStartsOn:u,locale:i},d=[new cN(a?.in,n)],m=t.match(GN).map(w=>{const k=w[0];if(k in q_){const T=q_[k];return T(w,i.formatLong)}return w}).join("").match(KN),p=[];for(let w of m){!a?.useAdditionalWeekYearTokens&&sS(w)&&U_(w,t,e),!a?.useAdditionalDayOfYearTokens&&iS(w)&&U_(w,t,e);const k=w[0],T=YN[k];if(T){const{incompatibleTokens:V}=T;if(Array.isArray(V)){const I=p.find(R=>V.includes(R.token)||R.token===k);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${w}\` at the same time`)}else if(T.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);p.push({token:k,fullToken:w});const M=T.run(e,w,i.match,f);if(!M)return r();d.push(M.setter),e=M.rest}else{if(k.match(ZN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(w==="''"?w="'":k==="'"&&(w=eB(w)),e.indexOf(w)===0)e=e.slice(w.length);else return r()}}if(e.length>0&&JN.test(e))return r();const y=d.map(w=>w.priority).sort((w,k)=>k-w).filter((w,k,T)=>T.indexOf(w)===k).map(w=>d.filter(k=>k.priority===w).sort((k,T)=>T.subPriority-k.subPriority)).map(w=>w[0]);let b=Jt(n,a?.in);if(isNaN(+b))return r();const C={};for(const w of y){if(!w.validate(b,f))return r();const k=w.set(b,C,f);Array.isArray(k)?(b=k[0],Object.assign(C,k[1])):b=k}return b}function eB(e){return e.match(QN)[1].replace(XN,"'")}function fS(e,t,n){const[a,r]=Tf(n?.in,e,t);return+Lu(a)==+Lu(r)}function mS(e,t,n){return Ho(e,-t,n)}function hS(e,t,n){const a=Jt(e,n?.in),r=a.getFullYear(),o=a.getDate(),i=Jn(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const l=aN(i);return a.setMonth(t,Math.min(o,l)),a}function aa(e,t,n){let a=Jt(e,n?.in);return isNaN(+a)?Jn(e,NaN):(t.year!=null&&a.setFullYear(t.year),t.month!=null&&(a=hS(a,t.month)),t.date!=null&&a.setDate(t.date),t.hours!=null&&a.setHours(t.hours),t.minutes!=null&&a.setMinutes(t.minutes),t.seconds!=null&&a.setSeconds(t.seconds),t.milliseconds!=null&&a.setMilliseconds(t.milliseconds),a)}function tB(e,t,n){const a=Jt(e,n?.in);return a.setHours(t),a}function vS(e,t,n){const a=Jt(e,n?.in);return a.setMilliseconds(t),a}function nB(e,t,n){const a=Jt(e,n?.in);return a.setMinutes(t),a}function pS(e,t,n){const a=Jt(e,n?.in);return a.setSeconds(t),a}function Ki(e,t,n){const a=Jt(e,n?.in);return isNaN(+a)?Jn(e,NaN):(a.setFullYear(t),a)}function ad(e,t,n){return _i(e,-t,n)}function aB(e,t,n){const{years:a=0,months:r=0,weeks:o=0,days:i=0,hours:l=0,minutes:u=0,seconds:f=0}=t,d=ad(e,r+a*12,n),m=mS(d,i+o*7,n),p=u+l*60,b=(f+p*60)*1e3;return Jn(e,+m-b)}function _S(e,t,n){return B_(e,-t,n)}function rd(){const e=gO();return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[x("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),x("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),x("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),x("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}rd.compatConfig={MODE:3};function gS(){return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[x("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),x("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}gS.compatConfig={MODE:3};function j_(){return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[x("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}j_.compatConfig={MODE:3};function Y_(){return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[x("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Y_.compatConfig={MODE:3};function K_(){return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[x("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),x("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}K_.compatConfig={MODE:3};function G_(){return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[x("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}G_.compatConfig={MODE:3};function Q_(){return de(),Ze("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[x("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Q_.compatConfig={MODE:3};const fo=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),X_=(e,t,n)=>J_(e,t,n)||Et(),rB=(e,t,n)=>{const a=t.dateInTz?fo(new Date(e),t.dateInTz):Et(e);return n?gr(a,!0):a},J_=(e,t,n)=>{if(!e)return null;const a=n?gr(Et(e),!0):Et(e);return t?t.exactMatch?rB(e,t,n):fo(a,t.timezone):a},oB=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},iB=(e,t)=>{if(!e)return 0;const n=new Date,a=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(n.toLocaleString("en-US",{timeZone:e})),o=(oB(t??r)?r:t??r).getTimezoneOffset()/60;return(+a-+r)/(1e3*60*60)-o};var yi=(e=>(e.month="month",e.year="year",e))(yi||{}),bi=(e=>(e.top="top",e.bottom="bottom",e))(bi||{}),Hu=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Hu||{}),$r=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))($r||{});const sB=["timestamp","date","iso"];var Zr=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Zr||{}),ha=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(ha||{}),od=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(od||{});function yS(e){return t=>{const n=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?n.slice(2,5):n.slice(0,2)}}function lB(e){return t=>zi(fo(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const uB=(e,t,n)=>{const a=[1,2,3,4,5,6,7];let r;if(e!==null)try{r=a.map(lB(e))}catch{r=a.map(yS(t))}else r=a.map(yS(t));const o=r.slice(0,n),i=r.slice(n+1,r.length);return[r[n]].concat(...i).concat(...o)},Z_=(e,t,n)=>{const a=[];for(let r=+e[0];r<=+e[1];r++)a.push({value:+r,text:xS(r,t)});return n?a.reverse():a},bS=(e,t,n)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const i=o<10?`0${o}`:o;return new Date(`2017-${i}-01T00:00:00+00:00`)});if(e!==null)try{const o=n==="long"?"LLLL":"LLL";return a.map((i,l)=>{const u=zi(fo(i,"UTC"),o,{locale:e});return{text:u.charAt(0).toUpperCase()+u.substring(1),value:l}})}catch{}const r=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return a.map((o,i)=>{const l=r.format(o);return{text:l.charAt(0).toUpperCase()+l.substring(1),value:i}})},cB=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Za=e=>{const t=Pe(e);return t!=null&&t.$el?t?.$el:t},dB=e=>({type:"dot",...e??{}}),wS=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,eg={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},_r=e=>e,kS=e=>e===0?e:!e||isNaN(+e)?null:+e,SS=e=>e===null,CS=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},fB=e=>{const t=[],n=a=>a.filter(r=>r);for(let a=0;a<e.length;a+=3){const r=[e[a],e[a+1],e[a+2]];t.push(n(r))}return t},Mf=(e,t,n)=>{const a=n!=null,r=t!=null;if(!a&&!r)return!1;const o=+n,i=+t;return a&&r?+e>o||+e<i:a?+e>o:r?+e<i:!1},id=(e,t)=>fB(e).map(n=>n.map(a=>{const{active:r,disabled:o,isBetween:i,highlighted:l}=t(a);return{...a,active:r,disabled:o,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&r,dp__cell_in_between:i,"dp--highlighted":l}}})),El=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},mB=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function hB(e,t){let n=[...document.querySelectorAll(mB())];n=n.filter(r=>!e.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=n.indexOf(e);if(a>=0&&(t?a-1>=0:a+1<=n.length))return n[a+(t?-1:1)]}const tg=(e,t)=>e?.querySelector(`[data-dp-element="${t}"]`),xS=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),ng=(e,t)=>zi(e,t??od.DATE),ag=e=>Array.isArray(e),Bh=(e,t,n)=>t.get(ng(e,n)),vB=(e,t)=>e?t?t instanceof Map?!!Bh(e,t):t(Et(e)):!1:!0,eo=(e,t,n=!1,a)=>{if(e.key===ha.enter||e.key===ha.space)return n&&e.preventDefault(),t();if(a)return a(e)},pB=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,PS=(e,t)=>e?od.MONTH_AND_YEAR:t?od.YEAR:od.DATE,ES=e=>e<10?`0${e}`:e,DS=(e,t,n,a,r,o)=>{const i=z_(e,t.slice(0,e.length),new Date,{locale:o});return Vf(i)&&Yk(i)?a||r?i:aa(i,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},_B=(e,t,n,a,r,o)=>{const i=Array.isArray(n)?n[0]:n;if(typeof t=="string")return DS(e,t,i,a,r,o);if(Array.isArray(t)){let l=null;for(const u of t)if(l=DS(e,u,i,a,r,o),l)break;return l}return typeof t=="function"?t(e):null},Et=e=>e?new Date(e):new Date,gB=(e,t,n)=>{if(t){const r=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),l=e.getMinutes().toString().padStart(2,"0"),u=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${r}-${o}T${i}:${l}:${u}.000Z`}const a=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(a).toISOString()},gr=(e,t)=>{const n=Et(JSON.parse(JSON.stringify(e))),a=aa(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?fM(a):a},Dl=(e,t,n,a)=>{let r=e?Et(e):Et();return(t||t===0)&&(r=tB(r,+t)),(n||n===0)&&(r=nB(r,+n)),(a||a===0)&&(r=pS(r,+a)),vS(r,0)},Aa=(e,t)=>!e||!t?!1:td(gr(e),gr(t)),xn=(e,t)=>!e||!t?!1:nd(gr(e),gr(t)),Ua=(e,t)=>!e||!t?!1:Uu(gr(e),gr(t)),Nf=(e,t,n)=>e!=null&&e[0]&&e!=null&&e[1]?Ua(n,e[0])&&Aa(n,e[1]):e!=null&&e[0]&&t?Ua(n,e[0])&&Aa(n,t)||Aa(n,e[0])&&Ua(n,t):!1,wi=e=>{const t=aa(new Date(e),{date:1});return gr(t)},rg=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===t?[a,n]:[a,isNaN(+e[a])?void 0:+e[a]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Wu=e=>({hours:Ds(e),minutes:Pl(e),seconds:ed(e)}),TS=(e,t)=>{if(t){const n=on(Et(t));if(n>e)return 12;if(n===e)return Cn(Et(t))}},VS=(e,t)=>{if(t){const n=on(Et(t));return n<e?-1:n===e?Cn(Et(t)):void 0}},sd=e=>{if(e)return on(Et(e))},OS=(e,t)=>{const n=Ua(e,t)?t:e,a=Ua(t,e)?t:e;return Qk({start:n,end:a})},yB=e=>{const t=_i(e,1);return{month:Cn(t),year:on(t)}},Ts=(e,t)=>{const n=gi(e,{weekStartsOn:+t}),a=Jk(e,{weekStartsOn:+t});return[n,a]},IS=(e,t)=>{const n={hours:Ds(Et()),minutes:Pl(Et()),seconds:t?ed(Et()):0};return Object.assign(n,e)},Tl=(e,t,n)=>[aa(Et(e),{date:1}),aa(Et(),{month:t,year:n,date:1})],Vs=(e,t,n)=>{let a=e?Et(e):Et();return(t||t===0)&&(a=hS(a,t)),n&&(a=Ki(a,n)),a},AS=(e,t,n,a,r)=>{if(!a||r&&!t||!r&&!n)return!1;const o=r?_i(e,1):ad(e,1),i=[Cn(o),on(o)];return r?!wB(...i,t):!bB(...i,n)},bB=(e,t,n)=>Aa(...Tl(n,e,t))||xn(...Tl(n,e,t)),wB=(e,t,n)=>Ua(...Tl(n,e,t))||xn(...Tl(n,e,t)),MS=(e,t,n,a,r,o,i)=>{if(typeof t=="function"&&!i)return t(e);const l=n?{locale:n}:void 0;return Array.isArray(e)?`${zi(e[0],o,l)}${r&&!e[1]?"":a}${e[1]?zi(e[1],o,l):""}`:zi(e,o,l)},ld=e=>{if(e)return null;throw new Error(eg.prop("partial-range"))},$h=(e,t)=>{if(t)return e();throw new Error(eg.prop("range"))},og=e=>Array.isArray(e)?Vf(e[0])&&(e[1]?Vf(e[1]):!0):e?Vf(e):!1,kB=(e,t)=>aa(t??Et(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),ig=(e,t,n,a)=>{if(!e)return!0;if(a){const r=n==="max"?td(e,t):Uu(e,t),o={seconds:0,milliseconds:0};return r||nd(aa(e,o),aa(t,o))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},sg=(e,t,n)=>e?kB(e,t):Et(n??t),NS=(e,t,n,a,r)=>{if(Array.isArray(a)){const i=sg(e,a[0],t),l=sg(e,a[1],t);return ig(a[0],i,n,!!t)&&ig(a[1],l,n,!!t)&&r}const o=sg(e,a,t);return ig(a,o,n,!!t)&&r},lg=e=>aa(Et(),Wu(e)),SB=(e,t,n)=>{if(e instanceof Map){const a=`${ES(n+1)}-${t}`;return e.size?e.has(a):!1}return typeof e=="function"?e(gr(aa(Et(),{month:n,year:t}),!0)):!1},CB=(e,t,n)=>{if(e instanceof Map){const a=`${ES(n+1)}-${t}`;return e.size?e.has(a):!0}return!0},BS=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(a=>a.month===t&&a.year===n),ug=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),cg=e=>`dp-${zi(e,"yyyy-MM-dd")}`,$S=(e,t)=>{const n=mS(gr(t),e),a=Ho(gr(t),e);return{before:n,after:a}},Bf=Ta({menuFocused:!1,shiftKeyInMenu:!1}),RS=()=>{const e=n=>{Bf.menuFocused=n},t=n=>{Bf.shiftKeyInMenu!==n&&(Bf.shiftKeyInMenu=n)};return{control:N(()=>({shiftKeyInMenu:Bf.shiftKeyInMenu,menuFocused:Bf.menuFocused})),setMenuFocused:e,setShiftKey:t}},va=Ta({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),dg=Re(null),Rh=Re(!1),fg=Re(!1),mg=Re(!1),hg=Re(!1),Rr=Re(0),Ha=Re(0),Vl=()=>{const e=N(()=>Rh.value?[...va.selectionGrid,va.actionRow].filter(m=>m.length):fg.value?[...va.timePicker[0],...va.timePicker[1],hg.value?[]:[dg.value],va.actionRow].filter(m=>m.length):mg.value?[...va.monthPicker,va.actionRow]:[va.monthYear,...va.calendar,va.time,va.actionRow].filter(m=>m.length)),t=m=>{Rr.value=m?Rr.value+1:Rr.value-1;let p=null;e.value[Ha.value]&&(p=e.value[Ha.value][Rr.value]),!p&&e.value[Ha.value+(m?1:-1)]?(Ha.value=Ha.value+(m?1:-1),Rr.value=m?0:e.value[Ha.value].length-1):p||(Rr.value=m?Rr.value-1:Rr.value+1)},n=m=>{Ha.value===0&&!m||Ha.value===e.value.length&&m||(Ha.value=m?Ha.value+1:Ha.value-1,e.value[Ha.value]?e.value[Ha.value]&&!e.value[Ha.value][Rr.value]&&Rr.value!==0&&(Rr.value=e.value[Ha.value].length-1):Ha.value=m?Ha.value-1:Ha.value+1)},a=m=>{let p=null;e.value[Ha.value]&&(p=e.value[Ha.value][Rr.value]),p?p.focus({preventScroll:!Rh.value}):Rr.value=m?Rr.value-1:Rr.value+1},r=()=>{t(!0),a(!0)},o=()=>{t(!1),a(!1)},i=()=>{n(!1),a(!0)},l=()=>{n(!0),a(!0)},u=(m,p)=>{va[p]=m},f=(m,p)=>{va[p]=m},d=()=>{Rr.value=0,Ha.value=0};return{buildMatrix:u,buildMultiLevelMatrix:f,setTimePickerBackRef:m=>{dg.value=m},setSelectionGrid:m=>{Rh.value=m,d(),m||(va.selectionGrid=[])},setTimePicker:(m,p=!1)=>{fg.value=m,hg.value=p,d(),m||(va.timePicker[0]=[],va.timePicker[1]=[])},setTimePickerElements:(m,p=0)=>{va.timePicker[p]=m},arrowRight:r,arrowLeft:o,arrowUp:i,arrowDown:l,clearArrowNav:()=>{va.monthYear=[],va.calendar=[],va.time=[],va.actionRow=[],va.selectionGrid=[],va.timePicker[0]=[],va.timePicker[1]=[],Rh.value=!1,fg.value=!1,hg.value=!1,mg.value=!1,d(),dg.value=null},setMonthPicker:m=>{mg.value=m,d()},refSets:va}},FS=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),xB=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),LS=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,PB=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:LS(!1)};const a=t?e:{},r=t?a.count??!0:e,o=LS(r);return Object.assign(n,a,{count:o})},EB=(e,t,n)=>e||(typeof n=="string"?n:t),DB=e=>typeof e=="boolean"?e?FS({}):!1:FS(e),TB=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},VB=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),OB=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),IB=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},AB=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),MB=e=>{const t={dates:Array.isArray(e)?e.map(n=>Et(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},NB=e=>typeof e=="object"?{type:e?.type??"local",hideOnOffsetDates:e?.hideOnOffsetDates??!1}:{type:e,hideOnOffsetDates:!1},BB=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},$B=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},vg=(e,t,n,a)=>new Map(e.map(r=>{const o=X_(r,t,a);return[ng(o,n),o]})),RB=(e,t)=>e.length?new Map(e.map(n=>{const a=X_(n.date,t);return[ng(a,od.DATE),n]})):null,FB=e=>{var t;const n=PS(e.isMonthPicker,e.isYearPicker);return{minDate:J_(e.minDate,e.timezone,e.isSpecific),maxDate:J_(e.maxDate,e.timezone,e.isSpecific),disabledDates:ag(e.disabledDates)?vg(e.disabledDates,e.timezone,n,e.isSpecific):e.disabledDates,allowedDates:ag(e.allowedDates)?vg(e.allowedDates,e.timezone,n,e.isSpecific):null,highlight:typeof e.highlight=="object"&&ag((t=e.highlight)==null?void 0:t.dates)?vg(e.highlight.dates,e.timezone,n):e.highlight,markers:RB(e.markers,e.timezone)}},LB=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},qB=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,a=e[n],r=typeof e[n]=="string"?{[a]:!0}:Object.fromEntries(a.map(o=>[o,!0]));return[t,r]}))}),wa=e=>{const t=()=>{const R=e.enableSeconds?":ss":"",W=e.enableMinutes?":mm":"";return e.is24?`HH${W}${R}`:`hh${W}${R} aa`},n=()=>{var R;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((R=w.value)==null?void 0:R.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},a=R=>IS(R,e.enableSeconds),r=()=>M.value.enabled?e.startTime&&Array.isArray(e.startTime)?[a(e.startTime[0]),a(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?a(e.startTime):null,o=N(()=>PB(e.multiCalendars)),i=N(()=>r()),l=N(()=>xB(e.ariaLabels)),u=N(()=>VB(e.filters)),f=N(()=>DB(e.transitions)),d=N(()=>OB(e.actionRow)),m=N(()=>EB(e.previewFormat,e.format,n())),p=N(()=>TB(e.textInput)),y=N(()=>IB(e.inline)),b=N(()=>AB(e.config)),C=N(()=>MB(e.highlight)),w=N(()=>NB(e.weekNumbers)),k=N(()=>$B(e.timezone)),T=N(()=>LB(e.multiDates)),V=N(()=>FB({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:C.value,markers:e.markers,timezone:k.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),M=N(()=>BB(e.range)),I=N(()=>qB(e.ui));return{defaultedTransitions:f,defaultedMultiCalendars:o,defaultedStartTime:i,defaultedAriaLabels:l,defaultedFilters:u,defaultedActionRow:d,defaultedPreviewFormat:m,defaultedTextInput:p,defaultedInline:y,defaultedConfig:b,defaultedHighlight:C,defaultedWeekNumbers:w,defaultedRange:M,propDates:V,defaultedTz:k,defaultedMultiDates:T,defaultedUI:I,getDefaultPattern:n,getDefaultStartTime:r,handleEventPropagation:R=>{b.value.allowStopPropagation&&R.stopPropagation(),b.value.allowPreventDefault&&R.preventDefault()}}},UB=(e,t,n)=>{const a=Re(),{defaultedTextInput:r,defaultedRange:o,defaultedTz:i,defaultedMultiDates:l,getDefaultPattern:u}=wa(t),f=Re(""),d=ke(t,"format"),m=ke(t,"formatLocale");_t(a,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",a.value,Oe(!0))},{deep:!0}),_t(o,(B,Ae)=>{B.enabled!==Ae.enabled&&(a.value=null)}),_t(d,()=>{Ee()});const p=B=>i.value.timezone&&i.value.convertModel?fo(B,i.value.timezone):B,y=B=>{if(i.value.timezone&&i.value.convertModel){const Ae=iB(i.value.timezone,B);return oM(B,Ae)}return B},b=(B,Ae,Fe=!1)=>MS(B,t.format,t.formatLocale,r.value.rangeSeparator,t.modelAuto,Ae??u(),Fe),C=B=>B?t.modelType?fe(B):{hours:Ds(B),minutes:Pl(B),seconds:t.enableSeconds?ed(B):0}:null,w=B=>t.modelType?fe(B):{month:Cn(B),year:on(B)},k=B=>Array.isArray(B)?l.value.enabled?B.map(Ae=>T(Ae,Ki(Et(),Ae))):$h(()=>[Ki(Et(),B[0]),B[1]?Ki(Et(),B[1]):ld(o.value.partialRange)],o.value.enabled):Ki(Et(),+B),T=(B,Ae)=>(typeof B=="string"||typeof B=="number")&&t.modelType?me(B):Ae,V=B=>Array.isArray(B)?[T(B[0],Dl(null,+B[0].hours,+B[0].minutes,B[0].seconds)),T(B[1],Dl(null,+B[1].hours,+B[1].minutes,B[1].seconds))]:T(B,Dl(null,B.hours,B.minutes,B.seconds)),M=B=>{const Ae=aa(Et(),{date:1});return Array.isArray(B)?l.value.enabled?B.map(Fe=>T(Fe,Vs(Ae,+Fe.month,+Fe.year))):$h(()=>[T(B[0],Vs(Ae,+B[0].month,+B[0].year)),T(B[1],B[1]?Vs(Ae,+B[1].month,+B[1].year):ld(o.value.partialRange))],o.value.enabled):T(B,Vs(Ae,+B.month,+B.year))},I=B=>{if(Array.isArray(B))return B.map(Ae=>me(Ae));throw new Error(eg.dateArr("multi-dates"))},R=B=>{if(Array.isArray(B)&&o.value.enabled){const Ae=B[0],Fe=B[1];return[Et(Array.isArray(Ae)?Ae[0]:null),Array.isArray(Fe)&&Fe.length?Et(Fe[0]):null]}return Et(B[0])},W=B=>t.modelAuto?Array.isArray(B)?[me(B[0]),me(B[1])]:t.autoApply?[me(B)]:[me(B),null]:Array.isArray(B)?$h(()=>B[1]?[me(B[0]),B[1]?me(B[1]):ld(o.value.partialRange)]:[me(B[0])],o.value.enabled):me(B),q=()=>{Array.isArray(a.value)&&o.value.enabled&&a.value.length===1&&a.value.push(ld(o.value.partialRange))},z=()=>{const B=a.value;return[fe(B[0]),B[1]?fe(B[1]):ld(o.value.partialRange)]},Y=()=>Array.isArray(a.value)?a.value[1]?z():fe(_r(a.value[0])):[],K=()=>(a.value||[]).map(B=>fe(B)),ae=(B=!1)=>(B||q(),t.modelAuto?Y():l.value.enabled?K():Array.isArray(a.value)?$h(()=>z(),o.value.enabled):fe(_r(a.value))),te=B=>!B||Array.isArray(B)&&!B.length?null:t.timePicker?V(_r(B)):t.monthPicker?M(_r(B)):t.yearPicker?k(_r(B)):l.value.enabled?I(_r(B)):t.weekPicker?R(_r(B)):W(_r(B)),J=B=>{const Ae=te(B);og(_r(Ae))?(a.value=_r(Ae),Ee()):(a.value=null,f.value="")},ne=()=>{const B=Ae=>zi(Ae,r.value.format);return`${B(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?B(a.value[1]):""}`},re=()=>n.value&&a.value?Array.isArray(a.value)?ne():zi(a.value,r.value.format):b(a.value),pe=()=>a.value?l.value.enabled?a.value.map(B=>b(B)).join("; "):r.value.enabled&&typeof r.value.format=="string"?re():b(a.value):"",Ee=()=>{!t.format||typeof t.format=="string"||r.value.enabled&&typeof r.value.format=="string"?f.value=pe():f.value=t.format(a.value)},me=B=>{if(t.utc){const Ae=new Date(B);return t.utc==="preserve"?new Date(Ae.getTime()+Ae.getTimezoneOffset()*6e4):Ae}return t.modelType?sB.includes(t.modelType)?p(new Date(B)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?p(z_(B,u(),new Date,{locale:m.value})):p(z_(B,t.modelType,new Date,{locale:m.value})):p(new Date(B))},fe=B=>B?t.utc?gB(B,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+y(B):t.modelType==="iso"?y(B).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?b(y(B)):b(y(B),t.modelType,!0):y(B):"",le=(B,Ae=!1,Fe=!1)=>{if(Fe)return B;if(e("update:model-value",B),i.value.emitTimezone&&Ae){const it=Array.isArray(B)?B.map(_e=>fo(_r(_e),i.value.emitTimezone)):fo(_r(B),i.value.emitTimezone);e("update:model-timezone-value",it)}},Te=B=>Array.isArray(a.value)?l.value.enabled?a.value.map(Ae=>B(Ae)):[B(a.value[0]),a.value[1]?B(a.value[1]):ld(o.value.partialRange)]:B(_r(a.value)),ue=()=>{if(Array.isArray(a.value)){const B=Ts(a.value[0],t.weekStart),Ae=a.value[1]?Ts(a.value[1],t.weekStart):[];return[B.map(Fe=>Et(Fe)),Ae.map(Fe=>Et(Fe))]}return Ts(a.value,t.weekStart).map(B=>Et(B))},De=(B,Ae)=>le(_r(Te(B)),!1,Ae),Me=B=>{const Ae=ue();return B?Ae:e("update:model-value",ue())},Oe=(B=!1)=>(B||Ee(),t.monthPicker?De(w,B):t.timePicker?De(C,B):t.yearPicker?De(on,B):t.weekPicker?Me(B):le(ae(B),!0,B));return{inputValue:f,internalModelValue:a,checkBeforeEmit:()=>a.value?o.value.enabled?o.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:J,formatInputValue:Ee,emitModelValue:Oe}},HB=(e,t)=>{const{defaultedFilters:n,propDates:a}=wa(e),{validateMonthYearInRange:r}=Il(e),o=(d,m)=>{let p=d;return n.value.months.includes(Cn(p))?(p=m?_i(d,1):ad(d,1),o(p,m)):p},i=(d,m)=>{let p=d;return n.value.years.includes(on(p))?(p=m?B_(d,1):_S(d,1),i(p,m)):p},l=(d,m=!1)=>{const p=aa(Et(),{month:e.month,year:e.year});let y=d?_i(p,1):ad(p,1);e.disableYearSelect&&(y=Ki(y,e.year));let b=Cn(y),C=on(y);n.value.months.includes(b)&&(y=o(y,d),b=Cn(y),C=on(y)),n.value.years.includes(C)&&(y=i(y,d),C=on(y)),r(b,C,d,e.preventMinMaxNavigation)&&u(b,C,m)},u=(d,m,p)=>{t("update-month-year",{month:d,year:m,fromNav:p})},f=N(()=>d=>AS(aa(Et(),{month:e.month,year:e.year}),a.value.maxDate,a.value.minDate,e.preventMinMaxNavigation,d));return{handleMonthYearChange:l,isDisabled:f,updateMonthYear:u}},Fh={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},ki={...Fh,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},WB=["title"],zB=["disabled"],jB=or({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ki},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,a=e,{defaultedActionRow:r,defaultedPreviewFormat:o,defaultedMultiCalendars:i,defaultedTextInput:l,defaultedInline:u,defaultedRange:f,defaultedMultiDates:d}=wa(a),{isTimeValid:m,isMonthValid:p}=Il(a),{buildMatrix:y}=Vl(),b=Re(null),C=Re(null),w=Re(!1),k=Re({}),T=Re(null),V=Re(null);yn(()=>{a.arrowNavigation&&y([Za(b),Za(C)],"actionRow"),M(),window.addEventListener("resize",M)}),Ni(()=>{window.removeEventListener("resize",M)});const M=()=>{w.value=!1,setTimeout(()=>{var J,ne;const re=(J=T.value)==null?void 0:J.getBoundingClientRect(),pe=(ne=V.value)==null?void 0:ne.getBoundingClientRect();re&&pe&&(k.value.maxWidth=`${pe.width-re.width-20}px`),w.value=!0},0)},I=N(()=>f.value.enabled&&!f.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),R=N(()=>!m.value(a.internalModelValue)||!p.value(a.internalModelValue)||!I.value),W=()=>{const J=o.value;return a.timePicker||a.monthPicker,J(_r(a.internalModelValue))},q=()=>{const J=a.internalModelValue;return i.value.count>0?`${z(J[0])} - ${z(J[1])}`:[z(J[0]),z(J[1])]},z=J=>MS(J,o.value,a.formatLocale,l.value.rangeSeparator,a.modelAuto,o.value),Y=N(()=>!a.internalModelValue||!a.menuMount?"":typeof o.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?q():d.value.enabled?a.internalModelValue.map(J=>`${z(J)}`):a.modelAuto?`${z(a.internalModelValue[0])}`:`${z(a.internalModelValue[0])} -`:z(a.internalModelValue):W()),K=()=>d.value.enabled?"; ":" - ",ae=N(()=>Array.isArray(Y.value)?Y.value.join(K()):Y.value),te=()=>{m.value(a.internalModelValue)&&p.value(a.internalModelValue)&&I.value?n("select-date"):n("invalid-select")};return(J,ne)=>(de(),Ze("div",{ref_key:"actionRowRef",ref:V,class:"dp__action_row"},[J.$slots["action-row"]?qt(J.$slots,"action-row",Da(tt({key:0},{internalModelValue:J.internalModelValue,disabled:R.value,selectDate:()=>J.$emit("select-date"),closePicker:()=>J.$emit("close-picker")}))):(de(),Ze(ft,{key:1},[Pe(r).showPreview?(de(),Ze("div",{key:0,class:"dp__selection_preview",title:ae.value,style:vt(k.value)},[J.$slots["action-preview"]&&w.value?qt(J.$slots,"action-preview",{key:0,value:J.internalModelValue}):je("",!0),!J.$slots["action-preview"]&&w.value?(de(),Ze(ft,{key:1},[Ke(ge(ae.value),1)],64)):je("",!0)],12,WB)):je("",!0),x("div",{ref_key:"actionBtnContainer",ref:T,class:"dp__action_buttons","data-dp-element":"action-row"},[J.$slots["action-buttons"]?qt(J.$slots,"action-buttons",{key:0,value:J.internalModelValue}):je("",!0),J.$slots["action-buttons"]?je("",!0):(de(),Ze(ft,{key:1},[!Pe(u).enabled&&Pe(r).showCancel?(de(),Ze("button",{key:0,ref_key:"cancelButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_cancel",onClick:ne[0]||(ne[0]=re=>J.$emit("close-picker")),onKeydown:ne[1]||(ne[1]=re=>Pe(eo)(re,()=>J.$emit("close-picker")))},ge(J.cancelText),545)):je("",!0),Pe(r).showNow?(de(),Ze("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:ne[2]||(ne[2]=re=>J.$emit("select-now")),onKeydown:ne[3]||(ne[3]=re=>Pe(eo)(re,()=>J.$emit("select-now")))},ge(J.nowButtonLabel),33)):je("",!0),Pe(r).showSelect?(de(),Ze("button",{key:2,ref_key:"selectButtonRef",ref:C,type:"button",class:"dp__action_button dp__action_select",disabled:R.value,"data-test-id":"select-button",onKeydown:ne[4]||(ne[4]=re=>Pe(eo)(re,()=>te())),onClick:te},ge(J.selectText),41,zB)):je("",!0)],64))],512)],64))],512))}}),YB=["role","aria-label","tabindex"],KB={class:"dp__selection_grid_header"},GB=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],QB=["aria-label"],$f=or({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:o}=Vl(),i=n,l=e,{defaultedAriaLabels:u,defaultedTextInput:f,defaultedConfig:d,handleEventPropagation:m}=wa(l),{hideNavigationButtons:p}=Uh(),y=Re(!1),b=Re(null),C=Re(null),w=Re([]),k=Re(),T=Re(null),V=Re(0),M=Re(null);Op(()=>{b.value=null}),yn(()=>{Qt().then(()=>ae()),l.noOverlayFocus||R(),I(!0)}),Ni(()=>I(!1));const I=ue=>{var De;l.arrowNavigation&&((De=l.headerRefs)!=null&&De.length?o(ue):a(ue))},R=()=>{var ue;const De=Za(C);De&&(f.value.enabled||(b.value?(ue=b.value)==null||ue.focus({preventScroll:!0}):De.focus({preventScroll:!0})),y.value=De.clientHeight<De.scrollHeight)},W=N(()=>({dp__overlay:!0,"dp--overlay-absolute":!l.useRelative,"dp--overlay-relative":l.useRelative})),q=N(()=>l.useRelative?{height:`${l.height}px`,width:"var(--dp-menu-min-width)"}:void 0),z=N(()=>({dp__overlay_col:!0})),Y=N(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:y.value,dp__button_bottom:l.isLast})),K=N(()=>{var ue,De;return{dp__overlay_container:!0,dp__container_flex:((ue=l.items)==null?void 0:ue.length)<=6,dp__container_block:((De=l.items)==null?void 0:De.length)>6}});_t(()=>l.items,()=>ae(!1),{deep:!0});const ae=(ue=!0)=>{Qt().then(()=>{const De=Za(b),Me=Za(C),Oe=Za(T),B=Za(M),Ae=Oe?Oe.getBoundingClientRect().height:0;Me&&(Me.getBoundingClientRect().height?V.value=Me.getBoundingClientRect().height-Ae:V.value=d.value.modeHeight-Ae),De&&B&&ue&&(B.scrollTop=De.offsetTop-B.offsetTop-(V.value/2-De.getBoundingClientRect().height)-Ae)})},te=ue=>{ue.disabled||i("selected",ue.value)},J=()=>{i("toggle"),i("reset-flow")},ne=ue=>{l.escClose&&(J(),m(ue))},re=(ue,De,Me,Oe)=>{ue&&((De.active||De.value===l.focusValue)&&(b.value=ue),l.arrowNavigation&&(Array.isArray(w.value[Me])?w.value[Me][Oe]=ue:w.value[Me]=[ue],pe()))},pe=()=>{var ue,De;const Me=(ue=l.headerRefs)!=null&&ue.length?[l.headerRefs].concat(w.value):w.value.concat([l.skipButtonRef?[]:[T.value]]);r(_r(Me),(De=l.headerRefs)!=null&&De.length?"monthPicker":"selectionGrid")},Ee=ue=>{l.arrowNavigation||El(ue,d.value,!0)},me=ue=>{k.value=ue,i("hover-value",ue)},fe=()=>{if(J(),!l.isLast){const ue=tg(l.menuWrapRef??null,"action-row");if(ue){const De=CS(ue);De?.focus()}}},le=ue=>{switch(ue.key){case ha.esc:return ne(ue);case ha.arrowLeft:return Ee(ue);case ha.arrowRight:return Ee(ue);case ha.arrowUp:return Ee(ue);case ha.arrowDown:return Ee(ue);default:return}},Te=ue=>{if(ue.key===ha.enter)return J();if(ue.key===ha.tab)return fe()};return t({focusGrid:R}),(ue,De)=>{var Me;return de(),Ze("div",{ref_key:"gridWrapRef",ref:C,class:Ye(W.value),style:vt(q.value),role:ue.useRelative?void 0:"dialog","aria-label":ue.overlayLabel,tabindex:ue.useRelative?void 0:"0",onKeydown:le,onClick:De[0]||(De[0]=$a(()=>{},["prevent"]))},[x("div",{ref_key:"containerRef",ref:M,class:Ye(K.value),style:vt({"--dp-overlay-height":`${V.value}px`}),role:"grid"},[x("div",KB,[qt(ue.$slots,"header")]),ue.$slots.overlay?qt(ue.$slots,"overlay",{key:0}):(de(!0),Ze(ft,{key:1},En(ue.items,(Oe,B)=>(de(),Ze("div",{key:B,class:Ye(["dp__overlay_row",{dp__flex_row:ue.items.length>=3}]),role:"row"},[(de(!0),Ze(ft,null,En(Oe,(Ae,Fe)=>(de(),Ze("div",{key:Ae.value,ref_for:!0,ref:it=>re(it,Ae,B,Fe),role:"gridcell",class:Ye(z.value),"aria-selected":Ae.active||void 0,"aria-disabled":Ae.disabled||void 0,tabindex:"0","data-test-id":Ae.text,onClick:$a(it=>te(Ae),["prevent"]),onKeydown:it=>Pe(eo)(it,()=>te(Ae),!0),onMouseover:it=>me(Ae.value)},[x("div",{class:Ye(Ae.className)},[ue.$slots.item?qt(ue.$slots,"item",{key:0,item:Ae}):je("",!0),ue.$slots.item?je("",!0):(de(),Ze(ft,{key:1},[Ke(ge(Ae.text),1)],64))],2)],42,GB))),128))],2))),128))],6),ue.$slots["button-icon"]?Sn((de(),Ze("button",{key:0,ref_key:"toggleButton",ref:T,type:"button","aria-label":(Me=Pe(u))==null?void 0:Me.toggleOverlay,class:Ye(Y.value),tabindex:"0",onClick:J,onKeydown:Te},[qt(ue.$slots,"button-icon")],42,QB)),[[Ca,!Pe(p)(ue.hideNavigation,ue.type)]]):je("",!0)],46,YB)}}}),XB=["data-dp-mobile"],Lh=or({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,n=N(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),a=N(()=>({dp__instance_calendar:t.multiCalendars>0}));return(r,o)=>(de(),Ze("div",{class:Ye({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse}),"data-dp-mobile":r.isMobile},[(de(!0),Ze(ft,null,En(n.value,(i,l)=>(de(),Ze("div",{key:i,class:Ye(a.value)},[qt(r.$slots,"default",{instance:i,index:l})],2))),128))],10,XB))}}),JB=["data-dp-element","aria-label","aria-disabled"],Rf=or({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,a=Re(null);return yn(()=>n("set-ref",a)),(r,o)=>(de(),Ze("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:o[0]||(o[0]=i=>r.$emit("activate")),onKeydown:o[1]||(o[1]=i=>Pe(eo)(i,()=>r.$emit("activate"),!0))},[x("span",{class:Ye(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[qt(r.$slots,"default")],2)],40,JB))}}),ZB=["aria-label","data-test-id"],qS=or({__name:"YearModePicker",props:{...ki,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,a=e,{showRightIcon:r,showLeftIcon:o}=Uh(),{defaultedConfig:i,defaultedMultiCalendars:l,defaultedAriaLabels:u,defaultedTransitions:f,defaultedUI:d}=wa(a),{showTransition:m,transitionName:p}=Ff(f),y=Re(!1),b=(k=!1,T)=>{y.value=!y.value,n("toggle-year-picker",{flow:k,show:T})},C=k=>{y.value=!1,n("year-select",k)},w=(k=!1)=>{n("handle-year",k)};return(k,T)=>{var V,M,I,R,W;return de(),Ze(ft,null,[x("div",{class:Ye(["dp--year-mode-picker",{"dp--hidden-el":y.value}])},[Pe(o)(Pe(l),e.instance)?(de(),lt(Rf,{key:0,ref:"mpPrevIconRef","aria-label":(V=Pe(u))==null?void 0:V.prevYear,disabled:e.isDisabled(!1),class:Ye((M=Pe(d))==null?void 0:M.navBtnPrev),onActivate:T[0]||(T[0]=q=>w(!1))},{default:E(()=>[k.$slots["arrow-left"]?qt(k.$slots,"arrow-left",{key:0}):je("",!0),k.$slots["arrow-left"]?je("",!0):(de(),lt(Pe(j_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):je("",!0),x("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(I=Pe(u))==null?void 0:I.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:T[1]||(T[1]=()=>b(!1)),onKeydown:T[2]||(T[2]=Du(()=>b(!1),["enter"]))},[k.$slots.year?qt(k.$slots,"year",{key:0,year:e.year}):je("",!0),k.$slots.year?je("",!0):(de(),Ze(ft,{key:1},[Ke(ge(e.year),1)],64))],40,ZB),Pe(r)(Pe(l),e.instance)?(de(),lt(Rf,{key:1,ref:"mpNextIconRef","aria-label":(R=Pe(u))==null?void 0:R.nextYear,disabled:e.isDisabled(!0),class:Ye((W=Pe(d))==null?void 0:W.navBtnNext),onActivate:T[3]||(T[3]=q=>w(!0))},{default:E(()=>[k.$slots["arrow-right"]?qt(k.$slots,"arrow-right",{key:0}):je("",!0),k.$slots["arrow-right"]?je("",!0):(de(),lt(Pe(Y_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):je("",!0)],2),h(co,{name:Pe(p)(e.showYearPicker),css:Pe(m)},{default:E(()=>{var q,z;return[e.showYearPicker?(de(),lt($f,{key:0,items:e.items,"text-input":k.textInput,"esc-close":k.escClose,config:k.config,"is-last":k.autoApply&&!Pe(i).keepActionRow,"hide-navigation":k.hideNavigation,"aria-labels":k.ariaLabels,"overlay-label":(z=(q=Pe(u))==null?void 0:q.yearPicker)==null?void 0:z.call(q,!0),type:"year",onToggle:b,onSelected:T[4]||(T[4]=Y=>C(Y))},Pr({"button-icon":E(()=>[k.$slots["calendar-icon"]?qt(k.$slots,"calendar-icon",{key:0}):je("",!0),k.$slots["calendar-icon"]?je("",!0):(de(),lt(Pe(rd),{key:1}))]),_:2},[k.$slots["year-overlay-value"]?{name:"item",fn:E(({item:Y})=>[qt(k.$slots,"year-overlay-value",{text:Y.text,value:Y.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):je("",!0)]}),_:3},8,["name","css"])],64)}}}),pg=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(a=>xn(e,a))){const a=t.value.filter(r=>!xn(r,e));t.value=a.length?a:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},_g=(e,t,n)=>{let a=e.value?e.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(Aa(t,a[0])?a.unshift(t):a[1]=t,n("range-end",t)):(a=[t],n("range-start",t)),a},qh=(e,t,n,a)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&a&&n&&t("auto-apply"))},US=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>fo(Et(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=fo(Et(e.value),e.timezone))},HS=(e,t,n,a)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(Ua(e,t.value[0])||xn(e,t.value[0]))?[t.value[0],e]:a.value.fixedEnd&&(Aa(e,t.value[1])||xn(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],WS=({multiCalendars:e,range:t,highlight:n,propDates:a,calendars:r,modelValue:o,props:i,filters:l,year:u,month:f,emit:d})=>{const m=N(()=>Z_(i.yearRange,i.locale,i.reverseYears)),p=Re([!1]),y=N(()=>(Y,K)=>{const ae=aa(wi(new Date),{month:f.value(Y),year:u.value(Y)}),te=K?Xk(ae):Of(ae);return AS(te,a.value.maxDate,a.value.minDate,i.preventMinMaxNavigation,K)}),b=()=>Array.isArray(o.value)&&e.value.solo&&o.value[1],C=()=>{for(let Y=0;Y<e.value.count;Y++)if(Y===0)r.value[Y]=r.value[0];else if(Y===e.value.count-1&&b())r.value[Y]={month:Cn(o.value[1]),year:on(o.value[1])};else{const K=aa(Et(),r.value[Y-1]);r.value[Y]={month:Cn(K),year:on(B_(K,1))}}},w=Y=>{if(!Y)return C();const K=aa(Et(),r.value[Y]);return r.value[0].year=on(_S(K,e.value.count-1)),C()},k=(Y,K)=>{const ae=cM(K,Y);return t.value.showLastInRange&&ae>1?K:Y},T=Y=>i.focusStartDate||e.value.solo?Y[0]:Y[1]?k(Y[0],Y[1]):Y[0],V=()=>{if(o.value){const Y=Array.isArray(o.value)?T(o.value):o.value;r.value[0]={month:Cn(Y),year:on(Y)}}},M=()=>{V(),e.value.count&&C()};_t(o,(Y,K)=>{i.isTextInputDate&&JSON.stringify(Y??{})!==JSON.stringify(K??{})&&M()}),yn(()=>{M()});const I=(Y,K)=>{r.value[K].year=Y,d("update-month-year",{instance:K,year:Y,month:r.value[K].month}),e.value.count&&!e.value.solo&&w(K)},R=N(()=>Y=>id(m.value,K=>{var ae;const te=u.value(Y)===K.value,J=Mf(K.value,sd(a.value.minDate),sd(a.value.maxDate))||((ae=l.value.years)==null?void 0:ae.includes(u.value(Y))),ne=ug(n.value,K.value);return{active:te,disabled:J,highlighted:ne}})),W=(Y,K)=>{I(Y,K),z(K)},q=(Y,K=!1)=>{if(!y.value(Y,K)){const ae=K?u.value(Y)+1:u.value(Y)-1;I(ae,Y)}},z=(Y,K=!1,ae)=>{K||d("reset-flow"),ae!==void 0?p.value[Y]=ae:p.value[Y]=!p.value[Y],p.value[Y]?d("overlay-toggle",{open:!0,overlay:$r.year}):(d("overlay-closed"),d("overlay-toggle",{open:!1,overlay:$r.year}))};return{isDisabled:y,groupedYears:R,showYearPicker:p,selectYear:I,toggleYearPicker:z,handleYearSelect:W,handleYear:q}},e$=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:o,defaultedRange:i,defaultedHighlight:l,propDates:u,defaultedTz:f,defaultedFilters:d,defaultedMultiDates:m}=wa(e),p=()=>{e.isTextInputDate&&M(on(Et(e.startDate)),0)},{modelValue:y,year:b,month:C,calendars:w}=Lf(e,t,p),k=N(()=>bS(e.formatLocale,e.locale,e.monthNameFormat)),T=Re(null),{checkMinMaxRange:V}=Il(e),{selectYear:M,groupedYears:I,showYearPicker:R,toggleYearPicker:W,handleYearSelect:q,handleYear:z,isDisabled:Y}=WS({modelValue:y,multiCalendars:n,range:i,highlight:l,calendars:w,year:b,propDates:u,month:C,filters:d,props:e,emit:t});yn(()=>{e.startDate&&(y.value&&e.focusStartDate||!y.value)&&M(on(Et(e.startDate)),0)});const K=De=>De?{month:Cn(De),year:on(De)}:{month:null,year:null},ae=()=>y.value?Array.isArray(y.value)?y.value.map(De=>K(De)):K(y.value):K(),te=(De,Me)=>{const Oe=w.value[De],B=ae();return Array.isArray(B)?B.some(Ae=>Ae.year===Oe?.year&&Ae.month===Me):Oe?.year===B.year&&Me===B.month},J=(De,Me,Oe)=>{var B,Ae;const Fe=ae();return Array.isArray(Fe)?b.value(Me)===((B=Fe[Oe])==null?void 0:B.year)&&De===((Ae=Fe[Oe])==null?void 0:Ae.month):!1},ne=(De,Me)=>{if(i.value.enabled){const Oe=ae();if(Array.isArray(y.value)&&Array.isArray(Oe)){const B=J(De,Me,0)||J(De,Me,1),Ae=Vs(wi(Et()),De,b.value(Me));return Nf(y.value,T.value,Ae)&&!B}return!1}return!1},re=N(()=>De=>id(k.value,Me=>{var Oe;const B=te(De,Me.value),Ae=Mf(Me.value,TS(b.value(De),u.value.minDate),VS(b.value(De),u.value.maxDate))||SB(u.value.disabledDates,b.value(De),Me.value)||((Oe=d.value.months)==null?void 0:Oe.includes(Me.value))||!CB(u.value.allowedDates,b.value(De),Me.value),Fe=ne(Me.value,De),it=BS(l.value,Me.value,b.value(De));return{active:B,disabled:Ae,isBetween:Fe,highlighted:it}})),pe=(De,Me)=>Vs(wi(Et()),De,b.value(Me)),Ee=(De,Me)=>{const Oe=y.value?y.value:wi(new Date);y.value=Vs(Oe,De,b.value(Me)),t("auto-apply"),t("update-flow-step")},me=(De,Me)=>{const Oe=pe(De,Me);i.value.fixedEnd||i.value.fixedStart?y.value=HS(Oe,y,t,i):y.value?V(Oe,y.value)&&(y.value=_g(y,pe(De,Me),t)):y.value=[pe(De,Me)],Qt().then(()=>{qh(y.value,t,e.autoApply,e.modelAuto)})},fe=(De,Me)=>{pg(pe(De,Me),y,m.value.limit),t("auto-apply",!0)},le=(De,Me)=>(w.value[Me].month=De,ue(Me,w.value[Me].year,De),m.value.enabled?fe(De,Me):i.value.enabled?me(De,Me):Ee(De,Me)),Te=(De,Me)=>{M(De,Me),ue(Me,De,null)},ue=(De,Me,Oe)=>{let B=Oe;if(!B&&B!==0){const Ae=ae();B=Array.isArray(Ae)?Ae[De].month:Ae.month}t("update-month-year",{instance:De,year:Me,month:B})};return{groupedMonths:re,groupedYears:I,year:b,isDisabled:Y,defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:o,showYearPicker:R,modelValue:y,presetDate:(De,Me)=>{US({value:De,modelValue:y,range:i.value.enabled,timezone:Me?void 0:f.value.timezone}),t("auto-apply")},setHoverDate:(De,Me)=>{T.value=pe(De,Me)},selectMonth:le,selectYear:Te,toggleYearPicker:W,handleYearSelect:q,handleYear:z,getModelMonthYear:ae}},t$=or({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ki},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=ku(),o=Eo(r,"yearMode"),i=e;yn(()=>{i.shadow||a("mount",null)});const{groupedMonths:l,groupedYears:u,year:f,isDisabled:d,defaultedMultiCalendars:m,defaultedConfig:p,showYearPicker:y,modelValue:b,presetDate:C,setHoverDate:w,selectMonth:k,selectYear:T,toggleYearPicker:V,handleYearSelect:M,handleYear:I,getModelMonthYear:R}=e$(i,a);return t({getSidebarProps:()=>({modelValue:b,year:f,getModelMonthYear:R,selectMonth:k,selectYear:T,handleYear:I}),presetDate:C,toggleYearPicker:W=>V(0,W)}),(W,q)=>(de(),lt(Lh,{"multi-calendars":Pe(m).count,collapse:W.collapse,stretch:"","is-mobile":W.isMobile},{default:E(({instance:z})=>[W.$slots["top-extra"]?qt(W.$slots,"top-extra",{key:0,value:W.internalModelValue}):je("",!0),W.$slots["month-year"]?qt(W.$slots,"month-year",Da(tt({key:1},{year:Pe(f),months:Pe(l)(z),years:Pe(u)(z),selectMonth:Pe(k),selectYear:Pe(T),instance:z}))):(de(),lt($f,{key:2,items:Pe(l)(z),"arrow-navigation":W.arrowNavigation,"is-last":W.autoApply&&!Pe(p).keepActionRow,"esc-close":W.escClose,height:Pe(p).modeHeight,config:W.config,"no-overlay-focus":!!(W.noOverlayFocus||W.textInput),"use-relative":"",type:"month",onSelected:Y=>Pe(k)(Y,z),onHoverValue:Y=>Pe(w)(Y,z)},Pr({header:E(()=>[h(qS,tt(W.$props,{items:Pe(u)(z),instance:z,"show-year-picker":Pe(y)[z],year:Pe(f)(z),"is-disabled":Y=>Pe(d)(z,Y),onHandleYear:Y=>Pe(I)(z,Y),onYearSelect:Y=>Pe(M)(Y,z),onToggleYearPicker:Y=>Pe(V)(z,Y?.flow,Y?.show)}),Pr({_:2},[En(Pe(o),(Y,K)=>({name:Y,fn:E(ae=>[qt(W.$slots,Y,Da(ir(ae)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[W.$slots["month-overlay-value"]?{name:"item",fn:E(({item:Y})=>[qt(W.$slots,"month-overlay-value",{text:Y.text,value:Y.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),n$=(e,t)=>{const n=()=>{e.isTextInputDate&&(d.value=on(Et(e.startDate)))},{modelValue:a}=Lf(e,t,n),r=Re(null),{defaultedHighlight:o,defaultedMultiDates:i,defaultedFilters:l,defaultedRange:u,propDates:f}=wa(e),d=Re();yn(()=>{e.startDate&&(a.value&&e.focusStartDate||!a.value)&&(d.value=on(Et(e.startDate)))});const m=k=>Array.isArray(a.value)?a.value.some(T=>on(T)===k):a.value?on(a.value)===k:!1,p=k=>u.value.enabled&&Array.isArray(a.value)?Nf(a.value,r.value,w(k)):!1,y=k=>f.value.allowedDates instanceof Map?f.value.allowedDates.size?f.value.allowedDates.has(`${k}`):!1:!0,b=k=>f.value.disabledDates instanceof Map?f.value.disabledDates.size?f.value.disabledDates.has(`${k}`):!1:!0,C=N(()=>id(Z_(e.yearRange,e.locale,e.reverseYears),k=>{const T=m(k.value),V=Mf(k.value,sd(f.value.minDate),sd(f.value.maxDate))||l.value.years.includes(k.value)||!y(k.value)||b(k.value),M=p(k.value)&&!T,I=ug(o.value,k.value);return{active:T,disabled:V,isBetween:M,highlighted:I}})),w=k=>Ki(wi(Of(new Date)),k);return{groupedYears:C,modelValue:a,focusYear:d,setHoverValue:k=>{r.value=Ki(wi(new Date),k)},selectYear:k=>{var T;if(t("update-month-year",{instance:0,year:k}),i.value.enabled)return a.value?Array.isArray(a.value)&&(((T=a.value)==null?void 0:T.map(V=>on(V))).includes(k)?a.value=a.value.filter(V=>on(V)!==k):a.value.push(Ki(gr(Et()),k))):a.value=[Ki(gr(Of(Et())),k)],t("auto-apply",!0);u.value.enabled?(a.value=_g(a,w(k),t),Qt().then(()=>{qh(a.value,t,e.autoApply,e.modelAuto)})):(a.value=w(k),t("auto-apply"))}}},a$=or({compatConfig:{MODE:3},__name:"YearPicker",props:{...ki},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,r=e,{groupedYears:o,modelValue:i,focusYear:l,selectYear:u,setHoverValue:f}=n$(r,a),{defaultedConfig:d}=wa(r);return t({getSidebarProps:()=>({modelValue:i,selectYear:u})}),(m,p)=>(de(),Ze("div",null,[m.$slots["top-extra"]?qt(m.$slots,"top-extra",{key:0,value:m.internalModelValue}):je("",!0),m.$slots["month-year"]?qt(m.$slots,"month-year",Da(tt({key:1},{years:Pe(o),selectYear:Pe(u)}))):(de(),lt($f,{key:2,items:Pe(o),"is-last":m.autoApply&&!Pe(d).keepActionRow,height:Pe(d).modeHeight,config:m.config,"no-overlay-focus":!!(m.noOverlayFocus||m.textInput),"focus-value":Pe(l),type:"year","use-relative":"",onSelected:Pe(u),onHoverValue:Pe(f)},Pr({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:E(({item:y})=>[qt(m.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),r$={key:0,class:"dp__time_input"},o$=["data-compact","data-collapsed"],i$=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],s$=["aria-label","disabled","data-test-id","onKeydown","onClick"],l$=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],u$={key:0},c$=["aria-label","data-compact"],d$=or({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ki},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,r=e,{setTimePickerElements:o,setTimePickerBackRef:i}=Vl(),{defaultedAriaLabels:l,defaultedTransitions:u,defaultedFilters:f,defaultedConfig:d,defaultedRange:m,defaultedMultiCalendars:p}=wa(r),{transitionName:y,showTransition:b}=Ff(u),C=Ta({hours:!1,minutes:!1,seconds:!1}),w=Re("AM"),k=Re(null),T=Re([]),V=Re(),M=Re(!1);yn(()=>{a("mounted")});const I=F=>aa(new Date,{hours:F.hours,minutes:F.minutes,seconds:r.enableSeconds?F.seconds:0,milliseconds:0}),R=N(()=>F=>me(F,r[F])||q(F,r[F])),W=N(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),q=(F,Ue)=>m.value.enabled&&!m.value.disableTimeRangeValidation?!r.validateTime(F,Ue):!1,z=(F,Ue)=>{if(m.value.enabled&&!m.value.disableTimeRangeValidation){const $e=Ue?+r[`${F}Increment`]:-+r[`${F}Increment`],He=r[F]+$e;return!r.validateTime(F,He)}return!1},Y=N(()=>F=>!De(+r[F]+ +r[`${F}Increment`],F)||z(F,!0)),K=N(()=>F=>!De(+r[F]-+r[`${F}Increment`],F)||z(F,!1)),ae=(F,Ue)=>Uk(aa(Et(),F),Ue),te=(F,Ue)=>aB(aa(Et(),F),Ue),J=N(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),ne=N(()=>r.timePickerInline&&m.value.enabled&&!p.value.count),re=N(()=>{const F=[{type:"hours"}];return r.enableMinutes&&F.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&F.push({type:"",separator:!0},{type:"seconds"}),F}),pe=N(()=>re.value.filter(F=>!F.separator)),Ee=N(()=>F=>{if(F==="hours"){const Ue=it(+r.hours);return{text:Ue<10?`0${Ue}`:`${Ue}`,value:Ue}}return{text:r[F]<10?`0${r[F]}`:`${r[F]}`,value:r[F]}}),me=(F,Ue)=>{var $e;if(!r.disabledTimesConfig)return!1;const He=r.disabledTimesConfig(r.order,F==="hours"?Ue:void 0);return He[F]?!!(($e=He[F])!=null&&$e.includes(Ue)):!0},fe=(F,Ue)=>Ue!=="hours"||w.value==="AM"?F:F+12,le=F=>{const Ue=r.is24?24:12,$e=F==="hours"?Ue:60,He=+r[`${F}GridIncrement`],ot=F==="hours"&&!r.is24?He:0,nt=[];for(let st=ot;st<$e;st+=He)nt.push({value:r.is24?st:fe(st,F),text:st<10?`0${st}`:`${st}`});return F==="hours"&&!r.is24&&nt.unshift({value:w.value==="PM"?12:0,text:"12"}),id(nt,st=>({active:!1,disabled:f.value.times[F].includes(st.value)||!De(st.value,F)||me(F,st.value)||q(F,st.value)}))},Te=F=>F>=0?F:59,ue=F=>F>=0?F:23,De=(F,Ue)=>{const $e=r.minTime?I(rg(r.minTime)):null,He=r.maxTime?I(rg(r.maxTime)):null,ot=I(rg(W.value,Ue,Ue==="minutes"||Ue==="seconds"?Te(F):ue(F)));return $e&&He?(td(ot,He)||nd(ot,He))&&(Uu(ot,$e)||nd(ot,$e)):$e?Uu(ot,$e)||nd(ot,$e):He?td(ot,He)||nd(ot,He):!0},Me=F=>r[`no${F[0].toUpperCase()+F.slice(1)}Overlay`],Oe=F=>{Me(F)||(C[F]=!C[F],C[F]?(M.value=!0,a("overlay-opened",F)):(M.value=!1,a("overlay-closed",F)))},B=F=>F==="hours"?Ds:F==="minutes"?Pl:ed,Ae=()=>{V.value&&clearTimeout(V.value)},Fe=(F,Ue=!0,$e)=>{const He=Ue?ae:te,ot=Ue?+r[`${F}Increment`]:-+r[`${F}Increment`];De(+r[F]+ot,F)&&a(`update:${F}`,B(F)(He({[F]:+r[F]},{[F]:+r[`${F}Increment`]}))),!($e!=null&&$e.keyboard)&&d.value.timeArrowHoldThreshold&&(V.value=setTimeout(()=>{Fe(F,Ue)},d.value.timeArrowHoldThreshold))},it=F=>r.is24?F:(F>=12?w.value="PM":w.value="AM",cB(F)),_e=()=>{w.value==="PM"?(w.value="AM",a("update:hours",r.hours-12)):(w.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",w.value)},mt=F=>{C[F]=!0},H=(F,Ue,$e)=>{if(F&&r.arrowNavigation){Array.isArray(T.value[Ue])?T.value[Ue][$e]=F:T.value[Ue]=[F];const He=T.value.reduce((ot,nt)=>nt.map((st,ht)=>[...ot[ht]||[],nt[ht]]),[]);i(r.closeTimePickerBtn),k.value&&(He[1]=He[1].concat(k.value)),o(He,r.order)}},X=(F,Ue)=>(Oe(F),a(`update:${F}`,Ue));return t({openChildCmp:mt}),(F,Ue)=>{var $e;return F.disabled?je("",!0):(de(),Ze("div",r$,[(de(!0),Ze(ft,null,En(re.value,(He,ot)=>{var nt,st,ht;return de(),Ze("div",{key:ot,class:Ye(J.value),"data-compact":ne.value&&!F.enableSeconds,"data-collapsed":ne.value&&F.enableSeconds},[He.separator?(de(),Ze(ft,{key:0},[M.value?je("",!0):(de(),Ze(ft,{key:0},[Ke(":")],64))],64)):(de(),Ze(ft,{key:1},[x("button",{ref_for:!0,ref:Ve=>H(Ve,ot,0),type:"button",class:Ye({dp__btn:!0,dp__inc_dec_button:!F.timePickerInline,dp__inc_dec_button_inline:F.timePickerInline,dp__tp_inline_btn_top:F.timePickerInline,dp__inc_dec_button_disabled:Y.value(He.type),"dp--hidden-el":M.value}),"data-test-id":`${He.type}-time-inc-btn-${r.order}`,"aria-label":(nt=Pe(l))==null?void 0:nt.incrementValue(He.type),tabindex:"0",onKeydown:Ve=>Pe(eo)(Ve,()=>Fe(He.type,!0,{keyboard:!0}),!0),onClick:Ve=>Pe(d).timeArrowHoldThreshold?void 0:Fe(He.type,!0),onMousedown:Ve=>Pe(d).timeArrowHoldThreshold?Fe(He.type,!0):void 0,onMouseup:Ae},[r.timePickerInline?(de(),Ze(ft,{key:1},[F.$slots["tp-inline-arrow-up"]?qt(F.$slots,"tp-inline-arrow-up",{key:0}):(de(),Ze(ft,{key:1},[Ue[2]||(Ue[2]=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),Ue[3]||(Ue[3]=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(de(),Ze(ft,{key:0},[F.$slots["arrow-up"]?qt(F.$slots,"arrow-up",{key:0}):je("",!0),F.$slots["arrow-up"]?je("",!0):(de(),lt(Pe(G_),{key:1}))],64))],42,i$),x("button",{ref_for:!0,ref:Ve=>H(Ve,ot,1),type:"button","aria-label":`${Ee.value(He.type).text}-${(st=Pe(l))==null?void 0:st.openTpOverlay(He.type)}`,class:Ye({dp__time_display:!0,dp__time_display_block:!F.timePickerInline,dp__time_display_inline:F.timePickerInline,"dp--time-invalid":R.value(He.type),"dp--time-overlay-btn":!R.value(He.type),"dp--hidden-el":M.value}),disabled:Me(He.type),tabindex:"0","data-test-id":`${He.type}-toggle-overlay-btn-${r.order}`,onKeydown:Ve=>Pe(eo)(Ve,()=>Oe(He.type),!0),onClick:Ve=>Oe(He.type)},[F.$slots[He.type]?qt(F.$slots,He.type,{key:0,text:Ee.value(He.type).text,value:Ee.value(He.type).value}):je("",!0),F.$slots[He.type]?je("",!0):(de(),Ze(ft,{key:1},[Ke(ge(Ee.value(He.type).text),1)],64))],42,s$),x("button",{ref_for:!0,ref:Ve=>H(Ve,ot,2),type:"button",class:Ye({dp__btn:!0,dp__inc_dec_button:!F.timePickerInline,dp__inc_dec_button_inline:F.timePickerInline,dp__tp_inline_btn_bottom:F.timePickerInline,dp__inc_dec_button_disabled:K.value(He.type),"dp--hidden-el":M.value}),"data-test-id":`${He.type}-time-dec-btn-${r.order}`,"aria-label":(ht=Pe(l))==null?void 0:ht.decrementValue(He.type),tabindex:"0",onKeydown:Ve=>Pe(eo)(Ve,()=>Fe(He.type,!1,{keyboard:!0}),!0),onClick:Ve=>Pe(d).timeArrowHoldThreshold?void 0:Fe(He.type,!1),onMousedown:Ve=>Pe(d).timeArrowHoldThreshold?Fe(He.type,!1):void 0,onMouseup:Ae},[r.timePickerInline?(de(),Ze(ft,{key:1},[F.$slots["tp-inline-arrow-down"]?qt(F.$slots,"tp-inline-arrow-down",{key:0}):(de(),Ze(ft,{key:1},[Ue[4]||(Ue[4]=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),Ue[5]||(Ue[5]=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(de(),Ze(ft,{key:0},[F.$slots["arrow-down"]?qt(F.$slots,"arrow-down",{key:0}):je("",!0),F.$slots["arrow-down"]?je("",!0):(de(),lt(Pe(Q_),{key:1}))],64))],42,l$)],64))],10,o$)}),128)),F.is24?je("",!0):(de(),Ze("div",u$,[F.$slots["am-pm-button"]?qt(F.$slots,"am-pm-button",{key:0,toggle:_e,value:w.value}):je("",!0),F.$slots["am-pm-button"]?je("",!0):(de(),Ze("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":($e=Pe(l))==null?void 0:$e.amPmButton,tabindex:"0","data-compact":ne.value,onClick:_e,onKeydown:Ue[0]||(Ue[0]=He=>Pe(eo)(He,()=>_e(),!0))},ge(w.value),41,c$))])),(de(!0),Ze(ft,null,En(pe.value,(He,ot)=>(de(),lt(co,{key:ot,name:Pe(y)(C[He.type]),css:Pe(b)},{default:E(()=>{var nt,st;return[C[He.type]?(de(),lt($f,{key:0,items:le(He.type),"is-last":F.autoApply&&!Pe(d).keepActionRow,"esc-close":F.escClose,type:He.type,"text-input":F.textInput,config:F.config,"arrow-navigation":F.arrowNavigation,"aria-labels":F.ariaLabels,"overlay-label":(st=(nt=Pe(l)).timeOverlay)==null?void 0:st.call(nt,He.type),onSelected:ht=>X(He.type,ht),onToggle:ht=>Oe(He.type),onResetFlow:Ue[1]||(Ue[1]=ht=>F.$emit("reset-flow"))},Pr({"button-icon":E(()=>[F.$slots["clock-icon"]?qt(F.$slots,"clock-icon",{key:0}):je("",!0),F.$slots["clock-icon"]?je("",!0):(de(),lt(Rc(F.timePickerInline?Pe(rd):Pe(K_)),{key:1}))]),_:2},[F.$slots[`${He.type}-overlay-value`]?{name:"item",fn:E(({item:ht})=>[qt(F.$slots,`${He.type}-overlay-value`,{text:ht.text,value:ht.value})]),key:"0"}:void 0,F.$slots[`${He.type}-overlay-header`]?{name:"header",fn:E(()=>[qt(F.$slots,`${He.type}-overlay-header`,{toggle:()=>Oe(He.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):je("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),f$=["data-dp-mobile"],m$=["aria-label","tabindex"],h$=["role","aria-label","tabindex"],v$=["aria-label"],zS=or({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ki},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,r=e,{buildMatrix:o,setTimePicker:i}=Vl(),l=ku(),{defaultedTransitions:u,defaultedAriaLabels:f,defaultedTextInput:d,defaultedConfig:m,defaultedRange:p}=wa(r),{transitionName:y,showTransition:b}=Ff(u),{hideNavigationButtons:C}=Uh(),w=Re(null),k=Re(null),T=Re([]),V=Re(null),M=Re(!1);yn(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?o([Za(w.value)],"time"):i(!0,r.timePicker)});const I=N(()=>p.value.enabled&&r.modelAuto?wS(r.internalModelValue):!0),R=Re(!1),W=me=>({hours:Array.isArray(r.hours)?r.hours[me]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[me]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[me]:r.seconds}),q=N(()=>{const me=[];if(p.value.enabled)for(let fe=0;fe<2;fe++)me.push(W(fe));else me.push(W(0));return me}),z=(me,fe=!1,le="")=>{fe||a("reset-flow"),R.value=me,a(me?"overlay-opened":"overlay-closed",$r.time),r.arrowNavigation&&i(me),Qt(()=>{le!==""&&T.value[0]&&T.value[0].openChildCmp(le)})},Y=N(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!m.value.keepActionRow})),K=Eo(l,"timePicker"),ae=(me,fe,le)=>p.value.enabled?fe===0?[me,q.value[1][le]]:[q.value[0][le],me]:me,te=me=>{a("update:hours",me)},J=me=>{a("update:minutes",me)},ne=me=>{a("update:seconds",me)},re=()=>{if(V.value&&!d.value.enabled&&!r.noOverlayFocus){const me=CS(V.value);me&&me.focus({preventScroll:!0})}},pe=me=>{M.value=!1,a("overlay-closed",me)},Ee=me=>{M.value=!0,a("overlay-opened",me)};return t({toggleTimePicker:z}),(me,fe)=>{var le;return de(),Ze("div",{class:"dp--tp-wrap","data-dp-mobile":me.isMobile},[!me.timePicker&&!me.timePickerInline?Sn((de(),Ze("button",{key:0,ref_key:"openTimePickerBtn",ref:w,type:"button",class:Ye({...Y.value,"dp--hidden-el":R.value}),"aria-label":(le=Pe(f))==null?void 0:le.openTimePicker,tabindex:me.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:fe[0]||(fe[0]=Te=>Pe(eo)(Te,()=>z(!0))),onClick:fe[1]||(fe[1]=Te=>z(!0))},[me.$slots["clock-icon"]?qt(me.$slots,"clock-icon",{key:0}):je("",!0),me.$slots["clock-icon"]?je("",!0):(de(),lt(Pe(K_),{key:1}))],42,m$)),[[Ca,!Pe(C)(me.hideNavigation,"time")]]):je("",!0),h(co,{name:Pe(y)(R.value),css:Pe(b)&&!me.timePickerInline},{default:E(()=>{var Te,ue;return[R.value||me.timePicker||me.timePickerInline?(de(),Ze("div",{key:0,ref_key:"overlayRef",ref:V,role:me.timePickerInline?void 0:"dialog",class:Ye({dp__overlay:!me.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!me.timePickerInline,"dp--overlay-relative":r.timePicker}),style:vt(me.timePicker?{height:`${Pe(m).modeHeight}px`}:void 0),"aria-label":(Te=Pe(f))==null?void 0:Te.timePicker,tabindex:me.timePickerInline?void 0:0},[x("div",{class:Ye(me.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[me.$slots["time-picker-overlay"]?qt(me.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:te,setMinutes:J,setSeconds:ne}):je("",!0),me.$slots["time-picker-overlay"]?je("",!0):(de(),Ze("div",{key:1,class:Ye(me.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(de(!0),Ze(ft,null,En(q.value,(De,Me)=>Sn((de(),lt(d$,tt({key:Me,ref_for:!0},{...me.$props,order:Me,hours:De.hours,minutes:De.minutes,seconds:De.seconds,closeTimePickerBtn:k.value,disabledTimesConfig:e.disabledTimesConfig,disabled:Me===0?Pe(p).fixedStart:Pe(p).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:T,"validate-time":(Oe,B)=>e.validateTime(Oe,ae(B,Me,Oe)),"onUpdate:hours":Oe=>te(ae(Oe,Me,"hours")),"onUpdate:minutes":Oe=>J(ae(Oe,Me,"minutes")),"onUpdate:seconds":Oe=>ne(ae(Oe,Me,"seconds")),onMounted:re,onOverlayClosed:pe,onOverlayOpened:Ee,onAmPmChange:fe[2]||(fe[2]=Oe=>me.$emit("am-pm-change",Oe))}),Pr({_:2},[En(Pe(K),(Oe,B)=>({name:Oe,fn:E(Ae=>[qt(me.$slots,Oe,tt({ref_for:!0},Ae))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ca,Me===0?!0:I.value]])),128))],2)),!me.timePicker&&!me.timePickerInline?Sn((de(),Ze("button",{key:2,ref_key:"closeTimePickerBtn",ref:k,type:"button",class:Ye({...Y.value,"dp--hidden-el":M.value}),"aria-label":(ue=Pe(f))==null?void 0:ue.closeTimePicker,tabindex:"0",onKeydown:fe[3]||(fe[3]=De=>Pe(eo)(De,()=>z(!1))),onClick:fe[4]||(fe[4]=De=>z(!1))},[me.$slots["calendar-icon"]?qt(me.$slots,"calendar-icon",{key:0}):je("",!0),me.$slots["calendar-icon"]?je("",!0):(de(),lt(Pe(rd),{key:1}))],42,v$)),[[Ca,!Pe(C)(me.hideNavigation,"time")]]):je("",!0)],2)],14,h$)):je("",!0)]}),_:3},8,["name","css"])],8,f$)}}}),jS=(e,t,n,a)=>{const{defaultedRange:r}=wa(e),o=(V,M)=>Array.isArray(t[V])?t[V][M]:t[V],i=V=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[V]:t.seconds:0,l=(V,M)=>V?M!==void 0?Dl(V,o("hours",M),o("minutes",M),i(M)):Dl(V,t.hours,t.minutes,i()):pS(Et(),i(M)),u=(V,M)=>{t[V]=M},f=N(()=>e.modelAuto&&r.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:r.value.enabled),d=(V,M)=>{const I=Object.fromEntries(Object.keys(t).map(R=>R===V?[R,M]:[R,t[R]].slice()));if(f.value&&!r.value.disableTimeRangeValidation){const R=q=>n.value?Dl(n.value[q],I.hours[q],I.minutes[q],I.seconds[q]):null,W=q=>vS(n.value[q],0);return!(xn(R(0),R(1))&&(Uu(R(0),W(1))||td(R(1),W(0))))}return!0},m=(V,M)=>{d(V,M)&&(u(V,M),a&&a())},p=V=>{m("hours",V)},y=V=>{m("minutes",V)},b=V=>{m("seconds",V)},C=(V,M,I,R)=>{M&&p(V),!M&&!I&&y(V),I&&b(V),n.value&&R(n.value)},w=V=>{if(V){const M=Array.isArray(V),I=M?[+V[0].hours,+V[1].hours]:+V.hours,R=M?[+V[0].minutes,+V[1].minutes]:+V.minutes,W=M?[+V[0].seconds,+V[1].seconds]:+V.seconds;u("hours",I),u("minutes",R),e.enableSeconds&&u("seconds",W)}},k=(V,M)=>{const I={hours:Array.isArray(t.hours)?t.hours[V]:t.hours,disabledArr:[]};return(M||M===0)&&(I.hours=M),Array.isArray(e.disabledTimes)&&(I.disabledArr=r.value.enabled&&Array.isArray(e.disabledTimes[V])?e.disabledTimes[V]:e.disabledTimes),I},T=N(()=>(V,M)=>{var I;if(Array.isArray(e.disabledTimes)){const{disabledArr:R,hours:W}=k(V,M),q=R.filter(z=>+z.hours===W);return((I=q[0])==null?void 0:I.minutes)==="*"?{hours:[W],minutes:void 0,seconds:void 0}:{hours:[],minutes:q?.map(z=>+z.minutes)??[],seconds:q?.map(z=>z.seconds?+z.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:u,updateHours:p,updateMinutes:y,updateSeconds:b,getSetDateTime:l,updateTimeValues:C,getSecondsValue:i,assignStartTime:w,validateTime:d,disabledTimesConfig:T}},p$=(e,t)=>{const n=()=>{e.isTextInputDate&&M()},{modelValue:a,time:r}=Lf(e,t,n),{defaultedStartTime:o,defaultedRange:i,defaultedTz:l}=wa(e),{updateTimeValues:u,getSetDateTime:f,setTime:d,assignStartTime:m,disabledTimesConfig:p,validateTime:y}=jS(e,r,a,b);function b(){t("update-flow-step")}const C=R=>{const{hours:W,minutes:q,seconds:z}=R;return{hours:+W,minutes:+q,seconds:z?+z:0}},w=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const W=C(e.startTime[0]),q=C(e.startTime[1]);return[aa(Et(),W),aa(Et(),q)]}const R=C(e.startTime);return aa(Et(),R)}return i.value.enabled?[null,null]:null},k=()=>{if(i.value.enabled){const[R,W]=w();a.value=[fo(f(R,0),l.value.timezone),fo(f(W,1),l.value.timezone)]}else a.value=fo(f(w()),l.value.timezone)},T=R=>Array.isArray(R)?[Wu(Et(R[0])),Wu(Et(R[1]))]:[Wu(R??Et())],V=(R,W,q)=>{d("hours",R),d("minutes",W),d("seconds",e.enableSeconds?q:0)},M=()=>{const[R,W]=T(a.value);return i.value.enabled?V([R.hours,W.hours],[R.minutes,W.minutes],[R.seconds,W.seconds]):V(R.hours,R.minutes,R.seconds)};yn(()=>{if(!e.shadow)return m(o.value),a.value?M():k()});const I=()=>{Array.isArray(a.value)?a.value=a.value.map((R,W)=>R&&f(R,W)):a.value=f(a.value),t("time-update")};return{modelValue:a,time:r,disabledTimesConfig:p,updateTime:(R,W=!0,q=!1)=>{u(R,W,q,I)},validateTime:y}},_$=or({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ki},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,o=ku(),i=Eo(o,"timePicker"),l=Re(null),{time:u,modelValue:f,disabledTimesConfig:d,updateTime:m,validateTime:p}=p$(r,a);return yn(()=>{r.shadow||a("mount",null)}),t({getSidebarProps:()=>({modelValue:f,time:u,updateTime:m}),toggleTimePicker:(y,b=!1,C="")=>{var w;(w=l.value)==null||w.toggleTimePicker(y,b,C)}}),(y,b)=>(de(),lt(Lh,{"multi-calendars":0,stretch:"","is-mobile":y.isMobile},{default:E(()=>[h(zS,tt({ref_key:"tpRef",ref:l},y.$props,{hours:Pe(u).hours,minutes:Pe(u).minutes,seconds:Pe(u).seconds,"internal-model-value":y.internalModelValue,"disabled-times-config":Pe(d),"validate-time":Pe(p),"onUpdate:hours":b[0]||(b[0]=C=>Pe(m)(C)),"onUpdate:minutes":b[1]||(b[1]=C=>Pe(m)(C,!1)),"onUpdate:seconds":b[2]||(b[2]=C=>Pe(m)(C,!1,!0)),onAmPmChange:b[3]||(b[3]=C=>y.$emit("am-pm-change",C)),onResetFlow:b[4]||(b[4]=C=>y.$emit("reset-flow")),onOverlayClosed:b[5]||(b[5]=C=>y.$emit("overlay-toggle",{open:!1,overlay:C})),onOverlayOpened:b[6]||(b[6]=C=>y.$emit("overlay-toggle",{open:!0,overlay:C}))}),Pr({_:2},[En(Pe(i),(C,w)=>({name:C,fn:E(k=>[qt(y.$slots,C,Da(ir(k)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),g$={class:"dp--header-wrap"},y$={key:0,class:"dp__month_year_wrap"},b$={key:0},w$={class:"dp__month_year_wrap"},k$=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],S$=or({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ki},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const a=n,r=e,{defaultedTransitions:o,defaultedAriaLabels:i,defaultedMultiCalendars:l,defaultedFilters:u,defaultedConfig:f,defaultedHighlight:d,propDates:m,defaultedUI:p}=wa(r),{transitionName:y,showTransition:b}=Ff(o),{buildMatrix:C}=Vl(),{handleMonthYearChange:w,isDisabled:k,updateMonthYear:T}=HB(r,a),{showLeftIcon:V,showRightIcon:M}=Uh(),I=Re(!1),R=Re(!1),W=Re(!1),q=Re([null,null,null,null]);yn(()=>{a("mount")});const z=ue=>({get:()=>r[ue],set:De=>{const Me=ue===yi.month?yi.year:yi.month;a("update-month-year",{[ue]:De,[Me]:r[Me]}),ue===yi.month?pe(!0):Ee(!0)}}),Y=N(z(yi.month)),K=N(z(yi.year)),ae=N(()=>ue=>({month:r.month,year:r.year,items:ue===yi.month?r.months:r.years,instance:r.instance,updateMonthYear:T,toggle:ue===yi.month?pe:Ee})),te=N(()=>r.months.find(De=>De.value===r.month)||{text:"",value:0}),J=N(()=>id(r.months,ue=>{const De=r.month===ue.value,Me=Mf(ue.value,TS(r.year,m.value.minDate),VS(r.year,m.value.maxDate))||u.value.months.includes(ue.value),Oe=BS(d.value,ue.value,r.year);return{active:De,disabled:Me,highlighted:Oe}})),ne=N(()=>id(r.years,ue=>{const De=r.year===ue.value,Me=Mf(ue.value,sd(m.value.minDate),sd(m.value.maxDate))||u.value.years.includes(ue.value),Oe=ug(d.value,ue.value);return{active:De,disabled:Me,highlighted:Oe}})),re=(ue,De,Me)=>{Me!==void 0?ue.value=Me:ue.value=!ue.value,ue.value?(W.value=!0,a("overlay-opened",De)):(W.value=!1,a("overlay-closed",De))},pe=(ue=!1,De)=>{me(ue),re(I,$r.month,De)},Ee=(ue=!1,De)=>{me(ue),re(R,$r.year,De)},me=ue=>{ue||a("reset-flow")},fe=(ue,De)=>{r.arrowNavigation&&(q.value[De]=Za(ue),C(q.value,"monthYear"))},le=N(()=>{var ue,De,Me,Oe,B,Ae;return[{type:yi.month,index:1,toggle:pe,modelValue:Y.value,updateModelValue:Fe=>Y.value=Fe,text:te.value.text,showSelectionGrid:I.value,items:J.value,ariaLabel:(ue=i.value)==null?void 0:ue.openMonthsOverlay,overlayLabel:((Me=(De=i.value).monthPicker)==null?void 0:Me.call(De,!0))??void 0},{type:yi.year,index:2,toggle:Ee,modelValue:K.value,updateModelValue:Fe=>K.value=Fe,text:xS(r.year,r.locale),showSelectionGrid:R.value,items:ne.value,ariaLabel:(Oe=i.value)==null?void 0:Oe.openYearsOverlay,overlayLabel:((Ae=(B=i.value).yearPicker)==null?void 0:Ae.call(B,!0))??void 0}]}),Te=N(()=>r.disableYearSelect?[le.value[0]]:r.yearFirst?[...le.value].reverse():le.value);return t({toggleMonthPicker:pe,toggleYearPicker:Ee,handleMonthYearChange:w}),(ue,De)=>{var Me,Oe,B,Ae,Fe,it;return de(),Ze("div",g$,[ue.$slots["month-year"]?(de(),Ze("div",y$,[qt(ue.$slots,"month-year",Da(ir({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:Pe(T),handleMonthYearChange:Pe(w),instance:e.instance,isDisabled:Pe(k)})))])):(de(),Ze(ft,{key:1},[ue.$slots["top-extra"]?(de(),Ze("div",b$,[qt(ue.$slots,"top-extra",{value:ue.internalModelValue})])):je("",!0),x("div",w$,[Pe(V)(Pe(l),e.instance)&&!ue.vertical?(de(),lt(Rf,{key:0,"aria-label":(Me=Pe(i))==null?void 0:Me.prevMonth,disabled:Pe(k)(!1),class:Ye((Oe=Pe(p))==null?void 0:Oe.navBtnPrev),"el-name":"action-prev",onActivate:De[0]||(De[0]=_e=>Pe(w)(!1,!0)),onSetRef:De[1]||(De[1]=_e=>fe(_e,0))},{default:E(()=>[ue.$slots["arrow-left"]?qt(ue.$slots,"arrow-left",{key:0}):je("",!0),ue.$slots["arrow-left"]?je("",!0):(de(),lt(Pe(j_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):je("",!0),x("div",{class:Ye(["dp__month_year_wrap",{dp__year_disable_select:ue.disableYearSelect}])},[(de(!0),Ze(ft,null,En(Te.value,(_e,mt)=>(de(),Ze(ft,{key:_e.type},[x("button",{ref_for:!0,ref:H=>fe(H,mt+1),type:"button","data-dp-element":`overlay-${_e.type}`,class:Ye(["dp__btn dp__month_year_select",{"dp--hidden-el":W.value}]),"aria-label":`${_e.text}-${_e.ariaLabel}`,"data-test-id":`${_e.type}-toggle-overlay-${e.instance}`,onClick:_e.toggle,onKeydown:H=>Pe(eo)(H,()=>_e.toggle(),!0)},[ue.$slots[_e.type]?qt(ue.$slots,_e.type,{key:0,text:_e.text,value:r[_e.type]}):je("",!0),ue.$slots[_e.type]?je("",!0):(de(),Ze(ft,{key:1},[Ke(ge(_e.text),1)],64))],42,k$),h(co,{name:Pe(y)(_e.showSelectionGrid),css:Pe(b)},{default:E(()=>[_e.showSelectionGrid?(de(),lt($f,{key:0,items:_e.items,"arrow-navigation":ue.arrowNavigation,"hide-navigation":ue.hideNavigation,"is-last":ue.autoApply&&!Pe(f).keepActionRow,"skip-button-ref":!1,config:ue.config,type:_e.type,"header-refs":[],"esc-close":ue.escClose,"menu-wrap-ref":ue.menuWrapRef,"text-input":ue.textInput,"aria-labels":ue.ariaLabels,"overlay-label":_e.overlayLabel,onSelected:_e.updateModelValue,onToggle:_e.toggle},Pr({"button-icon":E(()=>[ue.$slots["calendar-icon"]?qt(ue.$slots,"calendar-icon",{key:0}):je("",!0),ue.$slots["calendar-icon"]?je("",!0):(de(),lt(Pe(rd),{key:1}))]),_:2},[ue.$slots[`${_e.type}-overlay-value`]?{name:"item",fn:E(({item:H})=>[qt(ue.$slots,`${_e.type}-overlay-value`,{text:H.text,value:H.value})]),key:"0"}:void 0,ue.$slots[`${_e.type}-overlay`]?{name:"overlay",fn:E(()=>[qt(ue.$slots,`${_e.type}-overlay`,tt({ref_for:!0},ae.value(_e.type)))]),key:"1"}:void 0,ue.$slots[`${_e.type}-overlay-header`]?{name:"header",fn:E(()=>[qt(ue.$slots,`${_e.type}-overlay-header`,{toggle:_e.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):je("",!0)]),_:2},1032,["name","css"])],64))),128))],2),Pe(V)(Pe(l),e.instance)&&ue.vertical?(de(),lt(Rf,{key:1,"aria-label":(B=Pe(i))==null?void 0:B.prevMonth,"el-name":"action-prev",disabled:Pe(k)(!1),class:Ye((Ae=Pe(p))==null?void 0:Ae.navBtnPrev),onActivate:De[2]||(De[2]=_e=>Pe(w)(!1,!0))},{default:E(()=>[ue.$slots["arrow-up"]?qt(ue.$slots,"arrow-up",{key:0}):je("",!0),ue.$slots["arrow-up"]?je("",!0):(de(),lt(Pe(G_),{key:1}))]),_:3},8,["aria-label","disabled","class"])):je("",!0),Pe(M)(Pe(l),e.instance)?(de(),lt(Rf,{key:2,ref:"rightIcon","el-name":"action-next",disabled:Pe(k)(!0),"aria-label":(Fe=Pe(i))==null?void 0:Fe.nextMonth,class:Ye((it=Pe(p))==null?void 0:it.navBtnNext),onActivate:De[3]||(De[3]=_e=>Pe(w)(!0,!0)),onSetRef:De[4]||(De[4]=_e=>fe(_e,ue.disableYearSelect?2:3))},{default:E(()=>[ue.$slots[ue.vertical?"arrow-down":"arrow-right"]?qt(ue.$slots,ue.vertical?"arrow-down":"arrow-right",{key:0}):je("",!0),ue.$slots[ue.vertical?"arrow-down":"arrow-right"]?je("",!0):(de(),lt(Rc(ue.vertical?Pe(Q_):Pe(Y_)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):je("",!0)])],64))])}}}),C$={class:"dp__calendar_header",role:"row"},x$={key:0,class:"dp__calendar_header_item",role:"gridcell"},P$=["aria-label"],E$={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},D$={class:"dp__cell_inner"},T$=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],V$=or({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ki},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const a=n,r=e,{buildMultiLevelMatrix:o}=Vl(),{defaultedTransitions:i,defaultedConfig:l,defaultedAriaLabels:u,defaultedMultiCalendars:f,defaultedWeekNumbers:d,defaultedMultiDates:m,defaultedUI:p}=wa(r),y=Re(null),b=Re({bottom:"",left:"",transform:""}),C=Re([]),w=Re(null),k=Re(!0),T=Re(""),V=Re({startX:0,endX:0,startY:0,endY:0}),M=Re([]),I=Re({left:"50%"}),R=Re(!1),W=N(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),q=N(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):uB(r.formatLocale,r.locale,+r.weekStart));yn(()=>{a("mount",{cmp:"calendar",refs:C}),l.value.noSwipe||w.value&&(w.value.addEventListener("touchstart",fe,{passive:!1}),w.value.addEventListener("touchend",le,{passive:!1}),w.value.addEventListener("touchmove",Te,{passive:!1})),r.monthChangeOnScroll&&w.value&&w.value.addEventListener("wheel",Me,{passive:!1})}),Ni(()=>{l.value.noSwipe||w.value&&(w.value.removeEventListener("touchstart",fe),w.value.removeEventListener("touchend",le),w.value.removeEventListener("touchmove",Te)),r.monthChangeOnScroll&&w.value&&w.value.removeEventListener("wheel",Me)});const z=_e=>_e?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",Y=(_e,mt)=>{if(r.transitions){const H=gr(Vs(Et(),r.month,r.year));T.value=Ua(gr(Vs(Et(),_e,mt)),H)?i.value[z(!0)]:i.value[z(!1)],k.value=!1,Qt(()=>{k.value=!0})}},K=N(()=>({...p.value.calendar??{}})),ae=N(()=>_e=>{const mt=dB(_e);return{dp__marker_dot:mt.type==="dot",dp__marker_line:mt.type==="line"}}),te=N(()=>_e=>xn(_e,y.value)),J=N(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&r.instance!==0})),ne=N(()=>_e=>r.hideOffsetDates?_e.current:!0),re=async(_e,mt)=>{const{width:H,height:X}=_e.getBoundingClientRect();y.value=mt.value;let F={left:`${H/2}px`},Ue=-50;if(await Qt(),M.value[0]){const{left:$e,width:He}=M.value[0].getBoundingClientRect();$e<0&&(F={left:"0"},Ue=0,I.value.left=`${H/2}px`),window.innerWidth<$e+He&&(F={right:"0"},Ue=0,I.value.left=`${He-H/2}px`)}b.value={bottom:`${X}px`,...F,transform:`translateX(${Ue}%)`}},pe=async(_e,mt,H)=>{var X,F,Ue;const $e=Za(C.value[mt][H]);$e&&((X=_e.marker)!=null&&X.customPosition&&(Ue=(F=_e.marker)==null?void 0:F.tooltip)!=null&&Ue.length?b.value=_e.marker.customPosition($e):await re($e,_e),a("tooltip-open",_e.marker))},Ee=async(_e,mt,H)=>{var X,F;if(R.value&&m.value.enabled&&m.value.dragSelect)return a("select-date",_e);if(a("set-hover-date",_e),(F=(X=_e.marker)==null?void 0:X.tooltip)!=null&&F.length){if(r.hideOffsetDates&&!_e.current)return;await pe(_e,mt,H)}},me=_e=>{y.value&&(y.value=null,b.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",_e.marker))},fe=_e=>{V.value.startX=_e.changedTouches[0].screenX,V.value.startY=_e.changedTouches[0].screenY},le=_e=>{V.value.endX=_e.changedTouches[0].screenX,V.value.endY=_e.changedTouches[0].screenY,ue()},Te=_e=>{r.vertical&&!r.inline&&_e.preventDefault()},ue=()=>{const _e=r.vertical?"Y":"X";Math.abs(V.value[`start${_e}`]-V.value[`end${_e}`])>10&&a("handle-swipe",V.value[`start${_e}`]>V.value[`end${_e}`]?"right":"left")},De=(_e,mt,H)=>{_e&&(Array.isArray(C.value[mt])?C.value[mt][H]=_e:C.value[mt]=[_e]),r.arrowNavigation&&o(C.value,"calendar")},Me=_e=>{r.monthChangeOnScroll&&(_e.preventDefault(),a("handle-scroll",_e))},Oe=_e=>d.value.type==="local"?L_(_e.value,{weekStartsOn:+r.weekStart}):d.value.type==="iso"?R_(_e.value):typeof d.value.type=="function"?d.value.type(_e.value):"",B=_e=>{const mt=_e[0];return d.value.hideOnOffsetDates?_e.some(H=>H.current)?Oe(mt):"":Oe(mt)},Ae=(_e,mt,H=!0)=>{!H&&pB()||(!m.value.enabled||l.value.allowPreventDefault)&&(El(_e,l.value),a("select-date",mt))},Fe=_e=>{El(_e,l.value)},it=_e=>{m.value.enabled&&m.value.dragSelect?(R.value=!0,a("select-date",_e)):m.value.enabled&&a("select-date",_e)};return t({triggerTransition:Y}),(_e,mt)=>(de(),Ze("div",{class:Ye(J.value)},[x("div",{ref_key:"calendarWrapRef",ref:w,class:Ye(K.value),role:"grid"},[x("div",C$,[_e.weekNumbers?(de(),Ze("div",x$,ge(_e.weekNumName),1)):je("",!0),(de(!0),Ze(ft,null,En(q.value,(H,X)=>{var F,Ue;return de(),Ze("div",{key:X,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(Ue=(F=Pe(u))==null?void 0:F.weekDay)==null?void 0:Ue.call(F,X)},[_e.$slots["calendar-header"]?qt(_e.$slots,"calendar-header",{key:0,day:H,index:X}):je("",!0),_e.$slots["calendar-header"]?je("",!0):(de(),Ze(ft,{key:1},[Ke(ge(H),1)],64))],8,P$)}),128))]),mt[2]||(mt[2]=x("div",{class:"dp__calendar_header_separator"},null,-1)),h(co,{name:T.value,css:!!_e.transitions},{default:E(()=>[k.value?(de(),Ze("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:mt[1]||(mt[1]=H=>R.value=!1)},[(de(!0),Ze(ft,null,En(W.value,(H,X)=>(de(),Ze("div",{key:X,class:"dp__calendar_row",role:"row"},[_e.weekNumbers?(de(),Ze("div",E$,[x("div",D$,ge(B(H.days)),1)])):je("",!0),(de(!0),Ze(ft,null,En(H.days,(F,Ue)=>{var $e,He,ot;return de(),Ze("div",{id:Pe(cg)(F.value),ref_for:!0,ref:nt=>De(nt,X,Ue),key:Ue+X,role:"gridcell",class:"dp__calendar_item","aria-pressed":(F.classData.dp__active_date||F.classData.dp__range_start||F.classData.dp__range_start)??void 0,"aria-disabled":F.classData.dp__cell_disabled||void 0,"aria-label":(He=($e=Pe(u))==null?void 0:$e.day)==null?void 0:He.call($e,F),tabindex:!F.current&&_e.hideOffsetDates?void 0:0,"data-test-id":Pe(cg)(F.value),onClick:$a(nt=>Ae(nt,F),["prevent"]),onTouchend:nt=>Ae(nt,F,!1),onKeydown:nt=>Pe(eo)(nt,()=>_e.$emit("select-date",F)),onMouseenter:nt=>Ee(F,X,Ue),onMouseleave:nt=>me(F),onMousedown:nt=>it(F),onMouseup:mt[0]||(mt[0]=nt=>R.value=!1)},[x("div",{class:Ye(["dp__cell_inner",F.classData])},[_e.$slots.day&&ne.value(F)?qt(_e.$slots,"day",{key:0,day:+F.text,date:F.value}):je("",!0),_e.$slots.day?je("",!0):(de(),Ze(ft,{key:1},[Ke(ge(F.text),1)],64)),F.marker&&ne.value(F)?(de(),Ze(ft,{key:2},[_e.$slots.marker?qt(_e.$slots,"marker",{key:0,marker:F.marker,day:+F.text,date:F.value}):(de(),Ze("div",{key:1,class:Ye(ae.value(F.marker)),style:vt(F.marker.color?{backgroundColor:F.marker.color}:{})},null,6))],64)):je("",!0),te.value(F.value)?(de(),Ze("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:M,class:"dp__marker_tooltip",style:vt(b.value)},[(ot=F.marker)!=null&&ot.tooltip?(de(),Ze("div",{key:0,class:"dp__tooltip_content",onClick:Fe},[(de(!0),Ze(ft,null,En(F.marker.tooltip,(nt,st)=>(de(),Ze("div",{key:st,class:"dp__tooltip_text"},[_e.$slots["marker-tooltip"]?qt(_e.$slots,"marker-tooltip",{key:0,tooltip:nt,day:F.value}):je("",!0),_e.$slots["marker-tooltip"]?je("",!0):(de(),Ze(ft,{key:1},[x("div",{class:"dp__tooltip_mark",style:vt(nt.color?{backgroundColor:nt.color}:{})},null,4),x("div",null,ge(nt.text),1)],64))]))),128)),x("div",{class:"dp__arrow_bottom_tp",style:vt(I.value)},null,4)])):je("",!0)],4)):je("",!0)],2)],40,T$)}),128))]))),128))],32)):je("",!0)]),_:3},8,["name","css"])],2)],2))}}),YS=e=>Array.isArray(e),O$=(e,t,n,a)=>{const r=Re([]),o=Re(new Date),i=Re(),l=()=>le(e.isTextInputDate),{modelValue:u,calendars:f,time:d,today:m}=Lf(e,t,l),{defaultedMultiCalendars:p,defaultedStartTime:y,defaultedRange:b,defaultedConfig:C,defaultedTz:w,propDates:k,defaultedMultiDates:T}=wa(e),{validateMonthYearInRange:V,isDisabled:M,isDateRangeAllowed:I,checkMinMaxRange:R}=Il(e),{updateTimeValues:W,getSetDateTime:q,setTime:z,assignStartTime:Y,validateTime:K,disabledTimesConfig:ae}=jS(e,d,u,a),te=N(()=>Xe=>f.value[Xe]?f.value[Xe].month:0),J=N(()=>Xe=>f.value[Xe]?f.value[Xe].year:0),ne=Xe=>!C.value.keepViewOnOffsetClick||Xe?!0:!i.value,re=(Xe,wt,ct,$t=!1)=>{var pt,Ot;ne($t)&&(f.value[Xe]||(f.value[Xe]={month:0,year:0}),f.value[Xe].month=SS(wt)?(pt=f.value[Xe])==null?void 0:pt.month:wt,f.value[Xe].year=SS(ct)?(Ot=f.value[Xe])==null?void 0:Ot.year:ct)},pe=()=>{e.autoApply&&t("select-date")},Ee=()=>{y.value&&Y(y.value)};yn(()=>{e.shadow||(u.value||(mt(),Ee()),le(!0),e.focusStartDate&&e.startDate&&mt())});const me=N(()=>{var Xe;return(Xe=e.flow)!=null&&Xe.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),fe=()=>{e.autoApply&&me.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},le=(Xe=!1)=>{if(u.value)return Array.isArray(u.value)?(r.value=u.value,Ae(Xe)):De(u.value,Xe);if(p.value.count&&Xe&&!e.startDate)return ue(Et(),Xe)},Te=()=>Array.isArray(u.value)&&b.value.enabled?Cn(u.value[0])===Cn(u.value[1]??u.value[0]):!1,ue=(Xe=new Date,wt=!1)=>{if((!p.value.count||!p.value.static||wt)&&re(0,Cn(Xe),on(Xe)),p.value.count&&(!u.value||Te()||!p.value.solo)&&(!p.value.solo||wt))for(let ct=1;ct<p.value.count;ct++){const $t=aa(Et(),{month:te.value(ct-1),year:J.value(ct-1)}),pt=Uk($t,{months:1});f.value[ct]={month:Cn(pt),year:on(pt)}}},De=(Xe,wt)=>{ue(Xe),z("hours",Ds(Xe)),z("minutes",Pl(Xe)),z("seconds",ed(Xe)),p.value.count&&wt&&_e()},Me=Xe=>{if(p.value.count){if(p.value.solo)return 0;const wt=Cn(Xe[0]),ct=Cn(Xe[1]);return Math.abs(ct-wt)<p.value.count?0:1}return 1},Oe=(Xe,wt)=>{Xe[1]&&b.value.showLastInRange?ue(Xe[Me(Xe)],wt):ue(Xe[0],wt);const ct=($t,pt)=>[$t(Xe[0]),Xe[1]?$t(Xe[1]):d[pt][1]];z("hours",ct(Ds,"hours")),z("minutes",ct(Pl,"minutes")),z("seconds",ct(ed,"seconds"))},B=(Xe,wt)=>{if((b.value.enabled||e.weekPicker)&&!T.value.enabled)return Oe(Xe,wt);if(T.value.enabled&&wt){const ct=Xe[Xe.length-1];return De(ct,wt)}},Ae=Xe=>{const wt=u.value;B(wt,Xe),p.value.count&&p.value.solo&&_e()},Fe=(Xe,wt)=>{const ct=aa(Et(),{month:te.value(wt),year:J.value(wt)}),$t=Xe<0?_i(ct,1):ad(ct,1);V(Cn($t),on($t),Xe<0,e.preventMinMaxNavigation)&&(re(wt,Cn($t),on($t)),t("update-month-year",{instance:wt,month:Cn($t),year:on($t)}),p.value.count&&!p.value.solo&&it(wt),n())},it=Xe=>{for(let wt=Xe-1;wt>=0;wt--){const ct=ad(aa(Et(),{month:te.value(wt+1),year:J.value(wt+1)}),1);re(wt,Cn(ct),on(ct))}for(let wt=Xe+1;wt<=p.value.count-1;wt++){const ct=_i(aa(Et(),{month:te.value(wt-1),year:J.value(wt-1)}),1);re(wt,Cn(ct),on(ct))}},_e=()=>{if(Array.isArray(u.value)&&u.value.length===2){const Xe=Et(Et(u.value[1]?u.value[1]:_i(u.value[0],1))),[wt,ct]=[Cn(u.value[0]),on(u.value[0])],[$t,pt]=[Cn(u.value[1]),on(u.value[1])];(wt!==$t||wt===$t&&ct!==pt)&&p.value.solo&&re(1,Cn(Xe),on(Xe))}else u.value&&!Array.isArray(u.value)&&(re(0,Cn(u.value),on(u.value)),ue(Et()))},mt=()=>{e.startDate&&(re(0,Cn(Et(e.startDate)),on(Et(e.startDate))),p.value.count&&it(0))},H=(Xe,wt)=>{if(e.monthChangeOnScroll){const ct=new Date().getTime()-o.value.getTime(),$t=Math.abs(Xe.deltaY);let pt=500;$t>1&&(pt=100),$t>100&&(pt=0),ct>pt&&(o.value=new Date,Fe(e.monthChangeOnScroll!=="inverse"?-Xe.deltaY:Xe.deltaY,wt))}},X=(Xe,wt,ct=!1)=>{e.monthChangeOnArrows&&e.vertical===ct&&F(Xe,wt)},F=(Xe,wt)=>{Fe(Xe==="right"?-1:1,wt)},Ue=Xe=>{if(k.value.markers)return Bh(Xe.value,k.value.markers)},$e=(Xe,wt)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[Xe==0,!0];case"fair":return[Xe==0||wt>Xe,!0];case"append":return[!1,!1];default:return[!1,!1]}},He=(Xe,wt,ct,$t)=>{if(e.sixWeeks&&Xe.length<6){const pt=6-Xe.length,Ot=(wt.getDay()+7-$t)%7,Ft=6-(ct.getDay()+7-$t)%7,[Tr,Ur]=$e(Ot,Ft);for(let Hr=1;Hr<=pt;Hr++)if(Ur?!!(Hr%2)==Tr:Tr){const Ya=Xe[0].days[0],to=ot(Ho(Ya.value,-7),Cn(wt));Xe.unshift({days:to})}else{const Ya=Xe[Xe.length-1],to=Ya.days[Ya.days.length-1],Ls=ot(Ho(to.value,1),Cn(wt));Xe.push({days:Ls})}}return Xe},ot=(Xe,wt)=>{const ct=Et(Xe),$t=[];for(let pt=0;pt<7;pt++){const Ot=Ho(ct,pt),Ft=Cn(Ot)!==wt;$t.push({text:e.hideOffsetDates&&Ft?"":Ot.getDate(),value:Ot,current:!Ft,classData:{}})}return $t},nt=(Xe,wt)=>{const ct=[],$t=new Date(wt,Xe),pt=new Date(wt,Xe+1,0),Ot=e.weekStart,Ft=gi($t,{weekStartsOn:Ot}),Tr=Ur=>{const Hr=ot(Ur,Xe);if(ct.push({days:Hr}),!ct[ct.length-1].days.some(Ya=>xn(gr(Ya.value),gr(pt)))){const Ya=Ho(Ur,7);Tr(Ya)}};return Tr(Ft),He(ct,$t,pt,Ot)},st=Xe=>{const wt=Dl(Et(Xe.value),d.hours,d.minutes,Dt());t("date-update",wt),T.value.enabled?pg(wt,u,T.value.limit):u.value=wt,a(),Qt().then(()=>{fe()})},ht=Xe=>b.value.noDisabledRange?OS(r.value[0],Xe).some(wt=>M(wt)):!1,Ve=()=>{r.value=u.value?u.value.slice():[],r.value.length===2&&!(b.value.fixedStart||b.value.fixedEnd)&&(r.value=[])},Je=(Xe,wt)=>{const ct=[Et(Xe.value),Ho(Et(Xe.value),+b.value.autoRange)];I(ct)?(wt&&Pt(Xe.value),r.value=ct):t("invalid-date",Xe.value)},Pt=Xe=>{const wt=Cn(Et(Xe)),ct=on(Et(Xe));if(re(0,wt,ct),p.value.count>0)for(let $t=1;$t<p.value.count;$t++){const pt=yB(aa(Et(Xe),{year:J.value($t-1),month:te.value($t-1)}));re($t,pt.month,pt.year)}},Bt=Xe=>{if(ht(Xe.value)||!R(Xe.value,u.value,b.value.fixedStart?0:1))return t("invalid-date",Xe.value);r.value=HS(Et(Xe.value),u,t,b)},jt=(Xe,wt)=>{if(Ve(),b.value.autoRange)return Je(Xe,wt);if(b.value.fixedStart||b.value.fixedEnd)return Bt(Xe);r.value[0]?R(Et(Xe.value),u.value)&&!ht(Xe.value)?Aa(Et(Xe.value),Et(r.value[0]))?(r.value.unshift(Et(Xe.value)),t("range-end",r.value[0])):(r.value[1]=Et(Xe.value),t("range-end",r.value[1])):(e.autoApply&&t("auto-apply-invalid",Xe.value),t("invalid-date",Xe.value)):(r.value[0]=Et(Xe.value),t("range-start",r.value[0]))},Dt=(Xe=!0)=>e.enableSeconds?Array.isArray(d.seconds)?Xe?d.seconds[0]:d.seconds[1]:d.seconds:0,zt=Xe=>{r.value[Xe]=Dl(r.value[Xe],d.hours[Xe],d.minutes[Xe],Dt(Xe!==1))},mn=()=>{var Xe,wt;r.value[0]&&r.value[1]&&+((Xe=r.value)==null?void 0:Xe[0])>+((wt=r.value)==null?void 0:wt[1])&&(r.value.reverse(),t("range-start",r.value[0]),t("range-end",r.value[1]))},$n=()=>{r.value.length&&(r.value[0]&&!r.value[1]?zt(0):(zt(0),zt(1),a()),mn(),u.value=r.value.slice(),qh(r.value,t,e.autoApply,e.modelAuto))},Yn=(Xe,wt=!1)=>{if(M(Xe.value)||!Xe.current&&e.hideOffsetDates)return t("invalid-date",Xe.value);if(i.value=JSON.parse(JSON.stringify(Xe)),!b.value.enabled)return st(Xe);YS(d.hours)&&YS(d.minutes)&&!T.value.enabled&&(jt(Xe,wt),$n())},ra=(Xe,wt)=>{var ct;re(Xe,wt.month,wt.year,!0),p.value.count&&!p.value.solo&&it(Xe),t("update-month-year",{instance:Xe,month:wt.month,year:wt.year}),n(p.value.solo?Xe:void 0);const $t=(ct=e.flow)!=null&&ct.length?e.flow[e.flowStep]:void 0;!wt.fromNav&&($t===$r.month||$t===$r.year)&&a()},pa=(Xe,wt)=>{US({value:Xe,modelValue:u,range:b.value.enabled,timezone:wt?void 0:w.value.timezone}),pe(),e.multiCalendars&&Qt().then(()=>le(!0))},ja=()=>{const Xe=X_(Et(),w.value);!b.value.enabled&&!T.value.enabled?u.value=Xe:u.value&&Array.isArray(u.value)&&u.value[0]?T.value.enabled?u.value=[...u.value,Xe]:u.value=Aa(Xe,u.value[0])?[Xe,u.value[0]]:[u.value[0],Xe]:u.value=[Xe],pe()},Nt=()=>{if(Array.isArray(u.value))if(T.value.enabled){const Xe=fa();u.value[u.value.length-1]=q(Xe)}else u.value=u.value.map((Xe,wt)=>Xe&&q(Xe,wt));else u.value=q(u.value);t("time-update")},fa=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:f,modelValue:u,month:te,year:J,time:d,disabledTimesConfig:ae,today:m,validateTime:K,getCalendarDays:nt,getMarker:Ue,handleScroll:H,handleSwipe:F,handleArrow:X,selectDate:Yn,updateMonthYear:ra,presetDate:pa,selectCurrentDate:ja,updateTime:(Xe,wt=!0,ct=!1)=>{W(Xe,wt,ct,Nt)},assignMonthAndYear:ue,setStartTime:Ee}},I$={key:0},A$=or({__name:"DatePicker",props:{...ki},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,{calendars:o,month:i,year:l,modelValue:u,time:f,disabledTimesConfig:d,today:m,validateTime:p,getCalendarDays:y,getMarker:b,handleArrow:C,handleScroll:w,handleSwipe:k,selectDate:T,updateMonthYear:V,presetDate:M,selectCurrentDate:I,updateTime:R,assignMonthAndYear:W,setStartTime:q}=O$(r,a,Te,ue),z=ku(),{setHoverDate:Y,getDayClassData:K,clearHoverDate:ae}=Q$(u,r),{defaultedMultiCalendars:te}=wa(r),J=Re([]),ne=Re([]),re=Re(null),pe=Eo(z,"calendar"),Ee=Eo(z,"monthYear"),me=Eo(z,"timePicker"),fe=H=>{r.shadow||a("mount",H)};_t(o,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),_t(te,(H,X)=>{H.count-X.count>0&&W()},{deep:!0});const le=N(()=>H=>y(i.value(H),l.value(H)).map(X=>({...X,days:X.days.map(F=>(F.marker=b(F),F.classData=K(F),F))})));function Te(H){var X;H||H===0?(X=ne.value[H])==null||X.triggerTransition(i.value(H),l.value(H)):ne.value.forEach((F,Ue)=>F.triggerTransition(i.value(Ue),l.value(Ue)))}function ue(){a("update-flow-step")}const De=(H,X=!1)=>{T(H,X),r.spaceConfirm&&a("select-date")},Me=(H,X,F=0)=>{var Ue;(Ue=J.value[F])==null||Ue.toggleMonthPicker(H,X)},Oe=(H,X,F=0)=>{var Ue;(Ue=J.value[F])==null||Ue.toggleYearPicker(H,X)},B=(H,X,F)=>{var Ue;(Ue=re.value)==null||Ue.toggleTimePicker(H,X,F)},Ae=(H,X)=>{var F;if(!r.range){const Ue=u.value?u.value:m,$e=X?new Date(X):Ue,He=H?gi($e,{weekStartsOn:1}):Jk($e,{weekStartsOn:1});T({value:He,current:Cn($e)===i.value(0),text:"",classData:{}}),(F=document.getElementById(cg(He)))==null||F.focus()}},Fe=H=>{var X;(X=J.value[0])==null||X.handleMonthYearChange(H,!0)},it=H=>{V(0,{month:i.value(0),year:l.value(0)+(H?1:-1),fromNav:!0})},_e=(H,X)=>{H===$r.time&&a(`time-picker-${X?"open":"close"}`),a("overlay-toggle",{open:X,overlay:H})},mt=H=>{a("overlay-toggle",{open:!1,overlay:H}),a("focus-menu")};return t({clearHoverDate:ae,presetDate:M,selectCurrentDate:I,toggleMonthPicker:Me,toggleYearPicker:Oe,toggleTimePicker:B,handleArrow:C,updateMonthYear:V,getSidebarProps:()=>({modelValue:u,month:i,year:l,time:f,updateTime:R,updateMonthYear:V,selectDate:T,presetDate:M}),changeMonth:Fe,changeYear:it,selectWeekDate:Ae,setStartTime:q}),(H,X)=>(de(),Ze(ft,null,[h(Lh,{"multi-calendars":Pe(te).count,collapse:H.collapse,"is-mobile":H.isMobile},{default:E(({instance:F,index:Ue})=>[H.disableMonthYearSelect?je("",!0):(de(),lt(S$,tt({key:0,ref:$e=>{$e&&(J.value[Ue]=$e)},months:Pe(bS)(H.formatLocale,H.locale,H.monthNameFormat),years:Pe(Z_)(H.yearRange,H.locale,H.reverseYears),month:Pe(i)(F),year:Pe(l)(F),instance:F},H.$props,{onMount:X[0]||(X[0]=$e=>fe(Pe(Hu).header)),onResetFlow:X[1]||(X[1]=$e=>H.$emit("reset-flow")),onUpdateMonthYear:$e=>Pe(V)(F,$e),onOverlayClosed:mt,onOverlayOpened:X[2]||(X[2]=$e=>H.$emit("overlay-toggle",{open:!0,overlay:$e}))}),Pr({_:2},[En(Pe(Ee),($e,He)=>({name:$e,fn:E(ot=>[qt(H.$slots,$e,Da(ir(ot)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),h(V$,tt({ref:$e=>{$e&&(ne.value[Ue]=$e)},"mapped-dates":le.value(F),month:Pe(i)(F),year:Pe(l)(F),instance:F},H.$props,{onSelectDate:$e=>Pe(T)($e,F!==1),onHandleSpace:$e=>De($e,F!==1),onSetHoverDate:X[3]||(X[3]=$e=>Pe(Y)($e)),onHandleScroll:$e=>Pe(w)($e,F),onHandleSwipe:$e=>Pe(k)($e,F),onMount:X[4]||(X[4]=$e=>fe(Pe(Hu).calendar)),onResetFlow:X[5]||(X[5]=$e=>H.$emit("reset-flow")),onTooltipOpen:X[6]||(X[6]=$e=>H.$emit("tooltip-open",$e)),onTooltipClose:X[7]||(X[7]=$e=>H.$emit("tooltip-close",$e))}),Pr({_:2},[En(Pe(pe),($e,He)=>({name:$e,fn:E(ot=>[qt(H.$slots,$e,Da(ir({...ot})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),H.enableTimePicker?(de(),Ze("div",I$,[H.$slots["time-picker"]?qt(H.$slots,"time-picker",Da(tt({key:0},{time:Pe(f),updateTime:Pe(R)}))):(de(),lt(zS,tt({key:1,ref_key:"timePickerRef",ref:re},H.$props,{hours:Pe(f).hours,minutes:Pe(f).minutes,seconds:Pe(f).seconds,"internal-model-value":H.internalModelValue,"disabled-times-config":Pe(d),"validate-time":Pe(p),onMount:X[8]||(X[8]=F=>fe(Pe(Hu).timePicker)),"onUpdate:hours":X[9]||(X[9]=F=>Pe(R)(F)),"onUpdate:minutes":X[10]||(X[10]=F=>Pe(R)(F,!1)),"onUpdate:seconds":X[11]||(X[11]=F=>Pe(R)(F,!1,!0)),onResetFlow:X[12]||(X[12]=F=>H.$emit("reset-flow")),onOverlayClosed:X[13]||(X[13]=F=>_e(F,!1)),onOverlayOpened:X[14]||(X[14]=F=>_e(F,!0)),onAmPmChange:X[15]||(X[15]=F=>H.$emit("am-pm-change",F))}),Pr({_:2},[En(Pe(me),(F,Ue)=>({name:F,fn:E($e=>[qt(H.$slots,F,Da(ir($e)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):je("",!0)],64))}}),M$=(e,t)=>{const n=Re(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:o,defaultedRange:i,propDates:l,defaultedFilters:u,defaultedMultiDates:f}=wa(e),{modelValue:d,year:m,month:p,calendars:y}=Lf(e,t),{isDisabled:b}=Il(e),{selectYear:C,groupedYears:w,showYearPicker:k,isDisabled:T,toggleYearPicker:V,handleYearSelect:M,handleYear:I}=WS({modelValue:d,multiCalendars:a,range:i,highlight:o,calendars:y,propDates:l,month:p,year:m,filters:u,props:e,emit:t}),R=(ne,re)=>[ne,re].map(pe=>zi(pe,"MMMM",{locale:e.formatLocale})).join("-"),W=N(()=>ne=>d.value?Array.isArray(d.value)?d.value.some(re=>fS(ne,re)):fS(d.value,ne):!1),q=ne=>{if(i.value.enabled){if(Array.isArray(d.value)){const re=xn(ne,d.value[0])||xn(ne,d.value[1]);return Nf(d.value,n.value,ne)&&!re}return!1}return!1},z=(ne,re)=>ne.quarter===Kk(re)&&ne.year===on(re),Y=ne=>typeof o.value=="function"?o.value({quarter:Kk(ne),year:on(ne)}):!!o.value.quarters.find(re=>z(re,ne)),K=N(()=>ne=>{const re=aa(new Date,{year:m.value(ne)});return dM({start:Of(re),end:Xk(re)}).map(pe=>{const Ee=Lu(pe),me=Zk(pe),fe=b(pe),le=q(Ee),Te=Y(Ee);return{text:R(Ee,me),value:Ee,active:W.value(Ee),highlighted:Te,disabled:fe,isBetween:le}})}),ae=ne=>{pg(ne,d,f.value.limit),t("auto-apply",!0)},te=ne=>{d.value=_g(d,ne,t),qh(d.value,t,e.autoApply,e.modelAuto)},J=ne=>{d.value=ne,t("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:w,year:m,isDisabled:T,quarters:K,showYearPicker:k,modelValue:d,setHoverDate:ne=>{n.value=ne},selectYear:C,selectQuarter:(ne,re,pe)=>{if(!pe)return y.value[re].month=Cn(Zk(ne)),f.value.enabled?ae(ne):i.value.enabled?te(ne):J(ne)},toggleYearPicker:V,handleYearSelect:M,handleYear:I}},N$={class:"dp--quarter-items"},B$=["data-test-id","disabled","onClick","onMouseover"],$$=or({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ki},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,r=e,o=ku(),i=Eo(o,"yearMode"),{defaultedMultiCalendars:l,defaultedConfig:u,groupedYears:f,year:d,isDisabled:m,quarters:p,modelValue:y,showYearPicker:b,setHoverDate:C,selectQuarter:w,toggleYearPicker:k,handleYearSelect:T,handleYear:V}=M$(r,a);return t({getSidebarProps:()=>({modelValue:y,year:d,selectQuarter:w,handleYearSelect:T,handleYear:V})}),(M,I)=>(de(),lt(Lh,{"multi-calendars":Pe(l).count,collapse:M.collapse,stretch:"","is-mobile":M.isMobile},{default:E(({instance:R})=>[x("div",{class:"dp-quarter-picker-wrap",style:vt({minHeight:`${Pe(u).modeHeight}px`})},[M.$slots["top-extra"]?qt(M.$slots,"top-extra",{key:0,value:M.internalModelValue}):je("",!0),x("div",null,[h(qS,tt(M.$props,{items:Pe(f)(R),instance:R,"show-year-picker":Pe(b)[R],year:Pe(d)(R),"is-disabled":W=>Pe(m)(R,W),onHandleYear:W=>Pe(V)(R,W),onYearSelect:W=>Pe(T)(W,R),onToggleYearPicker:W=>Pe(k)(R,W?.flow,W?.show)}),Pr({_:2},[En(Pe(i),(W,q)=>({name:W,fn:E(z=>[qt(M.$slots,W,Da(ir(z)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),x("div",N$,[(de(!0),Ze(ft,null,En(Pe(p)(R),(W,q)=>(de(),Ze("div",{key:q},[x("button",{type:"button",class:Ye(["dp--qr-btn",{"dp--qr-btn-active":W.active,"dp--qr-btn-between":W.isBetween,"dp--qr-btn-disabled":W.disabled,"dp--highlighted":W.highlighted}]),"data-test-id":W.value,disabled:W.disabled,onClick:z=>Pe(w)(W.value,R,W.disabled),onMouseover:z=>Pe(C)(W.value)},[M.$slots.quarter?qt(M.$slots,"quarter",{key:0,value:W.value,text:W.text}):(de(),Ze(ft,{key:1},[Ke(ge(W.text),1)],64))],42,B$)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),KS=(e,t)=>{const n=Re(0);yn(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),Ni(()=>{window.removeEventListener("resize",a)});const a=()=>{n.value=window.document.documentElement.clientWidth};return{isMobile:N(()=>n.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},R$=["id","tabindex","role","aria-label"],F$={key:0,class:"dp--menu-load-container"},L$={key:1,class:"dp--menu-header"},q$=["data-dp-mobile"],U$={key:0,class:"dp__sidebar_left"},H$=["data-dp-mobile"],W$=["data-test-id","data-dp-mobile","onClick","onKeydown"],z$={key:2,class:"dp__sidebar_right"},j$={key:3,class:"dp__action_extra"},GS=or({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Fh,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:n}){const a=n,r=e,o=Re(null),i=N(()=>{const{openOnTop:Ve,...Je}=r;return{...Je,isMobile:w.value,flowStep:te.value,menuWrapRef:o.value}}),{setMenuFocused:l,setShiftKey:u,control:f}=RS(),d=ku(),{defaultedTextInput:m,defaultedInline:p,defaultedConfig:y,defaultedUI:b,handleEventPropagation:C}=wa(r),{isMobile:w}=KS(y,r.shadow),k=Re(null),T=Re(0),V=Re(null),M=Re(!1),I=Re(null),R=Re(!1),W=Ve=>{R.value=!0,y.value.allowPreventDefault&&Ve.preventDefault(),El(Ve,y.value,!0)};yn(()=>{if(!r.shadow){M.value=!0,q(),window.addEventListener("resize",q);const Ve=Za(o);Ve&&!m.value.enabled&&!p.value.enabled&&(l(!0),fe()),Ve&&(Ve.addEventListener("pointerdown",W),Ve.addEventListener("mousedown",W))}document.addEventListener("mousedown",ht)}),Ni(()=>{window.removeEventListener("resize",q),document.removeEventListener("mousedown",ht);const Ve=Za(o);Ve&&(Ve.removeEventListener("pointerdown",W),Ve.removeEventListener("mousedown",W))});const q=()=>{const Ve=Za(V);Ve&&(T.value=Ve.getBoundingClientRect().width)},{arrowRight:z,arrowLeft:Y,arrowDown:K,arrowUp:ae}=Vl(),{flowStep:te,updateFlowStep:J,childMount:ne,resetFlow:re,handleFlow:pe}=X$(r,a,I),Ee=N(()=>r.monthPicker?t$:r.yearPicker?a$:r.timePicker?_$:r.quarterPicker?$$:A$),me=N(()=>{var Ve;if(y.value.arrowLeft)return y.value.arrowLeft;const Je=(Ve=o.value)==null?void 0:Ve.getBoundingClientRect(),Pt=r.getInputRect();return Pt?.width<T?.value&&Pt?.left<=(Je?.left??0)?`${Pt?.width/2}px`:Pt?.right>=(Je?.right??0)&&Pt?.width<T?.value?`${T?.value-Pt?.width/2}px`:"50%"}),fe=()=>{const Ve=Za(o);Ve&&Ve.focus({preventScroll:!0})},le=N(()=>{var Ve;return((Ve=I.value)==null?void 0:Ve.getSidebarProps())||{}}),Te=()=>{r.openOnTop&&a("recalculate-position")},ue=Eo(d,"action"),De=N(()=>r.monthPicker||r.yearPicker?Eo(d,"monthYear"):r.timePicker?Eo(d,"timePicker"):Eo(d,"shared")),Me=N(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Oe=N(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),B=N(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,...b.value.menu??{}})),Ae=Ve=>{El(Ve,y.value,!0)},Fe=Ve=>{r.escClose&&(a("close-picker"),C(Ve))},it=Ve=>{if(r.arrowNavigation){if(Ve===Zr.up)return ae();if(Ve===Zr.down)return K();if(Ve===Zr.left)return Y();if(Ve===Zr.right)return z()}else Ve===Zr.left||Ve===Zr.up?F("handleArrow",Zr.left,0,Ve===Zr.up):F("handleArrow",Zr.right,0,Ve===Zr.down)},_e=Ve=>{u(Ve.shiftKey),!r.disableMonthYearSelect&&Ve.code===ha.tab&&Ve.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(Ve.preventDefault(),El(Ve,y.value,!0),a("close-picker"))},mt=()=>{fe(),a("time-picker-close")},H=Ve=>{var Je,Pt,Bt;(Je=I.value)==null||Je.toggleTimePicker(!1,!1),(Pt=I.value)==null||Pt.toggleMonthPicker(!1,!1,Ve),(Bt=I.value)==null||Bt.toggleYearPicker(!1,!1,Ve)},X=(Ve,Je=0)=>{var Pt,Bt,jt;return Ve==="month"?(Pt=I.value)==null?void 0:Pt.toggleMonthPicker(!1,!0,Je):Ve==="year"?(Bt=I.value)==null?void 0:Bt.toggleYearPicker(!1,!0,Je):Ve==="time"?(jt=I.value)==null?void 0:jt.toggleTimePicker(!0,!1):H(Je)},F=(Ve,...Je)=>{var Pt,Bt;(Pt=I.value)!=null&&Pt[Ve]&&((Bt=I.value)==null||Bt[Ve](...Je))},Ue=()=>{F("selectCurrentDate")},$e=(Ve,Je)=>{F("presetDate",Xa(Ve),Je)},He=()=>{F("clearHoverDate")},ot=(Ve,Je)=>{F("updateMonthYear",Ve,Je)},nt=(Ve,Je)=>{Ve.preventDefault(),it(Je)},st=Ve=>{var Je,Pt,Bt;if(_e(Ve),Ve.key===ha.home||Ve.key===ha.end)return F("selectWeekDate",Ve.key===ha.home,Ve.target.getAttribute("id"));switch((Ve.key===ha.pageUp||Ve.key===ha.pageDown)&&(Ve.shiftKey?(F("changeYear",Ve.key===ha.pageUp),(Je=tg(o.value,"overlay-year"))==null||Je.focus()):(F("changeMonth",Ve.key===ha.pageUp),(Pt=tg(o.value,Ve.key===ha.pageUp?"action-prev":"action-next"))==null||Pt.focus()),Ve.target.getAttribute("id")&&((Bt=o.value)==null||Bt.focus({preventScroll:!0}))),Ve.key){case ha.esc:return Fe(Ve);case ha.arrowLeft:return nt(Ve,Zr.left);case ha.arrowRight:return nt(Ve,Zr.right);case ha.arrowUp:return nt(Ve,Zr.up);case ha.arrowDown:return nt(Ve,Zr.down);default:return}},ht=Ve=>{var Je;p.value.enabled&&!p.value.input&&!((Je=o.value)!=null&&Je.contains(Ve.target))&&R.value&&(R.value=!1,a("menu-blur"))};return t({updateMonthYear:ot,switchView:X,handleFlow:pe,onValueCleared:()=>{var Ve,Je;(Je=(Ve=I.value)==null?void 0:Ve.setStartTime)==null||Je.call(Ve)}}),(Ve,Je)=>{var Pt,Bt,jt;return de(),Ze("div",{id:Ve.uid?`dp-menu-${Ve.uid}`:void 0,ref_key:"dpMenuRef",ref:o,tabindex:Pe(p).enabled?void 0:"0",role:Pe(p).enabled?void 0:"dialog","aria-label":(Pt=Ve.ariaLabels)==null?void 0:Pt.menu,class:Ye(B.value),style:vt({"--dp-arrow-left":me.value}),onMouseleave:He,onClick:Ae,onKeydown:st},[(Ve.disabled||Ve.readonly)&&Pe(p).enabled||Ve.loading?(de(),Ze("div",{key:0,class:Ye(Oe.value)},[Ve.loading?(de(),Ze("div",F$,Je[19]||(Je[19]=[x("span",{class:"dp--menu-loader"},null,-1)]))):je("",!0)],2)):je("",!0),Ve.$slots["menu-header"]?(de(),Ze("div",L$,[qt(Ve.$slots,"menu-header")])):je("",!0),!Pe(p).enabled&&!Ve.teleportCenter?(de(),Ze("div",{key:2,class:Ye(Me.value)},null,2)):je("",!0),x("div",{ref_key:"innerMenuRef",ref:V,class:Ye({dp__menu_content_wrapper:((Bt=Ve.presetDates)==null?void 0:Bt.length)||!!Ve.$slots["left-sidebar"]||!!Ve.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((jt=Ve.presetDates)==null?void 0:jt.length)||!!Ve.$slots["left-sidebar"]||!!Ve.$slots["right-sidebar"])}),"data-dp-mobile":Pe(w),style:vt({"--dp-menu-width":`${T.value}px`})},[Ve.$slots["left-sidebar"]?(de(),Ze("div",U$,[qt(Ve.$slots,"left-sidebar",Da(ir(le.value)))])):je("",!0),Ve.presetDates.length?(de(),Ze("div",{key:1,class:Ye({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":Pe(w)},[(de(!0),Ze(ft,null,En(Ve.presetDates,(Dt,zt)=>(de(),Ze(ft,{key:zt},[Dt.slot?qt(Ve.$slots,Dt.slot,{key:0,presetDate:$e,label:Dt.label,value:Dt.value}):(de(),Ze("button",{key:1,type:"button",style:vt(Dt.style||{}),class:Ye(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":Dt.testId??void 0,"data-dp-mobile":Pe(w),onClick:$a(mn=>$e(Dt.value,Dt.noTz),["prevent"]),onKeydown:mn=>Pe(eo)(mn,()=>$e(Dt.value,Dt.noTz),!0)},ge(Dt.label),47,W$))],64))),128))],10,H$)):je("",!0),x("div",{ref_key:"calendarWrapperRef",ref:k,class:"dp__instance_calendar",role:"document"},[(de(),lt(Rc(Ee.value),tt({ref_key:"dynCmpRef",ref:I},i.value,{"flow-step":Pe(te),onMount:Pe(ne),onUpdateFlowStep:Pe(J),onResetFlow:Pe(re),onFocusMenu:fe,onSelectDate:Je[0]||(Je[0]=Dt=>Ve.$emit("select-date")),onDateUpdate:Je[1]||(Je[1]=Dt=>Ve.$emit("date-update",Dt)),onTooltipOpen:Je[2]||(Je[2]=Dt=>Ve.$emit("tooltip-open",Dt)),onTooltipClose:Je[3]||(Je[3]=Dt=>Ve.$emit("tooltip-close",Dt)),onAutoApply:Je[4]||(Je[4]=Dt=>Ve.$emit("auto-apply",Dt)),onRangeStart:Je[5]||(Je[5]=Dt=>Ve.$emit("range-start",Dt)),onRangeEnd:Je[6]||(Je[6]=Dt=>Ve.$emit("range-end",Dt)),onInvalidFixedRange:Je[7]||(Je[7]=Dt=>Ve.$emit("invalid-fixed-range",Dt)),onTimeUpdate:Je[8]||(Je[8]=Dt=>Ve.$emit("time-update")),onAmPmChange:Je[9]||(Je[9]=Dt=>Ve.$emit("am-pm-change",Dt)),onTimePickerOpen:Je[10]||(Je[10]=Dt=>Ve.$emit("time-picker-open",Dt)),onTimePickerClose:mt,onRecalculatePosition:Te,onUpdateMonthYear:Je[11]||(Je[11]=Dt=>Ve.$emit("update-month-year",Dt)),onAutoApplyInvalid:Je[12]||(Je[12]=Dt=>Ve.$emit("auto-apply-invalid",Dt)),onInvalidDate:Je[13]||(Je[13]=Dt=>Ve.$emit("invalid-date",Dt)),onOverlayToggle:Je[14]||(Je[14]=Dt=>Ve.$emit("overlay-toggle",Dt)),"onUpdate:internalModelValue":Je[15]||(Je[15]=Dt=>Ve.$emit("update:internal-model-value",Dt))}),Pr({_:2},[En(De.value,(Dt,zt)=>({name:Dt,fn:E(mn=>[qt(Ve.$slots,Dt,Da(ir({...mn})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),Ve.$slots["right-sidebar"]?(de(),Ze("div",z$,[qt(Ve.$slots,"right-sidebar",Da(ir(le.value)))])):je("",!0),Ve.$slots["action-extra"]?(de(),Ze("div",j$,[Ve.$slots["action-extra"]?qt(Ve.$slots,"action-extra",{key:0,selectCurrentDate:Ue}):je("",!0)])):je("",!0)],14,q$),!Ve.autoApply||Pe(y).keepActionRow?(de(),lt(jB,tt({key:3,"menu-mount":M.value},i.value,{"calendar-width":T.value,onClosePicker:Je[16]||(Je[16]=Dt=>Ve.$emit("close-picker")),onSelectDate:Je[17]||(Je[17]=Dt=>Ve.$emit("select-date")),onInvalidSelect:Je[18]||(Je[18]=Dt=>Ve.$emit("invalid-select")),onSelectNow:Ue}),Pr({_:2},[En(Pe(ue),(Dt,zt)=>({name:Dt,fn:E(mn=>[qt(Ve.$slots,Dt,Da(ir({...mn})))])}))]),1040,["menu-mount","calendar-width"])):je("",!0)],46,R$)}}});var ud=(e=>(e.center="center",e.left="left",e.right="right",e))(ud||{});const Y$=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:a,inline:r,emit:o,props:i,slots:l})=>{const{defaultedConfig:u}=wa(i),f=Re({}),d=Re(!1),m=Re({top:"0",left:"0"}),p=Re(!1),y=ke(i,"teleportCenter");_t(y,()=>{m.value=JSON.parse(JSON.stringify({})),I()});const b=re=>{if(i.teleport){const pe=re.getBoundingClientRect();return{left:pe.left+window.scrollX,top:pe.top+window.scrollY}}return{top:0,left:0}},C=(re,pe)=>{m.value.left=`${re+pe-f.value.width}px`},w=re=>{m.value.left=`${re}px`},k=(re,pe)=>{i.position===ud.left&&w(re),i.position===ud.right&&C(re,pe),i.position===ud.center&&(m.value.left=`${re+pe/2-f.value.width/2}px`)},T=re=>{const{width:pe,height:Ee}=re.getBoundingClientRect(),{top:me,left:fe}=b(re);return{top:+me,left:+fe,width:pe,height:Ee}},V=()=>{m.value.left="50%",m.value.top="50%",m.value.transform="translate(-50%, -50%)",m.value.position="fixed",delete m.value.opacity},M=()=>{const re=Za(n);m.value=i.altPosition(re)},I=(re=!0)=>{var pe;if(!r.value.enabled){if(y.value)return V();if(i.altPosition!==null)return M();if(re){const Ee=i.teleport?(pe=t.value)==null?void 0:pe.$el:e.value;Ee&&(f.value=Ee.getBoundingClientRect()),o("recalculate-position")}return ae()}},R=({inputEl:re,left:pe,width:Ee})=>{window.screen.width>768&&!d.value&&k(pe,Ee),z(re)},W=re=>{const{top:pe,left:Ee,height:me,width:fe}=T(re);m.value.top=`${me+pe+ +i.offset}px`,p.value=!1,d.value||(m.value.left=`${Ee+fe/2-f.value.width/2}px`),R({inputEl:re,left:Ee,width:fe})},q=re=>{const{top:pe,left:Ee,width:me}=T(re);m.value.top=`${pe-+i.offset-f.value.height}px`,p.value=!0,R({inputEl:re,left:Ee,width:me})},z=re=>{if(i.autoPosition){const{left:pe,width:Ee}=T(re),{left:me,right:fe}=f.value;if(!d.value){if(Math.abs(me)!==Math.abs(fe)){if(me<=0)return d.value=!0,w(pe);if(fe>=document.documentElement.clientWidth)return d.value=!0,C(pe,Ee)}return k(pe,Ee)}}},Y=()=>{const re=Za(n);if(re){if(i.autoPosition===bi.top)return bi.top;if(i.autoPosition===bi.bottom)return bi.bottom;const{height:pe}=f.value,{top:Ee,height:me}=re.getBoundingClientRect(),fe=window.innerHeight-Ee-me,le=Ee;return pe<=fe?bi.bottom:pe>fe&&pe<=le?bi.top:fe>=le?bi.bottom:bi.top}return bi.bottom},K=re=>Y()===bi.bottom?W(re):q(re),ae=()=>{const re=Za(n);if(re)return i.autoPosition?K(re):W(re)},te=function(re){if(re){const pe=re.scrollHeight>re.clientHeight,Ee=window.getComputedStyle(re).overflowY.indexOf("hidden")!==-1;return pe&&!Ee}return!0},J=function(re){return!re||re===document.body||re.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:te(re)?re:J(re.assignedSlot&&u.value.shadowDom?re.assignedSlot.parentNode:re.parentNode)},ne=re=>{if(re)switch(i.position){case ud.left:return{left:0,transform:"translateX(0)"};case ud.right:return{left:`${re.width}px`,transform:"translateX(-100%)"};default:return{left:`${re.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:m,xCorrect:d,setMenuPosition:I,getScrollableParent:J,shadowRender:(re,pe,Ee)=>{var me,fe,le;const Te=document.createElement("div"),ue=(me=Za(n))==null?void 0:me.getBoundingClientRect();Te.setAttribute("id","dp--temp-container");const De=(fe=a.value)!=null&&fe.clientWidth?a.value:document.body;De.append(Te);const Me=ne(ue),Oe=u.value.shadowDom?Object.keys(l).filter(Ae=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(Ae)):Object.keys(l),B=Ri(pe,{...Ee,shadow:!0,style:{opacity:0,position:"absolute",...Me}},Object.fromEntries(Oe.map(Ae=>[Ae,l[Ae]])));re!=null&&(B.appContext=re.appContext),_h(B,Te),f.value=(le=B.el)==null?void 0:le.getBoundingClientRect(),_h(null,Te),De.removeChild(Te)}}},Ol=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],K$=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],G$={all:()=>Ol,monthYear:()=>Ol.filter(e=>e.use.includes("month-year")),input:()=>K$,timePicker:()=>Ol.filter(e=>e.use.includes("time")),action:()=>Ol.filter(e=>e.use.includes("action")),calendar:()=>Ol.filter(e=>e.use.includes("calendar")),menu:()=>Ol.filter(e=>e.use.includes("menu")),shared:()=>Ol.filter(e=>e.use.includes("shared")),yearMode:()=>Ol.filter(e=>e.use.includes("year-mode"))},Eo=(e,t,n)=>{const a=[];return G$[t]().forEach(r=>{e[r.name]&&a.push(r.name)}),n!=null&&n.length&&n.forEach(r=>{r.slot&&a.push(r.slot)}),a},Ff=e=>{const t=N(()=>a=>e.value?a?e.value.open:e.value.close:""),n=N(()=>a=>e.value?a?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Lf=(e,t,n)=>{const{defaultedRange:a,defaultedTz:r}=wa(e),o=Et(fo(Et(),r.value.timezone)),i=Re([{month:Cn(o),year:on(o)}]),l=p=>{const y={hours:Ds(o),minutes:Pl(o),seconds:0};return a.value.enabled?[y[p],y[p]]:y[p]},u=Ta({hours:l("hours"),minutes:l("minutes"),seconds:l("seconds")});_t(a,(p,y)=>{p.enabled!==y.enabled&&(u.hours=l("hours"),u.minutes=l("minutes"),u.seconds=l("seconds"))},{deep:!0});const f=N({get:()=>e.internalModelValue,set:p=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",p)}}),d=N(()=>p=>i.value[p]?i.value[p].month:0),m=N(()=>p=>i.value[p]?i.value[p].year:0);return _t(f,(p,y)=>{n&&JSON.stringify(p??{})!==JSON.stringify(y??{})&&n()},{deep:!0}),{calendars:i,time:u,modelValue:f,month:d,year:m,today:o}},Q$=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:o,defaultedTz:i,propDates:l,defaultedRange:u}=wa(t),{isDisabled:f}=Il(t),d=Re(null),m=Re(fo(new Date,i.value.timezone)),p=B=>{!B.current&&t.hideOffsetDates||(d.value=B.value)},y=()=>{d.value=null},b=B=>Array.isArray(e.value)&&u.value.enabled&&e.value[0]&&d.value?B?Ua(d.value,e.value[0]):Aa(d.value,e.value[0]):!0,C=(B,Ae)=>{const Fe=()=>e.value?Ae?e.value[0]||null:e.value[1]:null,it=e.value&&Array.isArray(e.value)?Fe():null;return xn(Et(B.value),it)},w=B=>{const Ae=Array.isArray(e.value)?e.value[0]:null;return B?!Aa(d.value??null,Ae):!0},k=(B,Ae=!0)=>(u.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!B.current?!1:xn(Et(B.value),e.value[Ae?0:1]):u.value.enabled?C(B,Ae)&&w(Ae)||xn(B.value,Array.isArray(e.value)?e.value[0]:null)&&b(Ae):!1,T=(B,Ae)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const Fe=xn(B.value,d.value);return Ae?Ua(e.value[0],B.value)&&Fe:Aa(e.value[0],B.value)&&Fe}return!1},V=B=>!e.value||t.hideOffsetDates&&!B.current?!1:u.value.enabled?t.modelAuto&&Array.isArray(e.value)?xn(B.value,e.value[0]?e.value[0]:m.value):!1:a.value.enabled&&Array.isArray(e.value)?e.value.some(Ae=>xn(Ae,B.value)):xn(B.value,e.value?e.value:m.value),M=B=>{if(u.value.autoRange||t.weekPicker){if(d.value){if(t.hideOffsetDates&&!B.current)return!1;const Ae=Ho(d.value,+u.value.autoRange),Fe=Ts(Et(d.value),t.weekStart);return t.weekPicker?xn(Fe[1],Et(B.value)):xn(Ae,Et(B.value))}return!1}return!1},I=B=>{if(u.value.autoRange||t.weekPicker){if(d.value){const Ae=Ho(d.value,+u.value.autoRange);if(t.hideOffsetDates&&!B.current)return!1;const Fe=Ts(Et(d.value),t.weekStart);return t.weekPicker?Ua(B.value,Fe[0])&&Aa(B.value,Fe[1]):Ua(B.value,d.value)&&Aa(B.value,Ae)}return!1}return!1},R=B=>{if(u.value.autoRange||t.weekPicker){if(d.value){if(t.hideOffsetDates&&!B.current)return!1;const Ae=Ts(Et(d.value),t.weekStart);return t.weekPicker?xn(Ae[0],B.value):xn(d.value,B.value)}return!1}return!1},W=B=>Nf(e.value,d.value,B.value),q=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,z=()=>t.modelAuto?wS(t.internalModelValue):!0,Y=B=>{if(t.weekPicker)return!1;const Ae=u.value.enabled?!k(B)&&!k(B,!1):!0;return!f(B.value)&&!V(B)&&!(!B.current&&t.hideOffsetDates)&&Ae},K=B=>u.value.enabled?t.modelAuto?q()&&V(B):!1:V(B),ae=B=>o.value?vB(B.value,l.value.highlight):!1,te=B=>{const Ae=f(B.value);return Ae&&(typeof o.value=="function"?!o.value(B.value,Ae):!o.value.options.highlightDisabled)},J=B=>{var Ae;return typeof o.value=="function"?o.value(B.value):(Ae=o.value.weekdays)==null?void 0:Ae.includes(B.value.getDay())},ne=B=>(u.value.enabled||t.weekPicker)&&(!(n.value.count>0)||B.current)&&z()&&!(!B.current&&t.hideOffsetDates)&&!V(B)?W(B):!1,re=B=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:Ae,after:Fe}=$S(+u.value.maxRange,e.value[0]);return td(B.value,Ae)||Uu(B.value,Fe)}return!1},pe=B=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:Ae,after:Fe}=$S(+u.value.minRange,e.value[0]);return Nf([Ae,Fe],e.value[0],B.value)}return!1},Ee=B=>u.value.enabled&&(u.value.maxRange||u.value.minRange)?u.value.maxRange&&u.value.minRange?re(B)||pe(B):u.value.maxRange?re(B):pe(B):!1,me=B=>{const{isRangeStart:Ae,isRangeEnd:Fe}=ue(B),it=u.value.enabled?Ae||Fe:!1;return{dp__cell_offset:!B.current,dp__pointer:!t.disabled&&!(!B.current&&t.hideOffsetDates)&&!f(B.value)&&!Ee(B),dp__cell_disabled:f(B.value)||Ee(B),dp__cell_highlight:!te(B)&&(ae(B)||J(B))&&!K(B)&&!it&&!R(B)&&!(ne(B)&&t.weekPicker)&&!Fe,dp__cell_highlight_active:!te(B)&&(ae(B)||J(B))&&K(B),dp__today:!t.noToday&&xn(B.value,m.value)&&B.current,"dp--past":Aa(B.value,m.value),"dp--future":Ua(B.value,m.value)}},fe=B=>({dp__active_date:K(B),dp__date_hover:Y(B)}),le=B=>{if(e.value&&!Array.isArray(e.value)){const Ae=Ts(e.value,t.weekStart);return{...Me(B),dp__range_start:xn(Ae[0],B.value),dp__range_end:xn(Ae[1],B.value),dp__range_between_week:Ua(B.value,Ae[0])&&Aa(B.value,Ae[1])}}return{...Me(B)}},Te=B=>{if(e.value&&Array.isArray(e.value)){const Ae=Ts(e.value[0],t.weekStart),Fe=e.value[1]?Ts(e.value[1],t.weekStart):[];return{...Me(B),dp__range_start:xn(Ae[0],B.value)||xn(Fe[0],B.value),dp__range_end:xn(Ae[1],B.value)||xn(Fe[1],B.value),dp__range_between_week:Ua(B.value,Ae[0])&&Aa(B.value,Ae[1])||Ua(B.value,Fe[0])&&Aa(B.value,Fe[1]),dp__range_between:Ua(B.value,Ae[1])&&Aa(B.value,Fe[0])}}return{...Me(B)}},ue=B=>{const Ae=n.value.count>0?B.current&&k(B)&&z():k(B)&&z(),Fe=n.value.count>0?B.current&&k(B,!1)&&z():k(B,!1)&&z();return{isRangeStart:Ae,isRangeEnd:Fe}},De=B=>{const{isRangeStart:Ae,isRangeEnd:Fe}=ue(B);return{dp__range_start:Ae,dp__range_end:Fe,dp__range_between:ne(B),dp__date_hover:xn(B.value,d.value)&&!Ae&&!Fe&&!t.weekPicker,dp__date_hover_start:T(B,!0),dp__date_hover_end:T(B,!1)}},Me=B=>({...De(B),dp__cell_auto_range:I(B),dp__cell_auto_range_start:R(B),dp__cell_auto_range_end:M(B)}),Oe=B=>u.value.enabled?u.value.autoRange?Me(B):t.modelAuto?{...fe(B),...De(B)}:t.weekPicker?Te(B):De(B):t.weekPicker?le(B):fe(B);return{setHoverDate:p,clearHoverDate:y,getDayClassData:B=>t.hideOffsetDates&&!B.current?{}:{...me(B),...Oe(B),[t.dayClass?t.dayClass(B.value,t.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},Il=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:a,defaultedMultiDates:r}=wa(e),o=J=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(Et(J)):!!Bh(J,a.value.disabledDates):!1,i=J=>a.value.maxDate?e.yearPicker?on(J)>on(a.value.maxDate):Ua(J,a.value.maxDate):!1,l=J=>a.value.minDate?e.yearPicker?on(J)<on(a.value.minDate):Aa(J,a.value.minDate):!1,u=J=>{const ne=i(J),re=l(J),pe=o(J),Ee=t.value.months.map(ue=>+ue).includes(Cn(J)),me=e.disabledWeekDays.length?e.disabledWeekDays.some(ue=>+ue===nN(J)):!1,fe=y(J),le=on(J),Te=le<+e.yearRange[0]||le>+e.yearRange[1];return!(ne||re||pe||Ee||Te||me||fe)},f=(J,ne)=>Aa(...Tl(a.value.minDate,J,ne))||xn(...Tl(a.value.minDate,J,ne)),d=(J,ne)=>Ua(...Tl(a.value.maxDate,J,ne))||xn(...Tl(a.value.maxDate,J,ne)),m=(J,ne,re)=>{let pe=!1;return a.value.maxDate&&re&&d(J,ne)&&(pe=!0),a.value.minDate&&!re&&f(J,ne)&&(pe=!0),pe},p=(J,ne,re,pe)=>{let Ee=!1;return pe&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?Ee=m(J,ne,re):(a.value.minDate&&f(J,ne)||a.value.maxDate&&d(J,ne))&&(Ee=!0):Ee=!0,Ee},y=J=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!Bh(J,a.value.allowedDates,PS(e.monthPicker,e.yearPicker)):!1,b=J=>!u(J),C=J=>n.value.noDisabledRange?!Qk({start:J[0],end:J[1]}).some(ne=>b(ne)):!0,w=J=>{if(J){const ne=on(J);return ne>=+e.yearRange[0]&&ne<=e.yearRange[1]}return!0},k=(J,ne)=>!!(Array.isArray(J)&&J[ne]&&(n.value.maxRange||n.value.minRange)&&w(J[ne])),T=(J,ne,re=0)=>{if(k(ne,re)&&w(J)){const pe=zk(J,ne[re]),Ee=OS(ne[re],J),me=Ee.length===1?0:Ee.filter(le=>b(le)).length,fe=Math.abs(pe)-(n.value.minMaxRawRange?0:me);if(n.value.minRange&&n.value.maxRange)return fe>=+n.value.minRange&&fe<=+n.value.maxRange;if(n.value.minRange)return fe>=+n.value.minRange;if(n.value.maxRange)return fe<=+n.value.maxRange}return!0},V=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,M=J=>Array.isArray(J)?[J[0]?lg(J[0]):null,J[1]?lg(J[1]):null]:lg(J),I=(J,ne,re)=>J.find(pe=>+pe.hours===Ds(ne)&&pe.minutes==="*"?!0:+pe.minutes===Pl(ne)&&+pe.hours===Ds(ne))&&re,R=(J,ne,re)=>{const[pe,Ee]=J,[me,fe]=ne;return!I(pe,me,re)&&!I(Ee,fe,re)&&re},W=(J,ne)=>{const re=Array.isArray(ne)?ne:[ne];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?R(e.disabledTimes,re,J):!re.some(pe=>I(e.disabledTimes,pe,J)):J},q=(J,ne)=>{const re=Array.isArray(ne)?[Wu(ne[0]),ne[1]?Wu(ne[1]):void 0]:Wu(ne),pe=!e.disabledTimes(re);return J&&pe},z=(J,ne)=>e.disabledTimes?Array.isArray(e.disabledTimes)?W(ne,J):q(ne,J):ne,Y=J=>{let ne=!0;if(!J||V())return!0;const re=!a.value.minDate&&!a.value.maxDate?M(J):J;return(e.maxTime||a.value.maxDate)&&(ne=NS(e.maxTime,a.value.maxDate,"max",_r(re),ne)),(e.minTime||a.value.minDate)&&(ne=NS(e.minTime,a.value.minDate,"min",_r(re),ne)),z(J,ne)},K=J=>{if(!e.monthPicker)return!0;let ne=!0;const re=Et(wi(J));if(a.value.minDate&&a.value.maxDate){const pe=Et(wi(a.value.minDate)),Ee=Et(wi(a.value.maxDate));return Ua(re,pe)&&Aa(re,Ee)||xn(re,pe)||xn(re,Ee)}if(a.value.minDate){const pe=Et(wi(a.value.minDate));ne=Ua(re,pe)||xn(re,pe)}if(a.value.maxDate){const pe=Et(wi(a.value.maxDate));ne=Aa(re,pe)||xn(re,pe)}return ne},ae=N(()=>J=>!e.enableTimePicker||e.ignoreTimeValidation?!0:Y(J)),te=N(()=>J=>e.monthPicker?Array.isArray(J)&&(n.value.enabled||r.value.enabled)?!J.filter(ne=>!K(ne)).length:K(J):!0);return{isDisabled:b,validateDate:u,validateMonthYearInRange:p,isDateRangeAllowed:C,checkMinMaxRange:T,isValidTime:Y,isTimeValid:ae,isMonthValid:te}},Uh=()=>{const e=N(()=>(a,r)=>a?.includes(r)),t=N(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),n=N(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},X$=(e,t,n)=>{const a=Re(0),r=Ta({[Hu.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Hu.calendar]:!1,[Hu.header]:!1}),o=N(()=>e.monthPicker||e.timePicker),i=m=>{var p;if((p=e.flow)!=null&&p.length){if(!m&&o.value)return d();r[m]=!0,Object.keys(r).filter(y=>!r[y]).length||d()}},l=()=>{var m,p;(m=e.flow)!=null&&m.length&&a.value!==-1&&(a.value+=1,t("flow-step",a.value),d()),((p=e.flow)==null?void 0:p.length)===a.value&&Qt().then(()=>u())},u=()=>{a.value=-1},f=(m,p,...y)=>{var b,C;e.flow[a.value]===m&&n.value&&((C=(b=n.value)[p])==null||C.call(b,...y))},d=(m=0)=>{m&&(a.value+=m),f($r.month,"toggleMonthPicker",!0),f($r.year,"toggleYearPicker",!0),f($r.calendar,"toggleTimePicker",!1,!0),f($r.time,"toggleTimePicker",!0,!0);const p=e.flow[a.value];(p===$r.hours||p===$r.minutes||p===$r.seconds)&&f(p,"toggleTimePicker",!0,!0,p)};return{childMount:i,updateFlowStep:l,resetFlow:u,handleFlow:d,flowStep:a}},J$={key:1,class:"dp__input_wrap"},Z$=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],eR={key:2,class:"dp--clear-btn"},tR=["aria-label"],nR=or({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Fh},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const a=n,r=e,{defaultedTextInput:o,defaultedAriaLabels:i,defaultedInline:l,defaultedConfig:u,defaultedRange:f,defaultedMultiDates:d,defaultedUI:m,getDefaultPattern:p,getDefaultStartTime:y}=wa(r),{checkMinMaxRange:b}=Il(r),C=Re(),w=Re(null),k=Re(!1),T=Re(!1),V=N(()=>({dp__pointer:!r.disabled&&!r.readonly&&!o.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:k.value||r.isMenuOpen,dp__input_reg:!o.value.enabled,...m.value.input??{}})),M=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),C.value=null)},I=le=>{const Te=y();return _B(le,o.value.format??p(),Te??IS({},r.enableSeconds),r.inputValue,T.value,r.formatLocale)},R=le=>{const{rangeSeparator:Te}=o.value,[ue,De]=le.split(`${Te}`);if(ue){const Me=I(ue.trim()),Oe=De?I(De.trim()):void 0;if(Uu(Me,Oe))return;const B=Me&&Oe?[Me,Oe]:[Me];b(Oe,B,0)&&(C.value=Me?B:null)}},W=()=>{T.value=!0},q=le=>{if(f.value.enabled)R(le);else if(d.value.enabled){const Te=le.split(";");C.value=Te.map(ue=>I(ue.trim())).filter(ue=>ue)}else C.value=I(le)},z=le=>{var Te;const ue=typeof le=="string"?le:(Te=le.target)==null?void 0:Te.value;ue!==""?(o.value.openMenu&&!r.isMenuOpen&&a("open"),q(ue),a("set-input-date",C.value)):M(),T.value=!1,a("update:input-value",ue),a("text-input",le,C.value)},Y=le=>{o.value.enabled?(q(le.target.value),o.value.enterSubmit&&og(C.value)&&r.inputValue!==""?(a("set-input-date",C.value,!0),C.value=null):o.value.enterSubmit&&r.inputValue===""&&(C.value=null,a("clear"))):te(le)},K=(le,Te)=>{o.value.enabled&&o.value.tabSubmit&&!Te&&q(le.target.value),o.value.tabSubmit&&og(C.value)&&r.inputValue!==""?(a("set-input-date",C.value,!0,!0),C.value=null):o.value.tabSubmit&&r.inputValue===""&&(C.value=null,a("clear",!0))},ae=()=>{k.value=!0,a("focus"),Qt().then(()=>{var le;o.value.enabled&&o.value.selectOnFocus&&((le=w.value)==null||le.select())})},te=le=>{if(El(le,u.value,!0),o.value.enabled&&o.value.openMenu&&!l.value.input){if(o.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(o.value.openMenu==="toggle")return a("toggle")}else o.value.enabled||a("toggle")},J=()=>{a("real-blur"),k.value=!1,(!r.isMenuOpen||l.value.enabled&&l.value.input)&&a("blur"),r.autoApply&&o.value.enabled&&C.value&&!r.isMenuOpen&&(a("set-input-date",C.value),a("select-date"),C.value=null)},ne=le=>{El(le,u.value,!0),a("clear")},re=()=>{a("close")},pe=le=>{if(le.key==="Tab"&&K(le),le.key==="Enter"&&Y(le),le.key==="Escape"&&o.value.escClose&&re(),!o.value.enabled){if(le.code==="Tab")return;le.preventDefault()}},Ee=()=>{var le;(le=w.value)==null||le.focus({preventScroll:!0})},me=le=>{C.value=le},fe=le=>{le.key===ha.tab&&K(le,!0)};return t({focusInput:Ee,setParsedDate:me}),(le,Te)=>{var ue,De,Me;return de(),Ze("div",{onClick:te},[le.$slots.trigger&&!le.$slots["dp-input"]&&!Pe(l).enabled?qt(le.$slots,"trigger",{key:0}):je("",!0),!le.$slots.trigger&&(!Pe(l).enabled||Pe(l).input)?(de(),Ze("div",J$,[le.$slots["dp-input"]&&!le.$slots.trigger&&(!Pe(l).enabled||Pe(l).enabled&&Pe(l).input)?qt(le.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:z,onEnter:Y,onTab:K,onClear:ne,onBlur:J,onKeypress:pe,onPaste:W,onFocus:ae,openMenu:()=>le.$emit("open"),closeMenu:()=>le.$emit("close"),toggleMenu:()=>le.$emit("toggle")}):je("",!0),le.$slots["dp-input"]?je("",!0):(de(),Ze("input",{key:1,id:le.uid?`dp-input-${le.uid}`:void 0,ref_key:"inputRef",ref:w,"data-test-id":"dp-input",name:le.name,class:Ye(V.value),inputmode:Pe(o).enabled?"text":"none",placeholder:le.placeholder,disabled:le.disabled,readonly:le.readonly,required:le.required,value:e.inputValue,autocomplete:le.autocomplete,"aria-label":(ue=Pe(i))==null?void 0:ue.input,"aria-disabled":le.disabled||void 0,"aria-invalid":le.state===!1?!0:void 0,onInput:z,onBlur:J,onFocus:ae,onKeypress:pe,onKeydown:Te[0]||(Te[0]=Oe=>pe(Oe)),onPaste:W},null,42,Z$)),x("div",{onClick:Te[3]||(Te[3]=Oe=>a("toggle"))},[le.$slots["input-icon"]&&!le.hideInputIcon?(de(),Ze("span",{key:0,class:"dp__input_icon",onClick:Te[1]||(Te[1]=Oe=>a("toggle"))},[qt(le.$slots,"input-icon")])):je("",!0),!le.$slots["input-icon"]&&!le.hideInputIcon&&!le.$slots["dp-input"]?(de(),lt(Pe(rd),{key:1,"aria-label":(De=Pe(i))==null?void 0:De.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:Te[2]||(Te[2]=Oe=>a("toggle"))},null,8,["aria-label"])):je("",!0)]),le.$slots["clear-icon"]&&(le.alwaysClearable||e.inputValue&&le.clearable&&!le.disabled&&!le.readonly)?(de(),Ze("span",eR,[qt(le.$slots,"clear-icon",{clear:ne})])):je("",!0),!le.$slots["clear-icon"]&&(le.alwaysClearable||le.clearable&&e.inputValue&&!le.disabled&&!le.readonly)?(de(),Ze("button",{key:3,"aria-label":(Me=Pe(i))==null?void 0:Me.clearInput,class:"dp--clear-btn",type:"button",onKeydown:Te[4]||(Te[4]=Oe=>Pe(eo)(Oe,()=>ne(Oe),!0,fe)),onClick:Te[5]||(Te[5]=$a(Oe=>ne(Oe),["prevent"]))},[h(Pe(gS),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,tR)):je("",!0)])):je("",!0)])}}}),aR=typeof window<"u"?window:void 0,gg=()=>{},rR=e=>cp()?(Ba(e),!0):!1,oR=(e,t,n,a)=>{if(!e)return gg;let r=gg;const o=_t(()=>Pe(e),l=>{r(),l&&(l.removeEventListener(t,n),l.addEventListener(t,n,a),r=()=>{l.removeEventListener(t,n,a),r=gg})},{immediate:!0,flush:"post"}),i=()=>{o(),r()};return rR(i),i},iR=(e,t,n,a={})=>{const{window:r=aR,event:o="pointerdown"}=a;return r?oR(r,o,i=>{const l=Za(e),u=Za(t);!l||!u||l===i.target||i.composedPath().includes(l)||i.composedPath().includes(u)||n(i)},{passive:!0}):void 0},sR=["data-dp-mobile"],lR=or({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Fh},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const a=n,r=e,o=ku(),i=Re(!1),l=ke(r,"modelValue"),u=ke(r,"timezone"),f=Re(null),d=Re(null),m=Re(null),p=Re(!1),y=Re(null),b=Re(!1),C=Re(!1),w=Re(!1),k=Re(!1),{setMenuFocused:T,setShiftKey:V}=RS(),{clearArrowNav:M}=Vl(),{validateDate:I,isValidTime:R}=Il(r),{defaultedTransitions:W,defaultedTextInput:q,defaultedInline:z,defaultedConfig:Y,defaultedRange:K,defaultedMultiDates:ae}=wa(r),{menuTransition:te,showTransition:J}=Ff(W),{isMobile:ne}=KS(Y),re=$i();yn(()=>{B(r.modelValue),Qt().then(()=>{if(!z.value.enabled){const pt=ue(y.value);pt?.addEventListener("scroll",$e),window?.addEventListener("resize",He)}}),z.value.enabled&&(i.value=!0),window?.addEventListener("keyup",ot),window?.addEventListener("keydown",nt)}),Ni(()=>{if(!z.value.enabled){const pt=ue(y.value);pt?.removeEventListener("scroll",$e),window?.removeEventListener("resize",He)}window?.removeEventListener("keyup",ot),window?.removeEventListener("keydown",nt)});const pe=Eo(o,"all",r.presetDates),Ee=Eo(o,"input");_t([l,u],()=>{B(l.value)},{deep:!0});const{openOnTop:me,menuStyle:fe,xCorrect:le,setMenuPosition:Te,getScrollableParent:ue,shadowRender:De}=Y$({menuRef:f,menuRefInner:d,inputRef:m,pickerWrapperRef:y,inline:z,emit:a,props:r,slots:o}),{inputValue:Me,internalModelValue:Oe,parseExternalModelValue:B,emitModelValue:Ae,formatInputValue:Fe,checkBeforeEmit:it}=UB(a,r,p),_e=N(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:z.value.enabled,"dp--flex-display-collapsed":w.value,dp__flex_display_with_input:z.value.input})),mt=N(()=>r.dark?"dp__theme_dark":"dp__theme_light"),H=N(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||z.value.enabled}:{}),X=N(()=>({class:"dp__outer_menu_wrap"})),F=N(()=>z.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),Ue=()=>{var pt,Ot;return((Ot=(pt=m.value)==null?void 0:pt.$el)==null?void 0:Ot.getBoundingClientRect())??{width:0,left:0,right:0}},$e=()=>{i.value&&(Y.value.closeOnScroll?zt():Te())},He=()=>{var pt;i.value&&Te();const Ot=((pt=d.value)==null?void 0:pt.$el.getBoundingClientRect().width)??0;w.value=document.body.offsetWidth<=Ot},ot=pt=>{pt.key==="Tab"&&!z.value.enabled&&!r.teleport&&Y.value.tabOutClosesMenu&&(y.value.contains(document.activeElement)||zt()),C.value=pt.shiftKey},nt=pt=>{C.value=pt.shiftKey},st=()=>{!r.disabled&&!r.readonly&&(De(re,GS,r),Te(!1),i.value=!0,i.value&&a("open"),i.value||Dt(),B(r.modelValue))},ht=()=>{var pt,Ot;Me.value="",Dt(),(pt=d.value)==null||pt.onValueCleared(),(Ot=m.value)==null||Ot.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),Y.value.closeOnClearValue&&zt()},Ve=()=>{const pt=Oe.value;return!pt||!Array.isArray(pt)&&I(pt)?!0:Array.isArray(pt)?ae.value.enabled||pt.length===2&&I(pt[0])&&I(pt[1])?!0:K.value.partialRange&&!r.timePicker?I(pt[0]):!1:!1},Je=()=>{it()&&Ve()?(Ae(),zt()):a("invalid-select",Oe.value)},Pt=pt=>{Bt(),Ae(),Y.value.closeOnAutoApply&&!pt&&zt()},Bt=()=>{m.value&&q.value.enabled&&m.value.setParsedDate(Oe.value)},jt=(pt=!1)=>{r.autoApply&&R(Oe.value)&&Ve()&&(K.value.enabled&&Array.isArray(Oe.value)?(K.value.partialRange||Oe.value.length===2)&&Pt(pt):Pt(pt))},Dt=()=>{q.value.enabled||(Oe.value=null)},zt=(pt=!1)=>{var Ot,Ft;pt&&Oe.value&&Y.value.setDateOnMenuClose&&Je(),z.value.enabled||(i.value&&(i.value=!1,le.value=!1,T(!1),V(!1),M(),a("closed"),Me.value&&B(l.value)),Dt(),a("blur"),(Ft=(Ot=d.value)==null?void 0:Ot.$el)==null||Ft.remove())},mn=(pt,Ot,Ft=!1)=>{if(!pt){Oe.value=null;return}const Tr=Array.isArray(pt)?!pt.some(Hr=>!I(Hr)):I(pt),Ur=R(pt);Tr&&Ur?(k.value=!0,Oe.value=pt,Ot?(b.value=Ft,Je(),a("text-submit")):r.autoApply&&jt(),Qt().then(()=>{k.value=!1})):a("invalid-date",pt)},$n=()=>{r.autoApply&&R(Oe.value)&&Ae(),Bt()},Yn=()=>i.value?zt():st(),ra=pt=>{Oe.value=pt},pa=()=>{q.value.enabled&&(p.value=!0,Fe()),a("focus")},ja=()=>{if(q.value.enabled&&(p.value=!1,B(r.modelValue),b.value)){const pt=hB(y.value,C.value);pt?.focus()}a("blur")},Nt=pt=>{d.value&&d.value.updateMonthYear(0,{month:kS(pt.month),year:kS(pt.year)})},fa=pt=>{B(pt??r.modelValue)},Xe=(pt,Ot)=>{var Ft;(Ft=d.value)==null||Ft.switchView(pt,Ot)},wt=(pt,Ot)=>Y.value.onClickOutside?Y.value.onClickOutside(pt,Ot):zt(!0),ct=(pt=0)=>{var Ot;(Ot=d.value)==null||Ot.handleFlow(pt)},$t=()=>f;return iR(f,m,pt=>wt(Ve,pt)),t({closeMenu:zt,selectDate:Je,clearValue:ht,openMenu:st,onScroll:$e,formatInputValue:Fe,updateInternalModelValue:ra,setMonthYear:Nt,parseModel:fa,switchView:Xe,toggleMenu:Yn,handleFlow:ct,getDpWrapMenuRef:$t}),(pt,Ot)=>(de(),Ze("div",{ref_key:"pickerWrapperRef",ref:y,class:Ye(_e.value),"data-datepicker-instance":"","data-dp-mobile":Pe(ne)},[h(nR,tt({ref_key:"inputRef",ref:m,"input-value":Pe(Me),"onUpdate:inputValue":Ot[0]||(Ot[0]=Ft=>na(Me)?Me.value=Ft:null),"is-menu-open":i.value},pt.$props,{onClear:ht,onOpen:st,onSetInputDate:mn,onSetEmptyDate:Pe(Ae),onSelectDate:Je,onToggle:Yn,onClose:zt,onFocus:pa,onBlur:ja,onRealBlur:Ot[1]||(Ot[1]=Ft=>p.value=!1),onTextInput:Ot[2]||(Ot[2]=Ft=>pt.$emit("text-input",Ft))}),Pr({_:2},[En(Pe(Ee),(Ft,Tr)=>({name:Ft,fn:E(Ur=>[qt(pt.$slots,Ft,Da(ir(Ur)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(de(),lt(Rc(pt.teleport?F0:"div"),Da(ir(H.value)),{default:E(()=>[h(co,{name:Pe(te)(Pe(me)),css:Pe(J)&&!Pe(z).enabled},{default:E(()=>[i.value?(de(),Ze("div",tt({key:0,ref_key:"dpWrapMenuRef",ref:f},X.value,{class:{"dp--menu-wrapper":!Pe(z).enabled},style:Pe(z).enabled?void 0:Pe(fe)}),[h(GS,tt({ref_key:"dpMenuRef",ref:d},pt.$props,{"internal-model-value":Pe(Oe),"onUpdate:internalModelValue":Ot[3]||(Ot[3]=Ft=>na(Oe)?Oe.value=Ft:null),class:{[mt.value]:!0,"dp--menu-wrapper":pt.teleport},"open-on-top":Pe(me),"no-overlay-focus":F.value,collapse:w.value,"get-input-rect":Ue,"is-text-input-date":k.value,onClosePicker:zt,onSelectDate:Je,onAutoApply:jt,onTimeUpdate:$n,onFlowStep:Ot[4]||(Ot[4]=Ft=>pt.$emit("flow-step",Ft)),onUpdateMonthYear:Ot[5]||(Ot[5]=Ft=>pt.$emit("update-month-year",Ft)),onInvalidSelect:Ot[6]||(Ot[6]=Ft=>pt.$emit("invalid-select",Pe(Oe))),onAutoApplyInvalid:Ot[7]||(Ot[7]=Ft=>pt.$emit("invalid-select",Ft)),onInvalidFixedRange:Ot[8]||(Ot[8]=Ft=>pt.$emit("invalid-fixed-range",Ft)),onRecalculatePosition:Pe(Te),onTooltipOpen:Ot[9]||(Ot[9]=Ft=>pt.$emit("tooltip-open",Ft)),onTooltipClose:Ot[10]||(Ot[10]=Ft=>pt.$emit("tooltip-close",Ft)),onTimePickerOpen:Ot[11]||(Ot[11]=Ft=>pt.$emit("time-picker-open",Ft)),onTimePickerClose:Ot[12]||(Ot[12]=Ft=>pt.$emit("time-picker-close",Ft)),onAmPmChange:Ot[13]||(Ot[13]=Ft=>pt.$emit("am-pm-change",Ft)),onRangeStart:Ot[14]||(Ot[14]=Ft=>pt.$emit("range-start",Ft)),onRangeEnd:Ot[15]||(Ot[15]=Ft=>pt.$emit("range-end",Ft)),onDateUpdate:Ot[16]||(Ot[16]=Ft=>pt.$emit("date-update",Ft)),onInvalidDate:Ot[17]||(Ot[17]=Ft=>pt.$emit("invalid-date",Ft)),onOverlayToggle:Ot[18]||(Ot[18]=Ft=>pt.$emit("overlay-toggle",Ft)),onMenuBlur:Ot[19]||(Ot[19]=Ft=>pt.$emit("blur"))}),Pr({_:2},[En(Pe(pe),(Ft,Tr)=>({name:Ft,fn:E(Ur=>[qt(pt.$slots,Ft,Da(ir({...Ur})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):je("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,sR))}}),yg=(()=>{const e=lR;return e.install=t=>{t.component("Vue3DatePicker",e)},e})();Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:yg},Symbol.toStringTag,{value:"Module"}))).forEach(([e,t])=>{e!=="default"&&(yg[e]=t)});function uR(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map(function(r){r(n)}),(a=e.get("*"))&&a.slice().map(function(r){r(t,n)})}}}const cR={install:(e,t)=>{e.config.globalProperties.__=window.__,e.config.globalProperties.frappe=window.frappe,e.config.globalProperties.eventBus=uR()}};function dR(e){return cp()?(Ba(e),!0):!1}const bg=new WeakMap,fR=(...e)=>{var t;const n=e[0],a=(t=$i())==null?void 0:t.proxy;if(a==null&&!cw())throw new Error("injectLocal must be called in setup");return a&&bg.has(a)&&n in bg.get(a)?bg.get(a)[n]:un(...e)},mR=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const hR=Object.prototype.toString,vR=e=>hR.call(e)==="[object Object]",pR=()=>{};function QS(...e){if(e.length!==1)return ke(...e);const t=e[0];return typeof t=="function"?vl(AV(()=>({get:t,set:pR}))):Re(t)}function _R(e,t){function n(...a){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(r).catch(o)})}return n}const XS=e=>e();function gR(e=XS,t={}){const{initialState:n="active"}=t,a=QS(n==="active");function r(){a.value=!1}function o(){a.value=!0}const i=(...l)=>{a.value&&e(...l)};return{isActive:vl(a),pause:r,resume:o,eventFilter:i}}function JS(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function wg(e){return Array.isArray(e)?e:[e]}function yR(e){return $i()}function bR(e,t,n={}){const{eventFilter:a=XS,...r}=n;return _t(e,_R(a,t),r)}function wR(e,t,n={}){const{eventFilter:a,initialState:r="active",...o}=n,{eventFilter:i,pause:l,resume:u,isActive:f}=gR(a,{initialState:r});return{stop:bR(e,t,{...o,eventFilter:i}),pause:l,resume:u,isActive:f}}function ZS(e,t=!0,n){yR()?yn(e,n):t?e():Qt(e)}function kR(e=!1,t={}){const{truthyValue:n=!0,falsyValue:a=!1}=t,r=na(e),o=gt(e);function i(l){if(arguments.length)return o.value=l,o.value;{const u=Xa(n);return o.value=o.value===u?Xa(a):u,o.value}}return r?i:[o,i]}function SR(e,t,n){return _t(e,t,{...n,immediate:!0})}const qf=mR?window:void 0;function eC(e){var t;const n=Xa(e);return(t=n?.$el)!=null?t:n}function kg(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},a=(l,u,f,d)=>(l.addEventListener(u,f,d),()=>l.removeEventListener(u,f,d)),r=N(()=>{const l=wg(Xa(e[0])).filter(u=>u!=null);return l.every(u=>typeof u!="string")?l:void 0}),o=SR(()=>{var l,u;return[(u=(l=r.value)==null?void 0:l.map(f=>eC(f)))!=null?u:[qf].filter(f=>f!=null),wg(Xa(r.value?e[1]:e[0])),wg(Pe(r.value?e[2]:e[1])),Xa(r.value?e[3]:e[2])]},([l,u,f,d])=>{if(n(),!l?.length||!u?.length||!f?.length)return;const m=vR(d)?{...d}:d;t.push(...l.flatMap(p=>u.flatMap(y=>f.map(b=>a(p,y,b,m)))))},{flush:"post"}),i=()=>{o(),n()};return dR(n),i}function CR(){const e=gt(!1),t=$i();return t&&yn(()=>{e.value=!0},t),e}function xR(e){const t=CR();return N(()=>(t.value,!!e()))}const PR=Symbol("vueuse-ssr-width");function ER(){const e=cw()?fR(PR,null):null;return typeof e=="number"?e:void 0}function DR(e,t={}){const{window:n=qf,ssrWidth:a=ER()}=t,r=xR(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),o=gt(typeof a=="number"),i=gt(),l=gt(!1),u=f=>{l.value=f.matches};return ca(()=>{if(o.value){o.value=!r.value;const f=Xa(e).split(",");l.value=f.some(d=>{const m=d.includes("not all"),p=d.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),y=d.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let b=!!(p||y);return p&&b&&(b=a>=JS(p[1])),y&&b&&(b=a<=JS(y[1])),m?!b:b});return}r.value&&(i.value=n.matchMedia(Xa(e)),l.value=i.value.matches)}),kg(i,"change",u,{passive:!0}),N(()=>l.value)}const Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wh="__vueuse_ssr_handlers__",TR=VR();function VR(){return Wh in Hh||(Hh[Wh]=Hh[Wh]||{}),Hh[Wh]}function tC(e,t){return TR[e]||t}function OR(e){return DR("(prefers-color-scheme: dark)",e)}function IR(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const AR={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},nC="vueuse-storage";function MR(e,t,n,a={}){var r;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,mergeDefaults:f=!1,shallow:d,window:m=qf,eventFilter:p,onError:y=J=>{console.error(J)},initOnMounted:b}=a,C=(d?gt:Re)(typeof t=="function"?t():t),w=N(()=>Xa(e));if(!n)try{n=tC("getDefaultStorage",()=>{var J;return(J=qf)==null?void 0:J.localStorage})()}catch(J){y(J)}if(!n)return C;const k=Xa(t),T=IR(k),V=(r=a.serializer)!=null?r:AR[T],{pause:M,resume:I}=wR(C,()=>Y(C.value),{flush:o,deep:i,eventFilter:p});_t(w,()=>ae(),{flush:o});let R=!1;const W=J=>{b&&!R||ae(J)},q=J=>{b&&!R||te(J)};m&&l&&(n instanceof Storage?kg(m,"storage",W,{passive:!0}):kg(m,nC,q)),b?ZS(()=>{R=!0,ae()}):ae();function z(J,ne){if(m){const re={key:w.value,oldValue:J,newValue:ne,storageArea:n};m.dispatchEvent(n instanceof Storage?new StorageEvent("storage",re):new CustomEvent(nC,{detail:re}))}}function Y(J){try{const ne=n.getItem(w.value);if(J==null)z(ne,null),n.removeItem(w.value);else{const re=V.write(J);ne!==re&&(n.setItem(w.value,re),z(ne,re))}}catch(ne){y(ne)}}function K(J){const ne=J?J.newValue:n.getItem(w.value);if(ne==null)return u&&k!=null&&n.setItem(w.value,V.write(k)),k;if(!J&&f){const re=V.read(ne);return typeof f=="function"?f(re,k):T==="object"&&!Array.isArray(re)?{...k,...re}:re}else return typeof ne!="string"?ne:V.read(ne)}function ae(J){if(!(J&&J.storageArea!==n)){if(J&&J.key==null){C.value=k;return}if(!(J&&J.key!==w.value)){M();try{J?.newValue!==V.write(C.value)&&(C.value=K(J))}catch(ne){y(ne)}finally{J?Qt(I):I()}}}}function te(J){ae(J.detail)}return C}const NR="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function BR(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:r=qf,storage:o,storageKey:i="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:u,emitAuto:f,disableTransition:d=!0}=e,m={auto:"",light:"light",dark:"dark",...e.modes||{}},p=OR({window:r}),y=N(()=>p.value?"dark":"light"),b=u||(i==null?QS(a):MR(i,a,o,{window:r,listenToStorageChanges:l})),C=N(()=>b.value==="auto"?y.value:b.value),w=tC("updateHTMLAttrs",(M,I,R)=>{const W=typeof M=="string"?r?.document.querySelector(M):eC(M);if(!W)return;const q=new Set,z=new Set;let Y=null;if(I==="class"){const ae=R.split(/\s/g);Object.values(m).flatMap(te=>(te||"").split(/\s/g)).filter(Boolean).forEach(te=>{ae.includes(te)?q.add(te):z.add(te)})}else Y={key:I,value:R};if(q.size===0&&z.size===0&&Y===null)return;let K;d&&(K=r.document.createElement("style"),K.appendChild(document.createTextNode(NR)),r.document.head.appendChild(K));for(const ae of q)W.classList.add(ae);for(const ae of z)W.classList.remove(ae);Y&&W.setAttribute(Y.key,Y.value),d&&(r.getComputedStyle(K).opacity,document.head.removeChild(K))});function k(M){var I;w(t,n,(I=m[M])!=null?I:M)}function T(M){e.onChanged?e.onChanged(M,k):k(M)}_t(C,T,{flush:"post",immediate:!0}),ZS(()=>T(C.value));const V=N({get(){return f?b.value:C.value},set(M){b.value=M}});return Object.assign(V,{store:b,system:y,state:C})}function $R(e={}){const{valueDark:t="dark",valueLight:n=""}=e,a=BR({...e,onChanged:(i,l)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,i==="dark",l,i):l(i)},modes:{dark:t,light:n}}),r=N(()=>a.system.value);return N({get(){return a.value==="dark"},set(i){const l=i?"dark":"light";r.value===l?a.value="auto":a.value=l}})}const RR={install(e,{vuetify:t}){const n=$R({selector:"html",attribute:"class",valueDark:"dark-theme",valueLight:"",storageKey:"posawesome-theme",onChanged:o=>{t.theme.global.name.value=o?"dark":"light"}}),a=kR(n),r=n.value?"dark":"light";t.theme.global.name.value=r,e.config.globalProperties.$theme={get current(){return t.theme.global.name.value},toggle:()=>a(),isDark:n}}},FR=We({...Mt(),...Nk({fullHeight:!0}),...bn()},"VApp"),LR=at()({name:"VApp",props:FR(),setup(e,t){let{slots:n}=t;const a=Nn(e),{layoutClasses:r,getLayoutItem:o,items:i,layoutRef:l}=$k(e),{rtlClasses:u}=Fa();return ut(()=>x("div",{ref:l,class:Ye(["v-application",a.themeClasses.value,r.value,u.value,e.class]),style:vt([e.style])},[x("div",{class:"v-application__wrap"},[n.default?.()])])),{getLayoutItem:o,items:i,theme:a}}}),nn=We({tag:{type:[String,Object,Function],default:"div"}},"tag"),aC=We({text:String,...Mt(),...nn()},"VToolbarTitle"),Sg=at()({name:"VToolbarTitle",props:aC(),setup(e,t){let{slots:n}=t;return ut(()=>{const a=!!(n.default||n.text||e.text);return h(e.tag,{class:Ye(["v-toolbar-title",e.class]),style:vt(e.style)},{default:()=>[a&&x("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,n.default?.()])]})}),{}}}),qR=We({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Do(e,t,n){return at()({name:e,props:qR({mode:n,origin:t}),setup(a,r){let{slots:o}=r;const i={onBeforeEnter(l){a.origin&&(l.style.transformOrigin=a.origin)},onLeave(l){if(a.leaveAbsolute){const{offsetTop:u,offsetLeft:f,offsetWidth:d,offsetHeight:m}=l;l._transitionInitialStyles={position:l.style.position,top:l.style.top,left:l.style.left,width:l.style.width,height:l.style.height},l.style.position="absolute",l.style.top=`${u}px`,l.style.left=`${f}px`,l.style.width=`${d}px`,l.style.height=`${m}px`}a.hideOnLeave&&l.style.setProperty("display","none","important")},onAfterLeave(l){if(a.leaveAbsolute&&l?._transitionInitialStyles){const{position:u,top:f,left:d,width:m,height:p}=l._transitionInitialStyles;delete l._transitionInitialStyles,l.style.position=u||"",l.style.top=f||"",l.style.left=d||"",l.style.width=m||"",l.style.height=p||""}}};return()=>{const l=a.group?t_:co;return Ri(l,{name:a.disabled?"":e,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:i},o.default)}}})}function rC(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return at()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(a,r){let{slots:o}=r;const i=a.group?t_:co;return()=>Ri(i,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:t},o.default)}})}function oC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=mr(`offset-${n}`);return{onBeforeEnter(i){i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,overflow:i.style.overflow,[n]:i.style[n]}},onEnter(i){const l=i._initialStyle;if(!l)return;i.style.setProperty("transition","none","important"),i.style.overflow="hidden";const u=`${i[a]}px`;i.style[n]="0",i.offsetHeight,i.style.transition=l.transition,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[n]=u})},onAfterEnter:o,onEnterCancelled:o,onLeave(i){i._initialStyle={transition:"",overflow:i.style.overflow,[n]:i.style[n]},i.style.overflow="hidden",i.style[n]=`${i[a]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(i){e&&i._parent&&i._parent.classList.remove(e),o(i)}function o(i){if(!i._initialStyle)return;const l=i._initialStyle[n];i.style.overflow=i._initialStyle.overflow,l!=null&&(i.style[n]=l),delete i._initialStyle}}const UR=We({target:[Object,Array]},"v-dialog-transition"),Cg=new WeakMap,zh=at()({name:"VDialogTransition",props:UR(),setup(e,t){let{slots:n}=t;const a={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,o){await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),r.style.visibility="";const i=sC(e.target,r),{x:l,y:u,sx:f,sy:d,speed:m}=i;Cg.set(r,i);const p=Mu(r,[{transform:`translate(${l}px, ${u}px) scale(${f}, ${d})`,opacity:0},{}],{duration:225*m,easing:FA});iC(r)?.forEach(y=>{Mu(y,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*m,easing:Cf})}),p.finished.then(()=>o())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,o){await new Promise(y=>requestAnimationFrame(y));let i;!Cg.has(r)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?i=sC(e.target,r):i=Cg.get(r);const{x:l,y:u,sx:f,sy:d,speed:m}=i;Mu(r,[{},{transform:`translate(${l}px, ${u}px) scale(${f}, ${d})`,opacity:0}],{duration:125*m,easing:LA}).finished.then(()=>o()),iC(r)?.forEach(y=>{Mu(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*m,easing:Cf})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?h(co,tt({name:"dialog-transition"},a,{css:!1}),n):h(co,{name:"dialog-transition"},n)}});function iC(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function sC(e,t){const n=U1(e),a=h_(t),[r,o]=getComputedStyle(t).transformOrigin.split(" ").map(k=>parseFloat(k)),[i,l]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=n.left+n.width/2;i==="left"||l==="left"?u-=n.width/2:(i==="right"||l==="right")&&(u+=n.width/2);let f=n.top+n.height/2;i==="top"||l==="top"?f-=n.height/2:(i==="bottom"||l==="bottom")&&(f+=n.height/2);const d=n.width/a.width,m=n.height/a.height,p=Math.max(1,d,m),y=d/p||0,b=m/p||0,C=a.width*a.height/(window.innerWidth*window.innerHeight),w=C>.12?Math.min(1.5,(C-.12)*10+1):1;return{x:u-(r+a.left),y:f-(o+a.top),sx:y,sy:b,speed:w}}const HR=Do("fab-transition","center center","out-in"),WR=Do("dialog-bottom-transition"),zR=Do("dialog-top-transition"),Uf=Do("fade-transition"),xg=Do("scale-transition"),jR=Do("scroll-x-transition"),YR=Do("scroll-x-reverse-transition"),KR=Do("scroll-y-transition"),GR=Do("scroll-y-reverse-transition"),QR=Do("slide-x-transition"),XR=Do("slide-x-reverse-transition"),Pg=Do("slide-y-transition"),JR=Do("slide-y-reverse-transition"),jh=rC("expand-transition",oC()),Eg=rC("expand-x-transition",oC("",!0)),ZR=We({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),rn=at(!1)({name:"VDefaultsProvider",props:ZR(),setup(e,t){let{slots:n}=t;const{defaults:a,disabled:r,reset:o,root:i,scoped:l}=Ic(e);return ya(a,{reset:o,root:i,scoped:l,disabled:r}),()=>n.default?.()}}),Wa=We({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function za(e){return{dimensionStyles:N(()=>{const n={},a=It(e.height),r=It(e.maxHeight),o=It(e.maxWidth),i=It(e.minHeight),l=It(e.minWidth),u=It(e.width);return a!=null&&(n.height=a),r!=null&&(n.maxHeight=r),o!=null&&(n.maxWidth=o),i!=null&&(n.minHeight=i),l!=null&&(n.minWidth=l),u!=null&&(n.width=u),n})}}function eF(e){return{aspectStyles:N(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const lC=We({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Mt(),...Wa()},"VResponsive"),Dg=at()({name:"VResponsive",props:lC(),setup(e,t){let{slots:n}=t;const{aspectStyles:a}=eF(e),{dimensionStyles:r}=za(e);return ut(()=>x("div",{class:Ye(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:vt([r.value,e.style])},[x("div",{class:"v-responsive__sizer",style:vt(a.value)},null),n.additional?.(),n.default&&x("div",{class:Ye(["v-responsive__content",e.contentClass])},[n.default()])])),{}}});function Tg(e){return l_(()=>{const t=Xa(e),n=[],a={};if(t.background)if(p_(t.background)){if(a.backgroundColor=t.background,!t.text&&EA(t.background)){const r=xo(t.background);if(r.a==null||r.a===1){const o=sk(r);a.color=o,a.caretColor=o}}}else n.push(`bg-${t.background}`);return t.text&&(p_(t.text)?(a.color=t.text,a.caretColor=t.text):n.push(`text-${t.text}`)),{colorClasses:n,colorStyles:a}})}function Er(e){const{colorClasses:t,colorStyles:n}=Tg(()=>({text:Xa(e)}));return{textColorClasses:t,textColorStyles:n}}function jn(e){const{colorClasses:t,colorStyles:n}=Tg(()=>({background:Xa(e)}));return{backgroundColorClasses:t,backgroundColorStyles:n}}const da=We({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function ka(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();return{roundedClasses:N(()=>{const a=na(e)?e.value:e.rounded,r=na(e)?e.value:e.tile,o=[];if(a===!0||a==="")o.push(`${t}--rounded`);else if(typeof a=="string"||a===0)for(const i of String(a).split(" "))o.push(`rounded-${i}`);else(r||a===!1)&&o.push("rounded-0");return o})}}const Si=We({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),Fr=(e,t)=>{let{slots:n}=t;const{transition:a,disabled:r,group:o,...i}=e,{component:l=o?t_:co,...u}=wf(a)?a:{};let f;return wf(a)?f=tt(u,lA({disabled:r,group:o}),i):f=tt({name:r||!a?"":a},i),Ri(l,f,n)};function tF(e,t){if(!a_)return;const n=t.modifiers||{},a=t.value,{handler:r,options:o}=typeof a=="object"?a:{handler:a,options:{}},i=new IntersectionObserver(function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const f=e._observe?.[t.instance.$.uid];if(!f)return;const d=l.some(m=>m.isIntersecting);r&&(!n.quiet||f.init)&&(!n.once||d||f.init)&&r(d,l,u),d&&n.once?uC(e,t):f.init=!0},o);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:i},i.observe(e)}function uC(e,t){const n=e._observe?.[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Os={mounted:tF,unmounted:uC},cC=We({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...lC(),...Mt(),...da(),...Si()},"VImg"),Is=at()({name:"VImg",directives:{vIntersect:Os},props:cC(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{backgroundColorClasses:r,backgroundColorStyles:o}=jn(()=>e.color),{roundedClasses:i}=ka(e),l=xa("VImg"),u=gt(""),f=Re(),d=gt(e.eager?"loading":"idle"),m=gt(),p=gt(),y=N(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),b=N(()=>y.value.aspect||m.value/p.value||0);_t(()=>e.src,()=>{C(d.value!=="idle")}),_t(b,(ae,te)=>{!ae&&te&&f.value&&M(f.value)}),$c(()=>C());function C(ae){if(!(e.eager&&ae)&&!(a_&&!ae&&!e.eager)){if(d.value="loading",y.value.lazySrc){const te=new Image;te.src=y.value.lazySrc,M(te,null)}y.value.src&&Qt(()=>{n("loadstart",f.value?.currentSrc||y.value.src),setTimeout(()=>{if(!l.isUnmounted)if(f.value?.complete){if(f.value.naturalWidth||k(),d.value==="error")return;b.value||M(f.value,null),d.value==="loading"&&w()}else b.value||M(f.value),T()})})}}function w(){l.isUnmounted||(T(),M(f.value),d.value="loaded",n("load",f.value?.currentSrc||y.value.src))}function k(){l.isUnmounted||(d.value="error",n("error",f.value?.currentSrc||y.value.src))}function T(){const ae=f.value;ae&&(u.value=ae.currentSrc||ae.src)}let V=-1;hr(()=>{clearTimeout(V)});function M(ae){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const J=()=>{if(clearTimeout(V),l.isUnmounted)return;const{naturalHeight:ne,naturalWidth:re}=ae;ne||re?(m.value=re,p.value=ne):!ae.complete&&d.value==="loading"&&te!=null?V=window.setTimeout(J,te):(ae.currentSrc.endsWith(".svg")||ae.currentSrc.startsWith("data:image/svg+xml"))&&(m.value=1,p.value=1)};J()}const I=ke(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),R=()=>{if(!y.value.src||d.value==="idle")return null;const ae=x("img",{class:Ye(["v-img__img",I.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:y.value.src,srcset:y.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:f,onLoad:w,onError:k},null),te=a.sources?.();return h(Fr,{transition:e.transition,appear:!0},{default:()=>[Sn(te?x("picture",{class:"v-img__picture"},[te,ae]):ae,[[Ca,d.value==="loaded"]])]})},W=()=>h(Fr,{transition:e.transition},{default:()=>[y.value.lazySrc&&d.value!=="loaded"&&x("img",{class:Ye(["v-img__img","v-img__img--preload",I.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:y.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),q=()=>a.placeholder?h(Fr,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!a.error)&&x("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,z=()=>a.error?h(Fr,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&x("div",{class:"v-img__error"},[a.error()])]}):null,Y=()=>e.gradient?x("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,K=gt(!1);{const ae=_t(b,te=>{te&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{K.value=!0})}),ae())})}return ut(()=>{const ae=Dg.filterProps(e);return Sn(h(Dg,tt({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!K.value},r.value,i.value,e.class],style:[{width:It(e.width==="auto"?m.value:e.width)},o.value,e.style]},ae,{aspectRatio:b.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>x(ft,null,[h(R,null,null),h(W,null,null),h(Y,null,null),h(q,null,null),h(z,null,null)]),default:a.default}),[[Os,{handler:C,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:f,state:d,naturalWidth:m,naturalHeight:p}}}),mo=We({border:[Boolean,Number,String]},"border");function To(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();return{borderClasses:N(()=>{const a=e.border;return a===!0||a===""?`${t}--border`:typeof a=="string"||a===0?String(a).split(" ").map(r=>`border-${r}`):[]})}}const er=We({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function yr(e){return{elevationClasses:ke(()=>{const n=na(e)?e.value:e.elevation;return n==null?[]:[`elevation-${n}`]})}}const nF=[null,"prominent","default","comfortable","compact"],dC=We({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>nF.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...mo(),...Mt(),...er(),...da(),...nn({tag:"header"}),...bn()},"VToolbar"),Vg=at()({name:"VToolbar",props:dC(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=jn(()=>e.color),{borderClasses:o}=To(e),{elevationClasses:i}=yr(e),{roundedClasses:l}=ka(e),{themeClasses:u}=Nn(e),{rtlClasses:f}=Fa(),d=gt(!!(e.extended||n.extension?.())),m=N(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=N(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ya({VBtn:{variant:"text"}}),ut(()=>{const y=!!(e.title||n.title),b=!!(n.image||e.image),C=n.extension?.();return d.value=!!(e.extended||C),h(e.tag,{class:Ye(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},a.value,o.value,i.value,l.value,u.value,f.value,e.class]),style:vt([r.value,e.style])},{default:()=>[b&&x("div",{key:"image",class:"v-toolbar__image"},[n.image?h(rn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):h(Is,{key:"image-img",cover:!0,src:e.image},null)]),h(rn,{defaults:{VTabs:{height:It(m.value)}}},{default:()=>[x("div",{class:"v-toolbar__content",style:{height:It(m.value)}},[n.prepend&&x("div",{class:"v-toolbar__prepend"},[n.prepend?.()]),y&&h(Sg,{key:"title",text:e.title},{text:n.title}),n.default?.(),n.append&&x("div",{class:"v-toolbar__append"},[n.append?.()])])]}),h(rn,{defaults:{VTabs:{height:It(p.value)}}},{default:()=>[h(jh,null,{default:()=>[d.value&&x("div",{class:"v-toolbar__extension",style:{height:It(p.value)}},[C])]})]})]})}),{contentHeight:m,extensionHeight:p}}}),aF=We({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function rF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let a=0,r=0;const o=Re(null),i=gt(0),l=gt(0),u=gt(0),f=gt(!1),d=gt(!1),m=N(()=>Number(e.scrollThreshold)),p=N(()=>Xn((m.value-i.value)/m.value||0)),y=()=>{const b=o.value;if(!b||n&&!n.value)return;a=i.value,i.value="window"in b?b.pageYOffset:b.scrollTop;const C=b instanceof Window?document.documentElement.scrollHeight:b.scrollHeight;if(r!==C){r=C;return}d.value=i.value<a,u.value=Math.abs(i.value-m.value)};return _t(d,()=>{l.value=l.value||i.value}),_t(f,()=>{l.value=0}),yn(()=>{_t(()=>e.scrollTarget,b=>{const C=b?document.querySelector(b):window;if(!C){vi(`Unable to locate element with identifier ${b}`);return}C!==o.value&&(o.value?.removeEventListener("scroll",y),o.value=C,o.value.addEventListener("scroll",y,{passive:!0}))},{immediate:!0})}),hr(()=>{o.value?.removeEventListener("scroll",y)}),n&&_t(n,y,{immediate:!0}),{scrollThreshold:m,currentScroll:i,currentThreshold:u,isScrollActive:f,scrollRatio:p,isScrollingUp:d,savedScroll:l}}function zu(){const e=gt(!1);return yn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:ke(()=>e.value?void 0:{transition:"none !important"}),isBooted:vl(e)}}const oF=We({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...dC(),...$u(),...aF(),height:{type:[Number,String],default:64}},"VAppBar"),iF=at()({name:"VAppBar",props:oF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Re(),r=Lt(e,"modelValue"),o=N(()=>{const T=new Set(e.scrollBehavior?.split(" ")??[]);return{hide:T.has("hide"),fullyHide:T.has("fully-hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),i=N(()=>{const T=o.value;return T.hide||T.fullyHide||T.inverted||T.collapse||T.elevate||T.fadeImage||!r.value}),{currentScroll:l,scrollThreshold:u,isScrollingUp:f,scrollRatio:d}=rF(e,{canScroll:i}),m=ke(()=>o.value.hide||o.value.fullyHide),p=N(()=>e.collapse||o.value.collapse&&(o.value.inverted?d.value>0:d.value===0)),y=N(()=>e.flat||o.value.fullyHide&&!r.value||o.value.elevate&&(o.value.inverted?l.value>0:l.value===0)),b=N(()=>o.value.fadeImage?o.value.inverted?1-d.value:d.value:void 0),C=N(()=>{if(o.value.hide&&o.value.inverted)return 0;const T=a.value?.contentHeight??0,V=a.value?.extensionHeight??0;return m.value?l.value<u.value||o.value.fullyHide?T+V:T:T+V});Nr(()=>!!e.scrollBehavior,()=>{ca(()=>{m.value?o.value.inverted?r.value=l.value>u.value:r.value=f.value||l.value<u.value:r.value=!0})});const{ssrBootStyles:w}=zu(),{layoutItemStyles:k}=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:ke(()=>e.location),layoutSize:C,elementSize:gt(void 0),active:r,absolute:ke(()=>e.absolute)});return ut(()=>{const T=Vg.filterProps(e);return h(Vg,tt({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...k.value,"--v-toolbar-image-opacity":b.value,height:void 0,...w.value},e.style]},T,{collapse:p.value,flat:y.value}),n)}),{}}}),sF=[null,"default","comfortable","compact"],sr=We({density:{type:String,default:"default",validator:e=>sF.includes(e)}},"density");function Lr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();return{densityClasses:ke(()=>`${t}--density-${e.density}`)}}const lF=["elevated","flat","tonal","outlined","text","plain"];function Al(e,t){return x(ft,null,[e&&x("span",{key:"overlay",class:Ye(`${t}__overlay`)},null),x("span",{key:"underlay",class:Ye(`${t}__underlay`)},null)])}const Wo=We({color:String,variant:{type:String,default:"elevated",validator:e=>lF.includes(e)}},"variant");function ju(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();const n=ke(()=>{const{variant:o}=Xa(e);return`${t}--variant-${o}`}),{colorClasses:a,colorStyles:r}=Tg(()=>{const{variant:o,color:i}=Xa(e);return{[["elevated","flat"].includes(o)?"background":"text"]:i}});return{colorClasses:a,colorStyles:r,variantClasses:n}}const fC=We({baseColor:String,divided:Boolean,...mo(),...Mt(),...sr(),...er(),...da(),...nn(),...bn(),...Wo()},"VBtnGroup"),Og=at()({name:"VBtnGroup",props:fC(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{densityClasses:r}=Lr(e),{borderClasses:o}=To(e),{elevationClasses:i}=yr(e),{roundedClasses:l}=ka(e);ya({VBtn:{height:"auto",baseColor:ke(()=>e.baseColor),color:ke(()=>e.color),density:ke(()=>e.density),flat:!0,variant:ke(()=>e.variant)}}),ut(()=>h(e.tag,{class:Ye(["v-btn-group",{"v-btn-group--divided":e.divided},a.value,o.value,r.value,i.value,l.value,e.class]),style:vt(e.style)},n))}}),Yu=We({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Ku=We({value:null,disabled:Boolean,selectedClass:String},"group-item");function Gu(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const a=xa("useGroupItem");if(!a)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=Qr();ia(Symbol.for(`${t.description}:id`),r);const o=un(t,null);if(!o){if(!n)return o;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const i=ke(()=>e.value),l=N(()=>!!(o.disabled.value||e.disabled));o.register({id:r,value:i,disabled:l},a),hr(()=>{o.unregister(r)});const u=N(()=>o.isSelected(r)),f=N(()=>o.items.value[0].id===r),d=N(()=>o.items.value[o.items.value.length-1].id===r),m=N(()=>u.value&&[o.selectedClass.value,e.selectedClass]);return _t(u,p=>{a.emit("group:selected",{value:p})},{flush:"sync"}),{id:r,isSelected:u,isFirst:f,isLast:d,toggle:()=>o.select(r,!u.value),select:p=>o.select(r,p),selectedClass:m,value:i,disabled:l,group:o}}function Ml(e,t){let n=!1;const a=Ta([]),r=Lt(e,"modelValue",[],p=>p==null?[]:mC(a,ma(p)),p=>{const y=cF(a,p);return e.multiple?y:y[0]}),o=xa("useGroup");function i(p,y){const b=p,C=Symbol.for(`${t.description}:id`),k=Hc(C,o?.vnode).indexOf(y);Pe(b.value)==null&&(b.value=k,b.useIndexAsValue=!0),k>-1?a.splice(k,0,b):a.push(b)}function l(p){if(n)return;u();const y=a.findIndex(b=>b.id===p);a.splice(y,1)}function u(){const p=a.find(y=>!y.disabled);p&&e.mandatory==="force"&&!r.value.length&&(r.value=[p.id])}yn(()=>{u()}),hr(()=>{n=!0}),Ip(()=>{for(let p=0;p<a.length;p++)a[p].useIndexAsValue&&(a[p].value=p)});function f(p,y){const b=a.find(C=>C.id===p);if(!(y&&b?.disabled))if(e.multiple){const C=r.value.slice(),w=C.findIndex(T=>T===p),k=~w;if(y=y??!k,k&&e.mandatory&&C.length<=1||!k&&e.max!=null&&C.length+1>e.max)return;w<0&&y?C.push(p):w>=0&&!y&&C.splice(w,1),r.value=C}else{const C=r.value.includes(p);if(e.mandatory&&C||!C&&!y)return;r.value=y??!C?[p]:[]}}function d(p){if(e.multiple&&vi('This method is not supported when using "multiple" prop'),r.value.length){const y=r.value[0],b=a.findIndex(k=>k.id===y);let C=(b+p)%a.length,w=a[C];for(;w.disabled&&C!==b;)C=(C+p)%a.length,w=a[C];if(w.disabled)return;r.value=[a[C].id]}else{const y=a.find(b=>!b.disabled);y&&(r.value=[y.id])}}const m={register:i,unregister:l,selected:r,select:f,disabled:ke(()=>e.disabled),prev:()=>d(a.length-1),next:()=>d(1),isSelected:p=>r.value.includes(p),selectedClass:ke(()=>e.selectedClass),items:ke(()=>a),getItemIndex:p=>uF(a,p)};return ia(t,m),m}function uF(e,t){const n=mC(e,[t]);return n.length?e.findIndex(a=>a.id===n[0]):-1}function mC(e,t){const n=[];return t.forEach(a=>{const r=e.find(i=>vr(a,i.value)),o=e[a];r?.value!=null?n.push(r.id):o!=null&&n.push(o.id)}),n}function cF(e,t){const n=[];return t.forEach(a=>{const r=e.findIndex(o=>o.id===a);if(~r){const o=e[r];n.push(o.value!=null?o.value:r)}}),n}const Ig=Symbol.for("vuetify:v-btn-toggle"),dF=We({...fC(),...Yu()},"VBtnToggle"),fF=at()({name:"VBtnToggle",props:dF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:a,next:r,prev:o,select:i,selected:l}=Ml(e,Ig);return ut(()=>{const u=Og.filterProps(e);return h(Og,tt({class:["v-btn-toggle",e.class]},u,{style:e.style}),{default:()=>[n.default?.({isSelected:a,next:r,prev:o,select:i,selected:l})]})}),{next:r,prev:o,select:i}}}),mF=["x-small","small","default","large","x-large"],Gi=We({size:{type:[String,Number],default:"default"}},"size");function cd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();return l_(()=>{const n=e.size;let a,r;return gh(mF,n)?a=`${t}--size-${n}`:n&&(r={width:It(n),height:It(n)}),{sizeClasses:a,sizeStyles:r}})}const hF=We({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ut,opacity:[String,Number],...Mt(),...Gi(),...nn({tag:"i"}),...bn()},"VIcon"),In=at()({name:"VIcon",props:hF(),setup(e,t){let{attrs:n,slots:a}=t;const r=gt(),{themeClasses:o}=N_(),{iconData:i}=W2(()=>r.value||e.icon),{sizeClasses:l}=cd(e),{textColorClasses:u,textColorStyles:f}=Er(()=>e.color);return ut(()=>{const d=a.default?.();d&&(r.value=I1(d).filter(p=>p.type===xu&&p.children&&typeof p.children=="string")[0]?.children);const m=!!(n.onClick||n.onClickOnce);return h(i.value.component,{tag:e.tag,icon:i.value.icon,class:Ye(["v-icon","notranslate",o.value,l.value,u.value,{"v-icon--clickable":m,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:vt([{"--v-icon-opacity":e.opacity},l.value?void 0:{fontSize:It(e.size),height:It(e.size),width:It(e.size)},f.value,e.style]),role:m?"button":void 0,"aria-hidden":!m,tabindex:m?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function Hf(e,t){const n=Re(),a=gt(!1);if(a_){const r=new IntersectionObserver(o=>{a.value=!!o.find(i=>i.isIntersecting)},t);Ba(()=>{r.disconnect()}),_t(n,(o,i)=>{i&&(r.unobserve(i),a.value=!1),o&&r.observe(o)},{flush:"post"})}return{intersectionRef:n,isIntersecting:a}}const vF=We({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Mt(),...Gi(),...nn({tag:"div"}),...bn()},"VProgressCircular"),dd=at()({name:"VProgressCircular",props:vF(),setup(e,t){let{slots:n}=t;const a=20,r=2*Math.PI*a,o=Re(),{themeClasses:i}=Nn(e),{sizeClasses:l,sizeStyles:u}=cd(e),{textColorClasses:f,textColorStyles:d}=Er(()=>e.color),{textColorClasses:m,textColorStyles:p}=Er(()=>e.bgColor),{intersectionRef:y,isIntersecting:b}=Hf(),{resizeRef:C,contentRect:w}=pi(),k=ke(()=>Xn(parseFloat(e.modelValue),0,100)),T=ke(()=>Number(e.width)),V=ke(()=>u.value?Number(e.size):w.value?w.value.width:Math.max(T.value,32)),M=ke(()=>a/(1-T.value/V.value)*2),I=ke(()=>T.value/V.value*M.value),R=ke(()=>It((100-k.value)/100*r));return ca(()=>{y.value=o.value,C.value=o.value}),ut(()=>h(e.tag,{ref:o,class:Ye(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":b.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},i.value,l.value,f.value,e.class]),style:vt([u.value,d.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:k.value},{default:()=>[x("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${M.value} ${M.value}`},[x("circle",{class:Ye(["v-progress-circular__underlay",m.value]),style:vt(p.value),fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":I.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),x("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":I.value,"stroke-dasharray":r,"stroke-dashoffset":R.value},null)]),n.default&&x("div",{class:"v-progress-circular__content"},[n.default({value:k.value})])]})),{}}}),hC={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},As=We({location:String},"location");function Qu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:a}=Fa();return{locationStyles:N(()=>{if(!e.location)return{};const{side:o,align:i}=c_(e.location.split(" ").length>1?e.location:`${e.location} center`,a.value);function l(f){return n?n(f):0}const u={};return o!=="center"&&(t?u[hC[o]]=`calc(100% - ${l(o)}px)`:u[o]=0),i!=="center"?t?u[hC[i]]=`calc(100% - ${l(i)}px)`:u[i]=0:(o==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[o]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[o]),u})}}const pF=We({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Mt(),...As({location:"top"}),...da(),...nn(),...bn()},"VProgressLinear"),Yh=at()({name:"VProgressLinear",props:pF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{isRtl:r,rtlClasses:o}=Fa(),{themeClasses:i}=Nn(e),{locationStyles:l}=Qu(e),{textColorClasses:u,textColorStyles:f}=Er(()=>e.color),{backgroundColorClasses:d,backgroundColorStyles:m}=jn(()=>e.bgColor||e.color),{backgroundColorClasses:p,backgroundColorStyles:y}=jn(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:b,backgroundColorStyles:C}=jn(()=>e.color),{roundedClasses:w}=ka(e),{intersectionRef:k,isIntersecting:T}=Hf(),V=N(()=>parseFloat(e.max)),M=N(()=>parseFloat(e.height)),I=N(()=>Xn(parseFloat(e.bufferValue)/V.value*100,0,100)),R=N(()=>Xn(parseFloat(a.value)/V.value*100,0,100)),W=N(()=>r.value!==e.reverse),q=N(()=>e.indeterminate?"fade-transition":"slide-x-transition"),z=On&&window.matchMedia?.("(forced-colors: active)").matches;function Y(K){if(!k.value)return;const{left:ae,right:te,width:J}=k.value.getBoundingClientRect(),ne=W.value?J-K.clientX+(te-J):K.clientX-ae;a.value=Math.round(ne/J*V.value)}return ut(()=>h(e.tag,{ref:k,class:Ye(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&T.value,"v-progress-linear--reverse":W.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},w.value,i.value,o.value,e.class]),style:vt([{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?It(M.value):0,"--v-progress-linear-height":It(M.value),...e.absolute?l.value:{}},e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(a.value),V.value),onClick:e.clickable&&Y},{default:()=>[e.stream&&x("div",{key:"stream",class:Ye(["v-progress-linear__stream",u.value]),style:{...f.value,[W.value?"left":"right"]:It(-M.value),borderTop:`${It(M.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${It(M.value/4)})`,width:It(100-I.value,"%"),"--v-progress-linear-stream-to":It(M.value*(W.value?1:-1))}},null),x("div",{class:Ye(["v-progress-linear__background",z?void 0:d.value]),style:vt([m.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),x("div",{class:Ye(["v-progress-linear__buffer",z?void 0:p.value]),style:vt([y.value,{opacity:parseFloat(e.bufferOpacity),width:It(I.value,"%")}])},null),h(co,{name:q.value},{default:()=>[e.indeterminate?x("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(K=>x("div",{key:K,class:Ye(["v-progress-linear__indeterminate",K,z?void 0:b.value]),style:vt(C.value)},null))]):x("div",{class:Ye(["v-progress-linear__determinate",z?void 0:b.value]),style:vt([C.value,{width:It(R.value,"%")}])},null)]}),n.default&&x("div",{class:"v-progress-linear__content"},[n.default({value:R.value,buffer:I.value})])]})),{}}}),Kh=We({loading:[Boolean,String]},"loader");function Wf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();return{loaderClasses:ke(()=>({[`${t}--loading`]:e.loading}))}}function zf(e,t){let{slots:n}=t;return x("div",{class:Ye(`${e.name}__loader`)},[n.default?.({color:e.color,isActive:e.active})||h(Yh,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const _F=["static","relative","fixed","absolute","sticky"],fd=We({position:{type:String,validator:e=>_F.includes(e)}},"position");function md(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();return{positionClasses:ke(()=>e.position?`${t}--${e.position}`:void 0)}}function gF(){const e=xa("useRoute");return N(()=>e?.proxy?.$route)}function vC(){return xa("useRouter")?.proxy?.$router}function jf(e,t){const n=Rc("RouterLink"),a=ke(()=>!!(e.href||e.to)),r=N(()=>a?.value||N1(t,"click")||N1(e,"click"));if(typeof n=="string"||!("useLink"in n)){const d=ke(()=>e.href);return{isLink:a,isClickable:r,href:d,linkProps:Ta({href:d})}}const o=n.useLink({to:ke(()=>e.to||""),replace:ke(()=>e.replace)}),i=N(()=>e.to?o:void 0),l=gF(),u=N(()=>i.value?e.exact?l.value?i.value.isExactActive?.value&&vr(i.value.route.value.query,l.value.query):i.value.isExactActive?.value??!1:i.value.isActive?.value??!1:!1),f=N(()=>e.to?i.value?.route.value.href:e.href);return{isLink:a,isClickable:r,isActive:u,route:i.value?.route,navigate:i.value?.navigate,href:f,linkProps:Ta({href:f,"aria-current":ke(()=>u.value?"page":void 0)})}}const Yf=We({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Ag=!1;function yF(e,t){let n=!1,a,r;On&&e?.beforeEach&&(Qt(()=>{window.addEventListener("popstate",o),a=e.beforeEach((i,l,u)=>{Ag?n?t(u):u():setTimeout(()=>n?t(u):u()),Ag=!0}),r=e?.afterEach(()=>{Ag=!1})}),Ba(()=>{window.removeEventListener("popstate",o),a?.(),r?.()}));function o(i){i.state?.replaced||(n=!0,setTimeout(()=>n=!1))}}function bF(e,t){_t(()=>e.isActive?.value,n=>{e.isLink.value&&n!=null&&t&&Qt(()=>{t(n)})},{immediate:!0})}const Mg=Symbol("rippleStop"),wF=80;function pC(e,t){e.style.transform=t,e.style.webkitTransform=t}function Ng(e){return e.constructor.name==="TouchEvent"}function _C(e){return e.constructor.name==="KeyboardEvent"}const kF=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=0,r=0;if(!_C(e)){const m=t.getBoundingClientRect(),p=Ng(e)?e.touches[e.touches.length-1]:e;a=p.clientX-m.left,r=p.clientY-m.top}let o=0,i=.3;t._ripple?.circle?(i=.15,o=t.clientWidth/2,o=n.center?o:o+Math.sqrt((a-o)**2+(r-o)**2)/4):o=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const l=`${(t.clientWidth-o*2)/2}px`,u=`${(t.clientHeight-o*2)/2}px`,f=n.center?l:`${a-o}px`,d=n.center?u:`${r-o}px`;return{radius:o,scale:i,x:f,y:d,centerX:l,centerY:u}},Gh={show(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const a=document.createElement("span"),r=document.createElement("span");a.appendChild(r),a.className="v-ripple__container",n.class&&(a.className+=` ${n.class}`);const{radius:o,scale:i,x:l,y:u,centerX:f,centerY:d}=kF(e,t,n),m=`${o*2}px`;r.className="v-ripple__animation",r.style.width=m,r.style.height=m,t.appendChild(a);const p=window.getComputedStyle(t);p&&p.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),pC(r,`translate(${l}, ${u}) scale3d(${i},${i},${i})`),r.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),pC(r,`translate(${f}, ${d}) scale3d(1,1,1)`)})})},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const a=performance.now()-Number(n.dataset.activated),r=Math.max(250-a,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),n.parentNode?.parentNode===e&&e.removeChild(n.parentNode)},300)},r)}};function gC(e){return typeof e>"u"||!!e}function Kf(e){const t={},n=e.currentTarget;if(!(!n?._ripple||n._ripple.touched||e[Mg])){if(e[Mg]=!0,Ng(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||_C(e),n._ripple.class&&(t.class=n._ripple.class),Ng(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Gh.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{n?._ripple?.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},wF)}else Gh.show(e,n,t)}}function yC(e){e[Mg]=!0}function Vo(e){const t=e.currentTarget;if(t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Vo(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Gh.hide(t)}}function bC(e){const t=e.currentTarget;t?._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Gf=!1;function wC(e){!Gf&&(e.keyCode===x1.enter||e.keyCode===x1.space)&&(Gf=!0,Kf(e))}function kC(e){Gf=!1,Vo(e)}function SC(e){Gf&&(Gf=!1,Vo(e))}function CC(e,t,n){const{value:a,modifiers:r}=t,o=gC(a);if(o||Gh.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=o,e._ripple.centered=r.center,e._ripple.circle=r.circle,wf(a)&&a.class&&(e._ripple.class=a.class),o&&!n){if(r.stop){e.addEventListener("touchstart",yC,{passive:!0}),e.addEventListener("mousedown",yC);return}e.addEventListener("touchstart",Kf,{passive:!0}),e.addEventListener("touchend",Vo,{passive:!0}),e.addEventListener("touchmove",bC,{passive:!0}),e.addEventListener("touchcancel",Vo),e.addEventListener("mousedown",Kf),e.addEventListener("mouseup",Vo),e.addEventListener("mouseleave",Vo),e.addEventListener("keydown",wC),e.addEventListener("keyup",kC),e.addEventListener("blur",SC),e.addEventListener("dragstart",Vo,{passive:!0})}else!o&&n&&xC(e)}function xC(e){e.removeEventListener("mousedown",Kf),e.removeEventListener("touchstart",Kf),e.removeEventListener("touchend",Vo),e.removeEventListener("touchmove",bC),e.removeEventListener("touchcancel",Vo),e.removeEventListener("mouseup",Vo),e.removeEventListener("mouseleave",Vo),e.removeEventListener("keydown",wC),e.removeEventListener("keyup",kC),e.removeEventListener("dragstart",Vo),e.removeEventListener("blur",SC)}function SF(e,t){CC(e,t,!1)}function CF(e){delete e._ripple,xC(e)}function xF(e,t){if(t.value===t.oldValue)return;const n=gC(t.oldValue);CC(e,t,n)}const qr={mounted:SF,unmounted:CF,updated:xF},Qh=We({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Ig},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ut,appendIcon:Ut,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...mo(),...Mt(),...sr(),...Wa(),...er(),...Ku(),...Kh(),...As(),...fd(),...da(),...Yf(),...Gi(),...nn({tag:"button"}),...bn(),...Wo({variant:"elevated"})},"VBtn"),wn=at()({name:"VBtn",props:Qh(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{themeClasses:r}=Nn(e),{borderClasses:o}=To(e),{densityClasses:i}=Lr(e),{dimensionStyles:l}=za(e),{elevationClasses:u}=yr(e),{loaderClasses:f}=Wf(e),{locationStyles:d}=Qu(e),{positionClasses:m}=md(e),{roundedClasses:p}=ka(e),{sizeClasses:y,sizeStyles:b}=cd(e),C=Gu(e,e.symbol,!1),w=jf(e,n),k=N(()=>e.active!==void 0?e.active:w.isLink.value?w.isActive?.value:C?.isSelected.value),T=ke(()=>k.value?e.activeColor??e.color:e.color),V=N(()=>({color:C?.isSelected.value&&(!w.isLink.value||w.isActive?.value)||!C||w.isActive?.value?T.value??e.baseColor:e.baseColor,variant:e.variant})),{colorClasses:M,colorStyles:I,variantClasses:R}=ju(V),W=N(()=>C?.disabled.value||e.disabled),q=ke(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),z=N(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function Y(K){W.value||w.isLink.value&&(K.metaKey||K.ctrlKey||K.shiftKey||K.button!==0||n.target==="_blank")||(w.navigate?.(K),C?.toggle())}return bF(w,C?.select),ut(()=>{const K=w.isLink.value?"a":e.tag,ae=!!(e.prependIcon||a.prepend),te=!!(e.appendIcon||a.append),J=!!(e.icon&&e.icon!==!0);return Sn(h(K,tt({type:K==="a"?void 0:"button",class:["v-btn",C?.selectedClass.value,{"v-btn--active":k.value,"v-btn--block":e.block,"v-btn--disabled":W.value,"v-btn--elevated":q.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,o.value,M.value,i.value,u.value,f.value,m.value,p.value,y.value,R.value,e.class],style:[I.value,l.value,d.value,b.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:W.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:Y,value:z.value},w.linkProps),{default:()=>[Al(!0,"v-btn"),!e.icon&&ae&&x("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?h(rn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},a.prepend):h(In,{key:"prepend-icon",icon:e.prependIcon},null)]),x("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&J?h(In,{key:"content-icon",icon:e.icon},null):h(rn,{key:"content-defaults",disabled:!J,defaults:{VIcon:{icon:e.icon}}},{default:()=>[a.default?.()??ge(e.text)]})]),!e.icon&&te&&x("span",{key:"append",class:"v-btn__append"},[a.append?h(rn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},a.append):h(In,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&x("span",{key:"loader",class:"v-btn__loader"},[a.loader?.()??h(dd,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}),[[qr,!W.value&&e.ripple,"",{center:!!e.icon}]])}),{group:C}}}),PF=We({...Qh({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),EF=at()({name:"VAppBarNavIcon",props:PF(),setup(e,t){let{slots:n}=t;return ut(()=>h(wn,tt(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),DF=at()({name:"VAppBarTitle",props:aC(),setup(e,t){let{slots:n}=t;return ut(()=>h(Sg,tt(e,{class:"v-app-bar-title"}),n)),{}}}),PC=Wi("v-alert-title"),TF=["success","info","warning","error"],VF=We({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ut,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>TF.includes(e)},...Mt(),...sr(),...Wa(),...er(),...As(),...fd(),...da(),...nn(),...bn(),...Wo({variant:"flat"})},"VAlert"),OF=at()({name:"VAlert",props:VF(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Lt(e,"modelValue"),o=ke(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:i}=Nn(e),{colorClasses:l,colorStyles:u,variantClasses:f}=ju(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:d}=Lr(e),{dimensionStyles:m}=za(e),{elevationClasses:p}=yr(e),{locationStyles:y}=Qu(e),{positionClasses:b}=md(e),{roundedClasses:C}=ka(e),{textColorClasses:w,textColorStyles:k}=Er(()=>e.borderColor),{t:T}=ba(),V=ke(()=>({"aria-label":T(e.closeLabel),onClick(M){r.value=!1,n("click:close",M)}}));return()=>{const M=!!(a.prepend||o.value),I=!!(a.title||e.title),R=!!(a.close||e.closable);return r.value&&h(e.tag,{class:Ye(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},i.value,l.value,d.value,p.value,b.value,C.value,f.value,e.class]),style:vt([u.value,m.value,y.value,e.style]),role:"alert"},{default:()=>[Al(!1,"v-alert"),e.border&&x("div",{key:"border",class:Ye(["v-alert__border",w.value]),style:vt(k.value)},null),M&&x("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?h(rn,{key:"prepend-defaults",disabled:!o.value,defaults:{VIcon:{density:e.density,icon:o.value,size:e.prominent?44:28}}},a.prepend):h(In,{key:"prepend-icon",density:e.density,icon:o.value,size:e.prominent?44:28},null)]),x("div",{class:"v-alert__content"},[I&&h(PC,{key:"title"},{default:()=>[a.title?.()??e.title]}),a.text?.()??e.text,a.default?.()]),a.append&&x("div",{key:"append",class:"v-alert__append"},[a.append()]),R&&x("div",{key:"close",class:"v-alert__close"},[a.close?h(rn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[a.close?.({props:V.value})]}):h(wn,tt({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},V.value),null)])]})}}}),IF=We({start:Boolean,end:Boolean,icon:Ut,image:String,text:String,...mo(),...Mt(),...sr(),...da(),...Gi(),...nn(),...bn(),...Wo({variant:"flat"})},"VAvatar"),zo=at()({name:"VAvatar",props:IF(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{borderClasses:r}=To(e),{colorClasses:o,colorStyles:i,variantClasses:l}=ju(e),{densityClasses:u}=Lr(e),{roundedClasses:f}=ka(e),{sizeClasses:d,sizeStyles:m}=cd(e);return ut(()=>h(e.tag,{class:Ye(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},a.value,r.value,o.value,u.value,f.value,d.value,l.value,e.class]),style:vt([i.value,m.value,e.style])},{default:()=>[n.default?h(rn,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?h(Is,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?h(In,{key:"icon",icon:e.icon},null):e.text,Al(!1,"v-avatar")]})),{}}}),AF=We({text:String,onClick:pr(),...Mt(),...bn()},"VLabel"),hd=at()({name:"VLabel",props:AF(),setup(e,t){let{slots:n}=t;return ut(()=>x("label",{class:Ye(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:vt(e.style),onClick:e.onClick},[e.text,n.default?.()])),{}}}),EC=Symbol.for("vuetify:selection-control-group"),Bg=We({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ut,trueIcon:Ut,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:vr},...Mt(),...sr(),...bn()},"SelectionControlGroup"),MF=We({...Bg({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),DC=at()({name:"VSelectionControlGroup",props:MF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),r=Qr(),o=ke(()=>e.id||`v-selection-control-group-${r}`),i=ke(()=>e.name||o.value),l=new Set;return ia(EC,{modelValue:a,forceUpdate:()=>{l.forEach(u=>u())},onForceUpdate:u=>{l.add(u),Ba(()=>{l.delete(u)})}}),ya({[e.defaultsTarget]:{color:ke(()=>e.color),disabled:ke(()=>e.disabled),density:ke(()=>e.density),error:ke(()=>e.error),inline:ke(()=>e.inline),modelValue:a,multiple:ke(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:i,falseIcon:ke(()=>e.falseIcon),trueIcon:ke(()=>e.trueIcon),readonly:ke(()=>e.readonly),ripple:ke(()=>e.ripple),type:ke(()=>e.type),valueComparator:ke(()=>e.valueComparator)}}),ut(()=>x("div",{class:Ye(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:vt(e.style),role:e.type==="radio"?"radiogroup":void 0},[n.default?.()])),{}}}),Xh=We({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Mt(),...Bg()},"VSelectionControl");function NF(e){const t=un(EC,void 0),{densityClasses:n}=Lr(e),a=Lt(e,"modelValue"),r=N(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=N(()=>e.falseValue!==void 0?e.falseValue:!1),i=N(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),l=N({get(){const y=t?t.modelValue.value:a.value;return i.value?ma(y).some(b=>e.valueComparator(b,r.value)):e.valueComparator(y,r.value)},set(y){if(e.readonly)return;const b=y?r.value:o.value;let C=b;i.value&&(C=y?[...ma(a.value),b]:ma(a.value).filter(w=>!e.valueComparator(w,r.value))),t?t.modelValue.value=C:a.value=C}}),{textColorClasses:u,textColorStyles:f}=Er(()=>{if(!(e.error||e.disabled))return l.value?e.color:e.baseColor}),{backgroundColorClasses:d,backgroundColorStyles:m}=jn(()=>l.value&&!e.error&&!e.disabled?e.color:e.baseColor),p=N(()=>l.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:o,model:l,textColorClasses:u,textColorStyles:f,backgroundColorClasses:d,backgroundColorStyles:m,icon:p}}const Nl=at()({name:"VSelectionControl",directives:{vRipple:qr},inheritAttrs:!1,props:Xh(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{group:r,densityClasses:o,icon:i,model:l,textColorClasses:u,textColorStyles:f,backgroundColorClasses:d,backgroundColorStyles:m,trueValue:p}=NF(e),y=Qr(),b=gt(!1),C=gt(!1),w=Re(),k=ke(()=>e.id||`input-${y}`),T=ke(()=>!e.disabled&&!e.readonly);r?.onForceUpdate(()=>{w.value&&(w.value.checked=l.value)});function V(W){T.value&&(b.value=!0,zc(W.target,":focus-visible")!==!1&&(C.value=!0))}function M(){b.value=!1,C.value=!1}function I(W){W.stopPropagation()}function R(W){if(!T.value){w.value&&(w.value.checked=l.value);return}e.readonly&&r&&Qt(()=>r.forceUpdate()),l.value=W.target.checked}return ut(()=>{const W=a.label?a.label({label:e.label,props:{for:k.value}}):e.label,[q,z]=Cl(n),Y=x("input",tt({ref:w,checked:l.value,disabled:!!e.disabled,id:k.value,onBlur:M,onFocus:V,onInput:R,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:p.value,name:e.name,"aria-checked":e.type==="checkbox"?l.value:void 0},z),null);return x("div",tt({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":C.value,"v-selection-control--inline":e.inline},o.value,e.class]},q,{style:e.style}),[x("div",{class:Ye(["v-selection-control__wrapper",u.value]),style:vt(f.value)},[a.default?.({backgroundColorClasses:d,backgroundColorStyles:m}),Sn(x("div",{class:Ye(["v-selection-control__input"])},[a.input?.({model:l,textColorClasses:u,textColorStyles:f,backgroundColorClasses:d,backgroundColorStyles:m,inputNode:Y,icon:i.value,props:{onFocus:V,onBlur:M,id:k.value}})??x(ft,null,[i.value&&h(In,{key:"icon",icon:i.value},null),Y])]),[[qr,e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),W&&h(hd,{for:k.value,onClick:I},{default:()=>[W]})])}),{isFocused:b,input:w}}}),TC=We({indeterminate:Boolean,indeterminateIcon:{type:Ut,default:"$checkboxIndeterminate"},...Xh({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ms=at()({name:"VCheckboxBtn",props:TC(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"indeterminate"),r=Lt(e,"modelValue");function o(u){a.value&&(a.value=!1)}const i=ke(()=>a.value?e.indeterminateIcon:e.falseIcon),l=ke(()=>a.value?e.indeterminateIcon:e.trueIcon);return ut(()=>{const u=ga(Nl.filterProps(e),["modelValue"]);return h(Nl,tt(u,{modelValue:r.value,"onUpdate:modelValue":[f=>r.value=f,o],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:l.value,"aria-checked":a.value?"mixed":void 0}),n)}),{}}});function VC(e){const{t}=ba();function n(a){let{name:r,color:o,...i}=a;const l={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],u=e[`onClick:${r}`];function f(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),yh(u,new PointerEvent("click",m)))}const d=u&&l?t(`$vuetify.input.${l}`,e.label??""):void 0;return h(In,tt({icon:e[`${r}Icon`],"aria-label":d,onClick:u,onKeydown:f,color:o},i),null)}return{InputIcon:n}}const BF=We({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Mt(),...Si({transition:{component:Pg,leaveAbsolute:!0,group:!0}})},"VMessages"),OC=at()({name:"VMessages",props:BF(),setup(e,t){let{slots:n}=t;const a=N(()=>ma(e.messages)),{textColorClasses:r,textColorStyles:o}=Er(()=>e.color);return ut(()=>h(Fr,{transition:e.transition,tag:"div",class:Ye(["v-messages",r.value,e.class]),style:vt([o.value,e.style])},{default:()=>[e.active&&a.value.map((i,l)=>x("div",{class:"v-messages__message",key:`${l}-${a.value}`},[n.message?n.message({message:i}):i]))]})),{}}}),Qf=We({focused:Boolean,"onUpdate:focused":pr()},"focus");function Ns(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi();const n=Lt(e,"focused"),a=ke(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function o(){n.value=!1}return{focusClasses:a,isFocused:n,focus:r,blur:o}}const IC=Symbol.for("vuetify:form"),$F=We({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function RF(e){const t=Lt(e,"modelValue"),n=ke(()=>e.disabled),a=ke(()=>e.readonly),r=gt(!1),o=Re([]),i=Re([]);async function l(){const d=[];let m=!0;i.value=[],r.value=!0;for(const p of o.value){const y=await p.validate();if(y.length>0&&(m=!1,d.push({id:p.id,errorMessages:y})),!m&&e.fastFail)break}return i.value=d,r.value=!1,{valid:m,errors:i.value}}function u(){o.value.forEach(d=>d.reset())}function f(){o.value.forEach(d=>d.resetValidation())}return _t(o,()=>{let d=0,m=0;const p=[];for(const y of o.value)y.isValid===!1?(m++,p.push({id:y.id,errorMessages:y.errorMessages})):y.isValid===!0&&d++;i.value=p,t.value=m>0?!1:d===o.value.length?!0:null},{deep:!0,flush:"post"}),ia(IC,{register:d=>{let{id:m,vm:p,validate:y,reset:b,resetValidation:C}=d;o.value.some(w=>w.id===m)&&vi(`Duplicate input name "${m}"`),o.value.push({id:m,validate:y,reset:b,resetValidation:C,vm:p0(p),isValid:null,errorMessages:[]})},unregister:d=>{o.value=o.value.filter(m=>m.id!==d)},update:(d,m,p)=>{const y=o.value.find(b=>b.id===d);y&&(y.isValid=m,y.errorMessages=p)},isDisabled:n,isReadonly:a,isValidating:r,isValid:t,items:o,validateOn:ke(()=>e.validateOn)}),{errors:i,isDisabled:n,isReadonly:a,isValidating:r,isValid:t,items:o,validate:l,reset:u,resetValidation:f}}function Xf(e){const t=un(IC,null);return{...t,isReadonly:N(()=>!!(e?.readonly??t?.isReadonly.value)),isDisabled:N(()=>!!(e?.disabled??t?.isDisabled.value))}}const FF=Symbol.for("vuetify:rules");function LF(e){const t=un(FF,null);return t?t(e):ke(e)}const AC=We({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Qf()},"validation");function MC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hi(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qr();const a=Lt(e,"modelValue"),r=N(()=>e.validationValue===void 0?a.value:e.validationValue),o=Xf(e),i=LF(()=>e.rules),l=Re([]),u=gt(!0),f=N(()=>!!(ma(a.value===""?null:a.value).length||ma(r.value===""?null:r.value).length)),d=N(()=>e.errorMessages?.length?ma(e.errorMessages).concat(l.value).slice(0,Math.max(0,Number(e.maxErrors))):l.value),m=N(()=>{let M=(e.validateOn??o.validateOn?.value)||"input";M==="lazy"&&(M="input lazy"),M==="eager"&&(M="input eager");const I=new Set(M?.split(" ")??[]);return{input:I.has("input"),blur:I.has("blur")||I.has("input")||I.has("invalid-input"),invalidInput:I.has("invalid-input"),lazy:I.has("lazy"),eager:I.has("eager")}}),p=N(()=>e.error||e.errorMessages?.length?!1:e.rules.length?u.value?l.value.length||m.value.lazy?null:!0:!l.value.length:!0),y=gt(!1),b=N(()=>({[`${t}--error`]:p.value===!1,[`${t}--dirty`]:f.value,[`${t}--disabled`]:o.isDisabled.value,[`${t}--readonly`]:o.isReadonly.value})),C=xa("validation"),w=N(()=>e.name??Pe(n));$c(()=>{o.register?.({id:w.value,vm:C,validate:V,reset:k,resetValidation:T})}),hr(()=>{o.unregister?.(w.value)}),yn(async()=>{m.value.lazy||await V(!m.value.eager),o.update?.(w.value,p.value,d.value)}),Nr(()=>m.value.input||m.value.invalidInput&&p.value===!1,()=>{_t(r,()=>{if(r.value!=null)V();else if(e.focused){const M=_t(()=>e.focused,I=>{I||V(),M()})}})}),Nr(()=>m.value.blur,()=>{_t(()=>e.focused,M=>{M||V()})}),_t([p,d],()=>{o.update?.(w.value,p.value,d.value)});async function k(){a.value=null,await Qt(),await T()}async function T(){u.value=!0,m.value.lazy?l.value=[]:await V(!m.value.eager)}async function V(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=[];y.value=!0;for(const R of i.value){if(I.length>=Number(e.maxErrors??1))break;const q=await(typeof R=="function"?R:()=>R)(r.value);if(q!==!0){if(q!==!1&&typeof q!="string"){console.warn(`${q} is not a valid value. Rule functions must return boolean true or a string.`);continue}I.push(q||"")}}return l.value=I,y.value=!1,u.value=M,l.value}return{errorMessages:d,isDirty:f,isDisabled:o.isDisabled,isReadonly:o.isReadonly,isPristine:u,isValid:p,isValidating:y,reset:k,resetValidation:T,validate:V,validationClasses:b}}const Bs=We({id:String,appendIcon:Ut,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Ut,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":pr(),"onClick:append":pr(),...Mt(),...sr(),...Sl(Wa(),["maxWidth","minWidth","width"]),...bn(),...AC()},"VInput"),Dr=at()({name:"VInput",props:{...Bs()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a,emit:r}=t;const{densityClasses:o}=Lr(e),{dimensionStyles:i}=za(e),{themeClasses:l}=Nn(e),{rtlClasses:u}=Fa(),{InputIcon:f}=VC(e),d=Qr(),m=N(()=>e.id||`input-${d}`),p=N(()=>`${m.value}-messages`),{errorMessages:y,isDirty:b,isDisabled:C,isReadonly:w,isPristine:k,isValid:T,isValidating:V,reset:M,resetValidation:I,validate:R,validationClasses:W}=MC(e,"v-input",m),q=N(()=>({id:m,messagesId:p,isDirty:b,isDisabled:C,isReadonly:w,isPristine:k,isValid:T,isValidating:V,reset:M,resetValidation:I,validate:R})),z=ke(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),Y=ke(()=>{if(e.iconColor)return e.iconColor===!0?z.value:e.iconColor}),K=N(()=>e.errorMessages?.length||!k.value&&y.value.length?y.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return ut(()=>{const ae=!!(a.prepend||e.prependIcon),te=!!(a.append||e.appendIcon),J=K.value.length>0,ne=!e.hideDetails||e.hideDetails==="auto"&&(J||!!a.details);return x("div",{class:Ye(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},o.value,l.value,u.value,W.value,e.class]),style:vt([i.value,e.style])},[ae&&x("div",{key:"prepend",class:"v-input__prepend"},[a.prepend?.(q.value),e.prependIcon&&h(f,{key:"prepend-icon",name:"prepend",color:Y.value},null)]),a.default&&x("div",{class:"v-input__control"},[a.default?.(q.value)]),te&&x("div",{key:"append",class:"v-input__append"},[e.appendIcon&&h(f,{key:"append-icon",name:"append",color:Y.value},null),a.append?.(q.value)]),ne&&x("div",{id:p.value,class:"v-input__details",role:"alert","aria-live":"polite"},[h(OC,{active:J,messages:K.value},{message:a.message}),a.details?.(q.value)])])}),{reset:M,resetValidation:I,validate:R,isValid:T,errorMessages:y}}}),qF=We({...Bs(),...ga(TC(),["inline"])},"VCheckbox"),UF=at()({name:"VCheckbox",inheritAttrs:!1,props:qF(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Lt(e,"modelValue"),{isFocused:o,focus:i,blur:l}=Ns(e),u=Qr();return ut(()=>{const[f,d]=Cl(n),m=Dr.filterProps(e),p=Ms.filterProps(e);return h(Dr,tt({class:["v-checkbox",e.class]},f,m,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,id:e.id||`checkbox-${u}`,focused:o.value,style:e.style}),{...a,default:y=>{let{id:b,messagesId:C,isDisabled:w,isReadonly:k,isValid:T}=y;return h(Ms,tt(p,{id:b.value,"aria-describedby":C.value,disabled:w.value,readonly:k.value},d,{error:T.value===!1,modelValue:r.value,"onUpdate:modelValue":V=>r.value=V,onFocus:i,onBlur:l}),a)}})}),{}}});function HF(e){let{selectedElement:t,containerElement:n,isRtl:a,isHorizontal:r}=e;const o=Jf(r,n),i=BC(r,a,n),l=Jf(r,t),u=$C(r,t),f=l*.4;return i>u?u-f:i+o<u+l?u-o+l+f:i}function WF(e){let{selectedElement:t,containerElement:n,isHorizontal:a}=e;const r=Jf(a,n),o=$C(a,t),i=Jf(a,t);return o-r/2+i/2}function NC(e,t){return t?.[e?"scrollWidth":"scrollHeight"]||0}function zF(e,t){return t?.[e?"clientWidth":"clientHeight"]||0}function BC(e,t,n){if(!n)return 0;const{scrollLeft:a,offsetWidth:r,scrollWidth:o}=n;return e?t?o-r+a:a:n.scrollTop}function Jf(e,t){return t?.[e?"offsetWidth":"offsetHeight"]||0}function $C(e,t){return t?.[e?"offsetLeft":"offsetTop"]||0}const RC=Symbol.for("vuetify:v-slide-group"),$g=We({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:RC},nextIcon:{type:Ut,default:"$next"},prevIcon:{type:Ut,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Mt(),...Nu({mobile:null}),...nn(),...Yu({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Zf=at()({name:"VSlideGroup",props:$g(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:a}=Fa(),{displayClasses:r,mobile:o}=Uo(e),i=Ml(e,e.symbol),l=gt(!1),u=gt(0),f=gt(0),d=gt(0),m=N(()=>e.direction==="horizontal"),{resizeRef:p,contentRect:y}=pi(),{resizeRef:b,contentRect:C}=pi(),w=$2(),k=N(()=>({container:p.el,duration:200,easing:"easeOutQuart"})),T=N(()=>i.selected.value.length?i.items.value.findIndex(le=>le.id===i.selected.value[0]):-1),V=N(()=>i.selected.value.length?i.items.value.findIndex(le=>le.id===i.selected.value[i.selected.value.length-1]):-1);if(On){let le=-1;_t(()=>[i.selected.value,y.value,C.value,m.value],()=>{cancelAnimationFrame(le),le=requestAnimationFrame(()=>{if(y.value&&C.value){const Te=m.value?"width":"height";f.value=y.value[Te],d.value=C.value[Te],l.value=f.value+1<d.value}if(T.value>=0&&b.el){const Te=b.el.children[V.value];I(Te,e.centerActive)}})})}const M=gt(!1);function I(le,Te){let ue=0;Te?ue=WF({containerElement:p.el,isHorizontal:m.value,selectedElement:le}):ue=HF({containerElement:p.el,isHorizontal:m.value,isRtl:a.value,selectedElement:le}),R(ue)}function R(le){if(!On||!p.el)return;const Te=Jf(m.value,p.el),ue=BC(m.value,a.value,p.el);if(!(NC(m.value,p.el)<=Te||Math.abs(le-ue)<16)){if(m.value&&a.value&&p.el){const{scrollWidth:Me,offsetWidth:Oe}=p.el;le=Me-Oe-le}m.value?w.horizontal(le,k.value):w(le,k.value)}}function W(le){const{scrollTop:Te,scrollLeft:ue}=le.target;u.value=m.value?ue:Te}function q(le){if(M.value=!0,!(!l.value||!b.el)){for(const Te of le.composedPath())for(const ue of b.el.children)if(ue===Te){I(ue);return}}}function z(le){M.value=!1}let Y=!1;function K(le){!Y&&!M.value&&!(le.relatedTarget&&b.el?.contains(le.relatedTarget))&&ne(),Y=!1}function ae(){Y=!0}function te(le){if(!b.el)return;function Te(ue){le.preventDefault(),ne(ue)}m.value?le.key==="ArrowRight"?Te(a.value?"prev":"next"):le.key==="ArrowLeft"&&Te(a.value?"next":"prev"):le.key==="ArrowDown"?Te("next"):le.key==="ArrowUp"&&Te("prev"),le.key==="Home"?Te("first"):le.key==="End"&&Te("last")}function J(le,Te){if(!le)return;let ue=le;do ue=ue?.[Te==="next"?"nextElementSibling":"previousElementSibling"];while(ue?.hasAttribute("disabled"));return ue}function ne(le){if(!b.el)return;let Te;if(!le)Te=kf(b.el)[0];else if(le==="next"){if(Te=J(b.el.querySelector(":focus"),le),!Te)return ne("first")}else if(le==="prev"){if(Te=J(b.el.querySelector(":focus"),le),!Te)return ne("last")}else le==="first"?(Te=b.el.firstElementChild,Te?.hasAttribute("disabled")&&(Te=J(Te,"next"))):le==="last"&&(Te=b.el.lastElementChild,Te?.hasAttribute("disabled")&&(Te=J(Te,"prev")));Te&&Te.focus({preventScroll:!0})}function re(le){const Te=m.value&&a.value?-1:1,ue=(le==="prev"?-Te:Te)*f.value;let De=u.value+ue;if(m.value&&a.value&&p.el){const{scrollWidth:Me,offsetWidth:Oe}=p.el;De+=Me-Oe}R(De)}const pe=N(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),Ee=N(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!o.value;case!0:return l.value||Math.abs(u.value)>0;case"mobile":return o.value||l.value||Math.abs(u.value)>0;default:return!o.value&&(l.value||Math.abs(u.value)>0)}}),me=N(()=>Math.abs(u.value)>1),fe=N(()=>{if(!p.value)return!1;const le=NC(m.value,p.el),Te=zF(m.value,p.el);return le-Te-Math.abs(u.value)>1});return ut(()=>h(e.tag,{class:Ye(["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":Ee.value,"v-slide-group--is-overflowing":l.value},r.value,e.class]),style:vt(e.style),tabindex:M.value||i.selected.value.length?-1:0,onFocus:K},{default:()=>[Ee.value&&x("div",{key:"prev",class:Ye(["v-slide-group__prev",{"v-slide-group__prev--disabled":!me.value}]),onMousedown:ae,onClick:()=>me.value&&re("prev")},[n.prev?.(pe.value)??h(Uf,null,{default:()=>[h(In,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),x("div",{key:"container",ref:p,class:"v-slide-group__container",onScroll:W},[x("div",{ref:b,class:"v-slide-group__content",onFocusin:q,onFocusout:z,onKeydown:te},[n.default?.(pe.value)])]),Ee.value&&x("div",{key:"next",class:Ye(["v-slide-group__next",{"v-slide-group__next--disabled":!fe.value}]),onMousedown:ae,onClick:()=>fe.value&&re("next")},[n.next?.(pe.value)??h(Uf,null,{default:()=>[h(In,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:i.selected,scrollTo:re,scrollOffset:u,focus:ne,hasPrev:me,hasNext:fe}}}),FC=Symbol.for("vuetify:v-chip-group"),jF=We({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:vr},...$g(),...Mt(),...Yu({selectedClass:"v-chip--selected"}),...nn(),...bn(),...Wo({variant:"tonal"})},"VChipGroup"),YF=at()({name:"VChipGroup",props:jF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{isSelected:r,select:o,next:i,prev:l,selected:u}=Ml(e,FC);return ya({VChip:{baseColor:ke(()=>e.baseColor),color:ke(()=>e.color),disabled:ke(()=>e.disabled),filter:ke(()=>e.filter),variant:ke(()=>e.variant)}}),ut(()=>{const f=Zf.filterProps(e);return h(Zf,tt(f,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:r,select:o,next:i,prev:l,selected:u.value})]})}),{}}}),KF=We({activeClass:String,appendAvatar:String,appendIcon:Ut,baseColor:String,closable:Boolean,closeIcon:{type:Ut,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ut,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ut,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:pr(),onClickOnce:pr(),...mo(),...Mt(),...sr(),...er(),...Ku(),...da(),...Yf(),...Gi(),...nn({tag:"span"}),...bn(),...Wo({variant:"tonal"})},"VChip"),vd=at()({name:"VChip",directives:{vRipple:qr},props:KF(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{t:o}=ba(),{borderClasses:i}=To(e),{densityClasses:l}=Lr(e),{elevationClasses:u}=yr(e),{roundedClasses:f}=ka(e),{sizeClasses:d}=cd(e),{themeClasses:m}=Nn(e),p=Lt(e,"modelValue"),y=Gu(e,FC,!1),b=jf(e,n),C=ke(()=>e.link!==!1&&b.isLink.value),w=N(()=>!e.disabled&&e.link!==!1&&(!!y||e.link||b.isClickable.value)),k=ke(()=>({"aria-label":o(e.closeLabel),disabled:e.disabled,onClick(W){W.preventDefault(),W.stopPropagation(),p.value=!1,a("click:close",W)}})),{colorClasses:T,colorStyles:V,variantClasses:M}=ju(()=>({color:!y||y.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function I(W){a("click",W),w.value&&(b.navigate?.(W),y?.toggle())}function R(W){(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),I(W))}return()=>{const W=b.isLink.value?"a":e.tag,q=!!(e.appendIcon||e.appendAvatar),z=!!(q||r.append),Y=!!(r.close||e.closable),K=!!(r.filter||e.filter)&&y,ae=!!(e.prependIcon||e.prependAvatar),te=!!(ae||r.prepend);return p.value&&Sn(h(W,tt({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":w.value,"v-chip--filter":K,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&b.isActive?.value},m.value,i.value,T.value,l.value,u.value,f.value,d.value,M.value,y?.selectedClass.value,e.class],style:[V.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:w.value?0:void 0,onClick:I,onKeydown:w.value&&!C.value&&R},b.linkProps),{default:()=>[Al(w.value,"v-chip"),K&&h(Eg,{key:"filter"},{default:()=>[Sn(x("div",{class:"v-chip__filter"},[r.filter?h(rn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):h(In,{key:"filter-icon",icon:e.filterIcon},null)]),[[Ca,y.isSelected.value]])]}),te&&x("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?h(rn,{key:"prepend-defaults",disabled:!ae,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):x(ft,null,[e.prependIcon&&h(In,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&h(zo,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),x("div",{class:"v-chip__content","data-no-activator":""},[r.default?.({isSelected:y?.isSelected.value,selectedClass:y?.selectedClass.value,select:y?.select,toggle:y?.toggle,value:y?.value.value,disabled:e.disabled})??ge(e.text)]),z&&x("div",{key:"append",class:"v-chip__append"},[r.append?h(rn,{key:"append-defaults",disabled:!q,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):x(ft,null,[e.appendIcon&&h(In,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&h(zo,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),Y&&x("button",tt({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},k.value),[r.close?h(rn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):h(In,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[qr,w.value&&e.ripple,null]])}}}),Rg=Symbol.for("vuetify:list");function LC(){const e=un(Rg,{hasPrepend:gt(!1),updateHasPrepend:()=>null}),t={hasPrepend:gt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return ia(Rg,t),e}function qC(){return un(Rg,null)}const Fg=e=>{const t={activate:n=>{let{id:a,value:r,activated:o}=n;return a=Wt(a),e&&!r&&o.size===1&&o.has(a)||(r?o.add(a):o.delete(a)),o},in:(n,a,r)=>{let o=new Set;if(n!=null)for(const i of ma(n))o=t.activate({id:i,value:!0,activated:new Set(o),children:a,parents:r});return o},out:n=>Array.from(n)};return t},UC=e=>{const t=Fg(e);return{activate:a=>{let{activated:r,id:o,...i}=a;o=Wt(o);const l=r.has(o)?new Set([o]):new Set;return t.activate({...i,id:o,activated:l})},in:(a,r,o)=>{let i=new Set;if(a!=null){const l=ma(a);l.length&&(i=t.in(l.slice(0,1),r,o))}return i},out:(a,r,o)=>t.out(a,r,o)}},GF=e=>{const t=Fg(e);return{activate:a=>{let{id:r,activated:o,children:i,...l}=a;return r=Wt(r),i.has(r)?o:t.activate({id:r,activated:o,children:i,...l})},in:t.in,out:t.out}},QF=e=>{const t=UC(e);return{activate:a=>{let{id:r,activated:o,children:i,...l}=a;return r=Wt(r),i.has(r)?o:t.activate({id:r,activated:o,children:i,...l})},in:t.in,out:t.out}},XF={open:e=>{let{id:t,value:n,opened:a,parents:r}=e;if(n){const o=new Set;o.add(t);let i=r.get(t);for(;i!=null;)o.add(i),i=r.get(i);return o}else return a.delete(t),a},select:()=>null},HC={open:e=>{let{id:t,value:n,opened:a,parents:r}=e;if(n){let o=r.get(t);for(a.add(t);o!=null&&o!==t;)a.add(o),o=r.get(o);return a}else a.delete(t);return a},select:()=>null},JF={open:HC.open,select:e=>{let{id:t,value:n,opened:a,parents:r}=e;if(!n)return a;const o=[];let i=r.get(t);for(;i!=null;)o.push(i),i=r.get(i);return new Set(o)}},Lg=e=>{const t={select:n=>{let{id:a,value:r,selected:o}=n;if(a=Wt(a),e&&!r){const i=Array.from(o.entries()).reduce((l,u)=>{let[f,d]=u;return d==="on"&&l.push(f),l},[]);if(i.length===1&&i[0]===a)return o}return o.set(a,r?"on":"off"),o},in:(n,a,r)=>{const o=new Map;for(const i of n||[])t.select({id:i,value:!0,selected:o,children:a,parents:r});return o},out:n=>{const a=[];for(const[r,o]of n.entries())o==="on"&&a.push(r);return a}};return t},WC=e=>{const t=Lg(e);return{select:a=>{let{selected:r,id:o,...i}=a;o=Wt(o);const l=r.has(o)?new Map([[o,r.get(o)]]):new Map;return t.select({...i,id:o,selected:l})},in:(a,r,o)=>a?.length?t.in(a.slice(0,1),r,o):new Map,out:(a,r,o)=>t.out(a,r,o)}},ZF=e=>{const t=Lg(e);return{select:a=>{let{id:r,selected:o,children:i,...l}=a;return r=Wt(r),i.has(r)?o:t.select({id:r,selected:o,children:i,...l})},in:t.in,out:t.out}},eL=e=>{const t=WC(e);return{select:a=>{let{id:r,selected:o,children:i,...l}=a;return r=Wt(r),i.has(r)?o:t.select({id:r,selected:o,children:i,...l})},in:t.in,out:t.out}},zC=e=>{const t={select:n=>{let{id:a,value:r,selected:o,children:i,parents:l}=n;a=Wt(a);const u=new Map(o),f=[a];for(;f.length;){const m=f.shift();o.set(Wt(m),r?"on":"off"),i.has(m)&&f.push(...i.get(m))}let d=Wt(l.get(a));for(;d;){const m=i.get(d),p=m.every(b=>o.get(Wt(b))==="on"),y=m.every(b=>!o.has(Wt(b))||o.get(Wt(b))==="off");o.set(d,p?"on":y?"off":"indeterminate"),d=Wt(l.get(d))}return e&&!r&&Array.from(o.entries()).reduce((p,y)=>{let[b,C]=y;return C==="on"&&p.push(b),p},[]).length===0?u:o},in:(n,a,r)=>{let o=new Map;for(const i of n||[])o=t.select({id:i,value:!0,selected:o,children:a,parents:r});return o},out:(n,a)=>{const r=[];for(const[o,i]of n.entries())i==="on"&&!a.has(o)&&r.push(o);return r}};return t},tL=e=>{const t=zC(e);return{select:t.select,in:t.in,out:(a,r,o)=>{const i=[];for(const[l,u]of a.entries())if(u==="on"){if(o.has(l)){const f=o.get(l);if(a.get(f)==="on")continue}i.push(l)}return i}}},em=Symbol.for("vuetify:nested"),jC={id:gt(),root:{register:()=>null,unregister:()=>null,parents:Re(new Map),children:Re(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Re(!1),selectable:Re(!1),opened:Re(new Set),activated:Re(new Set),selected:Re(new Map),selectedValues:Re([]),getPath:()=>[]}},nL=We({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),aL=e=>{let t=!1;const n=Re(new Map),a=Re(new Map),r=Lt(e,"opened",e.opened,b=>new Set(b),b=>[...b.values()]),o=N(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return GF(e.mandatory);case"single-leaf":return QF(e.mandatory);case"independent":return Fg(e.mandatory);case"single-independent":default:return UC(e.mandatory)}}),i=N(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return eL(e.mandatory);case"leaf":return ZF(e.mandatory);case"independent":return Lg(e.mandatory);case"single-independent":return WC(e.mandatory);case"trunk":return tL(e.mandatory);case"classic":default:return zC(e.mandatory)}}),l=N(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return JF;case"single":return XF;case"multiple":default:return HC}}),u=Lt(e,"activated",e.activated,b=>o.value.in(b,n.value,a.value),b=>o.value.out(b,n.value,a.value)),f=Lt(e,"selected",e.selected,b=>i.value.in(b,n.value,a.value),b=>i.value.out(b,n.value,a.value));hr(()=>{t=!0});function d(b){const C=[];let w=b;for(;w!=null;)C.unshift(w),w=a.value.get(w);return C}const m=xa("nested"),p=new Set,y={id:gt(),root:{opened:r,activatable:ke(()=>e.activatable),selectable:ke(()=>e.selectable),activated:u,selected:f,selectedValues:N(()=>{const b=[];for(const[C,w]of f.value.entries())w==="on"&&b.push(C);return b}),register:(b,C,w)=>{if(p.has(b)){const k=d(b).map(String).join(" -> "),T=d(C).concat(b).map(String).join(" -> ");Kc(`Multiple nodes with the same ID
	${k}
	${T}`);return}else p.add(b);C&&b!==C&&a.value.set(b,C),w&&n.value.set(b,[]),C!=null&&n.value.set(C,[...n.value.get(C)||[],b])},unregister:b=>{if(t)return;p.delete(b),n.value.delete(b);const C=a.value.get(b);if(C){const w=n.value.get(C)??[];n.value.set(C,w.filter(k=>k!==b))}a.value.delete(b)},open:(b,C,w)=>{m.emit("click:open",{id:b,value:C,path:d(b),event:w});const k=l.value.open({id:b,value:C,opened:new Set(r.value),children:n.value,parents:a.value,event:w});k&&(r.value=k)},openOnSelect:(b,C,w)=>{const k=l.value.select({id:b,value:C,selected:new Map(f.value),opened:new Set(r.value),children:n.value,parents:a.value,event:w});k&&(r.value=k)},select:(b,C,w)=>{m.emit("click:select",{id:b,value:C,path:d(b),event:w});const k=i.value.select({id:b,value:C,selected:new Map(f.value),children:n.value,parents:a.value,event:w});k&&(f.value=k),y.root.openOnSelect(b,C,w)},activate:(b,C,w)=>{if(!e.activatable)return y.root.select(b,!0,w);m.emit("click:activate",{id:b,value:C,path:d(b),event:w});const k=o.value.activate({id:b,value:C,activated:new Set(u.value),children:n.value,parents:a.value,event:w});if(k.size!==u.value.size)u.value=k;else{for(const T of k)if(!u.value.has(T)){u.value=k;return}for(const T of u.value)if(!k.has(T)){u.value=k;return}}},children:n,parents:a,getPath:d}};return ia(em,y),y.root},YC=(e,t)=>{const n=un(em,jC),a=Symbol("nested item"),r=N(()=>Xa(e)??a),o={...n,id:r,open:(i,l)=>n.root.open(r.value,i,l),openOnSelect:(i,l)=>n.root.openOnSelect(r.value,i,l),isOpen:N(()=>n.root.opened.value.has(r.value)),parent:N(()=>n.root.parents.value.get(r.value)),activate:(i,l)=>n.root.activate(r.value,i,l),isActivated:N(()=>n.root.activated.value.has(Wt(r.value))),select:(i,l)=>n.root.select(r.value,i,l),isSelected:N(()=>n.root.selected.value.get(Wt(r.value))==="on"),isIndeterminate:N(()=>n.root.selected.value.get(Wt(r.value))==="indeterminate"),isLeaf:N(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return $c(()=>{!n.isGroupActivator&&n.root.register(r.value,n.id.value,t)}),hr(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&ia(em,o),o},rL=()=>{const e=un(em,jC);ia(em,{...e,isGroupActivator:!0})},oL=Po({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return rL(),()=>n.default?.()}}),iL=We({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ut,default:"$collapse"},expandIcon:{type:Ut,default:"$expand"},rawId:[String,Number],prependIcon:Ut,appendIcon:Ut,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Mt(),...nn()},"VListGroup"),qg=at()({name:"VListGroup",props:iL(),setup(e,t){let{slots:n}=t;const{isOpen:a,open:r,id:o}=YC(()=>e.value,!0),i=N(()=>`v-list-group--id-${String(e.rawId??o.value)}`),l=qC(),{isBooted:u}=zu();function f(y){["INPUT","TEXTAREA"].includes(y.target?.tagName)||r(!a.value,y)}const d=N(()=>({onClick:f,class:"v-list-group__header",id:i.value})),m=N(()=>a.value?e.collapseIcon:e.expandIcon),p=N(()=>({VListItem:{active:a.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&m.value,appendIcon:e.appendIcon||!e.subgroup&&m.value,title:e.title,value:e.value}}));return ut(()=>h(e.tag,{class:Ye(["v-list-group",{"v-list-group--prepend":l?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value},e.class]),style:vt(e.style)},{default:()=>[n.activator&&h(rn,{defaults:p.value},{default:()=>[h(oL,null,{default:()=>[n.activator({props:d.value,isOpen:a.value})]})]}),h(Fr,{transition:{component:jh},disabled:!u.value},{default:()=>[Sn(x("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[n.default?.()]),[[Ca,a.value]])]})]})),{isOpen:a}}}),sL=We({opacity:[Number,String],...Mt(),...nn()},"VListItemSubtitle"),KC=at()({name:"VListItemSubtitle",props:sL(),setup(e,t){let{slots:n}=t;return ut(()=>h(e.tag,{class:Ye(["v-list-item-subtitle",e.class]),style:vt([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},n)),{}}}),GC=Wi("v-list-item-title"),lL=We({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ut,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ut,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:pr(),onClickOnce:pr(),...mo(),...Mt(),...sr(),...Wa(),...er(),...da(),...Yf(),...nn(),...bn(),...Wo({variant:"text"})},"VListItem"),$s=at()({name:"VListItem",directives:{vRipple:qr},props:lL(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:a,emit:r}=t;const o=jf(e,n),i=N(()=>e.value===void 0?o.href.value:e.value),{activate:l,isActivated:u,select:f,isOpen:d,isSelected:m,isIndeterminate:p,isGroupActivator:y,root:b,parent:C,openOnSelect:w,id:k}=YC(i,!1),T=qC(),V=N(()=>e.active!==!1&&(e.active||o.isActive?.value||(b.activatable.value?u.value:m.value))),M=ke(()=>e.link!==!1&&o.isLink.value),I=N(()=>!!T&&(b.selectable.value||b.activatable.value||e.value!=null)),R=N(()=>!e.disabled&&e.link!==!1&&(e.link||o.isClickable.value||I.value)),W=ke(()=>e.rounded||e.nav),q=ke(()=>e.color??e.activeColor),z=ke(()=>({color:V.value?q.value??e.baseColor:e.baseColor,variant:e.variant}));_t(()=>o.isActive?.value,De=>{De&&Y()}),$c(()=>{o.isActive?.value&&Y()});function Y(){C.value!=null&&b.open(C.value,!0),w(!0)}const{themeClasses:K}=Nn(e),{borderClasses:ae}=To(e),{colorClasses:te,colorStyles:J,variantClasses:ne}=ju(z),{densityClasses:re}=Lr(e),{dimensionStyles:pe}=za(e),{elevationClasses:Ee}=yr(e),{roundedClasses:me}=ka(W),fe=ke(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),le=N(()=>({isActive:V.value,select:f,isOpen:d.value,isSelected:m.value,isIndeterminate:p.value}));function Te(De){r("click",De),!["INPUT","TEXTAREA"].includes(De.target?.tagName)&&R.value&&(o.navigate?.(De),!y&&(b.activatable.value?l(!u.value,De):(b.selectable.value||e.value!=null)&&f(!m.value,De)))}function ue(De){const Me=De.target;["INPUT","TEXTAREA"].includes(Me.tagName)||(De.key==="Enter"||De.key===" ")&&(De.preventDefault(),De.target.dispatchEvent(new MouseEvent("click",De)))}return ut(()=>{const De=M.value?"a":e.tag,Me=a.title||e.title!=null,Oe=a.subtitle||e.subtitle!=null,B=!!(e.appendAvatar||e.appendIcon),Ae=!!(B||a.append),Fe=!!(e.prependAvatar||e.prependIcon),it=!!(Fe||a.prepend);return T?.updateHasPrepend(it),e.activeColor&&bA("active-color",["color","base-color"]),Sn(h(De,tt({class:["v-list-item",{"v-list-item--active":V.value,"v-list-item--disabled":e.disabled,"v-list-item--link":R.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!it&&T?.hasPrepend.value,"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&V.value},K.value,ae.value,te.value,re.value,Ee.value,fe.value,me.value,ne.value,e.class],style:[J.value,pe.value,e.style],tabindex:R.value?T?-2:0:void 0,"aria-selected":I.value?b.activatable.value?u.value:b.selectable.value?m.value:V.value:void 0,onClick:Te,onKeydown:R.value&&!M.value&&ue},o.linkProps),{default:()=>[Al(R.value||V.value,"v-list-item"),it&&x("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?h(rn,{key:"prepend-defaults",disabled:!Fe,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[a.prepend?.(le.value)]}):x(ft,null,[e.prependAvatar&&h(zo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(In,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),x("div",{class:"v-list-item__spacer"},null)]),x("div",{class:"v-list-item__content","data-no-activator":""},[Me&&h(GC,{key:"title"},{default:()=>[a.title?.({title:e.title})??ge(e.title)]}),Oe&&h(KC,{key:"subtitle"},{default:()=>[a.subtitle?.({subtitle:e.subtitle})??ge(e.subtitle)]}),a.default?.(le.value)]),Ae&&x("div",{key:"append",class:"v-list-item__append"},[a.append?h(rn,{key:"append-defaults",disabled:!B,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[a.append?.(le.value)]}):x(ft,null,[e.appendIcon&&h(In,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(zo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),x("div",{class:"v-list-item__spacer"},null)])]}),[[qr,R.value&&e.ripple]])}),{activate:l,isActivated:u,isGroupActivator:y,isSelected:m,list:T,select:f,root:b,id:k,link:o}}}),uL=We({color:String,inset:Boolean,sticky:Boolean,title:String,...Mt(),...nn()},"VListSubheader"),QC=at()({name:"VListSubheader",props:uL(),setup(e,t){let{slots:n}=t;const{textColorClasses:a,textColorStyles:r}=Er(()=>e.color);return ut(()=>{const o=!!(n.default||e.title);return h(e.tag,{class:Ye(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value,e.class]),style:vt([{textColorStyles:r},e.style])},{default:()=>[o&&x("div",{class:"v-list-subheader__text"},[n.default?.()??e.title])]})}),{}}}),cL=We({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Mt(),...bn()},"VDivider"),Rs=at()({name:"VDivider",props:cL(),setup(e,t){let{attrs:n,slots:a}=t;const{themeClasses:r}=Nn(e),{textColorClasses:o,textColorStyles:i}=Er(()=>e.color),l=N(()=>{const u={};return e.length&&(u[e.vertical?"height":"width"]=It(e.length)),e.thickness&&(u[e.vertical?"borderRightWidth":"borderTopWidth"]=It(e.thickness)),u});return ut(()=>{const u=x("hr",{class:Ye([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,o.value,e.class]),style:vt([l.value,i.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return a.default?x("div",{class:Ye(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[u,x("div",{class:"v-divider__content"},[a.default()]),u]):u}),{}}}),dL=We({items:Array,returnObject:Boolean},"VListChildren"),XC=at()({name:"VListChildren",props:dL(),setup(e,t){let{slots:n}=t;return LC(),()=>n.default?.()??e.items?.map(a=>{let{children:r,props:o,type:i,raw:l}=a;if(i==="divider")return n.divider?.({props:o})??h(Rs,o,null);if(i==="subheader")return n.subheader?.({props:o})??h(QC,o,null);const u={subtitle:n.subtitle?d=>n.subtitle?.({...d,item:l}):void 0,prepend:n.prepend?d=>n.prepend?.({...d,item:l}):void 0,append:n.append?d=>n.append?.({...d,item:l}):void 0,title:n.title?d=>n.title?.({...d,item:l}):void 0},f=qg.filterProps(o);return r?h(qg,tt(f,{value:e.returnObject?l:o?.value,rawId:o?.value}),{activator:d=>{let{props:m}=d;const p={...o,...m,value:e.returnObject?l:o.value};return n.header?n.header({props:p}):h($s,p,u)},default:()=>h(XC,{items:r,returnObject:e.returnObject},n)}):n.item?n.item({props:o}):h($s,tt(o,{value:e.returnObject?l:o.value}),u)})}}),JC=We({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function Bl(e,t){const n=Ra(t,e.itemTitle,t),a=Ra(t,e.itemValue,n),r=Ra(t,e.itemChildren),o=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?ga(t,["children"]):t:void 0:Ra(t,e.itemProps),i={title:n,value:a,...o};return{title:String(i.title??""),value:i.value,props:i,children:Array.isArray(r)?ZC(e,r):void 0,raw:t}}function ZC(e,t){const n=Sl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),a=[];for(const r of t)a.push(Bl(n,r));return a}function Ug(e){const t=N(()=>ZC(e,e.items)),n=N(()=>t.value.some(l=>l.value===null)),a=gt(new Map),r=gt([]);ca(()=>{const l=t.value,u=new Map,f=[];for(let d=0;d<l.length;d++){const m=l[d];if(u_(m.value)||m.value===null){let p=u.get(m.value);p||(p=[],u.set(m.value,p)),p.push(m)}else f.push(m)}a.value=u,r.value=f});function o(l){const u=a.value,f=t.value,d=r.value,m=n.value,p=e.returnObject,y=!!e.valueComparator,b=e.valueComparator||vr,C=Sl(e,["itemTitle","itemValue","itemChildren","itemProps","returnObject","valueComparator"]),w=[];e:for(const k of l){if(!m&&k===null)continue;if(p&&typeof k=="string"){w.push(Bl(C,k));continue}const T=u.get(k);if(y||!T){for(const V of y?f:d)if(b(k,V.value)){w.push(V);continue e}w.push(Bl(C,k));continue}w.push(...T)}return w}function i(l){return e.returnObject?l.map(u=>{let{raw:f}=u;return f}):l.map(u=>{let{value:f}=u;return f})}return{items:t,transformIn:o,transformOut:i}}function fL(e,t){const n=Ra(t,e.itemType,"item"),a=u_(t)?t:Ra(t,e.itemTitle),r=u_(t)?t:Ra(t,e.itemValue,void 0),o=Ra(t,e.itemChildren),i=e.itemProps===!0?ga(t,["children"]):Ra(t,e.itemProps),l={title:a,value:r,...i};return{type:n,title:l.title,value:l.value,props:l,children:n==="item"&&o?ex(e,o):void 0,raw:t}}function ex(e,t){const n=[];for(const a of t)n.push(fL(e,a));return n}function mL(e){return{items:N(()=>ex(e,e.items))}}const hL=We({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Ut,collapseIcon:Ut,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":pr(),"onClick:select":pr(),"onUpdate:opened":pr(),...nL({selectStrategy:"single-leaf",openStrategy:"list"}),...mo(),...Mt(),...sr(),...Wa(),...er(),itemType:{type:String,default:"type"},...JC(),...da(),...nn(),...bn(),...Wo({variant:"text"})},"VList"),Jh=at()({name:"VList",props:hL(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:a}=mL(e),{themeClasses:r}=Nn(e),{backgroundColorClasses:o,backgroundColorStyles:i}=jn(()=>e.bgColor),{borderClasses:l}=To(e),{densityClasses:u}=Lr(e),{dimensionStyles:f}=za(e),{elevationClasses:d}=yr(e),{roundedClasses:m}=ka(e),{children:p,open:y,parents:b,select:C,getPath:w}=aL(e),k=ke(()=>e.lines?`v-list--${e.lines}-line`:void 0),T=ke(()=>e.activeColor),V=ke(()=>e.baseColor),M=ke(()=>e.color);LC(),ya({VListGroup:{activeColor:T,baseColor:V,color:M,expandIcon:ke(()=>e.expandIcon),collapseIcon:ke(()=>e.collapseIcon)},VListItem:{activeClass:ke(()=>e.activeClass),activeColor:T,baseColor:V,color:M,density:ke(()=>e.density),disabled:ke(()=>e.disabled),lines:ke(()=>e.lines),nav:ke(()=>e.nav),slim:ke(()=>e.slim),variant:ke(()=>e.variant)}});const I=gt(!1),R=Re();function W(te){I.value=!0}function q(te){I.value=!1}function z(te){!I.value&&!(te.relatedTarget&&R.value?.contains(te.relatedTarget))&&ae()}function Y(te){const J=te.target;if(!(!R.value||["INPUT","TEXTAREA"].includes(J.tagName))){if(te.key==="ArrowDown")ae("next");else if(te.key==="ArrowUp")ae("prev");else if(te.key==="Home")ae("first");else if(te.key==="End")ae("last");else return;te.preventDefault()}}function K(te){I.value=!0}function ae(te){if(R.value)return Au(R.value,te)}return ut(()=>h(e.tag,{ref:R,class:Ye(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,o.value,l.value,u.value,d.value,k.value,m.value,e.class]),style:vt([i.value,f.value,e.style]),tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:W,onFocusout:q,onFocus:z,onKeydown:Y,onMousedown:K},{default:()=>[h(XC,{items:a.value,returnObject:e.returnObject},n)]})),{open:y,select:C,focus:ae,children:p,parents:b,getPath:w}}}),vL=Wi("v-list-img"),pL=We({start:Boolean,end:Boolean,...Mt(),...nn()},"VListItemAction"),_L=at()({name:"VListItemAction",props:pL(),setup(e,t){let{slots:n}=t;return ut(()=>h(e.tag,{class:Ye(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:vt(e.style)},n)),{}}}),gL=We({start:Boolean,end:Boolean,...Mt(),...nn()},"VListItemMedia"),yL=at()({name:"VListItemMedia",props:gL(),setup(e,t){let{slots:n}=t;return ut(()=>h(e.tag,{class:Ye(["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class]),style:vt(e.style)},n)),{}}});function Hg(e,t){return{x:e.x+t.x,y:e.y+t.y}}function bL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tx(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:a}=e,r=a==="left"?0:a==="center"?t.width/2:a==="right"?t.width:a,o=n==="top"?0:n==="bottom"?t.height:n;return Hg({x:r,y:o},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:a}=e,r=n==="left"?0:n==="right"?t.width:n,o=a==="top"?0:a==="center"?t.height/2:a==="bottom"?t.height:a;return Hg({x:r,y:o},t)}return Hg({x:t.width/2,y:t.height/2},t)}const nx={static:SL,connected:xL},wL=We({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in nx},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function kL(e,t){const n=Re({}),a=Re();On&&Nr(()=>!!(t.isActive.value&&e.locationStrategy),l=>{_t(()=>e.locationStrategy,l),Ba(()=>{window.removeEventListener("resize",r),visualViewport?.removeEventListener("resize",o),visualViewport?.removeEventListener("scroll",i),a.value=void 0}),window.addEventListener("resize",r,{passive:!0}),visualViewport?.addEventListener("resize",o,{passive:!0}),visualViewport?.addEventListener("scroll",i,{passive:!0}),typeof e.locationStrategy=="function"?a.value=e.locationStrategy(t,e,n)?.updateLocation:a.value=nx[e.locationStrategy](t,e,n)?.updateLocation});function r(l){a.value?.(l)}function o(l){a.value?.(l)}function i(l){a.value?.(l)}return{contentStyles:n,updateLocation:a}}function SL(){}function CL(e,t){const n=h_(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function xL(e,t,n){(Array.isArray(e.target.value)||UA(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:o}=l_(()=>{const k=c_(t.location,e.isRtl.value),T=t.origin==="overlap"?k:t.origin==="auto"?f_(k):c_(t.origin,e.isRtl.value);return k.side===T.side&&k.align===m_(T).align?{preferredAnchor:F1(k),preferredOrigin:F1(T)}:{preferredAnchor:k,preferredOrigin:T}}),[i,l,u,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(k=>N(()=>{const T=parseFloat(t[k]);return isNaN(T)?1/0:T})),d=N(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const k=t.offset.split(" ").map(parseFloat);return k.length<2&&k.push(0),k}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let m=!1,p=-1;const y=new A1(4),b=new ResizeObserver(()=>{if(!m)return;if(requestAnimationFrame(T=>{T!==p&&y.clear(),requestAnimationFrame(V=>{p=V})}),y.isFull){const T=y.values();if(vr(T.at(-1),T.at(-3))&&!vr(T.at(-1),T.at(-2)))return}const k=w();k&&y.push(k.flipped)});_t([e.target,e.contentEl],(k,T)=>{let[V,M]=k,[I,R]=T;I&&!Array.isArray(I)&&b.unobserve(I),V&&!Array.isArray(V)&&b.observe(V),R&&b.unobserve(R),M&&b.observe(M)},{immediate:!0}),Ba(()=>{b.disconnect()});let C=new qi({x:0,y:0,width:0,height:0});function w(){if(m=!1,requestAnimationFrame(()=>m=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(C=U1(e.target.value));const k=CL(e.contentEl.value,e.isRtl.value),T=Dh(e.contentEl.value),V=12;T.length||(T.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(k.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),k.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const M=T.reduce((te,J)=>{const ne=cA(J);return te?new qi({x:Math.max(te.left,ne.left),y:Math.max(te.top,ne.top),width:Math.min(te.right,ne.right)-Math.max(te.left,ne.left),height:Math.min(te.bottom,ne.bottom)-Math.max(te.top,ne.top)}):ne},void 0);M.x+=V,M.y+=V,M.width-=V*2,M.height-=V*2;let I={anchor:r.value,origin:o.value};function R(te){const J=new qi(k),ne=tx(te.anchor,C),re=tx(te.origin,J);let{x:pe,y:Ee}=bL(ne,re);switch(te.anchor.side){case"top":Ee-=d.value[0];break;case"bottom":Ee+=d.value[0];break;case"left":pe-=d.value[0];break;case"right":pe+=d.value[0];break}switch(te.anchor.align){case"top":Ee-=d.value[1];break;case"bottom":Ee+=d.value[1];break;case"left":pe-=d.value[1];break;case"right":pe+=d.value[1];break}return J.x+=pe,J.y+=Ee,J.width=Math.min(J.width,u.value),J.height=Math.min(J.height,f.value),{overflows:q1(J,M),x:pe,y:Ee}}let W=0,q=0;const z={x:0,y:0},Y={x:!1,y:!1};let K=-1;for(;;){if(K++>10){Kc("Infinite loop detected in connectedLocationStrategy");break}const{x:te,y:J,overflows:ne}=R(I);W+=te,q+=J,k.x+=te,k.y+=J;{const re=L1(I.anchor),pe=ne.x.before||ne.x.after,Ee=ne.y.before||ne.y.after;let me=!1;if(["x","y"].forEach(fe=>{if(fe==="x"&&pe&&!Y.x||fe==="y"&&Ee&&!Y.y){const le={anchor:{...I.anchor},origin:{...I.origin}},Te=fe==="x"?re==="y"?m_:f_:re==="y"?f_:m_;le.anchor=Te(le.anchor),le.origin=Te(le.origin);const{overflows:ue}=R(le);(ue[fe].before<=ne[fe].before&&ue[fe].after<=ne[fe].after||ue[fe].before+ue[fe].after<(ne[fe].before+ne[fe].after)/2)&&(I=le,me=Y[fe]=!0)}}),me)continue}ne.x.before&&(W+=ne.x.before,k.x+=ne.x.before),ne.x.after&&(W-=ne.x.after,k.x-=ne.x.after),ne.y.before&&(q+=ne.y.before,k.y+=ne.y.before),ne.y.after&&(q-=ne.y.after,k.y-=ne.y.after);{const re=q1(k,M);z.x=M.width-re.x.before-re.x.after,z.y=M.height-re.y.before-re.y.after,W+=re.x.before,k.x+=re.x.before,q+=re.y.before,k.y+=re.y.before}break}const ae=L1(I.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${I.anchor.side} ${I.anchor.align}`,transformOrigin:`${I.origin.side} ${I.origin.align}`,top:It(Wg(q)),left:e.isRtl.value?void 0:It(Wg(W)),right:e.isRtl.value?It(Wg(-W)):void 0,minWidth:It(ae==="y"?Math.min(i.value,C.width):i.value),maxWidth:It(ax(Xn(z.x,i.value===1/0?0:i.value,u.value))),maxHeight:It(ax(Xn(z.y,l.value===1/0?0:l.value,f.value)))}),{available:z,contentBox:k,flipped:Y}}return _t(()=>[r.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>w()),Qt(()=>{const k=w();if(!k)return;const{available:T,contentBox:V}=k;V.height>T.y&&requestAnimationFrame(()=>{w(),requestAnimationFrame(()=>{w()})})}),{updateLocation:w}}function Wg(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function ax(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let zg=!0;const Zh=[];function PL(e){!zg||Zh.length?(Zh.push(e),jg()):(zg=!1,e(),jg())}let rx=-1;function jg(){cancelAnimationFrame(rx),rx=requestAnimationFrame(()=>{const e=Zh.shift();e&&e(),Zh.length?jg():zg=!0})}const ox={none:null,close:TL,block:VL,reposition:OL},EL=We({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ox}},"VOverlay-scroll-strategies");function DL(e,t){if(!On)return;let n;ca(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=Vc(),await new Promise(a=>setTimeout(a)),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):ox[e.scrollStrategy]?.(t,e,n)}))}),Ba(()=>{n?.stop()})}function TL(e){function t(n){e.isActive.value=!1}ix(e.targetEl.value??e.contentEl.value,t)}function VL(e,t){const n=e.root.value?.offsetParent,a=[...new Set([...Dh(e.targetEl.value,t.contained?n:void 0),...Dh(e.contentEl.value,t.contained?n:void 0)])].filter(i=>!i.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,o=(i=>S_(i)&&i)(n||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((i,l)=>{i.style.setProperty("--v-body-scroll-x",It(-i.scrollLeft)),i.style.setProperty("--v-body-scroll-y",It(-i.scrollTop)),i!==document.documentElement&&i.style.setProperty("--v-scrollbar-offset",It(r)),i.classList.add("v-overlay-scroll-blocked")}),Ba(()=>{a.forEach((i,l)=>{const u=parseFloat(i.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(i.style.getPropertyValue("--v-body-scroll-y")),d=i.style.scrollBehavior;i.style.scrollBehavior="auto",i.style.removeProperty("--v-body-scroll-x"),i.style.removeProperty("--v-body-scroll-y"),i.style.removeProperty("--v-scrollbar-offset"),i.classList.remove("v-overlay-scroll-blocked"),i.scrollLeft=-u,i.scrollTop=-f,i.style.scrollBehavior=d}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function OL(e,t,n){let a=!1,r=-1,o=-1;function i(l){PL(()=>{const u=performance.now();e.updateLocation.value?.(l),a=(performance.now()-u)/(1e3/60)>2})}o=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{n.run(()=>{ix(e.targetEl.value??e.contentEl.value,l=>{a?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i(l)})})):i(l)})})}),Ba(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(o),cancelAnimationFrame(r)})}function ix(e,t){const n=[document,...Dh(e)];n.forEach(a=>{a.addEventListener("scroll",t,{passive:!0})}),Ba(()=>{n.forEach(a=>{a.removeEventListener("scroll",t)})})}const Yg=Symbol.for("vuetify:v-menu"),Kg=We({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Gg(e,t){let n=()=>{};function a(i){n?.();const l=Number(i?e.openDelay:e.closeDelay);return new Promise(u=>{n=rA(l,()=>{t?.(i),u(i)})})}function r(){return a(!0)}function o(){return a(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:o}}const IL=We({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Kg()},"VOverlay-activator");function AL(e,t){let{isActive:n,isTop:a,contentEl:r}=t;const o=xa("useActivator"),i=Re();let l=!1,u=!1,f=!0;const d=N(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),m=N(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:p,runCloseDelay:y}=Gg(e,q=>{q===(e.openOnHover&&l||d.value&&u)&&!(e.openOnHover&&n.value&&!a.value)&&(n.value!==q&&(f=!0),n.value=q)}),b=Re(),C={onClick:q=>{q.stopPropagation(),i.value=q.currentTarget||q.target,n.value||(b.value=[q.clientX,q.clientY]),n.value=!n.value},onMouseenter:q=>{q.sourceCapabilities?.firesTouchEvents||(l=!0,i.value=q.currentTarget||q.target,p())},onMouseleave:q=>{l=!1,y()},onFocus:q=>{zc(q.target,":focus-visible")!==!1&&(u=!0,q.stopPropagation(),i.value=q.currentTarget||q.target,p())},onBlur:q=>{u=!1,q.stopPropagation(),y()}},w=N(()=>{const q={};return m.value&&(q.onClick=C.onClick),e.openOnHover&&(q.onMouseenter=C.onMouseenter,q.onMouseleave=C.onMouseleave),d.value&&(q.onFocus=C.onFocus,q.onBlur=C.onBlur),q}),k=N(()=>{const q={};if(e.openOnHover&&(q.onMouseenter=()=>{l=!0,p()},q.onMouseleave=()=>{l=!1,y()}),d.value&&(q.onFocusin=()=>{u=!0,p()},q.onFocusout=()=>{u=!1,y()}),e.closeOnContentClick){const z=un(Yg,null);q.onClick=()=>{n.value=!1,z?.closeParents()}}return q}),T=N(()=>{const q={};return e.openOnHover&&(q.onMouseenter=()=>{f&&(l=!0,f=!1,p())},q.onMouseleave=()=>{l=!1,y()}),q});_t(a,q=>{q&&(e.openOnHover&&!l&&(!d.value||!u)||d.value&&!u&&(!e.openOnHover||!l))&&!r.value?.contains(document.activeElement)&&(n.value=!1)}),_t(n,q=>{q||setTimeout(()=>{b.value=void 0})},{flush:"post"});const V=kh();ca(()=>{V.value&&Qt(()=>{i.value=V.el})});const M=kh(),I=N(()=>e.target==="cursor"&&b.value?b.value:M.value?M.el:sx(e.target,o)||i.value),R=N(()=>Array.isArray(I.value)?void 0:I.value);let W;return _t(()=>!!e.activator,q=>{q&&On?(W=Vc(),W.run(()=>{ML(e,o,{activatorEl:i,activatorEvents:w})})):W&&W.stop()},{flush:"post",immediate:!0}),Ba(()=>{W?.stop()}),{activatorEl:i,activatorRef:V,target:I,targetEl:R,targetRef:M,activatorEvents:w,contentEvents:k,scrimEvents:T}}function ML(e,t,n){let{activatorEl:a,activatorEvents:r}=n;_t(()=>e.activator,(u,f)=>{if(f&&u!==f){const d=l(f);d&&i(d)}u&&Qt(()=>o())},{immediate:!0}),_t(()=>e.activatorProps,()=>{o()}),Ba(()=>{i()});function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&dA(u,tt(r.value,f))}function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&fA(u,tt(r.value,f))}function l(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const f=sx(u,t);return a.value=f?.nodeType===Node.ELEMENT_NODE?f:void 0,a.value}}function sx(e,t){if(!e)return;let n;if(e==="parent"){let a=t?.proxy?.$el?.parentNode;for(;a?.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function lx(){if(!On)return gt(!1);const{ssr:e}=Uo();if(e){const t=gt(!1);return yn(()=>{t.value=!0}),t}else return gt(!0)}const Qg=We({eager:Boolean},"lazy");function Xg(e,t){const n=gt(!1),a=ke(()=>n.value||e.eager||t.value);_t(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:a,onAfterLeave:r}}function Xu(){const t=xa("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const ux=Symbol.for("vuetify:stack"),tm=Ta([]);function NL(e,t,n){const a=xa("useStack"),r=!n,o=un(ux,void 0),i=Ta({activeChildren:new Set});ia(ux,i);const l=gt(Number(Xa(t)));Nr(e,()=>{const d=tm.at(-1)?.[1];l.value=d?d+10:Number(Xa(t)),r&&tm.push([a.uid,l.value]),o?.activeChildren.add(a.uid),Ba(()=>{if(r){const m=Wt(tm).findIndex(p=>p[0]===a.uid);tm.splice(m,1)}o?.activeChildren.delete(a.uid)})});const u=gt(!0);r&&ca(()=>{const d=tm.at(-1)?.[0]===a.uid;setTimeout(()=>u.value=d)});const f=ke(()=>!i.activeChildren.size);return{globalTop:vl(u),localTop:f,stackStyles:ke(()=>({zIndex:l.value}))}}function BL(e){return{teleportTarget:N(()=>{const n=e();if(n===!0||!On)return;const a=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(a==null){uo(`Unable to locate target ${n}`);return}let r=[...a.children].find(o=>o.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",a.appendChild(r)),r})}}function $L(){return!0}function cx(e,t,n){if(!e||dx(e,n)===!1)return!1;const a=lk(t);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(o=>o?.contains(e.target))}function dx(e,t){return(typeof t.value=="object"&&t.value.closeConditional||$L)(e)}function RL(e,t,n){const a=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&cx(e,t,n)&&setTimeout(()=>{dx(e,n)&&a&&a(e)},0)}function fx(e,t){const n=lk(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const Jg={mounted(e,t){const n=r=>RL(r,e,t),a=r=>{e._clickOutside.lastMousedownWasOutside=cx(r,e,t)};fx(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:a}},beforeUnmount(e,t){e._clickOutside&&(fx(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:a,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",a,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function FL(e){const{modelValue:t,color:n,...a}=e;return h(co,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&x("div",tt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const nm=We({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...IL(),...Mt(),...Wa(),...Qg(),...wL(),...EL(),...bn(),...Si()},"VOverlay"),Qi=at()({name:"VOverlay",directives:{vClickOutside:Jg},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...nm()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:a,emit:r}=t;const o=xa("VOverlay"),i=Re(),l=Re(),u=Re(),f=Lt(e,"modelValue"),d=N({get:()=>f.value,set:B=>{B&&e.disabled||(f.value=B)}}),{themeClasses:m}=Nn(e),{rtlClasses:p,isRtl:y}=Fa(),{hasContent:b,onAfterLeave:C}=Xg(e,d),w=jn(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:k,localTop:T,stackStyles:V}=NL(d,()=>e.zIndex,e._disableGlobalStack),{activatorEl:M,activatorRef:I,target:R,targetEl:W,targetRef:q,activatorEvents:z,contentEvents:Y,scrimEvents:K}=AL(e,{isActive:d,isTop:T,contentEl:u}),{teleportTarget:ae}=BL(()=>{const B=e.attach||e.contained;if(B)return B;const Ae=M?.value?.getRootNode()||o.proxy?.$el?.getRootNode();return Ae instanceof ShadowRoot?Ae:!1}),{dimensionStyles:te}=za(e),J=lx(),{scopeId:ne}=Xu();_t(()=>e.disabled,B=>{B&&(d.value=!1)});const{contentStyles:re,updateLocation:pe}=kL(e,{isRtl:y,contentEl:u,target:R,isActive:d});DL(e,{root:i,contentEl:u,targetEl:W,isActive:d,updateLocation:pe});function Ee(B){r("click:outside",B),e.persistent?De():d.value=!1}function me(B){return d.value&&k.value&&(!e.scrim||B.target===l.value||B instanceof MouseEvent&&B.shadowTarget===l.value)}On&&_t(d,B=>{B?window.addEventListener("keydown",fe):window.removeEventListener("keydown",fe)},{immediate:!0}),hr(()=>{On&&window.removeEventListener("keydown",fe)});function fe(B){B.key==="Escape"&&k.value&&(u.value?.contains(document.activeElement)||r("keydown",B),e.persistent?De():(d.value=!1,u.value?.contains(document.activeElement)&&M.value?.focus()))}function le(B){B.key==="Escape"&&!k.value||r("keydown",B)}const Te=vC();Nr(()=>e.closeOnBack,()=>{yF(Te,B=>{k.value&&d.value?(B(!1),e.persistent?De():d.value=!1):B()})});const ue=Re();_t(()=>d.value&&(e.absolute||e.contained)&&ae.value==null,B=>{if(B){const Ae=k_(i.value);Ae&&Ae!==document.scrollingElement&&(ue.value=Ae.scrollTop)}});function De(){e.noClickAnimation||u.value&&Mu(u.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Cf})}function Me(){r("afterEnter")}function Oe(){C(),r("afterLeave")}return ut(()=>x(ft,null,[n.activator?.({isActive:d.value,targetRef:q,props:tt({ref:I},z.value,e.activatorProps)}),J.value&&b.value&&h(F0,{disabled:!ae.value,to:ae.value},{default:()=>[x("div",tt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},m.value,p.value,e.class],style:[V.value,{"--v-overlay-opacity":e.opacity,top:It(ue.value)},e.style],ref:i,onKeydown:le},ne,a),[h(FL,tt({color:w,modelValue:d.value&&!!e.scrim,ref:l},K.value),null),h(Fr,{appear:!0,persisted:!0,transition:e.transition,target:R.value,onAfterEnter:Me,onAfterLeave:Oe},{default:()=>[Sn(x("div",tt({ref:u,class:["v-overlay__content",e.contentClass],style:[te.value,re.value]},Y.value,e.contentProps),[n.default?.({isActive:d})]),[[Ca,d.value],[Jg,{handler:Ee,closeConditional:me,include:()=>[M.value]}]])]})])]})])),{activatorEl:M,scrimEl:l,target:R,animateClick:De,contentEl:u,globalTop:k,localTop:T,updateLocation:pe}}}),Zg=Symbol("Forwarded refs");function ey(e,t){let n=e;for(;n;){const a=Reflect.getOwnPropertyDescriptor(n,t);if(a)return a;n=Object.getPrototypeOf(n)}}function Oo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e[Zg]=n,new Proxy(e,{get(r,o){if(Reflect.has(r,o))return Reflect.get(r,o);if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const i of n)if(i.value&&Reflect.has(i.value,o)){const l=Reflect.get(i.value,o);return typeof l=="function"?l.bind(i.value):l}}},has(r,o){if(Reflect.has(r,o))return!0;if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const i of n)if(i.value&&Reflect.has(i.value,o))return!0;return!1},set(r,o,i){if(Reflect.has(r,o))return Reflect.set(r,o,i);if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const l of n)if(l.value&&Reflect.has(l.value,o))return Reflect.set(l.value,o,i);return!1},getOwnPropertyDescriptor(r,o){const i=Reflect.getOwnPropertyDescriptor(r,o);if(i)return i;if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=ey(l.value,o)??("_"in l.value?ey(l.value._?.setupState,o):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Zg];if(!u)continue;const f=u.slice();for(;f.length;){const d=f.shift(),m=ey(d.value,o);if(m)return m;const p=d.value&&d.value[Zg];p&&f.push(...p)}}}}})}const mx=We({id:String,submenu:Boolean,...ga(nm({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:zh}}),["absolute"])},"VMenu"),pd=at()({name:"VMenu",props:mx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{scopeId:r}=Xu(),{isRtl:o}=Fa(),i=Qr(),l=ke(()=>e.id||`v-menu-${i}`),u=Re(),f=un(Yg,null),d=gt(new Set);ia(Yg,{register(){d.value.add(i)},unregister(){d.value.delete(i)},closeParents(w){setTimeout(()=>{!d.value.size&&!e.persistent&&(w==null||u.value?.contentEl&&!oA(w,u.value.contentEl))&&(a.value=!1,f?.closeParents())},40)}}),hr(()=>{f?.unregister(),document.removeEventListener("focusin",m)}),Vp(()=>a.value=!1);async function m(w){const k=w.relatedTarget,T=w.target;await Qt(),a.value&&k!==T&&u.value?.contentEl&&u.value?.globalTop&&![document,u.value.contentEl].includes(T)&&!u.value.contentEl.contains(T)&&kf(u.value.contentEl)[0]?.focus()}_t(a,w=>{w?(f?.register(),On&&document.addEventListener("focusin",m,{once:!0})):(f?.unregister(),On&&document.removeEventListener("focusin",m))},{immediate:!0});function p(w){f?.closeParents(w)}function y(w){if(!e.disabled)if(w.key==="Tab"||w.key==="Enter"&&!e.closeOnContentClick){if(w.key==="Enter"&&(w.target instanceof HTMLTextAreaElement||w.target instanceof HTMLInputElement&&w.target.closest("form")))return;w.key==="Enter"&&w.preventDefault(),B1(kf(u.value?.contentEl,!1),w.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(a.value=!1,u.value?.activatorEl?.focus())}else e.submenu&&w.key===(o.value?"ArrowRight":"ArrowLeft")&&(a.value=!1,u.value?.activatorEl?.focus())}function b(w){if(e.disabled)return;const k=u.value?.contentEl;k&&a.value?w.key==="ArrowDown"?(w.preventDefault(),w.stopImmediatePropagation(),Au(k,"next")):w.key==="ArrowUp"?(w.preventDefault(),w.stopImmediatePropagation(),Au(k,"prev")):e.submenu&&(w.key===(o.value?"ArrowRight":"ArrowLeft")?a.value=!1:w.key===(o.value?"ArrowLeft":"ArrowRight")&&(w.preventDefault(),Au(k,"first"))):(e.submenu?w.key===(o.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(w.key))&&(a.value=!0,w.preventDefault(),setTimeout(()=>setTimeout(()=>b(w))))}const C=N(()=>tt({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-controls":l.value,onKeydown:b},e.activatorProps));return ut(()=>{const w=Qi.filterProps(e);return h(Qi,tt({ref:u,id:l.value,class:["v-menu",e.class],style:e.style},w,{modelValue:a.value,"onUpdate:modelValue":k=>a.value=k,absolute:!0,activatorProps:C.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":p,onKeydown:y},r),{activator:n.activator,default:function(){for(var k=arguments.length,T=new Array(k),V=0;V<k;V++)T[V]=arguments[V];return h(rn,{root:"VMenu"},{default:()=>[n.default?.(...T)]})}})}),Oo({id:l,ΨopenChildren:d},u)}}),LL=We({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Mt(),...Si({transition:{component:Pg}})},"VCounter"),ev=at()({name:"VCounter",functional:!0,props:LL(),setup(e,t){let{slots:n}=t;const a=ke(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ut(()=>h(Fr,{transition:e.transition},{default:()=>[Sn(x("div",{class:Ye(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:vt(e.style)},[n.default?n.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[Ca,e.active]])]})),{}}}),qL=We({floating:Boolean,...Mt()},"VFieldLabel"),am=at()({name:"VFieldLabel",props:qL(),setup(e,t){let{slots:n}=t;return ut(()=>h(hd,{class:Ye(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:vt(e.style),"aria-hidden":e.floating||void 0},n)),{}}}),UL=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],rm=We({appendInnerIcon:Ut,bgColor:String,clearable:Boolean,clearIcon:{type:Ut,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Ut,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>UL.includes(e)},"onClick:clear":pr(),"onClick:appendInner":pr(),"onClick:prependInner":pr(),...Mt(),...Kh(),...da(),...bn()},"VField"),$l=at()({name:"VField",inheritAttrs:!1,props:{id:String,...Qf(),...rm()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{themeClasses:o}=Nn(e),{loaderClasses:i}=Wf(e),{focusClasses:l,isFocused:u,focus:f,blur:d}=Ns(e),{InputIcon:m}=VC(e),{roundedClasses:p}=ka(e),{rtlClasses:y}=Fa(),b=ke(()=>e.dirty||e.active),C=ke(()=>!!(e.label||r.label)),w=ke(()=>!e.singleLine&&C.value),k=Qr(),T=N(()=>e.id||`input-${k}`),V=ke(()=>`${T.value}-messages`),M=Re(),I=Re(),R=Re(),W=N(()=>["plain","underlined"].includes(e.variant)),q=N(()=>e.error||e.disabled?void 0:b.value&&u.value?e.color:e.baseColor),z=N(()=>{if(!(!e.iconColor||e.glow&&!u.value))return e.iconColor===!0?q.value:e.iconColor}),{backgroundColorClasses:Y,backgroundColorStyles:K}=jn(()=>e.bgColor),{textColorClasses:ae,textColorStyles:te}=Er(q);_t(b,re=>{if(w.value){const pe=M.value.$el,Ee=I.value.$el;requestAnimationFrame(()=>{const me=h_(pe),fe=Ee.getBoundingClientRect(),le=fe.x-me.x,Te=fe.y-me.y-(me.height/2-fe.height/2),ue=fe.width/.75,De=Math.abs(ue-me.width)>1?{maxWidth:It(ue)}:void 0,Me=getComputedStyle(pe),Oe=getComputedStyle(Ee),B=parseFloat(Me.transitionDuration)*1e3||150,Ae=parseFloat(Oe.getPropertyValue("--v-field-label-scale")),Fe=Oe.getPropertyValue("color");pe.style.visibility="visible",Ee.style.visibility="hidden",Mu(pe,{transform:`translate(${le}px, ${Te}px) scale(${Ae})`,color:Fe,...De},{duration:B,easing:Cf,direction:re?"normal":"reverse"}).finished.then(()=>{pe.style.removeProperty("visibility"),Ee.style.removeProperty("visibility")})})}},{flush:"post"});const J=N(()=>({isActive:b,isFocused:u,controlRef:R,blur:d,focus:f}));function ne(re){re.target!==document.activeElement&&re.preventDefault()}return ut(()=>{const re=e.variant==="outlined",pe=!!(r["prepend-inner"]||e.prependInnerIcon),Ee=!!(e.clearable||r.clear)&&!e.disabled,me=!!(r["append-inner"]||e.appendInnerIcon||Ee),fe=()=>r.label?r.label({...J.value,label:e.label,props:{for:T.value}}):e.label;return x("div",tt({class:["v-field",{"v-field--active":b.value,"v-field--appended":me,"v-field--center-affix":e.centerAffix??!W.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":pe,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!fe(),[`v-field--variant-${e.variant}`]:!0},o.value,Y.value,l.value,i.value,p.value,y.value,e.class],style:[K.value,e.style],onClick:ne},n),[x("div",{class:"v-field__overlay"},null),h(zf,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),pe&&x("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&h(m,{key:"prepend-icon",name:"prependInner",color:z.value},null),r["prepend-inner"]?.(J.value)]),x("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&w.value&&h(am,{key:"floating-label",ref:I,class:Ye([ae.value]),floating:!0,for:T.value,style:vt(te.value)},{default:()=>[fe()]}),C.value&&h(am,{key:"label",ref:M,for:T.value},{default:()=>[fe()]}),r.default?.({...J.value,props:{id:T.value,class:"v-field__input","aria-describedby":V.value},focus:f,blur:d})??x("div",{id:T.value,class:"v-field__input","aria-describedby":V.value},null)]),Ee&&h(Eg,{key:"clear"},{default:()=>[Sn(x("div",{class:"v-field__clearable",onMousedown:le=>{le.preventDefault(),le.stopPropagation()}},[h(rn,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...J.value,props:{onFocus:f,onBlur:d,onClick:e["onClick:clear"],tabindex:-1}}):h(m,{name:"clear",onFocus:f,onBlur:d,tabindex:-1},null)]})]),[[Ca,e.dirty]])]}),me&&x("div",{key:"append",class:"v-field__append-inner"},[r["append-inner"]?.(J.value),e.appendInnerIcon&&h(m,{key:"append-icon",name:"appendInner",color:z.value},null)]),x("div",{class:Ye(["v-field__outline",ae.value]),style:vt(te.value)},[re&&x(ft,null,[x("div",{class:"v-field__outline__start"},null),w.value&&x("div",{class:"v-field__outline__notch"},[h(am,{ref:I,floating:!0,for:T.value},{default:()=>[fe()]})]),x("div",{class:"v-field__outline__end"},null)]),W.value&&w.value&&h(am,{ref:I,floating:!0,for:T.value},{default:()=>[fe()]})])])}),{controlRef:R,fieldIconColor:z}}});function hx(e){function t(n,a){!e.autofocus||!n||a[0].target?.focus?.()}return{onIntersect:t}}const HL=["color","file","time","date","datetime-local","week","month"],om=We({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Bs(),...rm()},"VTextField"),Fs=at()({name:"VTextField",directives:{vIntersect:Os},inheritAttrs:!1,props:om(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const o=Lt(e,"modelValue"),{isFocused:i,focus:l,blur:u}=Ns(e),{onIntersect:f}=hx(e),d=N(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:(o.value??"").toString().length),m=N(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=N(()=>["plain","underlined"].includes(e.variant)),y=Re(),b=Re(),C=Re(),w=N(()=>HL.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function k(){i.value||l(),Qt(()=>{C.value!==document.activeElement&&Qt(()=>C.value?.focus())})}function T(R){a("mousedown:control",R),R.target!==C.value&&(k(),R.preventDefault())}function V(R){a("click:control",R)}function M(R,W){R.stopPropagation(),k(),Qt(()=>{o.value=null,W(),yh(e["onClick:clear"],R)})}function I(R){const W=R.target;if(o.value=W.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const q=[W.selectionStart,W.selectionEnd];Qt(()=>{W.selectionStart=q[0],W.selectionEnd=q[1]})}}return ut(()=>{const R=!!(r.counter||e.counter!==!1&&e.counter!=null),W=!!(R||r.details),[q,z]=Cl(n),{modelValue:Y,...K}=Dr.filterProps(e),ae=$l.filterProps(e);return h(Dr,tt({ref:y,modelValue:o.value,"onUpdate:modelValue":te=>o.value=te,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":p.value},e.class],style:e.style},q,K,{centerAffix:!p.value,focused:i.value}),{...r,default:te=>{let{id:J,isDisabled:ne,isDirty:re,isReadonly:pe,isValid:Ee,reset:me}=te;return h($l,tt({ref:b,onMousedown:T,onClick:V,"onClick:clear":fe=>M(fe,me),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ae,{id:J.value,active:w.value||re.value,dirty:re.value||e.dirty,disabled:ne.value,focused:i.value,error:Ee.value===!1}),{...r,default:fe=>{let{props:{class:le,...Te}}=fe;const ue=Sn(x("input",tt({ref:C,value:o.value,onInput:I,autofocus:e.autofocus,readonly:pe.value,disabled:ne.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:k,onBlur:u},Te,z),null),[[Os,{handler:f},null,{once:!0}]]);return x(ft,null,[e.prefix&&x("span",{class:"v-text-field__prefix"},[x("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?x("div",{class:Ye(le),"data-no-activator":""},[r.default(),ue]):mi(ue,{class:le}),e.suffix&&x("span",{class:"v-text-field__suffix"},[x("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:W?te=>x(ft,null,[r.details?.(te),R&&x(ft,null,[x("span",null,null),h(ev,{active:e.persistentCounter||i.value,value:d.value,max:m.value,disabled:e.disabled},r.counter)])]):void 0})}),Oo({},y,b,C)}}),WL=We({renderless:Boolean,...Mt()},"VVirtualScrollItem"),vx=at()({name:"VVirtualScrollItem",inheritAttrs:!1,props:WL(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{resizeRef:o,contentRect:i}=pi(void 0,"border");_t(()=>i.value?.height,l=>{l!=null&&a("update:height",l)}),ut(()=>e.renderless?x(ft,null,[r.default?.({itemRef:o})]):x("div",tt({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},n),[r.default?.()]))}}),zL=-1,jL=1,ty=100,px=We({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function _x(e,t){const n=Uo(),a=gt(0);ca(()=>{a.value=parseFloat(e.itemHeight||0)});const r=gt(0),o=gt(Math.ceil((parseInt(e.height)||n.height.value)/(a.value||16))||1),i=gt(0),l=gt(0),u=Re(),f=Re();let d=0;const{resizeRef:m,contentRect:p}=pi();ca(()=>{m.value=u.value});const y=N(()=>u.value===document.documentElement?n.height.value:p.value?.height||parseInt(e.height)||0),b=N(()=>!!(u.value&&f.value&&y.value&&a.value));let C=Array.from({length:t.value.length}),w=Array.from({length:t.value.length});const k=gt(0);let T=-1;function V(fe){return C[fe]||a.value}const M=tA(()=>{const fe=performance.now();w[0]=0;const le=t.value.length;for(let Te=1;Te<=le-1;Te++)w[Te]=(w[Te-1]||0)+V(Te-1);k.value=Math.max(k.value,performance.now()-fe)},k),I=_t(b,fe=>{fe&&(I(),d=f.value.offsetTop,M.immediate(),re(),~T&&Qt(()=>{On&&window.requestAnimationFrame(()=>{Ee(T),T=-1})}))});Ba(()=>{M.clear()});function R(fe,le){const Te=C[fe],ue=a.value;a.value=ue?Math.min(a.value,le):le,(Te!==le||ue!==a.value)&&(C[fe]=le,M())}function W(fe){return fe=Xn(fe,0,t.value.length-1),w[fe]||0}function q(fe){return YL(w,fe)}let z=0,Y=0,K=0;_t(y,(fe,le)=>{le&&(re(),fe<le&&requestAnimationFrame(()=>{Y=0,re()}))});let ae=-1;function te(){if(!u.value||!f.value)return;const fe=u.value.scrollTop,le=performance.now();le-K>500?(Y=Math.sign(fe-z),d=f.value.offsetTop):Y=fe-z,z=fe,K=le,window.clearTimeout(ae),ae=window.setTimeout(J,500),re()}function J(){!u.value||!f.value||(Y=0,K=0,window.clearTimeout(ae),re())}let ne=-1;function re(){cancelAnimationFrame(ne),ne=requestAnimationFrame(pe)}function pe(){if(!u.value||!y.value||!a.value)return;const fe=z-d,le=Math.sign(Y),Te=Math.max(0,fe-ty),ue=Xn(q(Te),0,t.value.length),De=fe+y.value+ty,Me=Xn(q(De)+1,ue+1,t.value.length);if((le!==zL||ue<r.value)&&(le!==jL||Me>o.value)){const Oe=W(r.value)-W(ue),B=W(Me)-W(o.value);Math.max(Oe,B)>ty?(r.value=ue,o.value=Me):(ue<=0&&(r.value=ue),Me>=t.value.length&&(o.value=Me))}i.value=W(r.value),l.value=W(t.value.length)-W(o.value)}function Ee(fe){const le=W(fe);!u.value||fe&&!le?T=fe:u.value.scrollTop=le}const me=N(()=>t.value.slice(r.value,o.value).map((fe,le)=>{const Te=le+r.value;return{raw:fe,index:Te,key:Ra(fe,e.itemKey,Te)}}));return _t(t,()=>{C=Array.from({length:t.value.length}),w=Array.from({length:t.value.length}),M.immediate(),re()},{deep:1}),{calculateVisibleItems:re,containerRef:u,markerRef:f,computedItems:me,paddingTop:i,paddingBottom:l,scrollToIndex:Ee,handleScroll:te,handleScrollend:J,handleItemResize:R}}function YL(e,t){let n=e.length-1,a=0,r=0,o=null,i=-1;if(e[n]<t)return n;for(;a<=n;)if(r=a+n>>1,o=e[r],o>t)n=r-1;else if(o<t)i=r,a=r+1;else return o===t?r:a;return i}const KL=We({items:{type:Array,default:()=>[]},renderless:Boolean,...px(),...Mt(),...Wa()},"VVirtualScroll"),tv=at()({name:"VVirtualScroll",props:KL(),setup(e,t){let{slots:n}=t;const a=xa("VVirtualScroll"),{dimensionStyles:r}=za(e),{calculateVisibleItems:o,containerRef:i,markerRef:l,handleScroll:u,handleScrollend:f,handleItemResize:d,scrollToIndex:m,paddingTop:p,paddingBottom:y,computedItems:b}=_x(e,ke(()=>e.items));return Nr(()=>e.renderless,()=>{function C(){const k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[k]("scroll",u,{passive:!0}),document[k]("scrollend",f)):(i.value?.[k]("scroll",u,{passive:!0}),i.value?.[k]("scrollend",f))}yn(()=>{i.value=k_(a.vnode.el,!0),C(!0)}),Ba(C)}),ut(()=>{const C=b.value.map(w=>h(vx,{key:w.key,renderless:e.renderless,"onUpdate:height":k=>d(w.index,k)},{default:k=>n.default?.({item:w.raw,index:w.index,...k})}));return e.renderless?x(ft,null,[x("div",{ref:l,class:"v-virtual-scroll__spacer",style:{paddingTop:It(p.value)}},null),C,x("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:It(y.value)}},null)]):x("div",{ref:i,class:Ye(["v-virtual-scroll",e.class]),onScrollPassive:u,onScrollend:f,style:vt([r.value,e.style])},[x("div",{ref:l,class:"v-virtual-scroll__container",style:{paddingTop:It(p.value),paddingBottom:It(y.value)}},[C])])}),{calculateVisibleItems:o,scrollToIndex:m}}});function ny(e,t){const n=gt(!1);let a;function r(l){cancelAnimationFrame(a),n.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{n.value=!1})})}async function o(){await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>{if(n.value){const u=_t(n,()=>{u(),l()})}else l()})}async function i(l){if(l.key==="Tab"&&t.value?.focus(),!["PageDown","PageUp","Home","End"].includes(l.key))return;const u=e.value?.$el;if(!u)return;(l.key==="Home"||l.key==="End")&&u.scrollTo({top:l.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await o();const f=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(l.key==="PageDown"||l.key==="Home"){const d=u.getBoundingClientRect().top;for(const m of f)if(m.getBoundingClientRect().top>=d){m.focus();break}}else{const d=u.getBoundingClientRect().bottom;for(const m of[...f].reverse())if(m.getBoundingClientRect().bottom<=d){m.focus();break}}}return{onScrollPassive:r,onKeydown:i}}const ay=We({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ut,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...JC({itemChildren:!1})},"Select"),GL=We({...ay(),...ga(om({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Si({transition:{component:zh}})},"VSelect"),ry=at()({name:"VSelect",props:GL(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=ba(),r=Re(),o=Re(),i=Re(),{items:l,transformIn:u,transformOut:f}=Ug(e),d=Lt(e,"modelValue",[],fe=>u(fe===null?[null]:ma(fe)),fe=>{const le=f(fe);return e.multiple?le:le[0]??null}),m=N(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),p=Xf(e),y=N(()=>d.value.map(fe=>fe.value)),b=gt(!1);let C="",w=-1,k;const T=N(()=>e.hideSelected?l.value.filter(fe=>!d.value.some(le=>(e.valueComparator||vr)(le,fe))):l.value),V=N(()=>e.hideNoData&&!T.value.length||p.isReadonly.value||p.isDisabled.value),M=Lt(e,"menu"),I=N({get:()=>M.value,set:fe=>{M.value&&!fe&&o.value?.ΨopenChildren.size||fe&&V.value||(M.value=fe)}}),R=ke(()=>I.value?e.closeText:e.openText),W=N(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),q=Re(),z=ny(q,r);function Y(fe){e.openOnClear&&(I.value=!0)}function K(){V.value||(I.value=!I.value)}function ae(fe){jc(fe)&&te(fe)}function te(fe){if(!fe.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(fe.key)&&fe.preventDefault(),["Enter","ArrowDown"," "].includes(fe.key)&&(I.value=!0),["Escape","Tab"].includes(fe.key)&&(I.value=!1),fe.key==="Home"?q.value?.focus("first"):fe.key==="End"&&q.value?.focus("last");const le=1e3;if(!jc(fe))return;const Te=performance.now();Te-k>le&&(C="",w=-1),C+=fe.key.toLowerCase(),k=Te;const ue=T.value;function De(){let Fe=Me();return Fe||C.at(-1)===C.at(-2)&&(C=C.slice(0,-1),Fe=Me(),Fe)||(w=-1,Fe=Me(),Fe)?Fe:(C=fe.key.toLowerCase(),Me())}function Me(){for(let Fe=w+1;Fe<ue.length;Fe++){const it=ue[Fe];if(it.title.toLowerCase().startsWith(C))return[it,Fe]}}const Oe=De();if(!Oe)return;const[B,Ae]=Oe;w=Ae,q.value?.focus(Ae),e.multiple||(d.value=[B])}function J(fe){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!fe.props.disabled)if(e.multiple){const Te=d.value.findIndex(De=>(e.valueComparator||vr)(De.value,fe.value)),ue=le??!~Te;if(~Te){const De=ue?[...d.value,fe]:[...d.value];De.splice(Te,1),d.value=De}else ue&&(d.value=[...d.value,fe])}else{const Te=le!==!1;d.value=Te?[fe]:[],Qt(()=>{I.value=!1})}}function ne(fe){q.value?.$el.contains(fe.relatedTarget)||(I.value=!1)}function re(){e.eager&&i.value?.calculateVisibleItems()}function pe(){b.value&&r.value?.focus()}function Ee(fe){b.value=!0}function me(fe){if(fe==null)d.value=[];else if(zc(r.value,":autofill")||zc(r.value,":-webkit-autofill")){const le=l.value.find(Te=>Te.title===fe);le&&J(le)}else r.value&&(r.value.value="")}return _t(I,()=>{if(!e.hideSelected&&I.value&&d.value.length){const fe=T.value.findIndex(le=>d.value.some(Te=>(e.valueComparator||vr)(Te.value,le.value)));On&&window.requestAnimationFrame(()=>{fe>=0&&i.value?.scrollToIndex(fe)})}}),_t(()=>e.items,(fe,le)=>{I.value||b.value&&!le.length&&fe.length&&(I.value=!0)}),ut(()=>{const fe=!!(e.chips||n.chip),le=!!(!e.hideNoData||T.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Te=d.value.length>0,ue=Fs.filterProps(e),De=Te||!b.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return h(Fs,tt({ref:r},ue,{modelValue:d.value.map(Me=>Me.props.value).join(", "),"onUpdate:modelValue":me,focused:b.value,"onUpdate:focused":Me=>b.value=Me,validationValue:d.externalValue,counterValue:m.value,dirty:Te,class:["v-select",{"v-select--active-menu":I.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:De,"onClick:clear":Y,"onMousedown:control":K,onBlur:ne,onKeydown:te,"aria-label":a(R.value),title:a(R.value)}),{...n,default:()=>x(ft,null,[h(pd,tt({ref:o,modelValue:I.value,"onUpdate:modelValue":Me=>I.value=Me,activator:"parent",contentClass:"v-select__content",disabled:V.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:re,onAfterLeave:pe},W.value),{default:()=>[le&&h(Jh,tt({ref:q,selected:y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Me=>Me.preventDefault(),onKeydown:ae,onFocusin:Ee,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},z,e.listProps),{default:()=>[n["prepend-item"]?.(),!T.value.length&&!e.hideNoData&&(n["no-data"]?.()??h($s,{key:"no-data",title:a(e.noDataText)},null)),h(tv,{ref:i,renderless:!0,items:T.value,itemKey:"value"},{default:Me=>{let{item:Oe,index:B,itemRef:Ae}=Me;const Fe=sA(Oe.props),it=tt(Oe.props,{ref:Ae,key:Oe.value,onClick:()=>J(Oe,null)});return n.item?.({item:Oe,index:B,props:it})??h($s,tt(it,{role:"option"}),{prepend:_e=>{let{isSelected:mt}=_e;return x(ft,null,[e.multiple&&!e.hideSelected?h(Ms,{key:Oe.value,modelValue:mt,ripple:!1,tabindex:"-1"},null):void 0,Fe.prependAvatar&&h(zo,{image:Fe.prependAvatar},null),Fe.prependIcon&&h(In,{icon:Fe.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),d.value.map((Me,Oe)=>{function B(_e){_e.stopPropagation(),_e.preventDefault(),J(Me,!1)}const Ae={"onClick:close":B,onKeydown(_e){_e.key!=="Enter"&&_e.key!==" "||(_e.preventDefault(),_e.stopPropagation(),B(_e))},onMousedown(_e){_e.preventDefault(),_e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Fe=fe?!!n.chip:!!n.selection,it=Fe?wh(fe?n.chip({item:Me,index:Oe,props:Ae}):n.selection({item:Me,index:Oe})):void 0;if(!(Fe&&!it))return x("div",{key:Me.value,class:"v-select__selection"},[fe?n.chip?h(rn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Me.title}}},{default:()=>[it]}):h(vd,tt({key:"chip",closable:e.closableChips,size:"small",text:Me.title,disabled:Me.props.disabled},Ae),null):it??x("span",{class:"v-select__selection-text"},[Me.title,e.multiple&&Oe<d.value.length-1&&x("span",{class:"v-select__selection-comma"},[Ke(",")])])])})]),"append-inner":function(){for(var Me=arguments.length,Oe=new Array(Me),B=0;B<Me;B++)Oe[B]=arguments[B];return x(ft,null,[n["append-inner"]?.(...Oe),e.menuIcon?h(In,{class:"v-select__menu-icon",color:r.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Oo({isFocused:b,menu:I,select:J},r)}}),QL=(e,t,n)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const a=[];let r=e.indexOf(t);for(;~r;)a.push([r,r+t.length]),r=e.indexOf(t,r+t.length);return a.length?a:-1};function oy(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const im=We({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function XL(e,t,n){const a=[],r=n?.default??QL,o=n?.filterKeys?ma(n.filterKeys):!1,i=Object.keys(n?.customKeyFilter??{}).length;if(!e?.length)return a;e:for(let l=0;l<e.length;l++){const[u,f=u]=ma(e[l]),d={},m={};let p=-1;if((t||i>0)&&!n?.noFilter){if(typeof u=="object"){const C=o||Object.keys(f);for(const w of C){const k=Ra(f,w),T=n?.customKeyFilter?.[w];if(p=T?T(k,t,u):r(k,t,u),p!==-1&&p!==!1)T?d[w]=oy(p,t):m[w]=oy(p,t);else if(n?.filterMode==="every")continue e}}else p=r(u,t,u),p!==-1&&p!==!1&&(m.title=oy(p,t));const y=Object.keys(m).length,b=Object.keys(d).length;if(!y&&!b||n?.filterMode==="union"&&b!==i&&!y||n?.filterMode==="intersection"&&(b!==i||!y))continue}a.push({index:l,matches:{...m,...d}})}return a}function sm(e,t,n,a){const r=gt([]),o=gt(new Map),i=N(()=>a?.transform?Pe(t).map(u=>[u,a.transform(u)]):Pe(t));ca(()=>{const u=typeof n=="function"?n():Pe(n),f=typeof u!="string"&&typeof u!="number"?"":String(u),d=XL(i.value,f,{customKeyFilter:{...e.customKeyFilter,...Pe(a?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=Pe(t),p=[],y=new Map;d.forEach(b=>{let{index:C,matches:w}=b;const k=m[C];p.push(k),y.set(k.value,w)}),r.value=p,o.value=y});function l(u){return o.value.get(u.value)}return{filteredItems:r,filteredMatches:o,getMatches:l}}function gx(e,t,n){return n==null||!n.length?t:n.map((a,r)=>{const o=r===0?0:n[r-1][1],i=[x("span",{class:Ye(`${e}__unmask`)},[t.slice(o,a[0])]),x("span",{class:Ye(`${e}__mask`)},[t.slice(a[0],a[1])])];return r===n.length-1&&i.push(x("span",{class:Ye(`${e}__unmask`)},[t.slice(a[1])])),x(ft,null,[i])})}const JL=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...im({filterKeys:["title"]}),...ay(),...ga(om({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Si({transition:!1})},"VAutocomplete"),ZL=at()({name:"VAutocomplete",props:JL(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=ba(),r=Re(),o=gt(!1),i=gt(!0),l=gt(!1),u=Re(),f=Re(),d=gt(-1),{items:m,transformIn:p,transformOut:y}=Ug(e),{textColorClasses:b,textColorStyles:C}=Er(()=>r.value?.color),w=Lt(e,"search",""),k=Lt(e,"modelValue",[],it=>p(it===null?[null]:ma(it)),it=>{const _e=y(it);return e.multiple?_e:_e[0]??null}),T=N(()=>typeof e.counterValue=="function"?e.counterValue(k.value):typeof e.counterValue=="number"?e.counterValue:k.value.length),V=Xf(e),{filteredItems:M,getMatches:I}=sm(e,m,()=>i.value?"":w.value),R=N(()=>e.hideSelected?M.value.filter(it=>!k.value.some(_e=>_e.value===it.value)):M.value),W=N(()=>!!(e.chips||n.chip)),q=N(()=>W.value||!!n.selection),z=N(()=>k.value.map(it=>it.props.value)),Y=N(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&w.value===R.value[0]?.title)&&R.value.length>0&&!i.value&&!l.value),K=N(()=>e.hideNoData&&!R.value.length||V.isReadonly.value||V.isDisabled.value),ae=Lt(e,"menu"),te=N({get:()=>ae.value,set:it=>{ae.value&&!it&&u.value?.ΨopenChildren.size||it&&K.value||(ae.value=it)}}),J=N(()=>te.value?e.closeText:e.openText),ne=Re(),re=ny(ne,r);function pe(it){e.openOnClear&&(te.value=!0),w.value=""}function Ee(){K.value||(te.value=!0)}function me(it){K.value||(o.value&&(it.preventDefault(),it.stopPropagation()),te.value=!te.value)}function fe(it){it.key!==" "&&jc(it)&&r.value?.focus()}function le(it){if(V.isReadonly.value)return;const _e=r.value?.selectionStart,mt=k.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(it.key)&&it.preventDefault(),["Enter","ArrowDown"].includes(it.key)&&(te.value=!0),["Escape"].includes(it.key)&&(te.value=!1),Y.value&&["Enter","Tab"].includes(it.key)&&!k.value.some(H=>{let{value:X}=H;return X===R.value[0].value})&&Fe(R.value[0]),it.key==="ArrowDown"&&Y.value&&ne.value?.focus("next"),["Backspace","Delete"].includes(it.key)){if(!e.multiple&&q.value&&k.value.length>0&&!w.value)return Fe(k.value[0],!1);if(~d.value){it.preventDefault();const H=d.value;Fe(k.value[d.value],!1),d.value=H>=mt-1?mt-2:H}else it.key==="Backspace"&&!w.value&&(d.value=mt-1);return}if(e.multiple)if(it.key==="ArrowLeft"){if(d.value<0&&_e&&_e>0)return;const H=d.value>-1?d.value-1:mt-1;if(k.value[H])d.value=H;else{const X=w.value?.length??null;d.value=-1,r.value?.setSelectionRange(X,X)}}else if(it.key==="ArrowRight"){if(d.value<0)return;const H=d.value+1;k.value[H]?d.value=H:(d.value=-1,r.value?.setSelectionRange(0,0))}else~d.value&&jc(it)&&(d.value=-1)}function Te(it){if(zc(r.value,":autofill")||zc(r.value,":-webkit-autofill")){const _e=m.value.find(mt=>mt.title===it.target.value);_e&&Fe(_e)}}function ue(){e.eager&&f.value?.calculateVisibleItems()}function De(){o.value&&(i.value=!0,r.value?.focus())}function Me(it){o.value=!0,setTimeout(()=>{l.value=!0})}function Oe(it){l.value=!1}function B(it){(it==null||it===""&&!e.multiple&&!q.value)&&(k.value=[])}const Ae=gt(!1);function Fe(it){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!it||it.props.disabled))if(e.multiple){const mt=k.value.findIndex(X=>(e.valueComparator||vr)(X.value,it.value)),H=_e??!~mt;if(~mt){const X=H?[...k.value,it]:[...k.value];X.splice(mt,1),k.value=X}else H&&(k.value=[...k.value,it]);e.clearOnSelect&&(w.value="")}else{const mt=_e!==!1;k.value=mt?[it]:[],w.value=mt&&!q.value?it.title:"",Qt(()=>{te.value=!1,i.value=!0})}}return _t(o,(it,_e)=>{it!==_e&&(it?(Ae.value=!0,w.value=e.multiple||q.value?"":String(k.value.at(-1)?.props.title??""),i.value=!0,Qt(()=>Ae.value=!1)):(!e.multiple&&w.value==null&&(k.value=[]),te.value=!1,(e.multiple||q.value)&&(w.value=""),d.value=-1))}),_t(w,it=>{!o.value||Ae.value||(it&&(te.value=!0),i.value=!it)}),_t(te,()=>{if(!e.hideSelected&&te.value&&k.value.length){const it=R.value.findIndex(_e=>k.value.some(mt=>_e.value===mt.value));On&&window.requestAnimationFrame(()=>{it>=0&&f.value?.scrollToIndex(it)})}}),_t(()=>e.items,(it,_e)=>{te.value||o.value&&!_e.length&&it.length&&(te.value=!0)}),ut(()=>{const it=!!(!e.hideNoData||R.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),_e=k.value.length>0,mt=Fs.filterProps(e);return h(Fs,tt({ref:r},mt,{modelValue:w.value,"onUpdate:modelValue":[H=>w.value=H,B],focused:o.value,"onUpdate:focused":H=>o.value=H,validationValue:k.externalValue,counterValue:T.value,dirty:_e,onChange:Te,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":te.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!q.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:V.isReadonly.value,placeholder:_e?void 0:e.placeholder,"onClick:clear":pe,"onMousedown:control":Ee,onKeydown:le}),{...n,default:()=>x(ft,null,[h(pd,tt({ref:u,modelValue:te.value,"onUpdate:modelValue":H=>te.value=H,activator:"parent",contentClass:"v-autocomplete__content",disabled:K.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ue,onAfterLeave:De},e.menuProps),{default:()=>[it&&h(Jh,tt({ref:ne,selected:z.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:H=>H.preventDefault(),onKeydown:fe,onFocusin:Me,onFocusout:Oe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},re,e.listProps),{default:()=>[n["prepend-item"]?.(),!R.value.length&&!e.hideNoData&&(n["no-data"]?.()??h($s,{key:"no-data",title:a(e.noDataText)},null)),h(tv,{ref:f,renderless:!0,items:R.value,itemKey:"value"},{default:H=>{let{item:X,index:F,itemRef:Ue}=H;const $e=tt(X.props,{ref:Ue,key:X.value,active:Y.value&&F===0?!0:void 0,onClick:()=>Fe(X,null)});return n.item?.({item:X,index:F,props:$e})??h($s,tt($e,{role:"option"}),{prepend:He=>{let{isSelected:ot}=He;return x(ft,null,[e.multiple&&!e.hideSelected?h(Ms,{key:X.value,modelValue:ot,ripple:!1,tabindex:"-1"},null):void 0,X.props.prependAvatar&&h(zo,{image:X.props.prependAvatar},null),X.props.prependIcon&&h(In,{icon:X.props.prependIcon},null)])},title:()=>i.value?X.title:gx("v-autocomplete",X.title,I(X)?.title)})}}),n["append-item"]?.()]})]}),k.value.map((H,X)=>{function F(ot){ot.stopPropagation(),ot.preventDefault(),Fe(H,!1)}const Ue={"onClick:close":F,onKeydown(ot){ot.key!=="Enter"&&ot.key!==" "||(ot.preventDefault(),ot.stopPropagation(),F(ot))},onMousedown(ot){ot.preventDefault(),ot.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},$e=W.value?!!n.chip:!!n.selection,He=$e?wh(W.value?n.chip({item:H,index:X,props:Ue}):n.selection({item:H,index:X})):void 0;if(!($e&&!He))return x("div",{key:H.value,class:Ye(["v-autocomplete__selection",X===d.value&&["v-autocomplete__selection--selected",b.value]]),style:vt(X===d.value?C.value:{})},[W.value?n.chip?h(rn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:H.title}}},{default:()=>[He]}):h(vd,tt({key:"chip",closable:e.closableChips,size:"small",text:H.title,disabled:H.props.disabled},Ue),null):He??x("span",{class:"v-autocomplete__selection-text"},[H.title,e.multiple&&X<k.value.length-1&&x("span",{class:"v-autocomplete__selection-comma"},[Ke(",")])])])})]),"append-inner":function(){for(var H=arguments.length,X=new Array(H),F=0;F<H;F++)X[F]=arguments[F];return x(ft,null,[n["append-inner"]?.(...X),e.menuIcon?h(In,{class:"v-autocomplete__menu-icon",color:r.value?.fieldIconColor,icon:e.menuIcon,onMousedown:me,onClick:$1,"aria-label":a(J.value),title:a(J.value),tabindex:"-1"},null):void 0])}})}),Oo({isFocused:o,isPristine:i,menu:te,search:w,filteredItems:M,select:Fe},r)}}),e3=We({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ut,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Mt(),...As({location:"top end"}),...da(),...nn(),...bn(),...Si({transition:"scale-rotate-transition"})},"VBadge"),t3=at()({name:"VBadge",inheritAttrs:!1,props:e3(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:a}=jn(()=>e.color),{roundedClasses:r}=ka(e),{t:o}=ba(),{textColorClasses:i,textColorStyles:l}=Er(()=>e.textColor),{themeClasses:u}=N_(),{locationStyles:f}=Qu(e,!0,d=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(d)?Number(e.offsetY??0):["left","right"].includes(d)?Number(e.offsetX??0):0));return ut(()=>{const d=Number(e.content),m=!e.max||isNaN(d)?e.content:d<=Number(e.max)?d:`${e.max}+`,[p,y]=i_(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return h(e.tag,tt({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},y,{style:e.style}),{default:()=>[x("div",{class:"v-badge__wrapper"},[t.slots.default?.(),h(Fr,{transition:e.transition},{default:()=>[Sn(x("span",tt({class:["v-badge__badge",u.value,n.value,r.value,i.value],style:[a.value,l.value,e.inline?{}:f.value],"aria-atomic":"true","aria-label":o(e.label,d),"aria-live":"polite",role:"status"},p),[e.dot?void 0:t.slots.badge?t.slots.badge?.():e.icon?h(In,{icon:e.icon},null):m]),[[Ca,e.modelValue]])]})])]})}),{}}}),n3=We({color:String,density:String,...Mt()},"VBannerActions"),yx=at()({name:"VBannerActions",props:n3(),setup(e,t){let{slots:n}=t;return ya({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),ut(()=>x("div",{class:Ye(["v-banner-actions",e.class]),style:vt(e.style)},[n.default?.()])),{}}}),bx=Wi("v-banner-text"),a3=We({avatar:String,bgColor:String,color:String,icon:Ut,lines:String,stacked:Boolean,sticky:Boolean,text:String,...mo(),...Mt(),...sr(),...Wa(),...Nu({mobile:null}),...er(),...As(),...fd(),...da(),...nn(),...bn()},"VBanner"),r3=at()({name:"VBanner",props:a3(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=jn(()=>e.bgColor),{borderClasses:o}=To(e),{densityClasses:i}=Lr(e),{displayClasses:l,mobile:u}=Uo(e),{dimensionStyles:f}=za(e),{elevationClasses:d}=yr(e),{locationStyles:m}=Qu(e),{positionClasses:p}=md(e),{roundedClasses:y}=ka(e),{themeClasses:b}=Nn(e),C=ke(()=>e.color),w=ke(()=>e.density);ya({VBannerActions:{color:C,density:w}}),ut(()=>{const k=!!(e.text||n.text),T=!!(e.avatar||e.icon),V=!!(T||n.prepend);return h(e.tag,{class:Ye(["v-banner",{"v-banner--stacked":e.stacked||u.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},b.value,a.value,o.value,i.value,l.value,d.value,p.value,y.value,e.class]),style:vt([r.value,f.value,m.value,e.style]),role:"banner"},{default:()=>[V&&x("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?h(rn,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{color:C.value,density:w.value,icon:e.icon,image:e.avatar}}},n.prepend):h(zo,{key:"prepend-avatar",color:C.value,density:w.value,icon:e.icon,image:e.avatar},null)]),x("div",{class:"v-banner__content"},[k&&h(bx,{key:"text"},{default:()=>[n.text?.()??e.text]}),n.default?.()]),n.actions&&h(yx,{key:"actions"},n.actions)]})})}}),o3=We({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...mo(),...Mt(),...sr(),...er(),...da(),...$u({name:"bottom-navigation"}),...nn({tag:"header"}),...Yu({selectedClass:"v-btn--selected"}),...bn()},"VBottomNavigation"),i3=at()({name:"VBottomNavigation",props:o3(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=N_(),{borderClasses:r}=To(e),{backgroundColorClasses:o,backgroundColorStyles:i}=jn(()=>e.bgColor),{densityClasses:l}=Lr(e),{elevationClasses:u}=yr(e),{roundedClasses:f}=ka(e),{ssrBootStyles:d}=zu(),m=N(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),p=Lt(e,"active",e.active),{layoutItemStyles:y}=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:ke(()=>"bottom"),layoutSize:ke(()=>p.value?m.value:0),elementSize:m,active:p,absolute:ke(()=>e.absolute)});return Ml(e,Ig),ya({VBtn:{baseColor:ke(()=>e.baseColor),color:ke(()=>e.color),density:ke(()=>e.density),stacked:ke(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ut(()=>h(e.tag,{class:Ye(["v-bottom-navigation",{"v-bottom-navigation--active":p.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},a.value,o.value,r.value,l.value,u.value,f.value,e.class]),style:vt([i.value,y.value,{height:It(m.value)},d.value,e.style])},{default:()=>[n.default&&x("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),wx=We({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...nm({origin:"center center",scrollStrategy:"block",transition:{component:zh},zIndex:2400})},"VDialog"),iy=at()({name:"VDialog",props:wx(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Lt(e,"modelValue"),{scopeId:o}=Xu(),i=Re();function l(d){const m=d.relatedTarget,p=d.target;if(m!==p&&i.value?.contentEl&&i.value?.globalTop&&![document,i.value.contentEl].includes(p)&&!i.value.contentEl.contains(p)){const y=kf(i.value.contentEl);if(!y.length)return;const b=y[0],C=y[y.length-1];m===b?C.focus():b.focus()}}hr(()=>{document.removeEventListener("focusin",l)}),On&&_t(()=>r.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0});function u(){n("afterEnter"),(e.scrim||e.retainFocus)&&i.value?.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function f(){n("afterLeave")}return _t(r,async d=>{d||(await Qt(),i.value.activatorEl?.focus({preventScroll:!0}))}),ut(()=>{const d=Qi.filterProps(e),m=tt({"aria-haspopup":"dialog"},e.activatorProps),p=tt({tabindex:-1},e.contentProps);return h(Qi,tt({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,"aria-modal":"true",activatorProps:m,contentProps:p,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:u,onAfterLeave:f},o),{activator:a.activator,default:function(){for(var y=arguments.length,b=new Array(y),C=0;C<y;C++)b[C]=arguments[C];return h(rn,{root:"VDialog"},{default:()=>[a.default?.(...b)]})}})}),Oo({},i)}}),s3=We({inset:Boolean,...wx({transition:"bottom-sheet-transition"})},"VBottomSheet"),l3=at()({name:"VBottomSheet",props:s3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue");return ut(()=>{const r=iy.filterProps(e);return h(iy,tt(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:a.value,"onUpdate:modelValue":o=>a.value=o,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),u3=We({divider:[Number,String],...Mt()},"VBreadcrumbsDivider"),kx=at()({name:"VBreadcrumbsDivider",props:u3(),setup(e,t){let{slots:n}=t;return ut(()=>x("li",{"aria-hidden":"true",class:Ye(["v-breadcrumbs-divider",e.class]),style:vt(e.style)},[n?.default?.()??e.divider])),{}}}),c3=We({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Mt(),...Yf(),...nn({tag:"li"})},"VBreadcrumbsItem"),Sx=at()({name:"VBreadcrumbsItem",props:c3(),setup(e,t){let{slots:n,attrs:a}=t;const r=jf(e,a),o=N(()=>e.active||r.isActive?.value),{textColorClasses:i,textColorStyles:l}=Er(()=>o.value?e.activeColor:e.color);return ut(()=>h(e.tag,{class:Ye(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":o.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:o.value&&e.activeClass},i.value,e.class]),style:vt([l.value,e.style]),"aria-current":o.value?"page":void 0},{default:()=>[r.isLink.value?x("a",tt({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[n.default?.()??e.title]):n.default?.()??e.title]})),{}}}),d3=We({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ut,items:{type:Array,default:()=>[]},...Mt(),...sr(),...da(),...nn({tag:"ul"})},"VBreadcrumbs"),f3=at()({name:"VBreadcrumbs",props:d3(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=jn(()=>e.bgColor),{densityClasses:o}=Lr(e),{roundedClasses:i}=ka(e);ya({VBreadcrumbsDivider:{divider:ke(()=>e.divider)},VBreadcrumbsItem:{activeClass:ke(()=>e.activeClass),activeColor:ke(()=>e.activeColor),color:ke(()=>e.color),disabled:ke(()=>e.disabled)}});const l=N(()=>e.items.map(u=>typeof u=="string"?{item:{title:u},raw:u}:{item:u,raw:u}));return ut(()=>{const u=!!(n.prepend||e.icon);return h(e.tag,{class:Ye(["v-breadcrumbs",a.value,o.value,i.value,e.class]),style:vt([r.value,e.style])},{default:()=>[u&&x("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?h(rn,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):h(In,{key:"prepend-icon",start:!0,icon:e.icon},null)]),l.value.map((f,d,m)=>{let{item:p,raw:y}=f;return x(ft,null,[n.item?.({item:p,index:d})??h(Sx,tt({key:d,disabled:d>=m.length-1},typeof p=="string"?{title:p}:p),{default:n.title?()=>n.title?.({item:p,index:d}):void 0}),d<m.length-1&&h(kx,null,{default:n.divider?()=>n.divider?.({item:y,index:d}):void 0})])}),n.default?.()]})}),{}}}),Cx=at()({name:"VCardActions",props:Mt(),setup(e,t){let{slots:n}=t;return ya({VBtn:{slim:!0,variant:"text"}}),ut(()=>x("div",{class:Ye(["v-card-actions",e.class]),style:vt(e.style)},[n.default?.()])),{}}}),m3=We({opacity:[Number,String],...Mt(),...nn()},"VCardSubtitle"),xx=at()({name:"VCardSubtitle",props:m3(),setup(e,t){let{slots:n}=t;return ut(()=>h(e.tag,{class:Ye(["v-card-subtitle",e.class]),style:vt([{"--v-card-subtitle-opacity":e.opacity},e.style])},n)),{}}}),Px=Wi("v-card-title"),h3=We({appendAvatar:String,appendIcon:Ut,prependAvatar:String,prependIcon:Ut,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Mt(),...sr()},"VCardItem"),Ex=at()({name:"VCardItem",props:h3(),setup(e,t){let{slots:n}=t;return ut(()=>{const a=!!(e.prependAvatar||e.prependIcon),r=!!(a||n.prepend),o=!!(e.appendAvatar||e.appendIcon),i=!!(o||n.append),l=!!(e.title!=null||n.title),u=!!(e.subtitle!=null||n.subtitle);return x("div",{class:Ye(["v-card-item",e.class]),style:vt(e.style)},[r&&x("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?h(rn,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):x(ft,null,[e.prependAvatar&&h(zo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(In,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),x("div",{class:"v-card-item__content"},[l&&h(Px,{key:"title"},{default:()=>[n.title?.()??ge(e.title)]}),u&&h(xx,{key:"subtitle"},{default:()=>[n.subtitle?.()??ge(e.subtitle)]}),n.default?.()]),i&&x("div",{key:"append",class:"v-card-item__append"},[n.append?h(rn,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):x(ft,null,[e.appendIcon&&h(In,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(zo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),v3=We({opacity:[Number,String],...Mt(),...nn()},"VCardText"),Dx=at()({name:"VCardText",props:v3(),setup(e,t){let{slots:n}=t;return ut(()=>h(e.tag,{class:Ye(["v-card-text",e.class]),style:vt([{"--v-card-text-opacity":e.opacity},e.style])},n)),{}}}),p3=We({appendAvatar:String,appendIcon:Ut,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ut,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...mo(),...Mt(),...sr(),...Wa(),...er(),...Kh(),...As(),...fd(),...da(),...Yf(),...nn(),...bn(),...Wo({variant:"elevated"})},"VCard"),_3=at()({name:"VCard",directives:{vRipple:qr},props:p3(),setup(e,t){let{attrs:n,slots:a}=t;const{themeClasses:r}=Nn(e),{borderClasses:o}=To(e),{colorClasses:i,colorStyles:l,variantClasses:u}=ju(e),{densityClasses:f}=Lr(e),{dimensionStyles:d}=za(e),{elevationClasses:m}=yr(e),{loaderClasses:p}=Wf(e),{locationStyles:y}=Qu(e),{positionClasses:b}=md(e),{roundedClasses:C}=ka(e),w=jf(e,n);return ut(()=>{const k=e.link!==!1&&w.isLink.value,T=!e.disabled&&e.link!==!1&&(e.link||w.isClickable.value),V=k?"a":e.tag,M=!!(a.title||e.title!=null),I=!!(a.subtitle||e.subtitle!=null),R=M||I,W=!!(a.append||e.appendAvatar||e.appendIcon),q=!!(a.prepend||e.prependAvatar||e.prependIcon),z=!!(a.image||e.image),Y=R||q||W,K=!!(a.text||e.text!=null);return Sn(h(V,tt({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":T},r.value,o.value,i.value,f.value,m.value,p.value,b.value,C.value,u.value,e.class],style:[l.value,d.value,y.value,e.style],onClick:T&&w.navigate,tabindex:e.disabled?-1:void 0},w.linkProps),{default:()=>[z&&x("div",{key:"image",class:"v-card__image"},[a.image?h(rn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):h(Is,{key:"image-img",cover:!0,src:e.image},null)]),h(zf,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),Y&&h(Ex,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),K&&h(Dx,{key:"text"},{default:()=>[a.text?.()??e.text]}),a.default?.(),a.actions&&h(Cx,null,{default:a.actions}),Al(T,"v-card")]}),[[qr,T&&e.ripple]])}),{}}}),g3=e=>{const{touchstartX:t,touchendX:n,touchstartY:a,touchendY:r}=e,o=.5,i=16;e.offsetX=n-t,e.offsetY=r-a,Math.abs(e.offsetY)<o*Math.abs(e.offsetX)&&(e.left&&n<t-i&&e.left(e),e.right&&n>t+i&&e.right(e)),Math.abs(e.offsetX)<o*Math.abs(e.offsetY)&&(e.up&&r<a-i&&e.up(e),e.down&&r>a+i&&e.down(e))};function y3(e,t){const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,t.start?.({originalEvent:e,...t})}function b3(e,t){const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,t.end?.({originalEvent:e,...t}),g3(t)}function w3(e,t){const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,t.move?.({originalEvent:e,...t})}function k3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>y3(n,t),touchend:n=>b3(n,t),touchmove:n=>w3(n,t)}}function S3(e,t){const n=t.value,a=n?.parent?e.parentElement:e,r=n?.options??{passive:!0},o=t.instance?.$.uid;if(!a||!o)return;const i=k3(t.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[o]=i,P1(i).forEach(l=>{a.addEventListener(l,i[l],r)})}function C3(e,t){const n=t.value?.parent?e.parentElement:e,a=t.instance?.$.uid;if(!n?._touchHandlers||!a)return;const r=n._touchHandlers[a];P1(r).forEach(o=>{n.removeEventListener(o,r[o])}),delete n._touchHandlers[a]}const nv={mounted:S3,unmounted:C3},Tx=Symbol.for("vuetify:v-window"),Vx=Symbol.for("vuetify:v-window-group"),av=We({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Mt(),...nn(),...bn()},"VWindow"),Ju=at()({name:"VWindow",directives:{vTouch:nv},props:av(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{isRtl:r}=Fa(),{t:o}=ba(),i=Ml(e,Vx),l=Re(),u=N(()=>r.value?!e.reverse:e.reverse),f=gt(!1),d=N(()=>{const M=e.direction==="vertical"?"y":"x",R=(u.value?!f.value:f.value)?"-reverse":"";return`v-window-${M}${R}-transition`}),m=gt(0),p=Re(void 0),y=N(()=>i.items.value.findIndex(M=>i.selected.value.includes(M.id)));_t(y,(M,I)=>{const R=i.items.value.length,W=R-1;R<=2?f.value=M<I:M===W&&I===0?f.value=!0:M===0&&I===W?f.value=!1:f.value=M<I}),ia(Tx,{transition:d,isReversed:f,transitionCount:m,transitionHeight:p,rootRef:l});const b=ke(()=>e.continuous||y.value!==0),C=ke(()=>e.continuous||y.value!==i.items.value.length-1);function w(){b.value&&i.prev()}function k(){C.value&&i.next()}const T=N(()=>{const M=[],I={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${u.value?"right":"left"}`,onClick:i.prev,"aria-label":o("$vuetify.carousel.prev")};M.push(b.value?n.prev?n.prev({props:I}):h(wn,I,null):x("div",null,null));const R={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${u.value?"left":"right"}`,onClick:i.next,"aria-label":o("$vuetify.carousel.next")};return M.push(C.value?n.next?n.next({props:R}):h(wn,R,null):x("div",null,null)),M}),V=N(()=>e.touch===!1?e.touch:{...{left:()=>{u.value?w():k()},right:()=>{u.value?k():w()},start:I=>{let{originalEvent:R}=I;R.stopPropagation()}},...e.touch===!0?{}:e.touch});return ut(()=>Sn(h(e.tag,{ref:l,class:Ye(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class]),style:vt(e.style)},{default:()=>[x("div",{class:"v-window__container",style:{height:p.value}},[n.default?.({group:i}),e.showArrows!==!1&&x("div",{class:"v-window__controls"},[T.value])]),n.additional?.({group:i})]}),[[nv,V.value]])),{group:i}}}),x3=We({color:String,cycle:Boolean,delimiterIcon:{type:Ut,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...av({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),P3=at()({name:"VCarousel",props:x3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{t:r}=ba(),o=Re();let i=-1;_t(a,u),_t(()=>e.interval,u),_t(()=>e.cycle,f=>{f?u():window.clearTimeout(i)}),yn(l);function l(){!e.cycle||!o.value||(i=window.setTimeout(o.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function u(){window.clearTimeout(i),window.requestAnimationFrame(l)}return ut(()=>{const f=Ju.filterProps(e);return h(Ju,tt({ref:o},f,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:It(e.height)},e.style]}),{default:n.default,additional:d=>{let{group:m}=d;return x(ft,null,[!e.hideDelimiters&&x("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[m.items.value.length>0&&h(rn,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[m.items.value.map((p,y)=>{const b={id:`carousel-item-${p.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",y+1,m.items.value.length),class:["v-carousel__controls__item",m.isSelected(p.id)&&"v-btn--active"],onClick:()=>m.select(p.id,!0)};return n.item?n.item({props:b,item:p}):h(wn,tt(p,b),null)})]})]),e.progress&&h(Yh,{absolute:!0,class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(m.getItemIndex(a.value)+1)/m.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),rv=We({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Mt(),...Ku(),...Qg()},"VWindowItem"),Zu=at()({name:"VWindowItem",directives:{vTouch:nv},props:rv(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=un(Tx),r=Gu(e,Vx),{isBooted:o}=zu();if(!a||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=gt(!1),l=N(()=>o.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function u(){!i.value||!a||(i.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function f(){i.value||!a||(i.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=It(a.rootRef.value?.clientHeight)),a.transitionCount.value+=1)}function d(){u()}function m(b){i.value&&Qt(()=>{!l.value||!i.value||!a||(a.transitionHeight.value=It(b.clientHeight))})}const p=N(()=>{const b=a.isReversed.value?e.reverseTransition:e.transition;return l.value?{name:typeof b!="string"?a.transition.value:b,onBeforeEnter:f,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onAfterLeave:u,onLeaveCancelled:d,onEnter:m}:!1}),{hasContent:y}=Xg(e,r.isSelected);return ut(()=>h(Fr,{transition:p.value,disabled:!o.value},{default:()=>[Sn(x("div",{class:Ye(["v-window-item",r.selectedClass.value,e.class]),style:vt(e.style)},[y.value&&n.default?.()]),[[Ca,r.isSelected.value]])]})),{groupItem:r}}}),E3=We({...cC(),...rv()},"VCarouselItem"),D3=at()({name:"VCarouselItem",inheritAttrs:!1,props:E3(),setup(e,t){let{slots:n,attrs:a}=t;ut(()=>{const r=Is.filterProps(e),o=Zu.filterProps(e);return h(Zu,tt({class:["v-carousel-item",e.class]},o),{default:()=>[h(Is,tt(a,r),n)]})})}}),T3=Wi("v-code","code"),V3=We({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Mt()},"VColorPickerCanvas"),O3=Po({name:"VColorPickerCanvas",props:V3(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const a=gt(!1),r=Re(),o=gt(parseFloat(e.width)),i=gt(parseFloat(e.height)),l=Re({x:0,y:0}),u=N({get:()=>l.value,set(w){if(!r.value)return;const{x:k,y:T}=w;l.value=w,n("update:color",{h:e.color?.h??0,s:Xn(k,0,o.value)/o.value,v:1-Xn(T,0,i.value)/i.value,a:e.color?.a??1})}}),f=N(()=>{const{x:w,y:k}=u.value,T=parseInt(e.dotSize,10)/2;return{width:It(e.dotSize),height:It(e.dotSize),transform:`translate(${It(w-T)}, ${It(k-T)})`}}),{resizeRef:d}=pi(w=>{if(!d.el?.offsetParent)return;const{width:k,height:T}=w[0].contentRect;o.value=k,i.value=T});function m(w,k,T){const{left:V,top:M,width:I,height:R}=T;u.value={x:Xn(w-V,0,I),y:Xn(k-M,0,R)}}function p(w){w.type==="mousedown"&&w.preventDefault(),!e.disabled&&(y(w),window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),window.addEventListener("touchmove",y),window.addEventListener("touchend",b))}function y(w){if(e.disabled||!r.value)return;a.value=!0;const k=aA(w);m(k.clientX,k.clientY,r.value.getBoundingClientRect())}function b(){window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",b)}function C(){if(!r.value)return;const w=r.value,k=w.getContext("2d");if(!k)return;const T=k.createLinearGradient(0,0,w.width,0);T.addColorStop(0,"hsla(0, 0%, 100%, 1)"),T.addColorStop(1,`hsla(${e.color?.h??0}, 100%, 50%, 1)`),k.fillStyle=T,k.fillRect(0,0,w.width,w.height);const V=k.createLinearGradient(0,0,0,w.height);V.addColorStop(0,"hsla(0, 0%, 0%, 0)"),V.addColorStop(1,"hsla(0, 0%, 0%, 1)"),k.fillStyle=V,k.fillRect(0,0,w.width,w.height)}return _t(()=>e.color?.h,C,{immediate:!0}),_t(()=>[o.value,i.value],(w,k)=>{C(),l.value={x:u.value.x*w[0]/k[0],y:u.value.y*w[1]/k[1]}},{flush:"post"}),_t(()=>e.color,()=>{if(a.value){a.value=!1;return}l.value=e.color?{x:e.color.s*o.value,y:(1-e.color.v)*i.value}:{x:0,y:0}},{deep:!0,immediate:!0}),yn(()=>C()),ut(()=>x("div",{ref:d,class:Ye(["v-color-picker-canvas",e.class]),style:vt(e.style),onMousedown:p,onTouchstartPassive:p},[x("canvas",{ref:r,width:o.value,height:i.value},null),e.color&&x("div",{class:Ye(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:vt(f.value)},null)])),{}}});function I3(e,t){if(t){const{a:n,...a}=e;return a}return e}function A3(e,t){if(t==null||typeof t=="string"){const n=e.a!==1;if(t?.startsWith("rgb(")){const{r,g:o,b:i,a:l}=Ui(e);return`rgb(${r} ${o} ${i}`+(n?` / ${l})`:")")}else if(t?.startsWith("hsl(")){const{h:r,s:o,l:i,a:l}=g_(e);return`hsl(${r} ${Math.round(o*100)} ${Math.round(i*100)}`+(n?` / ${l})`:")")}const a=ik(e);return e.a===1?a.slice(0,7):a}if(typeof t=="object"){let n;return Vu(t,["r","g","b"])?n=Ui(e):Vu(t,["h","s","l"])?n=g_(e):Vu(t,["h","s","v"])&&(n=e),I3(n,!Vu(t,["a"])&&e.a===1)}return e}const _d={h:0,s:0,v:0,a:1},sy={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Ui,from:Sf},M3={...sy,inputs:sy.inputs?.slice(0,3)},ly={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:g_,from:y_},N3={...ly,inputs:ly.inputs.slice(0,3)},Ox={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:ik,from:TA},B3={...Ox,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},ec={rgb:M3,rgba:sy,hsl:N3,hsla:ly,hex:B3,hexa:Ox},$3=e=>{let{label:t,...n}=e;return x("div",{class:"v-color-picker-edit__input"},[x("input",Da(ir(n)),null),x("span",null,[t])])},R3=We({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(ec).includes(e)},modes:{type:Array,default:()=>Object.keys(ec),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(ec).includes(t))},...Mt()},"VColorPickerEdit"),F3=Po({name:"VColorPickerEdit",props:R3(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const a=N(()=>e.modes.map(o=>({...ec[o],name:o}))),r=N(()=>{const o=a.value.find(l=>l.name===e.mode);if(!o)return[];const i=e.color?o.to(e.color):null;return o.inputs?.map(l=>{let{getValue:u,getColor:f,...d}=l;return{...o.inputProps,...d,disabled:e.disabled,value:i&&u(i),onChange:m=>{const p=m.target;p&&n("update:color",o.from(f(i??o.to(_d),p.value)))}}})});return ut(()=>x("div",{class:Ye(["v-color-picker-edit",e.class]),style:vt(e.style)},[r.value?.map(o=>h($3,o,null)),a.value.length>1&&h(wn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=a.value.findIndex(i=>i.name===e.mode);n("update:mode",a.value[(o+1)%a.value.length].name)}},null)])),{}}}),uy=Symbol.for("vuetify:v-slider");function cy(e,t,n){const a=n==="vertical",r=t.getBoundingClientRect(),o="touches"in e?e.touches[0]:e;return a?o.clientY-(r.top+r.height/2):o.clientX-(r.left+r.width/2)}function L3(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Ix=We({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...da(),...er({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Ax=e=>{const t=N(()=>parseFloat(e.min)),n=N(()=>parseFloat(e.max)),a=N(()=>Number(e.step)>0?parseFloat(e.step):0),r=N(()=>Math.max(D1(a.value),D1(t.value)));function o(i){if(i=parseFloat(i),a.value<=0)return i;const l=Xn(i,t.value,n.value),u=t.value%a.value;let f=Math.round((l-u)/a.value)*a.value+u;return l>f&&f+a.value>n.value&&(f=n.value),parseFloat(Math.min(f,n.value).toFixed(r.value))}return{min:t,max:n,step:a,decimals:r,roundValue:o}},Mx=e=>{let{props:t,steps:n,onSliderStart:a,onSliderMove:r,onSliderEnd:o,getActiveThumb:i}=e;const{isRtl:l}=Fa(),u=ke(()=>t.reverse),f=N(()=>t.direction==="vertical"),d=N(()=>f.value!==u.value),{min:m,max:p,step:y,decimals:b,roundValue:C}=n,w=N(()=>parseInt(t.thumbSize,10)),k=N(()=>parseInt(t.tickSize,10)),T=N(()=>parseInt(t.trackSize,10)),V=N(()=>(p.value-m.value)/y.value),M=ke(()=>t.disabled),I=N(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),R=N(()=>t.error||t.disabled?void 0:t.trackColor??t.color),W=N(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),q=gt(!1),z=gt(0),Y=Re(),K=Re();function ae(Oe){const B=Y.value?.$el;if(!B)return;const Ae=t.direction==="vertical",Fe=Ae?"top":"left",it=Ae?"height":"width",_e=Ae?"clientY":"clientX",{[Fe]:mt,[it]:H}=B.getBoundingClientRect(),X=L3(Oe,_e);let F=Xn((X-mt-z.value)/H)||0;return(Ae?d.value:d.value!==l.value)&&(F=1-F),C(m.value+F*(p.value-m.value))}const te=Oe=>{const B=ae(Oe);B!=null&&o({value:B}),q.value=!1,z.value=0},J=Oe=>{const B=ae(Oe);K.value=i(Oe),K.value&&(q.value=!0,K.value.contains(Oe.target)?z.value=cy(Oe,K.value,t.direction):(z.value=0,B!=null&&r({value:B})),B!=null&&a({value:B}),Qt(()=>K.value?.focus()))},ne={passive:!0,capture:!0};function re(Oe){const B=ae(Oe);B!=null&&r({value:B})}function pe(Oe){Oe.stopPropagation(),Oe.preventDefault(),te(Oe),window.removeEventListener("mousemove",re,ne),window.removeEventListener("mouseup",pe)}function Ee(Oe){te(Oe),window.removeEventListener("touchmove",re,ne),Oe.target?.removeEventListener("touchend",Ee)}function me(Oe){J(Oe),window.addEventListener("touchmove",re,ne),Oe.target?.addEventListener("touchend",Ee,{passive:!1})}function fe(Oe){Oe.button===0&&(Oe.preventDefault(),J(Oe),window.addEventListener("mousemove",re,ne),window.addEventListener("mouseup",pe,{passive:!1}))}const le=Oe=>{const B=(Oe-m.value)/(p.value-m.value)*100;return Xn(isNaN(B)?0:B,0,100)},Te=ke(()=>t.showTicks),ue=N(()=>Te.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(Oe=>({value:Oe,position:le(Oe),label:Oe.toString()})):Object.keys(t.ticks).map(Oe=>({value:parseFloat(Oe),position:le(parseFloat(Oe)),label:t.ticks[Oe]})):V.value!==1/0?Li(V.value+1).map(Oe=>{const B=m.value+Oe*y.value;return{value:B,position:le(B)}}):[]:[]),De=N(()=>ue.value.some(Oe=>{let{label:B}=Oe;return!!B})),Me={activeThumbRef:K,color:ke(()=>t.color),decimals:b,disabled:M,direction:ke(()=>t.direction),elevation:ke(()=>t.elevation),hasLabels:De,isReversed:u,indexFromEnd:d,min:m,max:p,mousePressed:q,numTicks:V,onSliderMousedown:fe,onSliderTouchstart:me,parsedTicks:ue,parseMouseMove:ae,position:le,readonly:ke(()=>t.readonly),rounded:ke(()=>t.rounded),roundValue:C,showTicks:Te,startOffset:z,step:y,thumbSize:w,thumbColor:I,thumbLabel:ke(()=>t.thumbLabel),ticks:ke(()=>t.ticks),tickSize:k,trackColor:R,trackContainerRef:Y,trackFillColor:W,trackSize:T,vertical:f};return ia(uy,Me),Me},q3=We({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Mt()},"VSliderThumb"),dy=at()({name:"VSliderThumb",directives:{vRipple:qr},props:q3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=un(uy),{isRtl:o,rtlClasses:i}=Fa();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:l,max:u,thumbColor:f,step:d,disabled:m,thumbSize:p,thumbLabel:y,direction:b,isReversed:C,vertical:w,readonly:k,elevation:T,mousePressed:V,decimals:M,indexFromEnd:I}=r,R=N(()=>m.value?void 0:T.value),{elevationClasses:W}=yr(R),{textColorClasses:q,textColorStyles:z}=Er(f),{pageup:Y,pagedown:K,end:ae,home:te,left:J,right:ne,down:re,up:pe}=o_,Ee=[Y,K,ae,te,J,ne,re,pe],me=N(()=>d.value?[1,2,3]:[1,5,10]);function fe(Te,ue){if(!Ee.includes(Te.key))return;Te.preventDefault();const De=d.value||.1,Me=(u.value-l.value)/De;if([J,ne,re,pe].includes(Te.key)){const B=(w.value?[o.value?J:ne,C.value?re:pe]:I.value!==o.value?[J,pe]:[ne,pe]).includes(Te.key)?1:-1,Ae=Te.shiftKey?2:Te.ctrlKey?1:0;B===-1&&ue===u.value&&!Ae&&!Number.isInteger(Me)?ue=ue-Me%1*De:ue=ue+B*De*me.value[Ae]}else if(Te.key===te)ue=l.value;else if(Te.key===ae)ue=u.value;else{const Oe=Te.key===K?1:-1;ue=ue-Oe*De*(Me>100?Me/10:10)}return Math.max(e.min,Math.min(e.max,ue))}function le(Te){const ue=fe(Te,e.modelValue);ue!=null&&a("update:modelValue",ue)}return ut(()=>{const Te=It(I.value?100-e.position:e.position,"%");return x("div",{class:Ye(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&V.value},e.class,i.value]),style:vt([{"--v-slider-thumb-position":Te,"--v-slider-thumb-size":It(p.value)},e.style]),role:"slider",tabindex:m.value?-1:0,"aria-label":e.name,"aria-valuemin":l.value,"aria-valuemax":u.value,"aria-valuenow":e.modelValue,"aria-readonly":!!k.value,"aria-orientation":b.value,onKeydown:k.value?void 0:le},[x("div",{class:Ye(["v-slider-thumb__surface",q.value,W.value]),style:{...z.value}},null),Sn(x("div",{class:Ye(["v-slider-thumb__ripple",q.value]),style:vt(z.value)},null),[[qr,e.ripple,null,{circle:!0,center:!0}]]),h(xg,{origin:"bottom center"},{default:()=>[Sn(x("div",{class:"v-slider-thumb__label-container"},[x("div",{class:Ye(["v-slider-thumb__label",q.value])},[x("div",null,[n["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(d.value?M.value:1)])])]),[[Ca,y.value&&e.focused||y.value==="always"]])]})])}),{}}}),U3=We({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Mt()},"VSliderTrack"),Nx=at()({name:"VSliderTrack",props:U3(),emits:{},setup(e,t){let{slots:n}=t;const a=un(uy);if(!a)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:o,rounded:i,showTicks:l,tickSize:u,trackColor:f,trackFillColor:d,trackSize:m,vertical:p,min:y,max:b,indexFromEnd:C}=a,{roundedClasses:w}=ka(i),{backgroundColorClasses:k,backgroundColorStyles:T}=jn(d),{backgroundColorClasses:V,backgroundColorStyles:M}=jn(f),I=N(()=>`inset-${p.value?"block":"inline"}-${C.value?"end":"start"}`),R=N(()=>p.value?"height":"width"),W=N(()=>({[I.value]:"0%",[R.value]:"100%"})),q=N(()=>e.stop-e.start),z=N(()=>({[I.value]:It(e.start,"%"),[R.value]:It(q.value,"%")})),Y=N(()=>l.value?(p.value?o.value.slice().reverse():o.value).map((ae,te)=>{const J=ae.value!==y.value&&ae.value!==b.value?It(ae.position,"%"):void 0;return x("div",{key:ae.value,class:Ye(["v-slider-track__tick",{"v-slider-track__tick--filled":ae.position>=e.start&&ae.position<=e.stop,"v-slider-track__tick--first":ae.value===y.value,"v-slider-track__tick--last":ae.value===b.value}]),style:{[I.value]:J}},[(ae.label||n["tick-label"])&&x("div",{class:"v-slider-track__tick-label"},[n["tick-label"]?.({tick:ae,index:te})??ae.label])])}):[]);return ut(()=>x("div",{class:Ye(["v-slider-track",w.value,e.class]),style:vt([{"--v-slider-track-size":It(m.value),"--v-slider-tick-size":It(u.value)},e.style])},[x("div",{class:Ye(["v-slider-track__background",V.value,{"v-slider-track__background--opacity":!!r.value||!d.value}]),style:{...W.value,...M.value}},null),x("div",{class:Ye(["v-slider-track__fill",k.value]),style:{...z.value,...T.value}},null),l.value&&x("div",{class:Ye(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}])},[Y.value])])),{}}}),H3=We({...Qf(),...Ix(),...Bs(),modelValue:{type:[Number,String],default:0}},"VSlider"),fy=at()({name:"VSlider",props:H3(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Re(),{rtlClasses:o}=Fa(),i=Ax(e),l=Lt(e,"modelValue",void 0,R=>i.roundValue(R??i.min.value)),{min:u,max:f,mousePressed:d,roundValue:m,onSliderMousedown:p,onSliderTouchstart:y,trackContainerRef:b,position:C,hasLabels:w,readonly:k}=Mx({props:e,steps:i,onSliderStart:()=>{a("start",l.value)},onSliderEnd:R=>{let{value:W}=R;const q=m(W);l.value=q,a("end",q)},onSliderMove:R=>{let{value:W}=R;return l.value=m(W)},getActiveThumb:()=>r.value?.$el}),{isFocused:T,focus:V,blur:M}=Ns(e),I=N(()=>C(l.value));return ut(()=>{const R=Dr.filterProps(e),W=!!(e.label||n.label||n.prepend);return h(Dr,tt({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||w.value,"v-slider--focused":T.value,"v-slider--pressed":d.value,"v-slider--disabled":e.disabled},o.value,e.class],style:e.style},R,{focused:T.value}),{...n,prepend:W?q=>x(ft,null,[n.label?.(q)??(e.label?h(hd,{id:q.id.value,class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(q)]):void 0,default:q=>{let{id:z,messagesId:Y}=q;return x("div",{class:"v-slider__container",onMousedown:k.value?void 0:p,onTouchstartPassive:k.value?void 0:y},[x("input",{id:z.value,name:e.name||z.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:l.value},null),h(Nx,{ref:b,start:0,stop:I.value},{"tick-label":n["tick-label"]}),h(dy,{ref:r,"aria-describedby":Y.value,focused:T.value,min:u.value,max:f.value,modelValue:l.value,"onUpdate:modelValue":K=>l.value=K,position:I.value,elevation:e.elevation,onFocus:V,onBlur:M,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),W3=We({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Mt()},"VColorPickerPreview"),z3=Po({name:"VColorPickerPreview",props:W3(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const a=new AbortController;Ni(()=>a.abort());async function r(){if(!y1||e.disabled)return;const o=new window.EyeDropper;try{const i=await o.open({signal:a.signal}),l=Sf(xo(i.sRGBHex));n("update:color",{...e.color??_d,...l})}catch{}}return ut(()=>x("div",{class:Ye(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:vt(e.style)},[y1&&x("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[h(wn,{density:"comfortable",disabled:e.disabled,icon:"$eyeDropper",variant:"plain",onClick:r},null)]),x("div",{class:"v-color-picker-preview__dot"},[x("div",{style:{background:ak(e.color??_d)}},null)]),x("div",{class:"v-color-picker-preview__sliders"},[h(fy,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:e.color?.h,"onUpdate:modelValue":o=>n("update:color",{...e.color??_d,h:o}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&h(fy,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:e.color?.a??1,"onUpdate:modelValue":o=>n("update:color",{...e.color??_d,a:o}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])),{}}}),j3={red:{base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},pink:{base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},purple:{base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},deepPurple:{base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},indigo:{base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},blue:{base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},lightBlue:{base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},cyan:{base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},teal:{base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},green:{base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},lightGreen:{base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},lime:{base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},yellow:{base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},amber:{base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},orange:{base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},deepOrange:{base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},brown:{base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},blueGrey:{base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},grey:{base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},shades:{black:"#000000",white:"#ffffff",transparent:"#ffffff00"}},Y3=We({swatches:{type:Array,default:()=>K3(j3)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Mt()},"VColorPickerSwatches");function K3(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const G3=Po({name:"VColorPickerSwatches",props:Y3(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return ut(()=>x("div",{class:Ye(["v-color-picker-swatches",e.class]),style:vt([{maxHeight:It(e.maxHeight)},e.style])},[x("div",null,[e.swatches.map(a=>x("div",{class:"v-color-picker-swatches__swatch"},[a.map(r=>{const o=xo(r),i=Sf(o),l=nk(o);return x("div",{class:"v-color-picker-swatches__color",onClick:()=>i&&n("update:color",i)},[x("div",{style:{background:l}},[e.color&&vr(e.color,i)?h(In,{size:"x-small",icon:"$success",color:AA(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Q3=Wi("v-picker-title"),my=We({color:String,...mo(),...Mt(),...Wa(),...er(),...As(),...fd(),...da(),...nn(),...bn()},"VSheet"),lm=at()({name:"VSheet",props:my(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{backgroundColorClasses:r,backgroundColorStyles:o}=jn(()=>e.color),{borderClasses:i}=To(e),{dimensionStyles:l}=za(e),{elevationClasses:u}=yr(e),{locationStyles:f}=Qu(e),{positionClasses:d}=md(e),{roundedClasses:m}=ka(e);return ut(()=>h(e.tag,{class:Ye(["v-sheet",a.value,r.value,i.value,u.value,d.value,m.value,e.class]),style:vt([o.value,l.value,f.value,e.style])},n)),{}}}),hy=We({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,...my()},"VPicker"),ov=at()({name:"VPicker",props:hy(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=jn(()=>e.color);return ut(()=>{const o=lm.filterProps(e),i=!!(e.title||n.title);return h(lm,tt(o,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>[!e.hideHeader&&x("div",{key:"header",class:Ye([a.value]),style:vt([r.value])},[i&&h(Q3,{key:"picker-title"},{default:()=>[n.title?.()??e.title]}),n.header&&x("div",{class:"v-picker__header"},[n.header()])]),x("div",{class:"v-picker__body"},[n.default?.()]),n.actions&&h(rn,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[x("div",{class:"v-picker__actions"},[n.actions()])]})]})}),{}}}),X3=We({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(ec).includes(e)},modes:{type:Array,default:()=>Object.keys(ec),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(ec).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...hy({hideHeader:!0})},"VColorPicker"),J3=Po({name:"VColorPicker",props:X3(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"mode"),r=Re(null),o=Lt(e,"modelValue",void 0,d=>{if(d==null||d==="")return null;let m;try{m=Sf(xo(d))}catch(p){return vi(p),null}return m},d=>d?A3(d,e.modelValue):null),i=N(()=>o.value?{...o.value,h:r.value??o.value.h}:null),{rtlClasses:l}=Fa();let u=!0;_t(o,d=>{if(!u){u=!0;return}d&&(r.value=d.h)},{immediate:!0});const f=d=>{u=!1,r.value=d.h,o.value=d};return $c(()=>{e.modes.includes(a.value)||(a.value=e.modes[0])}),ya({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),ut(()=>{const d=ov.filterProps(e);return h(ov,tt(d,{class:["v-color-picker",l.value,e.class],style:[{"--v-color-picker-color-hsv":ak({...i.value??_d,a:1})},e.style]}),{...n,default:()=>x(ft,null,[!e.hideCanvas&&h(O3,{key:"canvas",color:i.value,"onUpdate:color":f,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&x("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&h(z3,{key:"preview",color:i.value,"onUpdate:color":f,hideAlpha:!a.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&h(F3,{key:"edit",modes:e.modes,mode:a.value,"onUpdate:mode":m=>a.value=m,color:i.value,"onUpdate:color":f,disabled:e.disabled},null)]),e.showSwatches&&h(G3,{key:"swatches",color:i.value,"onUpdate:color":f,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})}),{}}}),Z3=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...im({filterKeys:["title"]}),...ay({hideNoData:!0,returnObject:!0}),...ga(om({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Si({transition:!1})},"VCombobox"),e4=at()({name:"VCombobox",props:Z3(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{t:r}=ba(),o=Re(),i=gt(!1),l=gt(!0),u=gt(!1),f=Re(),d=Re(),m=gt(-1);let p=!1;const{items:y,transformIn:b,transformOut:C}=Ug(e),{textColorClasses:w,textColorStyles:k}=Er(()=>o.value?.color),T=Lt(e,"modelValue",[],_e=>b(ma(_e)),_e=>{const mt=C(_e);return e.multiple?mt:mt[0]??null}),V=Xf(e),M=N(()=>!!(e.chips||a.chip)),I=N(()=>M.value||!!a.selection),R=gt(!e.multiple&&!I.value?T.value[0]?.title??"":""),W=N({get:()=>R.value,set:_e=>{if(R.value=_e??"",!e.multiple&&!I.value&&(T.value=[Bl(e,_e)]),_e&&e.multiple&&e.delimiters?.length){const mt=_e.split(new RegExp(`(?:${e.delimiters.join("|")})+`));mt.length>1&&(mt.forEach(H=>{H=H.trim(),H&&B(Bl(e,H))}),R.value="")}_e||(m.value=-1),l.value=!_e}}),q=N(()=>typeof e.counterValue=="function"?e.counterValue(T.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?T.value.length:W.value.length),{filteredItems:z,getMatches:Y}=sm(e,y,()=>l.value?"":W.value),K=N(()=>e.hideSelected?z.value.filter(_e=>!T.value.some(mt=>mt.value===_e.value)):z.value),ae=N(()=>e.hideNoData&&!K.value.length||V.isReadonly.value||V.isDisabled.value),te=Lt(e,"menu"),J=N({get:()=>te.value,set:_e=>{te.value&&!_e&&f.value?.ΨopenChildren.size||_e&&ae.value||(te.value=_e)}}),ne=ke(()=>J.value?e.closeText:e.openText);_t(R,_e=>{p?Qt(()=>p=!1):i.value&&!J.value&&(J.value=!0),n("update:search",_e)}),_t(T,_e=>{!e.multiple&&!I.value&&(R.value=_e[0]?.title??"")});const re=N(()=>T.value.map(_e=>_e.value)),pe=N(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&W.value===K.value[0]?.title)&&K.value.length>0&&!l.value&&!u.value),Ee=Re(),me=ny(Ee,o);function fe(_e){p=!0,e.openOnClear&&(J.value=!0)}function le(){ae.value||(J.value=!0)}function Te(_e){ae.value||(i.value&&(_e.preventDefault(),_e.stopPropagation()),J.value=!J.value)}function ue(_e){_e.key!==" "&&jc(_e)&&o.value?.focus()}function De(_e){if(eA(_e)||V.isReadonly.value)return;const mt=o.value?.selectionStart,H=T.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(_e.key)&&_e.preventDefault(),["Enter","ArrowDown"].includes(_e.key)&&(J.value=!0),["Escape"].includes(_e.key)&&(J.value=!1),["Enter","Escape","Tab"].includes(_e.key)&&(pe.value&&["Enter","Tab"].includes(_e.key)&&!T.value.some(X=>{let{value:F}=X;return F===K.value[0].value})&&B(z.value[0]),l.value=!0),_e.key==="ArrowDown"&&pe.value&&Ee.value?.focus("next"),_e.key==="Enter"&&W.value&&(B(Bl(e,W.value)),I.value&&(R.value="")),["Backspace","Delete"].includes(_e.key)){if(!e.multiple&&I.value&&T.value.length>0&&!W.value)return B(T.value[0],!1);if(~m.value){_e.preventDefault();const X=m.value;B(T.value[m.value],!1),m.value=X>=H-1?H-2:X}else _e.key==="Backspace"&&!W.value&&(m.value=H-1);return}if(e.multiple)if(_e.key==="ArrowLeft"){if(m.value<0&&mt&&mt>0)return;const X=m.value>-1?m.value-1:H-1;T.value[X]?m.value=X:(m.value=-1,o.value?.setSelectionRange(W.value.length,W.value.length))}else if(_e.key==="ArrowRight"){if(m.value<0)return;const X=m.value+1;T.value[X]?m.value=X:(m.value=-1,o.value?.setSelectionRange(0,0))}else~m.value&&jc(_e)&&(m.value=-1)}function Me(){e.eager&&d.value?.calculateVisibleItems()}function Oe(){i.value&&(l.value=!0,o.value?.focus())}function B(_e){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!_e||_e.props.disabled))if(e.multiple){const H=T.value.findIndex(F=>(e.valueComparator||vr)(F.value,_e.value)),X=mt??!~H;if(~H){const F=X?[...T.value,_e]:[...T.value];F.splice(H,1),T.value=F}else X&&(T.value=[...T.value,_e]);e.clearOnSelect&&(W.value="")}else{const H=mt!==!1;T.value=H?[_e]:[],R.value=H&&!I.value?_e.title:"",Qt(()=>{J.value=!1,l.value=!0})}}function Ae(_e){i.value=!0,setTimeout(()=>{u.value=!0})}function Fe(_e){u.value=!1}function it(_e){(_e==null||_e===""&&!e.multiple&&!I.value)&&(T.value=[])}return _t(i,(_e,mt)=>{if(!(_e||_e===mt)&&(m.value=-1,J.value=!1,W.value)){if(e.multiple){B(Bl(e,W.value));return}if(!I.value)return;T.value.some(H=>{let{title:X}=H;return X===W.value})?R.value="":B(Bl(e,W.value))}}),_t(J,()=>{if(!e.hideSelected&&J.value&&T.value.length){const _e=K.value.findIndex(mt=>T.value.some(H=>(e.valueComparator||vr)(H.value,mt.value)));On&&window.requestAnimationFrame(()=>{_e>=0&&d.value?.scrollToIndex(_e)})}}),_t(()=>e.items,(_e,mt)=>{J.value||i.value&&!mt.length&&_e.length&&(J.value=!0)}),ut(()=>{const _e=!!(!e.hideNoData||K.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),mt=T.value.length>0,H=Fs.filterProps(e);return h(Fs,tt({ref:o},H,{modelValue:W.value,"onUpdate:modelValue":[X=>W.value=X,it],focused:i.value,"onUpdate:focused":X=>i.value=X,validationValue:T.externalValue,counterValue:q.value,dirty:mt,class:["v-combobox",{"v-combobox--active-menu":J.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!I.value,"v-combobox--selecting-index":m.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:V.isReadonly.value,placeholder:mt?void 0:e.placeholder,"onClick:clear":fe,"onMousedown:control":le,onKeydown:De}),{...a,default:()=>x(ft,null,[h(pd,tt({ref:f,modelValue:J.value,"onUpdate:modelValue":X=>J.value=X,activator:"parent",contentClass:"v-combobox__content",disabled:ae.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Me,onAfterLeave:Oe},e.menuProps),{default:()=>[_e&&h(Jh,tt({ref:Ee,selected:re.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:X=>X.preventDefault(),onKeydown:ue,onFocusin:Ae,onFocusout:Fe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},me,e.listProps),{default:()=>[a["prepend-item"]?.(),!K.value.length&&!e.hideNoData&&(a["no-data"]?.()??h($s,{key:"no-data",title:r(e.noDataText)},null)),h(tv,{ref:d,renderless:!0,items:K.value,itemKey:"value"},{default:X=>{let{item:F,index:Ue,itemRef:$e}=X;const He=tt(F.props,{ref:$e,key:F.value,active:pe.value&&Ue===0?!0:void 0,onClick:()=>B(F,null)});return a.item?.({item:F,index:Ue,props:He})??h($s,tt(He,{role:"option"}),{prepend:ot=>{let{isSelected:nt}=ot;return x(ft,null,[e.multiple&&!e.hideSelected?h(Ms,{key:F.value,modelValue:nt,ripple:!1,tabindex:"-1"},null):void 0,F.props.prependAvatar&&h(zo,{image:F.props.prependAvatar},null),F.props.prependIcon&&h(In,{icon:F.props.prependIcon},null)])},title:()=>l.value?F.title:gx("v-combobox",F.title,Y(F)?.title)})}}),a["append-item"]?.()]})]}),T.value.map((X,F)=>{function Ue(nt){nt.stopPropagation(),nt.preventDefault(),B(X,!1)}const $e={"onClick:close":Ue,onKeydown(nt){nt.key!=="Enter"&&nt.key!==" "||(nt.preventDefault(),nt.stopPropagation(),Ue(nt))},onMousedown(nt){nt.preventDefault(),nt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},He=M.value?!!a.chip:!!a.selection,ot=He?wh(M.value?a.chip({item:X,index:F,props:$e}):a.selection({item:X,index:F})):void 0;if(!(He&&!ot))return x("div",{key:X.value,class:Ye(["v-combobox__selection",F===m.value&&["v-combobox__selection--selected",w.value]]),style:vt(F===m.value?k.value:{})},[M.value?a.chip?h(rn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:X.title}}},{default:()=>[ot]}):h(vd,tt({key:"chip",closable:e.closableChips,size:"small",text:X.title,disabled:X.props.disabled},$e),null):ot??x("span",{class:"v-combobox__selection-text"},[X.title,e.multiple&&F<T.value.length-1&&x("span",{class:"v-combobox__selection-comma"},[Ke(",")])])])})]),"append-inner":function(){for(var X=arguments.length,F=new Array(X),Ue=0;Ue<X;Ue++)F[Ue]=arguments[Ue];return x(ft,null,[a["append-inner"]?.(...F),(!e.hideNoData||e.items.length)&&e.menuIcon?h(In,{class:"v-combobox__menu-icon",color:o.value?.fieldIconColor,icon:e.menuIcon,onMousedown:Te,onClick:$1,"aria-label":r(ne.value),title:r(ne.value),tabindex:"-1"},null):void 0])}})}),Oo({isFocused:i,isPristine:l,menu:J,search:W,selectionIndex:m,filteredItems:z,select:B},o)}}),t4=We({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),n4=at()({name:"VConfirmEdit",props:t4(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Lt(e,"modelValue"),o=Re();ca(()=>{o.value=structuredClone(Wt(r.value))});const{t:i}=ba(),l=N(()=>vr(r.value,o.value));function u(C){return typeof e.disabled=="boolean"?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(C):l.value}const f=N(()=>u("save")),d=N(()=>u("cancel"));function m(){r.value=o.value,n("save",o.value)}function p(){o.value=structuredClone(Wt(r.value)),n("cancel")}function y(C){return x(ft,null,[h(wn,tt({disabled:d.value,variant:"text",color:e.color,onClick:p,text:i(e.cancelText)},C),null),h(wn,tt({disabled:f.value,variant:"text",color:e.color,onClick:m,text:i(e.okText)},C),null)])}let b=!1;return ut(()=>x(ft,null,[a.default?.({model:o,save:m,cancel:p,isPristine:l.value,get actions(){return b=!0,y}}),!e.hideActions&&!b&&y()])),{save:m,cancel:p,isPristine:l}}}),Bx=We({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),$x=Symbol.for("vuetify:datatable:expanded");function iv(e){const t=ke(()=>e.expandOnClick),n=Lt(e,"expanded",e.expanded,l=>new Set(l),l=>[...l.values()]);function a(l,u){const f=new Set(n.value);u?f.add(l.value):f.delete(l.value),n.value=f}function r(l){return n.value.has(l.value)}function o(l){a(l,!r(l))}const i={expand:a,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:o};return ia($x,i),i}function Rx(){const e=un($x);if(!e)throw new Error("foo");return e}const vy=We({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Fx=Symbol.for("vuetify:data-table-group");function py(e){return{groupBy:Lt(e,"groupBy")}}function sv(e){const{disableSort:t,groupBy:n,sortBy:a}=e,r=Re(new Set),o=N(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(t?.value?[]:a.value));function i(d){return r.value.has(d.id)}function l(d){const m=new Set(r.value);i(d)?m.delete(d.id):m.add(d.id),r.value=m}function u(d){function m(p){const y=[];for(const b of p.items)"type"in b&&b.type==="group"?y.push(...m(b)):y.push(b);return[...new Set(y)]}return m({items:d})}const f={sortByWithGroups:o,toggleGroup:l,opened:r,groupBy:n,extractRows:u,isGroupOpen:i};return ia(Fx,f),f}function Lx(){const e=un(Fx);if(!e)throw new Error("Missing group!");return e}function a4(e,t){if(!e.length)return[];const n=new Map;for(const a of e){const r=Tu(a.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(a)}return n}function qx(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=a4(e,t[0]),o=[],i=t.slice(1);return r.forEach((l,u)=>{const f=t[0],d=`${a}_${f}_${u}`;o.push({depth:n,id:d,key:f,value:u,items:i.length?qx(l,i,n+1,d):l,type:"group"})}),o}function Ux(e,t){const n=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&n.push(a),(t.has(a.id)||a.value==null)&&n.push(...Ux(a.items,t))):n.push(a);return n}function lv(e,t,n){return{flatItems:N(()=>{if(!t.value.length)return e.value;const r=qx(e.value,t.value.map(o=>o.key));return Ux(r,n.value)})}}function uv(e){let{page:t,itemsPerPage:n,sortBy:a,groupBy:r,search:o}=e;const i=xa("VDataTable"),l=()=>({page:t.value,itemsPerPage:n.value,sortBy:a.value,groupBy:r.value,search:o.value});let u=null;_t(l,f=>{vr(u,f)||(u&&u.search!==f.search&&(t.value=1),i.emit("update:options",f),u=f)},{deep:!0,immediate:!0})}const _y=We({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Hx=Symbol.for("vuetify:data-table-pagination");function gy(e){const t=Lt(e,"page",void 0,a=>Number(a??1)),n=Lt(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:n}}function yy(e){const{page:t,itemsPerPage:n,itemsLength:a}=e,r=N(()=>n.value===-1?0:n.value*(t.value-1)),o=N(()=>n.value===-1?a.value:Math.min(a.value,r.value+n.value)),i=N(()=>n.value===-1||a.value===0?1:Math.ceil(a.value/n.value));_t([t,i],()=>{t.value>i.value&&(t.value=i.value)});function l(p){n.value=p,t.value=1}function u(){t.value=Xn(t.value+1,1,i.value)}function f(){t.value=Xn(t.value-1,1,i.value)}function d(p){t.value=Xn(p,1,i.value)}const m={page:t,itemsPerPage:n,startIndex:r,stopIndex:o,pageCount:i,itemsLength:a,nextPage:u,prevPage:f,setPage:d,setItemsPerPage:l};return ia(Hx,m),m}function r4(){const e=un(Hx);if(!e)throw new Error("Missing pagination!");return e}function Wx(e){const t=xa("usePaginatedItems"),{items:n,startIndex:a,stopIndex:r,itemsPerPage:o}=e,i=N(()=>o.value<=0?n.value:n.value.slice(a.value,r.value));return _t(i,l=>{t.emit("update:currentItems",l)},{immediate:!0}),{paginatedItems:i}}const o4={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:n}=e;return new Set(n?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},zx={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const r of t)n?a.add(r.value):a.delete(r.value);return a},selectAll:e=>{let{value:t,currentPage:n,selected:a}=e;return zx.select({items:n,value:t,selected:a})}},jx={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const r of t)n?a.add(r.value):a.delete(r.value);return a},selectAll:e=>{let{value:t,allItems:n,selected:a}=e;return jx.select({items:n,value:t,selected:a})}},Yx=We({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:vr}},"DataTable-select"),Kx=Symbol.for("vuetify:data-table-selection");function cv(e,t){let{allItems:n,currentPage:a}=t;const r=Lt(e,"modelValue",e.modelValue,T=>new Set(ma(T).map(V=>n.value.find(M=>e.valueComparator(V,M.value))?.value??V)),T=>[...T.values()]),o=N(()=>n.value.filter(T=>T.selectable)),i=N(()=>a.value.filter(T=>T.selectable)),l=N(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return o4;case"all":return jx;case"page":default:return zx}}),u=gt(null);function f(T){return ma(T).every(V=>r.value.has(V.value))}function d(T){return ma(T).some(V=>r.value.has(V.value))}function m(T,V){const M=l.value.select({items:T,value:V,selected:new Set(r.value)});r.value=M}function p(T,V,M){const I=[];if(V=V??a.value.findIndex(R=>R.value===T.value),e.selectStrategy!=="single"&&M?.shiftKey&&u.value!==null){const[R,W]=[u.value,V].sort((q,z)=>q-z);I.push(...a.value.slice(R,W+1).filter(q=>q.selectable))}else I.push(T),u.value=V;m(I,!f([T]))}function y(T){const V=l.value.selectAll({value:T,allItems:o.value,currentPage:i.value,selected:new Set(r.value)});r.value=V}const b=N(()=>r.value.size>0),C=N(()=>{const T=l.value.allSelected({allItems:o.value,currentPage:i.value});return!!T.length&&f(T)}),w=ke(()=>l.value.showSelectAll),k={toggleSelect:p,select:m,selectAll:y,isSelected:f,isSomeSelected:d,someSelected:b,allSelected:C,showSelectAll:w,lastSelectedIndex:u,selectStrategy:l};return ia(Kx,k),k}function dv(){const e=un(Kx);if(!e)throw new Error("Missing selection!");return e}const Gx=We({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Qx=Symbol.for("vuetify:data-table-sort");function fv(e){const t=Lt(e,"sortBy"),n=ke(()=>e.mustSort),a=ke(()=>e.multiSort);return{sortBy:t,mustSort:n,multiSort:a}}function mv(e){const{sortBy:t,mustSort:n,multiSort:a,page:r}=e,o=u=>{if(u.key==null)return;let f=t.value.map(m=>({...m}))??[];const d=f.find(m=>m.key===u.key);d?d.order==="desc"?n.value&&f.length===1?d.order="asc":f=f.filter(m=>m.key!==u.key):d.order="desc":a.value?f.push({key:u.key,order:"asc"}):f=[{key:u.key,order:"asc"}],t.value=f,r&&(r.value=1)};function i(u){return!!t.value.find(f=>f.key===u.key)}const l={sortBy:t,toggleSort:o,isSorted:i};return ia(Qx,l),l}function Xx(){const e=un(Qx);if(!e)throw new Error("Missing sort!");return e}function by(e,t,n,a){const r=ba();return{sortedItems:N(()=>n.value.length?i4(t.value,n.value,r.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):t.value)}}function i4(e,t,n,a){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,a?.transform?a.transform(i):i]).sort((i,l)=>{for(let u=0;u<t.length;u++){let f=!1;const d=t[u].key,m=t[u].order??"asc";if(m===!1)continue;let p=Tu(i[1],d),y=Tu(l[1],d),b=i[0].raw,C=l[0].raw;if(m==="desc"&&([p,y]=[y,p],[b,C]=[C,b]),a?.sortRawFunctions?.[d]){const w=a.sortRawFunctions[d](b,C);if(w==null)continue;if(f=!0,w)return w}if(a?.sortFunctions?.[d]){const w=a.sortFunctions[d](p,y);if(w==null)continue;if(f=!0,w)return w}if(!f&&(p instanceof Date&&y instanceof Date&&(p=p.getTime(),y=y.getTime()),[p,y]=[p,y].map(w=>w!=null?w.toString().toLocaleLowerCase():w),p!==y))return bh(p)&&bh(y)?0:bh(p)?-1:bh(y)?1:!isNaN(p)&&!isNaN(y)?Number(p)-Number(y):r.compare(p,y)}return 0}).map(i=>{let[l]=i;return l})}const s4=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function l4(e,t){const n=e.returnObject?t:Ra(t,e.itemValue),a=Ra(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:a,raw:t}}function u4(e,t){const n=[];for(const a of t)n.push(l4(e,a));return n}function c4(e){return{items:N(()=>u4(e,e.items))}}const d4=We({search:String,loading:Boolean,...Mt(),...s4(),...Yx(),...Gx(),..._y({itemsPerPage:5}),...Bx(),...vy(),...im(),...nn(),...Si({transition:{component:Uf,hideOnLeave:!0}})},"VDataIterator"),f4=at()({name:"VDataIterator",props:d4(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"groupBy"),r=ke(()=>e.search),{items:o}=c4(e),{filteredItems:i}=sm(e,o,r,{transform:le=>le.raw}),{sortBy:l,multiSort:u,mustSort:f}=fv(e),{page:d,itemsPerPage:m}=gy(e),{toggleSort:p}=mv({sortBy:l,multiSort:u,mustSort:f,page:d}),{sortByWithGroups:y,opened:b,extractRows:C,isGroupOpen:w,toggleGroup:k}=sv({groupBy:a,sortBy:l}),{sortedItems:T}=by(e,i,y,{transform:le=>le.raw}),{flatItems:V}=lv(T,a,b),M=ke(()=>V.value.length),{startIndex:I,stopIndex:R,pageCount:W,prevPage:q,nextPage:z,setItemsPerPage:Y,setPage:K}=yy({page:d,itemsPerPage:m,itemsLength:M}),{paginatedItems:ae}=Wx({items:V,startIndex:I,stopIndex:R,itemsPerPage:m}),te=N(()=>C(ae.value)),{isSelected:J,select:ne,selectAll:re,toggleSelect:pe}=cv(e,{allItems:o,currentPage:te}),{isExpanded:Ee,toggleExpand:me}=iv(e);uv({page:d,itemsPerPage:m,sortBy:l,groupBy:a,search:r});const fe=N(()=>({page:d.value,itemsPerPage:m.value,sortBy:l.value,pageCount:W.value,toggleSort:p,prevPage:q,nextPage:z,setPage:K,setItemsPerPage:Y,isSelected:J,select:ne,selectAll:re,toggleSelect:pe,isExpanded:Ee,toggleExpand:me,isGroupOpen:w,toggleGroup:k,items:te.value,groupedItems:ae.value}));return ut(()=>h(e.tag,{class:Ye(["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class]),style:vt(e.style)},{default:()=>[n.header?.(fe.value),h(Fr,{transition:e.transition},{default:()=>[e.loading?h(zf,{key:"loader",name:"v-data-iterator",active:!0},{default:le=>n.loader?.(le)}):x("div",{key:"items"},[ae.value.length?n.default?.(fe.value):n["no-data"]?.()])]}),n.footer?.(fe.value)]})),{}}});function m4(){const e=Re([]);Op(()=>e.value=[]);function t(n,a){e.value[a]=n}return{refs:e,updateRef:t}}const h4=We({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Ut,default:"$first"},prevIcon:{type:Ut,default:"$prev"},nextIcon:{type:Ut,default:"$next"},lastIcon:{type:Ut,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...mo(),...Mt(),...sr(),...er(),...da(),...Gi(),...nn({tag:"nav"}),...bn(),...Wo({variant:"text"})},"VPagination"),wy=at()({name:"VPagination",props:h4(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Lt(e,"modelValue"),{t:o,n:i}=ba(),{isRtl:l}=Fa(),{themeClasses:u}=Nn(e),{width:f}=Uo(),d=gt(-1);ya(void 0,{scoped:!0});const{resizeRef:m}=pi(q=>{if(!q.length)return;const{target:z,contentRect:Y}=q[0],K=z.querySelector(".v-pagination__list > *");if(!K)return;const ae=Y.width,te=K.offsetWidth+parseFloat(getComputedStyle(K).marginRight)*2;d.value=C(ae,te)}),p=N(()=>parseInt(e.length,10)),y=N(()=>parseInt(e.start,10)),b=N(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:C(f.value,58));function C(q,z){const Y=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((q-z*Y)/z).toFixed(2))))}const w=N(()=>{if(p.value<=0||isNaN(p.value)||p.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[r.value];if(p.value<=b.value)return Li(p.value,y.value);const q=b.value%2===0,z=q?b.value/2:Math.floor(b.value/2),Y=q?z:z+1,K=p.value-z;if(Y-r.value>=0)return[...Li(Math.max(1,b.value-1),y.value),e.ellipsis,p.value];if(r.value-K>=(q?1:0)){const ae=b.value-1,te=p.value-ae+y.value;return[y.value,e.ellipsis,...Li(ae,te)]}else{const ae=Math.max(1,b.value-2),te=ae===1?r.value:r.value-Math.ceil(ae/2)+y.value;return[y.value,e.ellipsis,...Li(ae,te),e.ellipsis,p.value]}});function k(q,z,Y){q.preventDefault(),r.value=z,Y&&a(Y,z)}const{refs:T,updateRef:V}=m4();ya({VPaginationBtn:{color:ke(()=>e.color),border:ke(()=>e.border),density:ke(()=>e.density),size:ke(()=>e.size),variant:ke(()=>e.variant),rounded:ke(()=>e.rounded),elevation:ke(()=>e.elevation)}});const M=N(()=>w.value.map((q,z)=>{const Y=K=>V(K,z);if(typeof q=="string")return{isActive:!1,key:`ellipsis-${z}`,page:q,props:{ref:Y,ellipsis:!0,icon:!0,disabled:!0}};{const K=q===r.value;return{isActive:K,key:q,page:i(q),props:{ref:Y,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:K?e.activeColor:e.color,"aria-current":K,"aria-label":o(K?e.currentPageAriaLabel:e.pageAriaLabel,q),onClick:ae=>k(ae,q)}}}})),I=N(()=>{const q=!!e.disabled||r.value<=y.value,z=!!e.disabled||r.value>=y.value+p.value-1;return{first:e.showFirstLastPage?{icon:l.value?e.lastIcon:e.firstIcon,onClick:Y=>k(Y,y.value,"first"),disabled:q,"aria-label":o(e.firstAriaLabel),"aria-disabled":q}:void 0,prev:{icon:l.value?e.nextIcon:e.prevIcon,onClick:Y=>k(Y,r.value-1,"prev"),disabled:q,"aria-label":o(e.previousAriaLabel),"aria-disabled":q},next:{icon:l.value?e.prevIcon:e.nextIcon,onClick:Y=>k(Y,r.value+1,"next"),disabled:z,"aria-label":o(e.nextAriaLabel),"aria-disabled":z},last:e.showFirstLastPage?{icon:l.value?e.firstIcon:e.lastIcon,onClick:Y=>k(Y,y.value+p.value-1,"last"),disabled:z,"aria-label":o(e.lastAriaLabel),"aria-disabled":z}:void 0}});function R(){const q=r.value-y.value;T.value[q]?.$el.focus()}function W(q){q.key===o_.left&&!e.disabled&&r.value>Number(e.start)?(r.value=r.value-1,Qt(R)):q.key===o_.right&&!e.disabled&&r.value<y.value+p.value-1&&(r.value=r.value+1,Qt(R))}return ut(()=>h(e.tag,{ref:m,class:Ye(["v-pagination",u.value,e.class]),style:vt(e.style),role:"navigation","aria-label":o(e.ariaLabel),onKeydown:W,"data-test":"v-pagination-root"},{default:()=>[x("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&x("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(I.value.first):h(wn,tt({_as:"VPaginationBtn"},I.value.first),null)]),x("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(I.value.prev):h(wn,tt({_as:"VPaginationBtn"},I.value.prev),null)]),M.value.map((q,z)=>x("li",{key:q.key,class:Ye(["v-pagination__item",{"v-pagination__item--is-active":q.isActive}]),"data-test":"v-pagination-item"},[n.item?n.item(q):h(wn,tt({_as:"VPaginationBtn"},q.props),{default:()=>[q.page]})])),x("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(I.value.next):h(wn,tt({_as:"VPaginationBtn"},I.value.next),null)]),e.showFirstLastPage&&x("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(I.value.last):h(wn,tt({_as:"VPaginationBtn"},I.value.last),null)])])]})),{}}}),ky=We({prevIcon:{type:Ut,default:"$prev"},nextIcon:{type:Ut,default:"$next"},firstIcon:{type:Ut,default:"$first"},lastIcon:{type:Ut,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),um=at()({name:"VDataTableFooter",props:ky(),setup(e,t){let{slots:n}=t;const{t:a}=ba(),{page:r,pageCount:o,startIndex:i,stopIndex:l,itemsLength:u,itemsPerPage:f,setItemsPerPage:d}=r4(),m=N(()=>e.itemsPerPageOptions.map(p=>typeof p=="number"?{value:p,title:p===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(p)}:{...p,title:isNaN(Number(p.title))?a(p.title):p.title}));return ut(()=>{const p=wy.filterProps(e);return x("div",{class:"v-data-table-footer"},[n.prepend?.(),x("div",{class:"v-data-table-footer__items-per-page"},[x("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),h(ry,{items:m.value,modelValue:f.value,"onUpdate:modelValue":y=>d(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),x("div",{class:"v-data-table-footer__info"},[x("div",null,[a(e.pageText,u.value?i.value+1:0,l.value,u.value)])]),x("div",{class:"v-data-table-footer__pagination"},[h(wy,tt({modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:o.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},p),null)])])}),{}}}),hv=RA({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const a=e.tag??"td";return h(a,{class:Ye(["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:It(e.height),width:It(e.width),maxWidth:It(e.maxWidth),left:It(e.fixedOffset||null)}},{default:()=>[n.default?.()]})}),v4=We({headers:Array},"DataTable-header"),Jx=Symbol.for("vuetify:data-table-headers"),Zx={title:"",sortable:!1},p4={...Zx,width:48};function _4(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,a)=>{let r=!1;for(let o=0;o<t.length;o++)if(t[o].priority>a){t.splice(o,0,{element:n,priority:a}),r=!0;break}r||t.push({element:n,priority:a})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===a&&(n+=1);return n},dequeue:()=>t.shift()}}function Sy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)Sy(n,t);return t}function eP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&eP(n.children,t);return t}function g4(e){if(e.key){if(e.key==="data-table-group")return Zx;if(["data-table-expand","data-table-select"].includes(e.key))return p4}}function Cy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>Cy(n,t+1))):t}function y4(e){let t=!1;function n(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o)if(i&&(o.fixed=!0),o.fixed)if(o.children)for(let l=o.children.length-1;l>=0;l--)n(o.children[l],!0);else t?isNaN(Number(o.width))?Kc(`Multiple fixed columns should have a static width (key: ${o.key})`):o.minWidth=Math.max(Number(o.width)||0,Number(o.minWidth)||0):o.lastFixed=!0,t=!0;else if(o.children)for(let l=o.children.length-1;l>=0;l--)n(o.children[l]);else t=!1}for(let o=e.length-1;o>=0;o--)n(e[o]);function a(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!o)return i;if(o.children){o.fixedOffset=i;for(const l of o.children)i=a(l,i)}else o.fixed&&(o.fixedOffset=i,i+=parseFloat(o.width||"0")||0);return i}let r=0;for(const o of e)r=a(o,r)}function b4(e,t){const n=[];let a=0;const r=_4(e);for(;r.size()>0;){let i=r.count();const l=[];let u=1;for(;i>0;){const{element:f,priority:d}=r.dequeue(),m=t-a-Cy(f);if(l.push({...f,rowspan:m??1,colspan:f.children?Sy(f).length:1}),f.children)for(const p of f.children){const y=d%1+u/Math.pow(10,a+2);r.enqueue(p,a+m+y)}u+=1,i-=1}a+=1,n.push(l)}return{columns:e.map(i=>Sy(i)).flat(),headers:n}}function tP(e){const t=[];for(const n of e){const a={...g4(n),...n},r=a.key??(typeof a.value=="string"?a.value:null),o=a.value??r??null,i={...a,key:r,value:o,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?tP(a.children):void 0};t.push(i)}return t}function xy(e,t){const n=Re([]),a=Re([]),r=Re({}),o=Re({}),i=Re({});ca(()=>{const f=(e.headers||Object.keys(e.items[0]??{}).map(C=>({key:C,title:So(C)}))).slice(),d=eP(f);t?.groupBy?.value.length&&!d.has("data-table-group")&&f.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!d.has("data-table-select")&&f.unshift({key:"data-table-select"}),t?.showExpand?.value&&!d.has("data-table-expand")&&f.push({key:"data-table-expand"});const m=tP(f);y4(m);const p=Math.max(...m.map(C=>Cy(C)))+1,y=b4(m,p);n.value=y.headers,a.value=y.columns;const b=y.headers.flat(1);for(const C of b)C.key&&(C.sortable&&(C.sort&&(r.value[C.key]=C.sort),C.sortRaw&&(o.value[C.key]=C.sortRaw)),C.filter&&(i.value[C.key]=C.filter))});const l={headers:n,columns:a,sortFunctions:r,sortRawFunctions:o,filterFunctions:i};return ia(Jx,l),l}function vv(){const e=un(Jx);if(!e)throw new Error("Missing headers!");return e}const nP=We({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Ut,default:"$sortAsc"},sortDescIcon:{type:Ut,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Nu(),...Kh()},"VDataTableHeaders"),tc=at()({name:"VDataTableHeaders",props:nP(),setup(e,t){let{slots:n}=t;const{t:a}=ba(),{toggleSort:r,sortBy:o,isSorted:i}=Xx(),{someSelected:l,allSelected:u,selectAll:f,showSelectAll:d}=dv(),{columns:m,headers:p}=vv(),{loaderClasses:y}=Wf(e);function b(z,Y){if(!(!(e.sticky||e.fixedHeader)&&!z.fixed))return{position:"sticky",left:z.fixed?It(z.fixedOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${Y})`:void 0}}function C(z,Y){z.key==="Enter"&&!e.disableSort&&r(Y)}function w(z){const Y=o.value.find(K=>K.key===z.key);return Y?Y.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:k,backgroundColorStyles:T}=jn(()=>e.color),{displayClasses:V,mobile:M}=Uo(e),I=N(()=>({headers:p.value,columns:m.value,toggleSort:r,isSorted:i,sortBy:o.value,someSelected:l.value,allSelected:u.value,selectAll:f,getSortIcon:w})),R=N(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},V.value,y.value]),W=z=>{let{column:Y,x:K,y:ae}=z;const te=Y.key==="data-table-select"||Y.key==="data-table-expand",J=tt(e.headerProps??{},Y.headerProps??{});return h(hv,tt({tag:"th",align:Y.align,class:[{"v-data-table__th--sortable":Y.sortable&&!e.disableSort,"v-data-table__th--sorted":i(Y),"v-data-table__th--fixed":Y.fixed},...R.value],style:{width:It(Y.width),minWidth:It(Y.minWidth),maxWidth:It(Y.maxWidth),...b(Y,ae)},colspan:Y.colspan,rowspan:Y.rowspan,fixed:Y.fixed,nowrap:Y.nowrap,lastFixed:Y.lastFixed,noPadding:te,tabindex:Y.sortable?0:void 0,onClick:Y.sortable?()=>r(Y):void 0,onKeydown:Y.sortable?ne=>C(ne,Y):void 0},J),{default:()=>{const ne=`header.${Y.key}`,re={column:Y,selectAll:f,isSorted:i,toggleSort:r,sortBy:o.value,someSelected:l.value,allSelected:u.value,getSortIcon:w};return n[ne]?n[ne](re):Y.key==="data-table-select"?n["header.data-table-select"]?.(re)??(d.value&&h(Ms,{modelValue:u.value,indeterminate:l.value&&!u.value,"onUpdate:modelValue":f},null)):x("div",{class:"v-data-table-header__content"},[x("span",null,[Y.title]),Y.sortable&&!e.disableSort&&h(In,{key:"icon",class:"v-data-table-header__sort-icon",icon:w(Y)},null),e.multiSort&&i(Y)&&x("div",{key:"badge",class:Ye(["v-data-table-header__sort-badge",...k.value]),style:vt(T.value)},[o.value.findIndex(pe=>pe.key===Y.key)+1])])}})},q=()=>{const z=N(()=>m.value.filter(K=>K?.sortable&&!e.disableSort)),Y=N(()=>{if(m.value.find(ae=>ae.key==="data-table-select")!=null)return u.value?"$checkboxOn":l.value?"$checkboxIndeterminate":"$checkboxOff"});return h(hv,tt({tag:"th",class:[...R.value],colspan:p.value.length+1},e.headerProps),{default:()=>[x("div",{class:"v-data-table-header__content"},[h(ry,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:z.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>o.value=[],appendIcon:Y.value,"onClick:append":()=>f(!u.value)},{...n,chip:K=>h(vd,{onClick:K.item.raw?.sortable?()=>r(K.item.raw):void 0,onMousedown:ae=>{ae.preventDefault(),ae.stopPropagation()}},{default:()=>[K.item.title,h(In,{class:Ye(["v-data-table__td-sort-icon",i(K.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:w(K.item.raw),size:"small"},null)]})})])]})};ut(()=>M.value?x("tr",null,[h(q,null,null)]):x(ft,null,[n.headers?n.headers(I.value):p.value.map((z,Y)=>x("tr",null,[z.map((K,ae)=>h(W,{column:K,x:ae,y:Y},null))])),e.loading&&x("tr",{class:"v-data-table-progress"},[x("th",{colspan:m.value.length},[h(zf,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),w4=We({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),k4=at()({name:"VDataTableGroupHeaderRow",props:w4(),setup(e,t){let{slots:n}=t;const{isGroupOpen:a,toggleGroup:r,extractRows:o}=Lx(),{isSelected:i,isSomeSelected:l,select:u}=dv(),{columns:f}=vv(),d=N(()=>o([e.item]));return()=>x("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[f.value.map(m=>{if(m.key==="data-table-group"){const p=a(e.item)?"$expand":"$next",y=()=>r(e.item);return n["data-table-group"]?.({item:e.item,count:d.value.length,props:{icon:p,onClick:y}})??h(hv,{class:"v-data-table-group-header-row__column"},{default:()=>[h(wn,{size:"small",variant:"text",icon:p,onClick:y},null),x("span",null,[e.item.value]),x("span",null,[Ke("("),d.value.length,Ke(")")])]})}if(m.key==="data-table-select"){const p=i(d.value),y=l(d.value)&&!p,b=C=>u(d.value,C);return n["data-table-select"]?.({props:{modelValue:p,indeterminate:y,"onUpdate:modelValue":b}})??x("td",null,[h(Ms,{modelValue:p,indeterminate:y,"onUpdate:modelValue":b},null)])}return x("td",null,null)})])}}),S4=We({index:Number,item:Object,cellProps:[Object,Function],onClick:pr(),onContextmenu:pr(),onDblclick:pr(),...Nu()},"VDataTableRow"),Py=at()({name:"VDataTableRow",props:S4(),setup(e,t){let{slots:n}=t;const{displayClasses:a,mobile:r}=Uo(e,"v-data-table__tr"),{isSelected:o,toggleSelect:i,someSelected:l,allSelected:u,selectAll:f}=dv(),{isExpanded:d,toggleExpand:m}=Rx(),{toggleSort:p,sortBy:y,isSorted:b}=Xx(),{columns:C}=vv();ut(()=>x("tr",{class:Ye(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&C.value.map((w,k)=>{const T=e.item,V=`item.${w.key}`,M=`header.${w.key}`,I={index:e.index,item:T.raw,internalItem:T,value:Tu(T.columns,w.key),column:w,isSelected:o,toggleSelect:i,isExpanded:d,toggleExpand:m},R={column:w,selectAll:f,isSorted:b,toggleSort:p,sortBy:y.value,someSelected:l.value,allSelected:u.value,getSortIcon:()=>""},W=typeof e.cellProps=="function"?e.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value,column:w}):e.cellProps,q=typeof w.cellProps=="function"?w.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value}):w.cellProps;return h(hv,tt({align:w.align,class:{"v-data-table__td--expanded-row":w.key==="data-table-expand","v-data-table__td--select-row":w.key==="data-table-select"},fixed:w.fixed,fixedOffset:w.fixedOffset,lastFixed:w.lastFixed,maxWidth:r.value?void 0:w.maxWidth,noPadding:w.key==="data-table-select"||w.key==="data-table-expand",nowrap:w.nowrap,width:r.value?void 0:w.width},W,q),{default:()=>{if(w.key==="data-table-select")return n["item.data-table-select"]?.({...I,props:{disabled:!T.selectable,modelValue:o([T]),onClick:$a(()=>i(T),["stop"])}})??h(Ms,{disabled:!T.selectable,modelValue:o([T]),onClick:$a(Y=>i(T,e.index,Y),["stop"])},null);if(w.key==="data-table-expand")return n["item.data-table-expand"]?.({...I,props:{icon:d(T)?"$collapse":"$expand",size:"small",variant:"text",onClick:$a(()=>m(T),["stop"])}})??h(wn,{icon:d(T)?"$collapse":"$expand",size:"small",variant:"text",onClick:$a(()=>m(T),["stop"])},null);if(n[V]&&!r.value)return n[V](I);const z=ge(I.value);return r.value?x(ft,null,[x("div",{class:"v-data-table__td-title"},[n[M]?.(R)??w.title]),x("div",{class:"v-data-table__td-value"},[n[V]?.(I)??z])]):z}})})]))}}),aP=We({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Nu()},"VDataTableRows"),nc=at()({name:"VDataTableRows",inheritAttrs:!1,props:aP(),setup(e,t){let{attrs:n,slots:a}=t;const{columns:r}=vv(),{expandOnClick:o,toggleExpand:i,isExpanded:l}=Rx(),{isSelected:u,toggleSelect:f}=dv(),{toggleGroup:d,isGroupOpen:m}=Lx(),{t:p}=ba(),{mobile:y}=Uo(e);return ut(()=>e.loading&&(!e.items.length||a.loading)?x("tr",{class:"v-data-table-rows-loading",key:"loading"},[x("td",{colspan:r.value.length},[a.loading?.()??p(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?x("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[x("td",{colspan:r.value.length},[a["no-data"]?.()??p(e.noDataText)])]):x(ft,null,[e.items.map((b,C)=>{if(b.type==="group"){const T={index:C,item:b,columns:r.value,isExpanded:l,toggleExpand:i,isSelected:u,toggleSelect:f,toggleGroup:d,isGroupOpen:m};return a["group-header"]?a["group-header"](T):h(k4,tt({key:`group-header_${b.id}`,item:b},uk(n,":group-header",()=>T)),a)}const w={index:C,item:b.raw,internalItem:b,columns:r.value,isExpanded:l,toggleExpand:i,isSelected:u,toggleSelect:f},k={...w,props:tt({key:`item_${b.key??b.index}`,onClick:o.value?()=>{i(b)}:void 0,index:C,item:b,cellProps:e.cellProps,mobile:y.value},uk(n,":row",()=>w),typeof e.rowProps=="function"?e.rowProps({item:w.item,index:w.index,internalItem:w.internalItem}):e.rowProps)};return x(ft,{key:k.props.key},[a.item?a.item(k):h(Py,k.props,a),l(b)&&a["expanded-row"]?.(w)])})])),{}}}),rP=We({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Mt(),...sr(),...nn(),...bn()},"VTable"),ac=at()({name:"VTable",props:rP(),setup(e,t){let{slots:n,emit:a}=t;const{themeClasses:r}=Nn(e),{densityClasses:o}=Lr(e);return ut(()=>h(e.tag,{class:Ye(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,o.value,e.class]),style:vt(e.style)},{default:()=>[n.top?.(),n.default?x("div",{class:"v-table__wrapper",style:{height:It(e.height)}},[x("table",null,[n.default()])]):n.wrapper?.(),n.bottom?.()]})),{}}}),C4=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function x4(e,t,n,a){const r=e.returnObject?t:Ra(t,e.itemValue),o=Ra(t,e.itemSelectable,!0),i=a.reduce((l,u)=>(u.key!=null&&(l[u.key]=Ra(t,u.value)),l),{});return{type:"item",key:e.returnObject?Ra(t,e.itemValue):r,index:n,value:r,selectable:o,columns:i,raw:t}}function P4(e,t,n){return t.map((a,r)=>x4(e,a,r,n))}function Ey(e,t){return{items:N(()=>P4(e,e.items,t.value))}}const Dy=We({...aP(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Bx(),...vy(),...v4(),...C4(),...Yx(),...Gx(),...nP(),...rP()},"DataTable"),E4=We({..._y(),...Dy(),...im(),...ky()},"VDataTable"),D4=at()({name:"VDataTable",props:E4(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{groupBy:r}=py(e),{sortBy:o,multiSort:i,mustSort:l}=fv(e),{page:u,itemsPerPage:f}=gy(e),{disableSort:d}=Ic(e),{columns:m,headers:p,sortFunctions:y,sortRawFunctions:b,filterFunctions:C}=xy(e,{groupBy:r,showSelect:ke(()=>e.showSelect),showExpand:ke(()=>e.showExpand)}),{items:w}=Ey(e,m),k=ke(()=>e.search),{filteredItems:T}=sm(e,w,k,{transform:B=>B.columns,customKeyFilter:C}),{toggleSort:V}=mv({sortBy:o,multiSort:i,mustSort:l,page:u}),{sortByWithGroups:M,opened:I,extractRows:R,isGroupOpen:W,toggleGroup:q}=sv({groupBy:r,sortBy:o,disableSort:d}),{sortedItems:z}=by(e,T,M,{transform:B=>({...B.raw,...B.columns}),sortFunctions:y,sortRawFunctions:b}),{flatItems:Y}=lv(z,r,I),K=N(()=>Y.value.length),{startIndex:ae,stopIndex:te,pageCount:J,setItemsPerPage:ne}=yy({page:u,itemsPerPage:f,itemsLength:K}),{paginatedItems:re}=Wx({items:Y,startIndex:ae,stopIndex:te,itemsPerPage:f}),pe=N(()=>R(re.value)),{isSelected:Ee,select:me,selectAll:fe,toggleSelect:le,someSelected:Te,allSelected:ue}=cv(e,{allItems:w,currentPage:pe}),{isExpanded:De,toggleExpand:Me}=iv(e);uv({page:u,itemsPerPage:f,sortBy:o,groupBy:r,search:k}),ya({VDataTableRows:{hideNoData:ke(()=>e.hideNoData),noDataText:ke(()=>e.noDataText),loading:ke(()=>e.loading),loadingText:ke(()=>e.loadingText)}});const Oe=N(()=>({page:u.value,itemsPerPage:f.value,sortBy:o.value,pageCount:J.value,toggleSort:V,setItemsPerPage:ne,someSelected:Te.value,allSelected:ue.value,isSelected:Ee,select:me,selectAll:fe,toggleSelect:le,isExpanded:De,toggleExpand:Me,isGroupOpen:W,toggleGroup:q,items:pe.value.map(B=>B.raw),internalItems:pe.value,groupedItems:re.value,columns:m.value,headers:p.value}));return ut(()=>{const B=um.filterProps(e),Ae=tc.filterProps(e),Fe=nc.filterProps(e),it=ac.filterProps(e);return h(ac,tt({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},it,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(Oe.value),default:()=>a.default?a.default(Oe.value):x(ft,null,[a.colgroup?.(Oe.value),!e.hideDefaultHeader&&x("thead",{key:"thead"},[h(tc,Ae,a)]),a.thead?.(Oe.value),!e.hideDefaultBody&&x("tbody",null,[a["body.prepend"]?.(Oe.value),a.body?a.body(Oe.value):h(nc,tt(n,Fe,{items:re.value}),a),a["body.append"]?.(Oe.value)]),a.tbody?.(Oe.value),a.tfoot?.(Oe.value)]),bottom:()=>a.bottom?a.bottom(Oe.value):!e.hideDefaultFooter&&x(ft,null,[h(Rs,null,null),h(um,B,{prepend:a["footer.prepend"]})])})}),{}}}),T4=We({...ga(Dy(),["hideDefaultFooter"]),...vy(),...px(),...im()},"VDataTableVirtual"),V4=at()({name:"VDataTableVirtual",props:T4(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{groupBy:r}=py(e),{sortBy:o,multiSort:i,mustSort:l}=fv(e),{disableSort:u}=Ic(e),{columns:f,headers:d,filterFunctions:m,sortFunctions:p,sortRawFunctions:y}=xy(e,{groupBy:r,showSelect:ke(()=>e.showSelect),showExpand:ke(()=>e.showExpand)}),{items:b}=Ey(e,f),C=ke(()=>e.search),{filteredItems:w}=sm(e,b,C,{transform:it=>it.columns,customKeyFilter:m}),{toggleSort:k}=mv({sortBy:o,multiSort:i,mustSort:l}),{sortByWithGroups:T,opened:V,extractRows:M,isGroupOpen:I,toggleGroup:R}=sv({groupBy:r,sortBy:o,disableSort:u}),{sortedItems:W}=by(e,w,T,{transform:it=>({...it.raw,...it.columns}),sortFunctions:p,sortRawFunctions:y}),{flatItems:q}=lv(W,r,V),z=N(()=>M(q.value)),{isSelected:Y,select:K,selectAll:ae,toggleSelect:te,someSelected:J,allSelected:ne}=cv(e,{allItems:z,currentPage:z}),{isExpanded:re,toggleExpand:pe}=iv(e),{containerRef:Ee,markerRef:me,paddingTop:fe,paddingBottom:le,computedItems:Te,handleItemResize:ue,handleScroll:De,handleScrollend:Me,calculateVisibleItems:Oe,scrollToIndex:B}=_x(e,q),Ae=N(()=>Te.value.map(it=>it.raw));uv({sortBy:o,page:gt(1),itemsPerPage:gt(-1),groupBy:r,search:C}),ya({VDataTableRows:{hideNoData:ke(()=>e.hideNoData),noDataText:ke(()=>e.noDataText),loading:ke(()=>e.loading),loadingText:ke(()=>e.loadingText)}});const Fe=N(()=>({sortBy:o.value,toggleSort:k,someSelected:J.value,allSelected:ne.value,isSelected:Y,select:K,selectAll:ae,toggleSelect:te,isExpanded:re,toggleExpand:pe,isGroupOpen:I,toggleGroup:R,items:z.value.map(it=>it.raw),internalItems:z.value,groupedItems:q.value,columns:f.value,headers:d.value}));return ut(()=>{const it=tc.filterProps(e),_e=nc.filterProps(e),mt=ac.filterProps(e);return h(ac,tt({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},mt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(Fe.value),wrapper:()=>x("div",{ref:Ee,onScrollPassive:De,onScrollend:Me,class:"v-table__wrapper",style:{height:It(e.height)}},[x("table",null,[a.colgroup?.(Fe.value),!e.hideDefaultHeader&&x("thead",{key:"thead"},[h(tc,it,a)]),a.thead?.(Fe.value),!e.hideDefaultBody&&x("tbody",{key:"tbody"},[x("tr",{ref:me,style:{height:It(fe.value),border:0}},[x("td",{colspan:f.value.length,style:{height:0,border:0}},null)]),a["body.prepend"]?.(Fe.value),h(nc,tt(n,_e,{items:Ae.value}),{...a,item:H=>h(vx,{key:H.internalItem.index,renderless:!0,"onUpdate:height":X=>ue(H.internalItem.index,X)},{default:X=>{let{itemRef:F}=X;return a.item?.({...H,itemRef:F})??h(Py,tt(H.props,{ref:F,key:H.internalItem.index,index:H.internalItem.index}),a)}})}),a["body.append"]?.(Fe.value),x("tr",{style:{height:It(le.value),border:0}},[x("td",{colspan:f.value.length,style:{height:0,border:0}},null)])]),a.tbody?.(Fe.value),a.tfoot?.(Fe.value)])]),bottom:()=>a.bottom?.(Fe.value)})}),{calculateVisibleItems:Oe,scrollToIndex:B}}}),O4=We({itemsLength:{type:[Number,String],required:!0},..._y(),...Dy(),...ky()},"VDataTableServer"),I4=at()({name:"VDataTableServer",props:O4(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const{groupBy:r}=py(e),{sortBy:o,multiSort:i,mustSort:l}=fv(e),{page:u,itemsPerPage:f}=gy(e),{disableSort:d}=Ic(e),m=N(()=>parseInt(e.itemsLength,10)),{columns:p,headers:y}=xy(e,{groupBy:r,showSelect:ke(()=>e.showSelect),showExpand:ke(()=>e.showExpand)}),{items:b}=Ey(e,p),{toggleSort:C}=mv({sortBy:o,multiSort:i,mustSort:l,page:u}),{opened:w,isGroupOpen:k,toggleGroup:T,extractRows:V}=sv({groupBy:r,sortBy:o,disableSort:d}),{pageCount:M,setItemsPerPage:I}=yy({page:u,itemsPerPage:f,itemsLength:m}),{flatItems:R}=lv(b,r,w),{isSelected:W,select:q,selectAll:z,toggleSelect:Y,someSelected:K,allSelected:ae}=cv(e,{allItems:b,currentPage:b}),{isExpanded:te,toggleExpand:J}=iv(e),ne=N(()=>V(b.value));uv({page:u,itemsPerPage:f,sortBy:o,groupBy:r,search:ke(()=>e.search)}),ia("v-data-table",{toggleSort:C,sortBy:o}),ya({VDataTableRows:{hideNoData:ke(()=>e.hideNoData),noDataText:ke(()=>e.noDataText),loading:ke(()=>e.loading),loadingText:ke(()=>e.loadingText)}});const re=N(()=>({page:u.value,itemsPerPage:f.value,sortBy:o.value,pageCount:M.value,toggleSort:C,setItemsPerPage:I,someSelected:K.value,allSelected:ae.value,isSelected:W,select:q,selectAll:z,toggleSelect:Y,isExpanded:te,toggleExpand:J,isGroupOpen:k,toggleGroup:T,items:ne.value.map(pe=>pe.raw),internalItems:ne.value,groupedItems:R.value,columns:p.value,headers:y.value}));ut(()=>{const pe=um.filterProps(e),Ee=tc.filterProps(e),me=nc.filterProps(e),fe=ac.filterProps(e);return h(ac,tt({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},fe,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(re.value),default:()=>a.default?a.default(re.value):x(ft,null,[a.colgroup?.(re.value),!e.hideDefaultHeader&&x("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[h(tc,Ee,a)]),a.thead?.(re.value),!e.hideDefaultBody&&x("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(re.value),a.body?a.body(re.value):h(nc,tt(n,me,{items:R.value}),a),a["body.append"]?.(re.value)]),a.tbody?.(re.value),a.tfoot?.(re.value)]),bottom:()=>a.bottom?a.bottom(re.value):!e.hideDefaultFooter&&x(ft,null,[h(Rs,null,null),h(um,pe,{prepend:a["footer.prepend"]})])})})}}),A4=We({fluid:{type:Boolean,default:!1},...Mt(),...Wa(),...nn()},"VContainer"),M4=at()({name:"VContainer",props:A4(),setup(e,t){let{slots:n}=t;const{rtlClasses:a}=Fa(),{dimensionStyles:r}=za(e);return ut(()=>h(e.tag,{class:Ye(["v-container",{"v-container--fluid":e.fluid},a.value,e.class]),style:vt([r.value,e.style])},n)),{}}}),oP=Ih.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),iP=Ih.reduce((e,t)=>{const n="offset"+So(t);return e[n]={type:[String,Number],default:null},e},{}),sP=Ih.reduce((e,t)=>{const n="order"+So(t);return e[n]={type:[String,Number],default:null},e},{}),lP={col:Object.keys(oP),offset:Object.keys(iP),order:Object.keys(sP)};function N4(e,t,n){let a=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");a+=`-${r}`}return e==="col"&&(a="v-"+a),e==="col"&&(n===""||n===!0)||(a+=`-${n}`),a.toLowerCase()}}const B4=["auto","start","end","center","baseline","stretch"],$4=We({cols:{type:[Boolean,String,Number],default:!1},...oP,offset:{type:[String,Number],default:null},...iP,order:{type:[String,Number],default:null},...sP,alignSelf:{type:String,default:null,validator:e=>B4.includes(e)},...Mt(),...nn()},"VCol"),R4=at()({name:"VCol",props:$4(),setup(e,t){let{slots:n}=t;const a=N(()=>{const r=[];let o;for(o in lP)lP[o].forEach(l=>{const u=e[l],f=N4(o,l,u);f&&r.push(f)});const i=r.some(l=>l.startsWith("v-col-"));return r.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>Ri(e.tag,{class:[a.value,e.class],style:e.style},n.default?.())}}),Ty=["start","end","center"],uP=["space-between","space-around","space-evenly"];function Vy(e,t){return Ih.reduce((n,a)=>{const r=e+So(a);return n[r]=t(),n},{})}const F4=[...Ty,"baseline","stretch"],cP=e=>F4.includes(e),dP=Vy("align",()=>({type:String,default:null,validator:cP})),L4=[...Ty,...uP],fP=e=>L4.includes(e),mP=Vy("justify",()=>({type:String,default:null,validator:fP})),q4=[...Ty,...uP,"stretch"],hP=e=>q4.includes(e),vP=Vy("alignContent",()=>({type:String,default:null,validator:hP})),pP={align:Object.keys(dP),justify:Object.keys(mP),alignContent:Object.keys(vP)},U4={align:"align",justify:"justify",alignContent:"align-content"};function H4(e,t,n){let a=U4[e];if(n!=null){if(t){const r=t.replace(e,"");a+=`-${r}`}return a+=`-${n}`,a.toLowerCase()}}const W4=We({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:cP},...dP,justify:{type:String,default:null,validator:fP},...mP,alignContent:{type:String,default:null,validator:hP},...vP,...Mt(),...nn()},"VRow"),z4=at()({name:"VRow",props:W4(),setup(e,t){let{slots:n}=t;const a=N(()=>{const r=[];let o;for(o in pP)pP[o].forEach(i=>{const l=e[i],u=H4(o,i,l);u&&r.push(u)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>Ri(e.tag,{class:["v-row",a.value,e.class],style:e.style},n.default?.())}}),_P=Wi("v-spacer","div","VSpacer"),gP=We({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:Ut,default:"$next"},prevIcon:{type:Ut,default:"$prev"},modeIcon:{type:Ut,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Oy=at()({name:"VDatePickerControls",props:gP(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const a=N(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=N(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),o=N(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),i=N(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function l(){n("click:prev")}function u(){n("click:next")}function f(){n("click:year")}function d(){n("click:month")}return ut(()=>x("div",{class:Ye(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":It(e.controlHeight)}},[h(wn,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:a.value,text:e.text,variant:"text",rounded:!0,onClick:d},null),h(wn,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:f},null),h(_P,null,null),x("div",{class:"v-date-picker-controls__month"},[h(wn,{"data-testid":"prev-month",disabled:o.value,density:"comfortable",icon:e.prevIcon,variant:"text",onClick:l},null),h(wn,{"data-testid":"next-month",disabled:i.value,icon:e.nextIcon,density:"comfortable",variant:"text",onClick:u},null)])])),{}}}),j4=We({appendIcon:Ut,color:String,header:String,transition:String,onClick:pr()},"VDatePickerHeader"),Iy=at()({name:"VDatePickerHeader",props:j4(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:a}=t;const{backgroundColorClasses:r,backgroundColorStyles:o}=jn(()=>e.color);function i(){n("click")}function l(){n("click:append")}return ut(()=>{const u=!!(a.default||e.header),f=!!(a.append||e.appendIcon);return x("div",{class:Ye(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value]),style:vt(o.value),onClick:i},[a.prepend&&x("div",{key:"prepend",class:"v-date-picker-header__prepend"},[a.prepend()]),u&&h(Fr,{key:"content",name:e.transition},{default:()=>[x("div",{key:e.header,class:"v-date-picker-header__content"},[a.default?.()??e.header])]}),f&&x("div",{class:"v-date-picker-header__append"},[a.append?h(rn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>[a.append?.()]}):h(wn,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:l},null)])])}),{}}}),Y4=We({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0}},"calendar");function K4(e){const t=Pf(),n=Lt(e,"modelValue",[],y=>ma(y).map(b=>t.date(b))),a=N(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=Lt(e,"year",void 0,y=>{const b=y!=null?Number(y):t.getYear(a.value);return t.startOfYear(t.setYear(t.date(),b))},y=>t.getYear(y)),o=Lt(e,"month",void 0,y=>{const b=y!=null?Number(y):t.getMonth(a.value),C=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(C,b)},y=>t.getMonth(y)),i=N(()=>{const y=t.toJsDate(t.startOfWeek(t.date(),e.firstDayOfWeek)).getDay();return t.getWeekdays(e.firstDayOfWeek).filter((b,C)=>e.weekdays.includes((C+y)%7))}),l=N(()=>{const y=t.getWeekArray(o.value,e.firstDayOfWeek),b=y.flat(),C=6*7;if(e.weeksInMonth==="static"&&b.length<C){const w=b[b.length-1];let k=[];for(let T=1;T<=C-b.length;T++)k.push(t.addDays(w,T)),T%7===0&&(y.push(k),k=[])}return y});function u(y,b){return y.filter(C=>e.weekdays.includes(t.toJsDate(C).getDay())).map((C,w)=>{const k=t.toISO(C),T=!t.isSameMonth(C,o.value),V=t.isSameDay(C,t.startOfMonth(o.value)),M=t.isSameDay(C,t.endOfMonth(o.value)),I=t.isSameDay(C,o.value),R=e.weekdays.length;return{date:C,formatted:t.format(C,"keyboardDate"),isAdjacent:T,isDisabled:p(C),isEnd:M,isHidden:T&&!e.showAdjacentMonths,isSame:I,isSelected:n.value.some(W=>t.isSameDay(C,W)),isStart:V,isToday:t.isSameDay(C,b),isWeekEnd:w%R===R-1,isWeekStart:w%R===0,isoDate:k,localized:t.format(C,"dayOfMonth"),month:t.getMonth(C),year:t.getYear(C)}})}const f=N(()=>{const y=t.startOfWeek(a.value,e.firstDayOfWeek),b=[];for(let w=0;w<=6;w++)b.push(t.addDays(y,w));const C=t.date();return u(b,C)}),d=N(()=>{const y=l.value.flat(),b=t.date();return u(y,b)}),m=N(()=>l.value.map(y=>y.length?t.getWeek(y[0],e.firstDayOfWeek):null));function p(y){if(e.disabled)return!0;const b=t.date(y);return e.min&&t.isAfter(t.date(e.min),b)||e.max&&t.isAfter(b,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(C=>t.isSameDay(t.date(C),b)):typeof e.allowedDates=="function"?!e.allowedDates(b):!1}return{displayValue:a,daysInMonth:d,daysInWeek:f,genDays:u,model:n,weeksInMonth:l,weekdayLabels:i,weekNumbers:m}}const yP=We({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...ga(Y4(),["displayValue"])},"VDatePickerMonth"),Ay=at()({name:"VDatePickerMonth",props:yP(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Re(),{daysInMonth:o,model:i,weekNumbers:l,weekdayLabels:u}=K4(e),f=Pf(),d=gt(),m=gt(),p=gt(!1),y=ke(()=>p.value?e.reverseTransition:e.transition);e.multiple==="range"&&i.value.length>0&&(d.value=i.value[0],i.value.length>1&&(m.value=i.value[i.value.length-1]));const b=N(()=>{const T=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return i.value.length>=T});_t(o,(T,V)=>{V&&(p.value=f.isBefore(T[0].date,V[0].date))});function C(T){const V=f.startOfDay(T);if(i.value.length===0?d.value=void 0:i.value.length===1&&(d.value=i.value[0],m.value=void 0),!d.value)d.value=V,i.value=[d.value];else if(m.value)d.value=T,m.value=void 0,i.value=[d.value];else{if(f.isSameDay(V,d.value)){d.value=void 0,i.value=[];return}else f.isBefore(V,d.value)?(m.value=f.endOfDay(d.value),d.value=V):m.value=f.endOfDay(V);i.value=I2(f,d.value,m.value)}}function w(T){const V=i.value.findIndex(M=>f.isSameDay(M,T));if(V===-1)i.value=[...i.value,T];else{const M=[...i.value];M.splice(V,1),i.value=M}}function k(T){e.multiple==="range"?C(T):e.multiple?w(T):i.value=[T]}ut(()=>x("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&x("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&x("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ke(" ")]),l.value.map(T=>x("div",{class:Ye(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[T]))]),h(Fr,{name:y.value},{default:()=>[x("div",{ref:r,key:o.value[0].date?.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&u.value.map(T=>x("div",{class:Ye(["v-date-picker-month__day","v-date-picker-month__weekday"])},[T])),o.value.map((T,V)=>{const M={props:{class:"v-date-picker-month__day-btn",color:T.isSelected||T.isToday?e.color:void 0,disabled:T.isDisabled,icon:!0,ripple:!1,text:T.localized,variant:T.isSelected?"flat":T.isToday?"outlined":"text",onClick:()=>k(T.date)},item:T,i:V};return b.value&&!T.isSelected&&(T.isDisabled=!0),x("div",{class:Ye(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":T.isAdjacent,"v-date-picker-month__day--hide-adjacent":T.isHidden,"v-date-picker-month__day--selected":T.isSelected,"v-date-picker-month__day--week-end":T.isWeekEnd,"v-date-picker-month__day--week-start":T.isWeekStart}]),"data-v-date":T.isDisabled?void 0:T.isoDate},[(e.showAdjacentMonths||!T.isAdjacent)&&(a.day?.(M)??h(wn,M.props,null))])})])]})]))}}),bP=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),My=at()({name:"VDatePickerMonths",props:bP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Pf(),o=Lt(e,"modelValue"),i=N(()=>{let u=r.startOfYear(r.date());return e.year&&(u=r.setYear(u,e.year)),Li(12).map(f=>{const d=r.format(u,"monthShort"),m=!!(!l(f)||e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),u)||e.max&&r.isAfter(u,r.startOfMonth(r.date(e.max))));return u=r.getNextMonth(u),{isDisabled:m,text:d,value:f}})});ca(()=>{o.value=o.value??r.getMonth(r.date())});function l(u){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(u):typeof e.allowedMonths=="function"?e.allowedMonths(u):!0}return ut(()=>x("div",{class:"v-date-picker-months",style:{height:It(e.height)}},[x("div",{class:"v-date-picker-months__content"},[i.value.map((u,f)=>{const d={active:o.value===f,color:o.value===f?e.color:void 0,disabled:u.isDisabled,rounded:!0,text:u.text,variant:o.value===u.value?"flat":"text",onClick:()=>m(f)};function m(p){if(o.value===p){n("update:modelValue",o.value);return}o.value=p}return a.month?.({month:u,i:f,props:d})??h(wn,tt({key:"month"},d),null)})])])),{}}}),wP=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),Ny=at()({name:"VDatePickerYears",props:wP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Pf(),o=Lt(e,"modelValue"),i=N(()=>{const f=r.getYear(r.date());let d=f-100,m=f+52;e.min&&(d=r.getYear(r.date(e.min))),e.max&&(m=r.getYear(r.date(e.max)));let p=r.startOfYear(r.date());return p=r.setYear(p,d),Li(m-d+1,d).map(y=>{const b=r.format(p,"year");return p=r.setYear(p,r.getYear(p)+1),{text:b,value:y,isDisabled:!u(y)}})});ca(()=>{o.value=o.value??r.getYear(r.date())});const l=kh();yn(async()=>{await Qt(),l.el?.focus()});function u(f){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(f):typeof e.allowedYears=="function"?e.allowedYears(f):!0}return ut(()=>x("div",{class:"v-date-picker-years",style:{height:It(e.height)}},[x("div",{class:"v-date-picker-years__content"},[i.value.map((f,d)=>{const m={ref:o.value===f.value?l:void 0,active:o.value===f.value,color:o.value===f.value?e.color:void 0,rounded:!0,text:f.text,disabled:f.isDisabled,variant:o.value===f.value?"flat":"text",onClick:()=>{if(o.value===f.value){n("update:modelValue",o.value);return}o.value=f.value}};return a.year?.({year:f,i:d,props:m})??h(wn,tt({key:"month"},m),null)})])])),{}}}),G4=We({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...gP(),...yP({weeksInMonth:"static"}),...ga(bP(),["modelValue"]),...ga(wP(),["modelValue"]),...hy({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Q4=at()({name:"VDatePicker",props:G4(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const r=Pf(),{t:o}=ba(),{rtlClasses:i}=Fa(),l=Lt(e,"modelValue",void 0,re=>ma(re).map(pe=>r.date(pe)),re=>e.multiple?re:re[0]),u=Lt(e,"viewMode"),f=N(()=>{const re=r.date(e.min);return e.min&&r.isValid(re)?re:null}),d=N(()=>{const re=r.date(e.max);return e.max&&r.isValid(re)?re:null}),m=N(()=>{const re=r.date();let pe=re;return l.value?.[0]?pe=r.date(l.value[0]):f.value&&r.isBefore(re,f.value)?pe=f.value:d.value&&r.isAfter(re,d.value)&&(pe=d.value),pe&&r.isValid(pe)?pe:re}),p=ke(()=>e.headerColor??e.color),y=Lt(e,"month"),b=N({get:()=>Number(y.value??r.getMonth(r.startOfMonth(m.value))),set:re=>y.value=re}),C=Lt(e,"year"),w=N({get:()=>Number(C.value??r.getYear(r.startOfYear(r.setMonth(m.value,b.value)))),set:re=>C.value=re}),k=gt(!1),T=N(()=>e.multiple&&l.value.length>1?o("$vuetify.datePicker.itemsSelected",l.value.length):l.value[0]&&r.isValid(l.value[0])?r.format(r.date(l.value[0]),"normalDateWithWeekday"):o(e.header)),V=N(()=>{let re=r.date();return re=r.setDate(re,1),re=r.setMonth(re,b.value),re=r.setYear(re,w.value),r.format(re,"monthAndYear")}),M=ke(()=>`date-picker-header${k.value?"-reverse":""}-transition`),I=N(()=>{if(e.disabled)return!0;const re=[];if(u.value!=="month")re.push("prev","next");else{let pe=r.date();if(pe=r.startOfMonth(pe),pe=r.setMonth(pe,b.value),pe=r.setYear(pe,w.value),f.value){const Ee=r.addDays(r.startOfMonth(pe),-1);r.isAfter(f.value,Ee)&&re.push("prev")}if(d.value){const Ee=r.addDays(r.endOfMonth(pe),1);r.isAfter(Ee,d.value)&&re.push("next")}}return re});function R(re,pe){const Ee=e.allowedDates;if(typeof Ee!="function")return!0;const me=r.getDiff(pe,re,"days");for(let fe=0;fe<me;fe++)if(Ee(r.addDays(re,fe)))return!0;return!1}function W(re){if(typeof e.allowedDates=="function"){const pe=r.parseISO(`${re}-01-01`);return R(pe,r.endOfYear(pe))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const pe of e.allowedDates)if(r.getYear(r.date(pe))===re)return!0;return!1}return!0}function q(re){if(typeof e.allowedDates=="function"){const pe=r.parseISO(`${w.value}-${re+1}-01`);return R(pe,r.endOfMonth(pe))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const pe of e.allowedDates)if(r.getYear(r.date(pe))===w.value&&r.getMonth(r.date(pe))===re)return!0;return!1}return!0}function z(){b.value<11?b.value++:(w.value++,b.value=0,ne()),J()}function Y(){b.value>0?b.value--:(w.value--,b.value=11,ne()),J()}function K(){u.value="month"}function ae(){u.value=u.value==="months"?"month":"months"}function te(){u.value=u.value==="year"?"month":"year"}function J(){u.value==="months"&&ae()}function ne(){u.value==="year"&&te()}return _t(l,(re,pe)=>{const Ee=ma(pe),me=ma(re);if(!me.length)return;const fe=r.date(Ee[Ee.length-1]),le=r.date(me[me.length-1]),Te=r.getMonth(le),ue=r.getYear(le);Te!==b.value&&(b.value=Te,J()),ue!==w.value&&(w.value=ue,ne()),k.value=r.isBefore(fe,le)}),ut(()=>{const re=ov.filterProps(e),pe=Oy.filterProps(e),Ee=Iy.filterProps(e),me=Ay.filterProps(e),fe=ga(My.filterProps(e),["modelValue"]),le=ga(Ny.filterProps(e),["modelValue"]),Te={color:p.value,header:T.value,transition:M.value};return h(ov,tt(re,{color:p.value,class:["v-date-picker",`v-date-picker--${u.value}`,{"v-date-picker--show-week":e.showWeek},i.value,e.class],style:e.style}),{title:()=>a.title?.()??x("div",{class:"v-date-picker__title"},[o(e.title)]),header:()=>a.header?h(rn,{defaults:{VDatePickerHeader:{...Te}}},{default:()=>[a.header?.(Te)]}):h(Iy,tt({key:"header"},Ee,Te,{onClick:u.value!=="month"?K:void 0}),{...a,default:void 0}),default:()=>x(ft,null,[h(Oy,tt(pe,{disabled:I.value,text:V.value,"onClick:next":z,"onClick:prev":Y,"onClick:month":ae,"onClick:year":te}),null),h(Uf,{hideOnLeave:!0},{default:()=>[u.value==="months"?h(My,tt({key:"date-picker-months"},fe,{modelValue:b.value,"onUpdate:modelValue":[ue=>b.value=ue,J],min:f.value,max:d.value,year:w.value,allowedMonths:q}),null):u.value==="year"?h(Ny,tt({key:"date-picker-years"},le,{modelValue:w.value,"onUpdate:modelValue":[ue=>w.value=ue,ne],min:f.value,max:d.value,allowedYears:W}),null):h(Ay,tt({key:"date-picker-month"},me,{modelValue:l.value,"onUpdate:modelValue":ue=>l.value=ue,month:b.value,"onUpdate:month":[ue=>b.value=ue,J],year:w.value,"onUpdate:year":[ue=>w.value=ue,ne],min:f.value,max:d.value}),null)]})]),actions:a.actions})}),{}}}),X4=We({actionText:String,bgColor:String,color:String,icon:Ut,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Mt(),...Wa(),...Gi({size:void 0}),...bn()},"VEmptyState"),J4=at()({name:"VEmptyState",props:X4(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{themeClasses:r}=Nn(e),{backgroundColorClasses:o,backgroundColorStyles:i}=jn(()=>e.bgColor),{dimensionStyles:l}=za(e),{displayClasses:u}=Uo();function f(d){n("click:action",d)}return ut(()=>{const d=!!(a.actions||e.actionText),m=!!(a.headline||e.headline),p=!!(a.title||e.title),y=!!(a.text||e.text),b=!!(a.media||e.image||e.icon),C=e.size||(e.image?200:96);return x("div",{class:Ye(["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,o.value,u.value,e.class]),style:vt([i.value,l.value,e.style])},[b&&x("div",{key:"media",class:"v-empty-state__media"},[a.media?h(rn,{key:"media-defaults",defaults:{VImg:{src:e.image,height:C},VIcon:{size:C,icon:e.icon}}},{default:()=>[a.media()]}):x(ft,null,[e.image?h(Is,{key:"image",src:e.image,height:C},null):e.icon?h(In,{key:"icon",color:e.color,size:C,icon:e.icon},null):void 0])]),m&&x("div",{key:"headline",class:"v-empty-state__headline"},[a.headline?.()??e.headline]),p&&x("div",{key:"title",class:"v-empty-state__title"},[a.title?.()??e.title]),y&&x("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:It(e.textWidth)}},[a.text?.()??e.text]),a.default&&x("div",{key:"content",class:"v-empty-state__content"},[a.default()]),d&&x("div",{key:"actions",class:"v-empty-state__actions"},[h(rn,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>[a.actions?.({props:{onClick:f}})??h(wn,{onClick:f},null)]})])])}),{}}}),cm=Symbol.for("vuetify:v-expansion-panel"),kP=We({...Mt(),...Qg()},"VExpansionPanelText"),By=at()({name:"VExpansionPanelText",props:kP(),setup(e,t){let{slots:n}=t;const a=un(cm);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:o}=Xg(e,a.isSelected);return ut(()=>h(jh,{onAfterLeave:o},{default:()=>[Sn(x("div",{class:Ye(["v-expansion-panel-text",e.class]),style:vt(e.style)},[n.default&&r.value&&x("div",{class:"v-expansion-panel-text__wrapper"},[n.default?.()])]),[[Ca,a.isSelected.value]])]})),{}}}),SP=We({color:String,expandIcon:{type:Ut,default:"$expand"},collapseIcon:{type:Ut,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Mt(),...Wa()},"VExpansionPanelTitle"),$y=at()({name:"VExpansionPanelTitle",directives:{vRipple:qr},props:SP(),setup(e,t){let{slots:n}=t;const a=un(cm);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:o}=jn(()=>e.color),{dimensionStyles:i}=za(e),l=N(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),u=ke(()=>a.isSelected.value?e.collapseIcon:e.expandIcon);return ut(()=>Sn(x("button",{class:Ye(["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class]),style:vt([o.value,i.value,e.style]),type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[x("span",{class:"v-expansion-panel-title__overlay"},null),n.default?.(l.value),!e.hideActions&&h(rn,{defaults:{VIcon:{icon:u.value}}},{default:()=>[x("span",{class:"v-expansion-panel-title__icon"},[n.actions?.(l.value)??h(In,null,null)])]})]),[[qr,e.ripple]])),{}}}),CP=We({title:String,text:String,bgColor:String,...er(),...Ku(),...da(),...nn(),...SP(),...kP()},"VExpansionPanel"),Z4=at()({name:"VExpansionPanel",props:CP(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=Gu(e,cm),{backgroundColorClasses:r,backgroundColorStyles:o}=jn(()=>e.bgColor),{elevationClasses:i}=yr(e),{roundedClasses:l}=ka(e),u=ke(()=>a?.disabled.value||e.disabled),f=N(()=>a.group.items.value.reduce((p,y,b)=>(a.group.selected.value.includes(y.id)&&p.push(b),p),[])),d=N(()=>{const p=a.group.items.value.findIndex(y=>y.id===a.id);return!a.isSelected.value&&f.value.some(y=>y-p===1)}),m=N(()=>{const p=a.group.items.value.findIndex(y=>y.id===a.id);return!a.isSelected.value&&f.value.some(y=>y-p===-1)});return ia(cm,a),ut(()=>{const p=!!(n.text||e.text),y=!!(n.title||e.title),b=$y.filterProps(e),C=By.filterProps(e);return h(e.tag,{class:Ye(["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":m.value,"v-expansion-panel--disabled":u.value},l.value,r.value,e.class]),style:vt([o.value,e.style])},{default:()=>[x("div",{class:Ye(["v-expansion-panel__shadow",...i.value])},null),h(rn,{defaults:{VExpansionPanelTitle:{...b},VExpansionPanelText:{...C}}},{default:()=>[y&&h($y,{key:"title"},{default:()=>[n.title?n.title():e.title]}),p&&h(By,{key:"text"},{default:()=>[n.text?n.text():e.text]}),n.default?.()]})]})}),{groupItem:a}}}),e5=["default","accordion","inset","popout"],t5=We({flat:Boolean,...Yu(),...Sl(CP(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...bn(),...Mt(),...nn(),variant:{type:String,default:"default",validator:e=>e5.includes(e)}},"VExpansionPanels"),n5=at()({name:"VExpansionPanels",props:t5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:a,prev:r}=Ml(e,cm),{themeClasses:o}=Nn(e),i=ke(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ya({VExpansionPanel:{bgColor:ke(()=>e.bgColor),collapseIcon:ke(()=>e.collapseIcon),color:ke(()=>e.color),eager:ke(()=>e.eager),elevation:ke(()=>e.elevation),expandIcon:ke(()=>e.expandIcon),focusable:ke(()=>e.focusable),hideActions:ke(()=>e.hideActions),readonly:ke(()=>e.readonly),ripple:ke(()=>e.ripple),rounded:ke(()=>e.rounded),static:ke(()=>e.static)}}),ut(()=>h(e.tag,{class:Ye(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},o.value,i.value,e.class]),style:vt(e.style)},{default:()=>[n.default?.({prev:r,next:a})]})),{next:a,prev:r}}}),a5=We({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...ga(Qh({active:!0}),["location"]),...$u(),...As(),...Si({transition:"fab-transition"})},"VFab"),r5=at()({name:"VFab",props:a5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),r=gt(56),o=Re(),{resizeRef:i}=pi(m=>{m.length&&(r.value=m[0].target.clientHeight)}),l=ke(()=>e.app||e.absolute),u=N(()=>l.value?e.location?.split(" ").shift()??"bottom":!1),f=N(()=>l.value?e.location?.split(" ")[1]??"end":!1);Nr(()=>e.app,()=>{const m=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:u,layoutSize:N(()=>e.layout?r.value+24:0),elementSize:N(()=>r.value+24),active:N(()=>e.app&&a.value),absolute:ke(()=>e.absolute)});ca(()=>{o.value=m.layoutItemStyles.value})});const d=Re();return ut(()=>{const m=wn.filterProps(e);return x("div",{ref:d,class:Ye(["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${u.value}`]:l.value,[`v-fab--${f.value}`]:l.value},e.class]),style:vt([e.app?{...o.value}:{height:e.absolute?"100%":"inherit"},e.style])},[x("div",{class:"v-fab__container"},[h(Fr,{appear:e.appear,transition:e.transition},{default:()=>[Sn(h(wn,tt({ref:i},m,{active:void 0,location:void 0}),n),[[Ca,e.active]])]})])])}),{}}});function o5(){function e(n){return[...n.dataTransfer?.items??[]].filter(r=>r.kind==="file").map(r=>r.webkitGetAsEntry()).filter(Boolean).length>0||[...n.dataTransfer?.files??[]].length>0}async function t(n){const a=[],r=[...n.dataTransfer?.items??[]].filter(o=>o.kind==="file").map(o=>o.webkitGetAsEntry()).filter(Boolean);if(r.length)for(const o of r){const i=await xP(o,PP(".",o));a.push(...i.map(l=>l.file))}else a.push(...n.dataTransfer?.files??[]);return a}return{handleDrop:t,hasFilesOrFolders:e}}function xP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((n,a)=>{e.isFile?e.file(o=>n([{file:o,path:t}]),a):e.isDirectory&&e.createReader().readEntries(async o=>{const i=[];for(const l of o)i.push(...await xP(l,PP(t,l)));n(i)})})}function PP(e,t){return t.isDirectory?`${e}/${t.name}`:e}const i5=We({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Bs({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>ma(e).every(t=>t!=null&&typeof t=="object")},...rm({clearable:!0})},"VFileInput"),s5=at()({name:"VFileInput",inheritAttrs:!1,props:i5(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{t:o}=ba(),i=Lt(e,"modelValue",e.modelValue,ne=>ma(ne),ne=>!e.multiple&&Array.isArray(ne)?ne[0]:ne),{isFocused:l,focus:u,blur:f}=Ns(e),d=N(()=>typeof e.showSize!="boolean"?e.showSize:void 0),m=N(()=>(i.value??[]).reduce((ne,re)=>{let{size:pe=0}=re;return ne+pe},0)),p=N(()=>O1(m.value,d.value)),y=N(()=>(i.value??[]).map(ne=>{const{name:re="",size:pe=0}=ne;return e.showSize?`${re} (${O1(pe,d.value)})`:re})),b=N(()=>{const ne=i.value?.length??0;return e.showSize?o(e.counterSizeString,ne,p.value):o(e.counterString,ne)}),C=Re(),w=Re(),k=Re(),T=ke(()=>l.value||e.active),V=N(()=>["plain","underlined"].includes(e.variant)),M=gt(!1),{handleDrop:I,hasFilesOrFolders:R}=o5();function W(){k.value!==document.activeElement&&k.value?.focus(),l.value||u()}function q(ne){k.value?.click()}function z(ne){a("mousedown:control",ne)}function Y(ne){k.value?.click(),a("click:control",ne)}function K(ne){ne.stopPropagation(),W(),Qt(()=>{i.value=[],yh(e["onClick:clear"],ne)})}function ae(ne){ne.preventDefault(),ne.stopImmediatePropagation(),M.value=!0}function te(ne){ne.preventDefault(),M.value=!1}async function J(ne){if(ne.preventDefault(),ne.stopImmediatePropagation(),M.value=!1,!k.value||!R(ne))return;const re=new DataTransfer;for(const pe of await I(ne))re.items.add(pe);k.value.files=re.files,k.value.dispatchEvent(new Event("change",{bubbles:!0}))}return _t(i,ne=>{(!Array.isArray(ne)||!ne.length)&&k.value&&(k.value.value="")}),ut(()=>{const ne=!!(r.counter||e.counter),re=!!(ne||r.details),[pe,Ee]=Cl(n),{modelValue:me,...fe}=Dr.filterProps(e),le=$l.filterProps(e);return h(Dr,tt({ref:C,modelValue:e.multiple?i.value:i.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":M.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":V.value},e.class],style:e.style,"onClick:prepend":q},pe,fe,{centerAffix:!V.value,focused:l.value}),{...r,default:Te=>{let{id:ue,isDisabled:De,isDirty:Me,isReadonly:Oe,isValid:B}=Te;return h($l,tt({ref:w,"prepend-icon":e.prependIcon,onMousedown:z,onClick:Y,"onClick:clear":K,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},le,{id:ue.value,active:T.value||Me.value,dirty:Me.value||e.dirty,disabled:De.value,focused:l.value,error:B.value===!1,onDragover:ae,onDrop:J}),{...r,default:Ae=>{let{props:{class:Fe,...it}}=Ae;return x(ft,null,[x("input",tt({ref:k,type:"file",readonly:Oe.value,disabled:De.value,multiple:e.multiple,name:e.name,onClick:_e=>{_e.stopPropagation(),Oe.value&&_e.preventDefault(),W()},onChange:_e=>{if(!_e.target)return;const mt=_e.target;i.value=[...mt.files??[]]},onDragleave:te,onFocus:W,onBlur:f},it,Ee),null),x("div",{class:Ye(Fe)},[!!i.value?.length&&!e.hideInput&&(r.selection?r.selection({fileNames:y.value,totalBytes:m.value,totalBytesReadable:p.value}):e.chips?y.value.map(_e=>h(vd,{key:_e,size:"small",text:_e},null)):y.value.join(", "))])])}})},details:re?Te=>x(ft,null,[r.details?.(Te),ne&&x(ft,null,[x("span",null,null),h(ev,{active:!!i.value?.length,value:b.value,disabled:e.disabled},r.counter)])]):void 0})}),Oo({},C,w,k)}}),l5=We({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...mo(),...Mt(),...er(),...$u(),...da(),...nn({tag:"footer"}),...bn()},"VFooter"),u5=at()({name:"VFooter",props:l5(),setup(e,t){let{slots:n}=t;const a=Re(),{themeClasses:r}=Nn(e),{backgroundColorClasses:o,backgroundColorStyles:i}=jn(()=>e.color),{borderClasses:l}=To(e),{elevationClasses:u}=yr(e),{roundedClasses:f}=ka(e),d=gt(32),{resizeRef:m}=pi(y=>{y.length&&(d.value=y[0].target.clientHeight)}),p=N(()=>e.height==="auto"?d.value:parseInt(e.height,10));return Nr(()=>e.app,()=>{const y=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:ke(()=>"bottom"),layoutSize:p,elementSize:N(()=>e.height==="auto"?void 0:p.value),active:ke(()=>e.app),absolute:ke(()=>e.absolute)});ca(()=>{a.value=y.layoutItemStyles.value})}),ut(()=>h(e.tag,{ref:m,class:Ye(["v-footer",r.value,o.value,l.value,u.value,f.value,e.class]),style:vt([i.value,e.app?a.value:{height:It(e.height)},e.style])},n)),{}}}),c5=We({...Mt(),...$F()},"VForm"),d5=at()({name:"VForm",props:c5(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=RF(e),o=Re();function i(u){u.preventDefault(),r.reset()}function l(u){const f=u,d=r.validate();f.then=d.then.bind(d),f.catch=d.catch.bind(d),f.finally=d.finally.bind(d),a("submit",f),f.defaultPrevented||d.then(m=>{let{valid:p}=m;p&&o.value?.submit()}),f.preventDefault()}return ut(()=>x("form",{ref:o,class:Ye(["v-form",e.class]),style:vt(e.style),novalidate:!0,onReset:i,onSubmit:l},[n.default?.(r)])),Oo(r,o)}}),f5=We({disabled:Boolean,modelValue:{type:Boolean,default:null},...Kg()},"VHover"),m5=at()({name:"VHover",props:f5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{runOpenDelay:r,runCloseDelay:o}=Gg(e,i=>!e.disabled&&(a.value=i));return()=>n.default?.({isHovering:a.value,props:{onMouseenter:r,onMouseleave:o}})}}),h5=We({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Wa(),...nn()},"VInfiniteScroll"),EP=Po({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:a,isIntersecting:r}=Hf();return _t(r,async o=>{n("intersect",e.side,o)}),ut(()=>x("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:a},[Ke(" ")])),{}}}),v5=at()({name:"VInfiniteScroll",props:h5(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Re(),o=gt("ok"),i=gt("ok"),l=N(()=>It(e.margin)),u=gt(!1);function f(I){if(!r.value)return;const R=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[R]=I}function d(){if(!r.value)return 0;const I=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[I]}function m(){if(!r.value)return 0;const I=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[I]}function p(){if(!r.value)return 0;const I=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[I]}yn(()=>{r.value&&(e.side==="start"?f(m()):e.side==="both"&&f(m()/2-p()/2))});function y(I,R){I==="start"?o.value=R:I==="end"&&(i.value=R)}function b(I){return I==="start"?o.value:i.value}let C=0;function w(I,R){u.value=R,u.value&&k(I)}function k(I){if(e.mode!=="manual"&&!u.value)return;const R=b(I);if(!r.value||["empty","loading"].includes(R))return;C=m(),y(I,"loading");function W(q){y(I,q),Qt(()=>{q==="empty"||q==="error"||(q==="ok"&&I==="start"&&f(m()-C+d()),e.mode!=="manual"&&Qt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{k(I)})})})}))})}a("load",{side:I,done:W})}const{t:T}=ba();function V(I,R){if(e.side!==I&&e.side!=="both")return;const W=()=>k(I),q={side:I,props:{onClick:W,color:e.color}};return R==="error"?n.error?.(q):R==="empty"?n.empty?.(q)??x("div",null,[T(e.emptyText)]):e.mode==="manual"?R==="loading"?n.loading?.(q)??h(dd,{indeterminate:!0,color:e.color},null):n["load-more"]?.(q)??h(wn,{variant:"outlined",color:e.color,onClick:W},{default:()=>[T(e.loadMoreText)]}):n.loading?.(q)??h(dd,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:M}=za(e);ut(()=>{const I=e.tag,R=e.side==="start"||e.side==="both",W=e.side==="end"||e.side==="both",q=e.mode==="intersect";return h(I,{ref:r,class:Ye(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":R,"v-infinite-scroll--end":W}]),style:vt(M.value)},{default:()=>[x("div",{class:"v-infinite-scroll__side"},[V("start",o.value)]),R&&q&&h(EP,{key:"start",side:"start",onIntersect:w,rootMargin:l.value},null),n.default?.(),W&&q&&h(EP,{key:"end",side:"end",onIntersect:w,rootMargin:l.value},null),x("div",{class:"v-infinite-scroll__side"},[V("end",i.value)])]})})}}),DP=Symbol.for("vuetify:v-item-group"),p5=We({...Mt(),...Yu({selectedClass:"v-item--selected"}),...nn(),...bn()},"VItemGroup"),_5=at()({name:"VItemGroup",props:p5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{isSelected:r,select:o,next:i,prev:l,selected:u}=Ml(e,DP);return()=>h(e.tag,{class:Ye(["v-item-group",a.value,e.class]),style:vt(e.style)},{default:()=>[n.default?.({isSelected:r,select:o,next:i,prev:l,selected:u.value})]})}}),g5=at()({name:"VItem",props:Ku(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:a,select:r,toggle:o,selectedClass:i,value:l,disabled:u}=Gu(e,DP);return()=>n.default?.({isSelected:a.value,selectedClass:i.value,select:r,toggle:o,value:l.value,disabled:u.value})}}),y5=Wi("v-kbd","kbd"),b5=We({...Mt(),...Wa(),...Nk()},"VLayout"),w5=at()({name:"VLayout",props:b5(),setup(e,t){let{slots:n}=t;const{layoutClasses:a,layoutStyles:r,getLayoutItem:o,items:i,layoutRef:l}=$k(e),{dimensionStyles:u}=za(e);return ut(()=>x("div",{ref:l,class:Ye([a.value,e.class]),style:vt([u.value,r.value,e.style])},[n.default?.()])),{getLayoutItem:o,items:i}}}),k5=We({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Mt(),...$u()},"VLayoutItem"),S5=at()({name:"VLayoutItem",props:k5(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:a}=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:ke(()=>e.position),elementSize:ke(()=>e.size),layoutSize:ke(()=>e.size),active:ke(()=>e.modelValue),absolute:ke(()=>e.absolute)});return()=>x("div",{class:Ye(["v-layout-item",e.class]),style:vt([a.value,e.style])},[n.default?.()])}}),C5=We({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Mt(),...Wa(),...nn(),...Si({transition:"fade-transition"})},"VLazy"),x5=at()({name:"VLazy",directives:{vIntersect:Os},props:C5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=za(e),r=Lt(e,"modelValue");function o(i){r.value||(r.value=i)}return ut(()=>Sn(h(e.tag,{class:Ye(["v-lazy",e.class]),style:vt([a.value,e.style])},{default:()=>[r.value&&h(Fr,{transition:e.transition,appear:!0},{default:()=>[n.default?.()]})]}),[[Os,{handler:o,options:e.options},null]])),{}}}),P5=We({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Mt()},"VLocaleProvider"),E5=at()({name:"VLocaleProvider",props:P5(),setup(e,t){let{slots:n}=t;const{rtlClasses:a}=YA(e);return ut(()=>x("div",{class:Ye(["v-locale-provider",a.value,e.class]),style:vt(e.style)},[n.default?.()])),{}}}),D5=We({scrollable:Boolean,...Mt(),...Wa(),...nn({tag:"main"})},"VMain"),T5=at()({name:"VMain",props:D5(),setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=za(e),{mainStyles:r}=Bk(),{ssrBootStyles:o}=zu();return ut(()=>h(e.tag,{class:Ye(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:vt([r.value,o.value,a.value,e.style])},{default:()=>[e.scrollable?x("div",{class:"v-main__scroller"},[n.default?.()]):n.default?.()]})),{}}});function V5(e){let{rootEl:t,isSticky:n,layoutItemStyles:a}=e;const r=gt(!1),o=gt(0),i=N(()=>{const f=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[f]:It(o.value)}:{top:a.value.top}]});yn(()=>{_t(n,f=>{f?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),hr(()=>{window.removeEventListener("scroll",u)});let l=0;function u(){const f=l>window.scrollY?"up":"down",d=t.value.getBoundingClientRect(),m=parseFloat(a.value.top??0),p=window.scrollY-Math.max(0,o.value-m),y=d.height+Math.max(o.value,m)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-m?(r.value="top",o.value=m):f==="up"&&r.value==="bottom"||f==="down"&&r.value==="top"?(o.value=window.scrollY+d.top-b,r.value=!0):f==="down"&&y<=0?(o.value=0,r.value="bottom"):f==="up"&&p<=0&&(b?r.value!=="top"&&(o.value=-p+b+m,r.value="top"):(o.value=d.top+p,r.value="top")),l=window.scrollY}return{isStuck:r,stickyStyles:i}}const O5=100,I5=20;function TP(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function VP(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const a=TP(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-a)*Math.abs(r),n===e.length-1&&(t*=.5)}return TP(t)*1e3}function A5(){const e={};function t(r){Array.from(r.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new A1(I5))).push([r.timeStamp,o])})}function n(r){Array.from(r.changedTouches).forEach(o=>{delete e[o.identifier]})}function a(r){const o=e[r]?.values().reverse();if(!o)throw new Error(`No samples for touch id ${r}`);const i=o[0],l=[],u=[];for(const f of o){if(i[0]-f[0]>O5)break;l.push({t:f[0],d:f[1].clientX}),u.push({t:f[0],d:f[1].clientY})}return{x:VP(l),y:VP(u),get direction(){const{x:f,y:d}=this,[m,p]=[Math.abs(f),Math.abs(d)];return m>p&&f>=0?"right":m>p&&f<=0?"left":p>m&&d>=0?"down":p>m&&d<=0?"up":M5()}}}return{addMovement:t,endTouch:n,getVelocity:a}}function M5(){throw new Error}function N5(e){let{el:t,isActive:n,isTemporary:a,width:r,touchless:o,position:i}=e;yn(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",V,{passive:!1}),window.addEventListener("touchend",M,{passive:!0})}),hr(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",V),window.removeEventListener("touchend",M)});const l=N(()=>["left","right"].includes(i.value)),{addMovement:u,endTouch:f,getVelocity:d}=A5();let m=!1;const p=gt(!1),y=gt(0),b=gt(0);let C;function w(R,W){return(i.value==="left"?R:i.value==="right"?document.documentElement.clientWidth-R:i.value==="top"?R:i.value==="bottom"?document.documentElement.clientHeight-R:gd())-(W?r.value:0)}function k(R){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const q=i.value==="left"?(R-b.value)/r.value:i.value==="right"?(document.documentElement.clientWidth-R-b.value)/r.value:i.value==="top"?(R-b.value)/r.value:i.value==="bottom"?(document.documentElement.clientHeight-R-b.value)/r.value:gd();return W?Xn(q):q}function T(R){if(o.value)return;const W=R.changedTouches[0].clientX,q=R.changedTouches[0].clientY,z=25,Y=i.value==="left"?W<z:i.value==="right"?W>document.documentElement.clientWidth-z:i.value==="top"?q<z:i.value==="bottom"?q>document.documentElement.clientHeight-z:gd(),K=n.value&&(i.value==="left"?W<r.value:i.value==="right"?W>document.documentElement.clientWidth-r.value:i.value==="top"?q<r.value:i.value==="bottom"?q>document.documentElement.clientHeight-r.value:gd());(Y||K||n.value&&a.value)&&(C=[W,q],b.value=w(l.value?W:q,n.value),y.value=k(l.value?W:q),m=b.value>-20&&b.value<80,f(R),u(R))}function V(R){const W=R.changedTouches[0].clientX,q=R.changedTouches[0].clientY;if(m){if(!R.cancelable){m=!1;return}const Y=Math.abs(W-C[0]),K=Math.abs(q-C[1]);(l.value?Y>K&&Y>3:K>Y&&K>3)?(p.value=!0,m=!1):(l.value?K:Y)>3&&(m=!1)}if(!p.value)return;R.preventDefault(),u(R);const z=k(l.value?W:q,!1);y.value=Math.max(0,Math.min(1,z)),z>1?b.value=w(l.value?W:q,!0):z<0&&(b.value=w(l.value?W:q,!1))}function M(R){if(m=!1,!p.value)return;u(R),p.value=!1;const W=d(R.changedTouches[0].identifier),q=Math.abs(W.x),z=Math.abs(W.y);(l.value?q>z&&q>400:z>q&&z>3)?n.value=W.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||gd()):n.value=y.value>.5}const I=N(()=>p.value?{transform:i.value==="left"?`translateX(calc(-100% + ${y.value*r.value}px))`:i.value==="right"?`translateX(calc(100% - ${y.value*r.value}px))`:i.value==="top"?`translateY(calc(-100% + ${y.value*r.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${y.value*r.value}px))`:gd(),transition:"none"}:void 0);return Nr(p,()=>{const R=t.value?.style.transform??null,W=t.value?.style.transition??null;ca(()=>{t.value?.style.setProperty("transform",I.value?.transform||"none"),t.value?.style.setProperty("transition",I.value?.transition||null)}),Ba(()=>{t.value?.style.setProperty("transform",R),t.value?.style.setProperty("transition",W)})}),{isDragging:p,dragProgress:y,dragStyles:I}}function gd(){throw new Error}const B5=["start","end","left","right","top","bottom"],$5=We({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>B5.includes(e)},sticky:Boolean,...mo(),...Mt(),...Kg(),...Nu({mobile:null}),...er(),...$u(),...da(),...nn({tag:"nav"}),...bn()},"VNavigationDrawer"),R5=at()({name:"VNavigationDrawer",props:$5(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{isRtl:o}=Fa(),{themeClasses:i}=Nn(e),{borderClasses:l}=To(e),{backgroundColorClasses:u,backgroundColorStyles:f}=jn(()=>e.color),{elevationClasses:d}=yr(e),{displayClasses:m,mobile:p}=Uo(e),{roundedClasses:y}=ka(e),b=vC(),C=Lt(e,"modelValue",null,fe=>!!fe),{ssrBootStyles:w}=zu(),{scopeId:k}=Xu(),T=Re(),V=gt(!1),{runOpenDelay:M,runCloseDelay:I}=Gg(e,fe=>{V.value=fe}),R=N(()=>e.rail&&e.expandOnHover&&V.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),W=N(()=>d_(e.location,o.value)),q=ke(()=>e.persistent),z=N(()=>!e.permanent&&(p.value||e.temporary)),Y=N(()=>e.sticky&&!z.value&&W.value!=="bottom");Nr(()=>e.expandOnHover&&e.rail!=null,()=>{_t(V,fe=>a("update:rail",!fe))}),Nr(()=>!e.disableResizeWatcher,()=>{_t(z,fe=>!e.permanent&&Qt(()=>C.value=!fe))}),Nr(()=>!e.disableRouteWatcher&&!!b,()=>{_t(b.currentRoute,()=>z.value&&(C.value=!1))}),_t(()=>e.permanent,fe=>{fe&&(C.value=!0)}),e.modelValue==null&&!z.value&&(C.value=e.permanent||!p.value);const{isDragging:K,dragProgress:ae}=N5({el:T,isActive:C,isTemporary:z,width:R,touchless:ke(()=>e.touchless),position:W}),te=N(()=>{const fe=z.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):R.value;return K.value?fe*ae.value:fe}),{layoutItemStyles:J,layoutItemScrimStyles:ne}=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:W,layoutSize:te,elementSize:R,active:vl(C),disableTransitions:ke(()=>K.value),absolute:N(()=>e.absolute||Y.value&&typeof re.value!="string")}),{isStuck:re,stickyStyles:pe}=V5({rootEl:T,isSticky:Y,layoutItemStyles:J}),Ee=jn(()=>typeof e.scrim=="string"?e.scrim:null),me=N(()=>({...K.value?{opacity:ae.value*.2,transition:"none"}:void 0,...ne.value}));return ya({VList:{bgColor:"transparent"}}),ut(()=>{const fe=r.image||e.image;return x(ft,null,[h(e.tag,tt({ref:T,onMouseenter:M,onMouseleave:I,class:["v-navigation-drawer",`v-navigation-drawer--${W.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":V.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":z.value,"v-navigation-drawer--persistent":q.value,"v-navigation-drawer--active":C.value,"v-navigation-drawer--sticky":Y.value},i.value,u.value,l.value,m.value,d.value,y.value,e.class],style:[f.value,J.value,w.value,pe.value,e.style]},k,n),{default:()=>[fe&&x("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?h(rn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):h(Is,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&x("div",{class:"v-navigation-drawer__prepend"},[r.prepend?.()]),x("div",{class:"v-navigation-drawer__content"},[r.default?.()]),r.append&&x("div",{class:"v-navigation-drawer__append"},[r.append?.()])]}),h(co,{name:"fade-transition"},{default:()=>[z.value&&(K.value||C.value)&&!!e.scrim&&x("div",tt({class:["v-navigation-drawer__scrim",Ee.backgroundColorClasses.value],style:[me.value,Ee.backgroundColorStyles.value],onClick:()=>{q.value||(C.value=!1)}},k),null)]})])}),{isStuck:re}}}),F5=Po({name:"VNoSsr",setup(e,t){let{slots:n}=t;const a=lx();return()=>a.value&&n.default?.()}}),L5=50,q5=500;function U5(e){let{toggleUpDown:t}=e,n=-1,a=-1;Ba(o);function r(l){o(),i(l),window.addEventListener("pointerup",o),document.addEventListener("blur",o),n=window.setTimeout(()=>{a=window.setInterval(()=>i(l),L5)},q5)}function o(){window.clearTimeout(n),window.clearInterval(a),window.removeEventListener("pointerup",o),document.removeEventListener("blur",o)}function i(l){t(l==="up")}return{holdStart:r,holdStop:o}}const H5=We({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...ga(om(),["modelValue","validationValue"])},"VNumberInput"),W5=at()({name:"VNumberInput",props:{...H5()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Re(),{holdStart:r,holdStop:o}=U5({toggleUpDown:W}),i=Xf(e),l=N(()=>i.isDisabled.value||i.isReadonly.value),u=gt(e.focused);function f(me){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const le=fe==null?String(me):me.toFixed(fe);return u.value?Number(le).toString():le}const d=Lt(e,"modelValue",null,me=>me??null,me=>me==null?me??null:Xn(Number(me),e.min,e.max)),m=gt(null);ca(()=>{u.value&&!l.value||(d.value==null?m.value=null:isNaN(d.value)||(m.value=f(d.value)))});const p=N({get:()=>m.value,set(me){me===null||me===""?(d.value=null,m.value=null):!isNaN(Number(me))&&Number(me)<=e.max&&Number(me)>=e.min&&(d.value=Number(me),m.value=me)}}),y=N(()=>l.value?!1:(d.value??0)+e.step<=e.max),b=N(()=>l.value?!1:(d.value??0)-e.step>=e.min),C=N(()=>e.hideInput?"stacked":e.controlVariant),w=ke(()=>C.value==="split"?"$plus":"$collapse"),k=ke(()=>C.value==="split"?"$minus":"$expand"),T=ke(()=>C.value==="split"?"default":"small"),V=ke(()=>C.value==="stacked"?"auto":"100%"),M={props:{onClick:Y,onPointerup:K,onPointerdown:ae,onPointercancel:K}},I={props:{onClick:Y,onPointerup:K,onPointerdown:te,onPointercancel:K}};_t(()=>e.precision,()=>ne()),yn(()=>{J()});function R(me){if(me==null)return 0;const fe=me.toString(),le=fe.indexOf(".");return~le?fe.length-le:0}function W(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(l.value)return;if(d.value==null){p.value=f(Xn(0,e.min,e.max));return}let fe=Math.max(R(d.value),R(e.step));e.precision!=null&&(fe=Math.max(fe,e.precision)),me?y.value&&(p.value=f(d.value+e.step,fe)):b.value&&(p.value=f(d.value-e.step,fe))}function q(me){if(!me.data)return;const fe=me.target,{value:le,selectionStart:Te,selectionEnd:ue}=fe??{},De=le?le.slice(0,Te)+me.data+le.slice(ue):me.data,Me=iA(De,e.precision);/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(De)||(me.preventDefault(),fe.value=Me),e.precision!=null&&(De.split(".")[1]?.length>e.precision&&(me.preventDefault(),fe.value=Me),e.precision===0&&De.includes(".")&&(me.preventDefault(),fe.value=Me))}async function z(me){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(me.key)||me.ctrlKey||["ArrowDown","ArrowUp"].includes(me.key)&&(me.preventDefault(),J(),await Qt(),me.key==="ArrowDown"?W(!1):W())}function Y(me){me.stopPropagation()}function K(me){me.currentTarget?.releasePointerCapture(me.pointerId),me.preventDefault(),o()}function ae(me){me.currentTarget?.setPointerCapture(me.pointerId),me.preventDefault(),me.stopPropagation(),r("up")}function te(me){me.currentTarget?.setPointerCapture(me.pointerId),me.preventDefault(),me.stopPropagation(),r("down")}function J(){if(l.value||!a.value)return;const me=a.value.value;me&&!isNaN(Number(me))?p.value=f(Xn(Number(me),e.min,e.max)):p.value=null}function ne(){if(!l.value){if(d.value===null||isNaN(d.value)){p.value=null;return}p.value=e.precision==null?String(d.value):d.value.toFixed(e.precision)}}function re(){if(!l.value){if(d.value===null||isNaN(d.value)){p.value=null;return}p.value=d.value.toString()}}function pe(){re()}function Ee(){J()}return ut(()=>{const{modelValue:me,...fe}=Fs.filterProps(e);function le(){return n.increment?h(rn,{key:"increment-defaults",defaults:{VBtn:{disabled:!y.value,flat:!0,height:V.value,size:T.value,icon:w.value}}},{default:()=>[n.increment(M)]}):h(wn,{"aria-hidden":"true","data-testid":"increment",disabled:!y.value,flat:!0,height:V.value,icon:w.value,key:"increment-btn",onClick:Y,onPointerdown:ae,onPointerup:K,onPointercancel:K,size:T.value,tabindex:"-1"},null)}function Te(){return n.decrement?h(rn,{key:"decrement-defaults",defaults:{VBtn:{disabled:!b.value,flat:!0,height:V.value,size:T.value,icon:k.value}}},{default:()=>[n.decrement(I)]}):h(wn,{"aria-hidden":"true","data-testid":"decrement",disabled:!b.value,flat:!0,height:V.value,icon:k.value,key:"decrement-btn",onClick:Y,onPointerdown:te,onPointerup:K,onPointercancel:K,size:T.value,tabindex:"-1"},null)}function ue(){return x("div",{class:"v-number-input__control"},[Te(),h(Rs,{vertical:C.value!=="stacked"},null),le()])}function De(){return!e.hideInput&&!e.inset?h(Rs,{vertical:!0},null):void 0}const Me=C.value==="split"?x("div",{class:"v-number-input__control"},[h(Rs,{vertical:!0},null),le()]):e.reverse||C.value==="hidden"?void 0:x(ft,null,[De(),ue()]),Oe=n["append-inner"]||Me,B=C.value==="split"?x("div",{class:"v-number-input__control"},[Te(),h(Rs,{vertical:!0},null)]):e.reverse&&C.value!=="hidden"?x(ft,null,[ue(),De()]):void 0,Ae=n["prepend-inner"]||B;return h(Fs,tt({ref:a},fe,{modelValue:p.value,"onUpdate:modelValue":Fe=>p.value=Fe,focused:u.value,"onUpdate:focused":Fe=>u.value=Fe,validationValue:d.value,onBeforeinput:q,onFocus:pe,onBlur:Ee,onKeydown:z,class:["v-number-input",{"v-number-input--default":C.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":C.value==="split","v-number-input--stacked":C.value==="stacked"},e.class],style:e.style,inputmode:"decimal"}),{...n,"append-inner":Oe?function(){for(var Fe=arguments.length,it=new Array(Fe),_e=0;_e<Fe;_e++)it[_e]=arguments[_e];return x(ft,null,[n["append-inner"]?.(...it),Me])}:void 0,"prepend-inner":Ae?function(){for(var Fe=arguments.length,it=new Array(Fe),_e=0;_e<Fe;_e++)it[_e]=arguments[_e];return x(ft,null,[B,n["prepend-inner"]?.(...it)])}:void 0})}),Oo({},a)}}),z5=We({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Wa(),...Qf(),...Sl(rm({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),j5=at()({name:"VOtpInput",props:z5(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const{dimensionStyles:o}=za(e),{isFocused:i,focus:l,blur:u}=Ns(e),f=Lt(e,"modelValue","",q=>q==null?[]:String(q).split(""),q=>q.join("")),{t:d}=ba(),m=N(()=>Number(e.length)),p=N(()=>Array(m.value).fill(0)),y=Re(-1),b=Re(),C=Re([]),w=N(()=>C.value[y.value]);Nr(()=>e.autofocus,()=>{const q=Vc();q.run(()=>{const{intersectionRef:z,isIntersecting:Y}=Hf();ca(()=>{z.value=C.value[0]}),_t(Y,K=>{K&&(z.value?.focus(),q.stop())})})});function k(){if(W(w.value.value)){w.value.value="";return}const q=f.value.slice(),z=w.value.value;q[y.value]=z;let Y=null;y.value>f.value.length?Y=f.value.length+1:y.value+1!==m.value&&(Y="next"),f.value=q,Y&&Au(b.value,Y)}function T(q){const z=f.value.slice(),Y=y.value;let K=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(q.key)&&(q.preventDefault(),q.key==="ArrowLeft"?K="prev":q.key==="ArrowRight"?K="next":["Backspace","Delete"].includes(q.key)&&(z[y.value]="",f.value=z,y.value>0&&q.key==="Backspace"?K="prev":requestAnimationFrame(()=>{C.value[Y]?.select()})),requestAnimationFrame(()=>{K!=null&&Au(b.value,K)}))}function V(q,z){z.preventDefault(),z.stopPropagation();const Y=z?.clipboardData?.getData("Text").trim().slice(0,m.value)??"";W(Y)||(f.value=Y.split(""),C.value?.[q].blur())}function M(){f.value=[]}function I(q,z){l(),y.value=z}function R(){u(),y.value=-1}function W(q){return e.type==="number"&&/[^0-9]/g.test(q)}return ya({VField:{color:ke(()=>e.color),bgColor:ke(()=>e.color),baseColor:ke(()=>e.baseColor),disabled:ke(()=>e.disabled),error:ke(()=>e.error),variant:ke(()=>e.variant)}},{scoped:!0}),_t(f,q=>{q.length===m.value&&(y.value=m.value-1,a("finish",q.join("")))},{deep:!0}),_t(y,q=>{q<0||Qt(()=>{C.value[q]?.select()})}),ut(()=>{const[q,z]=Cl(n);return x("div",tt({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},q),[x("div",{ref:b,class:"v-otp-input__content",style:vt([o.value])},[p.value.map((Y,K)=>x(ft,null,[e.divider&&K!==0&&x("span",{class:"v-otp-input__divider"},[e.divider]),h($l,{focused:i.value&&e.focusAll||y.value===K,key:K},{...r,loader:void 0,default:()=>x("input",{ref:ae=>C.value[K]=ae,"aria-label":d(e.label,K+1),autofocus:K===0&&e.autofocus,autocomplete:"one-time-code",class:Ye(["v-otp-input__field"]),disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:K===0?m.value:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:f.value[K],onInput:k,onFocus:ae=>I(ae,K),onBlur:R,onKeydown:T,onPaste:ae=>V(K,ae)},null)})])),x("input",tt({class:"v-otp-input-input",type:"hidden"},z,{value:f.value.join("")}),null),h(Qi,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>[r.loader?.()??h(dd,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}),r.default?.()])])}),{blur:()=>{C.value?.some(q=>q.blur())},focus:()=>{C.value?.[0].focus()},reset:M,isFocused:i}}});function Y5(e){return Math.floor(Math.abs(e))*Math.sign(e)}const K5=We({scale:{type:[Number,String],default:.5},...Mt()},"VParallax"),G5=at()({name:"VParallax",props:K5(),setup(e,t){let{slots:n}=t;const{intersectionRef:a,isIntersecting:r}=Hf(),{resizeRef:o,contentRect:i}=pi(),{height:l}=Uo(),u=Re();ca(()=>{a.value=o.value=u.value?.$el});let f;_t(r,y=>{y?(f=k_(a.value),f=f===document.scrollingElement?document:f,f.addEventListener("scroll",p,{passive:!0}),p()):f.removeEventListener("scroll",p)}),hr(()=>{f?.removeEventListener("scroll",p)}),_t(l,p),_t(()=>i.value?.height,p);const d=N(()=>1-Xn(Number(e.scale)));let m=-1;function p(){r.value&&(cancelAnimationFrame(m),m=requestAnimationFrame(()=>{const y=(u.value?.$el).querySelector(".v-img__img");if(!y)return;const b=f instanceof Document?document.documentElement.clientHeight:f.clientHeight,C=f instanceof Document?window.scrollY:f.scrollTop,w=a.value.getBoundingClientRect().top+C,k=i.value.height,T=w+(k-b)/2,V=Y5((C-T)*d.value),M=Math.max(1,(d.value*(b-k)+k)/k);y.style.setProperty("transform",`translateY(${V}px) scale(${M})`)}))}return ut(()=>h(Is,{class:Ye(["v-parallax",{"v-parallax--active":r.value},e.class]),style:vt(e.style),ref:u,cover:!0,onLoadstart:p,onLoad:p},n)),{}}}),Q5=We({...Xh({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),X5=at()({name:"VRadio",props:Q5(),setup(e,t){let{slots:n}=t;return ut(()=>{const a=Nl.filterProps(e);return h(Nl,tt(a,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),J5=We({height:{type:[Number,String],default:"auto"},...Bs(),...ga(Bg(),["multiple"]),trueIcon:{type:Ut,default:"$radioOn"},falseIcon:{type:Ut,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Z5=at()({name:"VRadioGroup",inheritAttrs:!1,props:J5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Qr(),o=N(()=>e.id||`radio-group-${r}`),i=Lt(e,"modelValue");return ut(()=>{const[l,u]=Cl(n),f=Dr.filterProps(e),d=Nl.filterProps(e),m=a.label?a.label({label:e.label,props:{for:o.value}}):e.label;return h(Dr,tt({class:["v-radio-group",e.class],style:e.style},l,f,{modelValue:i.value,"onUpdate:modelValue":p=>i.value=p,id:o.value}),{...a,default:p=>{let{id:y,messagesId:b,isDisabled:C,isReadonly:w}=p;return x(ft,null,[m&&h(hd,{id:y.value},{default:()=>[m]}),h(DC,tt(d,{id:y.value,"aria-describedby":b.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:C.value,readonly:w.value,"aria-labelledby":m?y.value:void 0,multiple:!1},u,{modelValue:i.value,"onUpdate:modelValue":k=>i.value=k}),a)])}})}),{}}}),e8=We({...Qf(),...Bs(),...Ix(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),t8=at()({name:"VRangeSlider",props:e8(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const r=Re(),o=Re(),i=Re(),{rtlClasses:l}=Fa();function u(Y){if(!r.value||!o.value)return;const K=cy(Y,r.value.$el,e.direction),ae=cy(Y,o.value.$el,e.direction),te=Math.abs(K),J=Math.abs(ae);return te<J||te===J&&K<0?r.value.$el:o.value.$el}const f=Ax(e),d=Lt(e,"modelValue",void 0,Y=>Y?.length?Y.map(K=>f.roundValue(K)):[0,0]),{activeThumbRef:m,hasLabels:p,max:y,min:b,mousePressed:C,onSliderMousedown:w,onSliderTouchstart:k,position:T,trackContainerRef:V,readonly:M}=Mx({props:e,steps:f,onSliderStart:()=>{a("start",d.value)},onSliderEnd:Y=>{let{value:K}=Y;const ae=m.value===r.value?.$el?[K,d.value[1]]:[d.value[0],K];!e.strict&&ae[0]<ae[1]&&(d.value=ae),a("end",d.value)},onSliderMove:Y=>{let{value:K}=Y;const[ae,te]=d.value;!e.strict&&ae===te&&ae!==b.value&&(m.value=K>ae?o.value?.$el:r.value?.$el,m.value?.focus()),m.value===r.value?.$el?d.value=[Math.min(K,te),te]:d.value=[ae,Math.max(ae,K)]},getActiveThumb:u}),{isFocused:I,focus:R,blur:W}=Ns(e),q=N(()=>T(d.value[0])),z=N(()=>T(d.value[1]));return ut(()=>{const Y=Dr.filterProps(e),K=!!(e.label||n.label||n.prepend);return h(Dr,tt({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":I.value,"v-slider--pressed":C.value,"v-slider--disabled":e.disabled},l.value,e.class],style:e.style,ref:i},Y,{focused:I.value}),{...n,prepend:K?ae=>x(ft,null,[n.label?.(ae)??(e.label?h(hd,{class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(ae)]):void 0,default:ae=>{let{id:te,messagesId:J}=ae;return x("div",{class:"v-slider__container",onMousedown:M.value?void 0:w,onTouchstartPassive:M.value?void 0:k},[x("input",{id:`${te.value}_start`,name:e.name||te.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[0]},null),x("input",{id:`${te.value}_stop`,name:e.name||te.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[1]},null),h(Nx,{ref:V,start:q.value,stop:z.value},{"tick-label":n["tick-label"]}),h(dy,{ref:r,"aria-describedby":J.value,focused:I&&m.value===r.value?.$el,modelValue:d.value[0],"onUpdate:modelValue":ne=>d.value=[ne,d.value[1]],onFocus:ne=>{R(),m.value=r.value?.$el,y.value!==b.value&&d.value[0]===d.value[1]&&d.value[1]===b.value&&ne.relatedTarget!==o.value?.$el&&(r.value?.$el.blur(),o.value?.$el.focus())},onBlur:()=>{W(),m.value=void 0},min:b.value,max:d.value[1],position:q.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),h(dy,{ref:o,"aria-describedby":J.value,focused:I&&m.value===o.value?.$el,modelValue:d.value[1],"onUpdate:modelValue":ne=>d.value=[d.value[0],ne],onFocus:ne=>{R(),m.value=o.value?.$el,y.value!==b.value&&d.value[0]===d.value[1]&&d.value[0]===y.value&&ne.relatedTarget!==r.value?.$el&&(o.value?.$el.blur(),r.value?.$el.focus())},onBlur:()=>{W(),m.value=void 0},min:d.value[0],max:y.value,position:z.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),n8=We({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ut,default:"$ratingEmpty"},fullIcon:{type:Ut,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Mt(),...sr(),...Gi(),...nn(),...bn()},"VRating"),a8=at()({name:"VRating",props:n8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:a}=ba(),{themeClasses:r}=Nn(e),o=Lt(e,"modelValue"),i=N(()=>Xn(parseFloat(o.value),0,Number(e.length))),l=N(()=>Li(Number(e.length),1)),u=N(()=>l.value.flatMap(w=>e.halfIncrements?[w-.5,w]:[w])),f=gt(-1),d=N(()=>u.value.map(w=>{const k=e.hover&&f.value>-1,T=i.value>=w,V=f.value>=w,I=(k?V:T)?e.fullIcon:e.emptyIcon,R=e.activeColor??e.color,W=T||V?R:e.color;return{isFilled:T,isHovered:V,icon:I,color:W}})),m=N(()=>[0,...u.value].map(w=>{function k(){f.value=w}function T(){f.value=-1}function V(){e.disabled||e.readonly||(o.value=i.value===w&&e.clearable?0:w)}return{onMouseenter:e.hover?k:void 0,onMouseleave:e.hover?T:void 0,onClick:V}})),p=Qr(),y=N(()=>e.name??`v-rating-${p}`);function b(w){let{value:k,index:T,showStar:V=!0}=w;const{onMouseenter:M,onMouseleave:I,onClick:R}=m.value[T+1],W=`${y.value}-${String(k).replace(".","-")}`,q={color:d.value[T]?.color,density:e.density,disabled:e.disabled,icon:d.value[T]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return x(ft,null,[x("label",{for:W,class:Ye({"v-rating__item--half":e.halfIncrements&&k%1>0,"v-rating__item--full":e.halfIncrements&&k%1===0}),onMouseenter:M,onMouseleave:I,onClick:R},[x("span",{class:"v-rating__hidden"},[a(e.itemAriaLabel,k,e.length)]),V?n.item?n.item({...d.value[T],props:q,value:k,index:T,rating:i.value}):h(wn,tt({"aria-label":a(e.itemAriaLabel,k,e.length)},q),null):void 0]),x("input",{class:"v-rating__hidden",name:y.value,id:W,type:"radio",value:k,checked:i.value===k,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function C(w){return n["item-label"]?n["item-label"](w):w.label?x("span",null,[w.label]):x("span",null,[Ke(" ")])}return ut(()=>{const w=!!e.itemLabels?.length||n["item-label"];return h(e.tag,{class:Ye(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class]),style:vt(e.style)},{default:()=>[h(b,{value:0,index:-1,showStar:!1},null),l.value.map((k,T)=>x("div",{class:"v-rating__wrapper"},[w&&e.itemLabelPosition==="top"?C({value:k,index:T,label:e.itemLabels?.[T]}):void 0,x("div",{class:"v-rating__item"},[e.halfIncrements?x(ft,null,[h(b,{value:k-.5,index:T*2},null),h(b,{value:k,index:T*2+1},null)]):h(b,{value:k,index:T},null)]),w&&e.itemLabelPosition==="bottom"?C({value:k,index:T,label:e.itemLabels?.[T]}):void 0]))]})}),{}}}),r8={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function o8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return x("div",{class:Ye(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[t])}function OP(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>pv(t))}function pv(e){let t=[];if(!e)return t;const n=r8[e];if(e!==n){if(e.includes(","))return IP(e);if(e.includes("@"))return OP(e);n.includes(",")?t=IP(n):n.includes("@")?t=OP(n):n&&t.push(pv(n))}return[o8(e,t)]}function IP(e){return e.replace(/\s/g,"").split(",").map(pv)}const i8=We({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Wa(),...er(),...bn()},"VSkeletonLoader"),s8=at()({name:"VSkeletonLoader",props:i8(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:a,backgroundColorStyles:r}=jn(()=>e.color),{dimensionStyles:o}=za(e),{elevationClasses:i}=yr(e),{themeClasses:l}=Nn(e),{t:u}=ba(),f=N(()=>pv(ma(e.type).join(",")));return ut(()=>{const d=!n.default||e.loading,m=e.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:u(e.loadingText),role:"alert"};return x("div",tt({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},l.value,a.value,i.value],style:[r.value,d?o.value:{}]},m),[d?f.value:n.default?.()])}),{}}}),l8=at()({name:"VSlideGroupItem",props:Ku(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=Gu(e,RC);return()=>n.default?.({isSelected:a.isSelected.value,select:a.select,toggle:a.toggle,selectedClass:a.selectedClass.value})}});function u8(e){const t=gt(e());let n=-1;function a(){clearInterval(n)}function r(){a(),Qt(()=>t.value=e())}function o(i){const l=i?getComputedStyle(i):{transitionDuration:.2},u=parseFloat(l.transitionDuration)*1e3||200;if(a(),t.value<=0)return;const f=performance.now();n=window.setInterval(()=>{const d=performance.now()-f+u;t.value=Math.max(e()-d,0),t.value<=0&&a()},u)}return Ba(a),{clear:a,time:t,start:o,reset:r}}const AP=We({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...As({location:"bottom"}),...fd(),...da(),...Wo(),...bn(),...ga(nm({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Ry=at()({name:"VSnackbar",props:AP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{positionClasses:r}=md(e),{scopeId:o}=Xu(),{themeClasses:i}=Nn(e),{colorClasses:l,colorStyles:u,variantClasses:f}=ju(e),{roundedClasses:d}=ka(e),m=u8(()=>Number(e.timeout)),p=Re(),y=Re(),b=gt(!1),C=gt(0),w=Re(),k=un(Df,void 0);Nr(()=>!!k,()=>{const K=Bk();ca(()=>{w.value=K.mainStyles.value})}),_t(a,V),_t(()=>e.timeout,V),yn(()=>{a.value&&V()});let T=-1;function V(){m.reset(),window.clearTimeout(T);const K=Number(e.timeout);if(!a.value||K===-1)return;const ae=r_(y.value);m.start(ae),T=window.setTimeout(()=>{a.value=!1},K)}function M(){m.reset(),window.clearTimeout(T)}function I(){b.value=!0,M()}function R(){b.value=!1,V()}function W(K){C.value=K.touches[0].clientY}function q(K){Math.abs(C.value-K.changedTouches[0].clientY)>50&&(a.value=!1)}function z(){b.value&&R()}const Y=N(()=>e.location.split(" ").reduce((K,ae)=>(K[`v-snackbar--${ae}`]=!0,K),{}));return ut(()=>{const K=Qi.filterProps(e),ae=!!(n.default||n.text||e.text);return h(Qi,tt({ref:p,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},Y.value,r.value,e.class],style:[w.value,e.style]},K,{modelValue:a.value,"onUpdate:modelValue":te=>a.value=te,contentProps:tt({class:["v-snackbar__wrapper",i.value,l.value,d.value,f.value],style:[u.value],onPointerenter:I,onPointerleave:R},K.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:W,onTouchend:q,onAfterLeave:z},o),{default:()=>[Al(!1,"v-snackbar"),e.timer&&!b.value&&x("div",{key:"timer",class:"v-snackbar__timer"},[h(Yh,{ref:y,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":m.time.value},null)]),ae&&x("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.text?.()??e.text,n.default?.()]),n.actions&&h(rn,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[x("div",{class:"v-snackbar__actions"},[n.actions({isActive:a})])]})],activator:n.activator})}),Oo({},p)}}),c8=We({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...ga(AP(),["modelValue"])},"VSnackbarQueue"),d8=at()({name:"VSnackbarQueue",props:c8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:a}=t;const{t:r}=ba(),o=gt(!1),i=gt(!1),l=gt();_t(()=>e.modelValue.length,(p,y)=>{!i.value&&p>y&&f()}),_t(o,p=>{p&&(i.value=!0)});function u(){e.modelValue.length?f():(l.value=void 0,i.value=!1)}function f(){const[p,...y]=e.modelValue;n("update:modelValue",y),l.value=typeof p=="string"?{text:p}:p,Qt(()=>{o.value=!0})}function d(){o.value=!1}const m=N(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:r(e.closeText)}));ut(()=>{const p=!!(e.closable||a.actions),{modelValue:y,...b}=Ry.filterProps(e);return x(ft,null,[i.value&&!!l.value&&(a.default?h(rn,{defaults:{VSnackbar:l.value}},{default:()=>[a.default({item:l.value})]}):h(Ry,tt(b,l.value,{modelValue:o.value,"onUpdate:modelValue":C=>o.value=C,onAfterLeave:u}),{text:a.text?()=>a.text?.({item:l.value}):void 0,actions:p?()=>x(ft,null,[a.actions?h(rn,{defaults:{VBtn:m.value}},{default:()=>[a.actions({item:l.value,props:{onClick:d}})]}):h(wn,tt(m.value,{onClick:d}),null)]):void 0}))])})}}),MP=We({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),NP=We({autoLineWidth:Boolean,...MP()},"VBarline"),BP=at()({name:"VBarline",props:NP(),setup(e,t){let{slots:n}=t;const a=Qr(),r=N(()=>e.id||`barline-${a}`),o=N(()=>Number(e.autoDrawDuration)||500),i=N(()=>!!(e.showLabels||e.labels.length>0||n?.label)),l=N(()=>parseFloat(e.lineWidth)||4),u=N(()=>Math.max(e.modelValue.length*l.value,Number(e.width))),f=N(()=>({minX:0,maxX:u.value,minY:0,maxY:parseInt(e.height,10)})),d=N(()=>e.modelValue.map(w=>Ra(w,e.itemValue,w)));function m(w,k){const{minX:T,maxX:V,minY:M,maxY:I}=k,R=w.length;let W=e.max!=null?Number(e.max):Math.max(...w),q=e.min!=null?Number(e.min):Math.min(...w);q>0&&e.min==null&&(q=0),W<0&&e.max==null&&(W=0);const z=V/R,Y=(I-M)/(W-q||1),K=I-Math.abs(q*Y);return w.map((ae,te)=>{const J=Math.abs(Y*ae);return{x:T+te*z,y:K-J+ +(ae<0)*J,height:J,value:ae}})}const p=N(()=>{const w=[],k=m(d.value,f.value),T=k.length;for(let V=0;w.length<T;V++){const M=k[V];let I=e.labels[V];I||(I=typeof M=="object"?M.value:M),w.push({x:M.x,value:String(I)})}return w}),y=N(()=>m(d.value,f.value)),b=N(()=>(Math.abs(y.value[0].x-y.value[1].x)-l.value)/2),C=N(()=>typeof e.smooth=="boolean"?e.smooth?2:0:Number(e.smooth));ut(()=>{const w=e.gradient.slice().length?e.gradient.slice().reverse():[""];return x("svg",{display:"block"},[x("defs",null,[x("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[w.map((k,T)=>x("stop",{offset:T/Math.max(w.length-1,1),"stop-color":k||"currentColor"},null))])]),x("clipPath",{id:`${r.value}-clip`},[y.value.map(k=>x("rect",{x:k.x+b.value,y:k.y,width:l.value,height:k.height,rx:C.value,ry:C.value},[e.autoDraw&&x(ft,null,[x("animate",{attributeName:"y",from:k.y+k.height,to:k.y,dur:`${o.value}ms`,fill:"freeze"},null),x("animate",{attributeName:"height",from:"0",to:k.height,dur:`${o.value}ms`,fill:"freeze"},null)])]))]),i.value&&x("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((k,T)=>x("text",{x:k.x+b.value+l.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[n.label?.({index:T,value:k.value})??k.value]))]),x("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[x("rect",{x:0,y:0,width:Math.max(e.modelValue.length*l.value,Number(e.width)),height:e.height},null)])])})}});function f8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),o=e[e.length-1];return(n?`M${r.x} ${a-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((i,l)=>{const u=e[l+1],f=e[l-1]||r,d=u&&m8(u,i,f);if(!u||d)return`L${i.x} ${i.y}`;const m=Math.min($P(f,i),$P(u,i)),y=m/2<t?m/2:t,b=RP(f,i,y),C=RP(u,i,y);return`L${b.x} ${b.y}S${i.x} ${i.y} ${C.x} ${C.y}`}).join("")+(n?`L${o.x} ${a-r.x+2} Z`:"")}function _v(e){return parseInt(e,10)}function m8(e,t,n){return _v(e.x+n.x)===_v(2*t.x)&&_v(e.y+n.y)===_v(2*t.y)}function $P(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function RP(e,t,n){const a={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(a.x*a.x+a.y*a.y),o={x:a.x/r,y:a.y/r};return{x:t.x+o.x*n,y:t.y+o.y*n}}const FP=We({fill:Boolean,...MP()},"VTrendline"),LP=at()({name:"VTrendline",props:FP(),setup(e,t){let{slots:n}=t;const a=Qr(),r=N(()=>e.id||`trendline-${a}`),o=N(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),i=Re(0),l=Re(null);function u(w,k){const{minX:T,maxX:V,minY:M,maxY:I}=k,R=w.length,W=e.max!=null?Number(e.max):Math.max(...w),q=e.min!=null?Number(e.min):Math.min(...w),z=(V-T)/(R-1),Y=(I-M)/(W-q||1);return w.map((K,ae)=>({x:T+ae*z,y:I-(K-q)*Y,value:K}))}const f=N(()=>!!(e.showLabels||e.labels.length>0||n?.label)),d=N(()=>parseFloat(e.lineWidth)||4),m=N(()=>Number(e.width)),p=N(()=>{const w=Number(e.padding);return{minX:w,maxX:m.value-w,minY:w,maxY:parseInt(e.height,10)-w}}),y=N(()=>e.modelValue.map(w=>Ra(w,e.itemValue,w))),b=N(()=>{const w=[],k=u(y.value,p.value),T=k.length;for(let V=0;w.length<T;V++){const M=k[V];let I=e.labels[V];I||(I=typeof M=="object"?M.value:M),w.push({x:M.x,value:String(I)})}return w});_t(()=>e.modelValue,async()=>{if(await Qt(),!e.autoDraw||!l.value)return;const w=l.value,k=w.getTotalLength();e.fill?(w.style.transformOrigin="bottom center",w.style.transition="none",w.style.transform="scaleY(0)",w.getBoundingClientRect(),w.style.transition=`transform ${o.value}ms ${e.autoDrawEasing}`,w.style.transform="scaleY(1)"):(w.style.strokeDasharray=`${k}`,w.style.strokeDashoffset=`${k}`,w.getBoundingClientRect(),w.style.transition=`stroke-dashoffset ${o.value}ms ${e.autoDrawEasing}`,w.style.strokeDashoffset="0"),i.value=k},{immediate:!0});function C(w){const k=typeof e.smooth=="boolean"?e.smooth?8:0:Number(e.smooth);return f8(u(y.value,p.value),k,w,parseInt(e.height,10))}ut(()=>{const w=e.gradient.slice().length?e.gradient.slice().reverse():[""];return x("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[x("defs",null,[x("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[w.map((k,T)=>x("stop",{offset:T/Math.max(w.length-1,1),"stop-color":k||"currentColor"},null))])]),f.value&&x("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[b.value.map((k,T)=>x("text",{x:k.x+d.value/2+d.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[n.label?.({index:T,value:k.value})??k.value]))]),x("path",{ref:l,d:C(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&x("path",{d:C(!1),fill:"none",stroke:e.color??e.gradient?.[0]},null)])})}}),h8=We({type:{type:String,default:"trend"},...NP(),...FP()},"VSparkline"),v8=at()({name:"VSparkline",props:h8(),setup(e,t){let{slots:n}=t;const{textColorClasses:a,textColorStyles:r}=Er(()=>e.color),o=N(()=>!!(e.showLabels||e.labels.length>0||n?.label)),i=N(()=>{let l=parseInt(e.height,10);return o.value&&(l+=parseInt(e.labelSize,10)*1.5),l});ut(()=>{const l=e.type==="trend"?LP:BP,u=e.type==="trend"?LP.filterProps(e):BP.filterProps(e);return h(l,tt({key:e.type,class:a.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(i.value,10)}`},u),n)})}}),p8=We({...Mt(),...mx({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),_8=at()({name:"VSpeedDial",props:p8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),r=Re(),o=N(()=>{const[l,u="center"]=e.location?.split(" ")??[];return`${l} ${u}`}),i=N(()=>({[`v-speed-dial__content--${o.value.replace(" ","-")}`]:!0}));return ut(()=>{const l=pd.filterProps(e);return h(pd,tt(l,{modelValue:a.value,"onUpdate:modelValue":u=>a.value=u,class:e.class,style:e.style,contentClass:["v-speed-dial__content",i.value,e.contentClass],location:o.value,ref:r,transition:"fade-transition"}),{...n,default:u=>h(rn,{defaults:{VBtn:{size:"small"}}},{default:()=>[h(Fr,{appear:!0,group:!0,transition:e.transition},{default:()=>[n.default?.(u)]})]})})}),{}}}),Fy=Symbol.for("vuetify:v-stepper"),qP=We({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),UP=at()({name:"VStepperActions",props:qP(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:a}=t;const{t:r}=ba();function o(){n("click:prev")}function i(){n("click:next")}return ut(()=>{const l={onClick:o},u={onClick:i};return x("div",{class:"v-stepper-actions"},[h(rn,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>[a.prev?.({props:l})??h(wn,l,null)]}),h(rn,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>[a.next?.({props:u})??h(wn,u,null)]})])}),{}}}),HP=Wi("v-stepper-header"),g8=We({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Ut,default:"$complete"},editable:Boolean,editIcon:{type:Ut,default:"$edit"},error:Boolean,errorIcon:{type:Ut,default:"$error"},icon:Ut,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),y8=We({...g8(),...Ku()},"VStepperItem"),WP=at()({name:"VStepperItem",directives:{vRipple:qr},props:y8(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const a=Gu(e,Fy,!0),r=N(()=>a?.value.value??e.value),o=N(()=>e.rules.every(p=>p()===!0)),i=N(()=>!e.disabled&&e.editable),l=N(()=>!e.disabled&&e.editable),u=N(()=>e.error||!o.value),f=N(()=>e.complete||e.rules.length>0&&o.value),d=N(()=>u.value?e.errorIcon:f.value?e.completeIcon:a.isSelected.value&&e.editable?e.editIcon:e.icon),m=N(()=>({canEdit:l.value,hasError:u.value,hasCompleted:f.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return ut(()=>{const p=(!a||a.isSelected.value||f.value||l.value)&&!u.value&&!e.disabled,y=!!(e.title!=null||n.title),b=!!(e.subtitle!=null||n.subtitle);function C(){a?.toggle()}return Sn(x("button",{class:Ye(["v-stepper-item",{"v-stepper-item--complete":f.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":u.value},a?.selectedClass.value]),disabled:!e.editable,type:"button",onClick:C},[i.value&&Al(!0,"v-stepper-item"),h(zo,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:p?e.color:void 0,size:24},{default:()=>[n.icon?.(m.value)??(d.value?h(In,{icon:d.value},null):r.value)]}),x("div",{class:"v-stepper-item__content"},[y&&x("div",{key:"title",class:"v-stepper-item__title"},[n.title?.(m.value)??e.title]),b&&x("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[n.subtitle?.(m.value)??e.subtitle]),n.default?.(m.value)])]),[[qr,e.ripple&&e.editable,null]])}),{}}}),b8=We({...ga(av(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),zP=at()({name:"VStepperWindow",props:b8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=un(Fy,null),r=Lt(e,"modelValue"),o=N({get(){return r.value!=null||!a?r.value:a.items.value.find(i=>a.selected.value.includes(i.id))?.value},set(i){r.value=i}});return ut(()=>{const i=Ju.filterProps(e);return h(Ju,tt({_as:"VStepperWindow"},i,{modelValue:o.value,"onUpdate:modelValue":l=>o.value=l,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),w8=We({...rv()},"VStepperWindowItem"),jP=at()({name:"VStepperWindowItem",props:w8(),setup(e,t){let{slots:n}=t;return ut(()=>{const a=Zu.filterProps(e);return h(Zu,tt({_as:"VStepperWindowItem"},a,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),k8=We({altLabels:Boolean,bgColor:String,completeIcon:Ut,editIcon:Ut,editable:Boolean,errorIcon:Ut,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Nu()},"Stepper"),S8=We({...k8(),...Yu({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...my(),...Sl(qP(),["prevText","nextText"])},"VStepper"),C8=at()({name:"VStepper",props:S8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:a,next:r,prev:o,selected:i}=Ml(e,Fy),{displayClasses:l,mobile:u}=Uo(e),{completeIcon:f,editIcon:d,errorIcon:m,color:p,editable:y,prevText:b,nextText:C}=Ic(e),w=N(()=>e.items.map((V,M)=>{const I=Ra(V,e.itemTitle,V),R=Ra(V,e.itemValue,M+1);return{title:I,value:R,raw:V}})),k=N(()=>a.value.findIndex(V=>i.value.includes(V.id))),T=N(()=>e.disabled?e.disabled:k.value===0?"prev":k.value===a.value.length-1?"next":!1);return ya({VStepperItem:{editable:y,errorIcon:m,completeIcon:f,editIcon:d,prevText:b,nextText:C},VStepperActions:{color:p,disabled:T,prevText:b,nextText:C}}),ut(()=>{const V=lm.filterProps(e),M=!!(n.header||e.items.length),I=e.items.length>0,R=!e.hideActions&&!!(I||n.actions);return h(lm,tt(V,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":u.value},l.value,e.class],style:e.style}),{default:()=>[M&&h(HP,{key:"stepper-header"},{default:()=>[w.value.map((W,q)=>{let{raw:z,...Y}=W;return x(ft,null,[!!q&&h(Rs,null,null),h(WP,Y,{default:n[`header-item.${Y.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),I&&h(zP,{key:"stepper-window"},{default:()=>[w.value.map(W=>h(jP,{value:W.value},{default:()=>n[`item.${W.value}`]?.(W)??n.item?.(W)}))]}),n.default?.({prev:o,next:r}),R&&(n.actions?.({next:r,prev:o})??h(UP,{key:"stepper-actions","onClick:prev":o,"onClick:next":r},n))]})}),{prev:o,next:r}}}),x8=We({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Bs(),...Xh()},"VSwitch"),P8=at()({name:"VSwitch",inheritAttrs:!1,props:x8(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Lt(e,"indeterminate"),o=Lt(e,"modelValue"),{loaderClasses:i}=Wf(e),{isFocused:l,focus:u,blur:f}=Ns(e),d=Re(),m=On&&window.matchMedia("(forced-colors: active)").matches,p=ke(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),y=Qr(),b=ke(()=>e.id||`switch-${y}`);function C(){r.value&&(r.value=!1)}function w(k){k.stopPropagation(),k.preventDefault(),d.value?.input?.click()}return ut(()=>{const[k,T]=Cl(n),V=Dr.filterProps(e),M=Nl.filterProps(e);return h(Dr,tt({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},i.value,e.class]},k,V,{modelValue:o.value,"onUpdate:modelValue":I=>o.value=I,id:b.value,focused:l.value,style:e.style}),{...a,default:I=>{let{id:R,messagesId:W,isDisabled:q,isReadonly:z,isValid:Y}=I;const K={model:o,isValid:Y};return h(Nl,tt({ref:d},M,{modelValue:o.value,"onUpdate:modelValue":[ae=>o.value=ae,C],id:R.value,"aria-describedby":W.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:q.value,readonly:z.value,onFocus:u,onBlur:f},T),{...a,default:ae=>{let{backgroundColorClasses:te,backgroundColorStyles:J}=ae;return x("div",{class:Ye(["v-switch__track",m?void 0:te.value]),style:vt(J.value),onClick:w},[a["track-true"]&&x("div",{key:"prepend",class:"v-switch__track-true"},[a["track-true"](K)]),a["track-false"]&&x("div",{key:"append",class:"v-switch__track-false"},[a["track-false"](K)])])},input:ae=>{let{inputNode:te,icon:J,backgroundColorClasses:ne,backgroundColorStyles:re}=ae;return x(ft,null,[te,x("div",{class:Ye(["v-switch__thumb",{"v-switch__thumb--filled":J||e.loading},e.inset||m?void 0:ne.value]),style:vt(e.inset?void 0:re.value)},[a.thumb?h(rn,{defaults:{VIcon:{icon:J,size:"x-small"}}},{default:()=>[a.thumb({...K,icon:J})]}):h(xg,null,{default:()=>[e.loading?h(zf,{name:"v-switch",active:!0,color:Y.value===!1?void 0:p.value},{default:pe=>a.loader?a.loader(pe):h(dd,{active:pe.isActive,color:pe.color,indeterminate:!0,size:"16",width:"2"},null)}):J&&h(In,{key:String(J),icon:J,size:"x-small"},null)]})])])}})}})}),{}}}),E8=We({color:String,height:[Number,String],window:Boolean,...Mt(),...er(),...$u(),...da(),...nn(),...bn()},"VSystemBar"),D8=at()({name:"VSystemBar",props:E8(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{backgroundColorClasses:r,backgroundColorStyles:o}=jn(()=>e.color),{elevationClasses:i}=yr(e),{roundedClasses:l}=ka(e),{ssrBootStyles:u}=zu(),f=N(()=>e.height??(e.window?32:24)),{layoutItemStyles:d}=Ru({id:e.name,order:N(()=>parseInt(e.order,10)),position:gt("top"),layoutSize:f,elementSize:f,active:N(()=>!0),absolute:ke(()=>e.absolute)});return ut(()=>h(e.tag,{class:Ye(["v-system-bar",{"v-system-bar--window":e.window},a.value,r.value,i.value,l.value,e.class]),style:vt([o.value,d.value,u.value,e.style])},n)),{}}}),Ly=Symbol.for("vuetify:v-tabs"),T8=We({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ga(Qh({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),YP=at()({name:"VTab",props:T8(),setup(e,t){let{slots:n,attrs:a}=t;const{textColorClasses:r,textColorStyles:o}=Er(()=>e.sliderColor),i=Re(),l=Re(),u=N(()=>e.direction==="horizontal"),f=N(()=>i.value?.group?.isSelected.value??!1);function d(m){let{value:p}=m;if(p){const y=i.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),b=l.value;if(!y||!b)return;const C=getComputedStyle(y).color,w=y.getBoundingClientRect(),k=b.getBoundingClientRect(),T=u.value?"x":"y",V=u.value?"X":"Y",M=u.value?"right":"bottom",I=u.value?"width":"height",R=w[T],W=k[T],q=R>W?w[M]-k[M]:w[T]-k[T],z=Math.sign(q)>0?u.value?"right":"bottom":Math.sign(q)<0?u.value?"left":"top":"center",K=(Math.abs(q)+(Math.sign(q)<0?w[I]:k[I]))/Math.max(w[I],k[I])||0,ae=w[I]/k[I]||0,te=1.5;Mu(b,{backgroundColor:[C,"currentcolor"],transform:[`translate${V}(${q}px) scale${V}(${ae})`,`translate${V}(${q/te}px) scale${V}(${(K-1)/te+1})`,"none"],transformOrigin:Array(3).fill(z)},{duration:225,easing:Cf})}}return ut(()=>{const m=wn.filterProps(e);return h(wn,tt({symbol:Ly,ref:i,class:["v-tab",e.class],style:e.style,tabindex:f.value?0:-1,role:"tab","aria-selected":String(f.value),active:!1},m,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>x(ft,null,[n.default?.()??e.text,!e.hideSlider&&x("div",{ref:l,class:Ye(["v-tab__slider",r.value]),style:vt(o.value)},null)])})}),Oo({},i)}}),V8=We({...ga(av(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),KP=at()({name:"VTabsWindow",props:V8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=un(Ly,null),r=Lt(e,"modelValue"),o=N({get(){return r.value!=null||!a?r.value:a.items.value.find(i=>a.selected.value.includes(i.id))?.value},set(i){r.value=i}});return ut(()=>{const i=Ju.filterProps(e);return h(Ju,tt({_as:"VTabsWindow"},i,{modelValue:o.value,"onUpdate:modelValue":l=>o.value=l,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),O8=We({...rv()},"VTabsWindowItem"),GP=at()({name:"VTabsWindowItem",props:O8(),setup(e,t){let{slots:n}=t;return ut(()=>{const a=Zu.filterProps(e);return h(Zu,tt({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function I8(e){return e?e.map(t=>wf(t)?t:{text:t,value:t}):[]}const A8=We({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...$g({mandatory:"force",selectedClass:"v-tab-item--selected"}),...sr(),...nn()},"VTabs"),M8=at()({name:"VTabs",props:A8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:a}=t;const r=Lt(e,"modelValue"),o=N(()=>I8(e.items)),{densityClasses:i}=Lr(e),{backgroundColorClasses:l,backgroundColorStyles:u}=jn(()=>e.bgColor),{scopeId:f}=Xu();return ya({VTab:{color:ke(()=>e.color),direction:ke(()=>e.direction),stacked:ke(()=>e.stacked),fixed:ke(()=>e.fixedTabs),sliderColor:ke(()=>e.sliderColor),hideSlider:ke(()=>e.hideSlider)}}),ut(()=>{const d=Zf.filterProps(e),m=!!(a.window||e.items.length>0);return x(ft,null,[h(Zf,tt(d,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,l.value,e.class],style:[{"--v-tabs-height":It(e.height)},u.value,e.style],role:"tablist",symbol:Ly},f,n),{default:()=>[a.default?.()??o.value.map(p=>a.tab?.({item:p})??h(YP,tt(p,{key:p.text,value:p.value}),{default:a[`tab.${p.value}`]?()=>a[`tab.${p.value}`]?.({item:p}):void 0}))]}),m&&h(KP,tt({modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,key:"tabs-window"},f),{default:()=>[o.value.map(p=>a.item?.({item:p})??h(GP,{value:p.value},{default:()=>a[`item.${p.value}`]?.({item:p})})),a.window?.()]})])}),{}}}),N8=We({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Bs(),...rm()},"VTextarea"),B8=at()({name:"VTextarea",directives:{vIntersect:Os},inheritAttrs:!1,props:N8(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:a,slots:r}=t;const o=Lt(e,"modelValue"),{isFocused:i,focus:l,blur:u}=Ns(e),{onIntersect:f}=hx(e),d=N(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),m=N(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),p=Re(),y=Re(),b=gt(""),C=Re(),w=N(()=>e.persistentPlaceholder||i.value||e.active);function k(){C.value!==document.activeElement&&C.value?.focus(),i.value||l()}function T(K){k(),a("click:control",K)}function V(K){a("mousedown:control",K)}function M(K){K.stopPropagation(),k(),Qt(()=>{o.value="",yh(e["onClick:clear"],K)})}function I(K){const ae=K.target;if(o.value=ae.value,e.modelModifiers?.trim){const te=[ae.selectionStart,ae.selectionEnd];Qt(()=>{ae.selectionStart=te[0],ae.selectionEnd=te[1]})}}const R=Re(),W=Re(Number(e.rows)),q=N(()=>["plain","underlined"].includes(e.variant));ca(()=>{e.autoGrow||(W.value=Number(e.rows))});function z(){e.autoGrow&&Qt(()=>{if(!R.value||!y.value)return;const K=getComputedStyle(R.value),ae=getComputedStyle(y.value.$el),te=parseFloat(K.getPropertyValue("--v-field-padding-top"))+parseFloat(K.getPropertyValue("--v-input-padding-top"))+parseFloat(K.getPropertyValue("--v-field-padding-bottom")),J=R.value.scrollHeight,ne=parseFloat(K.lineHeight),re=Math.max(parseFloat(e.rows)*ne+te,parseFloat(ae.getPropertyValue("--v-input-control-height"))),pe=parseFloat(e.maxRows)*ne+te||1/0,Ee=Xn(J??0,re,pe);W.value=Math.floor((Ee-te)/ne),b.value=It(Ee)})}yn(z),_t(o,z),_t(()=>e.rows,z),_t(()=>e.maxRows,z),_t(()=>e.density,z);let Y;return _t(R,K=>{K?(Y=new ResizeObserver(z),Y.observe(R.value)):Y?.disconnect()}),hr(()=>{Y?.disconnect()}),ut(()=>{const K=!!(r.counter||e.counter||e.counterValue),ae=!!(K||r.details),[te,J]=Cl(n),{modelValue:ne,...re}=Dr.filterProps(e),pe=$l.filterProps(e);return h(Dr,tt({ref:p,modelValue:o.value,"onUpdate:modelValue":Ee=>o.value=Ee,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":q.value},e.class],style:e.style},te,re,{centerAffix:W.value===1&&!q.value,focused:i.value}),{...r,default:Ee=>{let{id:me,isDisabled:fe,isDirty:le,isReadonly:Te,isValid:ue}=Ee;return h($l,tt({ref:y,style:{"--v-textarea-control-height":b.value},onClick:T,onMousedown:V,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},pe,{id:me.value,active:w.value||le.value,centerAffix:W.value===1&&!q.value,dirty:le.value||e.dirty,disabled:fe.value,focused:i.value,error:ue.value===!1}),{...r,default:De=>{let{props:{class:Me,...Oe}}=De;return x(ft,null,[e.prefix&&x("span",{class:"v-text-field__prefix"},[e.prefix]),Sn(x("textarea",tt({ref:C,class:Me,value:o.value,onInput:I,autofocus:e.autofocus,readonly:Te.value,disabled:fe.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:k,onBlur:u},Oe,J),null),[[Os,{handler:f},null,{once:!0}]]),e.autoGrow&&Sn(x("textarea",{class:Ye([Me,"v-textarea__sizer"]),id:`${Oe.id}-sizer`,"onUpdate:modelValue":B=>o.value=B,ref:R,readonly:!0,"aria-hidden":"true"},null),[[FI,o.value]]),e.suffix&&x("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:ae?Ee=>x(ft,null,[r.details?.(Ee),K&&x(ft,null,[x("span",null,null),h(ev,{active:e.persistentCounter||i.value,value:d.value,max:m.value,disabled:e.disabled},r.counter)])]):void 0})}),Oo({},p,y,C)}}),$8=We({withBackground:Boolean,...Mt(),...bn(),...nn()},"VThemeProvider"),R8=at()({name:"VThemeProvider",props:$8(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e);return()=>e.withBackground?h(e.tag,{class:Ye(["v-theme-provider",a.value,e.class]),style:vt(e.style)},{default:()=>[n.default?.()]}):n.default?.()}}),F8=We({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ut,iconColor:String,lineColor:String,...Mt(),...da(),...Gi(),...er()},"VTimelineDivider"),L8=at()({name:"VTimelineDivider",props:F8(),setup(e,t){let{slots:n}=t;const{sizeClasses:a,sizeStyles:r}=cd(e,"v-timeline-divider__dot"),{backgroundColorStyles:o,backgroundColorClasses:i}=jn(()=>e.dotColor),{roundedClasses:l}=ka(e,"v-timeline-divider__dot"),{elevationClasses:u}=yr(e),{backgroundColorClasses:f,backgroundColorStyles:d}=jn(()=>e.lineColor);return ut(()=>x("div",{class:Ye(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:vt(e.style)},[x("div",{class:Ye(["v-timeline-divider__before",f.value]),style:vt(d.value)},null),!e.hideDot&&x("div",{key:"dot",class:Ye(["v-timeline-divider__dot",u.value,l.value,a.value]),style:vt(r.value)},[x("div",{class:Ye(["v-timeline-divider__inner-dot",i.value,l.value]),style:vt(o.value)},[n.default?h(rn,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):h(In,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),x("div",{class:Ye(["v-timeline-divider__after",f.value]),style:vt(d.value)},null)])),{}}}),QP=We({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ut,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||["start","end"].includes(e)},...Mt(),...Wa(),...er(),...da(),...Gi(),...nn()},"VTimelineItem"),q8=at()({name:"VTimelineItem",props:QP(),setup(e,t){let{slots:n}=t;const{dimensionStyles:a}=za(e),r=gt(0),o=Re();return _t(o,i=>{i&&(r.value=i.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),ut(()=>x("div",{class:Ye(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side==="start","v-timeline-item--side-end":e.side==="end"},e.class]),style:vt([{"--v-timeline-dot-size":It(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${It(e.lineInset)})`:It(0)},e.style])},[x("div",{class:"v-timeline-item__body",style:vt(a.value)},[n.default?.()]),h(L8,{ref:o,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&x("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&n.opposite?.()])])),{}}}),U8=We({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Sl(QP({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Mt(),...sr(),...nn(),...bn()},"VTimeline"),H8=at()({name:"VTimeline",props:U8(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=Nn(e),{densityClasses:r}=Lr(e),{rtlClasses:o}=Fa();ya({VTimelineDivider:{lineColor:ke(()=>e.lineColor)},VTimelineItem:{density:ke(()=>e.density),dotColor:ke(()=>e.dotColor),fillDot:ke(()=>e.fillDot),hideOpposite:ke(()=>e.hideOpposite),iconColor:ke(()=>e.iconColor),lineColor:ke(()=>e.lineColor),lineInset:ke(()=>e.lineInset),size:ke(()=>e.size)}});const i=N(()=>{const u=e.side?e.side:e.density!=="default"?"end":null;return u&&`v-timeline--side-${u}`}),l=N(()=>{const u=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return u;case"start":return u[0];case"end":return u[1];default:return null}});return ut(()=>h(e.tag,{class:Ye(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,l.value,{"v-timeline--inset-line":!!e.lineInset},a.value,r.value,i.value,o.value,e.class]),style:vt([{"--v-timeline-line-thickness":It(e.lineThickness)},e.style])},n)),{}}}),W8=We({...Mt(),...Wo({variant:"text"})},"VToolbarItems"),z8=at()({name:"VToolbarItems",props:W8(),setup(e,t){let{slots:n}=t;return ya({VBtn:{color:ke(()=>e.color),height:"inherit",variant:ke(()=>e.variant)}}),ut(()=>x("div",{class:Ye(["v-toolbar-items",e.class]),style:vt(e.style)},[n.default?.()])),{}}}),j8=We({id:String,interactive:Boolean,text:String,...ga(nm({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),XP=at()({name:"VTooltip",props:j8(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Lt(e,"modelValue"),{scopeId:r}=Xu(),o=Qr(),i=ke(()=>e.id||`v-tooltip-${o}`),l=Re(),u=N(()=>e.location.split(" ").length>1?e.location:e.location+" center"),f=N(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=ke(()=>e.transition!=null?e.transition:a.value?"scale-transition":"fade-transition"),m=N(()=>tt({"aria-describedby":i.value},e.activatorProps));return ut(()=>{const p=Qi.filterProps(e);return h(Qi,tt({ref:l,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:i.value},p,{modelValue:a.value,"onUpdate:modelValue":y=>a.value=y,transition:d.value,absolute:!0,location:u.value,origin:f.value,persistent:!0,role:"tooltip",activatorProps:m.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){for(var y=arguments.length,b=new Array(y),C=0;C<y;C++)b[C]=arguments[C];return n.default?.(...b)??e.text}})}),Oo({},l)}}),Y8=at()({name:"VValidation",props:AC(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=MC(e,"validation");return()=>n.default?.(a)}}),K8=Object.freeze(Object.defineProperty({__proto__:null,VAlert:OF,VAlertTitle:PC,VApp:LR,VAppBar:iF,VAppBarNavIcon:EF,VAppBarTitle:DF,VAutocomplete:ZL,VAvatar:zo,VBadge:t3,VBanner:r3,VBannerActions:yx,VBannerText:bx,VBottomNavigation:i3,VBottomSheet:l3,VBreadcrumbs:f3,VBreadcrumbsDivider:kx,VBreadcrumbsItem:Sx,VBtn:wn,VBtnGroup:Og,VBtnToggle:fF,VCard:_3,VCardActions:Cx,VCardItem:Ex,VCardSubtitle:xx,VCardText:Dx,VCardTitle:Px,VCarousel:P3,VCarouselItem:D3,VCheckbox:UF,VCheckboxBtn:Ms,VChip:vd,VChipGroup:YF,VClassIcon:M_,VCode:T3,VCol:R4,VColorPicker:J3,VCombobox:e4,VComponentIcon:I_,VConfirmEdit:n4,VContainer:M4,VCounter:ev,VDataIterator:f4,VDataTable:D4,VDataTableFooter:um,VDataTableHeaders:tc,VDataTableRow:Py,VDataTableRows:nc,VDataTableServer:I4,VDataTableVirtual:V4,VDatePicker:Q4,VDatePickerControls:Oy,VDatePickerHeader:Iy,VDatePickerMonth:Ay,VDatePickerMonths:My,VDatePickerYears:Ny,VDefaultsProvider:rn,VDialog:iy,VDialogBottomTransition:WR,VDialogTopTransition:zR,VDialogTransition:zh,VDivider:Rs,VEmptyState:J4,VExpandTransition:jh,VExpandXTransition:Eg,VExpansionPanel:Z4,VExpansionPanelText:By,VExpansionPanelTitle:$y,VExpansionPanels:n5,VFab:r5,VFabTransition:HR,VFadeTransition:Uf,VField:$l,VFieldLabel:am,VFileInput:s5,VFooter:u5,VForm:d5,VHover:m5,VIcon:In,VImg:Is,VInfiniteScroll:v5,VInput:Dr,VItem:g5,VItemGroup:_5,VKbd:y5,VLabel:hd,VLayout:w5,VLayoutItem:S5,VLazy:x5,VLigatureIcon:q2,VList:Jh,VListGroup:qg,VListImg:vL,VListItem:$s,VListItemAction:_L,VListItemMedia:yL,VListItemSubtitle:KC,VListItemTitle:GC,VListSubheader:QC,VLocaleProvider:E5,VMain:T5,VMenu:pd,VMessages:OC,VNavigationDrawer:R5,VNoSsr:F5,VNumberInput:W5,VOtpInput:j5,VOverlay:Qi,VPagination:wy,VParallax:G5,VProgressCircular:dd,VProgressLinear:Yh,VRadio:X5,VRadioGroup:Z5,VRangeSlider:t8,VRating:a8,VResponsive:Dg,VRow:z4,VScaleTransition:xg,VScrollXReverseTransition:YR,VScrollXTransition:jR,VScrollYReverseTransition:GR,VScrollYTransition:KR,VSelect:ry,VSelectionControl:Nl,VSelectionControlGroup:DC,VSheet:lm,VSkeletonLoader:s8,VSlideGroup:Zf,VSlideGroupItem:l8,VSlideXReverseTransition:XR,VSlideXTransition:QR,VSlideYReverseTransition:JR,VSlideYTransition:Pg,VSlider:fy,VSnackbar:Ry,VSnackbarQueue:d8,VSpacer:_P,VSparkline:v8,VSpeedDial:_8,VStepper:C8,VStepperActions:UP,VStepperHeader:HP,VStepperItem:WP,VStepperWindow:zP,VStepperWindowItem:jP,VSvgIcon:A_,VSwitch:P8,VSystemBar:D8,VTab:YP,VTable:ac,VTabs:M8,VTabsWindow:KP,VTabsWindowItem:GP,VTextField:Fs,VTextarea:B8,VThemeProvider:R8,VTimeline:H8,VTimelineItem:q8,VToolbar:Vg,VToolbarItems:z8,VToolbarTitle:Sg,VTooltip:XP,VValidation:Y8,VVirtualScroll:tv,VWindow:Ju,VWindowItem:Zu},Symbol.toStringTag,{value:"Module"}));function G8(e,t){const n=t.modifiers||{},a=t.value,{once:r,immediate:o,...i}=n,l=!Object.keys(i).length,{handler:u,options:f}=typeof a=="object"?a:{handler:a,options:{attributes:i?.attr??l,characterData:i?.char??l,childList:i?.child??l,subtree:i?.sub??l}},d=new MutationObserver(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0;u?.(m,p),r&&JP(e,t)});o&&u?.([],d),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,f)}function JP(e,t){e._mutate?.[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Q8={mounted:G8,unmounted:JP};function X8(e,t){const n=t.value,a={passive:!t.modifiers?.active};window.addEventListener("resize",n,a),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:a},t.modifiers?.quiet||n()}function J8(e,t){if(!e._onResize?.[t.instance.$.uid])return;const{handler:n,options:a}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,a),delete e._onResize[t.instance.$.uid]}const Z8={mounted:X8,unmounted:J8};function ZP(e,t){const{self:n=!1}=t.modifiers??{},a=t.value,r=typeof a=="object"&&a.options||{passive:!0},o=typeof a=="function"||"handleEvent"in a?a:a.handler,i=n?e:t.arg?document.querySelector(t.arg):window;i&&(i.addEventListener("scroll",o,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:o,options:r,target:n?void 0:i})}function eE(e,t){if(!e._onScroll?.[t.instance.$.uid])return;const{handler:n,options:a,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,a),delete e._onScroll[t.instance.$.uid]}function e6(e,t){t.value!==t.oldValue&&(eE(e,t),ZP(e,t))}const t6={mounted:ZP,unmounted:eE,updated:e6};function n6(e,t){const n=typeof e=="string"?ie(e):e,a=a6(n,t);return{mounted:a,updated:a,unmounted(r){_h(null,r)}}}function a6(e,t){return function(n,a,r){const o=typeof t=="function"?t(a):t,i=a.value?.text??a.value??o?.text,l=wf(a.value)?a.value:{},u=()=>i??n.textContent,f=(r.ctx===a.instance.$?r6(r,a.instance.$)?.provides:r.ctx?.provides)??a.instance.$.provides,d=Ri(e,tt(o,l),u);d.appContext=Object.assign(Object.create(null),a.instance.$.appContext,{provides:f}),_h(d,n)}}function r6(e,t){const n=new Set,a=o=>{for(const i of o){if(!i)continue;if(i===e||i.el&&e.el&&i.el===e.el)return!0;n.add(i);let l;if(i.suspense?l=a([i.ssContent]):Array.isArray(i.children)?l=a(i.children):i.component?.vnode&&(l=a([i.component?.subTree])),l)return l;n.delete(i)}return!1};if(!a([t.subTree]))return Kc("Could not find original vnode, component will not inherit provides"),t;const r=Array.from(n).reverse();for(const o of r)if(o.component)return o.component;return t}const o6=n6(XP,e=>({activator:"parent",location:e.arg?.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value})),i6=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:Jg,Intersect:Os,Mutate:Q8,Resize:Z8,Ripple:qr,Scroll:t6,Tooltip:o6,Touch:nv},Symbol.toStringTag,{value:"Module"}));var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gv={exports:{}},s6=gv.exports,nE;function l6(){return nE||(nE=1,function(e,t){(function(n,a){e.exports=a()})(s6,function(){var n=function(v,g){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,A){D.__proto__=A}||function(D,A){for(var U in A)Object.prototype.hasOwnProperty.call(A,U)&&(D[U]=A[U])})(v,g)},a=function(){return(a=Object.assign||function(v){for(var g,D=1,A=arguments.length;D<A;D++)for(var U in g=arguments[D])Object.prototype.hasOwnProperty.call(g,U)&&(v[U]=g[U]);return v}).apply(this,arguments)};function r(v,g,D){for(var A,U=0,ee=g.length;U<ee;U++)!A&&U in g||((A=A||Array.prototype.slice.call(g,0,U))[U]=g[U]);return v.concat(A||Array.prototype.slice.call(g))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dm,i=Object.keys,l=Array.isArray;function u(v,g){return typeof g!="object"||i(g).forEach(function(D){v[D]=g[D]}),v}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function m(v,g){return d.call(v,g)}function p(v,g){typeof g=="function"&&(g=g(f(v))),(typeof Reflect>"u"?i:Reflect.ownKeys)(g).forEach(function(D){b(v,D,g[D])})}var y=Object.defineProperty;function b(v,g,D,A){y(v,g,u(D&&m(D,"get")&&typeof D.get=="function"?{get:D.get,set:D.set,configurable:!0}:{value:D,configurable:!0,writable:!0},A))}function C(v){return{from:function(g){return v.prototype=Object.create(g.prototype),b(v.prototype,"constructor",v),{extend:p.bind(null,v.prototype)}}}}var w=Object.getOwnPropertyDescriptor,k=[].slice;function T(v,g,D){return k.call(v,g,D)}function V(v,g){return g(v)}function M(v){if(!v)throw new Error("Assertion Failed")}function I(v){o.setImmediate?setImmediate(v):setTimeout(v,0)}function R(v,g){if(typeof g=="string"&&m(v,g))return v[g];if(!g)return v;if(typeof g!="string"){for(var D=[],A=0,U=g.length;A<U;++A){var ee=R(v,g[A]);D.push(ee)}return D}var ve=g.indexOf(".");if(ve!==-1){var Ce=v[g.substr(0,ve)];return Ce==null?void 0:R(Ce,g.substr(ve+1))}}function W(v,g,D){if(v&&g!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof g!="string"&&"length"in g){M(typeof D!="string"&&"length"in D);for(var A=0,U=g.length;A<U;++A)W(v,g[A],D[A])}else{var ee,ve,Ce=g.indexOf(".");Ce!==-1?(ee=g.substr(0,Ce),(ve=g.substr(Ce+1))===""?D===void 0?l(v)&&!isNaN(parseInt(ee))?v.splice(ee,1):delete v[ee]:v[ee]=D:W(Ce=!(Ce=v[ee])||!m(v,ee)?v[ee]={}:Ce,ve,D)):D===void 0?l(v)&&!isNaN(parseInt(g))?v.splice(g,1):delete v[g]:v[g]=D}}function q(v){var g,D={};for(g in v)m(v,g)&&(D[g]=v[g]);return D}var z=[].concat;function Y(v){return z.apply([],v)}var Bt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(g){return g+v+"Array"})}))).filter(function(v){return o[v]}),K=new Set(Bt.map(function(v){return o[v]})),ae=null;function te(v){return ae=new WeakMap,v=function g(D){if(!D||typeof D!="object")return D;var A=ae.get(D);if(A)return A;if(l(D)){A=[],ae.set(D,A);for(var U=0,ee=D.length;U<ee;++U)A.push(g(D[U]))}else if(K.has(D.constructor))A=D;else{var ve,Ce=f(D);for(ve in A=Ce===Object.prototype?{}:Object.create(Ce),ae.set(D,A),D)m(D,ve)&&(A[ve]=g(D[ve]))}return A}(v),ae=null,v}var J={}.toString;function ne(v){return J.call(v).slice(8,-1)}var re=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pe=typeof re=="symbol"?function(v){var g;return v!=null&&(g=v[re])&&g.apply(v)}:function(){return null};function Ee(v,g){return g=v.indexOf(g),0<=g&&v.splice(g,1),0<=g}var me={};function fe(v){var g,D,A,U;if(arguments.length===1){if(l(v))return v.slice();if(this===me&&typeof v=="string")return[v];if(U=pe(v)){for(D=[];!(A=U.next()).done;)D.push(A.value);return D}if(v==null)return[v];if(typeof(g=v.length)!="number")return[v];for(D=new Array(g);g--;)D[g]=v[g];return D}for(g=arguments.length,D=new Array(g);g--;)D[g]=arguments[g];return D}var le=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Pt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ir=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Pt),Te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ue(v,g){this.name=v,this.message=g}function De(v,g){return v+". Errors: "+Object.keys(g).map(function(D){return g[D].toString()}).filter(function(D,A,U){return U.indexOf(D)===A}).join(`
`)}function Me(v,g,D,A){this.failures=g,this.failedKeys=A,this.successCount=D,this.message=De(v,g)}function Oe(v,g){this.name="BulkError",this.failures=Object.keys(g).map(function(D){return g[D]}),this.failuresByPos=g,this.message=De(v,this.failures)}C(ue).from(Error).extend({toString:function(){return this.name+": "+this.message}}),C(Me).from(ue),C(Oe).from(ue);var B=Ir.reduce(function(v,g){return v[g]=g+"Error",v},{}),Ae=ue,Fe=Ir.reduce(function(v,g){var D=g+"Error";function A(U,ee){this.name=D,U?typeof U=="string"?(this.message="".concat(U).concat(ee?`
 `+ee:""),this.inner=ee||null):typeof U=="object"&&(this.message="".concat(U.name," ").concat(U.message),this.inner=U):(this.message=Te[g]||D,this.inner=null)}return C(A).from(Ae),v[g]=A,v},{});Fe.Syntax=SyntaxError,Fe.Type=TypeError,Fe.Range=RangeError;var it=Pt.reduce(function(v,g){return v[g+"Error"]=Fe[g],v},{}),_e=Ir.reduce(function(v,g){return["Syntax","Type","Range"].indexOf(g)===-1&&(v[g+"Error"]=Fe[g]),v},{});function mt(){}function H(v){return v}function X(v,g){return v==null||v===H?g:function(D){return g(v(D))}}function F(v,g){return function(){v.apply(this,arguments),g.apply(this,arguments)}}function Ue(v,g){return v===mt?g:function(){var D=v.apply(this,arguments);D!==void 0&&(arguments[0]=D);var A=this.onsuccess,U=this.onerror;this.onsuccess=null,this.onerror=null;var ee=g.apply(this,arguments);return A&&(this.onsuccess=this.onsuccess?F(A,this.onsuccess):A),U&&(this.onerror=this.onerror?F(U,this.onerror):U),ee!==void 0?ee:D}}function $e(v,g){return v===mt?g:function(){v.apply(this,arguments);var D=this.onsuccess,A=this.onerror;this.onsuccess=this.onerror=null,g.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?F(D,this.onsuccess):D),A&&(this.onerror=this.onerror?F(A,this.onerror):A)}}function He(v,g){return v===mt?g:function(D){var A=v.apply(this,arguments);u(D,A);var U=this.onsuccess,ee=this.onerror;return this.onsuccess=null,this.onerror=null,D=g.apply(this,arguments),U&&(this.onsuccess=this.onsuccess?F(U,this.onsuccess):U),ee&&(this.onerror=this.onerror?F(ee,this.onerror):ee),A===void 0?D===void 0?void 0:D:u(A,D)}}function ot(v,g){return v===mt?g:function(){return g.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function nt(v,g){return v===mt?g:function(){var D=v.apply(this,arguments);if(D&&typeof D.then=="function"){for(var A=this,U=arguments.length,ee=new Array(U);U--;)ee[U]=arguments[U];return D.then(function(){return g.apply(A,ee)})}return g.apply(this,arguments)}}_e.ModifyError=Me,_e.DexieError=ue,_e.BulkError=Oe;var st=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ht(v){st=v}var Ve={},Je=100,Bt=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,f(v),v];var g=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[g,f(g),v]}(),Pt=Bt[0],Ir=Bt[1],Bt=Bt[2],Ir=Ir&&Ir.then,jt=Pt&&Pt.constructor,Dt=!!Bt,zt=function(v,g){fa.push([v,g]),$n&&(queueMicrotask(Hr),$n=!1)},mn=!0,$n=!0,Yn=[],ra=[],pa=H,ja={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:mt,pgp:!1,env:{},finalize:mt},Nt=ja,fa=[],Xe=0,wt=[];function ct(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var g=this._PSD=Nt;if(typeof v!="function"){if(v!==Ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ot(this,this._value))}this._state=null,this._value=null,++g.ref,function D(A,U){try{U(function(ee){if(A._state===null){if(ee===A)throw new TypeError("A promise cannot be resolved with itself.");var ve=A._lib&&Ya();ee&&typeof ee.then=="function"?D(A,function(Ce,qe){ee instanceof ct?ee._then(Ce,qe):ee.then(Ce,qe)}):(A._state=!0,A._value=ee,Ft(A)),ve&&to()}},Ot.bind(null,A))}catch(ee){Ot(A,ee)}}(this,v)}var $t={get:function(){var v=Nt,g=Zi;function D(A,U){var ee=this,ve=!v.global&&(v!==Nt||g!==Zi),Ce=ve&&!Wr(),qe=new ct(function(Q,ce){Tr(ee,new pt(xd(A,v,ve,Ce),xd(U,v,ve,Ce),Q,ce,v))});return this._consoleTask&&(qe._consoleTask=this._consoleTask),qe}return D.prototype=Ve,D},set:function(v){b(this,"then",v&&v.prototype===Ve?$t:{get:function(){return v},set:$t.set})}};function pt(v,g,D,A,U){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof g=="function"?g:null,this.resolve=D,this.reject=A,this.psd=U}function Ot(v,g){var D,A;ra.push(g),v._state===null&&(D=v._lib&&Ya(),g=pa(g),v._state=!1,v._value=g,A=v,Yn.some(function(U){return U._value===A._value})||Yn.push(A),Ft(v),D&&to())}function Ft(v){var g=v._listeners;v._listeners=[];for(var D=0,A=g.length;D<A;++D)Tr(v,g[D]);var U=v._PSD;--U.ref||U.finalize(),Xe===0&&(++Xe,zt(function(){--Xe==0&&Ls()},[]))}function Tr(v,g){if(v._state!==null){var D=v._state?g.onFulfilled:g.onRejected;if(D===null)return(v._state?g.resolve:g.reject)(v._value);++g.psd.ref,++Xe,zt(Ur,[D,v,g])}else v._listeners.push(g)}function Ur(v,g,D){try{var A,U=g._value;!g._state&&ra.length&&(ra=[]),A=st&&g._consoleTask?g._consoleTask.run(function(){return v(U)}):v(U),g._state||ra.indexOf(U)!==-1||function(ee){for(var ve=Yn.length;ve;)if(Yn[--ve]._value===ee._value)return Yn.splice(ve,1)}(g),D.resolve(A)}catch(ee){D.reject(ee)}finally{--Xe==0&&Ls(),--D.psd.ref||D.psd.finalize()}}function Hr(){ao(ja,function(){Ya()&&to()})}function Ya(){var v=mn;return $n=mn=!1,v}function to(){var v,g,D;do for(;0<fa.length;)for(v=fa,fa=[],D=v.length,g=0;g<D;++g){var A=v[g];A[0].apply(null,A[1])}while(0<fa.length);$n=mn=!0}function Ls(){var v=Yn;Yn=[],v.forEach(function(A){A._PSD.onunhandled.call(null,A._value,A)});for(var g=wt.slice(0),D=g.length;D;)g[--D]()}function Pi(v){return new ct(Ve,!1,v)}function ea(v,g){var D=Nt;return function(){var A=Ya(),U=Nt;try{return no(D,!0),v.apply(this,arguments)}catch(ee){g&&g(ee)}finally{no(U,!1),A&&to()}}}p(ct.prototype,{then:$t,_then:function(v,g){Tr(this,new pt(null,null,v,g,Nt))},catch:function(v){if(arguments.length===1)return this.then(null,v);var g=v,D=arguments[1];return typeof g=="function"?this.then(null,function(A){return(A instanceof g?D:Pi)(A)}):this.then(null,function(A){return(A&&A.name===g?D:Pi)(A)})},finally:function(v){return this.then(function(g){return ct.resolve(v()).then(function(){return g})},function(g){return ct.resolve(v()).then(function(){return Pi(g)})})},timeout:function(v,g){var D=this;return v<1/0?new ct(function(A,U){var ee=setTimeout(function(){return U(new Fe.Timeout(g))},v);D.then(A,U).finally(clearTimeout.bind(null,ee))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(ct.prototype,Symbol.toStringTag,"Dexie.Promise"),ja.env=Cd(),p(ct,{all:function(){var v=fe.apply(null,arguments).map(Us);return new ct(function(g,D){v.length===0&&g([]);var A=v.length;v.forEach(function(U,ee){return ct.resolve(U).then(function(ve){v[ee]=ve,--A||g(v)},D)})})},resolve:function(v){return v instanceof ct?v:v&&typeof v.then=="function"?new ct(function(g,D){v.then(g,D)}):new ct(Ve,!0,v)},reject:Pi,race:function(){var v=fe.apply(null,arguments).map(Us);return new ct(function(g,D){v.map(function(A){return ct.resolve(A).then(g,D)})})},PSD:{get:function(){return Nt},set:function(v){return Nt=v}},totalEchoes:{get:function(){return Zi}},newPSD:Yo,usePSD:ao,scheduler:{get:function(){return zt},set:function(v){zt=v}},rejectionMapper:{get:function(){return pa},set:function(v){pa=v}},follow:function(v,g){return new ct(function(D,A){return Yo(function(U,ee){var ve=Nt;ve.unhandleds=[],ve.onunhandled=ee,ve.finalize=F(function(){var Ce,qe=this;Ce=function(){qe.unhandleds.length===0?U():ee(qe.unhandleds[0])},wt.push(function Q(){Ce(),wt.splice(wt.indexOf(Q),1)}),++Xe,zt(function(){--Xe==0&&Ls()},[])},ve.finalize),v()},g,D,A)})}}),jt&&(jt.allSettled&&b(ct,"allSettled",function(){var v=fe.apply(null,arguments).map(Us);return new ct(function(g){v.length===0&&g([]);var D=v.length,A=new Array(D);v.forEach(function(U,ee){return ct.resolve(U).then(function(ve){return A[ee]={status:"fulfilled",value:ve}},function(ve){return A[ee]={status:"rejected",reason:ve}}).then(function(){return--D||g(A)})})})}),jt.any&&typeof AggregateError<"u"&&b(ct,"any",function(){var v=fe.apply(null,arguments).map(Us);return new ct(function(g,D){v.length===0&&D(new AggregateError([]));var A=v.length,U=new Array(A);v.forEach(function(ee,ve){return ct.resolve(ee).then(function(Ce){return g(Ce)},function(Ce){U[ve]=Ce,--A||D(new AggregateError(U))})})})}),jt.withResolvers&&(ct.withResolvers=jt.withResolvers));var _a={awaits:0,echoes:0,id:0},pm=0,Ul=[],jo=0,Zi=0,qs=0;function Yo(v,g,D,A){var U=Nt,ee=Object.create(U);return ee.parent=U,ee.ref=0,ee.global=!1,ee.id=++qs,ja.env,ee.env=Dt?{Promise:ct,PromiseProp:{value:ct,configurable:!0,writable:!0},all:ct.all,race:ct.race,allSettled:ct.allSettled,any:ct.any,resolve:ct.resolve,reject:ct.reject}:{},g&&u(ee,g),++U.ref,ee.finalize=function(){--this.parent.ref||this.parent.finalize()},A=ao(ee,v,D,A),ee.ref===0&&ee.finalize(),A}function es(){return _a.id||(_a.id=++pm),++_a.awaits,_a.echoes+=Je,_a.id}function Wr(){return!!_a.awaits&&(--_a.awaits==0&&(_a.id=0),_a.echoes=_a.awaits*Je,!0)}function Us(v){return _a.echoes&&v&&v.constructor===jt?(es(),v.then(function(g){return Wr(),g},function(g){return Wr(),Rn(g)})):v}function _m(){var v=Ul[Ul.length-1];Ul.pop(),no(v,!1)}function no(v,g){var D,A=Nt;(g?!_a.echoes||jo++&&v===Nt:!jo||--jo&&v===Nt)||queueMicrotask(g?function(U){++Zi,_a.echoes&&--_a.echoes!=0||(_a.echoes=_a.awaits=_a.id=0),Ul.push(Nt),no(U,!0)}.bind(null,v):_m),v!==Nt&&(Nt=v,A===ja&&(ja.env=Cd()),Dt&&(D=ja.env.Promise,g=v.env,(A.global||v.global)&&(Object.defineProperty(o,"Promise",g.PromiseProp),D.all=g.all,D.race=g.race,D.resolve=g.resolve,D.reject=g.reject,g.allSettled&&(D.allSettled=g.allSettled),g.any&&(D.any=g.any))))}function Cd(){var v=o.Promise;return Dt?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function ao(v,g,D,A,U){var ee=Nt;try{return no(v,!0),g(D,A,U)}finally{no(ee,!1)}}function xd(v,g,D,A){return typeof v!="function"?v:function(){var U=Nt;D&&es(),no(g,!0);try{return v.apply(this,arguments)}finally{no(U,!1),A&&queueMicrotask(Wr)}}}function ts(v){Promise===jt&&_a.echoes===0?jo===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+Ir).indexOf("[native code]")===-1&&(es=Wr=mt);var Rn=ct.reject,Ko="￿",br="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Pd="String expected.",ns=[],Hl="__dbnames",Wl="readonly",as="readwrite";function Go(v,g){return v?g?function(){return v.apply(this,arguments)&&g.apply(this,arguments)}:v:g}var Ed={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function zl(v){return typeof v!="string"||/\./.test(v)?function(g){return g}:function(g){return g[v]===void 0&&v in g&&delete(g=te(g))[v],g}}function ic(){throw Fe.Type()}function pn(v,g){try{var D=rs(v),A=rs(g);if(D!==A)return D==="Array"?1:A==="Array"?-1:D==="binary"?1:A==="binary"?-1:D==="string"?1:A==="string"?-1:D==="Date"?1:A!=="Date"?NaN:-1;switch(D){case"number":case"Date":case"string":return g<v?1:v<g?-1:0;case"binary":return function(U,ee){for(var ve=U.length,Ce=ee.length,qe=ve<Ce?ve:Ce,Q=0;Q<qe;++Q)if(U[Q]!==ee[Q])return U[Q]<ee[Q]?-1:1;return ve===Ce?0:ve<Ce?-1:1}(jl(v),jl(g));case"Array":return function(U,ee){for(var ve=U.length,Ce=ee.length,qe=ve<Ce?ve:Ce,Q=0;Q<qe;++Q){var ce=pn(U[Q],ee[Q]);if(ce!==0)return ce}return ve===Ce?0:ve<Ce?-1:1}(v,g)}}catch{}return NaN}function rs(v){var g=typeof v;return g!="object"?g:ArrayBuffer.isView(v)?"binary":(v=ne(v),v==="ArrayBuffer"?"binary":v)}function jl(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var sc=(An.prototype._trans=function(v,g,D){var A=this._tx||Nt.trans,U=this.name,ee=st&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function ve(Q,ce,Z){if(!Z.schema[U])throw new Fe.NotFound("Table "+U+" not part of transaction");return g(Z.idbtrans,Z)}var Ce=Ya();try{var qe=A&&A.db._novip===this.db._novip?A===Nt.trans?A._promise(v,ve,D):Yo(function(){return A._promise(v,ve,D)},{trans:A,transless:Nt.transless||Nt}):function Q(ce,Z,xe,we){if(ce.idbdb&&(ce._state.openComplete||Nt.letThrough||ce._vip)){var Be=ce._createTransaction(Z,xe,ce._dbSchema);try{Be.create(),ce._state.PR1398_maxLoop=3}catch(ze){return ze.name===B.InvalidState&&ce.isOpen()&&0<--ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ce.close({disableAutoOpen:!1}),ce.open().then(function(){return Q(ce,Z,xe,we)})):Rn(ze)}return Be._promise(Z,function(ze,Ne){return Yo(function(){return Nt.trans=Be,we(ze,Ne,Be)})}).then(function(ze){if(Z==="readwrite")try{Be.idbtrans.commit()}catch{}return Z==="readonly"?ze:Be._completion.then(function(){return ze})})}if(ce._state.openComplete)return Rn(new Fe.DatabaseClosed(ce._state.dbOpenError));if(!ce._state.isBeingOpened){if(!ce._state.autoOpen)return Rn(new Fe.DatabaseClosed);ce.open().catch(mt)}return ce._state.dbReadyPromise.then(function(){return Q(ce,Z,xe,we)})}(this.db,v,[this.name],ve);return ee&&(qe._consoleTask=ee,qe=qe.catch(function(Q){return console.trace(Q),Rn(Q)})),qe}finally{Ce&&to()}},An.prototype.get=function(v,g){var D=this;return v&&v.constructor===Object?this.where(v).first(g):v==null?Rn(new Fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(A){return D.core.get({trans:A,key:v}).then(function(U){return D.hook.reading.fire(U)})}).then(g)},An.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(l(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var g=i(v);if(g.length===1)return this.where(g[0]).equals(v[g[0]]);var D=this.schema.indexes.concat(this.schema.primKey).filter(function(Ce){if(Ce.compound&&g.every(function(Q){return 0<=Ce.keyPath.indexOf(Q)})){for(var qe=0;qe<g.length;++qe)if(g.indexOf(Ce.keyPath[qe])===-1)return!1;return!0}return!1}).sort(function(Ce,qe){return Ce.keyPath.length-qe.keyPath.length})[0];if(D&&this.db._maxKey!==Ko){var ee=D.keyPath.slice(0,g.length);return this.where(ee).equals(ee.map(function(qe){return v[qe]}))}!D&&st&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(g.join("+"),"]"));var A=this.schema.idxByName;function U(Ce,qe){return pn(Ce,qe)===0}var ve=g.reduce(function(Z,qe){var Q=Z[0],ce=Z[1],Z=A[qe],xe=v[qe];return[Q||Z,Q||!Z?Go(ce,Z&&Z.multi?function(we){return we=R(we,qe),l(we)&&we.some(function(Be){return U(xe,Be)})}:function(we){return U(xe,R(we,qe))}):ce]},[null,null]),ee=ve[0],ve=ve[1];return ee?this.where(ee.name).equals(v[ee.keyPath]).filter(ve):D?this.filter(ve):this.where(g).equals("")},An.prototype.filter=function(v){return this.toCollection().and(v)},An.prototype.count=function(v){return this.toCollection().count(v)},An.prototype.offset=function(v){return this.toCollection().offset(v)},An.prototype.limit=function(v){return this.toCollection().limit(v)},An.prototype.each=function(v){return this.toCollection().each(v)},An.prototype.toArray=function(v){return this.toCollection().toArray(v)},An.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},An.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,l(v)?"[".concat(v.join("+"),"]"):v))},An.prototype.reverse=function(){return this.toCollection().reverse()},An.prototype.mapToClass=function(v){var g,D=this.db,A=this.name;function U(){return g!==null&&g.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof ic&&(function(qe,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function ce(){this.constructor=qe}n(qe,Q),qe.prototype=Q===null?Object.create(Q):(ce.prototype=Q.prototype,new ce)}(U,g=v),Object.defineProperty(U.prototype,"db",{get:function(){return D},enumerable:!1,configurable:!0}),U.prototype.table=function(){return A},v=U);for(var ee=new Set,ve=v.prototype;ve;ve=f(ve))Object.getOwnPropertyNames(ve).forEach(function(qe){return ee.add(qe)});function Ce(qe){if(!qe)return qe;var Q,ce=Object.create(v.prototype);for(Q in qe)if(!ee.has(Q))try{ce[Q]=qe[Q]}catch{}return ce}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ce,this.hook("reading",Ce),v},An.prototype.defineClass=function(){return this.mapToClass(function(v){u(this,v)})},An.prototype.add=function(v,g){var D=this,A=this.schema.primKey,U=A.auto,ee=A.keyPath,ve=v;return ee&&U&&(ve=zl(ee)(v)),this._trans("readwrite",function(Ce){return D.core.mutate({trans:Ce,type:"add",keys:g!=null?[g]:null,values:[ve]})}).then(function(Ce){return Ce.numFailures?ct.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(ee)try{W(v,ee,Ce)}catch{}return Ce})},An.prototype.update=function(v,g){return typeof v!="object"||l(v)?this.where(":id").equals(v).modify(g):(v=R(v,this.schema.primKey.keyPath),v===void 0?Rn(new Fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(g))},An.prototype.put=function(v,g){var D=this,A=this.schema.primKey,U=A.auto,ee=A.keyPath,ve=v;return ee&&U&&(ve=zl(ee)(v)),this._trans("readwrite",function(Ce){return D.core.mutate({trans:Ce,type:"put",values:[ve],keys:g!=null?[g]:null})}).then(function(Ce){return Ce.numFailures?ct.reject(Ce.failures[0]):Ce.lastResult}).then(function(Ce){if(ee)try{W(v,ee,Ce)}catch{}return Ce})},An.prototype.delete=function(v){var g=this;return this._trans("readwrite",function(D){return g.core.mutate({trans:D,type:"delete",keys:[v]})}).then(function(D){return D.numFailures?ct.reject(D.failures[0]):void 0})},An.prototype.clear=function(){var v=this;return this._trans("readwrite",function(g){return v.core.mutate({trans:g,type:"deleteRange",range:Ed})}).then(function(g){return g.numFailures?ct.reject(g.failures[0]):void 0})},An.prototype.bulkGet=function(v){var g=this;return this._trans("readonly",function(D){return g.core.getMany({keys:v,trans:D}).then(function(A){return A.map(function(U){return g.hook.reading.fire(U)})})})},An.prototype.bulkAdd=function(v,g,D){var A=this,U=Array.isArray(g)?g:void 0,ee=(D=D||(U?void 0:g))?D.allKeys:void 0;return this._trans("readwrite",function(ve){var Q=A.schema.primKey,Ce=Q.auto,Q=Q.keyPath;if(Q&&U)throw new Fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(U&&U.length!==v.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");var qe=v.length,Q=Q&&Ce?v.map(zl(Q)):v;return A.core.mutate({trans:ve,type:"add",keys:U,values:Q,wantResults:ee}).then(function(Be){var Z=Be.numFailures,xe=Be.results,we=Be.lastResult,Be=Be.failures;if(Z===0)return ee?xe:we;throw new Oe("".concat(A.name,".bulkAdd(): ").concat(Z," of ").concat(qe," operations failed"),Be)})})},An.prototype.bulkPut=function(v,g,D){var A=this,U=Array.isArray(g)?g:void 0,ee=(D=D||(U?void 0:g))?D.allKeys:void 0;return this._trans("readwrite",function(ve){var Q=A.schema.primKey,Ce=Q.auto,Q=Q.keyPath;if(Q&&U)throw new Fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(U&&U.length!==v.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");var qe=v.length,Q=Q&&Ce?v.map(zl(Q)):v;return A.core.mutate({trans:ve,type:"put",keys:U,values:Q,wantResults:ee}).then(function(Be){var Z=Be.numFailures,xe=Be.results,we=Be.lastResult,Be=Be.failures;if(Z===0)return ee?xe:we;throw new Oe("".concat(A.name,".bulkPut(): ").concat(Z," of ").concat(qe," operations failed"),Be)})})},An.prototype.bulkUpdate=function(v){var g=this,D=this.core,A=v.map(function(ve){return ve.key}),U=v.map(function(ve){return ve.changes}),ee=[];return this._trans("readwrite",function(ve){return D.getMany({trans:ve,keys:A,cache:"clone"}).then(function(Ce){var qe=[],Q=[];v.forEach(function(Z,xe){var we=Z.key,Be=Z.changes,ze=Ce[xe];if(ze){for(var Ne=0,et=Object.keys(Be);Ne<et.length;Ne++){var rt=et[Ne],S=Be[rt];if(rt===g.schema.primKey.keyPath){if(pn(S,we)!==0)throw new Fe.Constraint("Cannot update primary key in bulkUpdate()")}else W(ze,rt,S)}ee.push(xe),qe.push(we),Q.push(ze)}});var ce=qe.length;return D.mutate({trans:ve,type:"put",keys:qe,values:Q,updates:{keys:A,changeSpecs:U}}).then(function(Z){var xe=Z.numFailures,we=Z.failures;if(xe===0)return ce;for(var Be=0,ze=Object.keys(we);Be<ze.length;Be++){var Ne,et=ze[Be],rt=ee[Number(et)];rt!=null&&(Ne=we[et],delete we[et],we[rt]=Ne)}throw new Oe("".concat(g.name,".bulkUpdate(): ").concat(xe," of ").concat(ce," operations failed"),we)})})})},An.prototype.bulkDelete=function(v){var g=this,D=v.length;return this._trans("readwrite",function(A){return g.core.mutate({trans:A,type:"delete",keys:v})}).then(function(ve){var U=ve.numFailures,ee=ve.lastResult,ve=ve.failures;if(U===0)return ee;throw new Oe("".concat(g.name,".bulkDelete(): ").concat(U," of ").concat(D," operations failed"),ve)})},An);function An(){}function os(v){function g(ve,Ce){if(Ce){for(var qe=arguments.length,Q=new Array(qe-1);--qe;)Q[qe-1]=arguments[qe];return D[ve].subscribe.apply(null,Q),v}if(typeof ve=="string")return D[ve]}var D={};g.addEventType=ee;for(var A=1,U=arguments.length;A<U;++A)ee(arguments[A]);return g;function ee(ve,Ce,qe){if(typeof ve!="object"){var Q;Ce=Ce||ot;var ce={subscribers:[],fire:qe=qe||mt,subscribe:function(Z){ce.subscribers.indexOf(Z)===-1&&(ce.subscribers.push(Z),ce.fire=Ce(ce.fire,Z))},unsubscribe:function(Z){ce.subscribers=ce.subscribers.filter(function(xe){return xe!==Z}),ce.fire=ce.subscribers.reduce(Ce,qe)}};return D[ve]=g[ve]=ce}i(Q=ve).forEach(function(Z){var xe=Q[Z];if(l(xe))ee(Z,Q[Z][0],Q[Z][1]);else{if(xe!=="asap")throw new Fe.InvalidArgument("Invalid event config");var we=ee(Z,H,function(){for(var Be=arguments.length,ze=new Array(Be);Be--;)ze[Be]=arguments[Be];we.subscribers.forEach(function(Ne){I(function(){Ne.apply(null,ze)})})})}})}}function Un(v,g){return C(g).from({prototype:v}),g}function Io(v,g){return!(v.filter||v.algorithm||v.or)&&(g?v.justLimit:!v.replayFilter)}function Yl(v,g){v.filter=Go(v.filter,g)}function Vr(v,g,D){var A=v.replayFilter;v.replayFilter=A?function(){return Go(A(),g())}:g,v.justLimit=D&&!A}function Hs(v,g){if(v.isPrimKey)return g.primaryKey;var D=g.getIndexByKeyPath(v.index);if(!D)throw new Fe.Schema("KeyPath "+v.index+" on object store "+g.name+" is not indexed");return D}function Kl(v,g,D){var A=Hs(v,g.schema);return g.openCursor({trans:D,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:A,range:v.range}})}function Ei(v,g,D,A){var U=v.replayFilter?Go(v.filter,v.replayFilter()):v.filter;if(v.or){var ee={},ve=function(Ce,qe,Q){var ce,Z;U&&!U(qe,Q,function(xe){return qe.stop(xe)},function(xe){return qe.fail(xe)})||((Z=""+(ce=qe.primaryKey))=="[object ArrayBuffer]"&&(Z=""+new Uint8Array(ce)),m(ee,Z)||(ee[Z]=!0,g(Ce,qe,Q)))};return Promise.all([v.or._iterate(ve,D),Ws(Kl(v,A,D),v.algorithm,ve,!v.keysOnly&&v.valueMapper)])}return Ws(Kl(v,A,D),Go(v.algorithm,U),g,!v.keysOnly&&v.valueMapper)}function Ws(v,g,D,A){var U=ea(A?function(ee,ve,Ce){return D(A(ee),ve,Ce)}:D);return v.then(function(ee){if(ee)return ee.start(function(){var ve=function(){return ee.continue()};g&&!g(ee,function(Ce){return ve=Ce},function(Ce){ee.stop(Ce),ve=mt},function(Ce){ee.fail(Ce),ve=mt})||U(ee.value,ee,function(Ce){return ve=Ce}),ve()})})}var is=(ss.prototype.execute=function(v){var g=this["@@propmod"];if(g.add!==void 0){var D=g.add;if(l(D))return r(r([],l(v)?v:[],!0),D).sort();if(typeof D=="number")return(Number(v)||0)+D;if(typeof D=="bigint")try{return BigInt(v)+D}catch{return BigInt(0)+D}throw new TypeError("Invalid term ".concat(D))}if(g.remove!==void 0){var A=g.remove;if(l(A))return l(v)?v.filter(function(U){return!A.includes(U)}).sort():[];if(typeof A=="number")return Number(v)-A;if(typeof A=="bigint")try{return BigInt(v)-A}catch{return BigInt(0)-A}throw new TypeError("Invalid subtrahend ".concat(A))}return D=(D=g.replacePrefix)===null||D===void 0?void 0:D[0],D&&typeof v=="string"&&v.startsWith(D)?g.replacePrefix[1]+v.substring(D.length):v},ss);function ss(v){this["@@propmod"]=v}var lc=(dn.prototype._read=function(v,g){var D=this._ctx;return D.error?D.table._trans(null,Rn.bind(null,D.error)):D.table._trans("readonly",v).then(g)},dn.prototype._write=function(v){var g=this._ctx;return g.error?g.table._trans(null,Rn.bind(null,g.error)):g.table._trans("readwrite",v,"locked")},dn.prototype._addAlgorithm=function(v){var g=this._ctx;g.algorithm=Go(g.algorithm,v)},dn.prototype._iterate=function(v,g){return Ei(this._ctx,v,g,this._ctx.table.core)},dn.prototype.clone=function(v){var g=Object.create(this.constructor.prototype),D=Object.create(this._ctx);return v&&u(D,v),g._ctx=D,g},dn.prototype.raw=function(){return this._ctx.valueMapper=null,this},dn.prototype.each=function(v){var g=this._ctx;return this._read(function(D){return Ei(g,v,D,g.table.core)})},dn.prototype.count=function(v){var g=this;return this._read(function(D){var A=g._ctx,U=A.table.core;if(Io(A,!0))return U.count({trans:D,query:{index:Hs(A,U.schema),range:A.range}}).then(function(ve){return Math.min(ve,A.limit)});var ee=0;return Ei(A,function(){return++ee,!1},D,U).then(function(){return ee})}).then(v)},dn.prototype.sortBy=function(v,g){var D=v.split(".").reverse(),A=D[0],U=D.length-1;function ee(qe,Q){return Q?ee(qe[D[Q]],Q-1):qe[A]}var ve=this._ctx.dir==="next"?1:-1;function Ce(qe,Q){return pn(ee(qe,U),ee(Q,U))*ve}return this.toArray(function(qe){return qe.sort(Ce)}).then(g)},dn.prototype.toArray=function(v){var g=this;return this._read(function(D){var A=g._ctx;if(A.dir==="next"&&Io(A,!0)&&0<A.limit){var U=A.valueMapper,ee=Hs(A,A.table.core.schema);return A.table.core.query({trans:D,limit:A.limit,values:!0,query:{index:ee,range:A.range}}).then(function(Ce){return Ce=Ce.result,U?Ce.map(U):Ce})}var ve=[];return Ei(A,function(Ce){return ve.push(Ce)},D,A.table.core).then(function(){return ve})},v)},dn.prototype.offset=function(v){var g=this._ctx;return v<=0||(g.offset+=v,Io(g)?Vr(g,function(){var D=v;return function(A,U){return D===0||(D===1?--D:U(function(){A.advance(D),D=0}),!1)}}):Vr(g,function(){var D=v;return function(){return--D<0}})),this},dn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),Vr(this._ctx,function(){var g=v;return function(D,A,U){return--g<=0&&A(U),0<=g}},!0),this},dn.prototype.until=function(v,g){return Yl(this._ctx,function(D,A,U){return!v(D.value)||(A(U),g)}),this},dn.prototype.first=function(v){return this.limit(1).toArray(function(g){return g[0]}).then(v)},dn.prototype.last=function(v){return this.reverse().first(v)},dn.prototype.filter=function(v){var g;return Yl(this._ctx,function(D){return v(D.value)}),(g=this._ctx).isMatch=Go(g.isMatch,v),this},dn.prototype.and=function(v){return this.filter(v)},dn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},dn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},dn.prototype.desc=function(){return this.reverse()},dn.prototype.eachKey=function(v){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(D,A){v(A.key,A)})},dn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},dn.prototype.eachPrimaryKey=function(v){var g=this._ctx;return g.keysOnly=!g.isMatch,this.each(function(D,A){v(A.primaryKey,A)})},dn.prototype.keys=function(v){var g=this._ctx;g.keysOnly=!g.isMatch;var D=[];return this.each(function(A,U){D.push(U.key)}).then(function(){return D}).then(v)},dn.prototype.primaryKeys=function(v){var g=this._ctx;if(g.dir==="next"&&Io(g,!0)&&0<g.limit)return this._read(function(A){var U=Hs(g,g.table.core.schema);return g.table.core.query({trans:A,values:!1,limit:g.limit,query:{index:U,range:g.range}})}).then(function(A){return A.result}).then(v);g.keysOnly=!g.isMatch;var D=[];return this.each(function(A,U){D.push(U.primaryKey)}).then(function(){return D}).then(v)},dn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},dn.prototype.firstKey=function(v){return this.limit(1).keys(function(g){return g[0]}).then(v)},dn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},dn.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var g={};return Yl(this._ctx,function(U){var A=U.primaryKey.toString(),U=m(g,A);return g[A]=!0,!U}),this},dn.prototype.modify=function(v){var g=this,D=this._ctx;return this._write(function(A){var U,ee,ve;ve=typeof v=="function"?v:(U=i(v),ee=U.length,function(Ne){for(var et=!1,rt=0;rt<ee;++rt){var S=U[rt],P=v[S],L=R(Ne,S);P instanceof is?(W(Ne,S,P.execute(L)),et=!0):L!==P&&(W(Ne,S,P),et=!0)}return et});var Ce=D.table.core,Z=Ce.schema.primaryKey,qe=Z.outbound,Q=Z.extractKey,ce=200,Z=g.db._options.modifyChunkSize;Z&&(ce=typeof Z=="object"?Z[Ce.name]||Z["*"]||200:Z);function xe(Ne,S){var rt=S.failures,S=S.numFailures;Be+=Ne-S;for(var P=0,L=i(rt);P<L.length;P++){var G=L[P];we.push(rt[G])}}var we=[],Be=0,ze=[];return g.clone().primaryKeys().then(function(Ne){function et(S){var P=Math.min(ce,Ne.length-S);return Ce.getMany({trans:A,keys:Ne.slice(S,S+P),cache:"immutable"}).then(function(L){for(var G=[],he=[],ye=qe?[]:null,be=[],Ie=0;Ie<P;++Ie){var Qe=L[Ie],dt={value:te(Qe),primKey:Ne[S+Ie]};ve.call(dt,dt.value,dt)!==!1&&(dt.value==null?be.push(Ne[S+Ie]):qe||pn(Q(Qe),Q(dt.value))===0?(he.push(dt.value),qe&&ye.push(Ne[S+Ie])):(be.push(Ne[S+Ie]),G.push(dt.value)))}return Promise.resolve(0<G.length&&Ce.mutate({trans:A,type:"add",values:G}).then(function(kt){for(var At in kt.failures)be.splice(parseInt(At),1);xe(G.length,kt)})).then(function(){return(0<he.length||rt&&typeof v=="object")&&Ce.mutate({trans:A,type:"put",keys:ye,values:he,criteria:rt,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<S}).then(function(kt){return xe(he.length,kt)})}).then(function(){return(0<be.length||rt&&v===Gl)&&Ce.mutate({trans:A,type:"delete",keys:be,criteria:rt,isAdditionalChunk:0<S}).then(function(kt){return xe(be.length,kt)})}).then(function(){return Ne.length>S+P&&et(S+ce)})})}var rt=Io(D)&&D.limit===1/0&&(typeof v!="function"||v===Gl)&&{index:D.index,range:D.range};return et(0).then(function(){if(0<we.length)throw new Me("Error modifying one or more objects",we,Be,ze);return Ne.length})})})},dn.prototype.delete=function(){var v=this._ctx,g=v.range;return Io(v)&&(v.isPrimKey||g.type===3)?this._write(function(D){var A=v.table.core.schema.primaryKey,U=g;return v.table.core.count({trans:D,query:{index:A,range:U}}).then(function(ee){return v.table.core.mutate({trans:D,type:"deleteRange",range:U}).then(function(ve){var Ce=ve.failures;if(ve.lastResult,ve.results,ve=ve.numFailures,ve)throw new Me("Could not delete some values",Object.keys(Ce).map(function(qe){return Ce[qe]}),ee-ve);return ee-ve})})}):this.modify(Gl)},dn);function dn(){}var Gl=function(v,g){return g.value=null};function uc(v,g){return v<g?-1:v===g?0:1}function gm(v,g){return g<v?-1:v===g?0:1}function wr(v,g,D){return v=v instanceof Td?new v.Collection(v):v,v._ctx.error=new(D||TypeError)(g),v}function Qo(v){return new v.Collection(v,function(){return Dd("")}).limit(0)}function tr(v,g,D,A){var U,ee,ve,Ce,qe,Q,ce,Z=D.length;if(!D.every(function(Be){return typeof Be=="string"}))return wr(v,Pd);function xe(Be){U=Be==="next"?function(Ne){return Ne.toUpperCase()}:function(Ne){return Ne.toLowerCase()},ee=Be==="next"?function(Ne){return Ne.toLowerCase()}:function(Ne){return Ne.toUpperCase()},ve=Be==="next"?uc:gm;var ze=D.map(function(Ne){return{lower:ee(Ne),upper:U(Ne)}}).sort(function(Ne,et){return ve(Ne.lower,et.lower)});Ce=ze.map(function(Ne){return Ne.upper}),qe=ze.map(function(Ne){return Ne.lower}),ce=(Q=Be)==="next"?"":A}xe("next"),v=new v.Collection(v,function(){return ro(Ce[0],qe[Z-1]+A)}),v._ondirectionchange=function(Be){xe(Be)};var we=0;return v._addAlgorithm(function(Be,ze,Ne){var et=Be.key;if(typeof et!="string")return!1;var rt=ee(et);if(g(rt,qe,we))return!0;for(var S=null,P=we;P<Z;++P){var L=function(G,he,ye,be,Ie,Qe){for(var dt=Math.min(G.length,be.length),kt=-1,At=0;At<dt;++At){var Yt=he[At];if(Yt!==be[At])return Ie(G[At],ye[At])<0?G.substr(0,At)+ye[At]+ye.substr(At+1):Ie(G[At],be[At])<0?G.substr(0,At)+be[At]+ye.substr(At+1):0<=kt?G.substr(0,kt)+he[kt]+ye.substr(kt+1):null;Ie(G[At],Yt)<0&&(kt=At)}return dt<be.length&&Qe==="next"?G+ye.substr(G.length):dt<G.length&&Qe==="prev"?G.substr(0,ye.length):kt<0?null:G.substr(0,kt)+be[kt]+ye.substr(kt+1)}(et,rt,Ce[P],qe[P],ve,Q);L===null&&S===null?we=P+1:(S===null||0<ve(S,L))&&(S=L)}return ze(S!==null?function(){Be.continue(S+ce)}:Ne),!1}),v}function ro(v,g,D,A){return{type:2,lower:v,upper:g,lowerOpen:D,upperOpen:A}}function Dd(v){return{type:1,lower:v,upper:v}}var Td=(Object.defineProperty(Kn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kn.prototype.between=function(v,g,D,A){D=D!==!1,A=A===!0;try{return 0<this._cmp(v,g)||this._cmp(v,g)===0&&(D||A)&&(!D||!A)?Qo(this):new this.Collection(this,function(){return ro(v,g,!D,!A)})}catch{return wr(this,br)}},Kn.prototype.equals=function(v){return v==null?wr(this,br):new this.Collection(this,function(){return Dd(v)})},Kn.prototype.above=function(v){return v==null?wr(this,br):new this.Collection(this,function(){return ro(v,void 0,!0)})},Kn.prototype.aboveOrEqual=function(v){return v==null?wr(this,br):new this.Collection(this,function(){return ro(v,void 0,!1)})},Kn.prototype.below=function(v){return v==null?wr(this,br):new this.Collection(this,function(){return ro(void 0,v,!1,!0)})},Kn.prototype.belowOrEqual=function(v){return v==null?wr(this,br):new this.Collection(this,function(){return ro(void 0,v)})},Kn.prototype.startsWith=function(v){return typeof v!="string"?wr(this,Pd):this.between(v,v+Ko,!0,!0)},Kn.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):tr(this,function(g,D){return g.indexOf(D[0])===0},[v],Ko)},Kn.prototype.equalsIgnoreCase=function(v){return tr(this,function(g,D){return g===D[0]},[v],"")},Kn.prototype.anyOfIgnoreCase=function(){var v=fe.apply(me,arguments);return v.length===0?Qo(this):tr(this,function(g,D){return D.indexOf(g)!==-1},v,"")},Kn.prototype.startsWithAnyOfIgnoreCase=function(){var v=fe.apply(me,arguments);return v.length===0?Qo(this):tr(this,function(g,D){return D.some(function(A){return g.indexOf(A)===0})},v,Ko)},Kn.prototype.anyOf=function(){var v=this,g=fe.apply(me,arguments),D=this._cmp;try{g.sort(D)}catch{return wr(this,br)}if(g.length===0)return Qo(this);var A=new this.Collection(this,function(){return ro(g[0],g[g.length-1])});A._ondirectionchange=function(ee){D=ee==="next"?v._ascending:v._descending,g.sort(D)};var U=0;return A._addAlgorithm(function(ee,ve,Ce){for(var qe=ee.key;0<D(qe,g[U]);)if(++U===g.length)return ve(Ce),!1;return D(qe,g[U])===0||(ve(function(){ee.continue(g[U])}),!1)}),A},Kn.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kn.prototype.noneOf=function(){var v=fe.apply(me,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return wr(this,br)}var g=v.reduce(function(D,A){return D?D.concat([[D[D.length-1][1],A]]):[[-1/0,A]]},null);return g.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(g,{includeLowers:!1,includeUppers:!1})},Kn.prototype.inAnyRange=function(et,g){var D=this,A=this._cmp,U=this._ascending,ee=this._descending,ve=this._min,Ce=this._max;if(et.length===0)return Qo(this);if(!et.every(function(rt){return rt[0]!==void 0&&rt[1]!==void 0&&U(rt[0],rt[1])<=0}))return wr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Fe.InvalidArgument);var qe=!g||g.includeLowers!==!1,Q=g&&g.includeUppers===!0,ce,Z=U;function xe(rt,S){return Z(rt[0],S[0])}try{(ce=et.reduce(function(rt,S){for(var P=0,L=rt.length;P<L;++P){var G=rt[P];if(A(S[0],G[1])<0&&0<A(S[1],G[0])){G[0]=ve(G[0],S[0]),G[1]=Ce(G[1],S[1]);break}}return P===L&&rt.push(S),rt},[])).sort(xe)}catch{return wr(this,br)}var we=0,Be=Q?function(rt){return 0<U(rt,ce[we][1])}:function(rt){return 0<=U(rt,ce[we][1])},ze=qe?function(rt){return 0<ee(rt,ce[we][0])}:function(rt){return 0<=ee(rt,ce[we][0])},Ne=Be,et=new this.Collection(this,function(){return ro(ce[0][0],ce[ce.length-1][1],!qe,!Q)});return et._ondirectionchange=function(rt){Z=rt==="next"?(Ne=Be,U):(Ne=ze,ee),ce.sort(xe)},et._addAlgorithm(function(rt,S,P){for(var L,G=rt.key;Ne(G);)if(++we===ce.length)return S(P),!1;return!Be(L=G)&&!ze(L)||(D._cmp(G,ce[we][1])===0||D._cmp(G,ce[we][0])===0||S(function(){Z===U?rt.continue(ce[we][0]):rt.continue(ce[we][1])}),!1)}),et},Kn.prototype.startsWithAnyOf=function(){var v=fe.apply(me,arguments);return v.every(function(g){return typeof g=="string"})?v.length===0?Qo(this):this.inAnyRange(v.map(function(g){return[g,g+Ko]})):wr(this,"startsWithAnyOf() only works with strings")},Kn);function Kn(){}function oo(v){return ea(function(g){return zs(g),v(g.target.error),!1})}function zs(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var js="storagemutated",Ys="x-storagemutated-1",Xo=os(null,js),Ks=(vo.prototype._lock=function(){return M(!Nt.global),++this._reculock,this._reculock!==1||Nt.global||(Nt.lockOwnerFor=this),this},vo.prototype._unlock=function(){if(M(!Nt.global),--this._reculock==0)for(Nt.global||(Nt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{ao(v[1],v[0])}catch{}}return this},vo.prototype._locked=function(){return this._reculock&&Nt.lockOwnerFor!==this},vo.prototype.create=function(v){var g=this;if(!this.mode)return this;var D=this.db.idbdb,A=this.db._state.dbOpenError;if(M(!this.idbtrans),!v&&!D)switch(A&&A.name){case"DatabaseClosedError":throw new Fe.DatabaseClosed(A);case"MissingAPIError":throw new Fe.MissingAPI(A.message,A);default:throw new Fe.OpenFailed(A)}if(!this.active)throw new Fe.TransactionInactive;return M(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||D).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ea(function(U){zs(U),g._reject(v.error)}),v.onabort=ea(function(U){zs(U),g.active&&g._reject(new Fe.Abort(v.error)),g.active=!1,g.on("abort").fire(U)}),v.oncomplete=ea(function(){g.active=!1,g._resolve(),"mutatedParts"in v&&Xo.storagemutated.fire(v.mutatedParts)}),this},vo.prototype._promise=function(v,g,D){var A=this;if(v==="readwrite"&&this.mode!=="readwrite")return Rn(new Fe.ReadOnly("Transaction is readonly"));if(!this.active)return Rn(new Fe.TransactionInactive);if(this._locked())return new ct(function(ee,ve){A._blockedFuncs.push([function(){A._promise(v,g,D).then(ee,ve)},Nt])});if(D)return Yo(function(){var ee=new ct(function(ve,Ce){A._lock();var qe=g(ve,Ce,A);qe&&qe.then&&qe.then(ve,Ce)});return ee.finally(function(){return A._unlock()}),ee._lib=!0,ee});var U=new ct(function(ee,ve){var Ce=g(ee,ve,A);Ce&&Ce.then&&Ce.then(ee,ve)});return U._lib=!0,U},vo.prototype._root=function(){return this.parent?this.parent._root():this},vo.prototype.waitFor=function(v){var g,D=this._root(),A=ct.resolve(v);D._waitingFor?D._waitingFor=D._waitingFor.then(function(){return A}):(D._waitingFor=A,D._waitingQueue=[],g=D.idbtrans.objectStore(D.storeNames[0]),function ee(){for(++D._spinCount;D._waitingQueue.length;)D._waitingQueue.shift()();D._waitingFor&&(g.get(-1/0).onsuccess=ee)}());var U=D._waitingFor;return new ct(function(ee,ve){A.then(function(Ce){return D._waitingQueue.push(ea(ee.bind(null,Ce)))},function(Ce){return D._waitingQueue.push(ea(ve.bind(null,Ce)))}).finally(function(){D._waitingFor===U&&(D._waitingFor=null)})})},vo.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Fe.Abort))},vo.prototype.table=function(v){var g=this._memoizedTables||(this._memoizedTables={});if(m(g,v))return g[v];var D=this.schema[v];if(!D)throw new Fe.NotFound("Table "+v+" not part of transaction");return D=new this.db.Table(v,D,this),D.core=this.db.core.table(v),g[v]=D},vo);function vo(){}function cc(v,g,D,A,U,ee,ve){return{name:v,keyPath:g,unique:D,multi:A,auto:U,compound:ee,src:(D&&!ve?"&":"")+(A?"*":"")+(U?"++":"")+Vd(g)}}function Vd(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function dc(v,g,D){return{name:v,primKey:g,indexes:D,mappedClass:null,idxByName:(A=function(U){return[U.name,U]},D.reduce(function(U,ee,ve){return ve=A(ee,ve),ve&&(U[ve[0]]=ve[1]),U},{}))};var A}var Gs=function(v){try{return v.only([[]]),Gs=function(){return[[]]},[[]]}catch{return Gs=function(){return Ko},Ko}};function Hn(v){return v==null?function(){}:typeof v=="string"?(g=v).split(".").length===1?function(D){return D[g]}:function(D){return R(D,g)}:function(D){return R(D,v)};var g}function Fn(v){return[].slice.call(v)}var ym=0;function ls(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function Od(v,g,qe){function A(Ne){if(Ne.type===3)return null;if(Ne.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var we=Ne.lower,Be=Ne.upper,ze=Ne.lowerOpen,Ne=Ne.upperOpen;return we===void 0?Be===void 0?null:g.upperBound(Be,!!Ne):Be===void 0?g.lowerBound(we,!!ze):g.bound(we,Be,!!ze,!!Ne)}function U(xe){var we,Be=xe.name;return{name:Be,schema:xe,mutate:function(ze){var Ne=ze.trans,et=ze.type,rt=ze.keys,S=ze.values,P=ze.range;return new Promise(function(L,G){L=ea(L);var he=Ne.objectStore(Be),ye=he.keyPath==null,be=et==="put"||et==="add";if(!be&&et!=="delete"&&et!=="deleteRange")throw new Error("Invalid operation type: "+et);var Ie,Qe=(rt||S||{length:1}).length;if(rt&&S&&rt.length!==S.length)throw new Error("Given keys array must have same length as given values array.");if(Qe===0)return L({numFailures:0,failures:{},results:[],lastResult:void 0});function dt(_n){++Yt,zs(_n)}var kt=[],At=[],Yt=0;if(et==="deleteRange"){if(P.type===4)return L({numFailures:Yt,failures:At,results:[],lastResult:void 0});P.type===3?kt.push(Ie=he.clear()):kt.push(Ie=he.delete(A(P)))}else{var ye=be?ye?[S,rt]:[S,null]:[rt,null],Vt=ye[0],an=ye[1];if(be)for(var ln=0;ln<Qe;++ln)kt.push(Ie=an&&an[ln]!==void 0?he[et](Vt[ln],an[ln]):he[et](Vt[ln])),Ie.onerror=dt;else for(ln=0;ln<Qe;++ln)kt.push(Ie=he[et](Vt[ln])),Ie.onerror=dt}function Dn(_n){_n=_n.target.result,kt.forEach(function(St,Ht){return St.error!=null&&(At[Ht]=St.error)}),L({numFailures:Yt,failures:At,results:et==="delete"?rt:kt.map(function(St){return St.result}),lastResult:_n})}Ie.onerror=function(_n){dt(_n),Dn(_n)},Ie.onsuccess=Dn})},getMany:function(ze){var Ne=ze.trans,et=ze.keys;return new Promise(function(rt,S){rt=ea(rt);for(var P,L=Ne.objectStore(Be),G=et.length,he=new Array(G),ye=0,be=0,Ie=function(kt){kt=kt.target,he[kt._pos]=kt.result,++be===ye&&rt(he)},Qe=oo(S),dt=0;dt<G;++dt)et[dt]!=null&&((P=L.get(et[dt]))._pos=dt,P.onsuccess=Ie,P.onerror=Qe,++ye);ye===0&&rt(he)})},get:function(ze){var Ne=ze.trans,et=ze.key;return new Promise(function(rt,S){rt=ea(rt);var P=Ne.objectStore(Be).get(et);P.onsuccess=function(L){return rt(L.target.result)},P.onerror=oo(S)})},query:(we=Q,function(ze){return new Promise(function(Ne,et){Ne=ea(Ne);var rt,S,P,ye=ze.trans,L=ze.values,G=ze.limit,Ie=ze.query,he=G===1/0?void 0:G,be=Ie.index,Ie=Ie.range,ye=ye.objectStore(Be),be=be.isPrimaryKey?ye:ye.index(be.name),Ie=A(Ie);if(G===0)return Ne({result:[]});we?((he=L?be.getAll(Ie,he):be.getAllKeys(Ie,he)).onsuccess=function(Qe){return Ne({result:Qe.target.result})},he.onerror=oo(et)):(rt=0,S=!L&&"openKeyCursor"in be?be.openKeyCursor(Ie):be.openCursor(Ie),P=[],S.onsuccess=function(Qe){var dt=S.result;return dt?(P.push(L?dt.value:dt.primaryKey),++rt===G?Ne({result:P}):void dt.continue()):Ne({result:P})},S.onerror=oo(et))})}),openCursor:function(ze){var Ne=ze.trans,et=ze.values,rt=ze.query,S=ze.reverse,P=ze.unique;return new Promise(function(L,G){L=ea(L);var be=rt.index,he=rt.range,ye=Ne.objectStore(Be),ye=be.isPrimaryKey?ye:ye.index(be.name),be=S?P?"prevunique":"prev":P?"nextunique":"next",Ie=!et&&"openKeyCursor"in ye?ye.openKeyCursor(A(he),be):ye.openCursor(A(he),be);Ie.onerror=oo(G),Ie.onsuccess=ea(function(Qe){var dt,kt,At,Yt,Vt=Ie.result;Vt?(Vt.___id=++ym,Vt.done=!1,dt=Vt.continue.bind(Vt),kt=(kt=Vt.continuePrimaryKey)&&kt.bind(Vt),At=Vt.advance.bind(Vt),Yt=function(){throw new Error("Cursor not stopped")},Vt.trans=Ne,Vt.stop=Vt.continue=Vt.continuePrimaryKey=Vt.advance=function(){throw new Error("Cursor not started")},Vt.fail=ea(G),Vt.next=function(){var an=this,ln=1;return this.start(function(){return ln--?an.continue():an.stop()}).then(function(){return an})},Vt.start=function(an){function ln(){if(Ie.result)try{an()}catch(_n){Vt.fail(_n)}else Vt.done=!0,Vt.start=function(){throw new Error("Cursor behind last entry")},Vt.stop()}var Dn=new Promise(function(_n,St){_n=ea(_n),Ie.onerror=oo(St),Vt.fail=St,Vt.stop=function(Ht){Vt.stop=Vt.continue=Vt.continuePrimaryKey=Vt.advance=Yt,_n(Ht)}});return Ie.onsuccess=ea(function(_n){Ie.onsuccess=ln,ln()}),Vt.continue=dt,Vt.continuePrimaryKey=kt,Vt.advance=At,ln(),Dn},L(Vt)):L(null)},G)})},count:function(ze){var Ne=ze.query,et=ze.trans,rt=Ne.index,S=Ne.range;return new Promise(function(P,L){var G=et.objectStore(Be),he=rt.isPrimaryKey?G:G.index(rt.name),G=A(S),he=G?he.count(G):he.count();he.onsuccess=ea(function(ye){return P(ye.target.result)}),he.onerror=oo(L)})}}}var ee,ve,Ce,ce=(ve=qe,Ce=Fn((ee=v).objectStoreNames),{schema:{name:ee.name,tables:Ce.map(function(xe){return ve.objectStore(xe)}).map(function(xe){var we=xe.keyPath,Ne=xe.autoIncrement,Be=l(we),ze={},Ne={name:xe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:we==null,compound:Be,keyPath:we,autoIncrement:Ne,unique:!0,extractKey:Hn(we)},indexes:Fn(xe.indexNames).map(function(et){return xe.index(et)}).map(function(P){var rt=P.name,S=P.unique,L=P.multiEntry,P=P.keyPath,L={name:rt,compound:l(P),keyPath:P,unique:S,multiEntry:L,extractKey:Hn(P)};return ze[ls(P)]=L}),getIndexByKeyPath:function(et){return ze[ls(et)]}};return ze[":id"]=Ne.primaryKey,we!=null&&(ze[ls(we)]=Ne.primaryKey),Ne})},hasGetAll:0<Ce.length&&"getAll"in ve.objectStore(Ce[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),qe=ce.schema,Q=ce.hasGetAll,ce=qe.tables.map(U),Z={};return ce.forEach(function(xe){return Z[xe.name]=xe}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(xe){if(!Z[xe])throw new Error("Table '".concat(xe,"' not found"));return Z[xe]},MIN_KEY:-1/0,MAX_KEY:Gs(g),schema:qe}}function bm(v,g,D,A){var U=D.IDBKeyRange;return D.indexedDB,{dbcore:(A=Od(g,U,A),v.dbcore.reduce(function(ee,ve){return ve=ve.create,a(a({},ee),ve(ee))},A))}}function us(v,A){var D=A.db,A=bm(v._middlewares,D,v._deps,A);v.core=A.dbcore,v.tables.forEach(function(U){var ee=U.name;v.core.schema.tables.some(function(ve){return ve.name===ee})&&(U.core=v.core.table(ee),v[ee]instanceof v.Table&&(v[ee].core=U.core))})}function Ql(v,g,D,A){D.forEach(function(U){var ee=A[U];g.forEach(function(ve){var Ce=function qe(Q,ce){return w(Q,ce)||(Q=f(Q))&&qe(Q,ce)}(ve,U);(!Ce||"value"in Ce&&Ce.value===void 0)&&(ve===v.Transaction.prototype||ve instanceof v.Transaction?b(ve,U,{get:function(){return this.table(U)},set:function(qe){y(this,U,{value:qe,writable:!0,configurable:!0,enumerable:!0})}}):ve[U]=new v.Table(U,ee))})})}function Qs(v,g){g.forEach(function(D){for(var A in D)D[A]instanceof v.Table&&delete D[A]})}function wm(v,g){return v._cfg.version-g._cfg.version}function Ka(v,g,D,A){var U=v._dbSchema;D.objectStoreNames.contains("$meta")&&!U.$meta&&(U.$meta=dc("$meta",mc("")[0],[]),v._storeNames.push("$meta"));var ee=v._createTransaction("readwrite",v._storeNames,U);ee.create(D),ee._completion.catch(A);var ve=ee._reject.bind(ee),Ce=Nt.transless||Nt;Yo(function(){return Nt.trans=ee,Nt.transless=Ce,g!==0?(us(v,D),Q=g,((qe=ee).storeNames.includes("$meta")?qe.table("$meta").get("version").then(function(ce){return ce??Q}):ct.resolve(Q)).then(function(ce){return xe=ce,we=ee,Be=D,ze=[],ce=(Z=v)._versions,Ne=Z._dbSchema=Xs(0,Z.idbdb,Be),(ce=ce.filter(function(et){return et._cfg.version>=xe})).length!==0?(ce.forEach(function(et){ze.push(function(){var rt=Ne,S=et._cfg.dbschema;Js(Z,rt,Be),Js(Z,S,Be),Ne=Z._dbSchema=S;var P=Ao(rt,S);P.add.forEach(function(be){Xl(Be,be[0],be[1].primKey,be[1].indexes)}),P.change.forEach(function(be){if(be.recreate)throw new Fe.Upgrade("Not yet support for changing primary key");var Ie=Be.objectStore(be.name);be.add.forEach(function(Qe){return ur(Ie,Qe)}),be.change.forEach(function(Qe){Ie.deleteIndex(Qe.name),ur(Ie,Qe)}),be.del.forEach(function(Qe){return Ie.deleteIndex(Qe)})});var L=et._cfg.contentUpgrade;if(L&&et._cfg.version>xe){us(Z,Be),we._memoizedTables={};var G=q(S);P.del.forEach(function(be){G[be]=rt[be]}),Qs(Z,[Z.Transaction.prototype]),Ql(Z,[Z.Transaction.prototype],i(G),G),we.schema=G;var he,ye=le(L);return ye&&es(),P=ct.follow(function(){var be;(he=L(we))&&ye&&(be=Wr.bind(null,null),he.then(be,be))}),he&&typeof he.then=="function"?ct.resolve(he):P.then(function(){return he})}}),ze.push(function(rt){var S,P,L=et._cfg.dbschema;S=L,P=rt,[].slice.call(P.db.objectStoreNames).forEach(function(G){return S[G]==null&&P.db.deleteObjectStore(G)}),Qs(Z,[Z.Transaction.prototype]),Ql(Z,[Z.Transaction.prototype],Z._storeNames,Z._dbSchema),we.schema=Z._dbSchema}),ze.push(function(rt){Z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Z.idbdb.version/10)===et._cfg.version?(Z.idbdb.deleteObjectStore("$meta"),delete Z._dbSchema.$meta,Z._storeNames=Z._storeNames.filter(function(S){return S!=="$meta"})):rt.objectStore("$meta").put(et._cfg.version,"version"))})}),function et(){return ze.length?ct.resolve(ze.shift()(we.idbtrans)).then(et):ct.resolve()}().then(function(){Jl(Ne,Be)})):ct.resolve();var Z,xe,we,Be,ze,Ne}).catch(ve)):(i(U).forEach(function(ce){Xl(D,ce,U[ce].primKey,U[ce].indexes)}),us(v,D),void ct.follow(function(){return v.on.populate.fire(ee)}).catch(ve));var qe,Q})}function fc(v,g){Jl(v._dbSchema,g),g.db.version%10!=0||g.objectStoreNames.contains("$meta")||g.db.createObjectStore("$meta").add(Math.ceil(g.db.version/10-1),"version");var D=Xs(0,v.idbdb,g);Js(v,v._dbSchema,g);for(var A=0,U=Ao(D,v._dbSchema).change;A<U.length;A++){var ee=function(ve){if(ve.change.length||ve.recreate)return console.warn("Unable to patch indexes of table ".concat(ve.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ce=g.objectStore(ve.name);ve.add.forEach(function(qe){st&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ve.name,".").concat(qe.src)),ur(Ce,qe)})}(U[A]);if(typeof ee=="object")return ee.value}}function Ao(v,g){var D,A={del:[],add:[],change:[]};for(D in v)g[D]||A.del.push(D);for(D in g){var U=v[D],ee=g[D];if(U){var ve={name:D,def:ee,recreate:!1,del:[],add:[],change:[]};if(""+(U.primKey.keyPath||"")!=""+(ee.primKey.keyPath||"")||U.primKey.auto!==ee.primKey.auto)ve.recreate=!0,A.change.push(ve);else{var Ce=U.idxByName,qe=ee.idxByName,Q=void 0;for(Q in Ce)qe[Q]||ve.del.push(Q);for(Q in qe){var ce=Ce[Q],Z=qe[Q];ce?ce.src!==Z.src&&ve.change.push(Z):ve.add.push(Z)}(0<ve.del.length||0<ve.add.length||0<ve.change.length)&&A.change.push(ve)}}else A.add.push([D,ee])}return A}function Xl(v,g,D,A){var U=v.db.createObjectStore(g,D.keyPath?{keyPath:D.keyPath,autoIncrement:D.auto}:{autoIncrement:D.auto});return A.forEach(function(ee){return ur(U,ee)}),U}function Jl(v,g){i(v).forEach(function(D){g.db.objectStoreNames.contains(D)||(st&&console.debug("Dexie: Creating missing table",D),Xl(g,D,v[D].primKey,v[D].indexes))})}function ur(v,g){v.createIndex(g.name,g.keyPath,{unique:g.unique,multiEntry:g.multi})}function Xs(v,g,D){var A={};return T(g.objectStoreNames,0).forEach(function(U){for(var ee=D.objectStore(U),ve=cc(Vd(Q=ee.keyPath),Q||"",!0,!1,!!ee.autoIncrement,Q&&typeof Q!="string",!0),Ce=[],qe=0;qe<ee.indexNames.length;++qe){var ce=ee.index(ee.indexNames[qe]),Q=ce.keyPath,ce=cc(ce.name,Q,!!ce.unique,!!ce.multiEntry,!1,Q&&typeof Q!="string",!1);Ce.push(ce)}A[U]=dc(U,ve,Ce)}),A}function Js(v,g,D){for(var A=D.db.objectStoreNames,U=0;U<A.length;++U){var ee=A[U],ve=D.objectStore(ee);v._hasGetAll="getAll"in ve;for(var Ce=0;Ce<ve.indexNames.length;++Ce){var qe=ve.indexNames[Ce],Q=ve.index(qe).keyPath,ce=typeof Q=="string"?Q:"["+T(Q).join("+")+"]";!g[ee]||(Q=g[ee].idxByName[ce])&&(Q.name=qe,delete g[ee].idxByName[ce],g[ee].idxByName[qe]=Q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function mc(v){return v.split(",").map(function(g,D){var A=(g=g.trim()).replace(/([&*]|\+\+)/g,""),U=/^\[/.test(A)?A.match(/^\[(.*)\]$/)[1].split("+"):A;return cc(A,U||null,/\&/.test(g),/\*/.test(g),/\+\+/.test(g),l(U),D===0)})}var Zl=(Zs.prototype._parseStoresSpec=function(v,g){i(v).forEach(function(D){if(v[D]!==null){var A=mc(v[D]),U=A.shift();if(U.unique=!0,U.multi)throw new Fe.Schema("Primary key cannot be multi-valued");A.forEach(function(ee){if(ee.auto)throw new Fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!ee.keyPath)throw new Fe.Schema("Index must have a name and cannot be an empty string")}),g[D]=dc(D,U,A)}})},Zs.prototype.stores=function(D){var g=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,D):D;var D=g._versions,A={},U={};return D.forEach(function(ee){u(A,ee._cfg.storesSource),U=ee._cfg.dbschema={},ee._parseStoresSpec(A,U)}),g._dbSchema=U,Qs(g,[g._allTables,g,g.Transaction.prototype]),Ql(g,[g._allTables,g,g.Transaction.prototype,this._cfg.tables],i(U),U),g._storeNames=i(U),this},Zs.prototype.upgrade=function(v){return this._cfg.contentUpgrade=nt(this._cfg.contentUpgrade||mt,v),this},Zs);function Zs(){}function eu(v,g){var D=v._dbNamesDB;return D||(D=v._dbNamesDB=new Or(Hl,{addons:[],indexedDB:v,IDBKeyRange:g})).version(1).stores({dbnames:"name"}),D.table("dbnames")}function cr(v){return v&&typeof v.databases=="function"}function tu(v){return Yo(function(){return Nt.letThrough=!0,v()})}function kr(v){return!("from"in v)}var nr=function(v,g){if(!this){var D=new nr;return v&&"d"in v&&u(D,v),D}u(this,arguments.length?{d:1,from:v,to:1<arguments.length?g:v}:{d:0})};function cs(v,g,D){var A=pn(g,D);if(!isNaN(A)){if(0<A)throw RangeError();if(kr(v))return u(v,{from:g,to:D,d:1});var U=v.l,A=v.r;if(pn(D,v.from)<0)return U?cs(U,g,D):v.l={from:g,to:D,d:1,l:null,r:null},ta(v);if(0<pn(g,v.to))return A?cs(A,g,D):v.r={from:g,to:D,d:1,l:null,r:null},ta(v);pn(g,v.from)<0&&(v.from=g,v.l=null,v.d=A?A.d+1:1),0<pn(D,v.to)&&(v.to=D,v.r=null,v.d=v.l?v.l.d+1:1),D=!v.r,U&&!v.l&&zr(v,U),A&&D&&zr(v,A)}}function zr(v,g){kr(g)||function D(A,qe){var ee=qe.from,ve=qe.to,Ce=qe.l,qe=qe.r;cs(A,ee,ve),Ce&&D(A,Ce),qe&&D(A,qe)}(v,g)}function el(v,g){var D=ds(g),A=D.next();if(A.done)return!1;for(var U=A.value,ee=ds(v),ve=ee.next(U.from),Ce=ve.value;!A.done&&!ve.done;){if(pn(Ce.from,U.to)<=0&&0<=pn(Ce.to,U.from))return!0;pn(U.from,Ce.from)<0?U=(A=D.next(Ce.from)).value:Ce=(ve=ee.next(U.from)).value}return!1}function ds(v){var g=kr(v)?null:{s:0,n:v};return{next:function(D){for(var A=0<arguments.length;g;)switch(g.s){case 0:if(g.s=1,A)for(;g.n.l&&pn(D,g.n.from)<0;)g={up:g,n:g.n.l,s:1};else for(;g.n.l;)g={up:g,n:g.n.l,s:1};case 1:if(g.s=2,!A||pn(D,g.n.to)<=0)return{value:g.n,done:!1};case 2:if(g.n.r){g.s=3,g={up:g,n:g.n.r,s:0};continue}case 3:g=g.up}return{done:!0}}}}function ta(v){var g,D,A=(((g=v.r)===null||g===void 0?void 0:g.d)||0)-(((D=v.l)===null||D===void 0?void 0:D.d)||0),U=1<A?"r":A<-1?"l":"";U&&(g=U=="r"?"l":"r",D=a({},v),A=v[U],v.from=A.from,v.to=A.to,v[U]=A[U],D[U]=A[g],(v[g]=D).d=Mo(D)),v.d=Mo(v)}function Mo(D){var g=D.r,D=D.l;return(g?D?Math.max(g.d,D.d):g.d:D?D.d:0)+1}function fs(v,g){return i(g).forEach(function(D){v[D]?zr(v[D],g[D]):v[D]=function A(U){var ee,ve,Ce={};for(ee in U)m(U,ee)&&(ve=U[ee],Ce[ee]=!ve||typeof ve!="object"||K.has(ve.constructor)?ve:A(ve));return Ce}(g[D])}),v}function hc(v,g){return v.all||g.all||Object.keys(v).some(function(D){return g[D]&&el(g[D],v[D])})}p(nr.prototype,((Ir={add:function(v){return zr(this,v),this},addKey:function(v){return cs(this,v,v),this},addKeys:function(v){var g=this;return v.forEach(function(D){return cs(g,D,D)}),this},hasKey:function(v){var g=ds(this).next(v).value;return g&&pn(g.from,v)<=0&&0<=pn(g.to,v)}})[re]=function(){return ds(this)},Ir));var No={},vc={},pc=!1;function nu(v){fs(vc,v),pc||(pc=!0,setTimeout(function(){pc=!1,ms(vc,!(vc={}))},0))}function ms(v,g){g===void 0&&(g=!1);var D=new Set;if(v.all)for(var A=0,U=Object.values(No);A<U.length;A++)tl(ve=U[A],v,D,g);else for(var ee in v){var ve,Ce=/^idb\:\/\/(.*)\/(.*)\//.exec(ee);Ce&&(ee=Ce[1],Ce=Ce[2],(ve=No["idb://".concat(ee,"/").concat(Ce)])&&tl(ve,v,D,g))}D.forEach(function(qe){return qe()})}function tl(v,g,D,A){for(var U=[],ee=0,ve=Object.entries(v.queries.query);ee<ve.length;ee++){for(var Ce=ve[ee],qe=Ce[0],Q=[],ce=0,Z=Ce[1];ce<Z.length;ce++){var xe=Z[ce];hc(g,xe.obsSet)?xe.subscribers.forEach(function(Ne){return D.add(Ne)}):A&&Q.push(xe)}A&&U.push([qe,Q])}if(A)for(var we=0,Be=U;we<Be.length;we++){var ze=Be[we],qe=ze[0],Q=ze[1];v.queries.query[qe]=Q}}function po(v){var g=v._state,D=v._deps.indexedDB;if(g.isBeingOpened||v.idbdb)return g.dbReadyPromise.then(function(){return g.dbOpenError?Rn(g.dbOpenError):v});g.isBeingOpened=!0,g.dbOpenError=null,g.openComplete=!1;var A=g.openCanceller,U=Math.round(10*v.verno),ee=!1;function ve(){if(g.openCanceller!==A)throw new Fe.DatabaseClosed("db.open() was cancelled")}function Ce(){return new ct(function(xe,we){if(ve(),!D)throw new Fe.MissingAPI;var Be=v.name,ze=g.autoSchema||!U?D.open(Be):D.open(Be,U);if(!ze)throw new Fe.MissingAPI;ze.onerror=oo(we),ze.onblocked=ea(v._fireOnBlocked),ze.onupgradeneeded=ea(function(Ne){var et;ce=ze.transaction,g.autoSchema&&!v._options.allowEmptyDB?(ze.onerror=zs,ce.abort(),ze.result.close(),(et=D.deleteDatabase(Be)).onsuccess=et.onerror=ea(function(){we(new Fe.NoSuchDatabase("Database ".concat(Be," doesnt exist")))})):(ce.onerror=oo(we),Ne=Ne.oldVersion>Math.pow(2,62)?0:Ne.oldVersion,Z=Ne<1,v.idbdb=ze.result,ee&&fc(v,ce),Ka(v,Ne/10,ce,we))},we),ze.onsuccess=ea(function(){ce=null;var Ne,et,rt,S,P,L=v.idbdb=ze.result,G=T(L.objectStoreNames);if(0<G.length)try{var he=L.transaction((S=G).length===1?S[0]:S,"readonly");if(g.autoSchema)et=L,rt=he,(Ne=v).verno=et.version/10,rt=Ne._dbSchema=Xs(0,et,rt),Ne._storeNames=T(et.objectStoreNames,0),Ql(Ne,[Ne._allTables],i(rt),rt);else if(Js(v,v._dbSchema,he),((P=Ao(Xs(0,(P=v).idbdb,he),P._dbSchema)).add.length||P.change.some(function(ye){return ye.add.length||ye.change.length}))&&!ee)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),L.close(),U=L.version+1,ee=!0,xe(Ce());us(v,he)}catch{}ns.push(v),L.onversionchange=ea(function(ye){g.vcFired=!0,v.on("versionchange").fire(ye)}),L.onclose=ea(function(ye){v.on("close").fire(ye)}),Z&&(P=v._deps,he=Be,L=P.indexedDB,P=P.IDBKeyRange,cr(L)||he===Hl||eu(L,P).put({name:he}).catch(mt)),xe()},we)}).catch(function(xe){switch(xe?.name){case"UnknownError":if(0<g.PR1398_maxLoop)return g.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ce();break;case"VersionError":if(0<U)return U=0,Ce()}return ct.reject(xe)})}var qe,Q=g.dbReadyResolve,ce=null,Z=!1;return ct.race([A,(typeof navigator>"u"?ct.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(xe){function we(){return indexedDB.databases().finally(xe)}qe=setInterval(we,100),we()}).finally(function(){return clearInterval(qe)}):Promise.resolve()).then(Ce)]).then(function(){return ve(),g.onReadyBeingFired=[],ct.resolve(tu(function(){return v.on.ready.fire(v.vip)})).then(function xe(){if(0<g.onReadyBeingFired.length){var we=g.onReadyBeingFired.reduce(nt,mt);return g.onReadyBeingFired=[],ct.resolve(tu(function(){return we(v.vip)})).then(xe)}})}).finally(function(){g.openCanceller===A&&(g.onReadyBeingFired=null,g.isBeingOpened=!1)}).catch(function(xe){g.dbOpenError=xe;try{ce&&ce.abort()}catch{}return A===g.openCanceller&&v._close(),Rn(xe)}).finally(function(){g.openComplete=!0,Q()}).then(function(){var xe;return Z&&(xe={},v.tables.forEach(function(we){we.schema.indexes.forEach(function(Be){Be.name&&(xe["idb://".concat(v.name,"/").concat(we.name,"/").concat(Be.name)]=new nr(-1/0,[[[]]]))}),xe["idb://".concat(v.name,"/").concat(we.name,"/")]=xe["idb://".concat(v.name,"/").concat(we.name,"/:dels")]=new nr(-1/0,[[[]]])}),Xo(js).fire(xe),ms(xe,!0)),v})}function _c(v){function g(ee){return v.next(ee)}var D=U(g),A=U(function(ee){return v.throw(ee)});function U(ee){return function(qe){var Ce=ee(qe),qe=Ce.value;return Ce.done?qe:qe&&typeof qe.then=="function"?qe.then(D,A):l(qe)?Promise.all(qe).then(D,A):D(qe)}}return U(g)()}function nl(v,g,D){for(var A=l(v)?v.slice():[v],U=0;U<D;++U)A.push(g);return A}var Id={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return a(a({},v),{table:function(g){var D=v.table(g),A=D.schema,U={},ee=[];function ve(Z,xe,we){var Be=ls(Z),ze=U[Be]=U[Be]||[],Ne=Z==null?0:typeof Z=="string"?1:Z.length,et=0<xe,et=a(a({},we),{name:et?"".concat(Be,"(virtual-from:").concat(we.name,")"):we.name,lowLevelIndex:we,isVirtual:et,keyTail:xe,keyLength:Ne,extractKey:Hn(Z),unique:!et&&we.unique});return ze.push(et),et.isPrimaryKey||ee.push(et),1<Ne&&ve(Ne===2?Z[0]:Z.slice(0,Ne-1),xe+1,we),ze.sort(function(rt,S){return rt.keyTail-S.keyTail}),et}g=ve(A.primaryKey.keyPath,0,A.primaryKey),U[":id"]=[g];for(var Ce=0,qe=A.indexes;Ce<qe.length;Ce++){var Q=qe[Ce];ve(Q.keyPath,0,Q)}function ce(Z){var xe,we=Z.query.index;return we.isVirtual?a(a({},Z),{query:{index:we.lowLevelIndex,range:(xe=Z.query.range,we=we.keyTail,{type:xe.type===1?2:xe.type,lower:nl(xe.lower,xe.lowerOpen?v.MAX_KEY:v.MIN_KEY,we),lowerOpen:!0,upper:nl(xe.upper,xe.upperOpen?v.MIN_KEY:v.MAX_KEY,we),upperOpen:!0})}}):Z}return a(a({},D),{schema:a(a({},A),{primaryKey:g,indexes:ee,getIndexByKeyPath:function(Z){return(Z=U[ls(Z)])&&Z[0]}}),count:function(Z){return D.count(ce(Z))},query:function(Z){return D.query(ce(Z))},openCursor:function(Z){var xe=Z.query.index,we=xe.keyTail,Be=xe.isVirtual,ze=xe.keyLength;return Be?D.openCursor(ce(Z)).then(function(et){return et&&Ne(et)}):D.openCursor(Z);function Ne(et){return Object.create(et,{continue:{value:function(rt){rt!=null?et.continue(nl(rt,Z.reverse?v.MAX_KEY:v.MIN_KEY,we)):Z.unique?et.continue(et.key.slice(0,ze).concat(Z.reverse?v.MIN_KEY:v.MAX_KEY,we)):et.continue()}},continuePrimaryKey:{value:function(rt,S){et.continuePrimaryKey(nl(rt,v.MAX_KEY,we),S)}},primaryKey:{get:function(){return et.primaryKey}},key:{get:function(){var rt=et.key;return ze===1?rt[0]:rt.slice(0,ze)}},value:{get:function(){return et.value}}})}}})}})}};function al(v,g,D,A){return D=D||{},A=A||"",i(v).forEach(function(U){var ee,ve,Ce;m(g,U)?(ee=v[U],ve=g[U],typeof ee=="object"&&typeof ve=="object"&&ee&&ve?(Ce=ne(ee))!==ne(ve)?D[A+U]=g[U]:Ce==="Object"?al(ee,ve,D,A+U+"."):ee!==ve&&(D[A+U]=g[U]):ee!==ve&&(D[A+U]=g[U])):D[A+U]=void 0}),i(g).forEach(function(U){m(v,U)||(D[A+U]=g[U])}),D}function Jo(v,g){return g.type==="delete"?g.keys:g.keys||g.values.map(v.extractKey)}var Ad={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return a(a({},v),{table:function(g){var D=v.table(g),A=D.schema.primaryKey;return a(a({},D),{mutate:function(U){var ee=Nt.trans,ve=ee.table(g).hook,Ce=ve.deleting,qe=ve.creating,Q=ve.updating;switch(U.type){case"add":if(qe.fire===mt)break;return ee._promise("readwrite",function(){return ce(U)},!0);case"put":if(qe.fire===mt&&Q.fire===mt)break;return ee._promise("readwrite",function(){return ce(U)},!0);case"delete":if(Ce.fire===mt)break;return ee._promise("readwrite",function(){return ce(U)},!0);case"deleteRange":if(Ce.fire===mt)break;return ee._promise("readwrite",function(){return function Z(xe,we,Be){return D.query({trans:xe,values:!1,query:{index:A,range:we},limit:Be}).then(function(ze){var Ne=ze.result;return ce({type:"delete",keys:Ne,trans:xe}).then(function(et){return 0<et.numFailures?Promise.reject(et.failures[0]):Ne.length<Be?{failures:[],numFailures:0,lastResult:void 0}:Z(xe,a(a({},we),{lower:Ne[Ne.length-1],lowerOpen:!0}),Be)})})}(U.trans,U.range,1e4)},!0)}return D.mutate(U);function ce(Z){var xe,we,Be,ze=Nt.trans,Ne=Z.keys||Jo(A,Z);if(!Ne)throw new Error("Keys missing");return(Z=Z.type==="add"||Z.type==="put"?a(a({},Z),{keys:Ne}):a({},Z)).type!=="delete"&&(Z.values=r([],Z.values)),Z.keys&&(Z.keys=r([],Z.keys)),xe=D,Be=Ne,((we=Z).type==="add"?Promise.resolve([]):xe.getMany({trans:we.trans,keys:Be,cache:"immutable"})).then(function(et){var rt=Ne.map(function(S,P){var L,G,he,ye=et[P],be={onerror:null,onsuccess:null};return Z.type==="delete"?Ce.fire.call(be,S,ye,ze):Z.type==="add"||ye===void 0?(L=qe.fire.call(be,S,Z.values[P],ze),S==null&&L!=null&&(Z.keys[P]=S=L,A.outbound||W(Z.values[P],A.keyPath,S))):(L=al(ye,Z.values[P]),(G=Q.fire.call(be,L,S,ye,ze))&&(he=Z.values[P],Object.keys(G).forEach(function(Ie){m(he,Ie)?he[Ie]=G[Ie]:W(he,Ie,G[Ie])}))),be});return D.mutate(Z).then(function(S){for(var P=S.failures,L=S.results,G=S.numFailures,S=S.lastResult,he=0;he<Ne.length;++he){var ye=(L||Ne)[he],be=rt[he];ye==null?be.onerror&&be.onerror(P[he]):be.onsuccess&&be.onsuccess(Z.type==="put"&&et[he]?Z.values[he]:ye)}return{failures:P,results:L,numFailures:G,lastResult:S}}).catch(function(S){return rt.forEach(function(P){return P.onerror&&P.onerror(S)}),Promise.reject(S)})})}}})}})}};function gc(v,g,D){try{if(!g||g.keys.length<v.length)return null;for(var A=[],U=0,ee=0;U<g.keys.length&&ee<v.length;++U)pn(g.keys[U],v[ee])===0&&(A.push(D?te(g.values[U]):g.values[U]),++ee);return A.length===v.length?A:null}catch{return null}}var au={stack:"dbcore",level:-1,create:function(v){return{table:function(g){var D=v.table(g);return a(a({},D),{getMany:function(A){if(!A.cache)return D.getMany(A);var U=gc(A.keys,A.trans._cache,A.cache==="clone");return U?ct.resolve(U):D.getMany(A).then(function(ee){return A.trans._cache={keys:A.keys,values:A.cache==="clone"?te(ee):ee},ee})},mutate:function(A){return A.type!=="add"&&(A.trans._cache=null),D.mutate(A)}})}}}};function ru(v,g){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!g.schema.primaryKey.outbound}function Md(v,g){switch(v){case"query":return g.values&&!g.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Nd={stack:"dbcore",level:0,name:"Observability",create:function(v){var g=v.schema.name,D=new nr(v.MIN_KEY,v.MAX_KEY);return a(a({},v),{transaction:function(A,U,ee){if(Nt.subscr&&U!=="readonly")throw new Fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Nt.querier));return v.transaction(A,U,ee)},table:function(A){var U=v.table(A),ee=U.schema,ve=ee.primaryKey,Z=ee.indexes,Ce=ve.extractKey,qe=ve.outbound,Q=ve.autoIncrement&&Z.filter(function(we){return we.compound&&we.keyPath.includes(ve.keyPath)}),ce=a(a({},U),{mutate:function(we){function Be(Ie){return Ie="idb://".concat(g,"/").concat(A,"/").concat(Ie),S[Ie]||(S[Ie]=new nr)}var ze,Ne,et,rt=we.trans,S=we.mutatedParts||(we.mutatedParts={}),P=Be(""),L=Be(":dels"),G=we.type,be=we.type==="deleteRange"?[we.range]:we.type==="delete"?[we.keys]:we.values.length<50?[Jo(ve,we).filter(function(Ie){return Ie}),we.values]:[],he=be[0],ye=be[1],be=we.trans._cache;return l(he)?(P.addKeys(he),(be=G==="delete"||he.length===ye.length?gc(he,be):null)||L.addKeys(he),(be||ye)&&(ze=Be,Ne=be,et=ye,ee.indexes.forEach(function(Ie){var Qe=ze(Ie.name||"");function dt(At){return At!=null?Ie.extractKey(At):null}function kt(At){return Ie.multiEntry&&l(At)?At.forEach(function(Yt){return Qe.addKey(Yt)}):Qe.addKey(At)}(Ne||et).forEach(function(At,an){var Vt=Ne&&dt(Ne[an]),an=et&&dt(et[an]);pn(Vt,an)!==0&&(Vt!=null&&kt(Vt),an!=null&&kt(an))})}))):he?(ye={from:(ye=he.lower)!==null&&ye!==void 0?ye:v.MIN_KEY,to:(ye=he.upper)!==null&&ye!==void 0?ye:v.MAX_KEY},L.add(ye),P.add(ye)):(P.add(D),L.add(D),ee.indexes.forEach(function(Ie){return Be(Ie.name).add(D)})),U.mutate(we).then(function(Ie){return!he||we.type!=="add"&&we.type!=="put"||(P.addKeys(Ie.results),Q&&Q.forEach(function(Qe){for(var dt=we.values.map(function(Vt){return Qe.extractKey(Vt)}),kt=Qe.keyPath.findIndex(function(Vt){return Vt===ve.keyPath}),At=0,Yt=Ie.results.length;At<Yt;++At)dt[At][kt]=Ie.results[At];Be(Qe.name).addKeys(dt)})),rt.mutatedParts=fs(rt.mutatedParts||{},S),Ie})}}),Z=function(Be){var ze=Be.query,Be=ze.index,ze=ze.range;return[Be,new nr((Be=ze.lower)!==null&&Be!==void 0?Be:v.MIN_KEY,(ze=ze.upper)!==null&&ze!==void 0?ze:v.MAX_KEY)]},xe={get:function(we){return[ve,new nr(we.key)]},getMany:function(we){return[ve,new nr().addKeys(we.keys)]},count:Z,query:Z,openCursor:Z};return i(xe).forEach(function(we){ce[we]=function(Be){var ze=Nt.subscr,Ne=!!ze,et=ru(Nt,U)&&Md(we,Be)?Be.obsSet={}:ze;if(Ne){var rt=function(ye){return ye="idb://".concat(g,"/").concat(A,"/").concat(ye),et[ye]||(et[ye]=new nr)},S=rt(""),P=rt(":dels"),ze=xe[we](Be),Ne=ze[0],ze=ze[1];if((we==="query"&&Ne.isPrimaryKey&&!Be.values?P:rt(Ne.name||"")).add(ze),!Ne.isPrimaryKey){if(we!=="count"){var L=we==="query"&&qe&&Be.values&&U.query(a(a({},Be),{values:!1}));return U[we].apply(this,arguments).then(function(ye){if(we==="query"){if(qe&&Be.values)return L.then(function(dt){return dt=dt.result,S.addKeys(dt),ye});var be=Be.values?ye.result.map(Ce):ye.result;(Be.values?S:P).addKeys(be)}else if(we==="openCursor"){var Ie=ye,Qe=Be.values;return Ie&&Object.create(Ie,{key:{get:function(){return P.addKey(Ie.primaryKey),Ie.key}},primaryKey:{get:function(){var dt=Ie.primaryKey;return P.addKey(dt),dt}},value:{get:function(){return Qe&&S.addKey(Ie.primaryKey),Ie.value}}})}return ye})}P.add(D)}}return U[we].apply(this,arguments)}}),ce}})}};function Sr(v,g,D){if(D.numFailures===0)return g;if(g.type==="deleteRange")return null;var A=g.keys?g.keys.length:"values"in g&&g.values?g.values.length:1;return D.numFailures===A?null:(g=a({},g),l(g.keys)&&(g.keys=g.keys.filter(function(U,ee){return!(ee in D.failures)})),"values"in g&&l(g.values)&&(g.values=g.values.filter(function(U,ee){return!(ee in D.failures)})),g)}function rl(v,g){return D=v,((A=g).lower===void 0||(A.lowerOpen?0<pn(D,A.lower):0<=pn(D,A.lower)))&&(v=v,(g=g).upper===void 0||(g.upperOpen?pn(v,g.upper)<0:pn(v,g.upper)<=0));var D,A}function hs(v,g,xe,A,U,ee){if(!xe||xe.length===0)return v;var ve=g.query.index,Ce=ve.multiEntry,qe=g.query.range,Q=A.schema.primaryKey.extractKey,ce=ve.extractKey,Z=(ve.lowLevelIndex||ve).extractKey,xe=xe.reduce(function(we,Be){var ze=we,Ne=[];if(Be.type==="add"||Be.type==="put")for(var et=new nr,rt=Be.values.length-1;0<=rt;--rt){var S,P=Be.values[rt],L=Q(P);et.hasKey(L)||(S=ce(P),(Ce&&l(S)?S.some(function(Ie){return rl(Ie,qe)}):rl(S,qe))&&(et.addKey(L),Ne.push(P)))}switch(Be.type){case"add":var G=new nr().addKeys(g.values?we.map(function(Qe){return Q(Qe)}):we),ze=we.concat(g.values?Ne.filter(function(Qe){return Qe=Q(Qe),!G.hasKey(Qe)&&(G.addKey(Qe),!0)}):Ne.map(function(Qe){return Q(Qe)}).filter(function(Qe){return!G.hasKey(Qe)&&(G.addKey(Qe),!0)}));break;case"put":var he=new nr().addKeys(Be.values.map(function(Qe){return Q(Qe)}));ze=we.filter(function(Qe){return!he.hasKey(g.values?Q(Qe):Qe)}).concat(g.values?Ne:Ne.map(function(Qe){return Q(Qe)}));break;case"delete":var ye=new nr().addKeys(Be.keys);ze=we.filter(function(Qe){return!ye.hasKey(g.values?Q(Qe):Qe)});break;case"deleteRange":var be=Be.range;ze=we.filter(function(Qe){return!rl(Q(Qe),be)})}return ze},v);return xe===v?v:(xe.sort(function(we,Be){return pn(Z(we),Z(Be))||pn(Q(we),Q(Be))}),g.limit&&g.limit<1/0&&(xe.length>g.limit?xe.length=g.limit:v.length===g.limit&&xe.length<g.limit&&(U.dirty=!0)),ee?Object.freeze(xe):xe)}function la(v,g){return pn(v.lower,g.lower)===0&&pn(v.upper,g.upper)===0&&!!v.lowerOpen==!!g.lowerOpen&&!!v.upperOpen==!!g.upperOpen}function _o(v,g){return function(D,A,U,ee){if(D===void 0)return A!==void 0?-1:0;if(A===void 0)return 1;if((A=pn(D,A))===0){if(U&&ee)return 0;if(U)return 1;if(ee)return-1}return A}(v.lower,g.lower,v.lowerOpen,g.lowerOpen)<=0&&0<=function(D,A,U,ee){if(D===void 0)return A!==void 0?1:0;if(A===void 0)return-1;if((A=pn(D,A))===0){if(U&&ee)return 0;if(U)return-1;if(ee)return 1}return A}(v.upper,g.upper,v.upperOpen,g.upperOpen)}function yc(v,g,D,A){v.subscribers.add(D),A.addEventListener("abort",function(){var U,ee;v.subscribers.delete(D),v.subscribers.size===0&&(U=v,ee=g,setTimeout(function(){U.subscribers.size===0&&Ee(ee,U)},3e3))})}var Bd={stack:"dbcore",level:0,name:"Cache",create:function(v){var g=v.schema.name;return a(a({},v),{transaction:function(D,A,U){var ee,ve,Ce=v.transaction(D,A,U);return A==="readwrite"&&(ve=(ee=new AbortController).signal,U=function(qe){return function(){if(ee.abort(),A==="readwrite"){for(var Q=new Set,ce=0,Z=D;ce<Z.length;ce++){var xe=Z[ce],we=No["idb://".concat(g,"/").concat(xe)];if(we){var Be=v.table(xe),ze=we.optimisticOps.filter(function(Qe){return Qe.trans===Ce});if(Ce._explicit&&qe&&Ce.mutatedParts)for(var Ne=0,et=Object.values(we.queries.query);Ne<et.length;Ne++)for(var rt=0,S=(G=et[Ne]).slice();rt<S.length;rt++)hc((he=S[rt]).obsSet,Ce.mutatedParts)&&(Ee(G,he),he.subscribers.forEach(function(Qe){return Q.add(Qe)}));else if(0<ze.length){we.optimisticOps=we.optimisticOps.filter(function(Qe){return Qe.trans!==Ce});for(var P=0,L=Object.values(we.queries.query);P<L.length;P++)for(var G,he,ye,be=0,Ie=(G=L[P]).slice();be<Ie.length;be++)(he=Ie[be]).res!=null&&Ce.mutatedParts&&(qe&&!he.dirty?(ye=Object.isFrozen(he.res),ye=hs(he.res,he.req,ze,Be,he,ye),he.dirty?(Ee(G,he),he.subscribers.forEach(function(Qe){return Q.add(Qe)})):ye!==he.res&&(he.res=ye,he.promise=ct.resolve({result:ye}))):(he.dirty&&Ee(G,he),he.subscribers.forEach(function(Qe){return Q.add(Qe)})))}}}Q.forEach(function(Qe){return Qe()})}}},Ce.addEventListener("abort",U(!1),{signal:ve}),Ce.addEventListener("error",U(!1),{signal:ve}),Ce.addEventListener("complete",U(!0),{signal:ve})),Ce},table:function(D){var A=v.table(D),U=A.schema.primaryKey;return a(a({},A),{mutate:function(ee){var ve=Nt.trans;if(U.outbound||ve.db._options.cache==="disabled"||ve.explicit||ve.idbtrans.mode!=="readwrite")return A.mutate(ee);var Ce=No["idb://".concat(g,"/").concat(D)];return Ce?(ve=A.mutate(ee),ee.type!=="add"&&ee.type!=="put"||!(50<=ee.values.length||Jo(U,ee).some(function(qe){return qe==null}))?(Ce.optimisticOps.push(ee),ee.mutatedParts&&nu(ee.mutatedParts),ve.then(function(qe){0<qe.numFailures&&(Ee(Ce.optimisticOps,ee),(qe=Sr(0,ee,qe))&&Ce.optimisticOps.push(qe),ee.mutatedParts&&nu(ee.mutatedParts))}),ve.catch(function(){Ee(Ce.optimisticOps,ee),ee.mutatedParts&&nu(ee.mutatedParts)})):ve.then(function(qe){var Q=Sr(0,a(a({},ee),{values:ee.values.map(function(ce,Z){var xe;return qe.failures[Z]?ce:(ce=(xe=U.keyPath)!==null&&xe!==void 0&&xe.includes(".")?te(ce):a({},ce),W(ce,U.keyPath,qe.results[Z]),ce)})}),qe);Ce.optimisticOps.push(Q),queueMicrotask(function(){return ee.mutatedParts&&nu(ee.mutatedParts)})}),ve):A.mutate(ee)},query:function(ee){if(!ru(Nt,A)||!Md("query",ee))return A.query(ee);var ve=((Q=Nt.trans)===null||Q===void 0?void 0:Q.db._options.cache)==="immutable",Z=Nt,Ce=Z.requery,qe=Z.signal,Q=function(Be,ze,Ne,et){var rt=No["idb://".concat(Be,"/").concat(ze)];if(!rt)return[];if(!(ze=rt.queries[Ne]))return[null,!1,rt,null];var S=ze[(et.query?et.query.index.name:null)||""];if(!S)return[null,!1,rt,null];switch(Ne){case"query":var P=S.find(function(L){return L.req.limit===et.limit&&L.req.values===et.values&&la(L.req.query.range,et.query.range)});return P?[P,!0,rt,S]:[S.find(function(L){return("limit"in L.req?L.req.limit:1/0)>=et.limit&&(!et.values||L.req.values)&&_o(L.req.query.range,et.query.range)}),!1,rt,S];case"count":return P=S.find(function(L){return la(L.req.query.range,et.query.range)}),[P,!!P,rt,S]}}(g,D,"query",ee),ce=Q[0],Z=Q[1],xe=Q[2],we=Q[3];return ce&&Z?ce.obsSet=ee.obsSet:(Z=A.query(ee).then(function(Be){var ze=Be.result;if(ce&&(ce.res=ze),ve){for(var Ne=0,et=ze.length;Ne<et;++Ne)Object.freeze(ze[Ne]);Object.freeze(ze)}else Be.result=te(ze);return Be}).catch(function(Be){return we&&ce&&Ee(we,ce),Promise.reject(Be)}),ce={obsSet:ee.obsSet,promise:Z,subscribers:new Set,type:"query",req:ee,dirty:!1},we?we.push(ce):(we=[ce],(xe=xe||(No["idb://".concat(g,"/").concat(D)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ee.query.index.name||""]=we)),yc(ce,we,Ce,qe),ce.promise.then(function(Be){return{result:hs(Be.result,ee,xe?.optimisticOps,A,ce,ve)}})}})}})}};function Gn(v,g){return new Proxy(v,{get:function(D,A,U){return A==="db"?g:Reflect.get(D,A,U)}})}var Or=(sn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Fe.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var g=this._versions,D=g.filter(function(A){return A._cfg.version===v})[0];return D||(D=new this.Version(v),g.push(D),g.sort(wm),D.stores({}),this._state.autoSchema=!1,D)},sn.prototype._whenReady=function(v){var g=this;return this.idbdb&&(this._state.openComplete||Nt.letThrough||this._vip)?v():new ct(function(D,A){if(g._state.openComplete)return A(new Fe.DatabaseClosed(g._state.dbOpenError));if(!g._state.isBeingOpened){if(!g._state.autoOpen)return void A(new Fe.DatabaseClosed);g.open().catch(mt)}g._state.dbReadyPromise.then(D,A)}).then(v)},sn.prototype.use=function(v){var g=v.stack,D=v.create,A=v.level,U=v.name;return U&&this.unuse({stack:g,name:U}),v=this._middlewares[g]||(this._middlewares[g]=[]),v.push({stack:g,create:D,level:A??10,name:U}),v.sort(function(ee,ve){return ee.level-ve.level}),this},sn.prototype.unuse=function(v){var g=v.stack,D=v.name,A=v.create;return g&&this._middlewares[g]&&(this._middlewares[g]=this._middlewares[g].filter(function(U){return A?U.create!==A:!!D&&U.name!==D})),this},sn.prototype.open=function(){var v=this;return ao(ja,function(){return po(v)})},sn.prototype._close=function(){var v=this._state,g=ns.indexOf(this);if(0<=g&&ns.splice(g,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new ct(function(D){v.dbReadyResolve=D}),v.openCanceller=new ct(function(D,A){v.cancelOpen=A}))},sn.prototype.close=function(D){var g=(D===void 0?{disableAutoOpen:!0}:D).disableAutoOpen,D=this._state;g?(D.isBeingOpened&&D.cancelOpen(new Fe.DatabaseClosed),this._close(),D.autoOpen=!1,D.dbOpenError=new Fe.DatabaseClosed):(this._close(),D.autoOpen=this._options.autoOpen||D.isBeingOpened,D.openComplete=!1,D.dbOpenError=null)},sn.prototype.delete=function(v){var g=this;v===void 0&&(v={disableAutoOpen:!0});var D=0<arguments.length&&typeof arguments[0]!="object",A=this._state;return new ct(function(U,ee){function ve(){g.close(v);var Ce=g._deps.indexedDB.deleteDatabase(g.name);Ce.onsuccess=ea(function(){var qe,Q,ce;qe=g._deps,Q=g.name,ce=qe.indexedDB,qe=qe.IDBKeyRange,cr(ce)||Q===Hl||eu(ce,qe).delete(Q).catch(mt),U()}),Ce.onerror=oo(ee),Ce.onblocked=g._fireOnBlocked}if(D)throw new Fe.InvalidArgument("Invalid closeOptions argument to db.delete()");A.isBeingOpened?A.dbReadyPromise.then(ve):ve()})},sn.prototype.backendDB=function(){return this.idbdb},sn.prototype.isOpen=function(){return this.idbdb!==null},sn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},sn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},sn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(sn.prototype,"tables",{get:function(){var v=this;return i(this._allTables).map(function(g){return v._allTables[g]})},enumerable:!1,configurable:!0}),sn.prototype.transaction=function(){var v=function(g,D,A){var U=arguments.length;if(U<2)throw new Fe.InvalidArgument("Too few arguments");for(var ee=new Array(U-1);--U;)ee[U-1]=arguments[U];return A=ee.pop(),[g,Y(ee),A]}.apply(this,arguments);return this._transaction.apply(this,v)},sn.prototype._transaction=function(v,g,D){var A=this,U=Nt.trans;U&&U.db===this&&v.indexOf("!")===-1||(U=null);var ee,ve,Ce=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(ve=g.map(function(Q){if(Q=Q instanceof A.Table?Q.name:Q,typeof Q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Q}),v=="r"||v===Wl)ee=Wl;else{if(v!="rw"&&v!=as)throw new Fe.InvalidArgument("Invalid transaction mode: "+v);ee=as}if(U){if(U.mode===Wl&&ee===as){if(!Ce)throw new Fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");U=null}U&&ve.forEach(function(Q){if(U&&U.storeNames.indexOf(Q)===-1){if(!Ce)throw new Fe.SubTransaction("Table "+Q+" not included in parent transaction.");U=null}}),Ce&&U&&!U.active&&(U=null)}}catch(Q){return U?U._promise(null,function(ce,Z){Z(Q)}):Rn(Q)}var qe=function Q(ce,Z,xe,we,Be){return ct.resolve().then(function(){var ze=Nt.transless||Nt,Ne=ce._createTransaction(Z,xe,ce._dbSchema,we);if(Ne.explicit=!0,ze={trans:Ne,transless:ze},we)Ne.idbtrans=we.idbtrans;else try{Ne.create(),Ne.idbtrans._explicit=!0,ce._state.PR1398_maxLoop=3}catch(S){return S.name===B.InvalidState&&ce.isOpen()&&0<--ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ce.close({disableAutoOpen:!1}),ce.open().then(function(){return Q(ce,Z,xe,null,Be)})):Rn(S)}var et,rt=le(Be);return rt&&es(),ze=ct.follow(function(){var S;(et=Be.call(Ne,Ne))&&(rt?(S=Wr.bind(null,null),et.then(S,S)):typeof et.next=="function"&&typeof et.throw=="function"&&(et=_c(et)))},ze),(et&&typeof et.then=="function"?ct.resolve(et).then(function(S){return Ne.active?S:Rn(new Fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ze.then(function(){return et})).then(function(S){return we&&Ne._resolve(),Ne._completion.then(function(){return S})}).catch(function(S){return Ne._reject(S),Rn(S)})})}.bind(null,this,ee,ve,U,D);return U?U._promise(ee,qe,"lock"):Nt.trans?ao(Nt.transless,function(){return A._whenReady(qe)}):this._whenReady(qe)},sn.prototype.table=function(v){if(!m(this._allTables,v))throw new Fe.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},sn);function sn(v,g){var D=this;this._middlewares={},this.verno=0;var A=sn.dependencies;this._options=g=a({addons:sn.addons,autoOpen:!0,indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange,cache:"cloned"},g),this._deps={indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange},A=g.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var U,ee,ve,Ce,qe,Q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:mt,dbReadyPromise:null,cancelOpen:mt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:g.autoOpen};Q.dbReadyPromise=new ct(function(Z){Q.dbReadyResolve=Z}),Q.openCanceller=new ct(function(Z,xe){Q.cancelOpen=xe}),this._state=Q,this.name=v,this.on=os(this,"populate","blocked","versionchange","close",{ready:[nt,mt]}),this.on.ready.subscribe=V(this.on.ready.subscribe,function(Z){return function(xe,we){sn.vip(function(){var Be,ze=D._state;ze.openComplete?(ze.dbOpenError||ct.resolve().then(xe),we&&Z(xe)):ze.onReadyBeingFired?(ze.onReadyBeingFired.push(xe),we&&Z(xe)):(Z(xe),Be=D,we||Z(function Ne(){Be.on.ready.unsubscribe(xe),Be.on.ready.unsubscribe(Ne)}))})}}),this.Collection=(U=this,Un(lc.prototype,function(et,Ne){this.db=U;var we=Ed,Be=null;if(Ne)try{we=Ne()}catch(rt){Be=rt}var ze=et._ctx,Ne=ze.table,et=Ne.hook.reading.fire;this._ctx={table:Ne,index:ze.index,isPrimKey:!ze.index||Ne.schema.primKey.keyPath&&ze.index===Ne.schema.primKey.name,range:we,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Be,or:ze.or,valueMapper:et!==H?et:null}})),this.Table=(ee=this,Un(sc.prototype,function(Z,xe,we){this.db=ee,this._tx=we,this.name=Z,this.schema=xe,this.hook=ee._allTables[Z]?ee._allTables[Z].hook:os(null,{creating:[Ue,mt],reading:[X,H],updating:[He,mt],deleting:[$e,mt]})})),this.Transaction=(ve=this,Un(Ks.prototype,function(Z,xe,we,Be,ze){var Ne=this;this.db=ve,this.mode=Z,this.storeNames=xe,this.schema=we,this.chromeTransactionDurability=Be,this.idbtrans=null,this.on=os(this,"complete","error","abort"),this.parent=ze||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ct(function(et,rt){Ne._resolve=et,Ne._reject=rt}),this._completion.then(function(){Ne.active=!1,Ne.on.complete.fire()},function(et){var rt=Ne.active;return Ne.active=!1,Ne.on.error.fire(et),Ne.parent?Ne.parent._reject(et):rt&&Ne.idbtrans&&Ne.idbtrans.abort(),Rn(et)})})),this.Version=(Ce=this,Un(Zl.prototype,function(Z){this.db=Ce,this._cfg={version:Z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(qe=this,Un(Td.prototype,function(Z,xe,we){if(this.db=qe,this._ctx={table:Z,index:xe===":id"?null:xe,or:we},this._cmp=this._ascending=pn,this._descending=function(Be,ze){return pn(ze,Be)},this._max=function(Be,ze){return 0<pn(Be,ze)?Be:ze},this._min=function(Be,ze){return pn(Be,ze)<0?Be:ze},this._IDBKeyRange=qe._deps.IDBKeyRange,!this._IDBKeyRange)throw new Fe.MissingAPI})),this.on("versionchange",function(Z){0<Z.newVersion?console.warn("Another connection wants to upgrade database '".concat(D.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(D.name,"'. Closing db now to resume the delete request.")),D.close({disableAutoOpen:!1})}),this.on("blocked",function(Z){!Z.newVersion||Z.newVersion<Z.oldVersion?console.warn("Dexie.delete('".concat(D.name,"') was blocked")):console.warn("Upgrade '".concat(D.name,"' blocked by other connection holding version ").concat(Z.oldVersion/10))}),this._maxKey=Gs(g.IDBKeyRange),this._createTransaction=function(Z,xe,we,Be){return new D.Transaction(Z,xe,we,D._options.chromeTransactionDurability,Be)},this._fireOnBlocked=function(Z){D.on("blocked").fire(Z),ns.filter(function(xe){return xe.name===D.name&&xe!==D&&!xe._state.vcFired}).map(function(xe){return xe.on("versionchange").fire(Z)})},this.use(au),this.use(Bd),this.use(Nd),this.use(Id),this.use(Ad);var ce=new Proxy(this,{get:function(Z,xe,we){if(xe==="_vip")return!0;if(xe==="table")return function(ze){return Gn(D.table(ze),ce)};var Be=Reflect.get(Z,xe,we);return Be instanceof sc?Gn(Be,ce):xe==="tables"?Be.map(function(ze){return Gn(ze,ce)}):xe==="_createTransaction"?function(){return Gn(Be.apply(this,arguments),ce)}:Be}});this.vip=ce,A.forEach(function(Z){return Z(D)})}var Mn,Ir=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$d=(vs.prototype.subscribe=function(v,g,D){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:g,complete:D})},vs.prototype[Ir]=function(){return this},vs);function vs(v){this._subscribe=v}try{Mn={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Mn={indexedDB:null,IDBKeyRange:null}}function ou(v){var g,D=!1,A=new $d(function(U){var ee=le(v),ve,Ce=!1,qe={},Q={},ce={get closed(){return Ce},unsubscribe:function(){Ce||(Ce=!0,ve&&ve.abort(),Z&&Xo.storagemutated.unsubscribe(we))}};U.start&&U.start(ce);var Z=!1,xe=function(){return ts(Be)},we=function(ze){fs(qe,ze),hc(Q,qe)&&xe()},Be=function(){var ze,Ne,et;!Ce&&Mn.indexedDB&&(qe={},ze={},ve&&ve.abort(),ve=new AbortController,et=function(rt){var S=Ya();try{ee&&es();var P=Yo(v,rt);return P=ee?P.finally(Wr):P}finally{S&&to()}}(Ne={subscr:ze,signal:ve.signal,requery:xe,querier:v,trans:null}),Promise.resolve(et).then(function(rt){D=!0,g=rt,Ce||Ne.signal.aborted||(qe={},function(S){for(var P in S)if(m(S,P))return;return 1}(Q=ze)||Z||(Xo(js,we),Z=!0),ts(function(){return!Ce&&U.next&&U.next(rt)}))},function(rt){D=!1,["DatabaseClosedError","AbortError"].includes(rt?.name)||Ce||ts(function(){Ce||U.error&&U.error(rt)})}))};return setTimeout(xe,0),ce});return A.hasValue=function(){return D},A.getValue=function(){return g},A}var dr=Or;function ps(v){var g=Zo;try{Zo=!0,Xo.storagemutated.fire(v),ms(v,!0)}finally{Zo=g}}p(dr,a(a({},_e),{delete:function(v){return new dr(v,{addons:[]}).delete()},exists:function(v){return new dr(v,{addons:[]}).open().then(function(g){return g.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return g=dr.dependencies,D=g.indexedDB,g=g.IDBKeyRange,(cr(D)?Promise.resolve(D.databases()).then(function(A){return A.map(function(U){return U.name}).filter(function(U){return U!==Hl})}):eu(D,g).toCollection().primaryKeys()).then(v)}catch{return Rn(new Fe.MissingAPI)}var g,D},defineClass:function(){return function(v){u(this,v)}},ignoreTransaction:function(v){return Nt.trans?ao(Nt.transless,v):v()},vip:tu,async:function(v){return function(){try{var g=_c(v.apply(this,arguments));return g&&typeof g.then=="function"?g:ct.resolve(g)}catch(D){return Rn(D)}}},spawn:function(v,g,D){try{var A=_c(v.apply(D,g||[]));return A&&typeof A.then=="function"?A:ct.resolve(A)}catch(U){return Rn(U)}},currentTransaction:{get:function(){return Nt.trans||null}},waitFor:function(v,g){return g=ct.resolve(typeof v=="function"?dr.ignoreTransaction(v):v).timeout(g||6e4),Nt.trans?Nt.trans.waitFor(g):g},Promise:ct,debug:{get:function(){return st},set:function(v){ht(v)}},derive:C,extend:u,props:p,override:V,Events:os,on:Xo,liveQuery:ou,extendObservabilitySet:fs,getByKeyPath:R,setByKeyPath:W,delByKeyPath:function(v,g){typeof g=="string"?W(v,g,void 0):"length"in g&&[].map.call(g,function(D){W(v,D,void 0)})},shallowClone:q,deepClone:te,getObjectDiff:al,cmp:pn,asap:I,minKey:-1/0,addons:[],connections:ns,errnames:B,dependencies:Mn,cache:No,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,g,D){return v+g/Math.pow(10,2*D)})})),dr.maxKey=Gs(dr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xo(js,function(v){Zo||(v=new CustomEvent(Ys,{detail:v}),Zo=!0,dispatchEvent(v),Zo=!1)}),addEventListener(Ys,function(v){v=v.detail,Zo||ps(v)}));var _s,Zo=!1,Rd=function(){};return typeof BroadcastChannel<"u"&&((Rd=function(){(_s=new BroadcastChannel(Ys)).onmessage=function(v){return v.data&&ps(v.data)}})(),typeof _s.unref=="function"&&_s.unref(),Xo(js,function(v){Zo||_s.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!Or.disableBfCache&&v.persisted){st&&console.debug("Dexie: handling persisted pagehide"),_s?.close();for(var g=0,D=ns;g<D.length;g++)D[g].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!Or.disableBfCache&&v.persisted&&(st&&console.debug("Dexie: handling persisted pageshow"),Rd(),ps({all:new nr(-1/0,[[]])}))})),ct.rejectionMapper=function(v,g){return!v||v instanceof ue||v instanceof TypeError||v instanceof SyntaxError||!v.name||!it[v.name]?v:(g=new it[v.name](g||v.message,v),"stack"in v&&b(g,"stack",{get:function(){return this.inner.stack}}),g)},ht(st),a(Or,Object.freeze({__proto__:null,Dexie:Or,liveQuery:ou,Entity:ic,cmp:pn,PropModification:is,replacePrefix:function(v,g){return new is({replacePrefix:[v,g]})},add:function(v){return new is({add:v})},remove:function(v){return new is({remove:v})},default:Or,RangeSet:nr,mergeRanges:zr,rangesOverlap:el}),{default:Or}),Or})}(gv)),gv.exports}var u6=l6();const qy=tE(u6),aE=Symbol.for("Dexie"),yd=globalThis[aE]||(globalThis[aE]=qy);if(qy.semVer!==yd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${qy.semVer} and ${yd.semVer}`);const{liveQuery:lJ,mergeRanges:uJ,rangesOverlap:cJ,RangeSet:dJ,cmp:fJ,Entity:mJ,PropModification:hJ,replacePrefix:vJ,add:pJ,remove:_J}=yd,rc=new yd("posawesome_offline");rc.version(1).stores({keyval:"&key"});let yv=null;if(typeof Worker<"u")try{const e="/assets/posawesome/js/posapp/workers/itemWorker.js";yv=new Worker(e,{type:"classic"})}catch(e){console.error("Failed to init persist worker",e),yv=null}const cn={offline_invoices:[],offline_customers:[],offline_payments:[],pos_last_sync_totals:{pending:0,synced:0,drafted:0},uom_cache:{},offers_cache:[],customer_balance_cache:{},local_stock_cache:{},stock_cache_ready:!1,items_storage:[],customer_storage:[],pos_opening_storage:null,opening_dialog_storage:null,sales_persons_storage:[],price_list_cache:{},item_details_cache:{},manual_offline:!1};new Promise(e=>{const t=async()=>{try{await rc.open();for(const n of Object.keys(cn)){const a=await rc.table("keyval").get(n);if(a&&a.value!==void 0){cn[n]=a.value;continue}if(typeof localStorage<"u"){const r=localStorage.getItem(`posa_${n}`);if(r)try{cn[n]=JSON.parse(r);continue}catch(o){console.error("Failed to parse localStorage for",n,o)}}}}catch(n){console.error("Failed to initialize offline DB",n)}finally{e()}};typeof requestIdleCallback=="function"?requestIdleCallback(t):setTimeout(t,0)});function Ci(e){if(yv){let t=cn[e];try{t=JSON.parse(JSON.stringify(cn[e]))}catch(n){console.error("Failed to serialize",e,n)}yv.postMessage({type:"persist",key:e,value:t});return}if(rc.table("keyval").put({key:e,value:cn[e]}).catch(t=>console.error(`Failed to persist ${e}`,t)),typeof localStorage<"u")try{localStorage.setItem(`posa_${e}`,JSON.stringify(cn[e]))}catch(t){console.error("Failed to persist",e,"to localStorage",t)}}function c6(){cn.offline_invoices=[],cn.offline_customers=[],cn.offline_payments=[],cn.pos_last_sync_totals={pending:0,synced:0,drafted:0},Ci("offline_invoices"),Ci("offline_customers"),Ci("offline_payments"),Ci("pos_last_sync_totals")}function rE(){if(typeof window>"u")return cn.manual_offline||!1;const{protocol:e,hostname:t,navigator:n}=window,a=n.onLine,r=typeof window.serverOnline=="boolean"?window.serverOnline:!0,l=!/^(?:\d{1,3}\.){3}\d{1,3}$/.test(t)&&!(t==="localhost"||t==="127.0.0.1");return cn.manual_offline?!0:!a||!r}function d6(){return cn.offline_invoices}function f6(){cn.offline_invoices=[],Ci("offline_invoices")}function oE(){return cn.offline_invoices.length}function m6(e,t){let n=!1;const a=cn.offline_invoices||[];a.forEach(r=>{r.invoice&&r.invoice.customer===e&&(r.invoice.customer=t,r.invoice.customer_name&&(r.invoice.customer_name=t),n=!0)}),n&&(cn.offline_invoices=a,Ci("offline_invoices"))}function h6(){return cn.offline_customers}function v6(){cn.offline_customers=[],Ci("offline_customers")}function Uy(e){cn.pos_last_sync_totals=e,Ci("pos_last_sync_totals")}function iE(){return cn.pos_last_sync_totals}async function p6(){await _6();const e=d6();if(!e.length){const i={pending:0,synced:0,drafted:0};return Uy(i),i}if(rE())return{pending:e.length,synced:0,drafted:0};const t=[];let n=0,a=0;for(const i of e)try{await frappe.call({method:"posawesome.posawesome.api.posapp.submit_invoice",args:{invoice:i.invoice,data:i.data}}),n++}catch(l){console.error("Failed to submit invoice, saving as draft",l);try{await frappe.call({method:"posawesome.posawesome.api.posapp.update_invoice",args:{data:i.invoice}}),a+=1}catch(u){console.error("Failed to save invoice as draft",u),t.push(i)}}n>0&&c6();const r=t.length;r?(cn.offline_invoices=t,Ci("offline_invoices")):f6();const o={pending:r,synced:n,drafted:a};return Uy(r||a?o:{pending:0,synced:0,drafted:0}),o}async function _6(){const e=h6();if(!e.length)return{pending:0,synced:0};if(rE())return{pending:e.length,synced:0};const t=[];let n=0;for(const a of e)try{const r=await frappe.call({method:"posawesome.posawesome.api.posapp.create_customer",args:a.args});n++,r&&r.message&&r.message.name&&r.message.name!==a.args.customer_name&&m6(a.args.customer_name,r.message.name)}catch(r){console.error("Failed to create customer",r),t.push(a)}return t.length?(cn.offline_customers=t,Ci("offline_customers")):v6(),{pending:t.length,synced:n}}function g6(){return cn.manual_offline||!1}function y6(e){cn.manual_offline=!!e,Ci("manual_offline")}async function b6(){try{rc.isOpen()&&await rc.close(),await yd.delete("posawesome_offline"),await rc.open()}catch(e){console.error("Failed to clear IndexedDB cache",e)}typeof localStorage<"u"&&Object.keys(localStorage).forEach(e=>{e.startsWith("posa_")&&localStorage.removeItem(e)}),cn.offline_invoices=[],cn.offline_customers=[],cn.offline_payments=[],cn.pos_last_sync_totals={pending:0,synced:0,drafted:0},cn.uom_cache={},cn.offers_cache=[],cn.customer_balance_cache={},cn.local_stock_cache={},cn.stock_cache_ready=!1,cn.items_storage=[],cn.customer_storage=[],cn.pos_opening_storage=null,cn.opening_dialog_storage=null,cn.sales_persons_storage=[],cn.price_list_cache={},cn.item_details_cache={},cn.manual_offline=!1}const xi={data(){return{float_precision:2,currency_precision:2}},methods:{flt(e,t,n,a){return!t&&t!=0&&(t=this.currency_precision||2),a||(a="Banker's Rounding (legacy)"),flt(e,t,n,a)},formatCurrency(e,t){e==null&&(e=0);let n=Number(String(e).replace(/,/g,""));isNaN(n)&&(n=0);const a=t??(this.currency_precision||2);return n.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})},formatFloat(e,t){e==null&&(e=0);let n=Number(String(e).replace(/,/g,""));isNaN(n)&&(n=0);const a=t??(this.float_precision||2);return n.toLocaleString("en-US",{minimumFractionDigits:a,maximumFractionDigits:a})},setFormatedCurrency(e,t,n,a=!1,r){let o=r&&r.target?r.target.value:r;typeof o=="string"&&(o=o.replace(/,/g,""));let i=parseFloat(o);return isNaN(i)?i=0:a&&i<0&&(i=Math.abs(i)),typeof e=="object"?e[t]=i:this[t]=i,this.formatCurrency(i,n)},setFormatedFloat(e,t,n,a=!1,r){let o=r&&r.target?r.target.value:r;typeof o=="string"&&(o=o.replace(/,/g,""));let i=parseFloat(o);return isNaN(i)?i=0:a&&i<0&&(i=Math.abs(i)),typeof e=="object"?e[t]=i:this[t]=i,this.formatFloat(i,n)},currencySymbol(e){return get_currency_symbol(e)},isNumber(e){return/^-?(\d+|\d{1,3}(\.\d{3})*)(,\d+)?$/.test(e)||"invalid number"}},mounted(){this.float_precision=frappe.defaults.get_default("float_precision")||2,this.currency_precision=frappe.defaults.get_default("currency_precision")||2;const e=t=>{const n=t.pos_profile||t,a=parseInt(n.posa_decimal_precision);isNaN(a)||(this.float_precision=a,this.currency_precision=a)};this.eventBus&&this.eventBus.on&&(this.eventBus.on("register_pos_profile",e),this.eventBus.on("payments_register_pos_profile",e))}},bv=new yd("posawesome_offline");bv.version(1).stores({keyval:"&key"});let wv=null;if(typeof Worker<"u")try{const e="/assets/posawesome/js/posapp/workers/itemWorker.js";wv=new Worker(e,{type:"classic"})}catch(e){console.error("Failed to init persist worker",e),wv=null}function Bn(e,t){if(wv){let n=t;try{n=JSON.parse(JSON.stringify(t))}catch(a){console.error("Failed to serialize",e,a)}try{wv.postMessage({type:"persist",key:e,value:n})}catch(a){console.error(`Failed to postMessage for ${e}`,a)}return}if(bv.table("keyval").put({key:e,value:t}).catch(n=>console.error(`Failed to persist ${e}`,n)),typeof localStorage<"u"&&e!=="price_list_cache")try{localStorage.setItem(`posa_${e}`,JSON.stringify(t))}catch(n){console.error("Failed to persist",e,"to localStorage",n)}}const fm=new Promise(e=>{const t=async()=>{try{await bv.open(),e()}catch(n){console.error("Failed to initialize offline DB",n),e()}};typeof requestIdleCallback=="function"?requestIdleCallback(t):setTimeout(t,0)}),xt={offline_invoices:[],offline_customers:[],offline_payments:[],pos_last_sync_totals:{pending:0,synced:0,drafted:0},uom_cache:{},offers_cache:[],customer_balance_cache:{},local_stock_cache:{},stock_cache_ready:!1,items_storage:[],customer_storage:[],pos_opening_storage:null,opening_dialog_storage:null,sales_persons_storage:[],price_list_cache:{},item_details_cache:{},manual_offline:!1};(async()=>{try{for(const e of Object.keys(xt)){const t=await bv.table("keyval").get(e);if(t&&t.value!==void 0){xt[e]=t.value;continue}if(typeof localStorage<"u"){const n=localStorage.getItem(`posa_${e}`);if(n)try{xt[e]=JSON.parse(n);continue}catch(a){console.error("Failed to parse localStorage for",e,a)}}}}catch(e){console.error("Failed to initialize memory from DB",e)}})();function w6(){xt.offline_invoices=[],xt.offline_customers=[],xt.offline_payments=[],xt.pos_last_sync_totals={pending:0,synced:0,drafted:0},Bn("offline_invoices",xt.offline_invoices),Bn("offline_customers",xt.offline_customers),Bn("offline_payments",xt.offline_payments),Bn("pos_last_sync_totals",xt.pos_last_sync_totals)}function sE(){return xt.items_storage||[]}function lE(e){try{xt.items_storage=JSON.parse(JSON.stringify(e))}catch(t){console.error("Failed to serialize items for storage",t),xt.items_storage=[]}Bn("items_storage",xt.items_storage)}function kv(){return xt.customer_storage||[]}function uE(e){xt.customer_storage=e,Bn("customer_storage",xt.customer_storage)}function cE(){return xt.sales_persons_storage||[]}function k6(e){try{xt.sales_persons_storage=JSON.parse(JSON.stringify(e)),Bn("sales_persons_storage",xt.sales_persons_storage)}catch(t){console.error("Failed to set sales persons storage",t)}}function Sv(){return xt.pos_opening_storage||null}function Hy(e){try{xt.pos_opening_storage=JSON.parse(JSON.stringify(e)),Bn("pos_opening_storage",xt.pos_opening_storage)}catch(t){console.error("Failed to set opening storage",t)}}function S6(){try{xt.pos_opening_storage=null,Bn("pos_opening_storage",xt.pos_opening_storage)}catch(e){console.error("Failed to clear opening storage",e)}}function C6(){return xt.opening_dialog_storage||null}function x6(e){try{xt.opening_dialog_storage=JSON.parse(JSON.stringify(e)),Bn("opening_dialog_storage",xt.opening_dialog_storage)}catch(t){console.error("Failed to set opening dialog storage",t)}}function Wy(e){xt.pos_last_sync_totals=e,Bn("pos_last_sync_totals",xt.pos_last_sync_totals)}async function P6(e,t){try{if(xt.stock_cache_ready&&Object.keys(xt.local_stock_cache||{}).length>0)return console.debug("Stock cache already initialized, skipping"),!0;console.info("Initializing stock cache for",e.length,"items");const n=await D6(e,t);if(n&&n.length>0){const a={};return n.forEach(r=>{r.actual_qty!==void 0&&(a[r.item_code]={actual_qty:r.actual_qty,last_updated:new Date().toISOString()})}),xt.local_stock_cache=a,xt.stock_cache_ready=!0,Bn("local_stock_cache",xt.local_stock_cache),Bn("stock_cache_ready",xt.stock_cache_ready),console.info("Stock cache initialized with",Object.keys(a).length,"items"),!0}return!1}catch(n){return console.error("Failed to initialize stock cache:",n),!1}}function E6(){return xt.stock_cache_ready||!1}function dE(e){try{const t=xt.local_stock_cache||{};e.forEach(n=>{const a=n.item_code;if(t[a]){const r=Math.abs(n.qty||0);t[a].actual_qty=Math.max(0,t[a].actual_qty-r),t[a].last_updated=new Date().toISOString()}}),xt.local_stock_cache=t,Bn("local_stock_cache",xt.local_stock_cache)}catch(t){console.error("Failed to update local stock",t)}}function fE(e){try{return(xt.local_stock_cache||{})[e]?.actual_qty||null}catch{return null}}function zy(e){try{const t=xt.local_stock_cache||{};e.forEach(n=>{!n||!n.item_code||n.actual_qty!==void 0&&(t[n.item_code]={actual_qty:n.actual_qty,last_updated:new Date().toISOString()})}),xt.local_stock_cache=t,Bn("local_stock_cache",xt.local_stock_cache)}catch(t){console.error("Failed to refresh local stock cache",t)}}async function D6(e,t,n=100){const a=[];try{for(let r=0;r<e.length;r+=n){const o=e.slice(r,r+n),i=await new Promise((l,u)=>{frappe.call({method:"posawesome.posawesome.api.posapp.get_items_details",args:{pos_profile:JSON.stringify(t),items_data:JSON.stringify(o)},freeze:!1,callback:function(f){f.message?l(f.message):u(new Error("No response from server"))},error:function(f){u(f)}})});i&&a.push(...i)}return a}catch(r){return console.error("Failed to fetch item stock quantities:",r),null}}function T6(e){if(!e.invoice||!Array.isArray(e.invoice.items)||!e.invoice.items.length)throw new Error("Cart is empty. Add items before saving.");const t="offline_invoices",n=xt.offline_invoices;let a;try{a=JSON.parse(JSON.stringify(e))}catch(r){throw console.error("Failed to serialize offline invoice",r),r}n.push(a),xt.offline_invoices=n,Bn(t,xt.offline_invoices),e.invoice&&e.invoice.items&&dE(e.invoice.items)}function lr(){if(typeof window>"u")return xt.manual_offline||!1;const{protocol:e,hostname:t,navigator:n}=window,a=n.onLine,r=typeof window.serverOnline=="boolean"?window.serverOnline:!0,l=!/^(?:\d{1,3}\.){3}\d{1,3}$/.test(t)&&!(t==="localhost"||t==="127.0.0.1");return xt.manual_offline?!0:!a||!r}function mE(){return xt.offline_invoices}function V6(){xt.offline_invoices=[],Bn("offline_invoices",xt.offline_invoices)}function O6(e){Array.isArray(xt.offline_invoices)&&e>=0&&e<xt.offline_invoices.length&&(xt.offline_invoices.splice(e,1),Bn("offline_invoices",xt.offline_invoices))}function Cv(){return xt.offline_invoices.length}function hE(e){const t="offline_payments",n=xt.offline_payments;if(e?.args?.payload?.pos_profile){const r=e.args.payload.pos_profile;e.args.payload.pos_profile={posa_use_pos_awesome_payments:r.posa_use_pos_awesome_payments,posa_allow_make_new_payments:r.posa_allow_make_new_payments,posa_allow_reconcile_payments:r.posa_allow_reconcile_payments,posa_allow_mpesa_reconcile_payments:r.posa_allow_mpesa_reconcile_payments,cost_center:r.cost_center,posa_cash_mode_of_payment:r.posa_cash_mode_of_payment,name:r.name}}let a;try{a=JSON.parse(JSON.stringify(e))}catch(r){throw console.error("Failed to serialize offline payment",r),r}n.push(a),xt.offline_payments=n,Bn(t,xt.offline_payments)}function I6(){return xt.offline_payments}function A6(){xt.offline_payments=[],Bn("offline_payments",xt.offline_payments)}function M6(){return xt.offline_payments.length}function N6(e){const t="offline_customers",n=xt.offline_customers;let a;try{a=JSON.parse(JSON.stringify(e))}catch(r){throw console.error("Failed to serialize offline customer",r),r}n.push(a),xt.offline_customers=n,Bn(t,xt.offline_customers)}function B6(e,t){let n=!1;const a=xt.offline_invoices||[];a.forEach(r=>{r.invoice&&r.invoice.customer===e&&(r.invoice.customer=t,r.invoice.customer_name&&(r.invoice.customer_name=t),n=!0)}),n&&(xt.offline_invoices=a,Bn("offline_invoices",xt.offline_invoices))}function $6(){return xt.offline_customers}function R6(){xt.offline_customers=[],Bn("offline_customers",xt.offline_customers)}async function F6(){await vE();const e=mE();if(!e.length){const i={pending:0,synced:0,drafted:0};return Wy(i),i}if(lr())return{pending:e.length,synced:0,drafted:0};const t=[];let n=0,a=0;for(const i of e)try{await frappe.call({method:"posawesome.posawesome.api.invoices.submit_invoice",args:{invoice:i.invoice,data:i.data}}),n++}catch(l){console.error("Failed to submit invoice, saving as draft",l);try{await frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice",args:{data:i.invoice}}),a+=1}catch(u){console.error("Failed to save invoice as draft",u),t.push(i)}}n>0&&w6();const r=t.length;r?(xt.offline_invoices=t,Bn("offline_invoices",xt.offline_invoices)):V6();const o={pending:r,synced:n,drafted:a};return Wy(r||a?o:{pending:0,synced:0,drafted:0}),o}async function vE(){const e=$6();if(!e.length)return{pending:0,synced:0};if(lr())return{pending:e.length,synced:0};const t=[];let n=0;for(const a of e)try{const r=await frappe.call({method:"posawesome.posawesome.api.customer.create_customer",args:a.args});n++,r&&r.message&&r.message.name&&r.message.name!==a.args.customer_name&&B6(a.args.customer_name,r.message.name)}catch(r){console.error("Failed to create customer",r),t.push(a)}return t.length?(xt.offline_customers=t,Bn("offline_customers",xt.offline_customers)):R6(),{pending:t.length,synced:n}}async function L6(){await vE();const e=I6();if(!e.length)return{pending:0,synced:0};if(lr())return{pending:e.length,synced:0};const t=[];let n=0;for(const a of e)try{await frappe.call({method:"posawesome.posawesome.api.payment_entry.process_pos_payment",args:a.args}),n++}catch(r){console.error("Failed to submit payment",r),t.push(a)}return t.length?(xt.offline_payments=t,Bn("offline_payments",xt.offline_payments)):A6(),{pending:t.length,synced:n}}function Rl(e,t){try{const n=xt.uom_cache,a=JSON.parse(JSON.stringify(t));n[e]=a,xt.uom_cache=n,Bn("uom_cache",xt.uom_cache)}catch(n){console.error("Failed to cache UOMs",n)}}function oc(e){try{return(xt.uom_cache||{})[e]||[]}catch{return[]}}function q6(e){try{xt.offers_cache=e,Bn("offers_cache",xt.offers_cache)}catch(t){console.error("Failed to cache offers",t)}}function pE(){try{return xt.offers_cache||[]}catch{return[]}}function _E(e,t){try{const n=xt.price_list_cache||{};let a;try{a=JSON.parse(JSON.stringify(t))}catch(r){console.error("Failed to serialize price list items",r),a=[]}n[e]={items:a,timestamp:Date.now()},xt.price_list_cache=n,Bn("price_list_cache",xt.price_list_cache)}catch(n){console.error("Failed to cache price list items",n)}}function jy(e){try{const n=(xt.price_list_cache||{})[e];return n&&Date.now()-n.timestamp<864e5?n.items:null}catch(t){return console.error("Failed to get cached price list items",t),null}}function gE(e,t,n){try{const a=xt.item_details_cache||{},r=a[e]||{},o=r[t]||{};let i;try{i=JSON.parse(JSON.stringify(n))}catch(l){console.error("Failed to serialize item details",l),i=[]}i.forEach(l=>{o[l.item_code]={data:l,timestamp:Date.now()}}),r[t]=o,a[e]=r,xt.item_details_cache=a,Bn("item_details_cache",xt.item_details_cache)}catch(a){console.error("Failed to cache item details",a)}}function yE(e,t,n,a=15*60*1e3){try{const o=(xt.item_details_cache||{})[e]?.[t]||{},i=Date.now(),l=[],u=[];return n.forEach(f=>{const d=o[f];d&&i-d.timestamp<a?l.push(d.data):u.push(f)}),{cached:l,missing:u}}catch(r){return console.error("Failed to get cached item details",r),{cached:[],missing:n}}}function U6(e,t){try{const n=xt.customer_balance_cache;n[e]={balance:t,timestamp:Date.now()},xt.customer_balance_cache=n,Bn("customer_balance_cache",xt.customer_balance_cache)}catch(n){console.error("Failed to cache customer balance",n)}}function bE(e){try{const n=(xt.customer_balance_cache||{})[e];return n&&Date.now()-n.timestamp<864e5?n.balance:null}catch(t){return console.error("Failed to get cached customer balance",t),null}}function H6(){try{const e=xt.customer_balance_cache||{},t=Date.now(),n={};Object.keys(e).forEach(a=>{const r=e[a];r&&t-r.timestamp<24*60*60*1e3&&(n[a]=r)}),xt.customer_balance_cache=n,Bn("customer_balance_cache",xt.customer_balance_cache)}catch(e){console.error("Failed to clear expired customer balances",e)}}const sa=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n},W6={name:"OfflineInvoicesDialog",mixins:[xi],props:{modelValue:Boolean,posProfile:{type:Object,default:()=>({})}},emits:["update:modelValue","deleted","sync-all"],data(){return{dialog:this.modelValue,invoices:[],headers:[{title:this.__("Customer"),value:"customer",align:"start",width:"35%"},{title:this.__("Date"),value:"posting_date",align:"center",width:"20%"},{title:this.__("Amount"),value:"grand_total",align:"end",width:"25%"},{title:this.__("Actions"),value:"actions",align:"center",width:"20%",sortable:!1}]}},watch:{modelValue(e){this.dialog=e,e&&this.loadInvoices()},dialog(e){this.$emit("update:modelValue",e)}},methods:{loadInvoices(){this.invoices=mE()},removeInvoice(e){this.posProfile.posa_allow_delete_offline_invoice&&(O6(e),this.loadInvoices(),this.$emit("deleted",Cv()))}}},z6={class:"header-content"},j6={class:"header-icon-wrapper"},Y6={class:"header-text"},K6={class:"header-title"},G6={class:"header-subtitle"},Q6={class:"header-stats"},X6={key:0,class:"empty-state text-center py-12"},J6={class:"empty-icon-wrapper mb-4"},Z6={class:"text-h5 mb-3 text-grey-darken-2 font-weight-medium"},eq={class:"text-body-1 text-grey-darken-1 mb-0"},tq={key:1,class:"table-container"},nq={class:"table-header mb-4"},aq={class:"text-h6 text-grey-darken-2 mb-1"},rq={class:"text-body-2 text-grey"},oq={class:"customer-cell"},iq={class:"font-weight-medium text-grey-darken-2"},sq={class:"text-caption text-grey"},lq={class:"amount-cell text-right"},uq={class:"text-h6 font-weight-bold text-success"},cq={class:"text-caption text-grey"};function dq(e,t,n,a,r,o){const i=ie("v-icon"),l=ie("v-chip"),u=ie("v-spacer"),f=ie("v-card-title"),d=ie("v-divider"),m=ie("v-avatar"),p=ie("v-tooltip"),y=ie("v-btn"),b=ie("v-data-table"),C=ie("v-container"),w=ie("v-card-text"),k=ie("v-card-actions"),T=ie("v-card"),V=ie("v-dialog"),M=ie("v-row");return de(),lt(M,{justify:"center"},{default:E(()=>[h(V,{modelValue:r.dialog,"onUpdate:modelValue":t[2]||(t[2]=I=>r.dialog=I),"max-width":"1000px",persistent:""},{default:E(()=>[h(T,{class:"offline-invoices-card"},{default:E(()=>[h(f,{class:"offline-header pa-6"},{default:E(()=>[x("div",z6,[x("div",j6,[h(i,{class:"header-icon",size:"40"},{default:E(()=>t[3]||(t[3]=[Ke("mdi-file-document-multiple")])),_:1,__:[3]})]),x("div",Y6,[x("h3",K6,ge(e.__("Offline Invoices")),1),x("p",G6,ge(e.__("Manage your offline transactions")),1),x("div",Q6,[r.invoices.length>0?(de(),lt(l,{key:0,color:"primary",variant:"flat",size:"small",class:"status-chip mr-2"},{default:E(()=>[h(i,{start:"",size:"14"},{default:E(()=>t[4]||(t[4]=[Ke("mdi-clock-outline")])),_:1,__:[4]}),Ke(" "+ge(r.invoices.length)+" "+ge(e.__("Pending")),1)]),_:1})):(de(),lt(l,{key:1,color:"success",variant:"flat",size:"small",class:"status-chip"},{default:E(()=>[h(i,{start:"",size:"14"},{default:E(()=>t[5]||(t[5]=[Ke("mdi-check-circle")])),_:1,__:[5]}),Ke(" "+ge(e.__("All Synced")),1)]),_:1}))])])]),h(u)]),_:1}),h(d,{class:"header-divider"}),h(w,{class:"pa-0 white-background"},{default:E(()=>[h(C,{fluid:"",class:"pa-6"},{default:E(()=>[r.invoices.length?(de(),Ze("div",tq,[x("div",nq,[x("h4",aq,ge(e.__("Pending Invoices")),1),x("p",rq,ge(e.__("These invoices will be synced when connection is restored")),1)]),h(b,{headers:r.headers,items:r.invoices,class:"elevation-0 rounded-lg white-table","items-per-page":15,"items-per-page-options":[15,25,50]},{"item.customer":E(({item:I})=>[x("div",oq,[h(m,{size:"32",color:"primary",class:"mr-3"},{default:E(()=>[h(i,{size:"18",color:"white"},{default:E(()=>t[7]||(t[7]=[Ke("mdi-account")])),_:1,__:[7]})]),_:1}),x("div",null,[x("div",iq,ge(I.invoice.customer_name||I.invoice.customer),1),x("div",sq,ge(e.__("Customer")),1)])])]),"item.posting_date":E(({item:I})=>[h(l,{size:"small",color:"info",variant:"tonal",class:"date-chip"},{default:E(()=>[h(i,{start:"",size:"14"},{default:E(()=>t[8]||(t[8]=[Ke("mdi-calendar")])),_:1,__:[8]}),Ke(" "+ge(I.invoice.posting_date),1)]),_:2},1024)]),"item.grand_total":E(({item:I})=>[x("div",lq,[x("div",uq,ge(e.currencySymbol(I.invoice.currency))+" "+ge(e.formatCurrency(I.invoice.grand_total||I.invoice.rounded_total)),1),x("div",cq,ge(e.__("Total Amount")),1)])]),"item.actions":E(({index:I})=>[n.posProfile.posa_allow_delete_offline_invoice?(de(),lt(y,{key:0,icon:"",color:"error",size:"small",variant:"text",onClick:R=>o.removeInvoice(I),class:"delete-btn"},{default:E(()=>[h(i,{size:"18"},{default:E(()=>t[9]||(t[9]=[Ke("mdi-delete-outline")])),_:1,__:[9]}),h(p,{activator:"parent",location:"top"},{default:E(()=>[Ke(ge(e.__("Delete Invoice")),1)]),_:1})]),_:2},1032,["onClick"])):je("",!0)]),_:1},8,["headers","items"])])):(de(),Ze("div",X6,[x("div",J6,[h(i,{size:"80",color:"success",class:"empty-icon"},{default:E(()=>t[6]||(t[6]=[Ke("mdi-check-circle-outline")])),_:1,__:[6]})]),x("h3",Z6,ge(e.__("All Caught Up!")),1),x("p",eq,ge(e.__("No offline invoices pending synchronization")),1)]))]),_:1})]),_:1}),h(d),h(k,{class:"dialog-actions-container"},{default:E(()=>[r.invoices.length>0?(de(),lt(y,{key:0,theme:"dark",variant:"elevated","prepend-icon":"mdi-sync",onClick:t[0]||(t[0]=I=>e.$emit("sync-all")),class:"pos-action-btn sync-action-btn",size:"large",elevation:"2"},{default:E(()=>[Ke(ge(e.__("Sync All")),1)]),_:1})):je("",!0),h(u),h(y,{theme:"dark",onClick:t[1]||(t[1]=I=>r.dialog=!1),class:"pos-action-btn cancel-action-btn",size:"large",elevation:"2"},{default:E(()=>[h(i,{start:""},{default:E(()=>t[10]||(t[10]=[Ke("mdi-close-circle-outline")])),_:1,__:[10]}),x("span",null,ge(e.__("Close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const fq=sa(W6,[["render",dq]]);function xv(e){if(e)try{const t=document.createElement("iframe");t.style.position="fixed",t.style.right="0",t.style.bottom="0",t.style.width="0",t.style.height="0",t.style.border="0",t.onload=()=>{try{t.contentWindow.focus(),t.contentWindow.print()}finally{setTimeout(()=>t.remove(),1e3)}},t.src=e,document.body.appendChild(t)}catch(t){console.error("Silent print failed, falling back to new window",t);const n=window.open(e,"_blank");n&&n.addEventListener("load",()=>n.print(),{once:!0})}}const mq={name:"NavBar",components:{OfflineInvoicesDialog:fq},data(){return{drawer:!1,mini:!0,item:0,items:[{text:"POS",icon:"mdi-network-pos"}],company:"POS Awesome",companyImg:"/assets/erpnext/images/erpnext-logo.svg",posProfile:{},lastInvoiceId:null,snack:!1,snackColor:"",snackText:"",freeze:!1,freezeTitle:"",freezeMsg:"",pendingInvoices:0,syncTotals:iE(),networkOnline:navigator.onLine,serverOnline:!1,serverConnecting:!1,socket:null,manualOffline:g6(),offlineMessageShown:!1,showOfflineInvoices:!1,showAboutDialog:!1,loadingAppInfo:!1,appInfoError:!1,appInfo:[],appHeaders:[{title:this.__("Application"),value:"app_name",align:"start",sortable:!0},{title:this.__("Version"),value:"installed_version",align:"center",sortable:!0}]}},computed:{isIpHost(){return/^(?:\d{1,3}\.){3}\d{1,3}$/.test(window.location.hostname)},statusColor(){return this.networkOnline&&(this.serverOnline||this.isIpHost)?"green":"red"},statusIcon(){return this.networkOnline&&(this.serverOnline||this.isIpHost)?"mdi-wifi":this.networkOnline&&!this.serverOnline&&!this.isIpHost?"mdi-wifi-strength-alert-outline":"mdi-wifi-off"},statusText(){return this.serverConnecting?this.__("Connecting to server..."):this.networkOnline?this.isIpHost?this.__("Connected"):this.serverOnline?this.__("Connected to Server"):this.__("Server Offline"):this.__("No Internet Connection")},syncInfoText(){const{pending:e,synced:t,drafted:n}=this.syncTotals,a=e||0,r=t||0,o=n||0;return this.networkOnline?`To Sync: ${a} | Synced: ${r} | Draft: ${o}`:a>0||r>0||o>0?`Pending: ${a} | Synced: ${r} | Draft: ${o}`:"Offline Mode"},isDark(){return this.$theme.current==="dark"},appBarColor(){return this.isDark?this.$vuetify.theme.themes.dark.colors.surface:"white"}},watch:{"$theme.current"(){this.$forceUpdate()}},created(){const e=frappe?.boot?.user_info?.company;this.company=e||this.company,console.log("Fetched company:",this.company),window.serverOnline=this.serverOnline,this.company!=="POS Awesome"&&frappe.call({method:"frappe.client.get",args:{doctype:"Company",name:this.company},callback:t=>{t.message?.company_logo&&(this.companyImg=t.message.company_logo)},error:t=>console.warn("Company lookup failed",t)}),this.$nextTick(()=>{this.updatePendingInvoices(),this.syncTotals=iE(),this.networkOnline&&this.syncPendingInvoices(),this.eventBus.on("pending_invoices_changed",this.updatePendingInvoices),this.eventBus.on("show_message",this.showMessage),this.eventBus.on("set_company",t=>{this.company=t.name||this.company,this.companyImg=t.company_logo||this.companyImg}),this.eventBus.on("register_pos_profile",t=>{this.posProfile=t.pos_profile;const n={text:"Payments",icon:"mdi-cash-register"};this.posProfile.posa_use_pos_awesome_payments&&!this.items.some(a=>a.text==="Payments")&&this.items.push(n)}),this.eventBus.on("set_last_invoice",t=>{this.lastInvoiceId=t}),this.eventBus.on("freeze",t=>{this.freeze=!0,this.freezeTitle=t.title,this.freezeMsg=t.msg}),this.eventBus.on("unfreeze",()=>{this.freeze=!1,this.freezeTitle="",this.freezeMsg=""})})},mounted(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),this.initSocketConnection()},beforeDestroy(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),this.eventBus.off("pending_invoices_changed",this.updatePendingInvoices),this.socket&&(this.socket.off("connect"),this.socket.off("disconnect"),this.socket.off("connect_error"),this.socket.close(),this.socket=null)},methods:{initSocketConnection(){this.serverConnecting=!0,this.serverOnline=!1;try{const{protocol:e,hostname:t,port:n}=window.location,a=()=>["localhost","127.0.0.1"].includes(t),r=f=>/^(?:\d{1,3}\.){3}\d{1,3}$/.test(f),o=a(),i=!o&&!r(t),l=!o&&r(t),u=()=>{if(i){const m=`${e}//${t}:${n||(e==="https:"?"443":"80")}`;return console.log("Production environment detected, using:",m),m}if(o){const d=window.frappe?.boot?.socketio_port||"9000",m=`${e}//${t}:${d}`;return console.log("Development environment detected, using:",m),m}if(l){const d=`${e}//${t}:9000`;return console.log("IP-based host detected, using fallback:",d),d}const f=`${e}//${t}:9000`;return console.log("Unknown environment, using fallback:",f),f};this.socket=Yd.io(u(),{path:"/socket.io",transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,forceNew:!0}),this.socket.on("connect",()=>{this.serverOnline=!0,window.serverOnline=!0,this.serverConnecting=!1,this.offlineMessageShown=!1,console.log("Socket.IO: Connected to server"),this.eventBus.emit("server-online")}),this.socket.on("disconnect",f=>{this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,this.eventBus.emit("server-offline"),this.offlineMessageShown||(this.showMessage({color:"error",title:this.__("Server connection lost. Please check your internet connection.")}),this.offlineMessageShown=!0)}),this.socket.on("connect_error",f=>{this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,console.error("Socket.IO: Connection error:",f.message),this.eventBus.emit("server-offline"),this.offlineMessageShown||(this.showMessage({color:"error",title:this.__("Unable to connect to server. Please try again later.")}),this.offlineMessageShown=!0)})}catch(e){this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,console.error("Failed to initialize Socket.IO connection:",e),this.showMessage({color:"error",title:this.__("Failed to initialize server connection.")})}},handleOnline(){this.networkOnline=!0,console.log("Browser is online"),this.offlineMessageShown=!1,this.eventBus.emit("network-online"),this.syncPendingInvoices(),window.serverOnline=this.serverOnline,!this.serverOnline&&!this.serverConnecting&&this.socket?this.socket.connect():this.socket||this.initSocketConnection()},handleOffline(){this.networkOnline=!1,this.serverOnline=!1,window.serverOnline=!1,this.serverConnecting=!1,console.log("Browser is offline"),this.eventBus.emit("network-offline"),this.socket&&this.socket.disconnect()},toggleManualOffline(){this.manualOffline=!this.manualOffline,y6(this.manualOffline),this.showMessage({color:this.manualOffline?"warning":"success",title:this.manualOffline?this.__("Switched to Offline Mode"):this.__("Switched to Online Mode")}),this.manualOffline?(this.serverOnline=!1,window.serverOnline=!1,this.socket&&this.socket.disconnect(),this.eventBus.emit("network-offline")):(window.serverOnline=this.serverOnline,this.networkOnline&&(this.socket?this.socket.connect():this.initSocketConnection()),this.eventBus.emit(this.networkOnline?"network-online":"network-offline"))},handleNavClick(){this.drawer=!0,this.mini=!1},handleMouseLeave(){this.drawer&&(clearTimeout(this._closeTimeout),this._closeTimeout=setTimeout(()=>{this.drawer=!1,this.mini=!0},250))},changePage(e){this.$emit("changePage",e)},goDesk(){frappe.set_route("/"),location.reload()},openCloseShift(){this.eventBus.emit("open_closing_dialog")},printLastInvoice(){if(!this.lastInvoiceId)return;const e=this.posProfile.print_format_for_online||this.posProfile.print_format,t=this.posProfile.letter_head||0,n=`${frappe.urllib.get_base_url()}/printview?doctype=Sales%20Invoice&name=${this.lastInvoiceId}&trigger_print=1&format=${e}&no_letterhead=${t}`;if(this.posProfile.posa_silent_print)xv(n);else{const a=window.open(n,"_blank");a.addEventListener("load",()=>a.print(),{once:!0})}},goAbout(){this.showAboutDialog=!0,this.loadAppInfo()},loadAppInfo(){this.loadingAppInfo=!0,this.appInfoError=!1,frappe.call({method:"posawesome.posawesome.api.utilities.get_app_info",callback:e=>{this.loadingAppInfo=!1,Array.isArray(e.message.apps)?this.appInfo=e.message.apps:this.appInfoError=!0},error:()=>{this.loadingAppInfo=!1,this.appInfoError=!0}})},toggleTheme(){this.$theme.toggle(),this.$forceUpdate(),document.documentElement.classList.toggle("dark-theme",this.$theme.current==="dark"),document.body.classList.add("theme-transition"),setTimeout(()=>{document.body.classList.remove("theme-transition")},1e3),this.eventBus.emit("theme-changed",this.$theme.current)},logOut(){frappe.call({method:"logout",callback:e=>{e.exc||(frappe.set_route("/app/home"),location.reload())}})},async syncPendingInvoices(){const e=oE();e&&this.showMessage({title:`${e} invoice${e>1?"s":""} pending for sync`,color:"warning"});const t=await p6();t&&(t.synced||t.drafted)&&(t.synced&&this.showMessage({title:`${t.synced} offline invoice${t.synced>1?"s":""} synced`,color:"success"}),t.drafted&&this.showMessage({title:`${t.drafted} offline invoice${t.drafted>1?"s":""} saved as draft`,color:"warning"})),t&&(this.syncTotals={...t}),this.updatePendingInvoices(),this.eventBus.emit("pending_invoices_changed",this.pendingInvoices)},updatePendingInvoices(){this.pendingInvoices=oE()},updateAfterDelete(){this.updatePendingInvoices(),this.eventBus.emit("pending_invoices_changed",this.pendingInvoices)},async clearCache(){try{await b6()}catch(e){console.error("Failed to clear cache",e)}finally{location.reload()}},showMessage(e){this.snack=!0,this.snackColor=e.color,this.snackText=e.title}}},hq={class:"status-section-enhanced mx-1"},vq={class:"status-info-always-visible"},pq={class:"status-detail-inline"},_q={class:"profile-section mx-1"},gq={class:"menu-header-compact"},yq={class:"menu-header-text-compact"},bq={class:"menu-icon-wrapper-compact primary-icon"},wq={class:"menu-content-compact"},kq={class:"menu-icon-wrapper-compact secondary-icon"},Sq={class:"menu-content-compact"},Cq={class:"menu-icon-wrapper-compact info-icon"},xq={class:"menu-content-compact"},Pq={class:"menu-icon-wrapper-compact warning-icon"},Eq={class:"menu-content-compact"},Dq={class:"menu-icon-wrapper-compact neutral-icon"},Tq={class:"menu-content-compact"},Vq={class:"menu-icon-wrapper-compact neutral-icon"},Oq={class:"menu-content-compact"},Iq={class:"menu-icon-wrapper-compact info-icon"},Aq={class:"menu-content-compact"},Mq={class:"menu-icon-wrapper-compact danger-icon"},Nq={class:"menu-content-compact"},Bq={key:0,class:"drawer-header"},$q={class:"drawer-company"},Rq={key:1,class:"drawer-header-mini"},Fq={class:"header-content-improved"},Lq={class:"header-icon-wrapper-improved"},qq={class:"header-text-improved"},Uq={class:"header-title-improved"},Hq={class:"header-subtitle-improved"},Wq={key:0,class:"header-stats-improved"},zq={class:"content-container-improved"},jq={key:0,class:"empty-state-improved text-center"},Yq={class:"text-body-2 mt-3 mb-0"},Kq={key:1,class:"empty-state-improved text-center"},Gq={class:"text-body-2 mb-3"},Qq={key:2,class:"apps-list-improved"},Xq={class:"apps-header-improved"},Jq={class:"text-h6 mb-2"},Zq={class:"apps-grid-improved"},eU={class:"app-icon-improved"},tU={class:"app-details-improved"},nU={class:"app-name-improved"},aU={class:"app-version-improved"},rU={class:"footer-info-improved"},oU={class:"footer-text-improved"};function iU(e,t,n,a,r,o){const i=ie("v-app-bar-nav-icon"),l=ie("v-img"),u=ie("v-toolbar-title"),f=ie("v-spacer"),d=ie("v-icon"),m=ie("v-btn"),p=ie("v-chip"),y=ie("v-badge"),b=ie("v-tooltip"),C=ie("v-list-item-title"),w=ie("v-list-item-subtitle"),k=ie("v-list-item"),T=ie("v-divider"),V=ie("v-list"),M=ie("v-card"),I=ie("v-menu"),R=ie("v-app-bar"),W=ie("v-avatar"),q=ie("v-list-item-icon"),z=ie("v-list-item-content"),Y=ie("v-list-item-group"),K=ie("v-navigation-drawer"),ae=ie("v-snackbar"),te=ie("v-card-title"),J=ie("v-card-text"),ne=ie("v-dialog"),re=ie("OfflineInvoicesDialog"),pe=ie("v-progress-circular"),Ee=ie("v-card-actions");return de(),Ze("nav",null,[h(R,{app:"",flat:"",height:"56",color:o.appBarColor,theme:o.isDark?"dark":"light",class:"navbar-enhanced elevation-2 px-2 pb-1"},{default:E(()=>[h(i,{ref:"navIcon",onClick:o.handleNavClick,class:"text-secondary nav-icon"},null,8,["onClick"]),h(l,{src:"/assets/posawesome/js/posapp/components/pos/pos.png",alt:"POS Awesome","max-width":"32",class:"mx-2"}),h(u,{onClick:o.goDesk,class:"text-h6 font-weight-bold text-primary navbar-title",style:{cursor:"pointer","text-decoration":"none"}},{default:E(()=>t[10]||(t[10]=[x("span",{class:"font-weight-light"},"POS",-1),x("span",null,"Awesome",-1)])),_:1,__:[10]},8,["onClick"]),h(f),x("div",hq,[h(m,{icon:"",title:o.statusText,class:"status-btn-enhanced",color:o.statusColor},{default:E(()=>[h(d,{color:o.statusColor},{default:E(()=>[Ke(ge(o.statusIcon),1)]),_:1},8,["color"])]),_:1},8,["title","color"]),x("div",vq,[x("div",{class:Ye(["status-title-inline",{"status-connected":o.statusColor==="green","status-offline":o.statusColor==="red"}])},ge(o.statusText),3),x("div",pq,ge(o.syncInfoText),1)])]),x("div",_q,[h(p,{color:"primary",variant:"outlined",class:"profile-chip"},{default:E(()=>[h(d,{start:""},{default:E(()=>t[11]||(t[11]=[Ke("mdi-account-circle")])),_:1,__:[11]}),Ke(" "+ge(r.posProfile.name),1)]),_:1})]),h(m,{icon:"",color:"primary",class:Ye(["mx-1 offline-invoices-btn",{"has-pending":r.pendingInvoices>0}]),onClick:t[0]||(t[0]=me=>r.showOfflineInvoices=!0)},{default:E(()=>[r.pendingInvoices>0?(de(),lt(y,{key:0,content:r.pendingInvoices,color:"error",overlap:""},{default:E(()=>[h(d,null,{default:E(()=>t[12]||(t[12]=[Ke("mdi-file-document-multiple-outline")])),_:1,__:[12]})]),_:1},8,["content"])):(de(),lt(d,{key:1},{default:E(()=>t[13]||(t[13]=[Ke("mdi-file-document-multiple-outline")])),_:1,__:[13]})),h(b,{activator:"parent",location:"bottom"},{default:E(()=>[Ke(ge(e.__("Offline Invoices"))+" ("+ge(r.pendingInvoices)+") ",1)]),_:1})]),_:1},8,["class"]),h(I,{"offset-y":"","min-width":240,"close-on-content-click":!1,location:"bottom end",offset:[0,4]},{activator:E(({props:me})=>[h(m,tt(me,{color:"primary",variant:"elevated",class:"menu-btn-compact"}),{default:E(()=>[Ke(ge(e.__("Menu"))+" ",1),h(d,{right:"",size:"16",class:"ml-1"},{default:E(()=>t[14]||(t[14]=[Ke("mdi-menu-down")])),_:1,__:[14]})]),_:2},1040)]),default:E(()=>[h(M,{class:"menu-card-compact",elevation:"12"},{default:E(()=>[x("div",gq,[h(d,{color:"primary",size:"20"},{default:E(()=>t[15]||(t[15]=[Ke("mdi-menu")])),_:1,__:[15]}),x("span",yq,ge(e.__("Actions")),1)]),h(V,{density:"compact",class:"menu-list-compact"},{default:E(()=>[r.posProfile.posa_hide_closing_shift?je("",!0):(de(),lt(k,{key:0,onClick:o.openCloseShift,class:"menu-item-compact primary-action"},{prepend:E(()=>[x("div",bq,[h(d,{color:"white",size:"16"},{default:E(()=>t[16]||(t[16]=[Ke("mdi-content-save-move-outline")])),_:1,__:[16]})])]),default:E(()=>[x("div",wq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(e.__("Close Shift")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("End current session")),1)]),_:1})])]),_:1},8,["onClick"])),r.posProfile.posa_allow_print_last_invoice&&r.lastInvoiceId?(de(),lt(k,{key:1,onClick:o.printLastInvoice,class:"menu-item-compact secondary-action"},{prepend:E(()=>[x("div",kq,[h(d,{color:"white",size:"16"},{default:E(()=>t[17]||(t[17]=[Ke("mdi-printer")])),_:1,__:[17]})])]),default:E(()=>[x("div",Sq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(e.__("Print Last Invoice")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("Reprint previous transaction")),1)]),_:1})])]),_:1},8,["onClick"])):je("",!0),h(k,{onClick:o.syncPendingInvoices,class:"menu-item-compact info-action"},{prepend:E(()=>[x("div",Cq,[h(d,{color:"white",size:"16"},{default:E(()=>t[18]||(t[18]=[Ke("mdi-sync")])),_:1,__:[18]})])]),default:E(()=>[x("div",xq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(e.__("Sync Offline Invoices")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("Upload pending transactions")),1)]),_:1})])]),_:1},8,["onClick"]),h(k,{onClick:o.toggleManualOffline,class:"menu-item-compact warning-action"},{prepend:E(()=>[x("div",Pq,[h(d,{color:"white",size:"16"},{default:E(()=>t[19]||(t[19]=[Ke("mdi-wifi-off")])),_:1,__:[19]})])]),default:E(()=>[x("div",Eq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(r.manualOffline?e.__("Go Online"):e.__("Go Offline")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(r.manualOffline?e.__("Disable offline mode"):e.__("Work without server connection")),1)]),_:1})])]),_:1},8,["onClick"]),h(k,{onClick:o.clearCache,class:"menu-item-compact neutral-action"},{prepend:E(()=>[x("div",Dq,[h(d,{color:"white",size:"16"},{default:E(()=>t[20]||(t[20]=[Ke("mdi-delete-sweep-outline")])),_:1,__:[20]})])]),default:E(()=>[x("div",Tq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(e.__("Clear Cache")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("Remove local data and refresh")),1)]),_:1})])]),_:1},8,["onClick"]),h(T,{class:"menu-section-divider-compact"}),h(k,{onClick:o.goAbout,class:"menu-item-compact neutral-action"},{prepend:E(()=>[x("div",Vq,[h(d,{color:"white",size:"16"},{default:E(()=>t[21]||(t[21]=[Ke("mdi-information-outline")])),_:1,__:[21]})])]),default:E(()=>[x("div",Oq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(e.__("About")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("App information")),1)]),_:1})])]),_:1},8,["onClick"]),h(k,{onClick:o.toggleTheme,class:"menu-item-compact info-action"},{prepend:E(()=>[x("div",Iq,[h(d,{color:"white",size:"16"},{default:E(()=>[Ke(ge(o.isDark?"mdi-white-balance-sunny":"mdi-moon-waning-crescent"),1)]),_:1})])]),default:E(()=>[x("div",Aq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(o.isDark?e.__("Light Mode"):e.__("Dark Mode")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("Switch theme appearance")),1)]),_:1})])]),_:1},8,["onClick"]),h(k,{onClick:o.logOut,class:"menu-item-compact danger-action"},{prepend:E(()=>[x("div",Mq,[h(d,{color:"white",size:"16"},{default:E(()=>t[22]||(t[22]=[Ke("mdi-logout")])),_:1,__:[22]})])]),default:E(()=>[x("div",Nq,[h(C,{class:"menu-item-title-compact"},{default:E(()=>[Ke(ge(e.__("Logout")),1)]),_:1}),h(w,{class:"menu-item-subtitle-compact"},{default:E(()=>[Ke(ge(e.__("Sign out of session")),1)]),_:1})])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","theme"]),h(K,{app:"",modelValue:r.drawer,"onUpdate:modelValue":t[3]||(t[3]=me=>r.drawer=me),"mini-variant":r.mini,"expand-on-hover":"",width:"220",class:"drawer-custom",onMouseleave:o.handleMouseLeave},{default:E(()=>[r.mini?(de(),Ze("div",Rq,[h(W,{size:"40"},{default:E(()=>[h(l,{src:r.companyImg,alt:"Company logo"},null,8,["src"])]),_:1})])):(de(),Ze("div",Bq,[h(W,{size:"40"},{default:E(()=>[h(l,{src:r.companyImg,alt:"Company logo"},null,8,["src"])]),_:1}),x("span",$q,ge(r.company),1),h(m,{icon:"",onClick:t[1]||(t[1]=$a(me=>r.mini=!0,["stop"]))},{default:E(()=>[h(d,null,{default:E(()=>t[23]||(t[23]=[Ke("mdi-chevron-left")])),_:1,__:[23]})]),_:1})])),h(T),h(V,{dense:"",nav:""},{default:E(()=>[h(Y,{modelValue:r.item,"onUpdate:modelValue":t[2]||(t[2]=me=>r.item=me),"active-class":"active-item"},{default:E(()=>[(de(!0),Ze(ft,null,En(r.items,me=>(de(),lt(k,{key:me.text,onClick:fe=>o.changePage(me.text),class:"drawer-item"},{default:E(()=>[h(q,null,{default:E(()=>[h(d,{class:"drawer-icon"},{default:E(()=>[Ke(ge(me.icon),1)]),_:2},1024)]),_:2},1024),r.mini?je("",!0):(de(),lt(z,{key:0},{default:E(()=>[h(C,{class:"drawer-item-title"},{default:E(()=>[Ke(ge(me.text),1)]),_:2},1024)]),_:2},1024))]),_:2},1032,["onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue","mini-variant","onMouseleave"]),h(ae,{modelValue:r.snack,"onUpdate:modelValue":t[4]||(t[4]=me=>r.snack=me),timeout:2e3,color:r.snackColor,location:"top right"},{default:E(()=>[Ke(ge(r.snackText),1)]),_:1},8,["modelValue","color"]),h(ne,{modelValue:r.freeze,"onUpdate:modelValue":t[5]||(t[5]=me=>r.freeze=me),persistent:"","max-width":"290"},{default:E(()=>[h(M,null,{default:E(()=>[h(te,{class:"text-h5"},{default:E(()=>[Ke(ge(r.freezeTitle),1)]),_:1}),h(J,null,{default:E(()=>[Ke(ge(r.freezeMsg),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(re,{modelValue:r.showOfflineInvoices,"onUpdate:modelValue":t[6]||(t[6]=me=>r.showOfflineInvoices=me),"pos-profile":r.posProfile,onDeleted:o.updateAfterDelete},null,8,["modelValue","pos-profile","onDeleted"]),h(ne,{modelValue:r.showAboutDialog,"onUpdate:modelValue":t[9]||(t[9]=me=>r.showAboutDialog=me),"max-width":"650",persistent:""},{default:E(()=>[h(M,{class:"about-dialog-card-improved"},{default:E(()=>[h(te,{class:"about-header-improved pa-5"},{default:E(()=>[x("div",Fq,[x("div",Lq,[h(d,{size:"22",class:"header-icon"},{default:E(()=>t[24]||(t[24]=[Ke("mdi-information-outline")])),_:1,__:[24]})]),x("div",qq,[x("h3",Uq,ge(e.__("About")),1),x("p",Hq,ge(e.__("System Information")),1)]),!r.loadingAppInfo&&!r.appInfoError?(de(),Ze("div",Wq,[h(p,{size:"small",color:"primary",variant:"tonal",class:"status-chip-improved"},{default:E(()=>[h(d,{start:"",size:"14"},{default:E(()=>t[25]||(t[25]=[Ke("mdi-application-outline")])),_:1,__:[25]}),Ke(" "+ge(r.appInfo.length)+" "+ge(e.__("Apps")),1)]),_:1})])):je("",!0)]),h(m,{icon:"mdi-close",variant:"text",size:"default",onClick:t[7]||(t[7]=me=>r.showAboutDialog=!1),class:"close-btn-improved"})]),_:1}),h(J,{class:"pa-0 white-background"},{default:E(()=>[x("div",zq,[r.loadingAppInfo?(de(),Ze("div",jq,[h(pe,{indeterminate:"",color:"primary",size:"50"}),x("p",Yq,ge(e.__("Loading...")),1)])):r.appInfoError?(de(),Ze("div",Kq,[h(d,{size:"50",color:"error",class:"mb-3"},{default:E(()=>t[26]||(t[26]=[Ke("mdi-alert-circle-outline")])),_:1,__:[26]}),x("p",Gq,ge(e.__("Error Loading Data")),1),h(m,{color:"primary",variant:"outlined",size:"default",onClick:o.loadAppInfo},{default:E(()=>[h(d,{start:"",size:"18"},{default:E(()=>t[27]||(t[27]=[Ke("mdi-refresh")])),_:1,__:[27]}),Ke(" "+ge(e.__("Retry")),1)]),_:1},8,["onClick"])])):(de(),Ze("div",Qq,[x("div",Xq,[x("h4",Jq,ge(e.__("Installed Applications")),1)]),x("div",Zq,[(de(!0),Ze(ft,null,En(r.appInfo,me=>(de(),Ze("div",{key:me.app_name,class:"app-item-improved"},[x("div",eU,[h(d,{size:"18",color:"white"},{default:E(()=>t[28]||(t[28]=[Ke("mdi-application-outline")])),_:1,__:[28]})]),x("div",tU,[x("div",nU,ge(me.app_name),1),x("div",aU,"v"+ge(me.installed_version),1)])]))),128))])]))])]),_:1}),h(Ee,{class:"dialog-actions-improved pa-4"},{default:E(()=>[x("div",rU,[x("span",oU,[h(d,{start:"",size:"16",color:"error"},{default:E(()=>t[29]||(t[29]=[Ke("mdi-heart")])),_:1,__:[29]}),Ke(" "+ge(e.__("Built with Frappe")),1)])]),h(f),h(m,{color:"primary",onClick:t[8]||(t[8]=me=>r.showAboutDialog=!1),class:"close-btn-action-improved"},{default:E(()=>[Ke(ge(e.__("Close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const sU=sa(mq,[["render",iU],["__scopeId","data-v-8447ac11"]]);var mm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lU=mm.exports,wE;function uU(){return wE||(wE=1,function(e,t){(function(){var n,a="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",m=1,p=2,y=4,b=1,C=2,w=1,k=2,T=4,V=8,M=16,I=32,R=64,W=128,q=256,z=512,Y=30,K="...",ae=800,te=16,J=1,ne=2,re=3,pe=1/0,Ee=9007199254740991,me=17976931348623157e292,fe=NaN,le=4294967295,Te=le-1,ue=le>>>1,De=[["ary",W],["bind",w],["bindKey",k],["curry",V],["curryRight",M],["flip",z],["partial",I],["partialRight",R],["rearg",q]],Me="[object Arguments]",Oe="[object Array]",B="[object AsyncFunction]",Ae="[object Boolean]",Fe="[object Date]",it="[object DOMException]",_e="[object Error]",mt="[object Function]",H="[object GeneratorFunction]",X="[object Map]",F="[object Number]",Ue="[object Null]",$e="[object Object]",He="[object Promise]",ot="[object Proxy]",nt="[object RegExp]",st="[object Set]",ht="[object String]",Ve="[object Symbol]",Je="[object Undefined]",Pt="[object WeakMap]",Bt="[object WeakSet]",jt="[object ArrayBuffer]",Dt="[object DataView]",zt="[object Float32Array]",mn="[object Float64Array]",$n="[object Int8Array]",Yn="[object Int16Array]",ra="[object Int32Array]",pa="[object Uint8Array]",ja="[object Uint8ClampedArray]",Nt="[object Uint16Array]",fa="[object Uint32Array]",Xe=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$t=/&(?:amp|lt|gt|quot|#39);/g,pt=/[&<>"']/g,Ot=RegExp($t.source),Ft=RegExp(pt.source),Tr=/<%-([\s\S]+?)%>/g,Ur=/<%([\s\S]+?)%>/g,Hr=/<%=([\s\S]+?)%>/g,Ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,Ls=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pi=/[\\^$.*+?()[\]{}|]/g,ea=RegExp(Pi.source),_a=/^\s+/,pm=/\s/,Ul=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jo=/\{\n\/\* \[wrapped with (.+)\] \*/,Zi=/,? & /,qs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yo=/[()=,{}\[\]\/\s]/,es=/\\(\\)?/g,Wr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Us=/\w*$/,_m=/^[-+]0x[0-9a-f]+$/i,no=/^0b[01]+$/i,Cd=/^\[object .+?Constructor\]$/,ao=/^0o[0-7]+$/i,xd=/^(?:0|[1-9]\d*)$/,ts=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rn=/($^)/,Ko=/['\n\r\u2028\u2029\\]/g,br="\\ud800-\\udfff",Pd="\\u0300-\\u036f",ns="\\ufe20-\\ufe2f",Hl="\\u20d0-\\u20ff",Wl=Pd+ns+Hl,as="\\u2700-\\u27bf",Go="a-z\\xdf-\\xf6\\xf8-\\xff",Ed="\\xac\\xb1\\xd7\\xf7",zl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ic="\\u2000-\\u206f",pn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rs="A-Z\\xc0-\\xd6\\xd8-\\xde",jl="\\ufe0e\\ufe0f",sc=Ed+zl+ic+pn,An="['’]",os="["+br+"]",Un="["+sc+"]",Io="["+Wl+"]",Yl="\\d+",Vr="["+as+"]",Hs="["+Go+"]",Kl="[^"+br+sc+Yl+as+Go+rs+"]",Ei="\\ud83c[\\udffb-\\udfff]",Ws="(?:"+Io+"|"+Ei+")",is="[^"+br+"]",ss="(?:\\ud83c[\\udde6-\\uddff]){2}",lc="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="["+rs+"]",Gl="\\u200d",uc="(?:"+Hs+"|"+Kl+")",gm="(?:"+dn+"|"+Kl+")",wr="(?:"+An+"(?:d|ll|m|re|s|t|ve))?",Qo="(?:"+An+"(?:D|LL|M|RE|S|T|VE))?",tr=Ws+"?",ro="["+jl+"]?",Dd="(?:"+Gl+"(?:"+[is,ss,lc].join("|")+")"+ro+tr+")*",Td="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",oo=ro+tr+Dd,zs="(?:"+[Vr,ss,lc].join("|")+")"+oo,js="(?:"+[is+Io+"?",Io,ss,lc,os].join("|")+")",Ys=RegExp(An,"g"),Xo=RegExp(Io,"g"),Ks=RegExp(Ei+"(?="+Ei+")|"+js+oo,"g"),vo=RegExp([dn+"?"+Hs+"+"+wr+"(?="+[Un,dn,"$"].join("|")+")",gm+"+"+Qo+"(?="+[Un,dn+uc,"$"].join("|")+")",dn+"?"+uc+"+"+wr,dn+"+"+Qo,Kn,Td,Yl,zs].join("|"),"g"),cc=RegExp("["+Gl+br+Wl+jl+"]"),Vd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gs=-1,Hn={};Hn[zt]=Hn[mn]=Hn[$n]=Hn[Yn]=Hn[ra]=Hn[pa]=Hn[ja]=Hn[Nt]=Hn[fa]=!0,Hn[Me]=Hn[Oe]=Hn[jt]=Hn[Ae]=Hn[Dt]=Hn[Fe]=Hn[_e]=Hn[mt]=Hn[X]=Hn[F]=Hn[$e]=Hn[nt]=Hn[st]=Hn[ht]=Hn[Pt]=!1;var Fn={};Fn[Me]=Fn[Oe]=Fn[jt]=Fn[Dt]=Fn[Ae]=Fn[Fe]=Fn[zt]=Fn[mn]=Fn[$n]=Fn[Yn]=Fn[ra]=Fn[X]=Fn[F]=Fn[$e]=Fn[nt]=Fn[st]=Fn[ht]=Fn[Ve]=Fn[pa]=Fn[ja]=Fn[Nt]=Fn[fa]=!0,Fn[_e]=Fn[mt]=Fn[Pt]=!1;var ym={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ls={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Od={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},us=parseFloat,Ql=parseInt,Qs=typeof dm=="object"&&dm&&dm.Object===Object&&dm,wm=typeof self=="object"&&self&&self.Object===Object&&self,Ka=Qs||wm||Function("return this")(),fc=t&&!t.nodeType&&t,Ao=fc&&!0&&e&&!e.nodeType&&e,Xl=Ao&&Ao.exports===fc,Jl=Xl&&Qs.process,ur=function(){try{var Q=Ao&&Ao.require&&Ao.require("util").types;return Q||Jl&&Jl.binding&&Jl.binding("util")}catch{}}(),Xs=ur&&ur.isArrayBuffer,Js=ur&&ur.isDate,mc=ur&&ur.isMap,Zl=ur&&ur.isRegExp,Zs=ur&&ur.isSet,eu=ur&&ur.isTypedArray;function cr(Q,ce,Z){switch(Z.length){case 0:return Q.call(ce);case 1:return Q.call(ce,Z[0]);case 2:return Q.call(ce,Z[0],Z[1]);case 3:return Q.call(ce,Z[0],Z[1],Z[2])}return Q.apply(ce,Z)}function tu(Q,ce,Z,xe){for(var we=-1,Be=Q==null?0:Q.length;++we<Be;){var ze=Q[we];ce(xe,ze,Z(ze),Q)}return xe}function kr(Q,ce){for(var Z=-1,xe=Q==null?0:Q.length;++Z<xe&&ce(Q[Z],Z,Q)!==!1;);return Q}function nr(Q,ce){for(var Z=Q==null?0:Q.length;Z--&&ce(Q[Z],Z,Q)!==!1;);return Q}function cs(Q,ce){for(var Z=-1,xe=Q==null?0:Q.length;++Z<xe;)if(!ce(Q[Z],Z,Q))return!1;return!0}function zr(Q,ce){for(var Z=-1,xe=Q==null?0:Q.length,we=0,Be=[];++Z<xe;){var ze=Q[Z];ce(ze,Z,Q)&&(Be[we++]=ze)}return Be}function el(Q,ce){var Z=Q==null?0:Q.length;return!!Z&&po(Q,ce,0)>-1}function ds(Q,ce,Z){for(var xe=-1,we=Q==null?0:Q.length;++xe<we;)if(Z(ce,Q[xe]))return!0;return!1}function ta(Q,ce){for(var Z=-1,xe=Q==null?0:Q.length,we=Array(xe);++Z<xe;)we[Z]=ce(Q[Z],Z,Q);return we}function Mo(Q,ce){for(var Z=-1,xe=ce.length,we=Q.length;++Z<xe;)Q[we+Z]=ce[Z];return Q}function fs(Q,ce,Z,xe){var we=-1,Be=Q==null?0:Q.length;for(xe&&Be&&(Z=Q[++we]);++we<Be;)Z=ce(Z,Q[we],we,Q);return Z}function hc(Q,ce,Z,xe){var we=Q==null?0:Q.length;for(xe&&we&&(Z=Q[--we]);we--;)Z=ce(Z,Q[we],we,Q);return Z}function No(Q,ce){for(var Z=-1,xe=Q==null?0:Q.length;++Z<xe;)if(ce(Q[Z],Z,Q))return!0;return!1}var vc=al("length");function pc(Q){return Q.split("")}function nu(Q){return Q.match(qs)||[]}function ms(Q,ce,Z){var xe;return Z(Q,function(we,Be,ze){if(ce(we,Be,ze))return xe=Be,!1}),xe}function tl(Q,ce,Z,xe){for(var we=Q.length,Be=Z+(xe?1:-1);xe?Be--:++Be<we;)if(ce(Q[Be],Be,Q))return Be;return-1}function po(Q,ce,Z){return ce===ce?Zo(Q,ce,Z):tl(Q,nl,Z)}function _c(Q,ce,Z,xe){for(var we=Z-1,Be=Q.length;++we<Be;)if(xe(Q[we],ce))return we;return-1}function nl(Q){return Q!==Q}function Id(Q,ce){var Z=Q==null?0:Q.length;return Z?au(Q,ce)/Z:fe}function al(Q){return function(ce){return ce==null?n:ce[Q]}}function Jo(Q){return function(ce){return Q==null?n:Q[ce]}}function Ad(Q,ce,Z,xe,we){return we(Q,function(Be,ze,Ne){Z=xe?(xe=!1,Be):ce(Z,Be,ze,Ne)}),Z}function gc(Q,ce){var Z=Q.length;for(Q.sort(ce);Z--;)Q[Z]=Q[Z].value;return Q}function au(Q,ce){for(var Z,xe=-1,we=Q.length;++xe<we;){var Be=ce(Q[xe]);Be!==n&&(Z=Z===n?Be:Z+Be)}return Z}function ru(Q,ce){for(var Z=-1,xe=Array(Q);++Z<Q;)xe[Z]=ce(Z);return xe}function Md(Q,ce){return ta(ce,function(Z){return[Z,Q[Z]]})}function Nd(Q){return Q&&Q.slice(0,D(Q)+1).replace(_a,"")}function Sr(Q){return function(ce){return Q(ce)}}function rl(Q,ce){return ta(ce,function(Z){return Q[Z]})}function hs(Q,ce){return Q.has(ce)}function la(Q,ce){for(var Z=-1,xe=Q.length;++Z<xe&&po(ce,Q[Z],0)>-1;);return Z}function _o(Q,ce){for(var Z=Q.length;Z--&&po(ce,Q[Z],0)>-1;);return Z}function yc(Q,ce){for(var Z=Q.length,xe=0;Z--;)Q[Z]===ce&&++xe;return xe}var Bd=Jo(ym),Gn=Jo(ls);function Or(Q){return"\\"+bm[Q]}function sn(Q,ce){return Q==null?n:Q[ce]}function Mn(Q){return cc.test(Q)}function Ir(Q){return Vd.test(Q)}function $d(Q){for(var ce,Z=[];!(ce=Q.next()).done;)Z.push(ce.value);return Z}function vs(Q){var ce=-1,Z=Array(Q.size);return Q.forEach(function(xe,we){Z[++ce]=[we,xe]}),Z}function ou(Q,ce){return function(Z){return Q(ce(Z))}}function dr(Q,ce){for(var Z=-1,xe=Q.length,we=0,Be=[];++Z<xe;){var ze=Q[Z];(ze===ce||ze===d)&&(Q[Z]=d,Be[we++]=Z)}return Be}function ps(Q){var ce=-1,Z=Array(Q.size);return Q.forEach(function(xe){Z[++ce]=xe}),Z}function _s(Q){var ce=-1,Z=Array(Q.size);return Q.forEach(function(xe){Z[++ce]=[xe,xe]}),Z}function Zo(Q,ce,Z){for(var xe=Z-1,we=Q.length;++xe<we;)if(Q[xe]===ce)return xe;return-1}function Rd(Q,ce,Z){for(var xe=Z+1;xe--;)if(Q[xe]===ce)return xe;return xe}function v(Q){return Mn(Q)?U(Q):vc(Q)}function g(Q){return Mn(Q)?ee(Q):pc(Q)}function D(Q){for(var ce=Q.length;ce--&&pm.test(Q.charAt(ce)););return ce}var A=Jo(Od);function U(Q){for(var ce=Ks.lastIndex=0;Ks.test(Q);)++ce;return ce}function ee(Q){return Q.match(Ks)||[]}function ve(Q){return Q.match(vo)||[]}var Ce=function Q(ce){ce=ce==null?Ka:qe.defaults(Ka.Object(),ce,qe.pick(Ka,dc));var Z=ce.Array,xe=ce.Date,we=ce.Error,Be=ce.Function,ze=ce.Math,Ne=ce.Object,et=ce.RegExp,rt=ce.String,S=ce.TypeError,P=Z.prototype,L=Be.prototype,G=Ne.prototype,he=ce["__core-js_shared__"],ye=L.toString,be=G.hasOwnProperty,Ie=0,Qe=function(){var s=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),dt=G.toString,kt=ye.call(Ne),At=Ka._,Yt=et("^"+ye.call(be).replace(Pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=Xl?ce.Buffer:n,an=ce.Symbol,ln=ce.Uint8Array,Dn=Vt?Vt.allocUnsafe:n,_n=ou(Ne.getPrototypeOf,Ne),St=Ne.create,Ht=G.propertyIsEnumerable,ua=P.splice,Ma=an?an.isConcatSpreadable:n,ei=an?an.iterator:n,ti=an?an.toStringTag:n,bc=function(){try{var s=xc(Ne,"defineProperty");return s({},"",{}),s}catch{}}(),Vv=ce.clearTimeout!==Ka.clearTimeout&&ce.clearTimeout,NY=xe&&xe.now!==Ka.Date.now&&xe.now,BY=ce.setTimeout!==Ka.setTimeout&&ce.setTimeout,Ov=ze.ceil,Iv=ze.floor,Qy=Ne.getOwnPropertySymbols,$Y=Vt?Vt.isBuffer:n,uD=ce.isFinite,RY=P.join,FY=ou(Ne.keys,Ne),fr=ze.max,jr=ze.min,LY=xe.now,qY=ce.parseInt,cD=ze.random,UY=P.reverse,Xy=xc(ce,"DataView"),km=xc(ce,"Map"),Jy=xc(ce,"Promise"),Fd=xc(ce,"Set"),Sm=xc(ce,"WeakMap"),Cm=xc(Ne,"create"),Av=Sm&&new Sm,Ld={},HY=Pc(Xy),WY=Pc(km),zY=Pc(Jy),jY=Pc(Fd),YY=Pc(Sm),Mv=an?an.prototype:n,xm=Mv?Mv.valueOf:n,dD=Mv?Mv.toString:n;function oe(s){if(Na(s)&&!fn(s)&&!(s instanceof Pn)){if(s instanceof ni)return s;if(be.call(s,"__wrapped__"))return fT(s)}return new ni(s)}var qd=function(){function s(){}return function(c){if(!Ea(c))return{};if(St)return St(c);s.prototype=c;var _=new s;return s.prototype=n,_}}();function Nv(){}function ni(s,c){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}oe.templateSettings={escape:Tr,evaluate:Ur,interpolate:Hr,variable:"",imports:{_:oe}},oe.prototype=Nv.prototype,oe.prototype.constructor=oe,ni.prototype=qd(Nv.prototype),ni.prototype.constructor=ni;function Pn(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function KY(){var s=new Pn(this.__wrapped__);return s.__actions__=go(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=go(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=go(this.__views__),s}function GY(){if(this.__filtered__){var s=new Pn(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function QY(){var s=this.__wrapped__.value(),c=this.__dir__,_=fn(s),O=c<0,j=_?s.length:0,se=lK(0,j,this.__views__),Se=se.start,Le=se.end,Ge=Le-Se,yt=O?Le:Se-1,bt=this.__iteratees__,Ct=bt.length,Rt=0,Kt=jr(Ge,this.__takeCount__);if(!_||!O&&j==Ge&&Kt==Ge)return ND(s,this.__actions__);var en=[];e:for(;Ge--&&Rt<Kt;){yt+=c;for(var vn=-1,tn=s[yt];++vn<Ct;){var kn=bt[vn],Tn=kn.iteratee,Ro=kn.type,lo=Tn(tn);if(Ro==ne)tn=lo;else if(!lo){if(Ro==J)continue e;break e}}en[Rt++]=tn}return en}Pn.prototype=qd(Nv.prototype),Pn.prototype.constructor=Pn;function wc(s){var c=-1,_=s==null?0:s.length;for(this.clear();++c<_;){var O=s[c];this.set(O[0],O[1])}}function XY(){this.__data__=Cm?Cm(null):{},this.size=0}function JY(s){var c=this.has(s)&&delete this.__data__[s];return this.size-=c?1:0,c}function ZY(s){var c=this.__data__;if(Cm){var _=c[s];return _===u?n:_}return be.call(c,s)?c[s]:n}function e7(s){var c=this.__data__;return Cm?c[s]!==n:be.call(c,s)}function t7(s,c){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=Cm&&c===n?u:c,this}wc.prototype.clear=XY,wc.prototype.delete=JY,wc.prototype.get=ZY,wc.prototype.has=e7,wc.prototype.set=t7;function ol(s){var c=-1,_=s==null?0:s.length;for(this.clear();++c<_;){var O=s[c];this.set(O[0],O[1])}}function n7(){this.__data__=[],this.size=0}function a7(s){var c=this.__data__,_=Bv(c,s);if(_<0)return!1;var O=c.length-1;return _==O?c.pop():ua.call(c,_,1),--this.size,!0}function r7(s){var c=this.__data__,_=Bv(c,s);return _<0?n:c[_][1]}function o7(s){return Bv(this.__data__,s)>-1}function i7(s,c){var _=this.__data__,O=Bv(_,s);return O<0?(++this.size,_.push([s,c])):_[O][1]=c,this}ol.prototype.clear=n7,ol.prototype.delete=a7,ol.prototype.get=r7,ol.prototype.has=o7,ol.prototype.set=i7;function il(s){var c=-1,_=s==null?0:s.length;for(this.clear();++c<_;){var O=s[c];this.set(O[0],O[1])}}function s7(){this.size=0,this.__data__={hash:new wc,map:new(km||ol),string:new wc}}function l7(s){var c=Kv(this,s).delete(s);return this.size-=c?1:0,c}function u7(s){return Kv(this,s).get(s)}function c7(s){return Kv(this,s).has(s)}function d7(s,c){var _=Kv(this,s),O=_.size;return _.set(s,c),this.size+=_.size==O?0:1,this}il.prototype.clear=s7,il.prototype.delete=l7,il.prototype.get=u7,il.prototype.has=c7,il.prototype.set=d7;function kc(s){var c=-1,_=s==null?0:s.length;for(this.__data__=new il;++c<_;)this.add(s[c])}function f7(s){return this.__data__.set(s,u),this}function m7(s){return this.__data__.has(s)}kc.prototype.add=kc.prototype.push=f7,kc.prototype.has=m7;function Di(s){var c=this.__data__=new ol(s);this.size=c.size}function h7(){this.__data__=new ol,this.size=0}function v7(s){var c=this.__data__,_=c.delete(s);return this.size=c.size,_}function p7(s){return this.__data__.get(s)}function _7(s){return this.__data__.has(s)}function g7(s,c){var _=this.__data__;if(_ instanceof ol){var O=_.__data__;if(!km||O.length<r-1)return O.push([s,c]),this.size=++_.size,this;_=this.__data__=new il(O)}return _.set(s,c),this.size=_.size,this}Di.prototype.clear=h7,Di.prototype.delete=v7,Di.prototype.get=p7,Di.prototype.has=_7,Di.prototype.set=g7;function fD(s,c){var _=fn(s),O=!_&&Ec(s),j=!_&&!O&&cu(s),se=!_&&!O&&!j&&zd(s),Se=_||O||j||se,Le=Se?ru(s.length,rt):[],Ge=Le.length;for(var yt in s)(c||be.call(s,yt))&&!(Se&&(yt=="length"||j&&(yt=="offset"||yt=="parent")||se&&(yt=="buffer"||yt=="byteLength"||yt=="byteOffset")||cl(yt,Ge)))&&Le.push(yt);return Le}function mD(s){var c=s.length;return c?s[ub(0,c-1)]:n}function y7(s,c){return Gv(go(s),Sc(c,0,s.length))}function b7(s){return Gv(go(s))}function Zy(s,c,_){(_!==n&&!Ti(s[c],_)||_===n&&!(c in s))&&sl(s,c,_)}function Pm(s,c,_){var O=s[c];(!(be.call(s,c)&&Ti(O,_))||_===n&&!(c in s))&&sl(s,c,_)}function Bv(s,c){for(var _=s.length;_--;)if(Ti(s[_][0],c))return _;return-1}function w7(s,c,_,O){return iu(s,function(j,se,Se){c(O,j,_(j),Se)}),O}function hD(s,c){return s&&ys(c,Cr(c),s)}function k7(s,c){return s&&ys(c,bo(c),s)}function sl(s,c,_){c=="__proto__"&&bc?bc(s,c,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[c]=_}function eb(s,c){for(var _=-1,O=c.length,j=Z(O),se=s==null;++_<O;)j[_]=se?n:Mb(s,c[_]);return j}function Sc(s,c,_){return s===s&&(_!==n&&(s=s<=_?s:_),c!==n&&(s=s>=c?s:c)),s}function ai(s,c,_,O,j,se){var Se,Le=c&m,Ge=c&p,yt=c&y;if(_&&(Se=j?_(s,O,j,se):_(s)),Se!==n)return Se;if(!Ea(s))return s;var bt=fn(s);if(bt){if(Se=cK(s),!Le)return go(s,Se)}else{var Ct=Yr(s),Rt=Ct==mt||Ct==H;if(cu(s))return RD(s,Le);if(Ct==$e||Ct==Me||Rt&&!j){if(Se=Ge||Rt?{}:aT(s),!Le)return Ge?Z7(s,k7(Se,s)):J7(s,hD(Se,s))}else{if(!Fn[Ct])return j?s:{};Se=dK(s,Ct,Le)}}se||(se=new Di);var Kt=se.get(s);if(Kt)return Kt;se.set(s,Se),IT(s)?s.forEach(function(tn){Se.add(ai(tn,c,_,tn,s,se))}):VT(s)&&s.forEach(function(tn,kn){Se.set(kn,ai(tn,c,_,kn,s,se))});var en=yt?Ge?bb:yb:Ge?bo:Cr,vn=bt?n:en(s);return kr(vn||s,function(tn,kn){vn&&(kn=tn,tn=s[kn]),Pm(Se,kn,ai(tn,c,_,kn,s,se))}),Se}function S7(s){var c=Cr(s);return function(_){return vD(_,s,c)}}function vD(s,c,_){var O=_.length;if(s==null)return!O;for(s=Ne(s);O--;){var j=_[O],se=c[j],Se=s[j];if(Se===n&&!(j in s)||!se(Se))return!1}return!0}function pD(s,c,_){if(typeof s!="function")throw new S(i);return Am(function(){s.apply(n,_)},c)}function Em(s,c,_,O){var j=-1,se=el,Se=!0,Le=s.length,Ge=[],yt=c.length;if(!Le)return Ge;_&&(c=ta(c,Sr(_))),O?(se=ds,Se=!1):c.length>=r&&(se=hs,Se=!1,c=new kc(c));e:for(;++j<Le;){var bt=s[j],Ct=_==null?bt:_(bt);if(bt=O||bt!==0?bt:0,Se&&Ct===Ct){for(var Rt=yt;Rt--;)if(c[Rt]===Ct)continue e;Ge.push(bt)}else se(c,Ct,O)||Ge.push(bt)}return Ge}var iu=HD(gs),_D=HD(nb,!0);function C7(s,c){var _=!0;return iu(s,function(O,j,se){return _=!!c(O,j,se),_}),_}function $v(s,c,_){for(var O=-1,j=s.length;++O<j;){var se=s[O],Se=c(se);if(Se!=null&&(Le===n?Se===Se&&!$o(Se):_(Se,Le)))var Le=Se,Ge=se}return Ge}function x7(s,c,_,O){var j=s.length;for(_=hn(_),_<0&&(_=-_>j?0:j+_),O=O===n||O>j?j:hn(O),O<0&&(O+=j),O=_>O?0:MT(O);_<O;)s[_++]=c;return s}function gD(s,c){var _=[];return iu(s,function(O,j,se){c(O,j,se)&&_.push(O)}),_}function Ar(s,c,_,O,j){var se=-1,Se=s.length;for(_||(_=mK),j||(j=[]);++se<Se;){var Le=s[se];c>0&&_(Le)?c>1?Ar(Le,c-1,_,O,j):Mo(j,Le):O||(j[j.length]=Le)}return j}var tb=WD(),yD=WD(!0);function gs(s,c){return s&&tb(s,c,Cr)}function nb(s,c){return s&&yD(s,c,Cr)}function Rv(s,c){return zr(c,function(_){return dl(s[_])})}function Cc(s,c){c=lu(c,s);for(var _=0,O=c.length;s!=null&&_<O;)s=s[bs(c[_++])];return _&&_==O?s:n}function bD(s,c,_){var O=c(s);return fn(s)?O:Mo(O,_(s))}function io(s){return s==null?s===n?Je:Ue:ti&&ti in Ne(s)?sK(s):bK(s)}function ab(s,c){return s>c}function P7(s,c){return s!=null&&be.call(s,c)}function E7(s,c){return s!=null&&c in Ne(s)}function D7(s,c,_){return s>=jr(c,_)&&s<fr(c,_)}function rb(s,c,_){for(var O=_?ds:el,j=s[0].length,se=s.length,Se=se,Le=Z(se),Ge=1/0,yt=[];Se--;){var bt=s[Se];Se&&c&&(bt=ta(bt,Sr(c))),Ge=jr(bt.length,Ge),Le[Se]=!_&&(c||j>=120&&bt.length>=120)?new kc(Se&&bt):n}bt=s[0];var Ct=-1,Rt=Le[0];e:for(;++Ct<j&&yt.length<Ge;){var Kt=bt[Ct],en=c?c(Kt):Kt;if(Kt=_||Kt!==0?Kt:0,!(Rt?hs(Rt,en):O(yt,en,_))){for(Se=se;--Se;){var vn=Le[Se];if(!(vn?hs(vn,en):O(s[Se],en,_)))continue e}Rt&&Rt.push(en),yt.push(Kt)}}return yt}function T7(s,c,_,O){return gs(s,function(j,se,Se){c(O,_(j),se,Se)}),O}function Dm(s,c,_){c=lu(c,s),s=sT(s,c);var O=s==null?s:s[bs(oi(c))];return O==null?n:cr(O,s,_)}function wD(s){return Na(s)&&io(s)==Me}function V7(s){return Na(s)&&io(s)==jt}function O7(s){return Na(s)&&io(s)==Fe}function Tm(s,c,_,O,j){return s===c?!0:s==null||c==null||!Na(s)&&!Na(c)?s!==s&&c!==c:I7(s,c,_,O,Tm,j)}function I7(s,c,_,O,j,se){var Se=fn(s),Le=fn(c),Ge=Se?Oe:Yr(s),yt=Le?Oe:Yr(c);Ge=Ge==Me?$e:Ge,yt=yt==Me?$e:yt;var bt=Ge==$e,Ct=yt==$e,Rt=Ge==yt;if(Rt&&cu(s)){if(!cu(c))return!1;Se=!0,bt=!1}if(Rt&&!bt)return se||(se=new Di),Se||zd(s)?eT(s,c,_,O,j,se):oK(s,c,Ge,_,O,j,se);if(!(_&b)){var Kt=bt&&be.call(s,"__wrapped__"),en=Ct&&be.call(c,"__wrapped__");if(Kt||en){var vn=Kt?s.value():s,tn=en?c.value():c;return se||(se=new Di),j(vn,tn,_,O,se)}}return Rt?(se||(se=new Di),iK(s,c,_,O,j,se)):!1}function A7(s){return Na(s)&&Yr(s)==X}function ob(s,c,_,O){var j=_.length,se=j,Se=!O;if(s==null)return!se;for(s=Ne(s);j--;){var Le=_[j];if(Se&&Le[2]?Le[1]!==s[Le[0]]:!(Le[0]in s))return!1}for(;++j<se;){Le=_[j];var Ge=Le[0],yt=s[Ge],bt=Le[1];if(Se&&Le[2]){if(yt===n&&!(Ge in s))return!1}else{var Ct=new Di;if(O)var Rt=O(yt,bt,Ge,s,c,Ct);if(!(Rt===n?Tm(bt,yt,b|C,O,Ct):Rt))return!1}}return!0}function kD(s){if(!Ea(s)||vK(s))return!1;var c=dl(s)?Yt:Cd;return c.test(Pc(s))}function M7(s){return Na(s)&&io(s)==nt}function N7(s){return Na(s)&&Yr(s)==st}function B7(s){return Na(s)&&tp(s.length)&&!!Hn[io(s)]}function SD(s){return typeof s=="function"?s:s==null?wo:typeof s=="object"?fn(s)?PD(s[0],s[1]):xD(s):zT(s)}function ib(s){if(!Im(s))return FY(s);var c=[];for(var _ in Ne(s))be.call(s,_)&&_!="constructor"&&c.push(_);return c}function $7(s){if(!Ea(s))return yK(s);var c=Im(s),_=[];for(var O in s)O=="constructor"&&(c||!be.call(s,O))||_.push(O);return _}function sb(s,c){return s<c}function CD(s,c){var _=-1,O=yo(s)?Z(s.length):[];return iu(s,function(j,se,Se){O[++_]=c(j,se,Se)}),O}function xD(s){var c=kb(s);return c.length==1&&c[0][2]?oT(c[0][0],c[0][1]):function(_){return _===s||ob(_,s,c)}}function PD(s,c){return Cb(s)&&rT(c)?oT(bs(s),c):function(_){var O=Mb(_,s);return O===n&&O===c?Nb(_,s):Tm(c,O,b|C)}}function Fv(s,c,_,O,j){s!==c&&tb(c,function(se,Se){if(j||(j=new Di),Ea(se))R7(s,c,Se,_,Fv,O,j);else{var Le=O?O(Pb(s,Se),se,Se+"",s,c,j):n;Le===n&&(Le=se),Zy(s,Se,Le)}},bo)}function R7(s,c,_,O,j,se,Se){var Le=Pb(s,_),Ge=Pb(c,_),yt=Se.get(Ge);if(yt){Zy(s,_,yt);return}var bt=se?se(Le,Ge,_+"",s,c,Se):n,Ct=bt===n;if(Ct){var Rt=fn(Ge),Kt=!Rt&&cu(Ge),en=!Rt&&!Kt&&zd(Ge);bt=Ge,Rt||Kt||en?fn(Le)?bt=Le:Ga(Le)?bt=go(Le):Kt?(Ct=!1,bt=RD(Ge,!0)):en?(Ct=!1,bt=FD(Ge,!0)):bt=[]:Mm(Ge)||Ec(Ge)?(bt=Le,Ec(Le)?bt=NT(Le):(!Ea(Le)||dl(Le))&&(bt=aT(Ge))):Ct=!1}Ct&&(Se.set(Ge,bt),j(bt,Ge,O,se,Se),Se.delete(Ge)),Zy(s,_,bt)}function ED(s,c){var _=s.length;if(_)return c+=c<0?_:0,cl(c,_)?s[c]:n}function DD(s,c,_){c.length?c=ta(c,function(se){return fn(se)?function(Se){return Cc(Se,se.length===1?se[0]:se)}:se}):c=[wo];var O=-1;c=ta(c,Sr(Zt()));var j=CD(s,function(se,Se,Le){var Ge=ta(c,function(yt){return yt(se)});return{criteria:Ge,index:++O,value:se}});return gc(j,function(se,Se){return X7(se,Se,_)})}function F7(s,c){return TD(s,c,function(_,O){return Nb(s,O)})}function TD(s,c,_){for(var O=-1,j=c.length,se={};++O<j;){var Se=c[O],Le=Cc(s,Se);_(Le,Se)&&Vm(se,lu(Se,s),Le)}return se}function L7(s){return function(c){return Cc(c,s)}}function lb(s,c,_,O){var j=O?_c:po,se=-1,Se=c.length,Le=s;for(s===c&&(c=go(c)),_&&(Le=ta(s,Sr(_)));++se<Se;)for(var Ge=0,yt=c[se],bt=_?_(yt):yt;(Ge=j(Le,bt,Ge,O))>-1;)Le!==s&&ua.call(Le,Ge,1),ua.call(s,Ge,1);return s}function VD(s,c){for(var _=s?c.length:0,O=_-1;_--;){var j=c[_];if(_==O||j!==se){var se=j;cl(j)?ua.call(s,j,1):fb(s,j)}}return s}function ub(s,c){return s+Iv(cD()*(c-s+1))}function q7(s,c,_,O){for(var j=-1,se=fr(Ov((c-s)/(_||1)),0),Se=Z(se);se--;)Se[O?se:++j]=s,s+=_;return Se}function cb(s,c){var _="";if(!s||c<1||c>Ee)return _;do c%2&&(_+=s),c=Iv(c/2),c&&(s+=s);while(c);return _}function gn(s,c){return Eb(iT(s,c,wo),s+"")}function U7(s){return mD(jd(s))}function H7(s,c){var _=jd(s);return Gv(_,Sc(c,0,_.length))}function Vm(s,c,_,O){if(!Ea(s))return s;c=lu(c,s);for(var j=-1,se=c.length,Se=se-1,Le=s;Le!=null&&++j<se;){var Ge=bs(c[j]),yt=_;if(Ge==="__proto__"||Ge==="constructor"||Ge==="prototype")return s;if(j!=Se){var bt=Le[Ge];yt=O?O(bt,Ge,Le):n,yt===n&&(yt=Ea(bt)?bt:cl(c[j+1])?[]:{})}Pm(Le,Ge,yt),Le=Le[Ge]}return s}var OD=Av?function(s,c){return Av.set(s,c),s}:wo,W7=bc?function(s,c){return bc(s,"toString",{configurable:!0,enumerable:!1,value:$b(c),writable:!0})}:wo;function z7(s){return Gv(jd(s))}function ri(s,c,_){var O=-1,j=s.length;c<0&&(c=-c>j?0:j+c),_=_>j?j:_,_<0&&(_+=j),j=c>_?0:_-c>>>0,c>>>=0;for(var se=Z(j);++O<j;)se[O]=s[O+c];return se}function j7(s,c){var _;return iu(s,function(O,j,se){return _=c(O,j,se),!_}),!!_}function Lv(s,c,_){var O=0,j=s==null?O:s.length;if(typeof c=="number"&&c===c&&j<=ue){for(;O<j;){var se=O+j>>>1,Se=s[se];Se!==null&&!$o(Se)&&(_?Se<=c:Se<c)?O=se+1:j=se}return j}return db(s,c,wo,_)}function db(s,c,_,O){var j=0,se=s==null?0:s.length;if(se===0)return 0;c=_(c);for(var Se=c!==c,Le=c===null,Ge=$o(c),yt=c===n;j<se;){var bt=Iv((j+se)/2),Ct=_(s[bt]),Rt=Ct!==n,Kt=Ct===null,en=Ct===Ct,vn=$o(Ct);if(Se)var tn=O||en;else yt?tn=en&&(O||Rt):Le?tn=en&&Rt&&(O||!Kt):Ge?tn=en&&Rt&&!Kt&&(O||!vn):Kt||vn?tn=!1:tn=O?Ct<=c:Ct<c;tn?j=bt+1:se=bt}return jr(se,Te)}function ID(s,c){for(var _=-1,O=s.length,j=0,se=[];++_<O;){var Se=s[_],Le=c?c(Se):Se;if(!_||!Ti(Le,Ge)){var Ge=Le;se[j++]=Se===0?0:Se}}return se}function AD(s){return typeof s=="number"?s:$o(s)?fe:+s}function Bo(s){if(typeof s=="string")return s;if(fn(s))return ta(s,Bo)+"";if($o(s))return dD?dD.call(s):"";var c=s+"";return c=="0"&&1/s==-pe?"-0":c}function su(s,c,_){var O=-1,j=el,se=s.length,Se=!0,Le=[],Ge=Le;if(_)Se=!1,j=ds;else if(se>=r){var yt=c?null:aK(s);if(yt)return ps(yt);Se=!1,j=hs,Ge=new kc}else Ge=c?[]:Le;e:for(;++O<se;){var bt=s[O],Ct=c?c(bt):bt;if(bt=_||bt!==0?bt:0,Se&&Ct===Ct){for(var Rt=Ge.length;Rt--;)if(Ge[Rt]===Ct)continue e;c&&Ge.push(Ct),Le.push(bt)}else j(Ge,Ct,_)||(Ge!==Le&&Ge.push(Ct),Le.push(bt))}return Le}function fb(s,c){return c=lu(c,s),s=sT(s,c),s==null||delete s[bs(oi(c))]}function MD(s,c,_,O){return Vm(s,c,_(Cc(s,c)),O)}function qv(s,c,_,O){for(var j=s.length,se=O?j:-1;(O?se--:++se<j)&&c(s[se],se,s););return _?ri(s,O?0:se,O?se+1:j):ri(s,O?se+1:0,O?j:se)}function ND(s,c){var _=s;return _ instanceof Pn&&(_=_.value()),fs(c,function(O,j){return j.func.apply(j.thisArg,Mo([O],j.args))},_)}function mb(s,c,_){var O=s.length;if(O<2)return O?su(s[0]):[];for(var j=-1,se=Z(O);++j<O;)for(var Se=s[j],Le=-1;++Le<O;)Le!=j&&(se[j]=Em(se[j]||Se,s[Le],c,_));return su(Ar(se,1),c,_)}function BD(s,c,_){for(var O=-1,j=s.length,se=c.length,Se={};++O<j;){var Le=O<se?c[O]:n;_(Se,s[O],Le)}return Se}function hb(s){return Ga(s)?s:[]}function vb(s){return typeof s=="function"?s:wo}function lu(s,c){return fn(s)?s:Cb(s,c)?[s]:dT(Qn(s))}var Y7=gn;function uu(s,c,_){var O=s.length;return _=_===n?O:_,!c&&_>=O?s:ri(s,c,_)}var $D=Vv||function(s){return Ka.clearTimeout(s)};function RD(s,c){if(c)return s.slice();var _=s.length,O=Dn?Dn(_):new s.constructor(_);return s.copy(O),O}function pb(s){var c=new s.constructor(s.byteLength);return new ln(c).set(new ln(s)),c}function K7(s,c){var _=c?pb(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.byteLength)}function G7(s){var c=new s.constructor(s.source,Us.exec(s));return c.lastIndex=s.lastIndex,c}function Q7(s){return xm?Ne(xm.call(s)):{}}function FD(s,c){var _=c?pb(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}function LD(s,c){if(s!==c){var _=s!==n,O=s===null,j=s===s,se=$o(s),Se=c!==n,Le=c===null,Ge=c===c,yt=$o(c);if(!Le&&!yt&&!se&&s>c||se&&Se&&Ge&&!Le&&!yt||O&&Se&&Ge||!_&&Ge||!j)return 1;if(!O&&!se&&!yt&&s<c||yt&&_&&j&&!O&&!se||Le&&_&&j||!Se&&j||!Ge)return-1}return 0}function X7(s,c,_){for(var O=-1,j=s.criteria,se=c.criteria,Se=j.length,Le=_.length;++O<Se;){var Ge=LD(j[O],se[O]);if(Ge){if(O>=Le)return Ge;var yt=_[O];return Ge*(yt=="desc"?-1:1)}}return s.index-c.index}function qD(s,c,_,O){for(var j=-1,se=s.length,Se=_.length,Le=-1,Ge=c.length,yt=fr(se-Se,0),bt=Z(Ge+yt),Ct=!O;++Le<Ge;)bt[Le]=c[Le];for(;++j<Se;)(Ct||j<se)&&(bt[_[j]]=s[j]);for(;yt--;)bt[Le++]=s[j++];return bt}function UD(s,c,_,O){for(var j=-1,se=s.length,Se=-1,Le=_.length,Ge=-1,yt=c.length,bt=fr(se-Le,0),Ct=Z(bt+yt),Rt=!O;++j<bt;)Ct[j]=s[j];for(var Kt=j;++Ge<yt;)Ct[Kt+Ge]=c[Ge];for(;++Se<Le;)(Rt||j<se)&&(Ct[Kt+_[Se]]=s[j++]);return Ct}function go(s,c){var _=-1,O=s.length;for(c||(c=Z(O));++_<O;)c[_]=s[_];return c}function ys(s,c,_,O){var j=!_;_||(_={});for(var se=-1,Se=c.length;++se<Se;){var Le=c[se],Ge=O?O(_[Le],s[Le],Le,_,s):n;Ge===n&&(Ge=s[Le]),j?sl(_,Le,Ge):Pm(_,Le,Ge)}return _}function J7(s,c){return ys(s,Sb(s),c)}function Z7(s,c){return ys(s,tT(s),c)}function Uv(s,c){return function(_,O){var j=fn(_)?tu:w7,se=c?c():{};return j(_,s,Zt(O,2),se)}}function Ud(s){return gn(function(c,_){var O=-1,j=_.length,se=j>1?_[j-1]:n,Se=j>2?_[2]:n;for(se=s.length>3&&typeof se=="function"?(j--,se):n,Se&&so(_[0],_[1],Se)&&(se=j<3?n:se,j=1),c=Ne(c);++O<j;){var Le=_[O];Le&&s(c,Le,O,se)}return c})}function HD(s,c){return function(_,O){if(_==null)return _;if(!yo(_))return s(_,O);for(var j=_.length,se=c?j:-1,Se=Ne(_);(c?se--:++se<j)&&O(Se[se],se,Se)!==!1;);return _}}function WD(s){return function(c,_,O){for(var j=-1,se=Ne(c),Se=O(c),Le=Se.length;Le--;){var Ge=Se[s?Le:++j];if(_(se[Ge],Ge,se)===!1)break}return c}}function eK(s,c,_){var O=c&w,j=Om(s);function se(){var Se=this&&this!==Ka&&this instanceof se?j:s;return Se.apply(O?_:this,arguments)}return se}function zD(s){return function(c){c=Qn(c);var _=Mn(c)?g(c):n,O=_?_[0]:c.charAt(0),j=_?uu(_,1).join(""):c.slice(1);return O[s]()+j}}function Hd(s){return function(c){return fs(HT(UT(c).replace(Ys,"")),s,"")}}function Om(s){return function(){var c=arguments;switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3]);case 5:return new s(c[0],c[1],c[2],c[3],c[4]);case 6:return new s(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new s(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var _=qd(s.prototype),O=s.apply(_,c);return Ea(O)?O:_}}function tK(s,c,_){var O=Om(s);function j(){for(var se=arguments.length,Se=Z(se),Le=se,Ge=Wd(j);Le--;)Se[Le]=arguments[Le];var yt=se<3&&Se[0]!==Ge&&Se[se-1]!==Ge?[]:dr(Se,Ge);if(se-=yt.length,se<_)return QD(s,c,Hv,j.placeholder,n,Se,yt,n,n,_-se);var bt=this&&this!==Ka&&this instanceof j?O:s;return cr(bt,this,Se)}return j}function jD(s){return function(c,_,O){var j=Ne(c);if(!yo(c)){var se=Zt(_,3);c=Cr(c),_=function(Le){return se(j[Le],Le,j)}}var Se=s(c,_,O);return Se>-1?j[se?c[Se]:Se]:n}}function YD(s){return ul(function(c){var _=c.length,O=_,j=ni.prototype.thru;for(s&&c.reverse();O--;){var se=c[O];if(typeof se!="function")throw new S(i);if(j&&!Se&&Yv(se)=="wrapper")var Se=new ni([],!0)}for(O=Se?O:_;++O<_;){se=c[O];var Le=Yv(se),Ge=Le=="wrapper"?wb(se):n;Ge&&xb(Ge[0])&&Ge[1]==(W|V|I|q)&&!Ge[4].length&&Ge[9]==1?Se=Se[Yv(Ge[0])].apply(Se,Ge[3]):Se=se.length==1&&xb(se)?Se[Le]():Se.thru(se)}return function(){var yt=arguments,bt=yt[0];if(Se&&yt.length==1&&fn(bt))return Se.plant(bt).value();for(var Ct=0,Rt=_?c[Ct].apply(this,yt):bt;++Ct<_;)Rt=c[Ct].call(this,Rt);return Rt}})}function Hv(s,c,_,O,j,se,Se,Le,Ge,yt){var bt=c&W,Ct=c&w,Rt=c&k,Kt=c&(V|M),en=c&z,vn=Rt?n:Om(s);function tn(){for(var kn=arguments.length,Tn=Z(kn),Ro=kn;Ro--;)Tn[Ro]=arguments[Ro];if(Kt)var lo=Wd(tn),Fo=yc(Tn,lo);if(O&&(Tn=qD(Tn,O,j,Kt)),se&&(Tn=UD(Tn,se,Se,Kt)),kn-=Fo,Kt&&kn<yt){var Qa=dr(Tn,lo);return QD(s,c,Hv,tn.placeholder,_,Tn,Qa,Le,Ge,yt-kn)}var Vi=Ct?_:this,ml=Rt?Vi[s]:s;return kn=Tn.length,Le?Tn=wK(Tn,Le):en&&kn>1&&Tn.reverse(),bt&&Ge<kn&&(Tn.length=Ge),this&&this!==Ka&&this instanceof tn&&(ml=vn||Om(ml)),ml.apply(Vi,Tn)}return tn}function KD(s,c){return function(_,O){return T7(_,s,c(O),{})}}function Wv(s,c){return function(_,O){var j;if(_===n&&O===n)return c;if(_!==n&&(j=_),O!==n){if(j===n)return O;typeof _=="string"||typeof O=="string"?(_=Bo(_),O=Bo(O)):(_=AD(_),O=AD(O)),j=s(_,O)}return j}}function _b(s){return ul(function(c){return c=ta(c,Sr(Zt())),gn(function(_){var O=this;return s(c,function(j){return cr(j,O,_)})})})}function zv(s,c){c=c===n?" ":Bo(c);var _=c.length;if(_<2)return _?cb(c,s):c;var O=cb(c,Ov(s/v(c)));return Mn(c)?uu(g(O),0,s).join(""):O.slice(0,s)}function nK(s,c,_,O){var j=c&w,se=Om(s);function Se(){for(var Le=-1,Ge=arguments.length,yt=-1,bt=O.length,Ct=Z(bt+Ge),Rt=this&&this!==Ka&&this instanceof Se?se:s;++yt<bt;)Ct[yt]=O[yt];for(;Ge--;)Ct[yt++]=arguments[++Le];return cr(Rt,j?_:this,Ct)}return Se}function GD(s){return function(c,_,O){return O&&typeof O!="number"&&so(c,_,O)&&(_=O=n),c=fl(c),_===n?(_=c,c=0):_=fl(_),O=O===n?c<_?1:-1:fl(O),q7(c,_,O,s)}}function jv(s){return function(c,_){return typeof c=="string"&&typeof _=="string"||(c=ii(c),_=ii(_)),s(c,_)}}function QD(s,c,_,O,j,se,Se,Le,Ge,yt){var bt=c&V,Ct=bt?Se:n,Rt=bt?n:Se,Kt=bt?se:n,en=bt?n:se;c|=bt?I:R,c&=~(bt?R:I),c&T||(c&=-4);var vn=[s,c,j,Kt,Ct,en,Rt,Le,Ge,yt],tn=_.apply(n,vn);return xb(s)&&lT(tn,vn),tn.placeholder=O,uT(tn,s,c)}function gb(s){var c=ze[s];return function(_,O){if(_=ii(_),O=O==null?0:jr(hn(O),292),O&&uD(_)){var j=(Qn(_)+"e").split("e"),se=c(j[0]+"e"+(+j[1]+O));return j=(Qn(se)+"e").split("e"),+(j[0]+"e"+(+j[1]-O))}return c(_)}}var aK=Fd&&1/ps(new Fd([,-0]))[1]==pe?function(s){return new Fd(s)}:Lb;function XD(s){return function(c){var _=Yr(c);return _==X?vs(c):_==st?_s(c):Md(c,s(c))}}function ll(s,c,_,O,j,se,Se,Le){var Ge=c&k;if(!Ge&&typeof s!="function")throw new S(i);var yt=O?O.length:0;if(yt||(c&=-97,O=j=n),Se=Se===n?Se:fr(hn(Se),0),Le=Le===n?Le:hn(Le),yt-=j?j.length:0,c&R){var bt=O,Ct=j;O=j=n}var Rt=Ge?n:wb(s),Kt=[s,c,_,O,j,bt,Ct,se,Se,Le];if(Rt&&gK(Kt,Rt),s=Kt[0],c=Kt[1],_=Kt[2],O=Kt[3],j=Kt[4],Le=Kt[9]=Kt[9]===n?Ge?0:s.length:fr(Kt[9]-yt,0),!Le&&c&(V|M)&&(c&=-25),!c||c==w)var en=eK(s,c,_);else c==V||c==M?en=tK(s,c,Le):(c==I||c==(w|I))&&!j.length?en=nK(s,c,_,O):en=Hv.apply(n,Kt);var vn=Rt?OD:lT;return uT(vn(en,Kt),s,c)}function JD(s,c,_,O){return s===n||Ti(s,G[_])&&!be.call(O,_)?c:s}function ZD(s,c,_,O,j,se){return Ea(s)&&Ea(c)&&(se.set(c,s),Fv(s,c,n,ZD,se),se.delete(c)),s}function rK(s){return Mm(s)?n:s}function eT(s,c,_,O,j,se){var Se=_&b,Le=s.length,Ge=c.length;if(Le!=Ge&&!(Se&&Ge>Le))return!1;var yt=se.get(s),bt=se.get(c);if(yt&&bt)return yt==c&&bt==s;var Ct=-1,Rt=!0,Kt=_&C?new kc:n;for(se.set(s,c),se.set(c,s);++Ct<Le;){var en=s[Ct],vn=c[Ct];if(O)var tn=Se?O(vn,en,Ct,c,s,se):O(en,vn,Ct,s,c,se);if(tn!==n){if(tn)continue;Rt=!1;break}if(Kt){if(!No(c,function(kn,Tn){if(!hs(Kt,Tn)&&(en===kn||j(en,kn,_,O,se)))return Kt.push(Tn)})){Rt=!1;break}}else if(!(en===vn||j(en,vn,_,O,se))){Rt=!1;break}}return se.delete(s),se.delete(c),Rt}function oK(s,c,_,O,j,se,Se){switch(_){case Dt:if(s.byteLength!=c.byteLength||s.byteOffset!=c.byteOffset)return!1;s=s.buffer,c=c.buffer;case jt:return!(s.byteLength!=c.byteLength||!se(new ln(s),new ln(c)));case Ae:case Fe:case F:return Ti(+s,+c);case _e:return s.name==c.name&&s.message==c.message;case nt:case ht:return s==c+"";case X:var Le=vs;case st:var Ge=O&b;if(Le||(Le=ps),s.size!=c.size&&!Ge)return!1;var yt=Se.get(s);if(yt)return yt==c;O|=C,Se.set(s,c);var bt=eT(Le(s),Le(c),O,j,se,Se);return Se.delete(s),bt;case Ve:if(xm)return xm.call(s)==xm.call(c)}return!1}function iK(s,c,_,O,j,se){var Se=_&b,Le=yb(s),Ge=Le.length,yt=yb(c),bt=yt.length;if(Ge!=bt&&!Se)return!1;for(var Ct=Ge;Ct--;){var Rt=Le[Ct];if(!(Se?Rt in c:be.call(c,Rt)))return!1}var Kt=se.get(s),en=se.get(c);if(Kt&&en)return Kt==c&&en==s;var vn=!0;se.set(s,c),se.set(c,s);for(var tn=Se;++Ct<Ge;){Rt=Le[Ct];var kn=s[Rt],Tn=c[Rt];if(O)var Ro=Se?O(Tn,kn,Rt,c,s,se):O(kn,Tn,Rt,s,c,se);if(!(Ro===n?kn===Tn||j(kn,Tn,_,O,se):Ro)){vn=!1;break}tn||(tn=Rt=="constructor")}if(vn&&!tn){var lo=s.constructor,Fo=c.constructor;lo!=Fo&&"constructor"in s&&"constructor"in c&&!(typeof lo=="function"&&lo instanceof lo&&typeof Fo=="function"&&Fo instanceof Fo)&&(vn=!1)}return se.delete(s),se.delete(c),vn}function ul(s){return Eb(iT(s,n,vT),s+"")}function yb(s){return bD(s,Cr,Sb)}function bb(s){return bD(s,bo,tT)}var wb=Av?function(s){return Av.get(s)}:Lb;function Yv(s){for(var c=s.name+"",_=Ld[c],O=be.call(Ld,c)?_.length:0;O--;){var j=_[O],se=j.func;if(se==null||se==s)return j.name}return c}function Wd(s){var c=be.call(oe,"placeholder")?oe:s;return c.placeholder}function Zt(){var s=oe.iteratee||Rb;return s=s===Rb?SD:s,arguments.length?s(arguments[0],arguments[1]):s}function Kv(s,c){var _=s.__data__;return hK(c)?_[typeof c=="string"?"string":"hash"]:_.map}function kb(s){for(var c=Cr(s),_=c.length;_--;){var O=c[_],j=s[O];c[_]=[O,j,rT(j)]}return c}function xc(s,c){var _=sn(s,c);return kD(_)?_:n}function sK(s){var c=be.call(s,ti),_=s[ti];try{s[ti]=n;var O=!0}catch{}var j=dt.call(s);return O&&(c?s[ti]=_:delete s[ti]),j}var Sb=Qy?function(s){return s==null?[]:(s=Ne(s),zr(Qy(s),function(c){return Ht.call(s,c)}))}:qb,tT=Qy?function(s){for(var c=[];s;)Mo(c,Sb(s)),s=_n(s);return c}:qb,Yr=io;(Xy&&Yr(new Xy(new ArrayBuffer(1)))!=Dt||km&&Yr(new km)!=X||Jy&&Yr(Jy.resolve())!=He||Fd&&Yr(new Fd)!=st||Sm&&Yr(new Sm)!=Pt)&&(Yr=function(s){var c=io(s),_=c==$e?s.constructor:n,O=_?Pc(_):"";if(O)switch(O){case HY:return Dt;case WY:return X;case zY:return He;case jY:return st;case YY:return Pt}return c});function lK(s,c,_){for(var O=-1,j=_.length;++O<j;){var se=_[O],Se=se.size;switch(se.type){case"drop":s+=Se;break;case"dropRight":c-=Se;break;case"take":c=jr(c,s+Se);break;case"takeRight":s=fr(s,c-Se);break}}return{start:s,end:c}}function uK(s){var c=s.match(jo);return c?c[1].split(Zi):[]}function nT(s,c,_){c=lu(c,s);for(var O=-1,j=c.length,se=!1;++O<j;){var Se=bs(c[O]);if(!(se=s!=null&&_(s,Se)))break;s=s[Se]}return se||++O!=j?se:(j=s==null?0:s.length,!!j&&tp(j)&&cl(Se,j)&&(fn(s)||Ec(s)))}function cK(s){var c=s.length,_=new s.constructor(c);return c&&typeof s[0]=="string"&&be.call(s,"index")&&(_.index=s.index,_.input=s.input),_}function aT(s){return typeof s.constructor=="function"&&!Im(s)?qd(_n(s)):{}}function dK(s,c,_){var O=s.constructor;switch(c){case jt:return pb(s);case Ae:case Fe:return new O(+s);case Dt:return K7(s,_);case zt:case mn:case $n:case Yn:case ra:case pa:case ja:case Nt:case fa:return FD(s,_);case X:return new O;case F:case ht:return new O(s);case nt:return G7(s);case st:return new O;case Ve:return Q7(s)}}function fK(s,c){var _=c.length;if(!_)return s;var O=_-1;return c[O]=(_>1?"& ":"")+c[O],c=c.join(_>2?", ":" "),s.replace(Ul,`{
/* [wrapped with `+c+`] */
`)}function mK(s){return fn(s)||Ec(s)||!!(Ma&&s&&s[Ma])}function cl(s,c){var _=typeof s;return c=c??Ee,!!c&&(_=="number"||_!="symbol"&&xd.test(s))&&s>-1&&s%1==0&&s<c}function so(s,c,_){if(!Ea(_))return!1;var O=typeof c;return(O=="number"?yo(_)&&cl(c,_.length):O=="string"&&c in _)?Ti(_[c],s):!1}function Cb(s,c){if(fn(s))return!1;var _=typeof s;return _=="number"||_=="symbol"||_=="boolean"||s==null||$o(s)?!0:to.test(s)||!Ya.test(s)||c!=null&&s in Ne(c)}function hK(s){var c=typeof s;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?s!=="__proto__":s===null}function xb(s){var c=Yv(s),_=oe[c];if(typeof _!="function"||!(c in Pn.prototype))return!1;if(s===_)return!0;var O=wb(_);return!!O&&s===O[0]}function vK(s){return!!Qe&&Qe in s}var pK=he?dl:Ub;function Im(s){var c=s&&s.constructor,_=typeof c=="function"&&c.prototype||G;return s===_}function rT(s){return s===s&&!Ea(s)}function oT(s,c){return function(_){return _==null?!1:_[s]===c&&(c!==n||s in Ne(_))}}function _K(s){var c=Zv(s,function(O){return _.size===f&&_.clear(),O}),_=c.cache;return c}function gK(s,c){var _=s[1],O=c[1],j=_|O,se=j<(w|k|W),Se=O==W&&_==V||O==W&&_==q&&s[7].length<=c[8]||O==(W|q)&&c[7].length<=c[8]&&_==V;if(!(se||Se))return s;O&w&&(s[2]=c[2],j|=_&w?0:T);var Le=c[3];if(Le){var Ge=s[3];s[3]=Ge?qD(Ge,Le,c[4]):Le,s[4]=Ge?dr(s[3],d):c[4]}return Le=c[5],Le&&(Ge=s[5],s[5]=Ge?UD(Ge,Le,c[6]):Le,s[6]=Ge?dr(s[5],d):c[6]),Le=c[7],Le&&(s[7]=Le),O&W&&(s[8]=s[8]==null?c[8]:jr(s[8],c[8])),s[9]==null&&(s[9]=c[9]),s[0]=c[0],s[1]=j,s}function yK(s){var c=[];if(s!=null)for(var _ in Ne(s))c.push(_);return c}function bK(s){return dt.call(s)}function iT(s,c,_){return c=fr(c===n?s.length-1:c,0),function(){for(var O=arguments,j=-1,se=fr(O.length-c,0),Se=Z(se);++j<se;)Se[j]=O[c+j];j=-1;for(var Le=Z(c+1);++j<c;)Le[j]=O[j];return Le[c]=_(Se),cr(s,this,Le)}}function sT(s,c){return c.length<2?s:Cc(s,ri(c,0,-1))}function wK(s,c){for(var _=s.length,O=jr(c.length,_),j=go(s);O--;){var se=c[O];s[O]=cl(se,_)?j[se]:n}return s}function Pb(s,c){if(!(c==="constructor"&&typeof s[c]=="function")&&c!="__proto__")return s[c]}var lT=cT(OD),Am=BY||function(s,c){return Ka.setTimeout(s,c)},Eb=cT(W7);function uT(s,c,_){var O=c+"";return Eb(s,fK(O,kK(uK(O),_)))}function cT(s){var c=0,_=0;return function(){var O=LY(),j=te-(O-_);if(_=O,j>0){if(++c>=ae)return arguments[0]}else c=0;return s.apply(n,arguments)}}function Gv(s,c){var _=-1,O=s.length,j=O-1;for(c=c===n?O:c;++_<c;){var se=ub(_,j),Se=s[se];s[se]=s[_],s[_]=Se}return s.length=c,s}var dT=_K(function(s){var c=[];return s.charCodeAt(0)===46&&c.push(""),s.replace(Ls,function(_,O,j,se){c.push(j?se.replace(es,"$1"):O||_)}),c});function bs(s){if(typeof s=="string"||$o(s))return s;var c=s+"";return c=="0"&&1/s==-pe?"-0":c}function Pc(s){if(s!=null){try{return ye.call(s)}catch{}try{return s+""}catch{}}return""}function kK(s,c){return kr(De,function(_){var O="_."+_[0];c&_[1]&&!el(s,O)&&s.push(O)}),s.sort()}function fT(s){if(s instanceof Pn)return s.clone();var c=new ni(s.__wrapped__,s.__chain__);return c.__actions__=go(s.__actions__),c.__index__=s.__index__,c.__values__=s.__values__,c}function SK(s,c,_){(_?so(s,c,_):c===n)?c=1:c=fr(hn(c),0);var O=s==null?0:s.length;if(!O||c<1)return[];for(var j=0,se=0,Se=Z(Ov(O/c));j<O;)Se[se++]=ri(s,j,j+=c);return Se}function CK(s){for(var c=-1,_=s==null?0:s.length,O=0,j=[];++c<_;){var se=s[c];se&&(j[O++]=se)}return j}function xK(){var s=arguments.length;if(!s)return[];for(var c=Z(s-1),_=arguments[0],O=s;O--;)c[O-1]=arguments[O];return Mo(fn(_)?go(_):[_],Ar(c,1))}var PK=gn(function(s,c){return Ga(s)?Em(s,Ar(c,1,Ga,!0)):[]}),EK=gn(function(s,c){var _=oi(c);return Ga(_)&&(_=n),Ga(s)?Em(s,Ar(c,1,Ga,!0),Zt(_,2)):[]}),DK=gn(function(s,c){var _=oi(c);return Ga(_)&&(_=n),Ga(s)?Em(s,Ar(c,1,Ga,!0),n,_):[]});function TK(s,c,_){var O=s==null?0:s.length;return O?(c=_||c===n?1:hn(c),ri(s,c<0?0:c,O)):[]}function VK(s,c,_){var O=s==null?0:s.length;return O?(c=_||c===n?1:hn(c),c=O-c,ri(s,0,c<0?0:c)):[]}function OK(s,c){return s&&s.length?qv(s,Zt(c,3),!0,!0):[]}function IK(s,c){return s&&s.length?qv(s,Zt(c,3),!0):[]}function AK(s,c,_,O){var j=s==null?0:s.length;return j?(_&&typeof _!="number"&&so(s,c,_)&&(_=0,O=j),x7(s,c,_,O)):[]}function mT(s,c,_){var O=s==null?0:s.length;if(!O)return-1;var j=_==null?0:hn(_);return j<0&&(j=fr(O+j,0)),tl(s,Zt(c,3),j)}function hT(s,c,_){var O=s==null?0:s.length;if(!O)return-1;var j=O-1;return _!==n&&(j=hn(_),j=_<0?fr(O+j,0):jr(j,O-1)),tl(s,Zt(c,3),j,!0)}function vT(s){var c=s==null?0:s.length;return c?Ar(s,1):[]}function MK(s){var c=s==null?0:s.length;return c?Ar(s,pe):[]}function NK(s,c){var _=s==null?0:s.length;return _?(c=c===n?1:hn(c),Ar(s,c)):[]}function BK(s){for(var c=-1,_=s==null?0:s.length,O={};++c<_;){var j=s[c];O[j[0]]=j[1]}return O}function pT(s){return s&&s.length?s[0]:n}function $K(s,c,_){var O=s==null?0:s.length;if(!O)return-1;var j=_==null?0:hn(_);return j<0&&(j=fr(O+j,0)),po(s,c,j)}function RK(s){var c=s==null?0:s.length;return c?ri(s,0,-1):[]}var FK=gn(function(s){var c=ta(s,hb);return c.length&&c[0]===s[0]?rb(c):[]}),LK=gn(function(s){var c=oi(s),_=ta(s,hb);return c===oi(_)?c=n:_.pop(),_.length&&_[0]===s[0]?rb(_,Zt(c,2)):[]}),qK=gn(function(s){var c=oi(s),_=ta(s,hb);return c=typeof c=="function"?c:n,c&&_.pop(),_.length&&_[0]===s[0]?rb(_,n,c):[]});function UK(s,c){return s==null?"":RY.call(s,c)}function oi(s){var c=s==null?0:s.length;return c?s[c-1]:n}function HK(s,c,_){var O=s==null?0:s.length;if(!O)return-1;var j=O;return _!==n&&(j=hn(_),j=j<0?fr(O+j,0):jr(j,O-1)),c===c?Rd(s,c,j):tl(s,nl,j,!0)}function WK(s,c){return s&&s.length?ED(s,hn(c)):n}var zK=gn(_T);function _T(s,c){return s&&s.length&&c&&c.length?lb(s,c):s}function jK(s,c,_){return s&&s.length&&c&&c.length?lb(s,c,Zt(_,2)):s}function YK(s,c,_){return s&&s.length&&c&&c.length?lb(s,c,n,_):s}var KK=ul(function(s,c){var _=s==null?0:s.length,O=eb(s,c);return VD(s,ta(c,function(j){return cl(j,_)?+j:j}).sort(LD)),O});function GK(s,c){var _=[];if(!(s&&s.length))return _;var O=-1,j=[],se=s.length;for(c=Zt(c,3);++O<se;){var Se=s[O];c(Se,O,s)&&(_.push(Se),j.push(O))}return VD(s,j),_}function Db(s){return s==null?s:UY.call(s)}function QK(s,c,_){var O=s==null?0:s.length;return O?(_&&typeof _!="number"&&so(s,c,_)?(c=0,_=O):(c=c==null?0:hn(c),_=_===n?O:hn(_)),ri(s,c,_)):[]}function XK(s,c){return Lv(s,c)}function JK(s,c,_){return db(s,c,Zt(_,2))}function ZK(s,c){var _=s==null?0:s.length;if(_){var O=Lv(s,c);if(O<_&&Ti(s[O],c))return O}return-1}function e9(s,c){return Lv(s,c,!0)}function t9(s,c,_){return db(s,c,Zt(_,2),!0)}function n9(s,c){var _=s==null?0:s.length;if(_){var O=Lv(s,c,!0)-1;if(Ti(s[O],c))return O}return-1}function a9(s){return s&&s.length?ID(s):[]}function r9(s,c){return s&&s.length?ID(s,Zt(c,2)):[]}function o9(s){var c=s==null?0:s.length;return c?ri(s,1,c):[]}function i9(s,c,_){return s&&s.length?(c=_||c===n?1:hn(c),ri(s,0,c<0?0:c)):[]}function s9(s,c,_){var O=s==null?0:s.length;return O?(c=_||c===n?1:hn(c),c=O-c,ri(s,c<0?0:c,O)):[]}function l9(s,c){return s&&s.length?qv(s,Zt(c,3),!1,!0):[]}function u9(s,c){return s&&s.length?qv(s,Zt(c,3)):[]}var c9=gn(function(s){return su(Ar(s,1,Ga,!0))}),d9=gn(function(s){var c=oi(s);return Ga(c)&&(c=n),su(Ar(s,1,Ga,!0),Zt(c,2))}),f9=gn(function(s){var c=oi(s);return c=typeof c=="function"?c:n,su(Ar(s,1,Ga,!0),n,c)});function m9(s){return s&&s.length?su(s):[]}function h9(s,c){return s&&s.length?su(s,Zt(c,2)):[]}function v9(s,c){return c=typeof c=="function"?c:n,s&&s.length?su(s,n,c):[]}function Tb(s){if(!(s&&s.length))return[];var c=0;return s=zr(s,function(_){if(Ga(_))return c=fr(_.length,c),!0}),ru(c,function(_){return ta(s,al(_))})}function gT(s,c){if(!(s&&s.length))return[];var _=Tb(s);return c==null?_:ta(_,function(O){return cr(c,n,O)})}var p9=gn(function(s,c){return Ga(s)?Em(s,c):[]}),_9=gn(function(s){return mb(zr(s,Ga))}),g9=gn(function(s){var c=oi(s);return Ga(c)&&(c=n),mb(zr(s,Ga),Zt(c,2))}),y9=gn(function(s){var c=oi(s);return c=typeof c=="function"?c:n,mb(zr(s,Ga),n,c)}),b9=gn(Tb);function w9(s,c){return BD(s||[],c||[],Pm)}function k9(s,c){return BD(s||[],c||[],Vm)}var S9=gn(function(s){var c=s.length,_=c>1?s[c-1]:n;return _=typeof _=="function"?(s.pop(),_):n,gT(s,_)});function yT(s){var c=oe(s);return c.__chain__=!0,c}function C9(s,c){return c(s),s}function Qv(s,c){return c(s)}var x9=ul(function(s){var c=s.length,_=c?s[0]:0,O=this.__wrapped__,j=function(se){return eb(se,s)};return c>1||this.__actions__.length||!(O instanceof Pn)||!cl(_)?this.thru(j):(O=O.slice(_,+_+(c?1:0)),O.__actions__.push({func:Qv,args:[j],thisArg:n}),new ni(O,this.__chain__).thru(function(se){return c&&!se.length&&se.push(n),se}))});function P9(){return yT(this)}function E9(){return new ni(this.value(),this.__chain__)}function D9(){this.__values__===n&&(this.__values__=AT(this.value()));var s=this.__index__>=this.__values__.length,c=s?n:this.__values__[this.__index__++];return{done:s,value:c}}function T9(){return this}function V9(s){for(var c,_=this;_ instanceof Nv;){var O=fT(_);O.__index__=0,O.__values__=n,c?j.__wrapped__=O:c=O;var j=O;_=_.__wrapped__}return j.__wrapped__=s,c}function O9(){var s=this.__wrapped__;if(s instanceof Pn){var c=s;return this.__actions__.length&&(c=new Pn(this)),c=c.reverse(),c.__actions__.push({func:Qv,args:[Db],thisArg:n}),new ni(c,this.__chain__)}return this.thru(Db)}function I9(){return ND(this.__wrapped__,this.__actions__)}var A9=Uv(function(s,c,_){be.call(s,_)?++s[_]:sl(s,_,1)});function M9(s,c,_){var O=fn(s)?cs:C7;return _&&so(s,c,_)&&(c=n),O(s,Zt(c,3))}function N9(s,c){var _=fn(s)?zr:gD;return _(s,Zt(c,3))}var B9=jD(mT),$9=jD(hT);function R9(s,c){return Ar(Xv(s,c),1)}function F9(s,c){return Ar(Xv(s,c),pe)}function L9(s,c,_){return _=_===n?1:hn(_),Ar(Xv(s,c),_)}function bT(s,c){var _=fn(s)?kr:iu;return _(s,Zt(c,3))}function wT(s,c){var _=fn(s)?nr:_D;return _(s,Zt(c,3))}var q9=Uv(function(s,c,_){be.call(s,_)?s[_].push(c):sl(s,_,[c])});function U9(s,c,_,O){s=yo(s)?s:jd(s),_=_&&!O?hn(_):0;var j=s.length;return _<0&&(_=fr(j+_,0)),np(s)?_<=j&&s.indexOf(c,_)>-1:!!j&&po(s,c,_)>-1}var H9=gn(function(s,c,_){var O=-1,j=typeof c=="function",se=yo(s)?Z(s.length):[];return iu(s,function(Se){se[++O]=j?cr(c,Se,_):Dm(Se,c,_)}),se}),W9=Uv(function(s,c,_){sl(s,_,c)});function Xv(s,c){var _=fn(s)?ta:CD;return _(s,Zt(c,3))}function z9(s,c,_,O){return s==null?[]:(fn(c)||(c=c==null?[]:[c]),_=O?n:_,fn(_)||(_=_==null?[]:[_]),DD(s,c,_))}var j9=Uv(function(s,c,_){s[_?0:1].push(c)},function(){return[[],[]]});function Y9(s,c,_){var O=fn(s)?fs:Ad,j=arguments.length<3;return O(s,Zt(c,4),_,j,iu)}function K9(s,c,_){var O=fn(s)?hc:Ad,j=arguments.length<3;return O(s,Zt(c,4),_,j,_D)}function G9(s,c){var _=fn(s)?zr:gD;return _(s,ep(Zt(c,3)))}function Q9(s){var c=fn(s)?mD:U7;return c(s)}function X9(s,c,_){(_?so(s,c,_):c===n)?c=1:c=hn(c);var O=fn(s)?y7:H7;return O(s,c)}function J9(s){var c=fn(s)?b7:z7;return c(s)}function Z9(s){if(s==null)return 0;if(yo(s))return np(s)?v(s):s.length;var c=Yr(s);return c==X||c==st?s.size:ib(s).length}function eG(s,c,_){var O=fn(s)?No:j7;return _&&so(s,c,_)&&(c=n),O(s,Zt(c,3))}var tG=gn(function(s,c){if(s==null)return[];var _=c.length;return _>1&&so(s,c[0],c[1])?c=[]:_>2&&so(c[0],c[1],c[2])&&(c=[c[0]]),DD(s,Ar(c,1),[])}),Jv=NY||function(){return Ka.Date.now()};function nG(s,c){if(typeof c!="function")throw new S(i);return s=hn(s),function(){if(--s<1)return c.apply(this,arguments)}}function kT(s,c,_){return c=_?n:c,c=s&&c==null?s.length:c,ll(s,W,n,n,n,n,c)}function ST(s,c){var _;if(typeof c!="function")throw new S(i);return s=hn(s),function(){return--s>0&&(_=c.apply(this,arguments)),s<=1&&(c=n),_}}var Vb=gn(function(s,c,_){var O=w;if(_.length){var j=dr(_,Wd(Vb));O|=I}return ll(s,O,c,_,j)}),CT=gn(function(s,c,_){var O=w|k;if(_.length){var j=dr(_,Wd(CT));O|=I}return ll(c,O,s,_,j)});function xT(s,c,_){c=_?n:c;var O=ll(s,V,n,n,n,n,n,c);return O.placeholder=xT.placeholder,O}function PT(s,c,_){c=_?n:c;var O=ll(s,M,n,n,n,n,n,c);return O.placeholder=PT.placeholder,O}function ET(s,c,_){var O,j,se,Se,Le,Ge,yt=0,bt=!1,Ct=!1,Rt=!0;if(typeof s!="function")throw new S(i);c=ii(c)||0,Ea(_)&&(bt=!!_.leading,Ct="maxWait"in _,se=Ct?fr(ii(_.maxWait)||0,c):se,Rt="trailing"in _?!!_.trailing:Rt);function Kt(Qa){var Vi=O,ml=j;return O=j=n,yt=Qa,Se=s.apply(ml,Vi),Se}function en(Qa){return yt=Qa,Le=Am(kn,c),bt?Kt(Qa):Se}function vn(Qa){var Vi=Qa-Ge,ml=Qa-yt,jT=c-Vi;return Ct?jr(jT,se-ml):jT}function tn(Qa){var Vi=Qa-Ge,ml=Qa-yt;return Ge===n||Vi>=c||Vi<0||Ct&&ml>=se}function kn(){var Qa=Jv();if(tn(Qa))return Tn(Qa);Le=Am(kn,vn(Qa))}function Tn(Qa){return Le=n,Rt&&O?Kt(Qa):(O=j=n,Se)}function Ro(){Le!==n&&$D(Le),yt=0,O=Ge=j=Le=n}function lo(){return Le===n?Se:Tn(Jv())}function Fo(){var Qa=Jv(),Vi=tn(Qa);if(O=arguments,j=this,Ge=Qa,Vi){if(Le===n)return en(Ge);if(Ct)return $D(Le),Le=Am(kn,c),Kt(Ge)}return Le===n&&(Le=Am(kn,c)),Se}return Fo.cancel=Ro,Fo.flush=lo,Fo}var aG=gn(function(s,c){return pD(s,1,c)}),rG=gn(function(s,c,_){return pD(s,ii(c)||0,_)});function oG(s){return ll(s,z)}function Zv(s,c){if(typeof s!="function"||c!=null&&typeof c!="function")throw new S(i);var _=function(){var O=arguments,j=c?c.apply(this,O):O[0],se=_.cache;if(se.has(j))return se.get(j);var Se=s.apply(this,O);return _.cache=se.set(j,Se)||se,Se};return _.cache=new(Zv.Cache||il),_}Zv.Cache=il;function ep(s){if(typeof s!="function")throw new S(i);return function(){var c=arguments;switch(c.length){case 0:return!s.call(this);case 1:return!s.call(this,c[0]);case 2:return!s.call(this,c[0],c[1]);case 3:return!s.call(this,c[0],c[1],c[2])}return!s.apply(this,c)}}function iG(s){return ST(2,s)}var sG=Y7(function(s,c){c=c.length==1&&fn(c[0])?ta(c[0],Sr(Zt())):ta(Ar(c,1),Sr(Zt()));var _=c.length;return gn(function(O){for(var j=-1,se=jr(O.length,_);++j<se;)O[j]=c[j].call(this,O[j]);return cr(s,this,O)})}),Ob=gn(function(s,c){var _=dr(c,Wd(Ob));return ll(s,I,n,c,_)}),DT=gn(function(s,c){var _=dr(c,Wd(DT));return ll(s,R,n,c,_)}),lG=ul(function(s,c){return ll(s,q,n,n,n,c)});function uG(s,c){if(typeof s!="function")throw new S(i);return c=c===n?c:hn(c),gn(s,c)}function cG(s,c){if(typeof s!="function")throw new S(i);return c=c==null?0:fr(hn(c),0),gn(function(_){var O=_[c],j=uu(_,0,c);return O&&Mo(j,O),cr(s,this,j)})}function dG(s,c,_){var O=!0,j=!0;if(typeof s!="function")throw new S(i);return Ea(_)&&(O="leading"in _?!!_.leading:O,j="trailing"in _?!!_.trailing:j),ET(s,c,{leading:O,maxWait:c,trailing:j})}function fG(s){return kT(s,1)}function mG(s,c){return Ob(vb(c),s)}function hG(){if(!arguments.length)return[];var s=arguments[0];return fn(s)?s:[s]}function vG(s){return ai(s,y)}function pG(s,c){return c=typeof c=="function"?c:n,ai(s,y,c)}function _G(s){return ai(s,m|y)}function gG(s,c){return c=typeof c=="function"?c:n,ai(s,m|y,c)}function yG(s,c){return c==null||vD(s,c,Cr(c))}function Ti(s,c){return s===c||s!==s&&c!==c}var bG=jv(ab),wG=jv(function(s,c){return s>=c}),Ec=wD(function(){return arguments}())?wD:function(s){return Na(s)&&be.call(s,"callee")&&!Ht.call(s,"callee")},fn=Z.isArray,kG=Xs?Sr(Xs):V7;function yo(s){return s!=null&&tp(s.length)&&!dl(s)}function Ga(s){return Na(s)&&yo(s)}function SG(s){return s===!0||s===!1||Na(s)&&io(s)==Ae}var cu=$Y||Ub,CG=Js?Sr(Js):O7;function xG(s){return Na(s)&&s.nodeType===1&&!Mm(s)}function PG(s){if(s==null)return!0;if(yo(s)&&(fn(s)||typeof s=="string"||typeof s.splice=="function"||cu(s)||zd(s)||Ec(s)))return!s.length;var c=Yr(s);if(c==X||c==st)return!s.size;if(Im(s))return!ib(s).length;for(var _ in s)if(be.call(s,_))return!1;return!0}function EG(s,c){return Tm(s,c)}function DG(s,c,_){_=typeof _=="function"?_:n;var O=_?_(s,c):n;return O===n?Tm(s,c,n,_):!!O}function Ib(s){if(!Na(s))return!1;var c=io(s);return c==_e||c==it||typeof s.message=="string"&&typeof s.name=="string"&&!Mm(s)}function TG(s){return typeof s=="number"&&uD(s)}function dl(s){if(!Ea(s))return!1;var c=io(s);return c==mt||c==H||c==B||c==ot}function TT(s){return typeof s=="number"&&s==hn(s)}function tp(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Ee}function Ea(s){var c=typeof s;return s!=null&&(c=="object"||c=="function")}function Na(s){return s!=null&&typeof s=="object"}var VT=mc?Sr(mc):A7;function VG(s,c){return s===c||ob(s,c,kb(c))}function OG(s,c,_){return _=typeof _=="function"?_:n,ob(s,c,kb(c),_)}function IG(s){return OT(s)&&s!=+s}function AG(s){if(pK(s))throw new we(o);return kD(s)}function MG(s){return s===null}function NG(s){return s==null}function OT(s){return typeof s=="number"||Na(s)&&io(s)==F}function Mm(s){if(!Na(s)||io(s)!=$e)return!1;var c=_n(s);if(c===null)return!0;var _=be.call(c,"constructor")&&c.constructor;return typeof _=="function"&&_ instanceof _&&ye.call(_)==kt}var Ab=Zl?Sr(Zl):M7;function BG(s){return TT(s)&&s>=-Ee&&s<=Ee}var IT=Zs?Sr(Zs):N7;function np(s){return typeof s=="string"||!fn(s)&&Na(s)&&io(s)==ht}function $o(s){return typeof s=="symbol"||Na(s)&&io(s)==Ve}var zd=eu?Sr(eu):B7;function $G(s){return s===n}function RG(s){return Na(s)&&Yr(s)==Pt}function FG(s){return Na(s)&&io(s)==Bt}var LG=jv(sb),qG=jv(function(s,c){return s<=c});function AT(s){if(!s)return[];if(yo(s))return np(s)?g(s):go(s);if(ei&&s[ei])return $d(s[ei]());var c=Yr(s),_=c==X?vs:c==st?ps:jd;return _(s)}function fl(s){if(!s)return s===0?s:0;if(s=ii(s),s===pe||s===-pe){var c=s<0?-1:1;return c*me}return s===s?s:0}function hn(s){var c=fl(s),_=c%1;return c===c?_?c-_:c:0}function MT(s){return s?Sc(hn(s),0,le):0}function ii(s){if(typeof s=="number")return s;if($o(s))return fe;if(Ea(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=Ea(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=Nd(s);var _=no.test(s);return _||ao.test(s)?Ql(s.slice(2),_?2:8):_m.test(s)?fe:+s}function NT(s){return ys(s,bo(s))}function UG(s){return s?Sc(hn(s),-Ee,Ee):s===0?s:0}function Qn(s){return s==null?"":Bo(s)}var HG=Ud(function(s,c){if(Im(c)||yo(c)){ys(c,Cr(c),s);return}for(var _ in c)be.call(c,_)&&Pm(s,_,c[_])}),BT=Ud(function(s,c){ys(c,bo(c),s)}),ap=Ud(function(s,c,_,O){ys(c,bo(c),s,O)}),WG=Ud(function(s,c,_,O){ys(c,Cr(c),s,O)}),zG=ul(eb);function jG(s,c){var _=qd(s);return c==null?_:hD(_,c)}var YG=gn(function(s,c){s=Ne(s);var _=-1,O=c.length,j=O>2?c[2]:n;for(j&&so(c[0],c[1],j)&&(O=1);++_<O;)for(var se=c[_],Se=bo(se),Le=-1,Ge=Se.length;++Le<Ge;){var yt=Se[Le],bt=s[yt];(bt===n||Ti(bt,G[yt])&&!be.call(s,yt))&&(s[yt]=se[yt])}return s}),KG=gn(function(s){return s.push(n,ZD),cr($T,n,s)});function GG(s,c){return ms(s,Zt(c,3),gs)}function QG(s,c){return ms(s,Zt(c,3),nb)}function XG(s,c){return s==null?s:tb(s,Zt(c,3),bo)}function JG(s,c){return s==null?s:yD(s,Zt(c,3),bo)}function ZG(s,c){return s&&gs(s,Zt(c,3))}function eQ(s,c){return s&&nb(s,Zt(c,3))}function tQ(s){return s==null?[]:Rv(s,Cr(s))}function nQ(s){return s==null?[]:Rv(s,bo(s))}function Mb(s,c,_){var O=s==null?n:Cc(s,c);return O===n?_:O}function aQ(s,c){return s!=null&&nT(s,c,P7)}function Nb(s,c){return s!=null&&nT(s,c,E7)}var rQ=KD(function(s,c,_){c!=null&&typeof c.toString!="function"&&(c=dt.call(c)),s[c]=_},$b(wo)),oQ=KD(function(s,c,_){c!=null&&typeof c.toString!="function"&&(c=dt.call(c)),be.call(s,c)?s[c].push(_):s[c]=[_]},Zt),iQ=gn(Dm);function Cr(s){return yo(s)?fD(s):ib(s)}function bo(s){return yo(s)?fD(s,!0):$7(s)}function sQ(s,c){var _={};return c=Zt(c,3),gs(s,function(O,j,se){sl(_,c(O,j,se),O)}),_}function lQ(s,c){var _={};return c=Zt(c,3),gs(s,function(O,j,se){sl(_,j,c(O,j,se))}),_}var uQ=Ud(function(s,c,_){Fv(s,c,_)}),$T=Ud(function(s,c,_,O){Fv(s,c,_,O)}),cQ=ul(function(s,c){var _={};if(s==null)return _;var O=!1;c=ta(c,function(se){return se=lu(se,s),O||(O=se.length>1),se}),ys(s,bb(s),_),O&&(_=ai(_,m|p|y,rK));for(var j=c.length;j--;)fb(_,c[j]);return _});function dQ(s,c){return RT(s,ep(Zt(c)))}var fQ=ul(function(s,c){return s==null?{}:F7(s,c)});function RT(s,c){if(s==null)return{};var _=ta(bb(s),function(O){return[O]});return c=Zt(c),TD(s,_,function(O,j){return c(O,j[0])})}function mQ(s,c,_){c=lu(c,s);var O=-1,j=c.length;for(j||(j=1,s=n);++O<j;){var se=s==null?n:s[bs(c[O])];se===n&&(O=j,se=_),s=dl(se)?se.call(s):se}return s}function hQ(s,c,_){return s==null?s:Vm(s,c,_)}function vQ(s,c,_,O){return O=typeof O=="function"?O:n,s==null?s:Vm(s,c,_,O)}var FT=XD(Cr),LT=XD(bo);function pQ(s,c,_){var O=fn(s),j=O||cu(s)||zd(s);if(c=Zt(c,4),_==null){var se=s&&s.constructor;j?_=O?new se:[]:Ea(s)?_=dl(se)?qd(_n(s)):{}:_={}}return(j?kr:gs)(s,function(Se,Le,Ge){return c(_,Se,Le,Ge)}),_}function _Q(s,c){return s==null?!0:fb(s,c)}function gQ(s,c,_){return s==null?s:MD(s,c,vb(_))}function yQ(s,c,_,O){return O=typeof O=="function"?O:n,s==null?s:MD(s,c,vb(_),O)}function jd(s){return s==null?[]:rl(s,Cr(s))}function bQ(s){return s==null?[]:rl(s,bo(s))}function wQ(s,c,_){return _===n&&(_=c,c=n),_!==n&&(_=ii(_),_=_===_?_:0),c!==n&&(c=ii(c),c=c===c?c:0),Sc(ii(s),c,_)}function kQ(s,c,_){return c=fl(c),_===n?(_=c,c=0):_=fl(_),s=ii(s),D7(s,c,_)}function SQ(s,c,_){if(_&&typeof _!="boolean"&&so(s,c,_)&&(c=_=n),_===n&&(typeof c=="boolean"?(_=c,c=n):typeof s=="boolean"&&(_=s,s=n)),s===n&&c===n?(s=0,c=1):(s=fl(s),c===n?(c=s,s=0):c=fl(c)),s>c){var O=s;s=c,c=O}if(_||s%1||c%1){var j=cD();return jr(s+j*(c-s+us("1e-"+((j+"").length-1))),c)}return ub(s,c)}var CQ=Hd(function(s,c,_){return c=c.toLowerCase(),s+(_?qT(c):c)});function qT(s){return Bb(Qn(s).toLowerCase())}function UT(s){return s=Qn(s),s&&s.replace(ts,Bd).replace(Xo,"")}function xQ(s,c,_){s=Qn(s),c=Bo(c);var O=s.length;_=_===n?O:Sc(hn(_),0,O);var j=_;return _-=c.length,_>=0&&s.slice(_,j)==c}function PQ(s){return s=Qn(s),s&&Ft.test(s)?s.replace(pt,Gn):s}function EQ(s){return s=Qn(s),s&&ea.test(s)?s.replace(Pi,"\\$&"):s}var DQ=Hd(function(s,c,_){return s+(_?"-":"")+c.toLowerCase()}),TQ=Hd(function(s,c,_){return s+(_?" ":"")+c.toLowerCase()}),VQ=zD("toLowerCase");function OQ(s,c,_){s=Qn(s),c=hn(c);var O=c?v(s):0;if(!c||O>=c)return s;var j=(c-O)/2;return zv(Iv(j),_)+s+zv(Ov(j),_)}function IQ(s,c,_){s=Qn(s),c=hn(c);var O=c?v(s):0;return c&&O<c?s+zv(c-O,_):s}function AQ(s,c,_){s=Qn(s),c=hn(c);var O=c?v(s):0;return c&&O<c?zv(c-O,_)+s:s}function MQ(s,c,_){return _||c==null?c=0:c&&(c=+c),qY(Qn(s).replace(_a,""),c||0)}function NQ(s,c,_){return(_?so(s,c,_):c===n)?c=1:c=hn(c),cb(Qn(s),c)}function BQ(){var s=arguments,c=Qn(s[0]);return s.length<3?c:c.replace(s[1],s[2])}var $Q=Hd(function(s,c,_){return s+(_?"_":"")+c.toLowerCase()});function RQ(s,c,_){return _&&typeof _!="number"&&so(s,c,_)&&(c=_=n),_=_===n?le:_>>>0,_?(s=Qn(s),s&&(typeof c=="string"||c!=null&&!Ab(c))&&(c=Bo(c),!c&&Mn(s))?uu(g(s),0,_):s.split(c,_)):[]}var FQ=Hd(function(s,c,_){return s+(_?" ":"")+Bb(c)});function LQ(s,c,_){return s=Qn(s),_=_==null?0:Sc(hn(_),0,s.length),c=Bo(c),s.slice(_,_+c.length)==c}function qQ(s,c,_){var O=oe.templateSettings;_&&so(s,c,_)&&(c=n),s=Qn(s),c=ap({},c,O,JD);var j=ap({},c.imports,O.imports,JD),se=Cr(j),Se=rl(j,se),Le,Ge,yt=0,bt=c.interpolate||Rn,Ct="__p += '",Rt=et((c.escape||Rn).source+"|"+bt.source+"|"+(bt===Hr?Wr:Rn).source+"|"+(c.evaluate||Rn).source+"|$","g"),Kt="//# sourceURL="+(be.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gs+"]")+`
`;s.replace(Rt,function(tn,kn,Tn,Ro,lo,Fo){return Tn||(Tn=Ro),Ct+=s.slice(yt,Fo).replace(Ko,Or),kn&&(Le=!0,Ct+=`' +
__e(`+kn+`) +
'`),lo&&(Ge=!0,Ct+=`';
`+lo+`;
__p += '`),Tn&&(Ct+=`' +
((__t = (`+Tn+`)) == null ? '' : __t) +
'`),yt=Fo+tn.length,tn}),Ct+=`';
`;var en=be.call(c,"variable")&&c.variable;if(!en)Ct=`with (obj) {
`+Ct+`
}
`;else if(Yo.test(en))throw new we(l);Ct=(Ge?Ct.replace(Xe,""):Ct).replace(wt,"$1").replace(ct,"$1;"),Ct="function("+(en||"obj")+`) {
`+(en?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(Ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ct+`return __p
}`;var vn=WT(function(){return Be(se,Kt+"return "+Ct).apply(n,Se)});if(vn.source=Ct,Ib(vn))throw vn;return vn}function UQ(s){return Qn(s).toLowerCase()}function HQ(s){return Qn(s).toUpperCase()}function WQ(s,c,_){if(s=Qn(s),s&&(_||c===n))return Nd(s);if(!s||!(c=Bo(c)))return s;var O=g(s),j=g(c),se=la(O,j),Se=_o(O,j)+1;return uu(O,se,Se).join("")}function zQ(s,c,_){if(s=Qn(s),s&&(_||c===n))return s.slice(0,D(s)+1);if(!s||!(c=Bo(c)))return s;var O=g(s),j=_o(O,g(c))+1;return uu(O,0,j).join("")}function jQ(s,c,_){if(s=Qn(s),s&&(_||c===n))return s.replace(_a,"");if(!s||!(c=Bo(c)))return s;var O=g(s),j=la(O,g(c));return uu(O,j).join("")}function YQ(s,c){var _=Y,O=K;if(Ea(c)){var j="separator"in c?c.separator:j;_="length"in c?hn(c.length):_,O="omission"in c?Bo(c.omission):O}s=Qn(s);var se=s.length;if(Mn(s)){var Se=g(s);se=Se.length}if(_>=se)return s;var Le=_-v(O);if(Le<1)return O;var Ge=Se?uu(Se,0,Le).join(""):s.slice(0,Le);if(j===n)return Ge+O;if(Se&&(Le+=Ge.length-Le),Ab(j)){if(s.slice(Le).search(j)){var yt,bt=Ge;for(j.global||(j=et(j.source,Qn(Us.exec(j))+"g")),j.lastIndex=0;yt=j.exec(bt);)var Ct=yt.index;Ge=Ge.slice(0,Ct===n?Le:Ct)}}else if(s.indexOf(Bo(j),Le)!=Le){var Rt=Ge.lastIndexOf(j);Rt>-1&&(Ge=Ge.slice(0,Rt))}return Ge+O}function KQ(s){return s=Qn(s),s&&Ot.test(s)?s.replace($t,A):s}var GQ=Hd(function(s,c,_){return s+(_?" ":"")+c.toUpperCase()}),Bb=zD("toUpperCase");function HT(s,c,_){return s=Qn(s),c=_?n:c,c===n?Ir(s)?ve(s):nu(s):s.match(c)||[]}var WT=gn(function(s,c){try{return cr(s,n,c)}catch(_){return Ib(_)?_:new we(_)}}),QQ=ul(function(s,c){return kr(c,function(_){_=bs(_),sl(s,_,Vb(s[_],s))}),s});function XQ(s){var c=s==null?0:s.length,_=Zt();return s=c?ta(s,function(O){if(typeof O[1]!="function")throw new S(i);return[_(O[0]),O[1]]}):[],gn(function(O){for(var j=-1;++j<c;){var se=s[j];if(cr(se[0],this,O))return cr(se[1],this,O)}})}function JQ(s){return S7(ai(s,m))}function $b(s){return function(){return s}}function ZQ(s,c){return s==null||s!==s?c:s}var eX=YD(),tX=YD(!0);function wo(s){return s}function Rb(s){return SD(typeof s=="function"?s:ai(s,m))}function nX(s){return xD(ai(s,m))}function aX(s,c){return PD(s,ai(c,m))}var rX=gn(function(s,c){return function(_){return Dm(_,s,c)}}),oX=gn(function(s,c){return function(_){return Dm(s,_,c)}});function Fb(s,c,_){var O=Cr(c),j=Rv(c,O);_==null&&!(Ea(c)&&(j.length||!O.length))&&(_=c,c=s,s=this,j=Rv(c,Cr(c)));var se=!(Ea(_)&&"chain"in _)||!!_.chain,Se=dl(s);return kr(j,function(Le){var Ge=c[Le];s[Le]=Ge,Se&&(s.prototype[Le]=function(){var yt=this.__chain__;if(se||yt){var bt=s(this.__wrapped__),Ct=bt.__actions__=go(this.__actions__);return Ct.push({func:Ge,args:arguments,thisArg:s}),bt.__chain__=yt,bt}return Ge.apply(s,Mo([this.value()],arguments))})}),s}function iX(){return Ka._===this&&(Ka._=At),this}function Lb(){}function sX(s){return s=hn(s),gn(function(c){return ED(c,s)})}var lX=_b(ta),uX=_b(cs),cX=_b(No);function zT(s){return Cb(s)?al(bs(s)):L7(s)}function dX(s){return function(c){return s==null?n:Cc(s,c)}}var fX=GD(),mX=GD(!0);function qb(){return[]}function Ub(){return!1}function hX(){return{}}function vX(){return""}function pX(){return!0}function _X(s,c){if(s=hn(s),s<1||s>Ee)return[];var _=le,O=jr(s,le);c=Zt(c),s-=le;for(var j=ru(O,c);++_<s;)c(_);return j}function gX(s){return fn(s)?ta(s,bs):$o(s)?[s]:go(dT(Qn(s)))}function yX(s){var c=++Ie;return Qn(s)+c}var bX=Wv(function(s,c){return s+c},0),wX=gb("ceil"),kX=Wv(function(s,c){return s/c},1),SX=gb("floor");function CX(s){return s&&s.length?$v(s,wo,ab):n}function xX(s,c){return s&&s.length?$v(s,Zt(c,2),ab):n}function PX(s){return Id(s,wo)}function EX(s,c){return Id(s,Zt(c,2))}function DX(s){return s&&s.length?$v(s,wo,sb):n}function TX(s,c){return s&&s.length?$v(s,Zt(c,2),sb):n}var VX=Wv(function(s,c){return s*c},1),OX=gb("round"),IX=Wv(function(s,c){return s-c},0);function AX(s){return s&&s.length?au(s,wo):0}function MX(s,c){return s&&s.length?au(s,Zt(c,2)):0}return oe.after=nG,oe.ary=kT,oe.assign=HG,oe.assignIn=BT,oe.assignInWith=ap,oe.assignWith=WG,oe.at=zG,oe.before=ST,oe.bind=Vb,oe.bindAll=QQ,oe.bindKey=CT,oe.castArray=hG,oe.chain=yT,oe.chunk=SK,oe.compact=CK,oe.concat=xK,oe.cond=XQ,oe.conforms=JQ,oe.constant=$b,oe.countBy=A9,oe.create=jG,oe.curry=xT,oe.curryRight=PT,oe.debounce=ET,oe.defaults=YG,oe.defaultsDeep=KG,oe.defer=aG,oe.delay=rG,oe.difference=PK,oe.differenceBy=EK,oe.differenceWith=DK,oe.drop=TK,oe.dropRight=VK,oe.dropRightWhile=OK,oe.dropWhile=IK,oe.fill=AK,oe.filter=N9,oe.flatMap=R9,oe.flatMapDeep=F9,oe.flatMapDepth=L9,oe.flatten=vT,oe.flattenDeep=MK,oe.flattenDepth=NK,oe.flip=oG,oe.flow=eX,oe.flowRight=tX,oe.fromPairs=BK,oe.functions=tQ,oe.functionsIn=nQ,oe.groupBy=q9,oe.initial=RK,oe.intersection=FK,oe.intersectionBy=LK,oe.intersectionWith=qK,oe.invert=rQ,oe.invertBy=oQ,oe.invokeMap=H9,oe.iteratee=Rb,oe.keyBy=W9,oe.keys=Cr,oe.keysIn=bo,oe.map=Xv,oe.mapKeys=sQ,oe.mapValues=lQ,oe.matches=nX,oe.matchesProperty=aX,oe.memoize=Zv,oe.merge=uQ,oe.mergeWith=$T,oe.method=rX,oe.methodOf=oX,oe.mixin=Fb,oe.negate=ep,oe.nthArg=sX,oe.omit=cQ,oe.omitBy=dQ,oe.once=iG,oe.orderBy=z9,oe.over=lX,oe.overArgs=sG,oe.overEvery=uX,oe.overSome=cX,oe.partial=Ob,oe.partialRight=DT,oe.partition=j9,oe.pick=fQ,oe.pickBy=RT,oe.property=zT,oe.propertyOf=dX,oe.pull=zK,oe.pullAll=_T,oe.pullAllBy=jK,oe.pullAllWith=YK,oe.pullAt=KK,oe.range=fX,oe.rangeRight=mX,oe.rearg=lG,oe.reject=G9,oe.remove=GK,oe.rest=uG,oe.reverse=Db,oe.sampleSize=X9,oe.set=hQ,oe.setWith=vQ,oe.shuffle=J9,oe.slice=QK,oe.sortBy=tG,oe.sortedUniq=a9,oe.sortedUniqBy=r9,oe.split=RQ,oe.spread=cG,oe.tail=o9,oe.take=i9,oe.takeRight=s9,oe.takeRightWhile=l9,oe.takeWhile=u9,oe.tap=C9,oe.throttle=dG,oe.thru=Qv,oe.toArray=AT,oe.toPairs=FT,oe.toPairsIn=LT,oe.toPath=gX,oe.toPlainObject=NT,oe.transform=pQ,oe.unary=fG,oe.union=c9,oe.unionBy=d9,oe.unionWith=f9,oe.uniq=m9,oe.uniqBy=h9,oe.uniqWith=v9,oe.unset=_Q,oe.unzip=Tb,oe.unzipWith=gT,oe.update=gQ,oe.updateWith=yQ,oe.values=jd,oe.valuesIn=bQ,oe.without=p9,oe.words=HT,oe.wrap=mG,oe.xor=_9,oe.xorBy=g9,oe.xorWith=y9,oe.zip=b9,oe.zipObject=w9,oe.zipObjectDeep=k9,oe.zipWith=S9,oe.entries=FT,oe.entriesIn=LT,oe.extend=BT,oe.extendWith=ap,Fb(oe,oe),oe.add=bX,oe.attempt=WT,oe.camelCase=CQ,oe.capitalize=qT,oe.ceil=wX,oe.clamp=wQ,oe.clone=vG,oe.cloneDeep=_G,oe.cloneDeepWith=gG,oe.cloneWith=pG,oe.conformsTo=yG,oe.deburr=UT,oe.defaultTo=ZQ,oe.divide=kX,oe.endsWith=xQ,oe.eq=Ti,oe.escape=PQ,oe.escapeRegExp=EQ,oe.every=M9,oe.find=B9,oe.findIndex=mT,oe.findKey=GG,oe.findLast=$9,oe.findLastIndex=hT,oe.findLastKey=QG,oe.floor=SX,oe.forEach=bT,oe.forEachRight=wT,oe.forIn=XG,oe.forInRight=JG,oe.forOwn=ZG,oe.forOwnRight=eQ,oe.get=Mb,oe.gt=bG,oe.gte=wG,oe.has=aQ,oe.hasIn=Nb,oe.head=pT,oe.identity=wo,oe.includes=U9,oe.indexOf=$K,oe.inRange=kQ,oe.invoke=iQ,oe.isArguments=Ec,oe.isArray=fn,oe.isArrayBuffer=kG,oe.isArrayLike=yo,oe.isArrayLikeObject=Ga,oe.isBoolean=SG,oe.isBuffer=cu,oe.isDate=CG,oe.isElement=xG,oe.isEmpty=PG,oe.isEqual=EG,oe.isEqualWith=DG,oe.isError=Ib,oe.isFinite=TG,oe.isFunction=dl,oe.isInteger=TT,oe.isLength=tp,oe.isMap=VT,oe.isMatch=VG,oe.isMatchWith=OG,oe.isNaN=IG,oe.isNative=AG,oe.isNil=NG,oe.isNull=MG,oe.isNumber=OT,oe.isObject=Ea,oe.isObjectLike=Na,oe.isPlainObject=Mm,oe.isRegExp=Ab,oe.isSafeInteger=BG,oe.isSet=IT,oe.isString=np,oe.isSymbol=$o,oe.isTypedArray=zd,oe.isUndefined=$G,oe.isWeakMap=RG,oe.isWeakSet=FG,oe.join=UK,oe.kebabCase=DQ,oe.last=oi,oe.lastIndexOf=HK,oe.lowerCase=TQ,oe.lowerFirst=VQ,oe.lt=LG,oe.lte=qG,oe.max=CX,oe.maxBy=xX,oe.mean=PX,oe.meanBy=EX,oe.min=DX,oe.minBy=TX,oe.stubArray=qb,oe.stubFalse=Ub,oe.stubObject=hX,oe.stubString=vX,oe.stubTrue=pX,oe.multiply=VX,oe.nth=WK,oe.noConflict=iX,oe.noop=Lb,oe.now=Jv,oe.pad=OQ,oe.padEnd=IQ,oe.padStart=AQ,oe.parseInt=MQ,oe.random=SQ,oe.reduce=Y9,oe.reduceRight=K9,oe.repeat=NQ,oe.replace=BQ,oe.result=mQ,oe.round=OX,oe.runInContext=Q,oe.sample=Q9,oe.size=Z9,oe.snakeCase=$Q,oe.some=eG,oe.sortedIndex=XK,oe.sortedIndexBy=JK,oe.sortedIndexOf=ZK,oe.sortedLastIndex=e9,oe.sortedLastIndexBy=t9,oe.sortedLastIndexOf=n9,oe.startCase=FQ,oe.startsWith=LQ,oe.subtract=IX,oe.sum=AX,oe.sumBy=MX,oe.template=qQ,oe.times=_X,oe.toFinite=fl,oe.toInteger=hn,oe.toLength=MT,oe.toLower=UQ,oe.toNumber=ii,oe.toSafeInteger=UG,oe.toString=Qn,oe.toUpper=HQ,oe.trim=WQ,oe.trimEnd=zQ,oe.trimStart=jQ,oe.truncate=YQ,oe.unescape=KQ,oe.uniqueId=yX,oe.upperCase=GQ,oe.upperFirst=Bb,oe.each=bT,oe.eachRight=wT,oe.first=pT,Fb(oe,function(){var s={};return gs(oe,function(c,_){be.call(oe.prototype,_)||(s[_]=c)}),s}(),{chain:!1}),oe.VERSION=a,kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){oe[s].placeholder=oe}),kr(["drop","take"],function(s,c){Pn.prototype[s]=function(_){_=_===n?1:fr(hn(_),0);var O=this.__filtered__&&!c?new Pn(this):this.clone();return O.__filtered__?O.__takeCount__=jr(_,O.__takeCount__):O.__views__.push({size:jr(_,le),type:s+(O.__dir__<0?"Right":"")}),O},Pn.prototype[s+"Right"]=function(_){return this.reverse()[s](_).reverse()}}),kr(["filter","map","takeWhile"],function(s,c){var _=c+1,O=_==J||_==re;Pn.prototype[s]=function(j){var se=this.clone();return se.__iteratees__.push({iteratee:Zt(j,3),type:_}),se.__filtered__=se.__filtered__||O,se}}),kr(["head","last"],function(s,c){var _="take"+(c?"Right":"");Pn.prototype[s]=function(){return this[_](1).value()[0]}}),kr(["initial","tail"],function(s,c){var _="drop"+(c?"":"Right");Pn.prototype[s]=function(){return this.__filtered__?new Pn(this):this[_](1)}}),Pn.prototype.compact=function(){return this.filter(wo)},Pn.prototype.find=function(s){return this.filter(s).head()},Pn.prototype.findLast=function(s){return this.reverse().find(s)},Pn.prototype.invokeMap=gn(function(s,c){return typeof s=="function"?new Pn(this):this.map(function(_){return Dm(_,s,c)})}),Pn.prototype.reject=function(s){return this.filter(ep(Zt(s)))},Pn.prototype.slice=function(s,c){s=hn(s);var _=this;return _.__filtered__&&(s>0||c<0)?new Pn(_):(s<0?_=_.takeRight(-s):s&&(_=_.drop(s)),c!==n&&(c=hn(c),_=c<0?_.dropRight(-c):_.take(c-s)),_)},Pn.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Pn.prototype.toArray=function(){return this.take(le)},gs(Pn.prototype,function(s,c){var _=/^(?:filter|find|map|reject)|While$/.test(c),O=/^(?:head|last)$/.test(c),j=oe[O?"take"+(c=="last"?"Right":""):c],se=O||/^find/.test(c);j&&(oe.prototype[c]=function(){var Se=this.__wrapped__,Le=O?[1]:arguments,Ge=Se instanceof Pn,yt=Le[0],bt=Ge||fn(Se),Ct=function(kn){var Tn=j.apply(oe,Mo([kn],Le));return O&&Rt?Tn[0]:Tn};bt&&_&&typeof yt=="function"&&yt.length!=1&&(Ge=bt=!1);var Rt=this.__chain__,Kt=!!this.__actions__.length,en=se&&!Rt,vn=Ge&&!Kt;if(!se&&bt){Se=vn?Se:new Pn(this);var tn=s.apply(Se,Le);return tn.__actions__.push({func:Qv,args:[Ct],thisArg:n}),new ni(tn,Rt)}return en&&vn?s.apply(this,Le):(tn=this.thru(Ct),en?O?tn.value()[0]:tn.value():tn)})}),kr(["pop","push","shift","sort","splice","unshift"],function(s){var c=P[s],_=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",O=/^(?:pop|shift)$/.test(s);oe.prototype[s]=function(){var j=arguments;if(O&&!this.__chain__){var se=this.value();return c.apply(fn(se)?se:[],j)}return this[_](function(Se){return c.apply(fn(Se)?Se:[],j)})}}),gs(Pn.prototype,function(s,c){var _=oe[c];if(_){var O=_.name+"";be.call(Ld,O)||(Ld[O]=[]),Ld[O].push({name:c,func:_})}}),Ld[Hv(n,k).name]=[{name:"wrapper",func:n}],Pn.prototype.clone=KY,Pn.prototype.reverse=GY,Pn.prototype.value=QY,oe.prototype.at=x9,oe.prototype.chain=P9,oe.prototype.commit=E9,oe.prototype.next=D9,oe.prototype.plant=V9,oe.prototype.reverse=O9,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=I9,oe.prototype.first=oe.prototype.head,ei&&(oe.prototype[ei]=T9),oe},qe=Ce();Ao?((Ao.exports=qe)._=qe,fc._=qe):Ka._=qe}).call(lU)}(mm,mm.exports)),mm.exports}var cU=uU();const bd=tE(cU);var kE=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},SE=(e,t,n)=>(kE(e,t,"read from private field"),n?n.call(e):t.get(e)),dU=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},fU=(e,t,n,a)=>(kE(e,t,"write to private field"),t.set(e,n),n);const CE=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],mU=[...CE,["unknown"]].map(e=>e[0]),Pv=new Map(CE);function hU(e){for(const[t,n]of Pv)if(e===n)return t;return"unknown"}function vU(e){if(xE(e))return{width:e.naturalWidth,height:e.naturalHeight};if(PE(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(EE(e))return{width:e.videoWidth,height:e.videoHeight};if(TE(e))return{width:e.width,height:e.height};if(OE(e))return{width:e.displayWidth,height:e.displayHeight};if(DE(e))return{width:e.width,height:e.height};if(VE(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function xE(e){try{return e instanceof HTMLImageElement}catch{return!1}}function PE(e){try{return e instanceof SVGImageElement}catch{return!1}}function EE(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function DE(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function TE(e){try{return e instanceof ImageBitmap}catch{return!1}}function VE(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function OE(e){try{return e instanceof VideoFrame}catch{return!1}}function IE(e){try{return e instanceof Blob}catch{return!1}}function pU(e){try{return e instanceof ImageData}catch{return!1}}function _U(e,t){try{const n=new OffscreenCanvas(e,t);if(n.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return n;throw void 0}catch{const a=document.createElement("canvas");return a.width=e,a.height=t,a}}async function AE(e){if(xE(e)&&!await wU(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(PE(e)&&!await kU(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(OE(e)&&SU(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(EE(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(TE(e)&&xU(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:n}=vU(e);if(t===0||n===0)return null;const a=_U(t,n).getContext("2d");a.drawImage(e,0,0);try{return a.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function gU(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else if(globalThis.Image){t=new Image;let n="";try{n=URL.createObjectURL(e),t.src=n,await t.decode()}finally{URL.revokeObjectURL(n)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await AE(t)}function yU(e){const{width:t,height:n}=e;if(t===0||n===0)return null;const a=e.getContext("2d");try{return a.getImageData(0,0,t,n)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function bU(e){if(IE(e))return await gU(e);if(pU(e)){if(CU(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return DE(e)||VE(e)?yU(e):await AE(e)}async function wU(e){try{return await e.decode(),!0}catch{return!1}}async function kU(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function SU(e){return e.format===null}function CU(e){return e.data.buffer.byteLength===0}function xU(e){return e.width===0&&e.height===0}function ME(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const NE=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function PU(e){return e.join("|")}function EU(e){const t=BE(e);let n=0,a=NE.length-1;for(;n<=a;){const r=Math.floor((n+a)/2),o=NE[r],i=BE(o);if(i===t)return o;i<t?n=r+1:a=r-1}return"None"}function BE(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function DU(e,t){return e.Binarizer[t]}function TU(e,t){return e.CharacterSet[t]}const VU=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function OU(e){return VU[e.value]}function IU(e,t){return e.EanAddOnSymbol[t]}function AU(e,t){return e.TextMode[t]}const wd={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function $E(e,t){return{...t,formats:PU(t.formats),binarizer:DU(e,t.binarizer),eanAddOnSymbol:IU(e,t.eanAddOnSymbol),textMode:AU(e,t.textMode),characterSet:TU(e,t.characterSet)}}function RE(e){return{...e,format:EU(e.format),eccLevel:e.eccLevel,contentType:OU(e.contentType)}}const MU={locateFile:(e,t)=>{const n=e.match(/_(.+?)\.wasm$/);return n?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${n[1]}/${e}`:t+e}};let FE=new WeakMap;function Yy(e,t){var n;const a=FE.get(e);if(a!=null&&a.modulePromise&&t===void 0)return a.modulePromise;const r=(n=a?.moduleOverrides)!=null?n:MU,o=e({...r});return FE.set(e,{moduleOverrides:r,modulePromise:o}),o}async function NU(e,t,n=wd){const a={...wd,...n},r=await Yy(e),{size:o}=t,i=new Uint8Array(await t.arrayBuffer()),l=r._malloc(o);r.HEAPU8.set(i,l);const u=r.readBarcodesFromImage(l,o,$E(r,a));r._free(l);const f=[];for(let d=0;d<u.size();++d)f.push(RE(u.get(d)));return f}async function BU(e,t,n=wd){const a={...wd,...n},r=await Yy(e),{data:o,width:i,height:l,data:{byteLength:u}}=t,f=r._malloc(u);r.HEAPU8.set(o,f);const d=r.readBarcodesFromPixmap(f,i,l,$E(r,a));r._free(f);const m=[];for(let p=0;p<d.size();++p)m.push(RE(d.get(p)));return m}({...wd,formats:[...wd.formats]});var Ky=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var n=t,a,r;n.ready=new Promise((S,P)=>{a=S,r=P});var o=Object.assign({},n),i="./this.program",l=typeof window=="object",u=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var f="";function d(S){return n.locateFile?n.locateFile(S,f):f+S}var m;(l||u)&&(u?f=self.location.href:typeof document<"u"&&document.currentScript&&(f=document.currentScript.src),e&&(f=e),f.indexOf("blob:")!==0?f=f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):f="",u&&(m=S=>{var P=new XMLHttpRequest;return P.open("GET",S,!1),P.responseType="arraybuffer",P.send(null),new Uint8Array(P.response)})),n.print||console.log.bind(console);var p=n.printErr||console.error.bind(console);Object.assign(n,o),o=null,n.arguments&&n.arguments,n.thisProgram&&(i=n.thisProgram),n.quit&&n.quit;var y;n.wasmBinary&&(y=n.wasmBinary),typeof WebAssembly!="object"&&Te("no native wasm support detected");var b,C=!1,w,k,T,V,M,I,R,W;function q(){var S=b.buffer;n.HEAP8=w=new Int8Array(S),n.HEAP16=T=new Int16Array(S),n.HEAPU8=k=new Uint8Array(S),n.HEAPU16=V=new Uint16Array(S),n.HEAP32=M=new Int32Array(S),n.HEAPU32=I=new Uint32Array(S),n.HEAPF32=R=new Float32Array(S),n.HEAPF64=W=new Float64Array(S)}var z=[],Y=[],K=[];function ae(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ne(n.preRun.shift());_e(z)}function te(){_e(Y)}function J(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)pe(n.postRun.shift());_e(K)}function ne(S){z.unshift(S)}function re(S){Y.unshift(S)}function pe(S){K.unshift(S)}var Ee=0,me=null;function fe(S){var P;Ee++,(P=n.monitorRunDependencies)===null||P===void 0||P.call(n,Ee)}function le(S){var P;if(Ee--,(P=n.monitorRunDependencies)===null||P===void 0||P.call(n,Ee),Ee==0&&me){var L=me;me=null,L()}}function Te(S){var P;(P=n.onAbort)===null||P===void 0||P.call(n,S),S="Aborted("+S+")",p(S),C=!0,S+=". Build with -sASSERTIONS for more info.";var L=new WebAssembly.RuntimeError(S);throw r(L),L}var ue="data:application/octet-stream;base64,",De=S=>S.startsWith(ue),Me;Me="zxing_reader.wasm",De(Me)||(Me=d(Me));function Oe(S){if(S==Me&&y)return new Uint8Array(y);if(m)return m(S);throw"both async and sync fetching of the wasm failed"}function B(S){return!y&&(l||u)&&typeof fetch=="function"?fetch(S,{credentials:"same-origin"}).then(P=>{if(!P.ok)throw"failed to load wasm binary file at '"+S+"'";return P.arrayBuffer()}).catch(()=>Oe(S)):Promise.resolve().then(()=>Oe(S))}function Ae(S,P,L){return B(S).then(G=>WebAssembly.instantiate(G,P)).then(G=>G).then(L,G=>{p(`failed to asynchronously prepare wasm: ${G}`),Te(G)})}function Fe(S,P,L,G){return!S&&typeof WebAssembly.instantiateStreaming=="function"&&!De(P)&&typeof fetch=="function"?fetch(P,{credentials:"same-origin"}).then(he=>{var ye=WebAssembly.instantiateStreaming(he,L);return ye.then(G,function(be){return p(`wasm streaming compile failed: ${be}`),p("falling back to ArrayBuffer instantiation"),Ae(P,L,G)})}):Ae(P,L,G)}function it(){var S={a:hs};function P(G,he){return la=G.exports,b=la.ia,q(),os=la.ma,re(la.ja),le(),la}fe();function L(G){P(G.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(S,P)}catch(G){p(`Module.instantiateWasm callback failed with error: ${G}`),r(G)}return Fe(y,Me,S,L).catch(r),{}}var _e=S=>{for(;S.length>0;)S.shift()(n)};n.noExitRuntime;var mt=[],H=0,X=S=>{var P=new $e(S);return P.get_caught()||(P.set_caught(!0),H--),P.set_rethrown(!1),mt.push(P),$d(P.excPtr),P.get_exception_ptr()},F=0,Ue=()=>{Gn(0,0);var S=mt.pop();Ir(S.excPtr),F=0};function $e(S){this.excPtr=S,this.ptr=S-24,this.set_type=function(P){I[this.ptr+4>>2]=P},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(P){I[this.ptr+8>>2]=P},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_caught=function(P){P=P?1:0,w[this.ptr+12>>0]=P},this.get_caught=function(){return w[this.ptr+12>>0]!=0},this.set_rethrown=function(P){P=P?1:0,w[this.ptr+13>>0]=P},this.get_rethrown=function(){return w[this.ptr+13>>0]!=0},this.init=function(P,L){this.set_adjusted_ptr(0),this.set_type(P),this.set_destructor(L)},this.set_adjusted_ptr=function(P){I[this.ptr+16>>2]=P},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){var P=ou(this.get_type());if(P)return I[this.excPtr>>2];var L=this.get_adjusted_ptr();return L!==0?L:this.excPtr}}var He=S=>{throw F||(F=S),F},ot=S=>{var P=F;if(!P)return Or(0),0;var L=new $e(P);L.set_adjusted_ptr(P);var G=L.get_type();if(!G)return Or(0),P;for(var he in S){var ye=S[he];if(ye===0||ye===G)break;var be=L.ptr+16;if(vs(ye,G,be))return Or(ye),P}return Or(G),P},nt=()=>ot([]),st=S=>ot([S]),ht=(S,P)=>ot([S,P]),Ve=()=>{var S=mt.pop();S||Te("no exception to throw");var P=S.excPtr;throw S.get_rethrown()||(mt.push(S),S.set_rethrown(!0),S.set_caught(!1),H++),F=P,F},Je=(S,P,L)=>{var G=new $e(S);throw G.init(P,L),F=S,H++,F},Pt=()=>H,Bt={},jt=S=>{for(;S.length;){var P=S.pop(),L=S.pop();L(P)}};function Dt(S){return this.fromWireType(M[S>>2])}var zt={},mn={},$n={},Yn,ra=S=>{throw new Yn(S)},pa=(S,P,L)=>{S.forEach(function(Ie){$n[Ie]=P});function G(Ie){var Qe=L(Ie);Qe.length!==S.length&&ra("Mismatched type converter count");for(var dt=0;dt<S.length;++dt)Ot(S[dt],Qe[dt])}var he=new Array(P.length),ye=[],be=0;P.forEach((Ie,Qe)=>{mn.hasOwnProperty(Ie)?he[Qe]=mn[Ie]:(ye.push(Ie),zt.hasOwnProperty(Ie)||(zt[Ie]=[]),zt[Ie].push(()=>{he[Qe]=mn[Ie],++be,be===ye.length&&G(he)}))}),ye.length===0&&G(he)},ja=S=>{var P=Bt[S];delete Bt[S];var L=P.rawConstructor,G=P.rawDestructor,he=P.fields,ye=he.map(be=>be.getterReturnType).concat(he.map(be=>be.setterArgumentType));pa([S],ye,be=>{var Ie={};return he.forEach((Qe,dt)=>{var kt=Qe.fieldName,At=be[dt],Yt=Qe.getter,Vt=Qe.getterContext,an=be[dt+he.length],ln=Qe.setter,Dn=Qe.setterContext;Ie[kt]={read:_n=>At.fromWireType(Yt(Vt,_n)),write:(_n,St)=>{var Ht=[];ln(Dn,_n,an.toWireType(Ht,St)),jt(Ht)}}}),[{name:P.name,fromWireType:Qe=>{var dt={};for(var kt in Ie)dt[kt]=Ie[kt].read(Qe);return G(Qe),dt},toWireType:(Qe,dt)=>{for(var kt in Ie)if(!(kt in dt))throw new TypeError(`Missing field: "${kt}"`);var At=L();for(kt in Ie)Ie[kt].write(At,dt[kt]);return Qe!==null&&Qe.push(G,At),At},argPackAdvance:Ft,readValueFromPointer:Dt,destructorFunction:G}]})},Nt=(S,P,L,G,he)=>{},fa=()=>{for(var S=new Array(256),P=0;P<256;++P)S[P]=String.fromCharCode(P);Xe=S},Xe,wt=S=>{for(var P="",L=S;k[L];)P+=Xe[k[L++]];return P},ct,$t=S=>{throw new ct(S)};function pt(S,P){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var G=P.name;if(S||$t(`type "${G}" must have a positive integer typeid pointer`),mn.hasOwnProperty(S)){if(L.ignoreDuplicateRegistrations)return;$t(`Cannot register type '${G}' twice`)}if(mn[S]=P,delete $n[S],zt.hasOwnProperty(S)){var he=zt[S];delete zt[S],he.forEach(ye=>ye())}}function Ot(S,P){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in P))throw new TypeError("registerType registeredInstance requires argPackAdvance");return pt(S,P,L)}var Ft=8,Tr=(S,P,L,G)=>{P=wt(P),Ot(S,{name:P,fromWireType:function(he){return!!he},toWireType:function(he,ye){return ye?L:G},argPackAdvance:Ft,readValueFromPointer:function(he){return this.fromWireType(k[he])},destructorFunction:null})},Ur=S=>({count:S.count,deleteScheduled:S.deleteScheduled,preservePointerOnDelete:S.preservePointerOnDelete,ptr:S.ptr,ptrType:S.ptrType,smartPtr:S.smartPtr,smartPtrType:S.smartPtrType}),Hr=S=>{function P(L){return L.$$.ptrType.registeredClass.name}$t(P(S)+" instance already deleted")},Ya=!1,to=S=>{},Ls=S=>{S.smartPtr?S.smartPtrType.rawDestructor(S.smartPtr):S.ptrType.registeredClass.rawDestructor(S.ptr)},Pi=S=>{S.count.value-=1;var P=S.count.value===0;P&&Ls(S)},ea=(S,P,L)=>{if(P===L)return S;if(L.baseClass===void 0)return null;var G=ea(S,P,L.baseClass);return G===null?null:L.downcast(G)},_a={},pm=()=>Object.keys(Wr).length,Ul=()=>{var S=[];for(var P in Wr)Wr.hasOwnProperty(P)&&S.push(Wr[P]);return S},jo=[],Zi=()=>{for(;jo.length;){var S=jo.pop();S.$$.deleteScheduled=!1,S.delete()}},qs,Yo=S=>{qs=S,jo.length&&qs&&qs(Zi)},es=()=>{n.getInheritedInstanceCount=pm,n.getLiveInheritedInstances=Ul,n.flushPendingDeletes=Zi,n.setDelayFunction=Yo},Wr={},Us=(S,P)=>{for(P===void 0&&$t("ptr should not be undefined");S.baseClass;)P=S.upcast(P),S=S.baseClass;return P},_m=(S,P)=>(P=Us(S,P),Wr[P]),no=(S,P)=>{(!P.ptrType||!P.ptr)&&ra("makeClassHandle requires ptr and ptrType");var L=!!P.smartPtrType,G=!!P.smartPtr;return L!==G&&ra("Both smartPtrType and smartPtr must be specified"),P.count={value:1},ao(Object.create(S,{$$:{value:P,writable:!0}}))};function Cd(S){var P=this.getPointee(S);if(!P)return this.destructor(S),null;var L=_m(this.registeredClass,P);if(L!==void 0){if(L.$$.count.value===0)return L.$$.ptr=P,L.$$.smartPtr=S,L.clone();var G=L.clone();return this.destructor(S),G}function he(){return this.isSmartPointer?no(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:P,smartPtrType:this,smartPtr:S}):no(this.registeredClass.instancePrototype,{ptrType:this,ptr:S})}var ye=this.registeredClass.getActualType(P),be=_a[ye];if(!be)return he.call(this);var Ie;this.isConst?Ie=be.constPointerType:Ie=be.pointerType;var Qe=ea(P,this.registeredClass,Ie.registeredClass);return Qe===null?he.call(this):this.isSmartPointer?no(Ie.registeredClass.instancePrototype,{ptrType:Ie,ptr:Qe,smartPtrType:this,smartPtr:S}):no(Ie.registeredClass.instancePrototype,{ptrType:Ie,ptr:Qe})}var ao=S=>typeof FinalizationRegistry>"u"?(ao=P=>P,S):(Ya=new FinalizationRegistry(P=>{Pi(P.$$)}),ao=P=>{var L=P.$$,G=!!L.smartPtr;if(G){var he={$$:L};Ya.register(P,he,P)}return P},to=P=>Ya.unregister(P),ao(S)),xd=()=>{Object.assign(ts.prototype,{isAliasOf(S){if(!(this instanceof ts)||!(S instanceof ts))return!1;var P=this.$$.ptrType.registeredClass,L=this.$$.ptr;S.$$=S.$$;for(var G=S.$$.ptrType.registeredClass,he=S.$$.ptr;P.baseClass;)L=P.upcast(L),P=P.baseClass;for(;G.baseClass;)he=G.upcast(he),G=G.baseClass;return P===G&&L===he},clone(){if(this.$$.ptr||Hr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var S=ao(Object.create(Object.getPrototypeOf(this),{$$:{value:Ur(this.$$)}}));return S.$$.count.value+=1,S.$$.deleteScheduled=!1,S},delete(){this.$$.ptr||Hr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&$t("Object already scheduled for deletion"),to(this),Pi(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Hr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&$t("Object already scheduled for deletion"),jo.push(this),jo.length===1&&qs&&qs(Zi),this.$$.deleteScheduled=!0,this}})};function ts(){}var Rn=(S,P)=>Object.defineProperty(P,"name",{value:S}),Ko=(S,P,L)=>{if(S[P].overloadTable===void 0){var G=S[P];S[P]=function(){return S[P].overloadTable.hasOwnProperty(arguments.length)||$t(`Function '${L}' called with an invalid number of arguments (${arguments.length}) - expects one of (${S[P].overloadTable})!`),S[P].overloadTable[arguments.length].apply(this,arguments)},S[P].overloadTable=[],S[P].overloadTable[G.argCount]=G}},br=(S,P,L)=>{n.hasOwnProperty(S)?((L===void 0||n[S].overloadTable!==void 0&&n[S].overloadTable[L]!==void 0)&&$t(`Cannot register public name '${S}' twice`),Ko(n,S,S),n.hasOwnProperty(L)&&$t(`Cannot register multiple overloads of a function with the same number of arguments (${L})!`),n[S].overloadTable[L]=P):(n[S]=P,L!==void 0&&(n[S].numArguments=L))},Pd=48,ns=57,Hl=S=>{if(S===void 0)return"_unknown";S=S.replace(/[^a-zA-Z0-9_]/g,"$");var P=S.charCodeAt(0);return P>=Pd&&P<=ns?`_${S}`:S};function Wl(S,P,L,G,he,ye,be,Ie){this.name=S,this.constructor=P,this.instancePrototype=L,this.rawDestructor=G,this.baseClass=he,this.getActualType=ye,this.upcast=be,this.downcast=Ie,this.pureVirtualFunctions=[]}var as=(S,P,L)=>{for(;P!==L;)P.upcast||$t(`Expected null or instance of ${L.name}, got an instance of ${P.name}`),S=P.upcast(S),P=P.baseClass;return S};function Go(S,P){if(P===null)return this.isReference&&$t(`null is not a valid ${this.name}`),0;P.$$||$t(`Cannot pass "${Ks(P)}" as a ${this.name}`),P.$$.ptr||$t(`Cannot pass deleted object as a pointer of type ${this.name}`);var L=P.$$.ptrType.registeredClass,G=as(P.$$.ptr,L,this.registeredClass);return G}function Ed(S,P){var L;if(P===null)return this.isReference&&$t(`null is not a valid ${this.name}`),this.isSmartPointer?(L=this.rawConstructor(),S!==null&&S.push(this.rawDestructor,L),L):0;(!P||!P.$$)&&$t(`Cannot pass "${Ks(P)}" as a ${this.name}`),P.$$.ptr||$t(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&P.$$.ptrType.isConst&&$t(`Cannot convert argument of type ${P.$$.smartPtrType?P.$$.smartPtrType.name:P.$$.ptrType.name} to parameter type ${this.name}`);var G=P.$$.ptrType.registeredClass;if(L=as(P.$$.ptr,G,this.registeredClass),this.isSmartPointer)switch(P.$$.smartPtr===void 0&&$t("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:P.$$.smartPtrType===this?L=P.$$.smartPtr:$t(`Cannot convert argument of type ${P.$$.smartPtrType?P.$$.smartPtrType.name:P.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:L=P.$$.smartPtr;break;case 2:if(P.$$.smartPtrType===this)L=P.$$.smartPtr;else{var he=P.clone();L=this.rawShare(L,Kn.toHandle(()=>he.delete())),S!==null&&S.push(this.rawDestructor,L)}break;default:$t("Unsupporting sharing policy")}return L}function zl(S,P){if(P===null)return this.isReference&&$t(`null is not a valid ${this.name}`),0;P.$$||$t(`Cannot pass "${Ks(P)}" as a ${this.name}`),P.$$.ptr||$t(`Cannot pass deleted object as a pointer of type ${this.name}`),P.$$.ptrType.isConst&&$t(`Cannot convert argument of type ${P.$$.ptrType.name} to parameter type ${this.name}`);var L=P.$$.ptrType.registeredClass,G=as(P.$$.ptr,L,this.registeredClass);return G}function ic(S){return this.fromWireType(I[S>>2])}var pn=()=>{Object.assign(rs.prototype,{getPointee(S){return this.rawGetPointee&&(S=this.rawGetPointee(S)),S},destructor(S){var P;(P=this.rawDestructor)===null||P===void 0||P.call(this,S)},argPackAdvance:Ft,readValueFromPointer:ic,deleteObject(S){S!==null&&S.delete()},fromWireType:Cd})};function rs(S,P,L,G,he,ye,be,Ie,Qe,dt,kt){this.name=S,this.registeredClass=P,this.isReference=L,this.isConst=G,this.isSmartPointer=he,this.pointeeType=ye,this.sharingPolicy=be,this.rawGetPointee=Ie,this.rawConstructor=Qe,this.rawShare=dt,this.rawDestructor=kt,!he&&P.baseClass===void 0?G?(this.toWireType=Go,this.destructorFunction=null):(this.toWireType=zl,this.destructorFunction=null):this.toWireType=Ed}var jl=(S,P,L)=>{n.hasOwnProperty(S)||ra("Replacing nonexistant public symbol"),n[S].overloadTable!==void 0&&L!==void 0?n[S].overloadTable[L]=P:(n[S]=P,n[S].argCount=L)},sc=(S,P,L)=>{var G=n["dynCall_"+S];return L&&L.length?G.apply(null,[P].concat(L)):G.call(null,P)},An=[],os,Un=S=>{var P=An[S];return P||(S>=An.length&&(An.length=S+1),An[S]=P=os.get(S)),P},Io=(S,P,L)=>{if(S.includes("j"))return sc(S,P,L);var G=Un(P).apply(null,L);return G},Yl=(S,P)=>{var L=[];return function(){return L.length=0,Object.assign(L,arguments),Io(S,P,L)}},Vr=(S,P)=>{S=wt(S);function L(){return S.includes("j")?Yl(S,P):Un(P)}var G=L();return typeof G!="function"&&$t(`unknown function pointer with signature ${S}: ${P}`),G},Hs=(S,P)=>{var L=Rn(P,function(G){this.name=P,this.message=G;var he=new Error(G).stack;he!==void 0&&(this.stack=this.toString()+`
`+he.replace(/^Error(:[^\n]*)?\n/,""))});return L.prototype=Object.create(S.prototype),L.prototype.constructor=L,L.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},L},Kl,Ei=S=>{var P=Bd(S),L=wt(P);return _o(P),L},Ws=(S,P)=>{var L=[],G={};function he(ye){if(!G[ye]&&!mn[ye]){if($n[ye]){$n[ye].forEach(he);return}L.push(ye),G[ye]=!0}}throw P.forEach(he),new Kl(`${S}: `+L.map(Ei).join([", "]))},is=(S,P,L,G,he,ye,be,Ie,Qe,dt,kt,At,Yt)=>{kt=wt(kt),ye=Vr(he,ye),Ie&&(Ie=Vr(be,Ie)),dt&&(dt=Vr(Qe,dt)),Yt=Vr(At,Yt);var Vt=Hl(kt);br(Vt,function(){Ws(`Cannot construct ${kt} due to unbound types`,[G])}),pa([S,P,L],G?[G]:[],function(an){an=an[0];var ln,Dn;G?(ln=an.registeredClass,Dn=ln.instancePrototype):Dn=ts.prototype;var _n=Rn(kt,function(){if(Object.getPrototypeOf(this)!==St)throw new ct("Use 'new' to construct "+kt);if(Ht.constructor_body===void 0)throw new ct(kt+" has no accessible constructor");var Vv=Ht.constructor_body[arguments.length];if(Vv===void 0)throw new ct(`Tried to invoke ctor of ${kt} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(Ht.constructor_body).toString()}) parameters instead!`);return Vv.apply(this,arguments)}),St=Object.create(Dn,{constructor:{value:_n}});_n.prototype=St;var Ht=new Wl(kt,_n,St,Yt,ln,ye,Ie,dt);if(Ht.baseClass){var ua,Ma;(Ma=(ua=Ht.baseClass).__derivedClasses)!==null&&Ma!==void 0||(ua.__derivedClasses=[]),Ht.baseClass.__derivedClasses.push(Ht)}var ei=new rs(kt,Ht,!0,!1,!1),ti=new rs(kt+"*",Ht,!1,!1,!1),bc=new rs(kt+" const*",Ht,!1,!0,!1);return _a[S]={pointerType:ti,constPointerType:bc},jl(Vt,_n),[ei,ti,bc]})},ss=(S,P)=>{for(var L=[],G=0;G<S;G++)L.push(I[P+G*4>>2]);return L};function lc(S){for(var P=1;P<S.length;++P)if(S[P]!==null&&S[P].destructorFunction===void 0)return!0;return!1}function dn(S,P,L,G,he,ye){var be=P.length;be<2&&$t("argTypes array size mismatch! Must at least get return value and 'this' types!");var Ie=P[1]!==null&&L!==null,Qe=lc(P),dt=P[0].name!=="void",kt=be-2,At=new Array(kt),Yt=[],Vt=[],an=function(){arguments.length!==kt&&$t(`function ${S} called with ${arguments.length} arguments, expected ${kt}`),Vt.length=0;var ln;Yt.length=Ie?2:1,Yt[0]=he,Ie&&(ln=P[1].toWireType(Vt,this),Yt[1]=ln);for(var Dn=0;Dn<kt;++Dn)At[Dn]=P[Dn+2].toWireType(Vt,arguments[Dn]),Yt.push(At[Dn]);var _n=G.apply(null,Yt);function St(Ht){if(Qe)jt(Vt);else for(var ua=Ie?1:2;ua<P.length;ua++){var Ma=ua===1?ln:At[ua-2];P[ua].destructorFunction!==null&&P[ua].destructorFunction(Ma)}if(dt)return P[0].fromWireType(Ht)}return St(_n)};return Rn(S,an)}var Gl=(S,P,L,G,he,ye)=>{var be=ss(P,L);he=Vr(G,he),pa([],[S],function(Ie){Ie=Ie[0];var Qe=`constructor ${Ie.name}`;if(Ie.registeredClass.constructor_body===void 0&&(Ie.registeredClass.constructor_body=[]),Ie.registeredClass.constructor_body[P-1]!==void 0)throw new ct(`Cannot register multiple constructors with identical number of parameters (${P-1}) for class '${Ie.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return Ie.registeredClass.constructor_body[P-1]=()=>{Ws(`Cannot construct ${Ie.name} due to unbound types`,be)},pa([],be,dt=>(dt.splice(1,0,null),Ie.registeredClass.constructor_body[P-1]=dn(Qe,dt,null,he,ye),[])),[]})},uc=S=>{S=S.trim();const P=S.indexOf("(");return P!==-1?S.substr(0,P):S},gm=(S,P,L,G,he,ye,be,Ie,Qe)=>{var dt=ss(L,G);P=wt(P),P=uc(P),ye=Vr(he,ye),pa([],[S],function(kt){kt=kt[0];var At=`${kt.name}.${P}`;P.startsWith("@@")&&(P=Symbol[P.substring(2)]),Ie&&kt.registeredClass.pureVirtualFunctions.push(P);function Yt(){Ws(`Cannot call ${At} due to unbound types`,dt)}var Vt=kt.registeredClass.instancePrototype,an=Vt[P];return an===void 0||an.overloadTable===void 0&&an.className!==kt.name&&an.argCount===L-2?(Yt.argCount=L-2,Yt.className=kt.name,Vt[P]=Yt):(Ko(Vt,P,At),Vt[P].overloadTable[L-2]=Yt),pa([],dt,function(ln){var Dn=dn(At,ln,kt,ye,be);return Vt[P].overloadTable===void 0?(Dn.argCount=L-2,Vt[P]=Dn):Vt[P].overloadTable[L-2]=Dn,[]}),[]})};function wr(){Object.assign(Qo.prototype,{get(S){return this.allocated[S]},has(S){return this.allocated[S]!==void 0},allocate(S){var P=this.freelist.pop()||this.allocated.length;return this.allocated[P]=S,P},free(S){this.allocated[S]=void 0,this.freelist.push(S)}})}function Qo(){this.allocated=[void 0],this.freelist=[]}var tr=new Qo,ro=S=>{S>=tr.reserved&&--tr.get(S).refcount===0&&tr.free(S)},Dd=()=>{for(var S=0,P=tr.reserved;P<tr.allocated.length;++P)tr.allocated[P]!==void 0&&++S;return S},Td=()=>{tr.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),tr.reserved=tr.allocated.length,n.count_emval_handles=Dd},Kn={toValue:S=>(S||$t("Cannot use deleted val. handle = "+S),tr.get(S).value),toHandle:S=>{switch(S){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return tr.allocate({refcount:1,value:S})}}},oo=(S,P)=>{P=wt(P),Ot(S,{name:P,fromWireType:L=>{var G=Kn.toValue(L);return ro(L),G},toWireType:(L,G)=>Kn.toHandle(G),argPackAdvance:Ft,readValueFromPointer:Dt,destructorFunction:null})},zs=(S,P,L)=>{switch(P){case 1:return L?function(G){return this.fromWireType(w[G>>0])}:function(G){return this.fromWireType(k[G>>0])};case 2:return L?function(G){return this.fromWireType(T[G>>1])}:function(G){return this.fromWireType(V[G>>1])};case 4:return L?function(G){return this.fromWireType(M[G>>2])}:function(G){return this.fromWireType(I[G>>2])};default:throw new TypeError(`invalid integer width (${P}): ${S}`)}},js=(S,P,L,G)=>{P=wt(P);function he(){}he.values={},Ot(S,{name:P,constructor:he,fromWireType:function(ye){return this.constructor.values[ye]},toWireType:(ye,be)=>be.value,argPackAdvance:Ft,readValueFromPointer:zs(P,L,G),destructorFunction:null}),br(P,he)},Ys=(S,P)=>{var L=mn[S];return L===void 0&&$t(P+" has unknown type "+Ei(S)),L},Xo=(S,P,L)=>{var G=Ys(S,"enum");P=wt(P);var he=G.constructor,ye=Object.create(G.constructor.prototype,{value:{value:L},constructor:{value:Rn(`${G.name}_${P}`,function(){})}});he.values[L]=ye,he[P]=ye},Ks=S=>{if(S===null)return"null";var P=typeof S;return P==="object"||P==="array"||P==="function"?S.toString():""+S},vo=(S,P)=>{switch(P){case 4:return function(L){return this.fromWireType(R[L>>2])};case 8:return function(L){return this.fromWireType(W[L>>3])};default:throw new TypeError(`invalid float width (${P}): ${S}`)}},cc=(S,P,L)=>{P=wt(P),Ot(S,{name:P,fromWireType:G=>G,toWireType:(G,he)=>he,argPackAdvance:Ft,readValueFromPointer:vo(P,L),destructorFunction:null})},Vd=(S,P,L,G,he,ye,be)=>{var Ie=ss(P,L);S=wt(S),S=uc(S),he=Vr(G,he),br(S,function(){Ws(`Cannot call ${S} due to unbound types`,Ie)},P-1),pa([],Ie,function(Qe){var dt=[Qe[0],null].concat(Qe.slice(1));return jl(S,dn(S,dt,null,he,ye),P-1),[]})},dc=(S,P,L)=>{switch(P){case 1:return L?G=>w[G>>0]:G=>k[G>>0];case 2:return L?G=>T[G>>1]:G=>V[G>>1];case 4:return L?G=>M[G>>2]:G=>I[G>>2];default:throw new TypeError(`invalid integer width (${P}): ${S}`)}},Gs=(S,P,L,G,he)=>{P=wt(P);var ye=kt=>kt;if(G===0){var be=32-8*L;ye=kt=>kt<<be>>>be}var Ie=P.includes("unsigned"),Qe=(kt,At)=>{},dt;Ie?dt=function(kt,At){return Qe(At,this.name),At>>>0}:dt=function(kt,At){return Qe(At,this.name),At},Ot(S,{name:P,fromWireType:ye,toWireType:dt,argPackAdvance:Ft,readValueFromPointer:dc(P,L,G!==0),destructorFunction:null})},Hn=(S,P,L)=>{var G=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],he=G[P];function ye(be){var Ie=I[be>>2],Qe=I[be+4>>2];return new he(w.buffer,Qe,Ie)}L=wt(L),Ot(S,{name:L,fromWireType:ye,argPackAdvance:Ft,readValueFromPointer:ye},{ignoreDuplicateRegistrations:!0})},Fn=(S,P,L,G)=>{if(!(G>0))return 0;for(var he=L,ye=L+G-1,be=0;be<S.length;++be){var Ie=S.charCodeAt(be);if(Ie>=55296&&Ie<=57343){var Qe=S.charCodeAt(++be);Ie=65536+((Ie&1023)<<10)|Qe&1023}if(Ie<=127){if(L>=ye)break;P[L++]=Ie}else if(Ie<=2047){if(L+1>=ye)break;P[L++]=192|Ie>>6,P[L++]=128|Ie&63}else if(Ie<=65535){if(L+2>=ye)break;P[L++]=224|Ie>>12,P[L++]=128|Ie>>6&63,P[L++]=128|Ie&63}else{if(L+3>=ye)break;P[L++]=240|Ie>>18,P[L++]=128|Ie>>12&63,P[L++]=128|Ie>>6&63,P[L++]=128|Ie&63}}return P[L]=0,L-he},ym=(S,P,L)=>Fn(S,k,P,L),ls=S=>{for(var P=0,L=0;L<S.length;++L){var G=S.charCodeAt(L);G<=127?P++:G<=2047?P+=2:G>=55296&&G<=57343?(P+=4,++L):P+=3}return P},Od=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,bm=(S,P,L)=>{for(var G=P+L,he=P;S[he]&&!(he>=G);)++he;if(he-P>16&&S.buffer&&Od)return Od.decode(S.subarray(P,he));for(var ye="";P<he;){var be=S[P++];if(!(be&128)){ye+=String.fromCharCode(be);continue}var Ie=S[P++]&63;if((be&224)==192){ye+=String.fromCharCode((be&31)<<6|Ie);continue}var Qe=S[P++]&63;if((be&240)==224?be=(be&15)<<12|Ie<<6|Qe:be=(be&7)<<18|Ie<<12|Qe<<6|S[P++]&63,be<65536)ye+=String.fromCharCode(be);else{var dt=be-65536;ye+=String.fromCharCode(55296|dt>>10,56320|dt&1023)}}return ye},us=(S,P)=>S?bm(k,S,P):"",Ql=(S,P)=>{P=wt(P);var L=P==="std::string";Ot(S,{name:P,fromWireType(G){var he=I[G>>2],ye=G+4,be;if(L)for(var Ie=ye,Qe=0;Qe<=he;++Qe){var dt=ye+Qe;if(Qe==he||k[dt]==0){var kt=dt-Ie,At=us(Ie,kt);be===void 0?be=At:(be+="\0",be+=At),Ie=dt+1}}else{for(var Yt=new Array(he),Qe=0;Qe<he;++Qe)Yt[Qe]=String.fromCharCode(k[ye+Qe]);be=Yt.join("")}return _o(G),be},toWireType(G,he){he instanceof ArrayBuffer&&(he=new Uint8Array(he));var ye,be=typeof he=="string";be||he instanceof Uint8Array||he instanceof Uint8ClampedArray||he instanceof Int8Array||$t("Cannot pass non-string to std::string"),L&&be?ye=ls(he):ye=he.length;var Ie=yc(4+ye+1),Qe=Ie+4;if(I[Ie>>2]=ye,L&&be)ym(he,Qe,ye+1);else if(be)for(var dt=0;dt<ye;++dt){var kt=he.charCodeAt(dt);kt>255&&(_o(Qe),$t("String has UTF-16 code units that do not fit in 8 bits")),k[Qe+dt]=kt}else for(var dt=0;dt<ye;++dt)k[Qe+dt]=he[dt];return G!==null&&G.push(_o,Ie),Ie},argPackAdvance:Ft,readValueFromPointer:ic,destructorFunction(G){_o(G)}})},Qs=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,wm=(S,P)=>{for(var L=S,G=L>>1,he=G+P/2;!(G>=he)&&V[G];)++G;if(L=G<<1,L-S>32&&Qs)return Qs.decode(k.subarray(S,L));for(var ye="",be=0;!(be>=P/2);++be){var Ie=T[S+be*2>>1];if(Ie==0)break;ye+=String.fromCharCode(Ie)}return ye},Ka=(S,P,L)=>{var G;if((G=L)!==null&&G!==void 0||(L=2147483647),L<2)return 0;L-=2;for(var he=P,ye=L<S.length*2?L/2:S.length,be=0;be<ye;++be){var Ie=S.charCodeAt(be);T[P>>1]=Ie,P+=2}return T[P>>1]=0,P-he},fc=S=>S.length*2,Ao=(S,P)=>{for(var L=0,G="";!(L>=P/4);){var he=M[S+L*4>>2];if(he==0)break;if(++L,he>=65536){var ye=he-65536;G+=String.fromCharCode(55296|ye>>10,56320|ye&1023)}else G+=String.fromCharCode(he)}return G},Xl=(S,P,L)=>{var G;if((G=L)!==null&&G!==void 0||(L=2147483647),L<4)return 0;for(var he=P,ye=he+L-4,be=0;be<S.length;++be){var Ie=S.charCodeAt(be);if(Ie>=55296&&Ie<=57343){var Qe=S.charCodeAt(++be);Ie=65536+((Ie&1023)<<10)|Qe&1023}if(M[P>>2]=Ie,P+=4,P+4>ye)break}return M[P>>2]=0,P-he},Jl=S=>{for(var P=0,L=0;L<S.length;++L){var G=S.charCodeAt(L);G>=55296&&G<=57343&&++L,P+=4}return P},ur=(S,P,L)=>{L=wt(L);var G,he,ye,be,Ie;P===2?(G=wm,he=Ka,be=fc,ye=()=>V,Ie=1):P===4&&(G=Ao,he=Xl,be=Jl,ye=()=>I,Ie=2),Ot(S,{name:L,fromWireType:Qe=>{for(var dt=I[Qe>>2],kt=ye(),At,Yt=Qe+4,Vt=0;Vt<=dt;++Vt){var an=Qe+4+Vt*P;if(Vt==dt||kt[an>>Ie]==0){var ln=an-Yt,Dn=G(Yt,ln);At===void 0?At=Dn:(At+="\0",At+=Dn),Yt=an+P}}return _o(Qe),At},toWireType:(Qe,dt)=>{typeof dt!="string"&&$t(`Cannot pass non-string to C++ string type ${L}`);var kt=be(dt),At=yc(4+kt+P);return I[At>>2]=kt>>Ie,he(dt,At+4,kt+P),Qe!==null&&Qe.push(_o,At),At},argPackAdvance:Ft,readValueFromPointer:Dt,destructorFunction(Qe){_o(Qe)}})},Xs=(S,P,L,G,he,ye)=>{Bt[S]={name:wt(P),rawConstructor:Vr(L,G),rawDestructor:Vr(he,ye),fields:[]}},Js=(S,P,L,G,he,ye,be,Ie,Qe,dt)=>{Bt[S].fields.push({fieldName:wt(P),getterReturnType:L,getter:Vr(G,he),getterContext:ye,setterArgumentType:be,setter:Vr(Ie,Qe),setterContext:dt})},mc=(S,P)=>{P=wt(P),Ot(S,{isVoid:!0,name:P,argPackAdvance:0,fromWireType:()=>{},toWireType:(L,G)=>{}})},Zl=[],Zs=(S,P,L,G)=>(S=Zl[S],P=Kn.toValue(P),S(null,P,L,G)),eu={},cr=S=>{var P=eu[S];return P===void 0?wt(S):P},tu=()=>{if(typeof globalThis=="object")return globalThis;function S(P){P.$$$embind_global$$$=P;var L=typeof $$$embind_global$$$=="object"&&P.$$$embind_global$$$==P;return L||delete P.$$$embind_global$$$,L}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&S(global)?$$$embind_global$$$=global:typeof self=="object"&&S(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},kr=S=>S===0?Kn.toHandle(tu()):(S=cr(S),Kn.toHandle(tu()[S])),nr=S=>{var P=Zl.length;return Zl.push(S),P},cs=(S,P)=>{for(var L=new Array(S),G=0;G<S;++G)L[G]=Ys(I[P+G*4>>2],"parameter "+G);return L},zr=Reflect.construct,el=(S,P,L)=>{var G=[],he=S.toWireType(G,L);return G.length&&(I[P>>2]=Kn.toHandle(G)),he},ds=(S,P,L)=>{var G=cs(S,P),he=G.shift();S--;var ye=new Array(S),be=(Qe,dt,kt,At)=>{for(var Yt=0,Vt=0;Vt<S;++Vt)ye[Vt]=G[Vt].readValueFromPointer(At+Yt),Yt+=G[Vt].argPackAdvance;for(var an=L===1?zr(dt,ye):dt.apply(Qe,ye),Vt=0;Vt<S;++Vt){var ln,Dn;(ln=(Dn=G[Vt]).deleteObject)===null||ln===void 0||ln.call(Dn,ye[Vt])}return el(he,kt,an)},Ie=`methodCaller<(${G.map(Qe=>Qe.name).join(", ")}) => ${he.name}>`;return nr(Rn(Ie,be))},ta=S=>{S>4&&(tr.get(S).refcount+=1)},Mo=S=>{var P=Kn.toValue(S);jt(P),ro(S)},fs=(S,P)=>{S=Ys(S,"_emval_take_value");var L=S.readValueFromPointer(P);return Kn.toHandle(L)},hc=()=>{Te("")},No=(S,P,L)=>k.copyWithin(S,P,P+L),vc=()=>2147483648,pc=S=>{var P=b.buffer,L=(S-P.byteLength+65535)/65536;try{return b.grow(L),q(),1}catch{}},nu=S=>{var P=k.length;S>>>=0;var L=vc();if(S>L)return!1;for(var G=(Qe,dt)=>Qe+(dt-Qe%dt)%dt,he=1;he<=4;he*=2){var ye=P*(1+.2/he);ye=Math.min(ye,S+100663296);var be=Math.min(L,G(Math.max(S,ye),65536)),Ie=pc(be);if(Ie)return!0}return!1},ms={},tl=()=>i||"./this.program",po=()=>{if(!po.strings){var S=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",P={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:S,_:tl()};for(var L in ms)ms[L]===void 0?delete P[L]:P[L]=ms[L];var G=[];for(var L in P)G.push(`${L}=${P[L]}`);po.strings=G}return po.strings},_c=(S,P)=>{for(var L=0;L<S.length;++L)w[P++>>0]=S.charCodeAt(L);w[P>>0]=0},nl=(S,P)=>{var L=0;return po().forEach((G,he)=>{var ye=P+L;I[S+he*4>>2]=ye,_c(G,ye),L+=G.length+1}),0},Id=(S,P)=>{var L=po();I[S>>2]=L.length;var G=0;return L.forEach(he=>G+=he.length+1),I[P>>2]=G,0},al=S=>S,Jo=S=>S%4===0&&(S%100!==0||S%400===0),Ad=(S,P)=>{for(var L=0,G=0;G<=P;L+=S[G++]);return L},gc=[31,29,31,30,31,30,31,31,30,31,30,31],au=[31,28,31,30,31,30,31,31,30,31,30,31],ru=(S,P)=>{for(var L=new Date(S.getTime());P>0;){var G=Jo(L.getFullYear()),he=L.getMonth(),ye=(G?gc:au)[he];if(P>ye-L.getDate())P-=ye-L.getDate()+1,L.setDate(1),he<11?L.setMonth(he+1):(L.setMonth(0),L.setFullYear(L.getFullYear()+1));else return L.setDate(L.getDate()+P),L}return L};function Md(S,P,L){var G=ls(S)+1,he=new Array(G);return Fn(S,he,0,he.length),he}var Nd=(S,P)=>{w.set(S,P)},Sr=(S,P,L,G)=>{var he=I[G+40>>2],ye={tm_sec:M[G>>2],tm_min:M[G+4>>2],tm_hour:M[G+8>>2],tm_mday:M[G+12>>2],tm_mon:M[G+16>>2],tm_year:M[G+20>>2],tm_wday:M[G+24>>2],tm_yday:M[G+28>>2],tm_isdst:M[G+32>>2],tm_gmtoff:M[G+36>>2],tm_zone:he?us(he):""},be=us(L),Ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Qe in Ie)be=be.replace(new RegExp(Qe,"g"),Ie[Qe]);var dt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kt=["January","February","March","April","May","June","July","August","September","October","November","December"];function At(St,Ht,ua){for(var Ma=typeof St=="number"?St.toString():St||"";Ma.length<Ht;)Ma=ua[0]+Ma;return Ma}function Yt(St,Ht){return At(St,Ht,"0")}function Vt(St,Ht){function ua(ei){return ei<0?-1:ei>0?1:0}var Ma;return(Ma=ua(St.getFullYear()-Ht.getFullYear()))===0&&(Ma=ua(St.getMonth()-Ht.getMonth()))===0&&(Ma=ua(St.getDate()-Ht.getDate())),Ma}function an(St){switch(St.getDay()){case 0:return new Date(St.getFullYear()-1,11,29);case 1:return St;case 2:return new Date(St.getFullYear(),0,3);case 3:return new Date(St.getFullYear(),0,2);case 4:return new Date(St.getFullYear(),0,1);case 5:return new Date(St.getFullYear()-1,11,31);case 6:return new Date(St.getFullYear()-1,11,30)}}function ln(St){var Ht=ru(new Date(St.tm_year+1900,0,1),St.tm_yday),ua=new Date(Ht.getFullYear(),0,4),Ma=new Date(Ht.getFullYear()+1,0,4),ei=an(ua),ti=an(Ma);return Vt(ei,Ht)<=0?Vt(ti,Ht)<=0?Ht.getFullYear()+1:Ht.getFullYear():Ht.getFullYear()-1}var Dn={"%a":St=>dt[St.tm_wday].substring(0,3),"%A":St=>dt[St.tm_wday],"%b":St=>kt[St.tm_mon].substring(0,3),"%B":St=>kt[St.tm_mon],"%C":St=>{var Ht=St.tm_year+1900;return Yt(Ht/100|0,2)},"%d":St=>Yt(St.tm_mday,2),"%e":St=>At(St.tm_mday,2," "),"%g":St=>ln(St).toString().substring(2),"%G":St=>ln(St),"%H":St=>Yt(St.tm_hour,2),"%I":St=>{var Ht=St.tm_hour;return Ht==0?Ht=12:Ht>12&&(Ht-=12),Yt(Ht,2)},"%j":St=>Yt(St.tm_mday+Ad(Jo(St.tm_year+1900)?gc:au,St.tm_mon-1),3),"%m":St=>Yt(St.tm_mon+1,2),"%M":St=>Yt(St.tm_min,2),"%n":()=>`
`,"%p":St=>St.tm_hour>=0&&St.tm_hour<12?"AM":"PM","%S":St=>Yt(St.tm_sec,2),"%t":()=>"	","%u":St=>St.tm_wday||7,"%U":St=>{var Ht=St.tm_yday+7-St.tm_wday;return Yt(Math.floor(Ht/7),2)},"%V":St=>{var Ht=Math.floor((St.tm_yday+7-(St.tm_wday+6)%7)/7);if((St.tm_wday+371-St.tm_yday-2)%7<=2&&Ht++,Ht){if(Ht==53){var ua=(St.tm_wday+371-St.tm_yday)%7;ua!=4&&(ua!=3||!Jo(St.tm_year))&&(Ht=1)}}else{Ht=52;var Ma=(St.tm_wday+7-St.tm_yday-1)%7;(Ma==4||Ma==5&&Jo(St.tm_year%400-1))&&Ht++}return Yt(Ht,2)},"%w":St=>St.tm_wday,"%W":St=>{var Ht=St.tm_yday+7-(St.tm_wday+6)%7;return Yt(Math.floor(Ht/7),2)},"%y":St=>(St.tm_year+1900).toString().substring(2),"%Y":St=>St.tm_year+1900,"%z":St=>{var Ht=St.tm_gmtoff,ua=Ht>=0;return Ht=Math.abs(Ht)/60,Ht=Ht/60*100+Ht%60,(ua?"+":"-")+("0000"+Ht).slice(-4)},"%Z":St=>St.tm_zone,"%%":()=>"%"};be=be.replace(/%%/g,"\0\0");for(var Qe in Dn)be.includes(Qe)&&(be=be.replace(new RegExp(Qe,"g"),Dn[Qe](ye)));be=be.replace(/\0\0/g,"%");var _n=Md(be);return _n.length>P?0:(Nd(_n,S),_n.length-1)},rl=(S,P,L,G,he)=>Sr(S,P,L,G);Yn=n.InternalError=class extends Error{constructor(S){super(S),this.name="InternalError"}},fa(),ct=n.BindingError=class extends Error{constructor(S){super(S),this.name="BindingError"}},xd(),es(),pn(),Kl=n.UnboundTypeError=Hs(Error,"UnboundTypeError"),wr(),Td();var hs={s:X,u:Ue,b:nt,g:st,q:ht,J:Ve,f:Je,V:Pt,d:He,da:ja,Q:Nt,_:Tr,ca:is,ba:Gl,w:gm,Y:oo,x:js,h:Xo,L:cc,M:Vd,t:Gs,o:Hn,K:Ql,C:ur,A:Xs,ea:Js,$:mc,R:Zs,ha:ro,fa:kr,Z:ds,N:ta,O:Mo,aa:fs,B:hc,X:No,W:nu,T:nl,U:Id,E:Z,D:v,F:ce,n:xe,a:ps,e:D,m:Rd,k:U,H:qe,v:ve,G:Q,z:Be,P:Ne,l:A,j:g,c:Zo,p:_s,I:Ce,r:we,i:ee,y:ze,ga:al,S:rl},la=it(),_o=n._free=S=>(_o=n._free=la.ka)(S),yc=n._malloc=S=>(yc=n._malloc=la.la)(S),Bd=S=>(Bd=la.na)(S),Gn=(S,P)=>(Gn=la.oa)(S,P),Or=S=>(Or=la.pa)(S),sn=()=>(sn=la.qa)(),Mn=S=>(Mn=la.ra)(S),Ir=S=>(Ir=la.sa)(S),$d=S=>($d=la.ta)(S),vs=(S,P,L)=>(vs=la.ua)(S,P,L),ou=S=>(ou=la.va)(S);n.dynCall_viijii=(S,P,L,G,he,ye,be)=>(n.dynCall_viijii=la.wa)(S,P,L,G,he,ye,be);var dr=n.dynCall_jiiii=(S,P,L,G,he)=>(dr=n.dynCall_jiiii=la.xa)(S,P,L,G,he);n.dynCall_iiiiij=(S,P,L,G,he,ye,be)=>(n.dynCall_iiiiij=la.ya)(S,P,L,G,he,ye,be),n.dynCall_iiiiijj=(S,P,L,G,he,ye,be,Ie,Qe)=>(n.dynCall_iiiiijj=la.za)(S,P,L,G,he,ye,be,Ie,Qe),n.dynCall_iiiiiijj=(S,P,L,G,he,ye,be,Ie,Qe,dt)=>(n.dynCall_iiiiiijj=la.Aa)(S,P,L,G,he,ye,be,Ie,Qe,dt);function ps(S,P){var L=sn();try{return Un(S)(P)}catch(G){if(Mn(L),G!==G+0)throw G;Gn(1,0)}}function _s(S,P,L,G){var he=sn();try{Un(S)(P,L,G)}catch(ye){if(Mn(he),ye!==ye+0)throw ye;Gn(1,0)}}function Zo(S,P,L){var G=sn();try{Un(S)(P,L)}catch(he){if(Mn(G),he!==he+0)throw he;Gn(1,0)}}function Rd(S,P,L,G){var he=sn();try{return Un(S)(P,L,G)}catch(ye){if(Mn(he),ye!==ye+0)throw ye;Gn(1,0)}}function v(S,P,L,G,he){var ye=sn();try{return Un(S)(P,L,G,he)}catch(be){if(Mn(ye),be!==be+0)throw be;Gn(1,0)}}function g(S,P){var L=sn();try{Un(S)(P)}catch(G){if(Mn(L),G!==G+0)throw G;Gn(1,0)}}function D(S,P,L){var G=sn();try{return Un(S)(P,L)}catch(he){if(Mn(G),he!==he+0)throw he;Gn(1,0)}}function A(S){var P=sn();try{Un(S)()}catch(L){if(Mn(P),L!==L+0)throw L;Gn(1,0)}}function U(S,P,L,G,he){var ye=sn();try{return Un(S)(P,L,G,he)}catch(be){if(Mn(ye),be!==be+0)throw be;Gn(1,0)}}function ee(S,P,L,G,he,ye,be,Ie,Qe,dt,kt){var At=sn();try{Un(S)(P,L,G,he,ye,be,Ie,Qe,dt,kt)}catch(Yt){if(Mn(At),Yt!==Yt+0)throw Yt;Gn(1,0)}}function ve(S,P,L,G,he,ye,be){var Ie=sn();try{return Un(S)(P,L,G,he,ye,be)}catch(Qe){if(Mn(Ie),Qe!==Qe+0)throw Qe;Gn(1,0)}}function Ce(S,P,L,G,he){var ye=sn();try{Un(S)(P,L,G,he)}catch(be){if(Mn(ye),be!==be+0)throw be;Gn(1,0)}}function qe(S,P,L,G,he,ye){var be=sn();try{return Un(S)(P,L,G,he,ye)}catch(Ie){if(Mn(be),Ie!==Ie+0)throw Ie;Gn(1,0)}}function Q(S,P,L,G,he,ye,be,Ie){var Qe=sn();try{return Un(S)(P,L,G,he,ye,be,Ie)}catch(dt){if(Mn(Qe),dt!==dt+0)throw dt;Gn(1,0)}}function ce(S,P,L,G){var he=sn();try{return Un(S)(P,L,G)}catch(ye){if(Mn(he),ye!==ye+0)throw ye;Gn(1,0)}}function Z(S,P,L,G){var he=sn();try{return Un(S)(P,L,G)}catch(ye){if(Mn(he),ye!==ye+0)throw ye;Gn(1,0)}}function xe(S){var P=sn();try{return Un(S)()}catch(L){if(Mn(P),L!==L+0)throw L;Gn(1,0)}}function we(S,P,L,G,he,ye,be,Ie){var Qe=sn();try{Un(S)(P,L,G,he,ye,be,Ie)}catch(dt){if(Mn(Qe),dt!==dt+0)throw dt;Gn(1,0)}}function Be(S,P,L,G,he,ye,be,Ie,Qe,dt,kt,At){var Yt=sn();try{return Un(S)(P,L,G,he,ye,be,Ie,Qe,dt,kt,At)}catch(Vt){if(Mn(Yt),Vt!==Vt+0)throw Vt;Gn(1,0)}}function ze(S,P,L,G,he,ye,be,Ie,Qe,dt,kt,At,Yt,Vt,an,ln){var Dn=sn();try{Un(S)(P,L,G,he,ye,be,Ie,Qe,dt,kt,At,Yt,Vt,an,ln)}catch(_n){if(Mn(Dn),_n!==_n+0)throw _n;Gn(1,0)}}function Ne(S,P,L,G,he){var ye=sn();try{return dr(S,P,L,G,he)}catch(be){if(Mn(ye),be!==be+0)throw be;Gn(1,0)}}var et;me=function S(){et||rt(),et||(me=S)};function rt(){if(Ee>0||(ae(),Ee>0))return;function S(){et||(et=!0,n.calledRun=!0,!C&&(te(),a(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),J()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),S()},1)):S()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return rt(),t.ready}})();function $U(e){return Yy(Ky,e)}async function RU(e,t){return NU(Ky,e,t)}async function FU(e,t){return BU(Ky,e,t)}var hm;class Gy extends EventTarget{constructor(t={}){var n;super(),dU(this,hm,void 0);try{const a=(n=t?.formats)==null?void 0:n.filter(r=>r!=="unknown");if(a?.length===0)throw new TypeError("Hint option provided, but is empty.");a?.forEach(r=>{if(!Pv.has(r))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${r}' is not a valid enum value of type BarcodeFormat.`)}),fU(this,hm,a??[]),$U().then(r=>{this.dispatchEvent(new CustomEvent("load",{detail:r}))}).catch(r=>{this.dispatchEvent(new CustomEvent("error",{detail:r}))})}catch(a){throw ME(a,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return mU.filter(t=>t!=="unknown")}async detect(t){try{const n=await bU(t);if(n===null)return[];let a;try{IE(n)?a=await RU(n,{tryHarder:!0,formats:SE(this,hm).map(r=>Pv.get(r))}):a=await FU(n,{tryHarder:!0,formats:SE(this,hm).map(r=>Pv.get(r))})}catch(r){throw console.error(r),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return a.map(r=>{const{topLeft:{x:o,y:i},topRight:{x:l,y:u},bottomLeft:{x:f,y:d},bottomRight:{x:m,y:p}}=r.position,y=Math.min(o,l,f,m),b=Math.min(i,u,d,p),C=Math.max(o,l,f,m),w=Math.max(i,u,d,p);return{boundingBox:new DOMRectReadOnly(y,b,C-y,w-b),rawValue:r.text,format:hU(r.format),cornerPoints:[{x:o,y:i},{x:l,y:u},{x:m,y:p},{x:f,y:d}]}})}catch(n){throw ME(n,"Failed to execute 'detect' on 'BarcodeDetector'")}}}hm=new WeakMap;const LE=(e,t,n="error")=>{let a,r;const o=new Promise((i,l)=>{a=i,r=l,e.addEventListener(t,a),e.addEventListener(n,r)});return o.finally(()=>{e.removeEventListener(t,a),e.removeEventListener(n,r)}),o},qE=e=>new Promise(t=>setTimeout(t,e));class UE extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class LU extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class qU extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}const UU=e=>{let t=!1,n;return(...a)=>(t||(n=e(a),t=!0),n)};function Xi(e,t){if(e===!1)throw new Error(t??"assertion failure")}function HE(e){throw new Error("this code should be unreachable")}function HU(){return navigator.platform.toUpperCase().includes("MAC")}let WE;async function WU(e){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new Gy({formats:e});const t=await window.BarcodeDetector.getSupportedFormats(),n=e.filter(a=>!t.includes(a));return n.length>0?(console.debug(`[vue-qrcode-reader] Native BarcodeDetector does not support formats ${JSON.stringify(n)}. Will use polyfill.`),new Gy({formats:e})):HU()&&e.includes("pdf417")?(console.debug("[vue-qrcode-reader] Native BarcodeDetector is buggy for PDF417 codes on MacOS. Will use polyfill."),new Gy({formats:e})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:e}))}async function zE(e){WE=await WU(e)}const zU=async(e,{detectHandler:t,locateHandler:n,minDelay:a,formats:r})=>{console.debug("[vue-qrcode-reader] start scanning"),await zE(r);const o=i=>async l=>{if(e.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:u,contentBefore:f,lastScanHadContent:d}=i;if(l-u<a)window.requestAnimationFrame(o(i));else{const m=await WE.detect(e),p=m.some(C=>!f.includes(C.rawValue));p&&t(m);const y=m.length>0;y&&n(m),!y&&d&&n(m);const b={lastScanned:l,lastScanHadContent:y,contentBefore:p?m.map(C=>C.rawValue):f};window.requestAnimationFrame(o(b))}}};o({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var jE={},ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.compactObject=QE,ho.deprecated=eH;var jU=ho.detectBrowser=tH;ho.disableLog=XU,ho.disableWarnings=JU,ho.extractVersion=Ev,ho.filterStats=nH,ho.log=ZU,ho.walkStats=Dv,ho.wrapPeerConnectionEvent=QU;function YU(e,t,n){return t=KU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KU(e){var t=GU(e,"string");return Fl(t)==="symbol"?t:String(t)}function GU(e,t){if(Fl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Fl(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}var YE=!0,KE=!0;function Ev(e,t,n){var a=e.match(t);return a&&a.length>=n&&parseInt(a[n],10)}function QU(e,t,n){if(e.RTCPeerConnection){var a=e.RTCPeerConnection.prototype,r=a.addEventListener;a.addEventListener=function(i,l){if(i!==t)return r.apply(this,arguments);var u=function(f){var d=n(f);d&&(l.handleEvent?l.handleEvent(d):l(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,u),r.apply(this,[i,u])};var o=a.removeEventListener;a.removeEventListener=function(i,l){if(i!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);var u=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[i,u])},Object.defineProperty(a,"on"+t,{get:function(){return this["_on"+t]},set:function(i){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),i&&this.addEventListener(t,this["_on"+t]=i)},enumerable:!0,configurable:!0})}}function XU(e){return typeof e!="boolean"?new Error("Argument type: "+Fl(e)+". Please use a boolean."):(YE=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function JU(e){return typeof e!="boolean"?new Error("Argument type: "+Fl(e)+". Please use a boolean."):(KE=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ZU(){if((typeof window>"u"?"undefined":Fl(window))==="object"){if(YE)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function eH(e,t){KE&&console.warn(e+" is deprecated, please use "+t+" instead.")}function tH(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=Ev(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Ev(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Ev(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function GE(e){return Object.prototype.toString.call(e)==="[object Object]"}function QE(e){return GE(e)?Object.keys(e).reduce(function(t,n){var a=GE(e[n]),r=a?QE(e[n]):e[n],o=a&&!Object.keys(r).length;return r===void 0||o?t:Object.assign(t,YU({},n,r))},{}):e}function Dv(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(function(a){a.endsWith("Id")?Dv(e,e.get(t[a]),n):a.endsWith("Ids")&&t[a].forEach(function(r){Dv(e,e.get(r),n)})}))}function nH(e,t,n){var a=n?"outbound-rtp":"inbound-rtp",r=new Map;if(t===null)return r;var o=[];return e.forEach(function(i){i.type==="track"&&i.trackIdentifier===t.id&&o.push(i)}),o.forEach(function(i){e.forEach(function(l){l.type===a&&l.trackId===i.id&&Dv(e,l,r)})}),r}Object.defineProperty(jE,"__esModule",{value:!0});var aH=jE.shimGetUserMedia=iH,rH=oH(ho);function XE(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(XE=function(a){return a?n:t})(e)}function oH(e,t){if(e&&e.__esModule)return e;if(e===null||Ll(e)!=="object"&&typeof e!="function")return{default:e};var n=XE(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}var JE=rH.log;function iH(e,t){var n=e&&e.navigator;if(n.mediaDevices){var a=function(u){if(Ll(u)!=="object"||u.mandatory||u.optional)return u;var f={};return Object.keys(u).forEach(function(d){if(!(d==="require"||d==="advanced"||d==="mediaSource")){var m=Ll(u[d])==="object"?u[d]:{ideal:u[d]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);var p=function(b,C){return b?b+C.charAt(0).toUpperCase()+C.slice(1):C==="deviceId"?"sourceId":C};if(m.ideal!==void 0){f.optional=f.optional||[];var y={};typeof m.ideal=="number"?(y[p("min",d)]=m.ideal,f.optional.push(y),y={},y[p("max",d)]=m.ideal,f.optional.push(y)):(y[p("",d)]=m.ideal,f.optional.push(y))}m.exact!==void 0&&typeof m.exact!="number"?(f.mandatory=f.mandatory||{},f.mandatory[p("",d)]=m.exact):["min","max"].forEach(function(b){m[b]!==void 0&&(f.mandatory=f.mandatory||{},f.mandatory[p(b,d)]=m[b])})}}),u.advanced&&(f.optional=(f.optional||[]).concat(u.advanced)),f},r=function(u,f){if(t.version>=61)return f(u);if(u=JSON.parse(JSON.stringify(u)),u&&Ll(u.audio)==="object"){var d=function(b,C,w){C in b&&!(w in b)&&(b[w]=b[C],delete b[C])};u=JSON.parse(JSON.stringify(u)),d(u.audio,"autoGainControl","googAutoGainControl"),d(u.audio,"noiseSuppression","googNoiseSuppression"),u.audio=a(u.audio)}if(u&&Ll(u.video)==="object"){var m=u.video.facingMode;m=m&&(Ll(m)==="object"?m:{ideal:m});var p=t.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete u.video.facingMode;var y;if(m.exact==="environment"||m.ideal==="environment"?y=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(y=["front"]),y)return n.mediaDevices.enumerateDevices().then(function(b){b=b.filter(function(w){return w.kind==="videoinput"});var C=b.find(function(w){return y.some(function(k){return w.label.toLowerCase().includes(k)})});return!C&&b.length&&y.includes("back")&&(C=b[b.length-1]),C&&(u.video.deviceId=m.exact?{exact:C.deviceId}:{ideal:C.deviceId}),u.video=a(u.video),JE("chrome: "+JSON.stringify(u)),f(u)})}u.video=a(u.video)}return JE("chrome: "+JSON.stringify(u)),f(u)},o=function(u){return t.version>=64?u:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[u.name]||u.name,message:u.message,constraint:u.constraint||u.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(u,f,d){r(u,function(m){n.webkitGetUserMedia(m,f,function(p){d&&d(o(p))})})};if(n.getUserMedia=i.bind(n),n.mediaDevices.getUserMedia){var l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(u){return r(u,function(f){return l(f).then(function(d){if(f.audio&&!d.getAudioTracks().length||f.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(function(m){m.stop()}),new DOMException("","NotFoundError");return d},function(d){return Promise.reject(o(d))})})}}}}var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});var sH=ZE.shimGetUserMedia=cH,lH=uH(ho);function eD(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(eD=function(a){return a?n:t})(e)}function uH(e,t){if(e&&e.__esModule)return e;if(e===null||kd(e)!=="object"&&typeof e!="function")return{default:e};var n=eD(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function cH(e,t){var n=e&&e.navigator,a=e&&e.MediaStreamTrack;if(n.getUserMedia=function(u,f,d){lH.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(u).then(f,d)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var r=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return kd(u)==="object"&&kd(u.audio)==="object"&&(u=JSON.parse(JSON.stringify(u)),r(u.audio,"autoGainControl","mozAutoGainControl"),r(u.audio,"noiseSuppression","mozNoiseSuppression")),o(u)},a&&a.prototype.getSettings){var i=a.prototype.getSettings;a.prototype.getSettings=function(){var u=i.apply(this,arguments);return r(u,"mozAutoGainControl","autoGainControl"),r(u,"mozNoiseSuppression","noiseSuppression"),u}}if(a&&a.prototype.applyConstraints){var l=a.prototype.applyConstraints;a.prototype.applyConstraints=function(u){return this.kind==="audio"&&kd(u)==="object"&&(u=JSON.parse(JSON.stringify(u)),r(u,"autoGainControl","mozAutoGainControl"),r(u,"noiseSuppression","mozNoiseSuppression")),l.apply(this,[u])}}}}var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.shimAudioContext=bH,Ji.shimCallbacksAPI=vH,Ji.shimConstraints=aD,Ji.shimCreateOfferLegacy=yH;var dH=Ji.shimGetUserMedia=pH;Ji.shimLocalStreamsAPI=mH,Ji.shimRTCIceServerUrls=_H,Ji.shimRemoteStreamsAPI=hH,Ji.shimTrackEventTransceiver=gH;var tD=fH(ho);function nD(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(nD=function(a){return a?n:t})(e)}function fH(e,t){if(e&&e.__esModule)return e;if(e===null||ql(e)!=="object"&&typeof e!="function")return{default:e};var n=nD(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function mH(e){if(!(ql(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){var a=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(function(r){return t.call(a,r,n)}),n.getVideoTracks().forEach(function(r){return t.call(a,r,n)})},e.RTCPeerConnection.prototype.addTrack=function(n){for(var a=this,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o&&o.forEach(function(l){a._localStreams?a._localStreams.includes(l)||a._localStreams.push(l):a._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){var a=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(n);if(r!==-1){this._localStreams.splice(r,1);var o=n.getTracks();this.getSenders().forEach(function(i){o.includes(i.track)&&a.removeTrack(i)})}})}}function hH(e){if(!(ql(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(n){var a=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(function(o){if(a._remoteStreams||(a._remoteStreams=[]),!a._remoteStreams.includes(o)){a._remoteStreams.push(o);var i=new Event("addstream");i.stream=o,a.dispatchEvent(i)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(function(r){if(n._remoteStreams||(n._remoteStreams=[]),!(n._remoteStreams.indexOf(r)>=0)){n._remoteStreams.push(r);var o=new Event("addstream");o.stream=r,n.dispatchEvent(o)}})}),t.apply(n,arguments)}}}function vH(e){if(!(ql(e)!=="object"||!e.RTCPeerConnection)){var t=e.RTCPeerConnection.prototype,n=t.createOffer,a=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,i=t.addIceCandidate;t.createOffer=function(u,f){var d=arguments.length>=2?arguments[2]:arguments[0],m=n.apply(this,[d]);return f?(m.then(u,f),Promise.resolve()):m},t.createAnswer=function(u,f){var d=arguments.length>=2?arguments[2]:arguments[0],m=a.apply(this,[d]);return f?(m.then(u,f),Promise.resolve()):m};var l=function(u,f,d){var m=r.apply(this,[u]);return d?(m.then(f,d),Promise.resolve()):m};t.setLocalDescription=l,l=function(u,f,d){var m=o.apply(this,[u]);return d?(m.then(f,d),Promise.resolve()):m},t.setRemoteDescription=l,l=function(u,f,d){var m=i.apply(this,[u]);return d?(m.then(f,d),Promise.resolve()):m},t.addIceCandidate=l}}function pH(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,a=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(r){return a(aD(r))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(r,o,i){t.mediaDevices.getUserMedia(r).then(o,i)}.bind(t))}function aD(e){return e&&e.video!==void 0?Object.assign({},e,{video:tD.compactObject(e.video)}):e}function _H(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,a){if(n&&n.iceServers){for(var r=[],o=0;o<n.iceServers.length;o++){var i=n.iceServers[o];i.urls===void 0&&i.url?(tD.deprecated("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,r.push(i)):r.push(n.iceServers[o])}n.iceServers=r}return new t(n,a)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function gH(e){ql(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function yH(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);var a=this.getTransceivers().find(function(o){return o.receiver.track.kind==="audio"});n.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);var r=this.getTransceivers().find(function(o){return o.receiver.track.kind==="video"});n.offerToReceiveVideo===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):n.offerToReceiveVideo===!0&&!r&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function bH(e){ql(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const wH=UU(()=>{const e=jU(window);switch(e.browser){case"chrome":aH(window,e);break;case"firefox":sH(window,e);break;case"safari":dH(window,e);break;default:throw new UE}});let Sd=Promise.resolve({type:"stop",data:{}});async function rD(e,t,n){var a,r,o;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),window.isSecureContext!==!0)throw new LU;if(((a=navigator?.mediaDevices)==null?void 0:a.getUserMedia)===void 0)throw new UE;wH(),console.debug("[vue-qrcode-reader] calling getUserMedia");const i=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});e.srcObject!==void 0?e.srcObject=i:e.mozSrcObject!==void 0?e.mozSrcObject=i:window.URL.createObjectURL?e.src=window.URL.createObjectURL(i):window.webkitURL?e.src=window.webkitURL.createObjectURL(i):e.src=i.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([LE(e,"loadeddata"),qE(6e3).then(()=>{throw new qU})]),console.debug("[vue-qrcode-reader] video element loaded"),await qE(500);const[l]=i.getVideoTracks(),u=(o=(r=l?.getCapabilities)==null?void 0:r.call(l))!=null?o:{};let f=!1;return n&&u.torch&&(await l.applyConstraints({advanced:[{torch:!0}]}),f=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:i,capabilities:u,constraints:t,isTorchOn:f}}}async function kH(e,{constraints:t,torch:n,restart:a=!1}){Sd=Sd.then(o=>{if(o.type==="start"){const{data:{videoEl:i,stream:l,constraints:u,isTorchOn:f}}=o;return!a&&e===i&&t===u&&n===f?o:oD(i,l,f).then(()=>rD(e,t,n))}else if(o.type==="stop"||o.type==="failed")return rD(e,t,n);HE()}).catch(o=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${o}"`),{type:"failed",error:o}));const r=await Sd;if(r.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(r.type==="failed")throw r.error;if(r.type==="start")return r.data.capabilities;HE()}async function oD(e,t,n){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await LE(e,"error");for(const a of t.getTracks())n!=null||await a.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(a),a.stop();return{type:"stop",data:{}}}async function Tv(){if(Sd=Sd.then(e=>{if(e.type==="stop"||e.type==="failed")return e;const{data:{videoEl:t,stream:n,isTorchOn:a}}=e;return oD(t,n,a)}),(await Sd).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const SH={name:"CameraScanner",components:{QrcodeStream:or({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const n=e,a=t,r=Re(n.constraints),o=Re(n.formats);_t(()=>n.constraints,(V,M)=>{JSON.stringify(V)!==JSON.stringify(M)&&(r.value=V)},{deep:!0}),_t(()=>n.formats,(V,M)=>{JSON.stringify(V)!==JSON.stringify(M)&&(o.value=V)},{deep:!0});const i=Re(),l=Re(),u=Re(),f=Re(!1),d=Re(!1);yn(()=>{d.value=!0}),Ni(()=>{Tv()});const m=N(()=>({torch:n.torch,constraints:r.value,shouldStream:d.value&&!n.paused}));_t(m,async V=>{const M=u.value;Xi(M!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const I=i.value;Xi(I!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const R=I.getContext("2d");if(Xi(R!==null,"if cavnas is defined, canvas 2d context should also be non-null"),V.shouldStream){Tv(),f.value=!1;try{const W=await kH(M,V);d.value?(f.value=!0,a("camera-on",W)):await Tv()}catch(W){a("error",W)}}else I.width=M.videoWidth,I.height=M.videoHeight,R.drawImage(M,0,0,M.videoWidth,M.videoHeight),Tv(),f.value=!1,a("camera-off")},{deep:!0}),_t(o,async V=>{d.value&&await zE(V)});const p=N(()=>m.value.shouldStream&&f.value);_t(p,V=>{if(V){Xi(i.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),y(i.value),Xi(l.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),y(l.value);const M=()=>n.track===void 0?500:40;Xi(u.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),zU(u.value,{detectHandler:I=>a("detect",I),formats:o.value,locateHandler:b,minDelay:M()})}});const y=V=>{const M=V.getContext("2d");Xi(M!==null,"canvas 2d context should always be non-null"),M.clearRect(0,0,V.width,V.height)},b=V=>{const M=l.value;Xi(M!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const I=u.value;if(Xi(I!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),V.length===0||n.track===void 0)y(M);else{const R=I.offsetWidth,W=I.offsetHeight,q=I.videoWidth,z=I.videoHeight,Y=Math.max(R/q,W/z),K=q*Y,ae=z*Y,te=K/q,J=ae/z,ne=(R-K)/2,re=(W-ae)/2,pe=({x:le,y:Te})=>({x:Math.floor(le*te),y:Math.floor(Te*J)}),Ee=({x:le,y:Te})=>({x:Math.floor(le+ne),y:Math.floor(Te+re)}),me=V.map(le=>{const{boundingBox:Te,cornerPoints:ue}=le,{x:De,y:Me}=Ee(pe({x:Te.x,y:Te.y})),{x:Oe,y:B}=pe({x:Te.width,y:Te.height});return{...le,cornerPoints:ue.map(Ae=>Ee(pe(Ae))),boundingBox:DOMRectReadOnly.fromRect({x:De,y:Me,width:Oe,height:B})}});M.width=I.offsetWidth,M.height=I.offsetHeight;const fe=M.getContext("2d");Xi(fe!==null,"canvas 2d context should always be non-null"),n.track(me,fe)}},C={width:"100%",height:"100%",position:"relative","z-index":"0"},w={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},k={width:"100%",height:"100%","object-fit":"cover"},T=N(()=>p.value?k:{...k,visibility:"hidden",position:"absolute"});return(V,M)=>(de(),Ze("div",{style:C},[x("video",{ref_key:"videoRef",ref:u,style:vt(T.value),autoplay:"",muted:"",playsinline:""},null,4),Sn(x("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:i,style:k},null,512),[[Ca,!p.value]]),x("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:l,style:w},null,512),x("div",{style:w},[qt(V.$slots,"default")])]))}})},props:{scanType:{type:String,default:"Both"}},data(){return{scannerDialog:!1,scanResult:"",scanFormat:"",errorMessage:"",cameraPermissionDenied:!1,isScanning:!1,torchActive:!1,selectedDeviceId:null,cameras:[]}},computed:{readerFormats(){const e=["qr_code","ean_13","ean_8","code_128","code_39","code_93","codabar","upc_a","upc_e","itf"];return this.scanType==="QR Code"?["qr_code"]:this.scanType==="Barcode"?e.filter(t=>t!=="qr_code"):e}},methods:{async startScanning(){this.scannerDialog=!0,this.errorMessage="",this.scanResult="",this.scanFormat="",this.cameraPermissionDenied=!1,this.isScanning=!0,await this.$nextTick(),await this.listCameras()},async listCameras(){try{if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){console.warn("MediaDevices API not supported."),this.cameras=[];return}const e=await navigator.mediaDevices.enumerateDevices();if(this.cameras=e.filter(t=>t.kind==="videoinput"),this.cameras.length>0&&!this.selectedDeviceId){const t=this.cameras.find(n=>/back|rear|environment/i.test(n.label));this.selectedDeviceId=t?t.deviceId:this.cameras[0].deviceId}}catch(e){console.error("Error listing cameras:",e),this.cameras=[]}},onDetect(e){if(e&&e.length>0){const t=e[0];this.scanResult=t.rawValue,this.scanFormat=t.format,this.errorMessage="",this.$emit("barcode-scanned",this.scanResult),typeof frappe<"u"&&frappe.show_alert&&frappe.show_alert({message:this.__("Code scanned successfully")+` (${this.scanFormat})`,indicator:"green"},3),this.isScanning=!1,setTimeout(()=>{this.scanResult="",this.scanFormat="",this.isScanning=!0},1e3)}},onError(e){this.errorMessage=e.name||"Unknown error",e.name==="NotAllowedError"?(this.cameraPermissionDenied=!0,this.errorMessage=this.__("Camera permission denied. Please allow camera access in your browser settings.")):e.name==="NotFoundError"||e.name==="DevicesNotFoundError"?this.errorMessage=this.__("No camera found on this device."):e.name==="NotSupportedError"?this.errorMessage=this.__("Secure context (HTTPS) required for camera access."):e.name==="AbortError"?this.errorMessage=this.__("Camera access aborted."):this.errorMessage=this.__("Error accessing camera:")+` ${e.message}`,console.error("Camera error:",e),this.isScanning=!1},stopScanning(){this.isScanning=!1,this.scannerDialog=!1,this.scanResult="",this.scanFormat="",this.errorMessage="",this.torchActive=!1,this.$emit("scanner-closed")},async toggleTorch(){this.torchActive=!this.torchActive},async switchCamera(){if(this.cameras.length>1){const t=(this.cameras.findIndex(n=>n.deviceId===this.selectedDeviceId)+1)%this.cameras.length;this.selectedDeviceId=this.cameras[t].deviceId,this.isScanning=!1,await this.$nextTick(),this.isScanning=!0,typeof frappe<"u"&&frappe.show_alert&&frappe.show_alert({message:this.__("Switched to: ")+(this.cameras[t].label||`Camera ${t+1}`),indicator:"blue"},2)}},handleEscKey(e){e.key==="Escape"&&this.scannerDialog&&(e.preventDefault(),this.stopScanning())}},watch:{scannerDialog(e){e?!this.selectedDeviceId&&this.cameras.length===0&&this.listCameras():(this.isScanning=!1,this.torchActive=!1)}},mounted(){typeof document<"u"&&document.addEventListener("keydown",this.handleEscKey)},beforeUnmount(){typeof document<"u"&&document.removeEventListener("keydown",this.handleEscKey),this.stopScanning()}},CH={key:0},xH={key:0,class:"scanner-container"},PH={key:0,class:"scanning-overlay"},EH={class:"status-messages pa-3"},DH={key:1,class:"pa-4 text-center"},TH={class:"mt-2"},VH={class:"mt-2"},OH={class:"d-flex gap-2"};function IH(e,t,n,a,r,o){const i=ie("v-icon"),l=ie("v-chip"),u=ie("v-spacer"),f=ie("v-btn"),d=ie("v-card-title"),m=ie("qrcode-stream"),p=ie("v-alert"),y=ie("v-card-text"),b=ie("v-card-actions"),C=ie("v-card"),w=ie("v-dialog");return de(),lt(w,{modelValue:r.scannerDialog,"onUpdate:modelValue":t[2]||(t[2]=k=>r.scannerDialog=k),"max-width":"600px",persistent:"false"},{default:E(()=>[h(C,null,{default:E(()=>[h(d,{class:"text-h5 text-primary d-flex align-center"},{default:E(()=>[h(i,{class:"mr-2",size:"large"},{default:E(()=>t[3]||(t[3]=[Ke("mdi-camera")])),_:1,__:[3]}),Ke(" "+ge(e.__("Scan QR Code/Barcode"))+" ",1),h(l,{class:"ml-2",size:"small",color:"primary"},{default:E(()=>[Ke(ge(n.scanType==="Both"?"Auto Detect":n.scanType),1)]),_:1}),h(u),h(f,{icon:"mdi-close",onClick:$a(o.stopScanning,["stop"]),color:"error",variant:"text",size:"large",title:e.__("Close Scanner")},null,8,["onClick","title"])]),_:1}),h(y,{class:"pa-0"},{default:E(()=>[r.cameraPermissionDenied?(de(),Ze("div",DH,[h(i,{size:"64",color:"error"},{default:E(()=>t[8]||(t[8]=[Ke("mdi-camera-off")])),_:1,__:[8]}),x("h3",TH,ge(e.__("Camera Access Required")),1),x("p",VH,ge(e.__("Please allow camera access to scan codes")),1)])):(de(),Ze("div",CH,[r.isScanning&&r.scannerDialog?(de(),Ze("div",xH,[h(m,{formats:o.readerFormats,torch:r.torchActive,camera:r.selectedDeviceId?{deviceId:r.selectedDeviceId,exact:r.selectedDeviceId}:"auto",onDetect:o.onDetect,onError:o.onError,onCameraOn:t[0]||(t[0]=k=>r.isScanning=!0),onCameraOff:t[1]||(t[1]=k=>r.isScanning=!1),style:{width:"100%",height:"350px","object-fit":"cover"}},{default:E(()=>[r.scanResult?je("",!0):(de(),Ze("div",PH,t[4]||(t[4]=[x("div",{class:"scan-line"},null,-1),x("div",{class:"scan-corners"},[x("div",{class:"corner top-left"}),x("div",{class:"corner top-right"}),x("div",{class:"corner bottom-left"}),x("div",{class:"corner bottom-right"})],-1)])))]),_:1},8,["formats","torch","camera","onDetect","onError"])])):je("",!0),x("div",EH,[r.errorMessage?(de(),lt(p,{key:0,type:"error",variant:"tonal",class:"mb-2"},{default:E(()=>[h(i,null,{default:E(()=>t[5]||(t[5]=[Ke("mdi-alert-circle")])),_:1,__:[5]}),Ke(" "+ge(r.errorMessage),1)]),_:1})):je("",!0),r.scanResult?(de(),lt(p,{key:1,type:"success",variant:"tonal",class:"mb-2"},{default:E(()=>[Ke(ge(e.__("Successfully scanned:"))+" ",1),x("strong",null,ge(r.scanResult),1),t[6]||(t[6]=x("br",null,null,-1)),x("small",null,"Format: "+ge(r.scanFormat),1)]),_:1,__:[6]})):je("",!0),!r.scanResult&&!r.errorMessage&&r.isScanning&&r.scannerDialog?(de(),lt(p,{key:2,type:"info",variant:"tonal"},{default:E(()=>[Ke(ge(e.__("Position the QR code or barcode within the scanning area"))+" ",1),t[7]||(t[7]=x("br",null,null,-1)),x("small",null,ge(e.__("Detecting formats:"))+" "+ge(o.readerFormats.join(", ")),1)]),_:1,__:[7]})):je("",!0)])]))]),_:1}),h(b,{class:"justify-space-between pa-3"},{default:E(()=>[x("div",OH,[r.isScanning&&r.cameras.length>0?(de(),lt(f,{key:0,onClick:o.toggleTorch,color:r.torchActive?"warning":"default",variant:"outlined",size:"small"},{default:E(()=>[h(i,null,{default:E(()=>[Ke(ge(r.torchActive?"mdi-flashlight":"mdi-flashlight-off"),1)]),_:1}),Ke(" "+ge(r.torchActive?e.__("Flash On"):e.__("Flash Off")),1)]),_:1},8,["onClick","color"])):je("",!0),r.isScanning&&r.cameras.length>1?(de(),lt(f,{key:1,onClick:o.switchCamera,color:"default",variant:"outlined",size:"small"},{default:E(()=>[h(i,null,{default:E(()=>t[9]||(t[9]=[Ke("mdi-camera-switch")])),_:1,__:[9]}),Ke(" "+ge(e.__("Switch Camera")),1)]),_:1},8,["onClick"])):je("",!0)]),h(f,{onClick:$a(o.stopScanning,["stop"]),color:"error",variant:"outlined"},{default:E(()=>[Ke(ge(e.__("Cancel")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const AH=sa(SH,[["render",IH],["__scopeId","data-v-171eae58"]]),iD={data(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,baseWidth:window.innerWidth,baseHeight:window.innerHeight}},computed:{widthScale(){return this.windowWidth/this.baseWidth},heightScale(){return this.windowHeight/this.baseHeight},averageScale(){return(this.widthScale+this.heightScale)/2},dynamicSpacing(){const e={xs:4,sm:8,md:16,lg:24,xl:32};return{xs:Math.max(2,Math.round(e.xs*this.averageScale)),sm:Math.max(4,Math.round(e.sm*this.averageScale)),md:Math.max(8,Math.round(e.md*this.averageScale)),lg:Math.max(12,Math.round(e.lg*this.averageScale)),xl:Math.max(16,Math.round(e.xl*this.averageScale))}},responsiveStyles(){let e;return this.windowWidth<=480?e=Math.round(45*this.heightScale):this.windowWidth<=768?e=Math.round(55*this.heightScale):e=Math.round(60*this.heightScale),e=Math.max(30,Math.min(e,70)),{"--dynamic-xs":`${this.dynamicSpacing.xs}px`,"--dynamic-sm":`${this.dynamicSpacing.sm}px`,"--dynamic-md":`${this.dynamicSpacing.md}px`,"--dynamic-lg":`${this.dynamicSpacing.lg}px`,"--dynamic-xl":`${this.dynamicSpacing.xl}px`,"--container-height":`${Math.round(68*this.heightScale)}vh`,"--card-height":`${e}vh`,"--font-scale":this.averageScale.toFixed(2)}}},mounted(){this.handleResize(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}}},MH={mixins:[xi,iD],components:{CameraScanner:AH},data:()=>({pos_profile:"",flags:{},items_view:"list",item_group:"ALL",loading:!1,items_group:["ALL"],items:[],search:"",first_search:"",search_backup:"",itemsPerPage:50,offersCount:0,appliedOffersCount:0,couponsCount:0,appliedCouponsCount:0,customer_price_list:null,customer:null,new_line:!1,qty:1,refresh_interval:null,currentRequest:null,abortController:null,itemDetailsRetryCount:0,itemDetailsRetryTimeout:null,items_loaded:!1,selected_currency:"",exchange_rate:1,prePopulateInProgress:!1,itemWorker:null,items_request_token:0,show_item_settings:!1,hide_qty_decimals:!1,temp_hide_qty_decimals:!1,hide_zero_rate_items:!1,temp_hide_zero_rate_items:!1}),watch:{customer:bd.debounce(function(){if(this.pos_profile.posa_force_reload_items){this.pos_profile.posa_smart_reload_mode?!this.items_loaded||!this.filtered_items.length?(this.items_loaded=!1,this.get_items(!0)):this.$nextTick(()=>this.refreshPricesForVisibleItems()):(this.items_loaded=!1,this.get_items(!0));return}this.items_loaded&&this.filtered_items&&this.filtered_items.length>0?this.$nextTick(()=>this.refreshPricesForVisibleItems()):this.get_items()},300),customer_price_list:bd.debounce(function(){if(this.pos_profile.posa_force_reload_items){this.pos_profile.posa_smart_reload_mode?!this.items_loaded||!this.items.length?(this.items_loaded=!1,this.get_items(!0)):this.$nextTick(()=>this.refreshPricesForVisibleItems()):(this.items_loaded=!1,this.get_items(!0));return}if(this.items_loaded&&this.items&&this.items.length>0){const e=jy(this.customer_price_list);if(e&&e.length){const t={};e.forEach(n=>{t[n.item_code]=n}),this.items.forEach(n=>{const a=t[n.item_code];a&&(n.rate=a.rate,n.price_list_rate=a.price_list_rate||a.rate)}),this.eventBus.emit("set_all_items",this.items),this.update_items_details(this.items);return}}},300),new_line(){this.eventBus.emit("set_new_line",this.new_line)},filtered_items(e,t){!this.pos_profile.pose_use_limit_search&&e.length!==t.length&&this.update_items_details(e)},first_search:bd.debounce(function(e){this.pos_profile&&this.pos_profile.pose_use_limit_search&&this.search_onchange(e)},300),selected_currency(){this.applyCurrencyConversionToItems()},exchange_rate(){this.applyCurrencyConversionToItems()}},methods:{refreshPricesForVisibleItems(){const e=this;if(!e.filtered_items||e.filtered_items.length===0)return;e.loading=!0,e.currentRequest&&(e.abortController.abort(),e.currentRequest=null);const t=e.filtered_items.map(o=>o.item_code),n=yE(e.pos_profile.name,e.active_price_list,t),a=[];if(n.cached.forEach(o=>{const i=e.filtered_items.find(l=>l.item_code===o.item_code);if(i){const l={actual_qty:o.actual_qty,serial_no_data:o.serial_no_data,batch_no_data:o.batch_no_data};o.item_uoms&&o.item_uoms.length>0&&(l.item_uoms=o.item_uoms,Rl(i.item_code,o.item_uoms)),o.rate!==void 0&&(o.rate!==0||!i.rate)&&(l.rate=o.rate,l.price_list_rate=o.price_list_rate||o.rate),a.push({item:i,upd:l})}}),n.missing.length===0){e.$nextTick(()=>{a.forEach(({item:o,upd:i})=>Object.assign(o,i)),zy(n.cached),e.loading=!1});return}e.abortController=new AbortController;const r=e.filtered_items.filter(o=>n.missing.includes(o.item_code));frappe.call({method:"posawesome.posawesome.api.items.get_items_details",args:{pos_profile:JSON.stringify(e.pos_profile),items_data:JSON.stringify(r),price_list:e.active_price_list},freeze:!1,signal:e.abortController.signal,callback:function(o){o.message&&(o.message.forEach(i=>{const l=e.filtered_items.find(u=>u.item_code===i.item_code);if(l){const u={actual_qty:i.actual_qty,serial_no_data:i.serial_no_data,batch_no_data:i.batch_no_data};i.item_uoms&&i.item_uoms.length>0&&(u.item_uoms=i.item_uoms,Rl(l.item_code,i.item_uoms)),i.rate!==void 0&&(i.rate!==0||!l.rate)&&(u.rate=i.rate,u.price_list_rate=i.price_list_rate||i.rate),a.push({item:l,upd:u})}}),e.$nextTick(()=>{a.forEach(({item:i,upd:l})=>Object.assign(i,l)),zy(o.message),gE(e.pos_profile.name,e.active_price_list,o.message),e.loading=!1}))},error:function(o){o.name!=="AbortError"&&(console.error("Error fetching item details:",o),e.loading=!1)}})},show_offers(){this.eventBus.emit("show_offers","true")},show_coupons(){this.eventBus.emit("show_coupons","true")},async get_items(e=!1){await fm;const t=++this.items_request_token;if(!this.pos_profile){console.error("No POS Profile");return}e&&this.pos_profile.posa_local_storage&&localStorage.setItem("items_storage","");const n=this;this.loading=!0;let a=this.get_search(this.first_search),r=n.item_group!=="ALL"?n.item_group.toLowerCase():"",o=a||"";if(this.items_loaded&&!e&&!this.first_search&&!this.pos_profile.pose_use_limit_search){console.info("Items already loaded, skipping reload"),this.filtered_items&&this.filtered_items.length>0&&this.update_items_details(this.filtered_items),this.loading=!1;return}if(!e&&!this.pos_profile.pose_use_limit_search){const i=jy(n.customer_price_list);if(i&&i.length){n.items=i,n.items.forEach(l=>{if(!l.item_uoms||l.item_uoms.length===0){const u=oc(l.item_code);u.length>0?l.item_uoms=u:l.stock_uom&&(l.item_uoms=[{uom:l.stock_uom,conversion_factor:1}])}}),this.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,n.items&&n.items.length>0&&(n.prePopulateStockCache(n.items),n.update_items_details(n.items));return}}if(n.pos_profile.posa_local_storage&&sE().length&&!n.pos_profile.pose_use_limit_search&&!e){n.items=sE(),n.items.forEach(i=>{if(!i.item_uoms||i.item_uoms.length===0){const l=oc(i.item_code);l.length>0?i.item_uoms=l:i.stock_uom&&(i.item_uoms=[{uom:i.stock_uom,conversion_factor:1}])}}),this.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,n.items&&n.items.length>0&&(await n.prePopulateStockCache(n.items),n.update_items_details(n.items));return}if(this.itemWorker)try{const l=await(await fetch("/api/method/posawesome.posawesome.api.items.get_items",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":frappe.csrf_token},credentials:"same-origin",body:JSON.stringify({pos_profile:JSON.stringify(n.pos_profile),price_list:n.customer_price_list,item_group:r,search_value:o,customer:n.customer})})).text();this.itemWorker.onmessage=async u=>{if(this.items_request_token===t)if(u.data.type==="parsed"){const f=u.data.items;if(n.items=f.message||f,_E(n.customer_price_list,n.items),n.items.forEach(d=>{if(d.item_uoms&&d.item_uoms.length>0)Rl(d.item_code,d.item_uoms);else{const m=oc(d.item_code);m.length>0?d.item_uoms=m:d.stock_uom&&(d.item_uoms=[{uom:d.stock_uom,conversion_factor:1}])}}),n.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,console.info("Items Loaded"),n.prePopulateStockCache(n.items),n.$nextTick(()=>{n.search&&!n.pos_profile.pose_use_limit_search&&n.search_onchange()}),n.items&&n.items.length>0&&n.update_items_details(n.items),n.pos_profile.posa_local_storage&&!n.pos_profile.pose_use_limit_search)try{lE(n.items),n.items.forEach(d=>{d.item_uoms&&d.item_uoms.length>0&&Rl(d.item_code,d.item_uoms)})}catch(d){console.error(d)}n.pos_profile.pose_use_limit_search&&n.enter_event(),n.itemWorker&&(n.itemWorker.terminate(),n.itemWorker=null)}else u.data.type==="error"&&(console.error("Item worker parse error:",u.data.error),n.loading=!1)},this.itemWorker.postMessage({type:"parse_and_cache",json:l,priceList:n.customer_price_list})}catch(i){console.error("Failed to fetch items",i),n.loading=!1}else frappe.call({method:"posawesome.posawesome.api.items.get_items",args:{pos_profile:JSON.stringify(n.pos_profile),price_list:n.customer_price_list,item_group:r,search_value:o,customer:n.customer},callback:async function(i){if(n.items_request_token===t&&i.message){if(n.items=i.message,n.items.forEach(l=>{if(l.item_uoms&&l.item_uoms.length>0)Rl(l.item_code,l.item_uoms);else{const u=oc(l.item_code);u.length>0?l.item_uoms=u:l.stock_uom&&(l.item_uoms=[{uom:l.stock_uom,conversion_factor:1}])}}),n.eventBus.emit("set_all_items",n.items),n.loading=!1,n.items_loaded=!0,_E(n.customer_price_list,n.items),console.info("Items Loaded"),n.prePopulateStockCache(n.items),n.$nextTick(()=>{n.search&&!n.pos_profile.pose_use_limit_search&&n.search_onchange()}),n.items&&n.items.length>0&&n.update_items_details(n.items),n.pos_profile.posa_local_storage&&!n.pos_profile.pose_use_limit_search)try{lE(i.message),i.message.forEach(l=>{l.item_uoms&&l.item_uoms.length>0&&Rl(l.item_code,l.item_uoms)})}catch(l){console.error(l)}n.pos_profile.pose_use_limit_search&&n.enter_event()}}})},get_items_groups(){if(!this.pos_profile){console.log("No POS Profile");return}if(this.pos_profile.item_groups.length>0)this.pos_profile.item_groups.forEach(e=>{e.item_group!=="All Item Groups"&&this.items_group.push(e.item_group)});else{const e=this;frappe.call({method:"posawesome.posawesome.api.items.get_items_groups",args:{},callback:function(t){t.message&&t.message.forEach(n=>{e.items_group.push(n.name)})}})}},getItemsHeaders(){const e=[{title:__("Name"),align:"start",sortable:!0,key:"item_name"},{title:__("Code"),align:"start",sortable:!0,key:"item_code"},{title:__("Rate"),key:"rate",align:"start"},{title:__("Available QTY"),key:"actual_qty",align:"start"},{title:__("UOM"),key:"stock_uom",align:"start"}];return this.pos_profile.posa_display_item_code||e.splice(1,1),e},click_item_row(e,{item:t}){this.add_item(t)},add_item(e){if(e={...e},e.has_variants)this.eventBus.emit("open_variants_model",e,this.items);else{if(e.actual_qty===0&&this.pos_profile.posa_display_items_in_stock){this.eventBus.emit("show_message",{title:`No stock available for ${e.item_name}`,color:"warning"}),this.update_items_details([e]);return}if((!e.item_uoms||e.item_uoms.length===0)&&(this.update_items_details([e]),(!e.item_uoms||e.item_uoms.length===0)&&(e.item_uoms=[{uom:e.stock_uom,conversion_factor:1}])),this.pos_profile.posa_allow_multi_currency){this.applyCurrencyConversionToItem(e);const t=e.original_currency===this.pos_profile.currency?e.original_rate:e.original_rate*(e.plc_conversion_rate||this.exchange_rate);e.base_rate=t,e.base_price_list_rate=t}if(!e.qty||e.qty===1){let t=this.qty!=null?this.qty:1;t=Math.abs(t),this.hide_qty_decimals&&(t=Math.trunc(t)),e.qty=t}this.eventBus.emit("add_item",e),this.qty=1}},enter_event(){let e=!1;if(!this.filtered_items.length||!this.first_search)return;const t=this.get_item_qty(this.first_search),n={...this.filtered_items[0]};n.qty=flt(t),n.item_barcode.forEach(a=>{this.search==a.barcode&&(n.uom=a.posa_uom,this.eventBus.emit("calc_uom",n,a.posa_uom),e=!0)}),!n.to_set_serial_no&&n.has_serial_no&&this.pos_profile.posa_search_serial_no&&n.serial_no_data.forEach(a=>{this.search&&a.serial_no==this.search&&(n.to_set_serial_no=this.first_search,e=!0)}),this.flags.serial_no&&(n.to_set_serial_no=this.flags.serial_no),!n.to_set_batch_no&&n.has_batch_no&&this.pos_profile.posa_search_batch_no&&n.batch_no_data.forEach(a=>{this.search&&a.batch_no==this.search&&(n.to_set_batch_no=this.first_search,n.batch_no=this.first_search,e=!0)}),this.flags.batch_no&&(n.to_set_batch_no=this.flags.batch_no),e&&(this.add_item(n),this.flags.serial_no=null,this.flags.batch_no=null,this.qty=1,this.$refs.debounce_search.focus())},search_onchange:bd.debounce(function(e){const t=this;e&&(t.search=e),t.pos_profile.pose_use_limit_search?t.search&&t.search.length>=3&&t.get_items():([...t.filtered_items],t.search&&t.search.length>=3&&t.enter_event(),t.filtered_items&&t.filtered_items.length>0&&setTimeout(()=>{t.update_items_details(t.filtered_items)},300))},300),get_item_qty(e){const t=this.qty!=null?this.qty:1;let n=Math.abs(t);if(e.startsWith(this.pos_profile.posa_scale_barcode_start)){let a=e.substr(7,5),r;a.startsWith("0000")?r="0.00"+a.substr(4):a.startsWith("000")?r="0.0"+a.substr(3):a.startsWith("00")?r="0."+a.substr(2):a.startsWith("0")?r=a.substr(1,1)+"."+a.substr(2,a.length):a.startsWith("0")||(r=a.substr(0,2)+"."+a.substr(2,a.length)),n=r}return this.hide_qty_decimals&&(n=Math.trunc(n)),n},get_search(e){let t="";return e&&e.startsWith(this.pos_profile.posa_scale_barcode_start)?t=e.substr(0,7):t=e,t},esc_event(){this.search=null,this.first_search=null,this.search_backup=null,this.qty=1,this.$refs.debounce_search.focus()},update_items_details(e){const t=this;if(!e||!e.length)return;t.itemDetailsRetryTimeout&&(clearTimeout(t.itemDetailsRetryTimeout),t.itemDetailsRetryTimeout=null);const n=e.map(i=>i.item_code),a=yE(t.pos_profile.name,t.active_price_list,n);a.cached.forEach(i=>{const l=e.find(u=>u.item_code===i.item_code);l&&(Object.assign(l,{actual_qty:i.actual_qty,serial_no_data:i.serial_no_data,batch_no_data:i.batch_no_data,has_batch_no:i.has_batch_no,has_serial_no:i.has_serial_no}),i.item_uoms&&i.item_uoms.length>0&&(l.item_uoms=i.item_uoms,Rl(l.item_code,i.item_uoms)),i.rate!==void 0&&(i.rate!==0||!l.rate)&&(l.rate=i.rate,l.price_list_rate=i.price_list_rate||i.rate),l.original_rate||(l.original_rate=l.rate,l.original_currency=l.currency||t.pos_profile.currency),t.applyCurrencyConversionToItem(l))});let r=a.missing.length===0;if(e.forEach(i=>{const l=fE(i.item_code);if(l!==null?i.actual_qty=l:r=!1,!i.item_uoms||i.item_uoms.length===0){const u=oc(i.item_code);u.length>0?i.item_uoms=u:lr()?i.item_uoms=[{uom:i.stock_uom,conversion_factor:1}]:r=!1}}),lr()||r){t.itemDetailsRetryCount=0;return}t.currentRequest&&(t.abortController.abort(),t.currentRequest=null),t.abortController=new AbortController;const o=e.filter(i=>a.missing.includes(i.item_code));t.currentRequest=frappe.call({method:"posawesome.posawesome.api.items.get_items_details",args:{pos_profile:JSON.stringify(t.pos_profile),items_data:JSON.stringify(o),price_list:t.active_price_list},freeze:!1,signal:t.abortController.signal,callback:function(i){if(i.message){t.itemDetailsRetryCount=0;let l=!1,u=[];t.$nextTick(()=>{e.forEach(f=>{const d=i.message.find(m=>m.item_code==f.item_code);if(d){const m=f.actual_qty;u.push({item:f,updates:{actual_qty:d.actual_qty,serial_no_data:d.serial_no_data,batch_no_data:d.batch_no_data,has_batch_no:d.has_batch_no,has_serial_no:d.has_serial_no,item_uoms:d.item_uoms&&d.item_uoms.length>0?d.item_uoms:f.item_uoms}}),m>0&&d.actual_qty===0&&(l=!0),d.item_uoms&&d.item_uoms.length>0&&Rl(f.item_code,d.item_uoms)}}),u.forEach(({item:f,updates:d})=>{Object.assign(f,d),t.applyCurrencyConversionToItem(f)}),zy(i.message),gE(t.pos_profile.name,t.active_price_list,i.message),l&&t.$forceUpdate()})}},error:function(i){if(i.name!=="AbortError"&&(console.error("Error fetching item details:",i),e.forEach(l=>{const u=fE(l.item_code);if(u!==null&&(l.actual_qty=u),!l.item_uoms||l.item_uoms.length===0){const f=oc(l.item_code);f.length>0&&(l.item_uoms=f)}}),!lr())){t.itemDetailsRetryCount+=1;const l=Math.min(32e3,1e3*Math.pow(2,t.itemDetailsRetryCount-1));t.itemDetailsRetryTimeout=setTimeout(()=>{t.update_items_details(e)},l)}}}),this.cleanupBeforeDestroy=()=>{t.abortController&&t.abortController.abort()}},update_cur_items_details(){this.filtered_items&&this.filtered_items.length>0&&this.update_items_details(this.filtered_items)},async prePopulateStockCache(e){if(!this.prePopulateInProgress){this.prePopulateInProgress=!0;try{if(E6()){console.debug("Stock cache already initialized");return}console.info("Pre-populating stock cache for",e.length,"items"),await P6(e,this.pos_profile)}catch(t){console.error("Failed to pre-populate stock cache:",t)}finally{this.prePopulateInProgress=!1}}},applyCurrencyConversionToItems(){!this.items||!this.items.length||this.items.forEach(e=>this.applyCurrencyConversionToItem(e))},applyCurrencyConversionToItem(e){if(!e)return;const t=this.pos_profile.currency;e.original_rate||(e.original_rate=e.rate,e.original_currency=e.currency||t);let n;e.original_currency===t?n=e.original_rate:n=e.original_rate*(e.plc_conversion_rate||this.exchange_rate),this.selected_currency===t?(e.rate=this.flt(n,this.currency_precision),e.currency=t):(e.rate=this.flt(n/this.exchange_rate,this.currency_precision),e.currency=this.selected_currency),e.price_list_rate=e.rate},scan_barcoud(){const e=this;try{if(document._scannerAttached)return;onScan.attachTo(document,{suffixKeyCodes:[],keyCodeMapper:function(t){return t.stopImmediatePropagation(),onScan.decodeKeyEvent(t)},onScan:function(t){setTimeout(()=>{e.trigger_onscan(t)},300)}}),document._scannerAttached=!0}catch(t){console.warn("Scanner initialization error:",t.message)}},trigger_onscan(e){this.first_search=e,this.search=e,this.$nextTick(()=>{this.filtered_items.length==0?(this.eventBus.emit("show_message",{title:`No Item has this barcode "${e}"`,color:"error"}),frappe.utils.play_sound("error")):this.enter_event(),this.clearSearch()})},generateWordCombinations(e){const t=e.split(" ");t.length;const n=[];function a(r,o=[]){if(r.length===0)n.push(o.join(" "));else for(let i=0;i<r.length;i++){const l=r.slice(),u=l.splice(i,1);a(l.slice(),o.concat(u))}}return a(t),n},clearSearch(){this.search_backup=this.first_search,this.first_search="",this.search=""},restoreSearch(){this.first_search===""&&(this.first_search=this.search_backup,this.search=this.search_backup)},handleItemSearchFocus(){this.first_search="",this.search=""},clearQty(){this.qty=null},startCameraScanning(){this.$refs.cameraScanner&&this.$refs.cameraScanner.startScanning()},onBarcodeScanned(e){console.log("Barcode scanned:",e),this.search="",this.first_search="",this.first_search=e,this.search=e,frappe.show_alert({message:`Scanning for: ${e}`,indicator:"blue"},2),setTimeout(()=>{this.processScannedItem(e)},300)},processScannedItem(e){let t=this.items.find(a=>a.barcode===e||a.item_code===e||a.barcodes&&a.barcodes.some(r=>r.barcode===e));if(t){console.log("Found item by exact match:",t),this.addScannedItemToInvoice(t,e);return}const n=this.searchItemsByCode(e);n.length===1?(console.log("Found item by search:",n[0]),this.addScannedItemToInvoice(n[0],e)):n.length>1?this.showMultipleItemsDialog(n,e):this.handleItemNotFound(e)},searchItemsByCode(e){return this.items.filter(t=>{const n=e.toLowerCase();return t.item_code.toLowerCase().includes(n)||t.item_name.toLowerCase().includes(n)||t.barcode&&t.barcode.toLowerCase().includes(n)||t.barcodes&&t.barcodes.some(a=>a.barcode.toLowerCase().includes(n))})},addScannedItemToInvoice(e,t){console.log("Adding scanned item to invoice:",e,t),this.add_item(e),frappe.show_alert({message:`Added: ${e.item_name}`,indicator:"green"},3),setTimeout(()=>{this.clearSearch()},1e3)},showMultipleItemsDialog(e,t){const n=new frappe.ui.Dialog({title:__("Multiple Items Found"),fields:[{fieldtype:"HTML",fieldname:"items_html",options:this.generateItemSelectionHTML(e,t)}],primary_action_label:__("Cancel"),primary_action:()=>n.hide()});n.show(),setTimeout(()=>{e.forEach((a,r)=>{n.$wrapper.find(`[data-item-index="${r}"]`).on("click",()=>{this.addScannedItemToInvoice(a,t),n.hide()})})},100)},generateItemSelectionHTML(e,t){let n=`<div class="mb-3"><strong>Scanned Code:</strong> ${t}</div>`;return n+='<div class="item-selection-list">',e.forEach((a,r)=>{n+=`
          <div class="item-option p-3 mb-2 border rounded cursor-pointer" data-item-index="${r}" style="border: 1px solid #ddd; cursor: pointer;">
            <div class="d-flex align-items-center">
              <img src="${a.image||"/assets/posawesome/js/posapp/components/pos/placeholder-image.png"}" 
                   style="width: 50px; height: 50px; object-fit: cover; margin-right: 15px;" />
              <div>
                <div class="font-weight-bold">${a.item_name}</div>
                <div class="text-muted small">${a.item_code}</div>
                <div class="text-primary">${this.format_currency(a.rate,this.pos_profile.currency,this.ratePrecision(a.rate))}</div>
              </div>
            </div>
          </div>
        `}),n+="</div>",n},handleItemNotFound(e){console.warn("Item not found for scanned code:",e),frappe.show_alert({message:`Item not found: ${e}`,indicator:"red"},5),this.trigger_onscan(e)},getConvertedRate(e){return e.rate?this.exchange_rate?this.selected_currency!==this.pos_profile.currency?this.flt(e.rate*this.exchange_rate,4):this.flt(e.rate/this.exchange_rate,4):e.rate:0},currencySymbol(e){return get_currency_symbol(e)},format_currency(e,t,n){const a=typeof n=="number"?n:this.currency_precision;return this.formatCurrency(e,a)},ratePrecision(e){const t=typeof e=="string"?parseFloat(e):e;return Number.isInteger(t)?0:this.currency_precision},format_number(e,t){const n=typeof t=="number"?t:this.float_precision;return this.formatFloat(e,n)},hasDecimalPrecision(e){if(this.exchange_rate&&this.exchange_rate!==1){let t=e*this.exchange_rate;return!Number.isInteger(t)}return!Number.isInteger(e)},toggleItemSettings(){this.temp_hide_qty_decimals=this.hide_qty_decimals,this.temp_hide_zero_rate_items=this.hide_zero_rate_items,this.show_item_settings=!0},cancelItemSettings(){this.show_item_settings=!1},applyItemSettings(){this.hide_qty_decimals=this.temp_hide_qty_decimals,this.hide_zero_rate_items=this.temp_hide_zero_rate_items,this.saveItemSettings(),this.show_item_settings=!1},saveItemSettings(){try{const e={hide_qty_decimals:this.hide_qty_decimals,hide_zero_rate_items:this.hide_zero_rate_items};localStorage.setItem("posawesome_item_selector_settings",JSON.stringify(e))}catch(e){console.error("Failed to save item selector settings:",e)}},loadItemSettings(){try{const e=localStorage.getItem("posawesome_item_selector_settings");if(e){const t=JSON.parse(e);typeof t.hide_qty_decimals=="boolean"&&(this.hide_qty_decimals=t.hide_qty_decimals),typeof t.hide_zero_rate_items=="boolean"&&(this.hide_zero_rate_items=t.hide_zero_rate_items)}}catch(e){console.error("Failed to load item selector settings:",e)}}},computed:{headers(){return this.getItemsHeaders()},filtered_items(){if(this.search=this.get_search(this.first_search),this.pos_profile.pose_use_limit_search){const e=this.items.slice(0,this.itemsPerPage);return e.forEach(t=>{t.actual_qty===void 0&&(t.actual_qty=0)}),this.hide_zero_rate_items?e.filter(t=>parseFloat(t.rate)!==0):e}else{let e=[],t=[];if(this.item_group!="ALL"?t=this.items.filter(a=>a.item_group.toLowerCase().includes(this.item_group.toLowerCase())):t=this.items,!this.search||this.search.length<3){let a=[];return this.pos_profile.posa_show_template_items&&this.pos_profile.posa_hide_variants_items?a=t.filter(r=>!r.variant_of).slice(0,this.itemsPerPage):a=t.slice(0,this.itemsPerPage),this.hide_zero_rate_items&&(a=a.filter(r=>parseFloat(r.rate)!==0)),a.forEach(r=>{r.actual_qty===void 0&&(r.actual_qty=0)}),a}else if(this.search){const a=this.search.toLowerCase();if(e=t.filter(r=>r.item_barcode.some(o=>o.barcode===this.search)),e.length===0&&(e=t.filter(r=>r.item_code.toLowerCase().includes(a)||r.item_name.toLowerCase().includes(a))),e.length===0){const r=this.generateWordCombinations(this.search);e=t.filter(o=>{const i=o.item_name.toLowerCase();return r.some(l=>(l=l.toLowerCase().trim(),new RegExp(`.*${l.split("").join(".*")}.*`).test(i)))})}e.length===0&&this.pos_profile.posa_search_serial_no&&(e=t.filter(r=>{for(let o of r.serial_no_data)if(o.serial_no===this.search)return this.flags.serial_no=this.search,!0;return!1})),e.length===0&&this.pos_profile.posa_search_batch_no&&(e=t.filter(r=>{for(let o of r.batch_no_data)if(o.batch_no===this.search)return this.flags.batch_no=this.search,!0;return!1}))}let n=[];return this.pos_profile.posa_show_template_items&&this.pos_profile.posa_hide_variants_items?n=e.filter(a=>!a.variant_of).slice(0,this.itemsPerPage):n=e.slice(0,this.itemsPerPage),this.hide_zero_rate_items&&(n=n.filter(a=>parseFloat(a.rate)!==0)),n.forEach(a=>{a.actual_qty===void 0&&(a.actual_qty=0)}),n.length>0&&setTimeout(()=>{this.update_items_details(n)},100),n}},debounce_search:{get(){return this.first_search},set:bd.debounce(function(e){this.first_search=e},200)},debounce_qty:{get(){return this.qty===null||this.qty===""?"":this.hide_qty_decimals?Math.trunc(this.qty):this.qty},set:bd.debounce(function(e){let t=parseFloat(String(e).replace(/,/g,""));isNaN(t)&&(t=null),this.hide_qty_decimals&&t!=null&&(t=Math.trunc(t)),this.qty=t},200)},isDarkTheme(){return this.$theme.current==="dark"},active_price_list(){return this.customer_price_list||this.pos_profile&&this.pos_profile.selling_price_list}},created:function(){if(this.loadItemSettings(),typeof Worker<"u")try{const e="/assets/posawesome/js/posapp/workers/itemWorker.js";this.itemWorker=new Worker(e,{type:"classic"}),this.itemWorker.onerror=function(t){console.error("Worker error:",t),console.error("Message:",t.message),console.error("Filename:",t.filename),console.error("Line number:",t.lineno)},console.log("Created worker nowwwwww")}catch(e){console.error("Failed to start item worker",e),this.itemWorker=null}this.$nextTick(function(){}),this.eventBus.on("register_pos_profile",async e=>{await fm,this.pos_profile=e.pos_profile,this.pos_profile.posa_force_reload_items&&!this.pos_profile.posa_smart_reload_mode?await this.get_items(!0):await this.get_items(),this.get_items_groups(),this.items_view=this.pos_profile.posa_default_card_view?"card":"list"}),this.eventBus.on("update_cur_items_details",()=>{this.update_cur_items_details()}),this.eventBus.on("update_offers_counters",e=>{this.offersCount=e.offersCount,this.appliedOffersCount=e.appliedOffersCount}),this.eventBus.on("update_coupons_counters",e=>{this.couponsCount=e.couponsCount,this.appliedCouponsCount=e.appliedCouponsCount}),this.eventBus.on("update_customer_price_list",e=>{this.customer_price_list=e}),this.eventBus.on("update_customer",e=>{this.customer=e}),this.eventBus.on("server-online",async()=>{this.items&&this.items.length>0&&await this.update_items_details(this.items)}),this.update_cur_items_details(),this.refresh_interval=setInterval(()=>{this.filtered_items&&this.filtered_items.length>0&&this.update_cur_items_details()},3e4),this.eventBus.on("update_currency",e=>{this.selected_currency=e.currency,this.exchange_rate=e.exchange_rate,this.applyCurrencyConversionToItems(),this.update_cur_items_details()})},mounted(){this.scan_barcoud()},beforeUnmount(){if(this.refresh_interval&&clearInterval(this.refresh_interval),this.itemDetailsRetryTimeout&&clearTimeout(this.itemDetailsRetryTimeout),this.itemDetailsRetryCount=0,this.cleanupBeforeDestroy&&this.cleanupBeforeDestroy(),document._scannerAttached)try{onScan.detachFrom(document),document._scannerAttached=!1}catch(e){console.warn("Scanner detach error:",e.message)}this.itemWorker&&this.itemWorker.terminate(),this.eventBus.off("update_currency"),this.eventBus.off("server-online"),this.eventBus.off("register_pos_profile"),this.eventBus.off("update_cur_items_details"),this.eventBus.off("update_offers_counters"),this.eventBus.off("update_coupons_counters"),this.eventBus.off("update_customer_price_list"),this.eventBus.off("update_customer")}},NH={class:"dynamic-padding"},BH={class:"settings-container"},$H={class:"text-caption text-primary truncate"},RH={key:0,class:"text-caption text-success truncate"},FH={class:"text-caption golden--text truncate"},LH={key:1},qH={class:"text-primary"},UH={key:0,class:"text-success"},HH={class:"golden--text"};function WH(e,t,n,a,r,o){const i=ie("v-progress-linear"),l=ie("v-progress-circular"),u=ie("v-overlay"),f=ie("v-btn"),d=ie("v-text-field"),m=ie("v-col"),p=ie("v-checkbox"),y=ie("v-spacer"),b=ie("v-card-title"),C=ie("v-divider"),w=ie("v-switch"),k=ie("v-card-text"),T=ie("v-card-actions"),V=ie("v-card"),M=ie("v-dialog"),I=ie("v-img"),R=ie("v-data-table-virtual"),W=ie("v-row"),q=ie("v-select"),z=ie("v-btn-toggle"),Y=ie("CameraScanner");return de(),Ze("div",{style:vt(e.responsiveStyles)},[h(V,{class:Ye(["selection mx-auto my-0 py-0 mt-3 dynamic-card",o.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt({height:e.responsiveStyles["--container-height"],maxHeight:e.responsiveStyles["--container-height"],backgroundColor:o.isDarkTheme?"#121212":""})},{default:E(()=>[h(i,{active:e.loading,indeterminate:e.loading,absolute:"",location:"top",color:"info"},null,8,["active","indeterminate"]),h(u,{"model-value":e.loading,class:"align-center justify-center",absolute:""},{default:E(()=>[h(l,{indeterminate:"",color:"primary",size:"48"})]),_:1},8,["model-value"]),x("div",NH,[h(W,{class:"items"},{default:E(()=>[h(m,{class:"pb-0"},{default:E(()=>[h(d,{density:"compact",clearable:"",autofocus:"",variant:"solo",color:"primary",label:e.frappe._("Search Items"),hint:"Search by item code, serial number, batch no or barcode","hide-details":"",modelValue:o.debounce_search,"onUpdate:modelValue":t[0]||(t[0]=K=>o.debounce_search=K),onKeydown:[Du(o.esc_event,["esc"]),Du(o.search_onchange,["enter"])],"onClick:clear":o.clearSearch,"prepend-inner-icon":"mdi-magnify",onFocus:o.handleItemSearchFocus,ref:"debounce_search"},Pr({_:2},[e.pos_profile.posa_enable_camera_scanning?{name:"append-inner",fn:E(()=>[h(f,{icon:"mdi-camera",size:"small",color:"primary",variant:"text",onClick:o.startCameraScanning,title:e.__("Scan with Camera")},null,8,["onClick","title"])]),key:"0"}:void 0]),1032,["label","modelValue","onKeydown","onClick:clear","onFocus"])]),_:1}),e.pos_profile.posa_input_qty?(de(),lt(m,{key:0,cols:"3",class:"pb-0"},{default:E(()=>[h(d,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("QTY"),"hide-details":"",modelValue:o.debounce_qty,"onUpdate:modelValue":t[1]||(t[1]=K=>o.debounce_qty=K),type:"text",onKeydown:[Du(o.enter_event,["enter"]),Du(o.esc_event,["esc"])],onFocus:o.clearQty},null,8,["label","modelValue","onKeydown","onFocus"])]),_:1})):je("",!0),e.pos_profile.posa_new_line?(de(),lt(m,{key:1,cols:"2",class:"pb-0"},{default:E(()=>[h(p,{modelValue:e.new_line,"onUpdate:modelValue":t[2]||(t[2]=K=>e.new_line=K),color:"accent",value:"true",label:"NLine",density:"default","hide-details":""},null,8,["modelValue"])]),_:1})):je("",!0),h(m,{cols:"12",class:"dynamic-margin-xs"},{default:E(()=>[x("div",BH,[h(f,{density:"compact",variant:"text",color:"primary","prepend-icon":"mdi-cog-outline",onClick:o.toggleItemSettings,class:"settings-btn"},{default:E(()=>[Ke(ge(e.__("Settings")),1)]),_:1},8,["onClick"]),h(M,{modelValue:e.show_item_settings,"onUpdate:modelValue":t[6]||(t[6]=K=>e.show_item_settings=K),"max-width":"400px"},{default:E(()=>[h(V,null,{default:E(()=>[h(b,{class:"text-h6 pa-4 d-flex align-center"},{default:E(()=>[x("span",null,ge(e.__("Item Selector Settings")),1),h(y),h(f,{icon:"mdi-close",variant:"text",density:"compact",onClick:t[3]||(t[3]=K=>e.show_item_settings=!1)})]),_:1}),h(C),h(k,{class:"pa-4"},{default:E(()=>[h(w,{modelValue:e.temp_hide_qty_decimals,"onUpdate:modelValue":t[4]||(t[4]=K=>e.temp_hide_qty_decimals=K),label:e.__("Hide quantity decimals"),"hide-details":"",density:"compact",color:"primary",class:"mb-2"},null,8,["modelValue","label"]),h(w,{modelValue:e.temp_hide_zero_rate_items,"onUpdate:modelValue":t[5]||(t[5]=K=>e.temp_hide_zero_rate_items=K),label:e.__("Hide zero rated items"),"hide-details":"",density:"compact",color:"primary"},null,8,["modelValue","label"])]),_:1}),h(T,{class:"pa-4 pt-0"},{default:E(()=>[h(f,{color:"error",variant:"text",onClick:o.cancelItemSettings},{default:E(()=>[Ke(ge(e.__("Cancel")),1)]),_:1},8,["onClick"]),h(y),h(f,{color:"primary",variant:"tonal",onClick:o.applyItemSettings},{default:E(()=>[Ke(ge(e.__("Apply")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),h(m,{cols:"12",class:"pt-0 mt-0"},{default:E(()=>[e.items_view=="card"?(de(),Ze("div",{key:0,fluid:"",class:"items-grid dynamic-scroll",ref:"itemsContainer",style:vt({maxHeight:"calc("+e.responsiveStyles["--container-height"]+" - 80px)"})},[(de(!0),Ze(ft,null,En(o.filtered_items,K=>(de(),lt(V,{key:K.item_code,hover:"",class:"dynamic-item-card",onClick:ae=>o.add_item(K)},{default:E(()=>[h(I,{src:K.image||"/assets/posawesome/js/posapp/components/pos/placeholder-image.png",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,0), rgba(0,0,0,0.4)",height:"100px"},{default:E(()=>[h(k,{class:"text-caption px-1 pb-0 truncate"},{default:E(()=>[Ke(ge(K.item_name),1)]),_:2},1024)]),_:2},1032,["src"]),h(k,{class:"text--primary pa-1"},{default:E(()=>[x("div",$H,ge(o.currencySymbol(K.currency||e.pos_profile.currency)||"")+" "+ge(o.format_currency(K.rate,K.currency||e.pos_profile.currency,o.ratePrecision(K.rate))),1),e.pos_profile.posa_allow_multi_currency&&e.selected_currency!==e.pos_profile.currency?(de(),Ze("div",RH,ge(o.currencySymbol(e.selected_currency)||"")+" "+ge(o.format_currency(o.getConvertedRate(K),e.selected_currency,o.ratePrecision(o.getConvertedRate(K)))),1)):je("",!0),x("div",FH,ge(o.format_number(K.actual_qty,e.hide_qty_decimals?0:4)||0)+" "+ge(K.stock_uom||""),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))],4)):(de(),Ze("div",LH,[h(R,{headers:o.headers,items:o.filtered_items,class:"sleek-data-table overflow-y-auto",style:vt({maxHeight:"calc("+e.responsiveStyles["--container-height"]+" - 80px)"}),"item-key":"item_code","onClick:row":o.click_item_row},{"item.rate":E(({item:K})=>[x("div",null,[x("div",qH,ge(o.currencySymbol(K.currency||e.pos_profile.currency))+" "+ge(o.format_currency(K.rate,K.currency||e.pos_profile.currency,o.ratePrecision(K.rate))),1),e.pos_profile.posa_allow_multi_currency&&e.selected_currency!==e.pos_profile.currency?(de(),Ze("div",UH,ge(o.currencySymbol(e.selected_currency))+" "+ge(o.format_currency(o.getConvertedRate(K),e.selected_currency,o.ratePrecision(o.getConvertedRate(K)))),1)):je("",!0)])]),"item.actual_qty":E(({item:K})=>[x("span",HH,ge(o.format_number(K.actual_qty,e.hide_qty_decimals?0:4)),1)]),_:1},8,["headers","items","style","onClick:row"])]))]),_:1})]),_:1})])]),_:1},8,["class","style"]),h(V,{class:"cards mb-0 mt-3 dynamic-padding"},{default:E(()=>[h(W,{"no-gutters":"",align:"center",justify:"center",class:"dynamic-spacing-sm"},{default:E(()=>[h(m,{cols:"12",class:"mb-2"},{default:E(()=>[h(q,{items:e.items_group,label:e.frappe._("Items Group"),density:"compact",variant:"solo","hide-details":"",modelValue:e.item_group,"onUpdate:modelValue":t[7]||(t[7]=K=>e.item_group=K)},null,8,["items","label","modelValue"])]),_:1}),e.pos_profile.posa_enable_price_list_dropdown?(de(),lt(m,{key:0,cols:"12",class:"mb-2"},{default:E(()=>[h(d,{density:"compact",variant:"solo",color:"primary",label:e.frappe._("Price List"),"hide-details":"","model-value":o.active_price_list,readonly:""},null,8,["label","model-value"])]),_:1})):je("",!0),h(m,{cols:"3",class:"dynamic-margin-xs"},{default:E(()=>[h(z,{modelValue:e.items_view,"onUpdate:modelValue":t[8]||(t[8]=K=>e.items_view=K),color:"primary",group:"",density:"compact",rounded:""},{default:E(()=>[h(f,{size:"small",value:"list"},{default:E(()=>[Ke(ge(e.__("List")),1)]),_:1}),h(f,{size:"small",value:"card"},{default:E(()=>[Ke(ge(e.__("Card")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),h(m,{cols:"4",class:"dynamic-margin-xs"},{default:E(()=>[h(f,{size:"small",block:"",color:"primary",variant:"text",onClick:o.show_coupons,class:"action-btn-consistent"},{default:E(()=>[Ke(ge(e.couponsCount)+" "+ge(e.__("Coupons")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e.pos_profile.posa_enable_camera_scanning?(de(),lt(Y,{key:0,ref:"cameraScanner","scan-type":e.pos_profile.posa_camera_scan_type||"Both",onBarcodeScanned:o.onBarcodeScanned},null,8,["scan-type","onBarcodeScanned"])):je("",!0)],4)}const zH=sa(MH,[["render",WH],["__scopeId","data-v-0123f1d3"]]),jH={data:()=>({customerDialog:!1,confirmDialog:!1,pos_profile:"",customer_id:"",customer_name:"",tax_id:"",mobile_no:"",address_line1:"",city:"",country:"Pakistan",email_id:"",referral_code:"",birthday:"",birthday_menu:!1,group:"",groups:[],territory:"",territorys:[],genders:[],customer_type:"Individual",gender:"",loyalty_points:null,loyalty_program:null,countries:["Afghanistan","Australia","Bahrain","Bangladesh","Canada","China","Denmark","France","Germany","India","Indonesia","Italy","Japan","Kuwait","Malaysia","Nepal","Netherlands","New Zealand","Norway","Oman","Pakistan","Philippines","Qatar","Saudi Arabia","Singapore","South Korea","Spain","Sri Lanka","Sweden","Switzerland","Thailand","United Arab Emirates","United Kingdom","United States","Vietnam","Yemen"]}),watch:{birthday(e){if(e&&/^\d{8}$/.test(e))try{const t=e.substring(0,2),n=e.substring(2,4),a=e.substring(4);this.birthday=`${t}-${n}-${a}`,this.updateCalendarDate(t,n,a)}catch(t){console.error("Error processing 8-digit date:",t)}else if(e&&/^\d{2}-\d{2}-\d{4}$/.test(e))try{const t=e.split("-"),n=t[0],a=t[1],r=t[2];this.updateCalendarDate(n,a,r)}catch(t){console.error("Error processing formatted date:",t)}},birthday_menu(e){if(e&&this.birthday&&/^\d{2}-\d{2}-\d{4}$/.test(this.birthday))try{const t=this.birthday.split("-"),n=t[0],a=t[1],r=t[2];this.$nextTick(()=>{this.updateCalendarDate(n,a,r)})}catch(t){console.error("Error updating calendar on menu open:",t)}}},computed:{isDarkTheme(){return this.$theme.current==="dark"}},methods:{updateCalendarDate(e,t,n){const a=this.birthday_menu;this.birthday_menu=!1,this.$nextTick(()=>{const r=`${n}-${t}-${e}`;setTimeout(()=>{this.$refs.birthday_menu&&(this.$refs.birthday_menu.date=r,a&&(this.birthday_menu=!0))},50)})},confirm_close(){this.customer_name||this.tax_id||this.mobile_no||this.address_line1||this.email_id||this.referral_code||this.birthday?this.confirmDialog=!0:this.close_dialog()},confirmClose(){this.confirmDialog=!1,this.close_dialog()},close_dialog(){this.customerDialog=!1,this.clear_customer()},clear_customer(){this.customer_name="",this.tax_id="",this.mobile_no="",this.address_line1="",this.city="",this.country="Pakistan",this.email_id="",this.referral_code="",this.birthday="",this.group=frappe.defaults.get_user_default("Customer Group"),this.territory=frappe.defaults.get_user_default("Territory"),this.customer_id="",this.customer_type="Individual",this.gender="",this.loyalty_points=null,this.loyalty_program=null},getCustomerGroups(){if(this.groups.length>0)return;const e=this;frappe.db.get_list("Customer Group",{fields:["name"],filters:{is_group:0},limit:1e3,order_by:"name"}).then(t=>{t.length>0&&t.forEach(n=>{e.groups.push(n.name)})})},getCustomerTerritorys(){if(this.territorys.length>0)return;const e=this;frappe.db.get_list("Territory",{fields:["name"],filters:{is_group:0},limit:5e3,order_by:"name"}).then(t=>{t.length>0&&t.forEach(n=>{e.territorys.push(n.name)})})},getGenders(){const e=this;frappe.db.get_list("Gender",{fields:["name"],page_length:10}).then(t=>{t.length>0&&t.forEach(n=>{e.genders.push(n.name)})})},formatBirthdayOnInput(){if(this.birthday&&/^\d{8}$/.test(this.birthday))try{const e=this.birthday.substring(0,2),t=this.birthday.substring(2,4),n=this.birthday.substring(4);this.birthday=`${e}-${t}-${n}`}catch(e){console.error("Error formatting date:",e)}},submit_dialog(){const e=this;if(!this.customer_name){frappe.throw(__("Customer Name is required"));return}if(!this.group){frappe.throw(__("Customer group is required"));return}if(!this.territory){frappe.throw(__("Customer territory is required"));return}let t=null;if(this.birthday)try{if(/^\d{8}$/.test(this.birthday)){const r=this.birthday.substring(0,2),o=this.birthday.substring(2,4);t=`${this.birthday.substring(4)}-${o}-${r}`}else if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(this.birthday)){const r=this.birthday.split("-");if(r.length===3){const o=r[0].padStart(2,"0"),i=r[1].padStart(2,"0");t=`${r[2]}-${i}-${o}`}}else if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(this.birthday)){const r=this.birthday.split("/");if(r.length===3){const o=r[0].padStart(2,"0"),i=r[1].padStart(2,"0");t=`${r[2]}-${i}-${o}`}}else if(this.birthday)try{const r=new Date(this.birthday);if(!isNaN(r.getTime())){const o=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");t=`${o}-${i}-${l}`}}catch(r){console.error("Failed to parse date:",r)}}catch(r){console.error("Error formatting date:",r),t=null}const n={customer_id:this.customer_id,customer_name:this.customer_name,tax_id:this.tax_id,mobile_no:this.mobile_no,address_line1:this.address_line1,city:this.city,country:this.country,email_id:this.email_id,referral_code:this.referral_code,birthday:t||this.birthday,customer_group:this.group,territory:this.territory,customer_type:this.customer_type,gender:this.gender},a={...n,company:e.pos_profile.company,pos_profile_doc:JSON.stringify(e.pos_profile),method:this.customer_id?"update":"create"};if(lr()){N6({args:a}),e.eventBus.emit("show_message",{title:__("Customer saved offline"),color:"warning"}),n.name=this.customer_name,e.eventBus.emit("add_customer_to_list",n),e.eventBus.emit("set_customer",n.name),e.close_dialog();return}frappe.call({method:"posawesome.posawesome.api.customers.create_customer",args:a,callback:r=>{if(!r.exc&&r.message.name){let o=__("Customer created successfully.");e.customer_id&&(o=__("Customer updated successfully.")),e.eventBus.emit("show_message",{title:o,color:"success"}),n.name=r.message.name,frappe.utils.play_sound("submit"),e.eventBus.emit("add_customer_to_list",n),e.eventBus.emit("set_customer",r.message.name),e.eventBus.emit("fetch_customer_details"),e.close_dialog()}else frappe.utils.play_sound("error"),e.eventBus.emit("show_message",{title:__("Customer creation failed."),color:"error"})}})},onDateSelect(){if(this.birthday_menu=!1,this.birthday)try{let e;if(typeof this.birthday=="object")e=this.birthday;else if(typeof this.birthday=="string"&&(this.birthday.includes("GMT")||this.birthday.includes("T")))e=new Date(this.birthday);else return;const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");this.birthday=`${a}-${n}-${t}`}catch(e){console.error("Error formatting date from picker:",e)}}},created:function(){this.eventBus.on("open_update_customer",e=>{this.customerDialog=!0,e&&(this.customer_name=e.customer_name,this.customer_id=e.name,this.address_line1=e.address_line1||"",this.city=e.city||"",this.country=e.country||"Pakistan",this.tax_id=e.tax_id,this.mobile_no=e.mobile_no,this.email_id=e.email_id,this.referral_code=e.referral_code,this.birthday=e.birthday,this.group=e.customer_group,this.territory=e.territory,this.loyalty_points=e.loyalty_points,this.loyalty_program=e.loyalty_program,this.gender=e.gender)}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile}),this.eventBus.on("payments_register_pos_profile",e=>{this.pos_profile=e.pos_profile}),this.getCustomerGroups(),this.getCustomerTerritorys(),this.getGenders(),this.group=frappe.defaults.get_user_default("Customer Group"),this.territory=frappe.defaults.get_user_default("Territory")}},YH={key:0,class:"text-h5 text-primary"},KH={key:1,class:"text-h5 text-primary"};function GH(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-select"),d=ie("v-autocomplete"),m=ie("v-row"),p=ie("v-container"),y=ie("v-card-text"),b=ie("v-spacer"),C=ie("v-btn"),w=ie("v-card-actions"),k=ie("v-card"),T=ie("v-dialog");return de(),lt(m,{justify:"center"},{default:E(()=>[h(T,{modelValue:e.customerDialog,"onUpdate:modelValue":t[14]||(t[14]=V=>e.customerDialog=V),"max-width":"600px",persistent:""},{default:E(()=>[h(k,null,{default:E(()=>[h(i,null,{default:E(()=>[e.customer_id?(de(),Ze("span",YH,ge(e.__("Update Customer")),1)):(de(),Ze("span",KH,ge(e.__("Create Customer")),1))]),_:1}),h(y,{class:"pa-0"},{default:E(()=>[h(p,null,{default:E(()=>[h(m,null,{default:E(()=>[h(u,{cols:"12"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Customer Name")+" *","bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"",class:"dark-field",modelValue:e.customer_name,"onUpdate:modelValue":t[0]||(t[0]=V=>e.customer_name=V)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Tax ID"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.tax_id,"onUpdate:modelValue":t[1]||(t[1]=V=>e.tax_id=V)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Mobile No"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.mobile_no,"onUpdate:modelValue":t[2]||(t[2]=V=>e.mobile_no=V)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.__("Address Line 1"),"bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"",class:"dark-field",modelValue:e.address_line1,"onUpdate:modelValue":t[3]||(t[3]=V=>e.address_line1=V)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:E(()=>[h(l,{modelValue:e.city,"onUpdate:modelValue":t[4]||(t[4]=V=>e.city=V),variant:"outlined",density:"compact",label:e.__("City"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","bg-color"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:E(()=>[h(f,{modelValue:e.country,"onUpdate:modelValue":t[5]||(t[5]=V=>e.country=V),items:e.countries,variant:"outlined",density:"compact",label:e.__("Country"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","items","label","bg-color"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Email Id"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.email_id,"onUpdate:modelValue":t[6]||(t[6]=V=>e.email_id=V)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(f,{density:"compact",label:"Gender",items:e.genders,modelValue:e.gender,"onUpdate:modelValue":t[7]||(t[7]=V=>e.gender=V),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["items","modelValue","bg-color"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Referral Code"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.referral_code,"onUpdate:modelValue":t[8]||(t[8]=V=>e.referral_code=V)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{modelValue:e.birthday,"onUpdate:modelValue":[t[9]||(t[9]=V=>e.birthday=V),o.formatBirthdayOnInput],label:e.frappe._("Birthday (DD-MM-YYYY)"),density:"compact",clearable:"","hide-details":"",color:"primary",placeholder:"DD-MM-YYYY","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","onUpdate:modelValue","bg-color"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(d,{clearable:"",density:"compact","auto-select-first":"",color:"primary",label:e.frappe._("Customer Group")+" *",modelValue:e.group,"onUpdate:modelValue":t[10]||(t[10]=V=>e.group=V),items:e.groups,"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","no-data-text":e.__("Group not found"),"hide-details":"",required:""},null,8,["label","modelValue","items","bg-color","no-data-text"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(d,{clearable:"",density:"compact","auto-select-first":"",color:"primary",label:e.frappe._("Territory")+" *",modelValue:e.territory,"onUpdate:modelValue":t[11]||(t[11]=V=>e.territory=V),items:e.territorys,"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","no-data-text":e.__("Territory not found"),"hide-details":"",required:""},null,8,["label","modelValue","items","bg-color","no-data-text"])]),_:1}),e.loyalty_program?(de(),lt(u,{key:0,cols:"6"},{default:E(()=>[h(l,{modelValue:e.loyalty_program,"onUpdate:modelValue":t[12]||(t[12]=V=>e.loyalty_program=V),label:e.frappe._("Loyalty Program"),density:"compact",readonly:"","hide-details":"","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","bg-color"])]),_:1})):je("",!0),e.loyalty_points?(de(),lt(u,{key:1,cols:"6"},{default:E(()=>[h(l,{modelValue:e.loyalty_points,"onUpdate:modelValue":t[13]||(t[13]=V=>e.loyalty_points=V),label:e.frappe._("Loyalty Points"),density:"compact",readonly:"","hide-details":"","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field"},null,8,["modelValue","label","bg-color"])]),_:1})):je("",!0)]),_:1})]),_:1})]),_:1}),h(w,null,{default:E(()=>[h(b),h(C,{color:"error",theme:"dark",onClick:o.confirm_close},{default:E(()=>[Ke(ge(e.__("Close")),1)]),_:1},8,["onClick"]),h(C,{color:"success",theme:"dark",onClick:o.submit_dialog},{default:E(()=>[Ke(ge(e.__("Submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(T,{modelValue:e.confirmDialog,"onUpdate:modelValue":t[16]||(t[16]=V=>e.confirmDialog=V),"max-width":"400px"},{default:E(()=>[h(k,null,{default:E(()=>[h(i,{class:"text-h5 text-primary"},{default:E(()=>[Ke(ge(e.__("Confirm Close")),1)]),_:1}),h(y,null,{default:E(()=>[Ke(ge(e.__("Are you sure you want to close? All entered data will be lost.")),1)]),_:1}),h(w,null,{default:E(()=>[h(b),h(C,{color:"primary",onClick:t[15]||(t[15]=V=>e.confirmDialog=!1)},{default:E(()=>[Ke(ge(e.__("Continue Editing")),1)]),_:1}),h(C,{color:"error",onClick:o.confirmClose},{default:E(()=>[Ke(ge(e.__("Yes, Close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const sD=sa(jH,[["render",GH],["__scopeId","data-v-38e17ae7"]]),QH={props:{pos_profile:Object},data:()=>({pos_profile:"",customers:[],customer:"",internalCustomer:null,tempSelectedCustomer:null,isMenuOpen:!1,readonly:!1,customer_info:{},loadingCustomers:!1,customerSearch:""}),components:{UpdateCustomer:sD},computed:{isDarkTheme(){return this.$theme.current==="dark"},filteredCustomers(){const e=this.customerSearch.toLowerCase();let t=this.customers;return e&&(t=t.filter(n=>n.customer_name&&n.customer_name.toLowerCase().includes(e)||n.tax_id&&n.tax_id.toLowerCase().includes(e)||n.email_id&&n.email_id.toLowerCase().includes(e)||n.mobile_no&&n.mobile_no.toLowerCase().includes(e)||n.name&&n.name.toLowerCase().includes(e))),t}},methods:{onCustomerMenuToggle(e){this.isMenuOpen=e,e?(this.internalCustomer=null,this.$nextTick(()=>{setTimeout(()=>{const t=this.$refs.customerDropdown?.$el?.querySelector(".v-overlay__content .v-select-list");t&&(t.scrollTop=0)},50)})):(this.tempSelectedCustomer?(this.internalCustomer=this.tempSelectedCustomer,this.customer=this.tempSelectedCustomer,this.eventBus.emit("update_customer",this.customer)):this.customer&&(this.internalCustomer=this.customer),this.tempSelectedCustomer=null)},onCustomerChange(e){this.tempSelectedCustomer=e,!this.isMenuOpen&&e&&(this.customer=e,this.eventBus.emit("update_customer",e))},onCustomerSearch(e){this.customerSearch=e||""},handleEnter(e){const t=e.target.value?.toLowerCase()||"",n=this.customers.find(a=>a.customer_name?.toLowerCase().includes(t)||a.name?.toLowerCase().includes(t));n&&(this.tempSelectedCustomer=n.name,this.internalCustomer=n.name,this.customer=n.name,this.eventBus.emit("update_customer",n.name),this.isMenuOpen=!1,e.target.blur())},get_customer_names(){var e=this;if(!(this.customers.length>0)){if(e.pos_profile.posa_local_storage&&kv().length)try{e.customers=kv()}catch(t){console.error("Failed to parse customer cache:",t),e.customers=[]}this.loadingCustomers=!0,frappe.call({method:"posawesome.posawesome.api.customers.get_customer_names",args:{pos_profile:this.pos_profile.pos_profile},callback:function(t){t.message&&(e.customers=t.message,e.pos_profile.posa_local_storage&&uE(t.message)),e.loadingCustomers=!1},error:function(t){console.error("Failed to fetch customers:",t),e.loadingCustomers=!1}})}},new_customer(){this.eventBus.emit("open_update_customer",null)},edit_customer(){this.eventBus.emit("open_update_customer",this.customer_info)}},created(){if(kv().length)try{this.customers=kv()}catch(e){console.error("Failed to parse customer cache:",e),this.customers=[]}this.$nextTick(()=>{this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e,this.get_customer_names()}),this.eventBus.on("payments_register_pos_profile",e=>{this.pos_profile=e,this.get_customer_names()}),this.eventBus.on("set_customer",e=>{this.customer=e,this.internalCustomer=e}),this.eventBus.on("add_customer_to_list",e=>{const t=this.customers.findIndex(n=>n.name===e.name);t!==-1?this.customers.splice(t,1,e):this.customers.push(e),this.pos_profile.posa_local_storage&&uE(this.customers),this.customer=e.name,this.internalCustomer=e.name,this.eventBus.emit("update_customer",e.name)}),this.eventBus.on("set_customer_readonly",e=>{this.readonly=e}),this.eventBus.on("set_customer_info_to_edit",e=>{this.customer_info=e}),this.eventBus.on("fetch_customer_details",()=>{this.get_customer_names()})})}},XH={class:"customer-input-wrapper"},JH=["innerHTML"],ZH=["innerHTML"],eW=["innerHTML"],tW=["innerHTML"],nW=["innerHTML"],aW={class:"mt-4"};function rW(e,t,n,a,r,o){const i=ie("v-icon"),l=ie("v-tooltip"),u=ie("v-list-item-subtitle"),f=ie("v-list-item"),d=ie("v-autocomplete"),m=ie("UpdateCustomer");return de(),Ze("div",XH,[h(d,{ref:"customerDropdown",class:"customer-autocomplete sleek-field",density:"compact",clearable:"",variant:"solo",color:"primary",label:e.frappe._("Customer"),modelValue:e.internalCustomer,"onUpdate:modelValue":[t[2]||(t[2]=p=>e.internalCustomer=p),o.onCustomerChange],items:o.filteredCustomers,"item-title":"customer_name","item-value":"name","bg-color":o.isDarkTheme?"#1E1E1E":"white","no-data-text":e.__("Customers not found"),"hide-details":"",customFilter:()=>!0,disabled:e.readonly||e.loadingCustomers,"menu-props":{closeOnContentClick:!1},"onUpdate:menu":o.onCustomerMenuToggle,"onUpdate:search":o.onCustomerSearch,onKeydown:Du(o.handleEnter,["enter"]),"virtual-scroll":!0,"virtual-scroll-item-height":48},{"prepend-inner":E(()=>[h(l,{text:"Edit customer"},{activator:E(({props:p})=>[h(i,tt(p,{class:"icon-button",onMousedown:t[0]||(t[0]=$a(()=>{},["prevent","stop"])),onClick:$a(o.edit_customer,["stop"])}),{default:E(()=>t[3]||(t[3]=[Ke(" mdi-account-edit ")])),_:2,__:[3]},1040,["onClick"])]),_:1})]),"append-inner":E(()=>[h(l,{text:"Add new customer"},{activator:E(({props:p})=>[h(i,tt(p,{class:"icon-button",onMousedown:t[1]||(t[1]=$a(()=>{},["prevent","stop"])),onClick:$a(o.new_customer,["stop"])}),{default:E(()=>t[4]||(t[4]=[Ke(" mdi-plus ")])),_:2,__:[4]},1040,["onClick"])]),_:1})]),item:E(({props:p,item:y})=>[h(f,Da(ir(p)),{default:E(()=>[y.raw.customer_name!==y.raw.name?(de(),lt(u,{key:0},{default:E(()=>[x("div",{innerHTML:`ID: ${y.raw.name}`},null,8,JH)]),_:2},1024)):je("",!0),y.raw.tax_id?(de(),lt(u,{key:1},{default:E(()=>[x("div",{innerHTML:`TAX ID: ${y.raw.tax_id}`},null,8,ZH)]),_:2},1024)):je("",!0),y.raw.email_id?(de(),lt(u,{key:2},{default:E(()=>[x("div",{innerHTML:`Email: ${y.raw.email_id}`},null,8,eW)]),_:2},1024)):je("",!0),y.raw.mobile_no?(de(),lt(u,{key:3},{default:E(()=>[x("div",{innerHTML:`Mobile No: ${y.raw.mobile_no}`},null,8,tW)]),_:2},1024)):je("",!0),y.raw.primary_address?(de(),lt(u,{key:4},{default:E(()=>[x("div",{innerHTML:`Primary Address: ${y.raw.primary_address}`},null,8,nW)]),_:2},1024)):je("",!0)]),_:2},1040)]),_:1},8,["label","modelValue","items","bg-color","no-data-text","disabled","onUpdate:menu","onUpdate:modelValue","onUpdate:search","onKeydown"]),x("div",aW,[h(m)])])}const lD=sa(QH,[["render",rW],["__scopeId","data-v-5c44d69b"]]),oW={props:{pos_profile:Object,delivery_charges:Array,selected_delivery_charge:[Object,String],delivery_charges_rate:Number,deliveryChargesFilter:Function,formatCurrency:Function,currencySymbol:Function,readonly:Boolean},data(){return{internal_selected_delivery_charge:this.selected_delivery_charge}},watch:{selected_delivery_charge(e){this.internal_selected_delivery_charge=e}},methods:{onUpdate(e){this.$emit("update:selected_delivery_charge",e)}}};function iW(e,t,n,a,r,o){const i=ie("v-list-item-title"),l=ie("v-list-item-subtitle"),u=ie("v-list-item"),f=ie("v-autocomplete"),d=ie("v-col"),m=ie("v-text-field"),p=ie("v-row");return n.pos_profile.posa_use_delivery_charges?(de(),lt(p,{key:0,align:"center",class:"items px-3 py-2 mt-0"},{default:E(()=>[h(d,{cols:"8",class:"pb-0 mb-0 pr-0 pt-0"},{default:E(()=>[h(f,{density:"compact",clearable:"","auto-select-first":"",variant:"outlined",color:"primary",label:e.frappe._("Delivery Charges"),modelValue:r.internal_selected_delivery_charge,"onUpdate:modelValue":[t[0]||(t[0]=y=>r.internal_selected_delivery_charge=y),o.onUpdate],items:n.delivery_charges,"item-title":"name","item-value":"name","return-object":"","bg-color":"white","no-data-text":e.__("Charges not found"),"hide-details":"",customFilter:n.deliveryChargesFilter,disabled:n.readonly},{item:E(({props:y,item:b})=>[h(u,Da(ir(y)),{default:E(()=>[h(i,{class:"text-primary text-subtitle-1",innerHTML:b.raw.name},null,8,["innerHTML"]),h(l,{innerHTML:`Rate: ${b.raw.rate}`},null,8,["innerHTML"])]),_:2},1040)]),_:1},8,["label","modelValue","items","no-data-text","customFilter","disabled","onUpdate:modelValue"])]),_:1}),h(d,{cols:"4",class:"pb-0 mb-0 pt-0"},{default:E(()=>[h(m,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Delivery Charges Rate"),"bg-color":"white","hide-details":"","model-value":n.formatCurrency(n.delivery_charges_rate),prefix:n.currencySymbol(n.pos_profile.currency),disabled:""},null,8,["label","model-value","prefix"])]),_:1})]),_:1})):je("",!0)}const sW=sa(oW,[["render",iW]]),lW={props:{pos_profile:Object,posting_date_display:String,customer_balance:Number,formatCurrency:Function,priceList:String,priceLists:Array},data(){return{internal_posting_date_display:this.posting_date_display,internal_price_list:this.priceList}},computed:{isDarkTheme(){return this.$theme?.current==="dark"}},watch:{posting_date_display(e){this.internal_posting_date_display=e},priceList(e){this.internal_price_list=e}},methods:{onUpdate(e){this.$emit("update:posting_date_display",e)},onPriceListUpdate(e){this.$emit("update:priceList",e)}}},uW={key:0,class:"balance-field ml-3"},cW={class:"balance-value"},dW={class:"balance-field"},fW={class:"balance-value"};function mW(e,t,n,a,r,o){const i=ie("VueDatePicker"),l=ie("v-col"),u=ie("v-select"),f=ie("v-row");return n.pos_profile.posa_allow_change_posting_date?(de(),lt(f,{key:0,align:"center",class:"items px-3 py-2 mt-0"},{default:E(()=>[h(l,{cols:"4",class:"pb-2"},{default:E(()=>[h(i,{modelValue:r.internal_posting_date_display,"onUpdate:modelValue":[t[0]||(t[0]=d=>r.internal_posting_date_display=d),o.onUpdate],"model-type":"format",format:"dd-MM-yyyy","auto-apply":"",placeholder:e.frappe._("Posting Date"),dark:o.isDarkTheme,class:"dark-field"},null,8,["modelValue","placeholder","dark","onUpdate:modelValue"])]),_:1}),n.pos_profile.posa_enable_price_list_dropdown?(de(),lt(l,{key:0,cols:"6",class:"pb-2 d-flex align-center"},{default:E(()=>[h(u,{density:"comfortable",variant:"outlined",color:"primary",items:n.priceLists,label:e.frappe._("Price List"),modelValue:r.internal_price_list,"onUpdate:modelValue":[t[1]||(t[1]=d=>r.internal_price_list=d),o.onPriceListUpdate],"hide-details":"",class:"flex-grow-1"},null,8,["items","label","modelValue","onUpdate:modelValue"]),n.pos_profile.posa_show_customer_balance?(de(),Ze("div",uW,[x("strong",null,ge(e.__("Customer Balance"))+":",1),x("span",cW,ge(n.formatCurrency(n.customer_balance)),1)])):je("",!0)]),_:1})):n.pos_profile.posa_show_customer_balance?(de(),lt(l,{key:1,cols:"8",class:"pb-2 d-flex align-center"},{default:E(()=>[x("div",dW,[x("strong",null,ge(e.__("Customer Balance"))+":",1),x("span",fW,ge(n.formatCurrency(n.customer_balance)),1)])]),_:1})):je("",!0)]),_:1})):je("",!0)}const hW=sa(lW,[["render",mW],["__scopeId","data-v-be49d6d0"]]),vW={props:{pos_profile:Object,selected_currency:String,exchange_rate:Number,available_currencies:Array,isNumber:Function},data(){return{internal_selected_currency:this.selected_currency,internal_exchange_rate:this.exchange_rate}},watch:{selected_currency(e){this.internal_selected_currency=e},exchange_rate(e){this.internal_exchange_rate=e}},methods:{onCurrencyUpdate(e){this.$emit("update:selected_currency",e)},onExchangeChange(){this.$emit("update:exchange_rate",this.internal_exchange_rate)}}};function pW(e,t,n,a,r,o){const i=ie("v-select"),l=ie("v-col"),u=ie("v-text-field"),f=ie("v-row");return n.pos_profile.posa_allow_multi_currency?(de(),lt(f,{key:0,align:"center",class:"items px-3 py-2 mt-0"},{default:E(()=>[h(l,{cols:"4",class:"pb-2"},{default:E(()=>[h(i,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Currency"),"bg-color":"white","hide-details":"",modelValue:r.internal_selected_currency,"onUpdate:modelValue":[t[0]||(t[0]=d=>r.internal_selected_currency=d),o.onCurrencyUpdate],items:n.available_currencies},null,8,["label","modelValue","items","onUpdate:modelValue"])]),_:1}),h(l,{cols:"4",class:"pb-2"},{default:E(()=>[h(u,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Exchange Rate"),"bg-color":"white","hide-details":"",modelValue:r.internal_exchange_rate,"onUpdate:modelValue":t[1]||(t[1]=d=>r.internal_exchange_rate=d),rules:[n.isNumber],onChange:o.onExchangeChange},null,8,["label","modelValue","rules","onChange"])]),_:1})]),_:1})):je("",!0)}const _W=sa(vW,[["render",pW]]),gW={props:{modelValue:Boolean},emits:["update:modelValue","confirm"],methods:{onConfirm(){this.$emit("confirm")}}},yW={class:"text-h5 text-primary"};function bW(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-card-text"),u=ie("v-spacer"),f=ie("v-btn"),d=ie("v-card-actions"),m=ie("v-card"),p=ie("v-dialog");return de(),lt(p,{"model-value":n.modelValue,"max-width":"330","onUpdate:modelValue":t[1]||(t[1]=y=>e.$emit("update:modelValue",y))},{default:E(()=>[h(m,null,{default:E(()=>[h(i,{class:"text-h5"},{default:E(()=>[x("span",yW,ge(e.__("Cancel Sale ?")),1)]),_:1}),h(l,null,{default:E(()=>t[2]||(t[2]=[Ke(' This would cancel and delete the current sale. To save it as Draft, click the "Save and Clear" instead. ')])),_:1,__:[2]}),h(d,null,{default:E(()=>[h(u),h(f,{color:"error",onClick:o.onConfirm},{default:E(()=>[Ke(ge(e.__("Yes, Cancel sale")),1)]),_:1},8,["onClick"]),h(f,{color:"warning",onClick:t[0]||(t[0]=y=>e.$emit("update:modelValue",!1))},{default:E(()=>[Ke(ge(e.__("Back")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}const wW=sa(gW,[["render",bW]]),kW={props:{pos_profile:Object,total_qty:[Number,String],additional_discount:Number,additional_discount_percentage:Number,total_items_discount_amount:Number,subtotal:Number,displayCurrency:String,formatFloat:Function,formatCurrency:Function,currencySymbol:Function,discount_percentage_offer_name:[String,Number],isNumber:Function},emits:["update:additional_discount","update:additional_discount_percentage","update_discount_umount","save-and-clear","load-drafts","select-order","cancel-sale","open-returns","print-draft","show-payment"],computed:{isDarkTheme(){return this.$theme?.current==="dark"},hide_qty_decimals(){try{const e=localStorage.getItem("posawesome_item_selector_settings");if(e)return!!JSON.parse(e).hide_qty_decimals}catch(e){console.error("Failed to load item selector settings:",e)}return!1}}};function SW(e,t,n,a,r,o){const i=ie("v-text-field"),l=ie("v-col"),u=ie("v-row"),f=ie("v-btn"),d=ie("v-card");return de(),lt(d,{class:Ye(["cards mb-0 mt-3 py-2 px-3 rounded-lg",o.isDarkTheme?"":"bg-grey-lighten-4"]),style:vt(o.isDarkTheme?"background-color:#1E1E1E":"")},{default:E(()=>[h(u,{dense:""},{default:E(()=>[h(l,{cols:"12",md:"7"},{default:E(()=>[h(u,{dense:""},{default:E(()=>[h(l,{cols:"6"},{default:E(()=>[h(i,{"model-value":n.formatFloat(n.total_qty,o.hide_qty_decimals?0:void 0),label:e.frappe._("Total Qty"),"prepend-inner-icon":"mdi-format-list-numbered",variant:"solo",density:"compact",readonly:"",color:"accent"},null,8,["model-value","label"])]),_:1}),n.pos_profile.posa_use_percentage_discount?(de(),lt(l,{key:1,cols:"6"},{default:E(()=>[h(i,{"model-value":n.additional_discount_percentage,"onUpdate:modelValue":t[1]||(t[1]=m=>e.$emit("update:additional_discount_percentage",m)),onChange:t[2]||(t[2]=m=>e.$emit("update_discount_umount")),rules:[n.isNumber],label:e.frappe._("Additional Discount %"),suffix:"%","prepend-inner-icon":"mdi-percent",variant:"solo",density:"compact",color:"warning",disabled:!n.pos_profile.posa_allow_user_to_edit_additional_discount||!!n.discount_percentage_offer_name},null,8,["model-value","rules","label","disabled"])]),_:1})):(de(),lt(l,{key:0,cols:"6"},{default:E(()=>[h(i,{"model-value":n.additional_discount,"onUpdate:modelValue":t[0]||(t[0]=m=>e.$emit("update:additional_discount",m)),label:e.frappe._("Additional Discount"),"prepend-inner-icon":"mdi-cash-minus",variant:"solo",density:"compact",color:"warning",prefix:n.currencySymbol(n.pos_profile.currency),disabled:!n.pos_profile.posa_allow_user_to_edit_additional_discount||!!n.discount_percentage_offer_name},null,8,["model-value","label","prefix","disabled"])]),_:1})),h(l,{cols:"6"},{default:E(()=>[h(i,{"model-value":n.formatCurrency(n.total_items_discount_amount),prefix:n.currencySymbol(n.displayCurrency),label:e.frappe._("Items Discounts"),"prepend-inner-icon":"mdi-tag-minus",variant:"solo",density:"compact",color:"warning",readonly:""},null,8,["model-value","prefix","label"])]),_:1}),h(l,{cols:"6"},{default:E(()=>[h(i,{"model-value":n.formatCurrency(n.subtotal),prefix:n.currencySymbol(n.displayCurrency),label:e.frappe._("Total"),"prepend-inner-icon":"mdi-cash",variant:"solo",density:"compact",readonly:"",color:"success"},null,8,["model-value","prefix","label"])]),_:1})]),_:1})]),_:1}),h(l,{cols:"12",md:"5"},{default:E(()=>[h(u,{dense:""},{default:E(()=>[h(l,{cols:"6"},{default:E(()=>[h(f,{block:"",color:"accent",theme:"dark","prepend-icon":"mdi-content-save",onClick:t[3]||(t[3]=m=>e.$emit("save-and-clear"))},{default:E(()=>[Ke(ge(e.__("Save & Clear")),1)]),_:1})]),_:1}),h(l,{cols:"6"},{default:E(()=>[h(f,{block:"",color:"warning",theme:"dark","prepend-icon":"mdi-file-document",onClick:t[4]||(t[4]=m=>e.$emit("load-drafts")),class:"white-text-btn"},{default:E(()=>[Ke(ge(e.__("Load Drafts")),1)]),_:1})]),_:1}),n.pos_profile.custom_allow_select_sales_order==1?(de(),lt(l,{key:0,cols:"6"},{default:E(()=>[h(f,{block:"",color:"info",theme:"dark","prepend-icon":"mdi-book-search",onClick:t[5]||(t[5]=m=>e.$emit("select-order"))},{default:E(()=>[Ke(ge(e.__("Select S.O")),1)]),_:1})]),_:1})):je("",!0),h(l,{cols:"6"},{default:E(()=>[h(f,{block:"",color:"error",theme:"dark","prepend-icon":"mdi-close-circle",onClick:t[6]||(t[6]=m=>e.$emit("cancel-sale"))},{default:E(()=>[Ke(ge(e.__("Cancel Sale")),1)]),_:1})]),_:1}),n.pos_profile.posa_allow_return==1?(de(),lt(l,{key:1,cols:"6"},{default:E(()=>[h(f,{block:"",color:"secondary",theme:"dark","prepend-icon":"mdi-backup-restore",onClick:t[7]||(t[7]=m=>e.$emit("open-returns"))},{default:E(()=>[Ke(ge(e.__("Sales Return")),1)]),_:1})]),_:1})):je("",!0),n.pos_profile.posa_allow_print_draft_invoices?(de(),lt(l,{key:2,cols:"6"},{default:E(()=>[h(f,{block:"",color:"primary",theme:"dark","prepend-icon":"mdi-printer",onClick:t[8]||(t[8]=m=>e.$emit("print-draft"))},{default:E(()=>[Ke(ge(e.__("Print Draft")),1)]),_:1})]),_:1})):je("",!0),h(l,{cols:"12"},{default:E(()=>[h(f,{block:"",color:"success",theme:"dark",size:"large","prepend-icon":"mdi-credit-card",onClick:t[9]||(t[9]=m=>e.$emit("show-payment"))},{default:E(()=>[Ke(ge(e.__("PAY")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class","style"])}const CW=sa(kW,[["render",SW],["__scopeId","data-v-1771b228"]]),xW={name:"ItemsTable",props:{headers:Array,items:Array,expanded:Array,itemsPerPage:Number,itemSearch:String,pos_profile:Object,invoice_doc:Object,invoiceType:String,displayCurrency:String,formatFloat:Function,formatCurrency:Function,currencySymbol:Function,isNumber:Function,setFormatedQty:Function,calcStockQty:Function,setFormatedCurrency:Function,calcPrices:Function,calcUom:Function,setSerialNo:Function,setBatchQty:Function,validateDueDate:Function,removeItem:Function,subtractOne:Function,addOne:Function,isReturnInvoice:Boolean,toggleOffer:Function},computed:{headerProps(){return this.isDarkTheme?{style:"background-color:#121212;color:#fff"}:{}},isDarkTheme(){return this.$theme.current==="dark"},hide_qty_decimals(){try{const e=localStorage.getItem("posawesome_item_selector_settings");if(e)return!!JSON.parse(e).hide_qty_decimals}catch(e){console.error("Failed to load item selector settings:",e)}return!1}}},PW={class:"my-0 py-0 overflow-y-auto",style:{height:"calc(var(--container-height) - 80px)",maxHeight:"calc(var(--container-height) - 80px)"}},EW={class:"amount-value"},DW={class:"currency-display"},TW={class:"currency-symbol"},VW={class:"amount-value"},OW={class:"currency-display"},IW={class:"currency-symbol"},AW={class:"amount-value"},MW={class:"amount-value"},NW={class:"currency-display"},BW={class:"currency-symbol"},$W={class:"amount-value"},RW={class:"currency-display"},FW={class:"currency-symbol"},LW={class:"amount-value"},qW=["colspan"],UW={class:"expanded-content"},HW={class:"action-panel"},WW={class:"action-button-group"},zW={class:"action-label"},jW={class:"action-button-group"},YW={class:"action-label"},KW={class:"action-label"},GW={class:"item-details-form"},QW={class:"form-row"},XW={class:"form-field"},JW={class:"form-field"},ZW={class:"form-field"},ez={class:"form-row"},tz={class:"form-field"},nz={class:"form-field"},az={class:"form-field"},rz={class:"form-row"},oz={class:"form-field"},iz={class:"form-field"},sz={class:"form-field"},lz={class:"form-row"},uz={class:"form-field"},cz={class:"form-field"},dz={key:0,class:"form-field"},fz={key:0,class:"form-section"},mz={class:"form-row"},hz={class:"form-field"},vz={class:"form-row"},pz={class:"form-field full-width"},_z={key:1,class:"form-section"},gz={class:"form-row"},yz={class:"form-field"},bz={class:"form-field"},wz={class:"form-field"},kz={key:2,class:"form-section"},Sz={class:"form-row"},Cz={class:"form-field"};function xz(e,t,n,a,r,o){const i=ie("v-checkbox-btn"),l=ie("v-icon"),u=ie("v-btn"),f=ie("v-text-field"),d=ie("v-select"),m=ie("v-checkbox"),p=ie("v-autocomplete"),y=ie("v-list-item-title"),b=ie("v-list-item-subtitle"),C=ie("v-list-item"),w=ie("VueDatePicker"),k=ie("v-data-table-virtual");return de(),Ze("div",PW,[h(k,{headers:n.headers,items:n.items,theme:e.$theme.current,expanded:n.expanded,"show-expand":"","item-value":"posa_row_id",class:"modern-items-table elevation-2","items-per-page":n.itemsPerPage,"expand-on-click":"",density:"compact","hide-default-footer":"","single-expand":!0,"header-props":o.headerProps,"onUpdate:expanded":t[0]||(t[0]=T=>e.$emit("update:expanded",T)),search:n.itemSearch},{"item.qty":E(({item:T})=>[x("div",EW,ge(n.formatFloat(T.qty,o.hide_qty_decimals?0:void 0)),1)]),"item.rate":E(({item:T})=>[x("div",DW,[x("span",TW,ge(n.currencySymbol(n.displayCurrency)),1),x("span",VW,ge(n.formatCurrency(T.rate)),1)])]),"item.amount":E(({item:T})=>[x("div",OW,[x("span",IW,ge(n.currencySymbol(n.displayCurrency)),1),x("span",AW,ge(n.formatCurrency(T.qty*T.rate)),1)])]),"item.discount_value":E(({item:T})=>[x("div",MW,ge(n.formatFloat(T.discount_percentage||(T.price_list_rate?T.discount_amount/T.price_list_rate*100:0)))+"% ",1)]),"item.discount_amount":E(({item:T})=>[x("div",NW,[x("span",BW,ge(n.currencySymbol(n.displayCurrency)),1),x("span",$W,ge(n.formatCurrency(T.discount_amount||0)),1)])]),"item.price_list_rate":E(({item:T})=>[x("div",RW,[x("span",FW,ge(n.currencySymbol(n.displayCurrency)),1),x("span",LW,ge(n.formatCurrency(T.price_list_rate)),1)])]),"item.posa_is_offer":E(({item:T})=>[h(i,{modelValue:T.posa_is_offer,"onUpdate:modelValue":V=>T.posa_is_offer=V,class:"center",onChange:V=>n.toggleOffer(T)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"expanded-row":E(({columns:T,item:V})=>[x("td",{colspan:T.length,class:"ma-0 pa-0"},[x("div",UW,[x("div",HW,[x("div",WW,[h(u,{disabled:!!V.posa_is_replace,icon:"mdi-trash-can-outline",size:"large",color:"error",variant:"tonal",class:"item-action-btn delete-btn",onClick:$a(M=>n.removeItem(V),["stop"])},{default:E(()=>[h(l,{size:"large"},{default:E(()=>t[1]||(t[1]=[Ke("mdi-trash-can-outline")])),_:1,__:[1]}),x("span",zW,ge(e.__("Remove")),1)]),_:2},1032,["disabled","onClick"])]),x("div",jW,[h(u,{disabled:!!V.posa_is_replace,size:"large",color:"warning",variant:"tonal",class:"item-action-btn minus-btn",onClick:$a(M=>n.subtractOne(V),["stop"])},{default:E(()=>[h(l,{size:"large"},{default:E(()=>t[2]||(t[2]=[Ke("mdi-minus-circle-outline")])),_:1,__:[2]}),x("span",YW,ge(e.__("Decrease")),1)]),_:2},1032,["disabled","onClick"]),h(u,{disabled:!!V.posa_is_replace,size:"large",color:"success",variant:"tonal",class:"item-action-btn plus-btn",onClick:$a(M=>n.addOne(V),["stop"])},{default:E(()=>[h(l,{size:"large"},{default:E(()=>t[3]||(t[3]=[Ke("mdi-plus-circle-outline")])),_:1,__:[3]}),x("span",KW,ge(e.__("Increase")),1)]),_:2},1032,["disabled","onClick"])])]),x("div",GW,[x("div",QW,[x("div",XW,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Item Code"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:V.item_code,"onUpdate:modelValue":M=>V.item_code=M,disabled:"","prepend-inner-icon":"mdi-barcode"},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),x("div",JW,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("QTY"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(V.qty,o.hide_qty_decimals?0:void 0),onChange:M=>[n.setFormatedQty(V,"qty",null,!1,M.target.value),n.calcStockQty(V,V.qty)],rules:[n.isNumber],disabled:!!V.posa_is_replace,"prepend-inner-icon":"mdi-numeric"},null,8,["label","bg-color","model-value","onChange","rules","disabled"])]),x("div",ZW,[h(d,{density:"compact","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field",label:e.frappe._("UOM"),modelValue:V.uom,"onUpdate:modelValue":[M=>V.uom=M,M=>n.calcUom(V,M)],items:V.item_uoms,variant:"outlined","item-title":"uom","item-value":"uom","hide-details":"",disabled:!!V.posa_is_replace||n.isReturnInvoice&&n.invoice_doc.return_against,"prepend-inner-icon":"mdi-weight"},null,8,["bg-color","label","modelValue","onUpdate:modelValue","items","disabled"])])]),x("div",ez,[x("div",tz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Rate"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",prefix:n.currencySymbol(n.displayCurrency),"model-value":n.formatCurrency(V.rate),onChange:M=>[n.setFormatedCurrency(V,"rate",null,!1,M),n.calcPrices(V,M.target.value,M)],rules:[n.isNumber],id:"rate",disabled:!!V.posa_is_replace||!!V.posa_offer_applied||!n.pos_profile.posa_allow_user_to_edit_rate||n.isReturnInvoice&&n.invoice_doc.return_against},null,8,["label","bg-color","prefix","model-value","onChange","rules","disabled"])]),x("div",nz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Discount %"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(V.discount_percentage),onChange:M=>[n.setFormatedCurrency(V,"discount_percentage",null,!0,M),n.calcPrices(V,M.target.value,M)],rules:[n.isNumber],id:"discount_percentage",disabled:!!V.posa_is_replace||V.posa_offer_applied||!n.pos_profile.posa_allow_user_to_edit_item_discount||n.isReturnInvoice&&n.invoice_doc.return_against,suffix:"%"},null,8,["label","bg-color","model-value","onChange","rules","disabled"])]),x("div",az,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Discount Amount"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(V.discount_amount||0),ref:"discount",onChange:M=>{n.expanded&&n.expanded.length===1&&n.expanded[0]===V.posa_row_id&&n.calcPrices(V,M.target.value,{target:{id:"discount_amount"}})},rules:["isNumber"],id:"discount_amount",disabled:!!V.posa_is_replace||V.posa_offer_applied||!n.pos_profile.posa_allow_user_to_edit_item_discount||n.isReturnInvoice&&n.invoice_doc.return_against,prefix:n.currencySymbol(n.displayCurrency)},null,8,["label","bg-color","model-value","onChange","disabled","prefix"])])]),x("div",rz,[x("div",oz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Price list Rate"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatCurrency(V.price_list_rate),disabled:"",prefix:n.currencySymbol(n.displayCurrency)},null,8,["label","bg-color","model-value","prefix"])]),x("div",iz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Available QTY"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(V.actual_qty,o.hide_qty_decimals?0:void 0),disabled:""},null,8,["label","bg-color","model-value"])]),x("div",sz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Group"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:V.item_group,"onUpdate:modelValue":M=>V.item_group=M,disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])])]),x("div",lz,[x("div",uz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Stock QTY"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(V.stock_qty),disabled:""},null,8,["label","bg-color","model-value"])]),x("div",cz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Stock UOM"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:V.stock_uom,"onUpdate:modelValue":M=>V.stock_uom=M,disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),V.posa_offer_applied?(de(),Ze("div",dz,[h(m,{density:"compact",label:e.frappe._("Offer Applied"),modelValue:V.posa_offer_applied,"onUpdate:modelValue":M=>V.posa_offer_applied=M,readonly:"","hide-details":"",class:"mt-1"},null,8,["label","modelValue","onUpdate:modelValue"])])):je("",!0)]),V.has_serial_no==1||V.serial_no?(de(),Ze("div",fz,[x("div",mz,[x("div",hz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Serial No QTY"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:V.serial_no_selected_count,"onUpdate:modelValue":M=>V.serial_no_selected_count=M,type:"number",disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])])]),x("div",vz,[x("div",pz,[h(p,{modelValue:V.serial_no_selected,"onUpdate:modelValue":[M=>V.serial_no_selected=M,M=>n.setSerialNo(V)],items:V.serial_no_data,"item-title":"serial_no",variant:"outlined",density:"compact",chips:"",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field",label:e.frappe._("Serial No"),multiple:""},null,8,["modelValue","onUpdate:modelValue","items","bg-color","label"])])])])):je("",!0),V.has_batch_no==1||V.batch_no?(de(),Ze("div",_z,[x("div",gz,[x("div",yz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Batch No. Available QTY"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":n.formatFloat(V.actual_batch_qty,o.hide_qty_decimals?0:void 0),disabled:""},null,8,["label","bg-color","model-value"])]),x("div",bz,[h(f,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Batch No Expiry Date"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:V.batch_no_expiry_date,"onUpdate:modelValue":M=>V.batch_no_expiry_date=M,disabled:""},null,8,["label","bg-color","modelValue","onUpdate:modelValue"])]),x("div",wz,[h(p,{modelValue:V.batch_no,"onUpdate:modelValue":[M=>V.batch_no=M,M=>n.setBatchQty(V,M)],items:V.batch_no_data,"item-title":"batch_no",variant:"outlined",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field",label:e.frappe._("Batch No"),"hide-details":""},{item:E(({props:M,item:I})=>[h(C,Da(ir(M)),{default:E(()=>[h(y,{innerHTML:I.raw.batch_no},null,8,["innerHTML"]),h(b,{innerHTML:`Available QTY  '${I.raw.batch_qty}' - Expiry Date ${I.raw.expiry_date}`},null,8,["innerHTML"])]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","items","bg-color","label"])])])])):je("",!0),n.pos_profile.posa_allow_sales_order&&n.invoiceType=="Order"?(de(),Ze("div",kz,[x("div",Sz,[x("div",Cz,[h(w,{modelValue:V.posa_delivery_date,"onUpdate:modelValue":[M=>V.posa_delivery_date=M,M=>n.validateDueDate(V)],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:o.isDarkTheme},null,8,["modelValue","onUpdate:modelValue","min-date","dark"])])])])):je("",!0)])])],8,qW)]),_:1},8,["headers","items","theme","expanded","items-per-page","header-props","search"])])}const Pz=sa(xW,[["render",xz]]),Ez={total_qty(){this.close_payments();let e=0;return this.items.forEach(t=>{e+=flt(t.qty)}),this.flt(e,this.float_precision)},Total(){let e=0;return this.items.forEach(t=>{const n=this.isReturnInvoice?Math.abs(flt(t.qty)):flt(t.qty),a=flt(t.rate);e+=n*a}),this.flt(e,this.currency_precision)},subtotal(){this.close_payments();let e=0;this.items.forEach(a=>{const r=this.isReturnInvoice?Math.abs(flt(a.qty)):flt(a.qty),o=flt(a.rate);e+=r*o});const t=this.flt(this.additional_discount);e-=t;const n=this.flt(this.delivery_charges_rate);return e+=n,this.flt(e,this.currency_precision)},total_items_discount_amount(){let e=0;return this.items.forEach(t=>{this.isReturnInvoice?e+=Math.abs(flt(t.qty))*flt(t.discount_amount):e+=flt(t.qty)*flt(t.discount_amount)}),this.flt(e,this.float_precision)},formatted_posting_date:{get(){if(!this.posting_date)return"";const e=this.posting_date.split("-");return e.length===3?`${e[2]}-${e[1]}-${e[0]}`:this.posting_date},set(e){const t=e.split("-");t.length===3?this.posting_date=`${t[2]}-${t[1]}-${t[0]}`:this.posting_date=e}},currencySymbol(){return e=>get_currency_symbol(e||this.selected_currency||this.pos_profile.currency)},displayCurrency(){return this.selected_currency||this.pos_profile.currency},isReturnInvoice(){return this.invoiceType==="Return"||this.invoice_doc&&this.invoice_doc.is_return},itemTableHeaders(){return[{text:__("Item"),value:"item_name",width:"35%"},{text:__("Qty"),value:"qty",width:"15%"},{text:__(`Rate (${this.displayCurrency})`),value:"rate",width:"20%"},{text:__(`Amount (${this.displayCurrency})`),value:"amount",width:"20%"},{text:__("Action"),value:"actions",sortable:!1,width:"10%"}]}},Dz={customer(){this.close_payments(),this.eventBus.emit("set_customer",this.customer),this.fetch_customer_details(),this.fetch_customer_balance(),this.set_delivery_charges()},customer_info(){this.eventBus.emit("set_customer_info_to_edit",this.customer_info)},expanded(e){e.length>0&&this.update_item_detail(e[0])},discount_percentage_offer_name(){this.eventBus.emit("update_discount_percentage_offer_name",{value:this.discount_percentage_offer_name})},items:{deep:!0,handler(e){this.handelOffers(),this.$forceUpdate()}},invoiceType(){this.eventBus.emit("update_invoice_type",this.invoiceType)},additional_discount(){!this.additional_discount||this.additional_discount==0?this.additional_discount_percentage=0:this.pos_profile.posa_use_percentage_discount?this.Total&&this.Total!==0?this.additional_discount_percentage=this.additional_discount/this.Total*100:this.additional_discount_percentage=0:this.additional_discount_percentage=0},posting_date:{handler(e){this.posting_date_display=this.formatDateForDisplay(e)},immediate:!0},posting_date_display(e){this.posting_date=this.formatDateForBackend(e)},selected_price_list(e){const t=e===this.pos_profile.selling_price_list?null:e;this.eventBus.emit("update_customer_price_list",t);const n=e||this.pos_profile.selling_price_list;this.apply_cached_price_list(n),this.pos_profile.posa_allow_multi_currency&&n&&frappe.call({method:"posawesome.posawesome.api.invoices.get_price_list_currency",args:{price_list:n},callback:a=>{a.message&&(this.price_list_currency=a.message,this.update_currency(a.message))}})},selected_currency(){this.items&&this.items.length&&this.update_item_rates()},exchange_rate(){this.items&&this.items.length&&this.update_item_rates()}},Tz={remove_item(e){const t=this.items.findIndex(n=>n.posa_row_id==e.posa_row_id);t>=0&&this.items.splice(t,1),this.expanded=this.expanded.filter(n=>n!==e.posa_row_id)},add_item(e){e.uom||(e.uom=e.stock_uom);let t=-1;this.new_line||(this.pos_profile.posa_auto_set_batch&&e.has_batch_no?t=this.items.findIndex(a=>a.item_code===e.item_code&&a.uom===e.uom&&!a.posa_is_offer&&!a.posa_is_replace):t=this.items.findIndex(a=>a.item_code===e.item_code&&a.uom===e.uom&&!a.posa_is_offer&&!a.posa_is_replace&&(a.batch_no&&e.batch_no&&a.batch_no===e.batch_no||!a.batch_no&&!e.batch_no)));let n;if(t===-1||this.new_line)n=this.get_new_item(e),e.has_serial_no&&e.to_set_serial_no&&(n.serial_no_selected=[],n.serial_no_selected.push(e.to_set_serial_no),e.to_set_serial_no=null),e.has_batch_no&&e.to_set_batch_no&&(n.batch_no=e.to_set_batch_no,e.to_set_batch_no=null,e.batch_no=null,this.set_batch_qty(n,n.batch_no,!1)),this.isReturnInvoice&&(n.qty=-Math.abs(n.qty||1)),this.items.unshift(n),this.update_item_detail(n,!0),(!this.pos_profile.posa_auto_set_batch&&n.has_batch_no||n.has_serial_no)&&this.$nextTick(()=>{this.expanded=[n.posa_row_id]});else{const a=this.items[t];if(this.update_items_details([a]),e.has_serial_no&&e.to_set_serial_no){if(a.serial_no_selected.includes(e.to_set_serial_no)){this.eventBus.emit("show_message",{title:__("This Serial Number {0} has already been added!",[e.to_set_serial_no]),color:"warning"}),e.to_set_serial_no=null;return}a.serial_no_selected.push(e.to_set_serial_no),e.to_set_serial_no=null}this.isReturnInvoice?a.qty-=e.qty||1:a.qty+=e.qty||1,this.calc_stock_qty(a,a.qty),a.has_batch_no&&a.batch_no&&this.set_batch_qty(a,a.batch_no,!1),this.set_serial_no(a)}this.$forceUpdate(),n&&(!this.pos_profile.posa_auto_set_batch&&n.has_batch_no||n.has_serial_no)&&(this.expanded=[n.posa_row_id])},get_new_item(e){const t={...e};return e.qty||(e.qty=1),e.posa_is_offer||(e.posa_is_offer=0),e.posa_is_replace||(e.posa_is_replace=""),t._manual_rate_set=!1,this.isReturnInvoice&&e.qty>0&&(e.qty=-Math.abs(e.qty)),t.stock_qty=e.qty,t.discount_amount=0,t.discount_percentage=0,t.discount_amount_per_item=0,t.price_list_rate=e.rate,this.selected_currency!==this.pos_profile.currency?(t.base_price_list_rate=e.rate*this.exchange_rate,t.base_rate=e.rate*this.exchange_rate,t.base_discount_amount=0):(t.base_price_list_rate=e.rate,t.base_rate=e.rate,t.base_discount_amount=0),t.qty=e.qty,t.uom=e.uom?e.uom:e.stock_uom,t.item_uoms=e.item_uoms||[],t.item_uoms.length===0&&t.stock_uom&&t.item_uoms.push({uom:t.stock_uom,conversion_factor:1}),t.actual_batch_qty="",t.conversion_factor=1,t.posa_offers=JSON.stringify([]),t.posa_offer_applied=0,t.posa_is_offer=e.posa_is_offer,t.posa_is_replace=e.posa_is_replace||null,t.is_free_item=0,t.posa_notes="",t.posa_delivery_date="",t.posa_row_id=this.makeid(20),(!this.pos_profile.posa_auto_set_batch&&t.has_batch_no||t.has_serial_no)&&this.expanded.push(t),t},clear_invoice(){this.items=[],this.posa_offers=[],this.expanded=[],this.eventBus.emit("set_pos_coupons",[]),this.posa_coupons=[],this.invoice_doc="",this.return_doc="",this.discount_amount=0,this.additional_discount=0,this.additional_discount_percentage=0,this.delivery_charges_rate=0,this.selected_delivery_charge="",this.posting_date=frappe.datetime.nowdate(),this.customer=this.pos_profile.customer,this.eventBus.emit("set_customer_readonly",!1),this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.invoiceTypes=["Invoice","Order"]},async fetch_customer_balance(){try{if(!this.customer){this.customer_balance=0;return}if(lr()){const n=bE(this.customer);if(n!==null){this.customer_balance=n;return}else{this.customer_balance=0,this.eventBus.emit("show_message",{title:__("Customer balance unavailable offline"),text:__("Balance will be updated when connection is restored"),color:"warning"});return}}const t=(await frappe.call({method:"posawesome.posawesome.api.customer.get_customer_balance",args:{customer:this.customer}}))?.message?.balance||0;this.customer_balance=t,U6(this.customer,t)}catch(e){console.error("Error fetching balance:",e);const t=bE(this.customer);t!==null?(this.customer_balance=t,this.eventBus.emit("show_message",{title:__("Using cached customer balance"),text:__("Could not fetch latest balance from server"),color:"warning"})):(this.eventBus.emit("show_message",{title:__("Error fetching customer balance"),color:"error"}),this.customer_balance=0)}},async cancel_invoice(){const e=this.get_invoice_doc();this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.invoiceTypes=["Invoice","Order"],this.posting_date=frappe.datetime.nowdate();var t=this;e.name&&this.pos_profile.posa_allow_delete&&await frappe.call({method:"posawesome.posawesome.api.invoices.delete_invoice",args:{invoice:e.name},async:!0,callback:function(n){n.message&&t.eventBus.emit("show_message",{text:n.message,color:"warning"})}}),this.clear_invoice(),this.cancel_dialog=!1},async load_invoice(e={}){console.log("load_invoice called with data:",{is_return:e.is_return,return_against:e.return_against,customer:e.customer,items_count:e.items?e.items.length:0}),this.clear_invoice(),e.is_return&&(console.log("Processing return invoice"),e.return_against?(console.log("Return has reference to invoice:",e.return_against),this.eventBus.emit("set_customer_readonly",!0)):(console.log("Return without invoice reference, customer can be selected"),this.eventBus.emit("set_customer_readonly",!1)),this.invoiceType="Return",this.invoiceTypes=["Return"]),this.invoice_doc=e,this.items=e.items||[],console.log("Items set:",this.items.length,"items"),this.items.length>0?(this.update_items_details(this.items),this.posa_offers=e.posa_offers||[],this.items.forEach(t=>{t.posa_row_id||(t.posa_row_id=this.makeid(20)),t.batch_no&&this.set_batch_qty(t,t.batch_no)})):console.log("Warning: No items in return invoice"),this.customer=e.customer,this.posting_date=this.formatDateForBackend(e.posting_date||frappe.datetime.nowdate()),this.discount_amount=e.discount_amount,this.additional_discount_percentage=e.additional_discount_percentage,this.items.length>0&&this.items.forEach(t=>{t.serial_no&&(t.serial_no_selected=[],t.serial_no.split(`
`).forEach(a=>{a.length&&t.serial_no_selected.push(a)}),t.serial_no_selected_count=t.serial_no_selected.length)}),e.is_return?(console.log("Setting return values for discounts"),this.discount_amount=-e.discount_amount,this.additional_discount_percentage=-e.additional_discount_percentage,this.return_doc=e):this.eventBus.emit("set_pos_coupons",e.posa_coupons),console.log("load_invoice completed, invoice state:",{invoiceType:this.invoiceType,is_return:this.invoice_doc.is_return,items:this.items.length,customer:this.customer})},save_and_clear_invoice(){const e=this.get_invoice_doc();if(e.name?old_invoice=this.update_invoice(e):e.items.length?old_invoice=this.update_invoice(e):this.eventBus.emit("show_message",{title:"Nothing to save",color:"error"}),!old_invoice)this.eventBus.emit("show_message",{title:"Error saving the current invoice",color:"error"});else return this.clear_invoice(),old_invoice},async new_order(e={}){let t=null;return this.eventBus.emit("set_customer_readonly",!1),this.expanded=[],this.posa_offers=[],this.eventBus.emit("set_pos_coupons",[]),this.posa_coupons=[],this.return_doc="",!e.name&&!e.is_return?(this.items=[],this.customer=this.pos_profile.customer,this.invoice_doc="",this.discount_amount=0,this.additional_discount_percentage=0,this.invoiceType="Invoice",this.invoiceTypes=["Invoice","Order"]):(e.is_return&&(e.return_against?this.eventBus.emit("set_customer_readonly",!0):this.eventBus.emit("set_customer_readonly",!1),this.invoiceType="Return",this.invoiceTypes=["Return"]),this.invoice_doc=e,this.items=e.items,this.update_items_details(this.items),this.posa_offers=e.posa_offers||[],this.items.forEach(n=>{n.posa_row_id||(n.posa_row_id=this.makeid(20)),n.batch_no&&this.set_batch_qty(n,n.batch_no)}),this.customer=e.customer,this.posting_date=this.formatDateForBackend(e.posting_date||frappe.datetime.nowdate()),this.discount_amount=e.discount_amount,this.additional_discount_percentage=e.additional_discount_percentage,this.items.forEach(n=>{n.serial_no&&(n.serial_no_selected=[],n.serial_no.split(`
`).forEach(r=>{r.length&&n.serial_no_selected.push(r)}),n.serial_no_selected_count=n.serial_no_selected.length)})),t},get_invoice_doc(){let e={};this.invoice_doc.name&&(e={...this.invoice_doc}),e.doctype="Sales Invoice",e.is_pos=1,e.ignore_pricing_rule=1,e.company=e.company||this.pos_profile.company,e.pos_profile=e.pos_profile||this.pos_profile.name,e.currency=this.selected_currency||this.pos_profile.currency,e.conversion_rate=this.invoice_doc&&this.invoice_doc.conversion_rate||this.exchange_rate||1,e.plc_conversion_rate=this.invoice_doc&&this.invoice_doc.plc_conversion_rate||e.conversion_rate,e.price_list_currency=this.price_list_currency||e.currency,e.campaign=e.campaign||this.pos_profile.campaign,e.selling_price_list=this.pos_profile.selling_price_list,e.naming_series=e.naming_series||this.pos_profile.naming_series,e.customer=this.customer;const t=this.isReturnInvoice;e.is_return=t?1:0;const n=this.get_invoice_items();e.items=n;let a=this.Total;t&&a>0&&(a=-Math.abs(a)),e.total=a,e.net_total=a,e.base_total=a*(1/this.exchange_rate||1),e.base_net_total=a*(1/this.exchange_rate||1);let r=flt(this.additional_discount);t&&r>0&&(r=-Math.abs(r)),e.discount_amount=r,e.base_discount_amount=r*(1/this.exchange_rate||1);let o=flt(this.additional_discount_percentage);t&&o>0&&(o=-Math.abs(o)),e.additional_discount_percentage=o;let i=this.subtotal;if(this.invoice_doc&&this.invoice_doc.taxes&&this.invoice_doc.taxes.forEach(l=>{l.tax_amount&&(i+=flt(l.tax_amount))}),t&&i>0&&(i=-Math.abs(i)),e.grand_total=i,e.base_grand_total=i*(1/this.exchange_rate||1),this.pos_profile.disable_rounded_total?(e.rounded_total=flt(i,this.currency_precision),e.base_rounded_total=flt(e.base_grand_total,this.currency_precision)):(e.rounded_total=this.roundAmount(i),e.base_rounded_total=this.roundAmount(e.base_grand_total)),e.posa_pos_opening_shift=this.pos_opening_shift.name,e.payments=this.get_payments(),e.taxes=[],this.invoice_doc&&this.invoice_doc.taxes&&(e.taxes=this.invoice_doc.taxes.map(l=>({account_head:l.account_head,charge_type:l.charge_type||"On Net Total",description:l.description,rate:l.rate,tax_amount:l.tax_amount,total:l.total,base_tax_amount:l.tax_amount*(1/this.exchange_rate||1),base_total:l.total*(1/this.exchange_rate||1)}))),t&&(this.invoice_doc.return_against&&(e.return_against=this.invoice_doc.return_against),e.update_stock=1,e.grand_total>0&&(e.grand_total=-Math.abs(e.grand_total)),e.base_grand_total>0&&(e.base_grand_total=-Math.abs(e.base_grand_total)),e.rounded_total>0&&(e.rounded_total=-Math.abs(e.rounded_total)),e.base_rounded_total>0&&(e.base_rounded_total=-Math.abs(e.base_rounded_total)),e.total>0&&(e.total=-Math.abs(e.total)),e.base_total>0&&(e.base_total=-Math.abs(e.base_total)),e.net_total>0&&(e.net_total=-Math.abs(e.net_total)),e.base_net_total>0&&(e.base_net_total=-Math.abs(e.base_net_total)),e.payments&&e.payments.length&&e.payments.forEach(l=>{l.amount>0&&(l.amount=-Math.abs(l.amount)),l.base_amount>0&&(l.base_amount=-Math.abs(l.base_amount))})),e.posa_offers=this.posa_offers,e.posa_coupons=this.posa_coupons,e.posa_delivery_charges=this.selected_delivery_charge.name,e.posa_delivery_charges_rate=this.delivery_charges_rate||0,e.posting_date=this.formatDateForBackend(this.posting_date_display),e.ignore_pricing_rule=1,e.price_list_currency=this.price_list_currency||e.currency,e.plc_conversion_rate=e.conversion_rate,e.ignore_default_fields=1,e.posa_is_offer_applied=this.posa_offers.length>0?1:0,this.selected_currency!==this.pos_profile.currency){const l=t?-1:1;e.base_total=a*this.exchange_rate*l,e.base_net_total=a*this.exchange_rate*l,e.base_discount_amount=r*this.exchange_rate*l,e.base_grand_total=i*this.exchange_rate*l,e.base_rounded_total=i*this.exchange_rate*l}else{const l=t?-1:1;e.base_total=a*l,e.base_net_total=a*l,e.base_discount_amount=r*l,e.base_grand_total=i*l,e.base_rounded_total=i*l}return e.payments&&e.payments.length&&e.payments.forEach(l=>{this.selected_currency!==this.pos_profile.currency?l.base_amount=l.amount*this.exchange_rate:l.base_amount=l.amount,t&&(l.amount=-Math.abs(l.amount),l.base_amount=-Math.abs(l.base_amount))}),e},async get_invoice_from_order_doc(){let e={};this.invoice_doc.doctype=="Sales Order"?await frappe.call({method:"posawesome.posawesome.api.invoices.create_sales_invoice_from_order",args:{sales_order:this.invoice_doc.name},callback:function(o){o.message&&(e=o.message)}}):e=this.invoice_doc;const t=[],n=this.get_invoice_items();e.items.forEach(o=>{const i=n.find(l=>l.item_code===o.item_code);i&&(o.item_code=i.item_code,o.posa_row_id=i.posa_row_id,o.posa_offers=i.posa_offers,o.posa_offer_applied=i.posa_offer_applied,o.posa_is_offer=i.posa_is_offer,o.posa_is_replace=i.posa_is_replace,o.is_free_item=i.is_free_item,o.qty=flt(i.qty),o.rate=flt(i.rate),o.uom=i.uom,o.amount=flt(i.qty)*flt(i.rate),o.conversion_factor=i.conversion_factor,o.serial_no=i.serial_no,o.discount_percentage=flt(i.discount_percentage),o.discount_amount=flt(i.discount_amount),o.batch_no=i.batch_no,o.posa_notes=i.posa_notes,o.posa_delivery_date=this.formatDateForDisplay(i.posa_delivery_date),o.price_list_rate=i.price_list_rate,t.push(o))}),e.items=t;const a=[...e.items],r=new Set(a.map(o=>o.item_code));return n.forEach(o=>{r.has(o.item_code)||a.push(o)}),e.items=a,e.update_stock=1,e.is_pos=1,e.payments=this.get_payments(),e},get_invoice_items(){const e=[],t=this.isReturnInvoice;return this.items.forEach(n=>{const a={item_code:n.item_code,item_name:n.item_name||n.item_code,posa_row_id:n.posa_row_id,posa_offers:n.posa_offers,posa_offer_applied:n.posa_offer_applied,posa_is_offer:n.posa_is_offer,posa_is_replace:n.posa_is_replace,is_free_item:n.is_free_item,qty:flt(n.qty),uom:n.uom,conversion_factor:n.conversion_factor,serial_no:n.serial_no,...n.sales_invoice_item&&{sales_invoice_item:n.sales_invoice_item},discount_percentage:flt(n.discount_percentage),batch_no:n.batch_no,posa_notes:n.posa_notes,posa_delivery_date:this.formatDateForBackend(n.posa_delivery_date)};t&&!a.sales_invoice_item&&n.name&&(a.sales_invoice_item=n.name),this.selected_currency!==this.pos_profile.currency?(a.rate=flt(n.rate),a.base_rate=n.base_rate||flt(n.rate*this.exchange_rate),a.price_list_rate=flt(n.price_list_rate),a.base_price_list_rate=n.base_price_list_rate||flt(n.price_list_rate*this.exchange_rate),a.amount=flt(n.qty)*a.rate,a.base_amount=a.amount*this.exchange_rate,a.discount_amount=flt(n.discount_amount),a.base_discount_amount=n.base_discount_amount||flt(n.discount_amount*this.exchange_rate)):(a.rate=flt(n.rate),a.base_rate=n.base_rate||flt(n.rate),a.price_list_rate=flt(n.price_list_rate),a.base_price_list_rate=n.base_price_list_rate||flt(n.price_list_rate),a.amount=flt(n.qty)*a.rate,a.base_amount=a.amount,a.discount_amount=flt(n.discount_amount),a.base_discount_amount=n.base_discount_amount||flt(n.discount_amount)),t&&(a.qty=-Math.abs(a.qty),a.amount=-Math.abs(a.amount),a.base_amount=-Math.abs(a.base_amount),a.discount_amount=-Math.abs(a.discount_amount),a.base_discount_amount=-Math.abs(a.base_discount_amount)),e.push(a)}),e},get_order_items(){const e=[];return this.items.forEach(t=>{const n={item_code:t.item_code,item_name:t.item_name||t.item_code,posa_row_id:t.posa_row_id,posa_offers:t.posa_offers,posa_offer_applied:t.posa_offer_applied,posa_is_offer:t.posa_is_offer,posa_is_replace:t.posa_is_replace,is_free_item:t.is_free_item,qty:flt(t.qty),rate:flt(t.rate),uom:t.uom,amount:flt(t.qty)*flt(t.rate),conversion_factor:t.conversion_factor,serial_no:t.serial_no,discount_percentage:flt(t.discount_percentage),discount_amount:flt(t.discount_amount),batch_no:t.batch_no,posa_notes:t.posa_notes,posa_delivery_date:t.posa_delivery_date,price_list_rate:t.price_list_rate};e.push(n)}),e},get_payments(){const e=[];let n=this.subtotal;return this.pos_profile.payments.forEach((a,r)=>{const o=r===0?n:a.amount||0,i=this.isReturnInvoice?-Math.abs(o):o,l=this.selected_currency!==this.pos_profile.currency?this.flt(i*(this.exchange_rate||1),this.currency_precision):i;e.push({amount:i,base_amount:l,mode_of_payment:a.mode_of_payment,default:a.default,account:a.account||"",type:a.type||"Cash",currency:this.selected_currency||this.pos_profile.currency,conversion_rate:this.exchange_rate||1}),n-=o}),console.log("Generated payments:",{currency:this.selected_currency,exchange_rate:this.exchange_rate,payments:e.map(a=>({mode:a.mode_of_payment,amount:a.amount,base_amount:a.base_amount}))}),e},convert_amount(e){return this.selected_currency===this.pos_profile.currency?e:this.flt(e*this.exchange_rate,this.currency_precision)},update_invoice(e){var t=this;return lr()?(t.invoice_doc=Object.assign({},t.invoice_doc||{},e),t.invoice_doc):(frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice",args:{data:e},async:!1,callback:function(n){n.message&&(t.invoice_doc=n.message)}}),this.invoice_doc)},update_invoice_from_order(e){var t=this;return lr()?(t.invoice_doc=Object.assign({},t.invoice_doc||{},e),t.invoice_doc):(frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice_from_order",args:{data:e},async:!1,callback:function(n){n.message&&(t.invoice_doc=n.message)}}),this.invoice_doc)},process_invoice(){const e=this.get_invoice_doc();try{const t=this.update_invoice(e);return t&&t.posting_date&&(this.posting_date=this.formatDateForBackend(t.posting_date)),t}catch(t){return console.error("Error in process_invoice:",t),this.eventBus.emit("show_message",{title:__(t.message||"Error processing invoice"),color:"error"}),!1}},async process_invoice_from_order(){const e=await this.get_invoice_from_order_doc();var t;return e.name?(t=await this.update_invoice_from_order(e),t):this.update_invoice_from_order(e)},async show_payment(){try{if(console.log("Starting show_payment process"),console.log("Invoice state before payment:",{invoiceType:this.invoiceType,is_return:this.invoice_doc?this.invoice_doc.is_return:!1,items_count:this.items.length,customer:this.customer}),!this.customer){console.log("Customer validation failed"),this.eventBus.emit("show_message",{title:__("Select a customer"),color:"error"});return}if(!this.items.length){console.log("Items validation failed - no items"),this.eventBus.emit("show_message",{title:__("Select items to sell"),color:"error"});return}console.log("Basic validations passed, proceeding to main validation");const e=this.validate();if(console.log("Main validation result:",e),!e){console.log("Main validation failed");return}let t;if(this.invoice_doc.doctype=="Sales Order"?(console.log("Processing Sales Order payment"),t=await this.process_invoice_from_order()):(console.log("Processing regular invoice"),t=this.process_invoice()),!t){console.log("Failed to process invoice");return}t.currency=this.selected_currency||this.pos_profile.currency,t.conversion_rate=this.exchange_rate||1,(this.isReturnInvoice||t.is_return)&&(console.log("Preparing RETURN invoice for payment with:",{is_return:t.is_return,invoiceType:this.invoiceType,return_against:t.return_against,items:t.items.length,grand_total:t.grand_total}),t.is_return=1,t.grand_total>0&&(t.grand_total=-Math.abs(t.grand_total)),t.rounded_total>0&&(t.rounded_total=-Math.abs(t.rounded_total)),t.total>0&&(t.total=-Math.abs(t.total)),t.base_grand_total>0&&(t.base_grand_total=-Math.abs(t.base_grand_total)),t.base_rounded_total>0&&(t.base_rounded_total=-Math.abs(t.base_rounded_total)),t.base_total>0&&(t.base_total=-Math.abs(t.base_total)),t.items&&t.items.length&&t.items.forEach(n=>{n.qty>0&&(n.qty=-Math.abs(n.qty)),n.stock_qty>0&&(n.stock_qty=-Math.abs(n.stock_qty)),n.amount>0&&(n.amount=-Math.abs(n.amount))})),t.payments=this.get_payments(),console.log("Final payment data:",t.payments),(this.isReturnInvoice||t.is_return)&&t.payments.length&&(t.payments.forEach(n=>{n.amount>0&&(n.amount=-Math.abs(n.amount)),n.base_amount>0&&(n.base_amount=-Math.abs(n.base_amount))}),console.log("Ensured negative payment amounts for return:",t.payments)),console.log("Showing payment dialog with currency:",t.currency),this.eventBus.emit("show_payment","true"),this.eventBus.emit("send_invoice_doc_payment",t)}catch(e){console.error("Error in show_payment:",e),this.eventBus.emit("show_message",{title:__("Error processing payment"),color:"error",message:e.message})}},async validate(){if(console.log("Starting return validation"),this.isReturnInvoice){console.log("Validating return invoice values");const e=this.items.filter(t=>t.qty>=0||t.stock_qty>=0);e.length>0&&(console.log("Found positive quantities in return items:",e.map(t=>t.item_code)),this.eventBus.emit("show_message",{title:__("Return items must have negative quantities"),color:"error"}),e.forEach(t=>{t.qty=-Math.abs(t.qty),t.stock_qty=-Math.abs(t.stock_qty)}),this.$forceUpdate()),this.subtotal>0&&(console.log("Return has positive subtotal:",this.subtotal),this.eventBus.emit("show_message",{title:__("Return total must be negative"),color:"warning"}))}if(this.invoice_doc.is_return&&this.invoice_doc.return_against){console.log("Return doc:",this.invoice_doc),console.log("Current items:",this.items);try{const e=await new Promise((t,n)=>{frappe.call({method:"frappe.client.get",args:{doctype:"Sales Invoice",name:this.invoice_doc.return_against},callback:a=>{a.message?(console.log("Original invoice data:",a.message),t(a.message.items||[])):n(new Error("Original invoice not found"))}})});console.log("Original invoice items:",e),console.log("Original item codes:",e.map(t=>({item_code:t.item_code,qty:t.qty,rate:t.rate})));for(const t of this.items){console.log("Validating return item:",{item_code:t.item_code,rate:t.rate,qty:t.qty});const n=t.item_code.trim().toUpperCase(),a=e.find(l=>l.item_code.trim().toUpperCase()===n);if(!a)return console.log("Item not found in original invoice:",{return_item_code:n,original_items:e.map(l=>l.item_code.trim().toUpperCase())}),this.eventBus.emit("show_message",{title:__(`Item ${t.item_code} not found in original invoice`),color:"error"}),!1;const r=Math.abs(a.rate-t.rate);if(console.log("Rate comparison:",{return_rate:t.rate,orig_rate:a.rate,difference:r}),r>.01)return this.eventBus.emit("show_message",{title:__(`Rate mismatch for item ${t.item_code}`),color:"error"}),!1;const o=Math.abs(t.qty),i=a.qty;if(console.log("Quantity comparison:",{return_qty:o,orig_qty:i}),o>i)return this.eventBus.emit("show_message",{title:__(`Return quantity cannot be greater than original quantity for item ${t.item_code}`),color:"error"}),!1}}catch(e){return console.error("Error in validation:",e),this.eventBus.emit("show_message",{title:__(`Error validating return: ${e.message}`),color:"error"}),!1}}return!0},get_draft_invoices(){var e=this;frappe.call({method:"posawesome.posawesome.api.invoices.get_draft_invoices",args:{pos_opening_shift:this.pos_opening_shift.name},async:!1,callback:function(t){t.message&&e.eventBus.emit("open_drafts",t.message)}})},get_draft_orders(){var e=this;frappe.call({method:"posawesome.posawesome.api.sales_orders.search_orders",args:{company:this.pos_profile.company,currency:this.pos_profile.currency},async:!1,callback:function(t){t.message&&e.eventBus.emit("open_orders",t.message)}})},open_returns(){this.eventBus.emit("open_returns",this.pos_profile.company)},close_payments(){this.eventBus.emit("show_payment","false")},async update_items_details(e){if(e?.length&&this.pos_profile)try{const t=await frappe.call({method:"posawesome.posawesome.api.items.get_items_details",args:{pos_profile:JSON.stringify(this.pos_profile),items_data:JSON.stringify(e)}});t?.message&&e.forEach(n=>{const a=t.message.find(r=>r.posa_row_id==n.posa_row_id);a&&(n.actual_qty=a.actual_qty,n.serial_no_data=a.serial_no_data,n.batch_no_data=a.batch_no_data,n.item_uoms=a.item_uoms,n.has_batch_no=a.has_batch_no,n.has_serial_no=a.has_serial_no)})}catch(t){console.error("Error updating items:",t),this.eventBus.emit("show_message",{title:__("Error updating item details"),color:"error"})}},update_item_detail(e,t=!1){if(e.item_code){var n=this;frappe.call({method:"posawesome.posawesome.api.items.get_item_detail",args:{warehouse:this.pos_profile.warehouse,doc:this.get_invoice_doc(),price_list:this.selected_price_list||this.pos_profile.selling_price_list,item:{item_code:e.item_code,customer:this.customer,doctype:"Sales Invoice",name:"New Sales Invoice 1",company:this.pos_profile.company,conversion_rate:1,currency:this.pos_profile.currency,qty:e.qty,price_list_rate:e.base_price_list_rate||e.price_list_rate,child_docname:"New Sales Invoice Item 1",cost_center:this.pos_profile.cost_center,pos_profile:this.pos_profile.name,uom:e.uom,tax_category:"",transaction_type:"selling",update_stock:this.pos_profile.update_stock,price_list:this.get_price_list(),has_batch_no:e.has_batch_no,serial_no:e.serial_no,batch_no:e.batch_no,is_stock_item:e.is_stock_item}},callback:function(a){if(a.message){const r=a.message;if(r.batch_no_data&&(e.batch_no_data=r.batch_no_data),e.has_batch_no&&n.pos_profile.posa_auto_set_batch&&!e.batch_no&&r.batch_no_data&&r.batch_no_data.length>0&&(e.batch_no_data=r.batch_no_data,n.set_batch_qty(e,null,!1)),(t||!e.base_rate||n.selected_currency===n.pos_profile.currency)&&(r.price_list_rate!==0||!e.base_price_list_rate)&&(e.base_price_list_rate=r.price_list_rate,e.posa_offer_applied||(e.base_rate=r.price_list_rate)),e.posa_offer_applied)if(n.selected_currency!==n.pos_profile.currency){const o=n.exchange_rate||1;e.price_list_rate=n.flt(e.base_price_list_rate/o,n.currency_precision)}else e.price_list_rate=e.base_price_list_rate;else if(n.selected_currency!==n.pos_profile.currency){const o=n.exchange_rate||1;e.price_list_rate=n.flt(e.base_price_list_rate/o,n.currency_precision),e.rate=n.flt(e.base_rate/o,n.currency_precision)}else e.price_list_rate=e.base_price_list_rate,e._manual_rate_set||(e.rate=e.base_rate);if(!e.posa_offer_applied&&n.pos_profile.posa_apply_customer_discount&&n.customer_info.posa_discount>0&&n.customer_info.posa_discount<=100&&e.posa_is_offer==0&&!e.posa_is_replace){const o=e.max_discount>0?Math.min(e.max_discount,n.customer_info.posa_discount):n.customer_info.posa_discount;e.discount_percentage=o;const i=n.flt(e.price_list_rate*o/100,n.currency_precision);e.discount_amount=i,e.base_discount_amount=n.flt(e.base_price_list_rate*o/100,n.currency_precision),e.rate=n.flt(e.price_list_rate-i,n.currency_precision),e.base_rate=n.flt(e.base_price_list_rate-e.base_discount_amount,n.currency_precision)}e.last_purchase_rate=r.last_purchase_rate,e.projected_qty=r.projected_qty,e.reserved_qty=r.reserved_qty,e.conversion_factor=r.conversion_factor,e.stock_qty=r.stock_qty,e.actual_qty=r.actual_qty,e.stock_uom=r.stock_uom,e.has_serial_no=r.has_serial_no,e.has_batch_no=r.has_batch_no,e.amount=n.flt(e.qty*e.rate,n.currency_precision),e.base_amount=n.flt(e.qty*e.base_rate,n.currency_precision),console.log(`Updated rates for ${e.item_code} on expand:`,{base_rate:e.base_rate,rate:e.rate,base_price_list_rate:e.base_price_list_rate,price_list_rate:e.price_list_rate,exchange_rate:n.exchange_rate,selected_currency:n.selected_currency,default_currency:n.pos_profile.currency}),n.$forceUpdate()}}})}},async fetch_customer_details(){var e=this;if(this.customer)try{const t=await frappe.call({method:"posawesome.posawesome.api.customers.get_customer_info",args:{customer:e.customer}}),n=t.message;t.exc||(e.customer_info={...n}),e.pos_profile.posa_force_reload_items&&n.customer_price_list&&(e.selected_price_list=n.customer_price_list,e.eventBus.emit("update_customer_price_list",n.customer_price_list),e.apply_cached_price_list(n.customer_price_list))}catch(t){console.error("Failed to fetch customer details",t)}},get_price_list(){return this.selected_price_list||this.pos_profile.selling_price_list},update_price_list(){const e=this.pos_profile.selling_price_list;this.selected_price_list!==e&&(this.selected_price_list=e,this.eventBus.emit("update_customer_price_list",null))},apply_cached_price_list(e){const t=jy(e);if(!t)return;const n={};t.forEach(a=>{n[a.item_code]=a}),this.items.forEach(a=>{const r=n[a.item_code];if(!r)return;const o=r.rate||r.price_list_rate;if((r.currency||this.selected_currency)===this.selected_currency)a.base_price_list_rate=o*this.exchange_rate,a._manual_rate_set||(a.base_rate=o*this.exchange_rate),a.price_list_rate=o,a._manual_rate_set||(a.rate=o);else if((o!==0||!a.base_price_list_rate)&&(a.base_price_list_rate=o,a._manual_rate_set||(a.base_rate=o)),this.selected_currency!==this.pos_profile.currency){const l=this.exchange_rate||1,u=this.flt(o/l,this.currency_precision);(o!==0||!a.price_list_rate)&&(a.price_list_rate=u),!a._manual_rate_set&&(o!==0||!a.rate)&&(a.rate=u)}else(o!==0||!a.price_list_rate)&&(a.price_list_rate=o),!a._manual_rate_set&&(o!==0||!a.rate)&&(a.rate=o);a.amount=this.flt(a.qty*a.rate,this.currency_precision),a.base_amount=this.flt(a.qty*a.base_rate,this.currency_precision)}),this.$forceUpdate()},update_discount_umount(){const e=flt(this.additional_discount_percentage);if(e<-100||e>100){this.additional_discount_percentage=0,this.additional_discount=0;return}this.Total&&this.Total!==0?this.additional_discount=this.Total*e/100:this.additional_discount=0},calc_prices(e,t,n){if(!n?.target?.id||!e)return;const a=n.target.id;let r=flt(t,this.currency_precision);try{a==="rate"&&(e._manual_rate_set=!0),r<0&&(r=0,this.eventBus.emit("show_message",{title:__("Negative values not allowed"),color:"error"}));const o=this.selected_currency!==this.pos_profile.currency?this.flt(e.price_list_rate/this.exchange_rate,this.currency_precision):e.price_list_rate;switch(a){case"rate":e.base_rate=this.flt(r*this.exchange_rate,this.currency_precision),e.rate=r,e.discount_amount=this.flt(o-e.rate,this.currency_precision),e.base_discount_amount=this.flt(e.price_list_rate-e.base_rate,this.currency_precision),o&&(e.discount_percentage=this.flt(e.discount_amount/o*100,this.float_precision));break;case"discount_amount":console.log("[calc_prices] Event Target ID:",a),console.log("[calc_prices] RAW value received by function:",t),console.log("[calc_prices] Original item.price_list_rate:",e.price_list_rate),console.log("[calc_prices] Converted price_list_rate for calc:",o),console.log("[calc_prices] Input value (newValue before Math.min):",r),r=Math.min(r,o),console.log("[calc_prices] Input value (newValue after Math.min):",r),e.base_discount_amount=this.flt(r*this.exchange_rate,this.currency_precision),e.discount_amount=r,console.log("[calc_prices] Updated item.discount_amount:",e.discount_amount),console.log("[calc_prices] Updated item.base_discount_amount:",e.base_discount_amount),e.rate=this.flt(o-e.discount_amount,this.currency_precision),e.base_rate=this.flt(e.price_list_rate-e.base_discount_amount,this.currency_precision),console.log("[calc_prices] Calculated item.rate:",e.rate),console.log("[calc_prices] Calculated item.base_rate:",e.base_rate),o?e.discount_percentage=this.flt(e.discount_amount/o*100,this.float_precision):e.discount_percentage=0,console.log("[calc_prices] Calculated item.discount_percentage:",e.discount_percentage);break;case"discount_percentage":r=Math.min(r,100),e.discount_percentage=this.flt(r,this.float_precision),e.discount_amount=this.flt(o*e.discount_percentage/100,this.currency_precision),e.base_discount_amount=this.flt(e.price_list_rate*e.discount_percentage/100,this.currency_precision),e.rate=this.flt(o-e.discount_amount,this.currency_precision),e.base_rate=this.flt(e.price_list_rate-e.base_discount_amount,this.currency_precision);break}e.rate<0&&(e.rate=0,e.base_rate=0,e.discount_amount=o,e.base_discount_amount=e.price_list_rate,e.discount_percentage=100),this.calc_stock_qty(e,e.qty),this.$forceUpdate()}catch(o){console.error("Error calculating prices:",o),this.eventBus.emit("show_message",{title:__("Error calculating prices"),color:"error"})}},calc_item_price(e){if(e._skip_calc){e._skip_calc=!1;return}if(e.posa_offer_applied||e.price_list_rate&&(e.base_price_list_rate||(e.base_price_list_rate=e.price_list_rate,e.base_rate=e.rate),this.selected_currency!==this.pos_profile.currency?(e.price_list_rate=this.flt(e.base_price_list_rate/this.exchange_rate,this.currency_precision),e.rate=this.flt(e.base_rate/this.exchange_rate,this.currency_precision)):(e.price_list_rate=e.base_price_list_rate,e.rate=e.base_rate)),e.discount_percentage){const t=e.price_list_rate,n=this.flt(t*e.discount_percentage/100,this.currency_precision);e.discount_amount=n,e.rate=this.flt(t-n,this.currency_precision),this.selected_currency!==this.pos_profile.currency?e.base_discount_amount=this.flt(n*this.exchange_rate,this.currency_precision):e.base_discount_amount=e.discount_amount}e.amount=this.flt(e.qty*e.rate,this.currency_precision),this.selected_currency!==this.pos_profile.currency?e.base_amount=this.flt(e.amount*this.exchange_rate,this.currency_precision):e.base_amount=e.amount,this.$forceUpdate()},calc_uom(e,t){let n=e.item_uoms.find(o=>o.uom==t);if(!n){const o=oc(e.item_code);o.length&&(e.item_uoms=o,n=o.find(i=>i.uom==t))}if(!n&&e.stock_uom===t&&(n={uom:e.stock_uom,conversion_factor:1},e.item_uoms||(e.item_uoms=[]),e.item_uoms.push(n)),!n){this.eventBus.emit("show_message",{title:__("UOM not found"),color:"error"});return}const a=e.conversion_factor||1;e.conversion_factor=n.conversion_factor;const r=e.conversion_factor/a;if(e.posa_offer_applied||(e.discount_amount=0,e.discount_percentage=0),!e.original_base_rate&&!e.posa_offer_applied&&(e.original_base_rate=e.base_rate/a,e.original_base_price_list_rate=e.base_price_list_rate/a),e.posa_offer_applied){const o=this.posOffers&&Array.isArray(this.posOffers)?this.posOffers.find(i=>{if(!i||!i.items)return!1;const l=typeof i.items=="string"?JSON.parse(i.items):i.items;return Array.isArray(l)&&l.includes(e.posa_row_id)}):null;if(o&&o.discount_type==="Rate"){const i=flt(o.rate*e.conversion_factor);e.base_rate=i,e.base_price_list_rate=i,this.selected_currency!==this.pos_profile.currency?(e.rate=this.flt(i/this.exchange_rate,this.currency_precision),e.price_list_rate=e.rate):(e.rate=i,e.price_list_rate=i)}else if(o&&o.discount_type==="Discount Percentage"){let i;e.original_base_price_list_rate?i=this.flt(e.original_base_price_list_rate*e.conversion_factor,this.currency_precision):i=this.flt(e.base_price_list_rate*r,this.currency_precision),e.base_price_list_rate=i;const l=this.flt(i*o.discount_percentage/100,this.currency_precision);e.base_discount_amount=l,e.base_rate=this.flt(i-l,this.currency_precision),this.selected_currency!==this.pos_profile.currency?(e.price_list_rate=this.flt(i/this.exchange_rate,this.currency_precision),e.discount_amount=this.flt(l/this.exchange_rate,this.currency_precision),e.rate=this.flt(e.base_rate/this.exchange_rate,this.currency_precision)):(e.price_list_rate=i,e.discount_amount=l,e.rate=e.base_rate)}}else e.batch_price?(e.base_rate=e.batch_price*e.conversion_factor,e.base_price_list_rate=e.base_rate):e.original_base_rate&&(e.base_rate=e.original_base_rate*e.conversion_factor,e.base_price_list_rate=e.original_base_price_list_rate*e.conversion_factor),this.selected_currency!==this.pos_profile.currency?(e.rate=this.flt(e.base_rate/this.exchange_rate,this.currency_precision),e.price_list_rate=this.flt(e.base_price_list_rate/this.exchange_rate,this.currency_precision)):(e.rate=e.base_rate,e.price_list_rate=e.base_price_list_rate);this.calc_stock_qty(e,e.qty),this.$forceUpdate()},calc_stock_qty(e,t){e.stock_qty=e.conversion_factor*t},set_serial_no(e){console.log(e),e.has_serial_no&&(e.serial_no="",e.serial_no_selected.forEach(t=>{e.serial_no+=t+`
`}),e.serial_no_selected_count=e.serial_no_selected.length,e.serial_no_selected_count!=e.stock_qty&&(e.qty=e.serial_no_selected_count,this.calc_stock_qty(e,e.qty),this.$forceUpdate()))},set_batch_qty(e,t,n=!0){console.log("Setting batch quantity:",e,t);const a=this.items.filter(i=>i.item_code==e.item_code&&i.posa_row_id!=e.posa_row_id),r={};e.batch_no_data.forEach(i=>{r[i.batch_no]={...i,used_qty:0,remaining_qty:i.batch_qty},a.forEach(l=>{l.batch_no&&l.batch_no==i.batch_no&&(r[i.batch_no].used_qty+=l.qty,r[i.batch_no].remaining_qty-=l.qty,r[i.batch_no].batch_qty-=l.qty)})});const o=Object.values(r).filter(i=>i.remaining_qty>0).sort((i,l)=>i.expiry_date&&l.expiry_date?new Date(i.expiry_date)-new Date(l.expiry_date):i.expiry_date?-1:l.expiry_date?1:i.manufacturing_date&&l.manufacturing_date?new Date(i.manufacturing_date)-new Date(l.manufacturing_date):i.manufacturing_date?-1:l.manufacturing_date?1:l.remaining_qty-i.remaining_qty);if(o.length>0){let i=null;t&&(i=o.find(l=>l.batch_no==t)),i||(i=o[0]),e.batch_no=i.batch_no,e.actual_batch_qty=i.batch_qty,e.batch_no_expiry_date=i.expiry_date,i.batch_price?(e.base_batch_price=i.batch_price,this.selected_currency!==this.pos_profile.currency?e.batch_price=this.flt(i.batch_price/this.exchange_rate,this.currency_precision):e.batch_price=i.batch_price,e.base_price_list_rate=e.base_batch_price,e.base_rate=e.base_batch_price,this.selected_currency!==this.pos_profile.currency?(e.price_list_rate=e.batch_price,e.rate=e.batch_price):(e.price_list_rate=e.base_batch_price,e.rate=e.base_batch_price),e.discount_percentage=0,e.discount_amount=0,e.base_discount_amount=0,e.amount=this.flt(e.qty*e.rate,this.currency_precision),e.base_amount=this.flt(e.qty*e.base_rate,this.currency_precision),console.log("Updated batch prices:",{base_batch_price:e.base_batch_price,batch_price:e.batch_price,rate:e.rate,base_rate:e.base_rate,price_list_rate:e.price_list_rate,exchange_rate:this.exchange_rate})):n&&(e.batch_price=null,e.base_batch_price=null,this.update_item_detail(e))}else e.batch_no=null,e.actual_batch_qty=null,e.batch_no_expiry_date=null,e.batch_price=null,e.base_batch_price=null;e.batch_no_data=o,this.$forceUpdate()}},Vz={checkOfferIsAppley(e,t){let n=!1;const a=JSON.parse(e.posa_offers);for(const r of a){const o=this.posa_offers.find(i=>r==i.row_id);if(o&&o.offer_name==t.name){n=!0;break}}return n},handelOffers(){const e=[];this.posOffers.forEach(t=>{if(t.apply_on==="Item Code"){const n=this.getItemOffer(t);n&&e.push(n)}else if(t.apply_on==="Item Group"){const n=this.getGroupOffer(t);n&&e.push(n)}else if(t.apply_on==="Brand"){const n=this.getBrandOffer(t);n&&e.push(n)}else if(t.apply_on==="Transaction"){const n=this.getTransactionOffer(t);n&&e.push(n)}}),this.setItemGiveOffer(e),this.updatePosOffers(e)},setItemGiveOffer(e){e.forEach(t=>{if(t.apply_on=="Item Code"&&t.apply_type=="Item Code"&&t.replace_item)t.give_item=t.item,t.apply_item_code=t.item;else if(t.apply_on=="Item Group"&&t.apply_type=="Item Group"&&t.replace_cheapest_item){const n=this.getCheapestItem(t).item_code;t.give_item=n,t.apply_item_code=n}})},getCheapestItem(e){let t;typeof e.items=="string"?t=JSON.parse(e.items):t=e.items;const n=[];return t.forEach(r=>{n.push(this.getItemFromRowID(r))}),n.reduce(function(r,o){return!o.posa_is_replace&&!o.posa_is_offer&&o.price_list_rate<r.price_list_rate?o:r})},getItemFromRowID(e){return this.items.find(n=>n.posa_row_id==e)},checkQtyAnountOffer(e,t,n){let a=!1,r=!1,o=!1,i=!1;const l=[];(e.min_qty||e.min_qty==0)&&(t>=e.min_qty&&(a=!0),l.push(a)),e.max_qty>0&&(t<=e.max_qty&&(r=!0),l.push(r)),e.min_amt>0&&(n>=e.min_amt&&(o=!0),l.push(o)),e.max_amt>0&&(n<=e.max_amt&&(i=!0),l.push(i));let u=!1;return l.includes(!1)||(u=!0),{apply:u,conditions:{min_qty:a,max_qty:r,min_amt:o,max_amt:i}}},checkOfferCoupon(e){if(e.coupon_based){const t=this.posa_coupons.find(n=>e.name==n.pos_offer);return t?(e.coupon=t.coupon,!0):!1}else return e.coupon=null,!0},getItemOffer(e){let t=null;return e.apply_on==="Item Code"&&this.checkOfferCoupon(e)&&this.items.forEach(n=>{if(!n.posa_is_offer&&n.item_code===e.item){const a=[];e.offer==="Item Price"&&n.posa_offer_applied&&!this.checkOfferIsAppley(n,e)||this.checkQtyAnountOffer(e,n.stock_qty,n.stock_qty*n.price_list_rate).apply&&(a.push(n.posa_row_id),e.items=a,t=e)}}),t},getGroupOffer(e){let t=null;if(e.apply_on==="Item Group"&&this.checkOfferCoupon(e)){const n=[];let a=0,r=0;this.items.forEach(o=>{!o.posa_is_offer&&o.item_group===e.item_group&&(e.offer==="Item Price"&&o.posa_offer_applied&&!this.checkOfferIsAppley(o,e)||(a+=o.stock_qty,r+=o.stock_qty*o.price_list_rate,n.push(o.posa_row_id)))}),(a||r)&&this.checkQtyAnountOffer(e,a,r).apply&&(e.items=n,t=e)}return t},getBrandOffer(e){let t=null;if(e.apply_on==="Brand"&&this.checkOfferCoupon(e)){const n=[];let a=0,r=0;this.items.forEach(o=>{!o.posa_is_offer&&o.brand===e.brand&&(e.offer==="Item Price"&&o.posa_offer_applied&&!this.checkOfferIsAppley(o,e)||(a+=o.stock_qty,r+=o.stock_qty*o.price_list_rate,n.push(o.posa_row_id)))}),(a||r)&&this.checkQtyAnountOffer(e,a,r).apply&&(e.items=n,t=e)}return t},getTransactionOffer(e){let t=null;if(e.apply_on==="Transaction"&&this.checkOfferCoupon(e)){let n=0;this.items.forEach(i=>{!i.posa_is_offer&&!i.posa_is_replace&&(n+=i.stock_qty)});const a=[],r=n,o=this.Total;(r||o)&&this.checkQtyAnountOffer(e,r,o).apply&&(this.items.forEach(l=>{a.push(l.posa_row_id)}),e.items=a,t=e)}return t},updatePosOffers(e){this.eventBus.emit("update_pos_offers",e)},updateInvoiceOffers(e){this.posa_offers.forEach(t=>{e.find(a=>t.row_id==a.row_id)||this.removeApplyOffer(t)}),e.forEach(t=>{const n=this.posa_offers.find(a=>a.row_id==t.row_id);if(n){if(n.items=JSON.stringify(t.items),n.offer==="Give Product"&&n.give_item&&n.give_item!=t.give_item){const a=this.items.find(o=>o.posa_row_id==n.give_item_row_id);if(a){const o=t.items.filter(i=>i!=a.posa_row_id);t.items=o,this.remove_item(a),n.give_item_row_id=null,n.give_item=null}const r=this.ApplyOnGiveProduct(t);if(t.replace_cheapest_item){const o=this.getCheapestItem(t),i=this.items.find(u=>u.posa_row_id==a.posa_is_replace);if(r.qty=a.qty,i&&!i.posa_is_replace)i.qty+=a.qty;else{const u=this.ApplyOnGiveProduct({given_qty:a.qty},a.item_code);u.posa_is_offer=0,this.items.unshift(u)}r.posa_is_offer=0,r.posa_is_replace=o.posa_row_id;const l=o.qty-r.qty;l<=0?(r.qty+=l,this.remove_item(o),r.posa_row_id=o.posa_row_id,r.posa_is_replace=r.posa_row_id):o.qty=l}this.items.unshift(r),n.give_item_row_id=r.posa_row_id,n.give_item=r.item_code}else n.offer==="Give Product"&&n.give_item&&n.give_item==t.give_item&&(t.replace_item||t.replace_cheapest_item)?this.$nextTick(function(){const a=this.getItemFromRowID(n.give_item_row_id),r=t.given_qty-a.qty;if(r>0){const o=JSON.parse(n.items),i=[];o.forEach(u=>{i.push(this.getItemFromRowID(u))});const l=i.find(u=>u.item_code==a.item_code&&u.posa_is_replace!=a.posa_row_id);l&&(l.qty-r>0?(a.qty+=r,l.qty-=r):(a.qty+=l.qty,this.remove_item(l)))}}):n.offer==="Item Price"?this.ApplyOnPrice(t):n.offer==="Grand Total"&&this.ApplyOnTotal(t);this.addOfferToItems(n)}else this.applyNewOffer(t)})},removeApplyOffer(e){if(e.offer==="Item Price"){this.RemoveOnPrice(e);const t=this.posa_offers.findIndex(n=>n.row_id===e.row_id);this.posa_offers.splice(t,1)}if(e.offer==="Give Product"){const t=this.items.find(a=>a.posa_row_id==e.give_item_row_id),n=this.posa_offers.findIndex(a=>a.row_id===e.row_id);this.posa_offers.splice(n,1),this.remove_item(t)}if(e.offer==="Grand Total"){this.RemoveOnTotal(e);const t=this.posa_offers.findIndex(n=>n.row_id===e.row_id);this.posa_offers.splice(t,1)}if(e.offer==="Loyalty Point"){const t=this.posa_offers.findIndex(n=>n.row_id===e.row_id);this.posa_offers.splice(t,1)}this.deleteOfferFromItems(e)},applyNewOffer(e){if(e.offer==="Item Price"&&this.ApplyOnPrice(e),e.offer==="Give Product"){let n;if(typeof e.items=="string"?n=JSON.parse(e.items):n=e.items,e.apply_on=="Item Code"&&e.apply_type=="Item Code"&&e.replace_item){const a=this.ApplyOnGiveProduct(e,e.item);a.posa_is_replace=n[0];const r=this.items.find(i=>i.posa_row_id==a.posa_is_replace),o=r.qty-e.given_qty;a.posa_is_offer=0,o<=0?(a.qty=r.qty,this.remove_item(r),a.posa_row_id=a.posa_is_replace):r.qty=o,this.items.unshift(a),e.give_item_row_id=a.posa_row_id}else if(e.apply_on=="Item Group"&&e.apply_type=="Item Group"&&e.replace_cheapest_item){const a=[];n.forEach(l=>{a.push(this.getItemFromRowID(l))});const r=a.find(l=>l.item_code==e.give_item),o=this.ApplyOnGiveProduct(e,e.give_item);o.posa_is_offer=0,o.posa_is_replace=r.posa_row_id;const i=r.qty-e.given_qty;i<=0?(o.qty=r.qty,this.remove_item(r),o.posa_row_id=o.posa_is_replace):r.qty=i,this.items.unshift(o),e.give_item_row_id=o.posa_row_id}else{const a=this.ApplyOnGiveProduct(e);this.items.unshift(a),a&&(e.give_item_row_id=a.posa_row_id)}}e.offer==="Grand Total"&&this.ApplyOnTotal(e),e.offer==="Loyalty Point"&&this.eventBus.emit("show_message",{title:__("Loyalty Point Offer Applied"),color:"success"});const t={offer_name:e.name,row_id:e.row_id,apply_on:e.apply_on,offer:e.offer,items:JSON.stringify(e.items),give_item:e.give_item,give_item_row_id:e.give_item_row_id,offer_applied:e.offer_applied,coupon_based:e.coupon_based,coupon:e.coupon};this.posa_offers.push(t),this.addOfferToItems(t)},ApplyOnGiveProduct(e,t){t||(t=e.give_item);const a=this.allItems.find(i=>i.item_code==t);if(!a)return;const r={...a};if(r.qty=e.given_qty,r.stock_qty=e.given_qty,e.discount_type==="Rate")r.base_rate=e.rate,this.selected_currency!==this.pos_profile.currency?r.rate=this.flt(e.rate/this.exchange_rate,this.currency_precision):r.rate=e.rate;else if(e.discount_type==="Discount Percentage"){const i=a.base_rate||a.rate*this.exchange_rate,l=this.flt(i*e.discount_percentage/100,this.currency_precision);r.base_discount_amount=l,r.base_rate=this.flt(i-l,this.currency_precision),this.selected_currency!==this.pos_profile.currency?(r.discount_amount=this.flt(l/this.exchange_rate,this.currency_precision),r.rate=this.flt(r.base_rate/this.exchange_rate,this.currency_precision)):(r.discount_amount=l,r.rate=r.base_rate)}else this.selected_currency!==this.pos_profile.currency?(r.base_rate=a.base_rate||a.rate*this.exchange_rate,r.rate=a.rate):(r.base_rate=a.rate,r.rate=a.rate);e.discount_type==="Discount Amount"?(r.base_discount_amount=e.discount_amount,this.selected_currency!==this.pos_profile.currency?r.discount_amount=this.flt(e.discount_amount/this.exchange_rate,this.currency_precision):r.discount_amount=e.discount_amount):e.discount_type!=="Discount Percentage"&&(r.base_discount_amount=0,r.discount_amount=0),r.discount_percentage=e.discount_type==="Discount Percentage"?e.discount_percentage:0,r.discount_amount_per_item=0,r.uom=a.uom?a.uom:a.stock_uom,r.actual_batch_qty="",r.conversion_factor=1,r.posa_offers=JSON.stringify([]),r.posa_offer_applied=e.discount_type==="Rate"||e.discount_type==="Discount Amount"||e.discount_type==="Discount Percentage"?1:0,r.posa_is_offer=1,r.posa_is_replace=null,r.posa_notes="",r.posa_delivery_date="";const o=e.discount_type==="Rate"&&!e.rate||e.discount_type==="Discount Percentage"&&e.discount_percentage==100;return r.is_free_item=o?1:0,o?(r.base_price_list_rate=0,r.price_list_rate=0):(r.base_price_list_rate=a.rate,this.selected_currency!==this.pos_profile.currency?r.price_list_rate=this.flt(a.rate/this.exchange_rate,this.currency_precision):r.price_list_rate=a.rate),r.posa_row_id=this.makeid(20),(!this.pos_profile.posa_auto_set_batch&&r.has_batch_no||r.has_serial_no)&&this.expanded.push(r),this.update_item_detail(r),r},ApplyOnPrice(e){console.log("Applying price offer:",e),!(!e||!Array.isArray(this.items))&&this.items.forEach(t=>{if(!(!t||!e.items||!Array.isArray(e.items))&&e.items.includes(t.posa_row_id)){const n=t.posa_offers?JSON.parse(t.posa_offers):[];if(!Array.isArray(n))return;if(!n.includes(e.row_id)){if(!t.posa_offer_applied){const r=flt(t.conversion_factor||1);t.original_base_rate=t.base_rate/r,t.original_base_price_list_rate=t.base_price_list_rate/r,t.original_rate=t.rate/r,t.original_price_list_rate=t.price_list_rate/r,console.log("Storing original rates (normalized to conversion factor 1):",{original_base_rate:t.original_base_rate,original_base_price_list_rate:t.original_base_price_list_rate,original_rate:t.original_rate,original_price_list_rate:t.original_price_list_rate,conversion_factor:r})}const a=flt(t.conversion_factor||1);if(e.discount_type==="Rate"){const r=flt(e.rate*a);t.base_rate=r,t.base_price_list_rate=r,this.selected_currency!==this.pos_profile.currency?(t.rate=this.flt(r/this.exchange_rate,this.currency_precision),t.price_list_rate=t.rate):(t.rate=r,t.price_list_rate=r),t.discount_percentage=0,t.discount_amount=0,t.base_discount_amount=0}else if(e.discount_type==="Discount Percentage"){t.discount_percentage=e.discount_percentage;const r=this.flt((t.original_base_price_list_rate||t.base_price_list_rate/a)*a,this.currency_precision),o=this.flt(r*e.discount_percentage/100,this.currency_precision);t.base_discount_amount=o,t.base_rate=this.flt(r-o,this.currency_precision),t.base_price_list_rate=r,this.selected_currency!==this.pos_profile.currency?(t.price_list_rate=this.flt(r/this.exchange_rate,this.currency_precision),t.discount_amount=this.flt(o/this.exchange_rate,this.currency_precision),t.rate=this.flt(t.base_rate/this.exchange_rate,this.currency_precision)):(t.price_list_rate=r,t.discount_amount=o,t.rate=t.base_rate)}t.amount=this.flt(t.qty*t.rate,this.currency_precision),t.base_amount=this.flt(t.qty*t.base_rate,this.currency_precision),console.log("Updated rates after applying offer:",{rate:t.rate,base_rate:t.base_rate,price_list_rate:t.price_list_rate,base_price_list_rate:t.base_price_list_rate,discount_amount:t.discount_amount,base_discount_amount:t.base_discount_amount,amount:t.amount,base_amount:t.base_amount}),t.posa_offer_applied=1,this.$forceUpdate()}}})},RemoveOnPrice(e){console.log("Removing price offer:",e),!(!e||!Array.isArray(this.items))&&this.items.forEach(t=>{if(!(!t||!t.posa_offers))try{const n=JSON.parse(t.posa_offers);if(!Array.isArray(n))return;if(n.includes(e.row_id)){if(console.log("Found item with offer:",t),!t.original_base_rate){console.warn("Original rates not found, fetching from server"),this.update_item_detail(t);return}const a=flt(t.conversion_factor||1);console.log("Restoring original rates with conversion factor:",{original_base_rate:t.original_base_rate,original_base_price_list_rate:t.original_base_price_list_rate,conversion_factor:a}),t.base_rate=this.flt(t.original_base_rate*a,this.currency_precision),t.base_price_list_rate=this.flt(t.original_base_price_list_rate*a,this.currency_precision),this.selected_currency!==this.pos_profile.currency?(t.rate=this.flt(t.base_rate/this.exchange_rate,this.currency_precision),t.price_list_rate=this.flt(t.base_price_list_rate/this.exchange_rate,this.currency_precision)):(t.rate=t.base_rate,t.price_list_rate=t.base_price_list_rate),t.discount_percentage=0,t.discount_amount=0,t.base_discount_amount=0,t.amount=this.flt(t.qty*t.rate,this.currency_precision),t.base_amount=this.flt(t.qty*t.base_rate,this.currency_precision);const r=n.filter(o=>o!==e.row_id);r.length===0&&(t.original_base_rate=null,t.original_base_price_list_rate=null,t.original_rate=null,t.original_price_list_rate=null,t.posa_offer_applied=0),t.posa_offers=JSON.stringify(r),console.log("Updated rates after removing offer:",{rate:t.rate,base_rate:t.base_rate,price_list_rate:t.price_list_rate,base_price_list_rate:t.base_price_list_rate,amount:t.amount,base_amount:t.base_amount,remaining_offers:r}),this.$forceUpdate()}}catch(n){console.error("Error removing price offer:",n),this.eventBus.emit("show_message",{title:__("Error removing price offer"),color:"error",message:n.message})}})},ApplyOnTotal(e){e.name||(e=this.posOffers.find(t=>t.name==e.offer_name)),!(this.discount_percentage_offer_name===e.name&&this.discount_amount!==0)&&(!this.discount_percentage_offer_name||this.discount_percentage_offer_name==e.name)&&e.discount_percentage>0&&e.discount_percentage<=100&&(this.discount_amount=this.flt(flt(this.Total)*flt(e.discount_percentage)/100,this.currency_precision),this.discount_percentage_offer_name=e.name,this.additional_discount=this.discount_amount,this.Total&&this.Total!==0?this.additional_discount_percentage=this.discount_amount/this.Total*100:this.additional_discount_percentage=0)},RemoveOnTotal(e){this.discount_percentage_offer_name&&this.discount_percentage_offer_name==e.offer_name&&(this.discount_amount=0,this.discount_percentage_offer_name=null,this.additional_discount=0,this.additional_discount_percentage=0)},addOfferToItems(e){if(!(!e||!e.items||!Array.isArray(this.items)))try{const t=typeof e.items=="string"?JSON.parse(e.items):e.items;if(!Array.isArray(t))return;t.forEach(n=>{this.items.forEach(a=>{if(!(!a||!a.posa_row_id)&&a.posa_row_id==n){const r=a.posa_offers?JSON.parse(a.posa_offers):[];if(!Array.isArray(r))return;r.includes(e.row_id)||(r.push(e.row_id),e.offer==="Item Price"&&(a.posa_offer_applied=1)),a.posa_offers=JSON.stringify(r)}})})}catch(t){console.error("Error adding offer to items:",t),this.eventBus.emit("show_message",{title:__("Error adding offer to items"),color:"error",message:t.message})}},deleteOfferFromItems(e){if(!(!e||!e.items||!Array.isArray(this.items)))try{const t=typeof e.items=="string"?JSON.parse(e.items):e.items;if(!Array.isArray(t))return;t.forEach(n=>{this.items.forEach(a=>{if(!(!a||!a.posa_row_id)&&a.posa_row_id==n){const r=a.posa_offers?JSON.parse(a.posa_offers):[];if(!Array.isArray(r))return;const o=r.filter(i=>i!=e.row_id);e.offer==="Item Price"&&(a.posa_offer_applied=0),a.posa_offers=JSON.stringify(o)}})})}catch(t){console.error("Error deleting offer from items:",t),this.eventBus.emit("show_message",{title:__("Error deleting offer from items"),color:"error",message:t.message})}},validate_due_date(e){const t=frappe.datetime.now_date(),n=Date.parse(t),a=this.formatDateForBackend(e.posa_delivery_date),r=Date.parse(a);isNaN(r)||r<n?setTimeout(()=>{e.posa_delivery_date=this.formatDateForDisplay(t)},0):e.posa_delivery_date=this.formatDateForDisplay(a)},load_print_page(e){const t=this.pos_profile.print_format_for_online||this.pos_profile.print_format,n=this.pos_profile.letter_head||0,a=frappe.urllib.get_base_url()+"/printview?doctype=Sales%20Invoice&name="+e+"&trigger_print=1&format="+t+"&no_letterhead="+n;if(this.pos_profile.posa_silent_print)xv(a);else{const r=window.open(a,"Print");r.addEventListener("load",function(){r.print()},{once:!0})}},formatDateForBackend(e){if(!e)return null;if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2),r=`0${t.getDate()}`.slice(-2);return`${n}-${a}-${r}`}return e},formatDateForDisplay(e){if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a}-${n}`}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2);return`${`0${t.getDate()}`.slice(-2)}-${a}-${n}`}return e},toggleOffer(e){this.$nextTick(()=>{e.posa_is_offer||(e.posa_offers=JSON.stringify([]),e.posa_offer_applied=0,e.discount_percentage=0,e.discount_amount=0,e.rate=e.price_list_rate,this.calc_item_price(e),this.handelOffers()),this.$forceUpdate()})}},Oz={shortOpenFirstItem(e){if(e.key.toLowerCase()==="a"&&(e.ctrlKey||e.metaKey))try{if(e.preventDefault(),e.stopPropagation(),!this.items||this.items.length===0){console.log("No items to expand/collapse");return}const t=this.items[0];console.log("Processing first item:",t.item_code),this.expanded.includes(t.posa_row_id)?(console.log("Collapsing item:",t.item_code),this.expanded=[]):(console.log("Expanding item:",t.item_code),this.expanded=[t.posa_row_id],this.$nextTick(()=>{this.update_item_detail(t)}))}catch(t){console.error("Error in shortOpenFirstItem:",t),this.eventBus.emit("show_message",{title:__("Error toggling item details"),color:"error"})}},handleExpandedUpdate(e){if(console.log("Expanded state updated:",e),this.expanded=e,e&&e.length>0){const t=e[0],n=this.items.find(a=>a.posa_row_id===t);n&&this.$nextTick(()=>{this.update_item_detail(n)})}},shortOpenPayment(e){e.key==="s"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.show_payment())},shortDeleteFirstItem(e){e.key==="d"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.remove_item(this.items[0]))},shortSelectDiscount(e){console.log("Shortcut pressed:",e.key,e.ctrlKey),e.key.toLowerCase()==="e"&&(e.ctrlKey||e.metaKey)&&(console.log("Focusing discount field"),e.preventDefault(),e.stopPropagation(),this.$refs.discount?(this.$refs.discount.focus(),console.log("Discount field focused")):console.log("Discount field ref not found"))}},Iz={name:"POSInvoice",mixins:[xi],data(){return{pos_profile:"",pos_opening_shift:"",stock_settings:"",invoice_doc:"",return_doc:"",customer:"",customer_info:"",customer_balance:0,discount_amount:0,additional_discount:0,additional_discount_percentage:0,total_tax:0,items:[],posOffers:[],posa_offers:[],posa_coupons:[],allItems:[],discount_percentage_offer_name:null,invoiceTypes:["Invoice","Order"],invoiceType:"Invoice",itemsPerPage:1e3,expanded:[],singleExpand:!0,cancel_dialog:!1,float_precision:6,currency_precision:6,new_line:!1,delivery_charges:[],delivery_charges_rate:0,selected_delivery_charge:"",invoice_posting_date:!1,posting_date:frappe.datetime.nowdate(),posting_date_display:"",items_headers:[],selected_currency:"",exchange_rate:1,available_currencies:[],price_lists:[],selected_price_list:"",price_list_currency:"",selected_columns:[],temp_selected_columns:[],available_columns:[],show_column_selector:!1}},components:{Customer:lD,DeliveryCharges:sW,PostingDateRow:hW,MultiCurrencyRow:_W,InvoiceSummary:CW,CancelSaleDialog:wW,ItemsTable:Pz},computed:{...Ez,isDarkTheme(){return this.$theme.current==="dark"}},methods:{...Oz,...Tz,...Vz,initializeItemsHeaders(){this.available_columns=[{title:__("Name"),align:"start",sortable:!0,key:"item_name",required:!0},{title:__("QTY"),key:"qty",align:"center",required:!0},{title:__("UOM"),key:"uom",align:"center",required:!1},{title:__("Rate"),key:"rate",align:"center",required:!0},{title:__("Discount %"),key:"discount_value",align:"center",required:!1},{title:__("Discount Amount"),key:"discount_amount",align:"center",required:!1},{title:__("Amount"),key:"amount",align:"center",required:!0},{title:__("Offer?"),key:"posa_is_offer",align:"center",required:!1}],(!this.selected_columns||this.selected_columns.length===0)&&(this.selected_columns=this.available_columns.filter(e=>!!(e.required||e.key==="discount_value"&&this.pos_profile.posa_display_discount_percentage||e.key==="discount_amount"&&this.pos_profile.posa_display_discount_amount)).map(e=>e.key)),this.updateHeadersFromSelection()},toggleColumnSelection(){this.temp_selected_columns=[...this.selected_columns],this.show_column_selector=!0},cancelColumnSelection(){this.show_column_selector=!1},updateHeadersFromSelection(){this.items_headers=this.available_columns.filter(e=>this.selected_columns.includes(e.key)||e.required)},updateSelectedColumns(){this.selected_columns=[...this.temp_selected_columns],this.available_columns.filter(t=>t.required).map(t=>t.key).forEach(t=>{this.selected_columns.includes(t)||this.selected_columns.push(t)}),this.updateHeadersFromSelection(),this.saveColumnPreferences(),this.show_column_selector=!1},saveColumnPreferences(){try{localStorage.setItem("posawesome_selected_columns",JSON.stringify(this.selected_columns))}catch(e){console.error("Failed to save column preferences:",e)}},loadColumnPreferences(){try{const e=localStorage.getItem("posawesome_selected_columns");e&&(this.selected_columns=JSON.parse(e))}catch(e){console.error("Failed to load column preferences:",e)}},makeid(e){let t="";const n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length;for(var r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},print_draft_invoice(){if(!this.pos_profile.posa_allow_print_draft_invoices){this.eventBus.emit("show_message",{title:__("You are not allowed to print draft invoices"),color:"error"});return}let e=this.invoice_doc.name;frappe.run_serially([()=>{const t=this.save_and_clear_invoice();e=t.name?t.name:e},()=>{this.load_print_page(e)}])},async set_delivery_charges(){var e=this;if(!this.pos_profile||!this.customer||!this.pos_profile.posa_use_delivery_charges){this.delivery_charges=[],this.delivery_charges_rate=0,this.selected_delivery_charge="";return}this.delivery_charges_rate=0,this.selected_delivery_charge="";try{const t=await frappe.call({method:"posawesome.posawesome.api.offers.get_applicable_delivery_charges",args:{company:this.pos_profile.company,pos_profile:this.pos_profile.name,customer:this.customer}});t.message&&t.message.length&&(console.log(t.message),e.delivery_charges=t.message)}catch(t){console.error("Failed to fetch delivery charges",t)}},deliveryChargesFilter(e,t,n){const a=n.raw;console.log("dl charges",a);const r=a.name.toLowerCase(),o=t.toLowerCase();return r.indexOf(o)>-1},update_delivery_charges(){this.selected_delivery_charge?this.delivery_charges_rate=this.selected_delivery_charge.rate:this.delivery_charges_rate=0},updatePostingDate(e){e&&(this.posting_date=e,this.$forceUpdate())},setFormatedQty(e,t,n,a,r){let o=this.setFormatedFloat(e,t,n,a,r);return this.isReturnInvoice&&o>0&&(o=-Math.abs(o),e[t]=o),o},async fetch_available_currencies(){try{console.log("Fetching available currencies...");const e=await frappe.call({method:"posawesome.posawesome.api.invoices.get_available_currencies"});if(e.message){console.log("Received currencies:",e.message);const t=this.pos_profile.currency;return this.available_currencies=e.message.map(n=>({value:n.name,title:n.name})),this.available_currencies.sort((n,a)=>n.value===t?-1:a.value===t?1:n.value.localeCompare(a.value)),this.selected_currency||(this.selected_currency=t),this.available_currencies}return[]}catch(e){console.error("Error fetching currencies:",e);const t=this.pos_profile.currency;return this.available_currencies=[{value:t,title:t}],this.selected_currency=t,this.available_currencies}},async fetch_price_lists(){this.price_lists=[this.pos_profile.selling_price_list],this.selected_price_list||(this.selected_price_list=this.pos_profile.selling_price_list);try{const e=await frappe.call({method:"posawesome.posawesome.api.invoices.get_price_list_currency",args:{price_list:this.selected_price_list}});e&&e.message&&(this.price_list_currency=e.message)}catch(e){console.error("Failed fetching price list currency",e)}return this.price_lists},async update_currency(e){e&&(this.selected_currency=e,await this.update_currency_and_rate())},update_exchange_rate(){(!this.exchange_rate||this.exchange_rate<=0)&&(this.exchange_rate=1),this.eventBus.emit("update_currency",{currency:this.selected_currency||this.pos_profile.currency,exchange_rate:this.exchange_rate}),this.update_item_rates()},update_item_rates(){console.log("Updating item rates with exchange rate:",this.exchange_rate),this.items.forEach(e=>{if(e._skip_calc=!0,e.base_rate||(console.log(`Setting base rates for ${e.item_code} for the first time`),this.selected_currency===this.pos_profile.currency?(e.base_rate=e.rate,e.base_price_list_rate=e.price_list_rate,e.base_discount_amount=e.discount_amount||0):(e.base_rate=e.rate*this.exchange_rate,e.base_price_list_rate=e.price_list_rate*this.exchange_rate,e.base_discount_amount=(e.discount_amount||0)*this.exchange_rate)),this.selected_currency===this.pos_profile.currency)console.log(`Restoring rates for ${e.item_code} from base rates`),e.price_list_rate=e.base_price_list_rate,e.rate=e.base_rate,e.discount_amount=e.base_discount_amount;else{console.log(`Converting rates for ${e.item_code} to ${this.selected_currency}`);const t=this.flt(e.base_price_list_rate/this.exchange_rate,this.currency_precision),n=this.flt(e.base_rate/this.exchange_rate,this.currency_precision),a=this.flt(e.base_discount_amount/this.exchange_rate,this.currency_precision);e.price_list_rate=t<1e-6?0:t,e.rate=n<1e-6?0:n,e.discount_amount=a<1e-6?0:a}e.amount=this.flt(e.qty*e.rate,this.currency_precision),e.base_amount=this.flt(e.qty*e.base_rate,this.currency_precision),console.log(`Updated rates for ${e.item_code}:`,{price_list_rate:e.price_list_rate,base_price_list_rate:e.base_price_list_rate,rate:e.rate,base_rate:e.base_rate,discount:e.discount_amount,base_discount:e.base_discount_amount,amount:e.amount,base_amount:e.base_amount}),this.calc_item_price(e)}),this.$forceUpdate()},formatCurrency(e,t=null){const n=t??this.currency_precision;return this.$options.mixins[0].methods.formatCurrency.call(this,e,n)},flt(e,t=null){t===null&&(t=this.float_precision);const n=Number(e);return isNaN(n)?0:Math.abs(n)<1e-6?n:Number((n||0).toFixed(t))},async update_currency_and_rate(){if(this.selected_currency){const e=this.price_list_currency||this.pos_profile.currency;if(!this.items.length){if(this.selected_currency===e)this.exchange_rate=1,this.sync_exchange_rate();else try{const n=await frappe.call({method:"posawesome.posawesome.api.invoices.fetch_exchange_rate_pair",args:{from_currency:this.selected_currency,to_currency:e,posting_date:this.formatDateForBackend(this.posting_date_display)}});n&&n.message&&(this.exchange_rate=n.message,this.sync_exchange_rate())}catch(n){console.error("Error updating currency:",n),this.eventBus.emit("show_message",{text:"Error updating currency",color:"error"})}return}const t=this.get_invoice_doc();t.currency=this.selected_currency,t.price_list_currency=e;try{const n=await this.update_invoice(t);n&&n.conversion_rate&&(this.exchange_rate=n.conversion_rate,this.sync_exchange_rate())}catch(n){console.error("Error updating currency:",n),this.eventBus.emit("show_message",{text:"Error updating currency",color:"error"})}}},async update_exchange_rate_on_server(){if(this.exchange_rate){if(!this.items.length){this.sync_exchange_rate();return}const e=this.get_invoice_doc();e.conversion_rate=this.exchange_rate;try{await this.update_invoice(e),this.sync_exchange_rate()}catch(t){console.error("Error updating exchange rate:",t),this.eventBus.emit("show_message",{text:"Error updating exchange rate",color:"error"})}}},sync_exchange_rate(){(!this.exchange_rate||this.exchange_rate<=0)&&(this.exchange_rate=1),this.eventBus.emit("update_currency",{currency:this.selected_currency||this.pos_profile.currency,exchange_rate:this.exchange_rate}),this.update_item_rates()},roundAmount(e){return this.pos_profile.disable_rounded_total?this.flt(e,this.currency_precision):this.pos_profile.posa_allow_multi_currency&&this.selected_currency!==this.pos_profile.currency?this.flt(e,2):Math.round(e)},add_one(e){e.qty++,e.qty==0&&this.remove_item(e),this.calc_stock_qty(e,e.qty),this.$forceUpdate()},subtract_one(e){e.qty--,e.qty==0&&this.remove_item(e),this.calc_stock_qty(e,e.qty),this.$forceUpdate()}},mounted(){this.loadColumnPreferences(),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.customer=e.pos_profile.customer,this.pos_opening_shift=e.pos_opening_shift,this.stock_settings=e.stock_settings;const t=parseInt(e.pos_profile.posa_decimal_precision);isNaN(t)||(this.float_precision=t,this.currency_precision=t),this.invoiceType=this.pos_profile.posa_default_sales_order?"Order":"Invoice",this.initializeItemsHeaders(),this.pos_profile.posa_allow_multi_currency&&this.fetch_available_currencies().then(async()=>{this.selected_currency=this.pos_profile.currency,await this.update_currency_and_rate()}).catch(n=>{console.error("Error initializing currencies:",n),this.eventBus.emit("show_message",{title:__("Error loading currencies"),color:"error"})}),this.fetch_price_lists(),this.update_price_list()}),this.eventBus.on("add_item",this.add_item),this.eventBus.on("update_customer",e=>{this.customer=e}),this.eventBus.on("fetch_customer_details",()=>{this.fetch_customer_details()}),this.eventBus.on("clear_invoice",()=>{this.clear_invoice()}),this.eventBus.on("load_invoice",e=>{this.load_invoice(e)}),this.eventBus.on("load_order",e=>{this.new_order(e)}),this.eventBus.on("set_offers",e=>{this.posOffers=e}),this.eventBus.on("update_invoice_offers",e=>{this.updateInvoiceOffers(e)}),this.eventBus.on("update_invoice_coupons",e=>{this.posa_coupons=e,this.handelOffers()}),this.eventBus.on("set_all_items",e=>{this.allItems=e,this.items.forEach(t=>{this.update_item_detail(t)})}),this.eventBus.on("load_return_invoice",e=>{console.log("Invoice component received load_return_invoice event with data:",e),this.load_invoice(e.invoice_doc),this.invoiceType="Return",this.invoiceTypes=["Return"],this.invoice_doc.is_return=1,this.items&&this.items.length&&this.items.forEach(t=>{t.qty>0&&(t.qty=-Math.abs(t.qty)),t.stock_qty>0&&(t.stock_qty=-Math.abs(t.stock_qty))}),e.return_doc?(console.log("Return against existing invoice:",e.return_doc.name),this.discount_amount=e.return_doc.discount_amount>0?-Math.abs(e.return_doc.discount_amount):e.return_doc.discount_amount,this.additional_discount_percentage=e.return_doc.additional_discount_percentage>0?-Math.abs(e.return_doc.additional_discount_percentage):e.return_doc.additional_discount_percentage,this.return_doc=e.return_doc,this.invoice_doc.return_against=e.return_doc.name):(console.log("Return without invoice reference"),this.discount_amount=0,this.additional_discount_percentage=0),console.log("Invoice state after loading return:",{invoiceType:this.invoiceType,is_return:this.invoice_doc.is_return,items:this.items.length,customer:this.customer})}),this.eventBus.on("set_new_line",e=>{this.new_line=e}),this.pos_profile.posa_allow_multi_currency&&this.fetch_available_currencies(),this.eventBus.on("reset_posting_date",()=>{this.posting_date=frappe.datetime.nowdate()}),this.eventBus.on("open_variants_model",this.open_variants_model),this.eventBus.on("calc_uom",this.calc_uom)},beforeUnmount(){this.eventBus.off("register_pos_profile"),this.eventBus.off("add_item"),this.eventBus.off("update_customer"),this.eventBus.off("fetch_customer_details"),this.eventBus.off("clear_invoice"),this.eventBus.off("reset_posting_date")},created(){document.addEventListener("keydown",this.shortOpenPayment.bind(this)),document.addEventListener("keydown",this.shortDeleteFirstItem.bind(this)),document.addEventListener("keydown",this.shortOpenFirstItem.bind(this)),document.addEventListener("keydown",this.shortSelectDiscount.bind(this))},unmounted(){document.removeEventListener("keydown",this.shortOpenPayment),document.removeEventListener("keydown",this.shortDeleteFirstItem),document.removeEventListener("keydown",this.shortOpenFirstItem),document.removeEventListener("keydown",this.shortSelectDiscount)},watch:Dz},Az={class:"pa-0"},Mz={class:"dynamic-padding"},Nz={class:"column-selector-container"},Bz={class:"text-caption mt-2"};function $z(e,t,n,a,r,o){const i=ie("CancelSaleDialog"),l=ie("Customer"),u=ie("v-col"),f=ie("v-select"),d=ie("v-row"),m=ie("DeliveryCharges"),p=ie("PostingDateRow"),y=ie("MultiCurrencyRow"),b=ie("v-btn"),C=ie("v-spacer"),w=ie("v-card-title"),k=ie("v-divider"),T=ie("v-switch"),V=ie("v-card-text"),M=ie("v-card-actions"),I=ie("v-card"),R=ie("v-dialog"),W=ie("ItemsTable"),q=ie("InvoiceSummary");return de(),Ze("div",Az,[h(i,{modelValue:r.cancel_dialog,"onUpdate:modelValue":t[0]||(t[0]=z=>r.cancel_dialog=z),onConfirm:e.cancel_invoice},null,8,["modelValue","onConfirm"]),h(I,{style:vt({height:"var(--container-height)",maxHeight:"var(--container-height)",backgroundColor:o.isDarkTheme?"#121212":""}),class:Ye(["cards my-0 py-0 mt-3",o.isDarkTheme?"":"bg-grey-lighten-5",{"return-mode":e.isReturnInvoice}])},{default:E(()=>[x("div",Mz,[h(d,{align:"center",class:"items px-3 py-2"},{default:E(()=>[h(u,{cols:r.pos_profile.posa_allow_sales_order?9:12,class:"pb-0 pr-0"},{default:E(()=>[h(l)]),_:1},8,["cols"]),r.pos_profile.posa_allow_sales_order?(de(),lt(u,{key:0,cols:"3",class:"pb-4"},{default:E(()=>[h(f,{density:"compact","hide-details":"",variant:"outlined",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field",items:r.invoiceTypes,label:e.frappe._("Type"),modelValue:r.invoiceType,"onUpdate:modelValue":t[1]||(t[1]=z=>r.invoiceType=z),disabled:r.invoiceType=="Return"},null,8,["bg-color","items","label","modelValue","disabled"])]),_:1})):je("",!0)]),_:1}),h(m,{pos_profile:r.pos_profile,delivery_charges:r.delivery_charges,selected_delivery_charge:r.selected_delivery_charge,delivery_charges_rate:r.delivery_charges_rate,deliveryChargesFilter:o.deliveryChargesFilter,formatCurrency:o.formatCurrency,currencySymbol:e.currencySymbol,readonly:e.readonly,"onUpdate:selected_delivery_charge":t[2]||(t[2]=z=>{r.selected_delivery_charge=z,o.update_delivery_charges()})},null,8,["pos_profile","delivery_charges","selected_delivery_charge","delivery_charges_rate","deliveryChargesFilter","formatCurrency","currencySymbol","readonly"]),h(p,{pos_profile:r.pos_profile,posting_date_display:r.posting_date_display,customer_balance:r.customer_balance,"price-list":r.selected_price_list,"price-lists":r.price_lists,formatCurrency:o.formatCurrency,"onUpdate:posting_date_display":t[3]||(t[3]=z=>{r.posting_date_display=z}),"onUpdate:priceList":t[4]||(t[4]=z=>{r.selected_price_list=z})},null,8,["pos_profile","posting_date_display","customer_balance","price-list","price-lists","formatCurrency"]),h(y,{pos_profile:r.pos_profile,selected_currency:r.selected_currency,exchange_rate:r.exchange_rate,available_currencies:r.available_currencies,isNumber:e.isNumber,"onUpdate:selected_currency":t[5]||(t[5]=z=>{r.selected_currency=z,o.update_currency(z)}),"onUpdate:exchange_rate":t[6]||(t[6]=z=>{r.exchange_rate=z,o.update_exchange_rate()})},null,8,["pos_profile","selected_currency","exchange_rate","available_currencies","isNumber"]),x("div",Nz,[h(b,{density:"compact",variant:"text",color:"primary","prepend-icon":"mdi-cog-outline",onClick:o.toggleColumnSelection,class:"column-selector-btn"},{default:E(()=>[Ke(ge(e.__("Columns")),1)]),_:1},8,["onClick"]),h(R,{modelValue:r.show_column_selector,"onUpdate:modelValue":t[9]||(t[9]=z=>r.show_column_selector=z),"max-width":"500px"},{default:E(()=>[h(I,null,{default:E(()=>[h(w,{class:"text-h6 pa-4 d-flex align-center"},{default:E(()=>[x("span",null,ge(e.__("Select Columns to Display")),1),h(C),h(b,{icon:"mdi-close",variant:"text",density:"compact",onClick:t[7]||(t[7]=z=>r.show_column_selector=!1)})]),_:1}),h(k),h(V,{class:"pa-4"},{default:E(()=>[h(d,{dense:""},{default:E(()=>[(de(!0),Ze(ft,null,En(r.available_columns.filter(z=>!z.required),z=>(de(),lt(u,{cols:"12",key:z.key},{default:E(()=>[h(T,{modelValue:r.temp_selected_columns,"onUpdate:modelValue":t[8]||(t[8]=Y=>r.temp_selected_columns=Y),label:z.title,value:z.key,"hide-details":"",density:"compact",color:"primary",class:"column-switch mb-1",disabled:z.required},null,8,["modelValue","label","value","disabled"])]),_:2},1024))),128))]),_:1}),x("div",Bz,ge(e.__("Required columns cannot be hidden")),1)]),_:1}),h(M,{class:"pa-4 pt-0"},{default:E(()=>[h(b,{color:"error",variant:"text",onClick:o.cancelColumnSelection},{default:E(()=>[Ke(ge(e.__("Cancel")),1)]),_:1},8,["onClick"]),h(C),h(b,{color:"primary",variant:"tonal",onClick:o.updateSelectedColumns},{default:E(()=>[Ke(ge(e.__("Apply")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),h(W,{headers:r.items_headers,items:r.items,expanded:r.expanded,itemsPerPage:r.itemsPerPage,itemSearch:e.itemSearch,pos_profile:r.pos_profile,invoice_doc:r.invoice_doc,invoiceType:r.invoiceType,displayCurrency:e.displayCurrency,formatFloat:e.formatFloat,formatCurrency:o.formatCurrency,currencySymbol:e.currencySymbol,isNumber:e.isNumber,setFormatedQty:o.setFormatedQty,calcStockQty:e.calc_stock_qty,setFormatedCurrency:e.setFormatedCurrency,calcPrices:e.calc_prices,calcUom:e.calc_uom,removeItem:e.remove_item,subtractOne:o.subtract_one,addOne:o.add_one,"onUpdate:expanded":t[10]||(t[10]=z=>r.expanded=z)},null,8,["headers","items","expanded","itemsPerPage","itemSearch","pos_profile","invoice_doc","invoiceType","displayCurrency","formatFloat","formatCurrency","currencySymbol","isNumber","setFormatedQty","calcStockQty","setFormatedCurrency","calcPrices","calcUom","removeItem","subtractOne","addOne"])])]),_:1},8,["style","class"]),h(q,{pos_profile:r.pos_profile,total_qty:e.total_qty,additional_discount:r.additional_discount,additional_discount_percentage:r.additional_discount_percentage,total_items_discount_amount:e.total_items_discount_amount,subtotal:e.subtotal,displayCurrency:e.displayCurrency,formatFloat:e.formatFloat,formatCurrency:o.formatCurrency,currencySymbol:e.currencySymbol,discount_percentage_offer_name:r.discount_percentage_offer_name,isNumber:e.isNumber,"onUpdate:additional_discount":t[11]||(t[11]=z=>r.additional_discount=z),"onUpdate:additional_discount_percentage":t[12]||(t[12]=z=>r.additional_discount_percentage=z),onUpdate_discount_umount:e.update_discount_umount,onSaveAndClear:e.save_and_clear_invoice,onLoadDrafts:e.get_draft_invoices,onSelectOrder:e.get_draft_orders,onCancelSale:t[13]||(t[13]=z=>r.cancel_dialog=!0),onOpenReturns:e.open_returns,onPrintDraft:o.print_draft_invoice,onShowPayment:e.show_payment},null,8,["pos_profile","total_qty","additional_discount","additional_discount_percentage","total_items_discount_amount","subtotal","displayCurrency","formatFloat","formatCurrency","currencySymbol","discount_percentage_offer_name","isNumber","onUpdate_discount_umount","onSaveAndClear","onLoadDrafts","onSelectOrder","onOpenReturns","onPrintDraft","onShowPayment"])])}const Rz=sa(Iz,[["render",$z],["__scopeId","data-v-cbeef9cb"]]),Fz={mixins:[xi],props:["dialog"],data(){return{isOpen:this.dialog?this.dialog:!1,dialog_data:{},is_loading:!1,companies:[],company:"",pos_profiles_data:[],pos_profiles:[],pos_profile:"",payments_method_data:[],payments_methods:[],payments_methods_headers:[{title:__("Mode of Payment"),align:"start",sortable:!1,value:"mode_of_payment"},{title:__("Opening Amount"),value:"amount",align:"center",sortable:!1}],itemsPerPage:100,max25chars:e=>e.length<=12||"Input too long!",pagination:{},snack:!1,snackColor:"",snackText:""}},watch:{company(e){this.pos_profiles=[],this.pos_profiles_data.forEach(t=>{t.company===e&&this.pos_profiles.push(t.name),this.pos_profiles.length?this.pos_profile=this.pos_profiles[0]:this.pos_profile=""})},pos_profile(e){this.payments_methods=[],this.payments_method_data.forEach(t=>{t.parent===e&&this.payments_methods.push({mode_of_payment:t.mode_of_payment,amount:0,currency:t.currency})})}},methods:{close_opening_dialog(){this.eventBus.emit("close_opening_dialog")},async get_opening_dialog_data(){const e=this;await fm;const t=C6();if(t)try{e.companies=t.companies.map(n=>n.name),e.pos_profiles_data=t.pos_profiles_data||[],e.payments_method_data=t.payments_method||[],e.company=e.companies[0]||""}catch(n){console.error("Failed to parse opening dialog cache",n)}frappe.call({method:"posawesome.posawesome.api.shifts.get_opening_dialog_data",args:{},callback:function(n){if(n.message){e.companies=n.message.companies.map(a=>a.name),e.pos_profiles_data=n.message.pos_profiles_data,e.payments_method_data=n.message.payments_method,e.company=e.companies[0]||"";try{x6(n.message)}catch(a){console.error("Failed to cache opening dialog data",a)}}}})},submit_dialog(){if(!this.payments_methods.length||!this.company||!this.pos_profile)return;this.is_loading=!0;const e=this;return frappe.call("posawesome.posawesome.api.shifts.create_opening_voucher",{pos_profile:this.pos_profile,company:this.company,balance_details:this.payments_methods}).then(t=>{if(t.message){e.eventBus.emit("register_pos_data",t.message),e.eventBus.emit("set_company",t.message.company);try{Hy(t.message)}catch(n){console.error("Failed to cache opening data",n)}e.close_opening_dialog(),e.is_loading=!1}})},go_desk(){frappe.set_route("/"),location.reload()}},mounted(){this.get_opening_dialog_data()},beforeUnmount(){}},Lz={class:"header-content"},qz={class:"header-icon-wrapper"},Uz={class:"header-text"},Hz={class:"header-title"},Wz={class:"header-subtitle"},zz={class:"section-header-compact"},jz={class:"section-title-compact"};function Yz(e,t,n,a,r,o){const i=ie("v-icon"),l=ie("v-card-title"),u=ie("v-autocomplete"),f=ie("v-col"),d=ie("v-text-field"),m=ie("v-data-table"),p=ie("v-row"),y=ie("v-container"),b=ie("v-card-text"),C=ie("v-btn"),w=ie("v-spacer"),k=ie("v-card-actions"),T=ie("v-card"),V=ie("v-dialog");return de(),lt(p,{justify:"center"},{default:E(()=>[h(V,{modelValue:r.isOpen,"onUpdate:modelValue":t[2]||(t[2]=M=>r.isOpen=M),persistent:"","max-width":"800px","max-height":"90vh"},{default:E(()=>[h(T,{elevation:"8",class:"opening-dialog-card"},{default:E(()=>[h(l,{class:"opening-dialog-header"},{default:E(()=>[x("div",Lz,[x("div",qz,[h(i,{class:"header-icon"},{default:E(()=>t[3]||(t[3]=[Ke("mdi-cash-plus")])),_:1,__:[3]})]),x("div",Uz,[x("h5",Hz,ge(e.__("Create POS Opening Shift")),1),x("p",Wz,ge(e.__("Initialize your shift with opening balances")),1)])])]),_:1}),h(b,{class:"opening-dialog-content"},{default:E(()=>[h(y,{class:"pa-0"},{default:E(()=>[h(p,null,{default:E(()=>[h(f,{cols:"12",md:"6",class:"form-field"},{default:E(()=>[h(u,{items:r.companies,label:e.frappe._("Company"),modelValue:r.company,"onUpdate:modelValue":t[0]||(t[0]=M=>r.company=M),required:"",variant:"outlined",color:"primary",density:"compact","prepend-inner-icon":"mdi-domain",class:Ye(["enhanced-field",{"field-focused":r.company}])},null,8,["items","label","modelValue","class"])]),_:1}),h(f,{cols:"12",md:"6",class:"form-field"},{default:E(()=>[h(u,{items:r.pos_profiles,label:e.frappe._("POS Profile"),modelValue:r.pos_profile,"onUpdate:modelValue":t[1]||(t[1]=M=>r.pos_profile=M),required:"",variant:"outlined",color:"primary",density:"compact","prepend-inner-icon":"mdi-point-of-sale",class:Ye(["enhanced-field",{"field-focused":r.pos_profile}])},null,8,["items","label","modelValue","class"])]),_:1}),h(f,{cols:"12"},{default:E(()=>[x("div",zz,[x("h6",jz,[h(i,{class:"section-icon"},{default:E(()=>t[4]||(t[4]=[Ke("mdi-credit-card-multiple")])),_:1,__:[4]}),Ke(" "+ge(e.__("Payment Methods")),1)])]),h(m,{headers:r.payments_methods_headers,items:r.payments_methods,"item-key":"mode_of_payment",class:"enhanced-table-compact","items-per-page":r.itemsPerPage,"hide-default-footer":"",density:"compact",height:"300px","fixed-header":""},{"item.amount":E(({item:M})=>[h(d,{modelValue:M.amount,"onUpdate:modelValue":I=>M.amount=I,rules:[r.max25chars],type:"number",density:"compact",variant:"outlined",color:"primary","hide-details":"",prefix:e.currencySymbol(M.currency),class:"amount-input"},null,8,["modelValue","onUpdate:modelValue","rules","prefix"])]),_:1},8,["headers","items","items-per-page"])]),_:1})]),_:1})]),_:1})]),_:1}),h(k,{class:"dialog-actions-container"},{default:E(()=>[h(C,{theme:"dark",onClick:o.go_desk,class:"pos-action-btn cancel-action-btn",size:"large",elevation:"2"},{default:E(()=>[h(i,{start:""},{default:E(()=>t[5]||(t[5]=[Ke("mdi-close-circle-outline")])),_:1,__:[5]}),x("span",null,ge(e.__("Cancel")),1)]),_:1},8,["onClick"]),h(w),h(C,{theme:"dark",disabled:r.is_loading,loading:r.is_loading,onClick:o.submit_dialog,class:"pos-action-btn submit-action-btn",size:"large",elevation:"2"},{default:E(()=>[h(i,{start:""},{default:E(()=>t[6]||(t[6]=[Ke("mdi-check-circle-outline")])),_:1,__:[6]}),x("span",null,ge(e.__("Submit")),1)]),_:1},8,["disabled","loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Kz=sa(Fz,[["render",Yz],["__scopeId","data-v-e47a0bb0"]]);function Gz(e){if(!e)return"";const t=(e.items||[]).map(i=>{const l=i.serial_no?`<br><b>SR.No:</b><br>${i.serial_no.replace(/\n/g,", ")}`:"";return`<tr>
        <td>${i.item_code}${i.item_name&&i.item_name!==i.item_code?`<br>${i.item_name}`:""}${l}</td>
        <td style="text-align:right">${i.qty} ${i.uom||""}<br>@ ${i.rate}</td>
        <td style="text-align:right">${i.amount}</td>
      </tr>`}).join(""),n=(e.taxes||[]).map(i=>`<tr>
      <td class="text-right" style="width:70%">${i.description}@${i.rate}%</td>
      <td class="text-right">${i.tax_amount}</td>
    </tr>`).join(""),a=e.discount_amount?`<tr>
      <td class="text-right" style="width:75%">Discount</td>
      <td class="text-right">${e.discount_amount}</td>
    </tr>`:"",r=e.change_amount?`<tr>
      <td class="text-right" style="width:75%">Change Amount</td>
      <td class="text-right">${e.change_amount}</td>
    </tr>`:"";return`<!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <title>Invoice ${e.name||""}</title>
    <style>
      table, tr, td, div, p { line-height:120%; vertical-align:middle; font-size:10px; }
      .print-format { width:3.5in; padding:0.1in; min-height:7in; }
      .text-right { text-align:right; }
    </style>
  </head>
  <body class="print-format">
    <div style="text-align:center; margin-bottom:0"><h5 style="margin:0; font-size:11px;">${e.is_duplicate?"Duplicate":"Original"}</h5></div>
    <p style="margin-top:0">
      <b>Invoice Status:</b> ${e.status||""}<br>
      <b>Receipt No:</b> ${e.name||""}<br>
      <b>Customer:</b> ${e.customer_name||e.customer||""}<br>
      <b>Mobile:</b> ${e.contact_mobile||""}<br>
      <b>Date:</b> ${e.posting_date||""}
      <b>Time:</b> ${e.posting_time||""}<br>
    </p>
    <p style="margin-top:3px;"><b>Additional Note:</b> <strong>${e.posa_notes||""}</strong></p>
    <table cellpadding="0" cellspacing="0" style="width:100%">
      <thead>
        <tr><th width="50%"><b>Item</b></th><th width="25%" class="text-right"><b>Qty</b></th><th width="25%" class="text-right"><b>Amount</b></th></tr>
      </thead>
      <tbody>${t}</tbody>
    </table>
    <table cellpadding="0" cellspacing="0" style="width:100%">
      <tbody>
        <tr><td class="text-right" style="width:70%"><b>Total</b></td><td class="text-right">${e.total}</td></tr>
        ${n}
        ${a}
        <tr><td class="text-right" style="width:70%"><b>Grand Total</b></td><td class="text-right">${e.grand_total}</td></tr>
        <tr><td class="text-right" style="width:75%"><b>Paid Amount</b></td><td class="text-right">${e.paid_amount}</td></tr>
        ${r}
      </tbody>
    </table>
    <p class="text-center" style="margin-top:3px;">Thank you, please visit again.</p>
  </body>
  </html>`}const Qz={mixins:[xi],data(){return{loading:!1,pos_profile:"",pos_settings:"",invoice_doc:"",invoiceType:"Invoice",is_return:!1,loyalty_amount:0,redeemed_customer_credit:0,credit_change:0,paid_change:0,is_credit_sale:!1,is_write_off_change:!1,is_cashback:!0,is_credit_return:!1,redeem_customer_credit:!1,customer_credit_dict:[],paid_change_rules:[],phone_dialog:!1,custom_days_dialog:!1,custom_days_value:null,new_delivery_date:null,new_po_date:null,new_credit_due_date:null,credit_due_days:null,credit_due_presets:[7,14,30],customer_info:"",mpesa_modes:[],sales_persons:[],sales_person:"",addresses:[],is_user_editing_paid_change:!1}},computed:{currencySymbol(){return e=>get_currency_symbol(e||this.invoice_doc.currency)},displayCurrency(){return this.invoice_doc?this.invoice_doc.currency:""},total_payments(){let e=0;return this.invoice_doc&&this.invoice_doc.payments&&this.invoice_doc.payments.forEach(t=>{e+=parseFloat(t.amount)||0}),this.loyalty_amount&&(this.invoice_doc.currency!==this.pos_profile.currency?e+=this.flt(this.loyalty_amount/(this.invoice_doc.conversion_rate||1),this.currency_precision):e+=parseFloat(this.loyalty_amount)||0),this.redeemed_customer_credit&&(this.invoice_doc.currency!==this.pos_profile.currency?e+=this.flt(this.redeemed_customer_credit/(this.invoice_doc.conversion_rate||1),this.currency_precision):e+=parseFloat(this.redeemed_customer_credit)||0),this.flt(e,this.currency_precision)},diff_payment(){if(!this.invoice_doc)return 0;let e;this.pos_profile.posa_allow_multi_currency&&this.invoice_doc.currency!==this.pos_profile.currency?e=this.flt(this.invoice_doc.grand_total,this.currency_precision):e=this.flt(this.invoice_doc.rounded_total||this.invoice_doc.grand_total,this.currency_precision);let t=this.flt(e-this.total_payments,this.currency_precision);return this.invoice_doc.is_return,t>=0?t:0},credit_change(){let e;this.pos_profile.posa_allow_multi_currency&&this.invoice_doc.currency!==this.pos_profile.currency?e=this.flt(this.invoice_doc.grand_total,this.currency_precision):e=this.flt(this.invoice_doc.rounded_total||this.invoice_doc.grand_total,this.currency_precision);let t=this.flt(this.total_payments-e,this.currency_precision);return t>0?t:0},diff_label(){return this.diff_payment>0?`To Be Paid (${this.displayCurrency})`:`Change (${this.displayCurrency})`},total_payments_display(){return this.formatCurrency(this.total_payments,this.displayCurrency)},diff_payment_display(){return this.formatCurrency(this.diff_payment,this.displayCurrency)},available_points_amount(){let e=0;return this.customer_info.loyalty_points&&(e=this.customer_info.loyalty_points*this.customer_info.conversion_factor,this.invoice_doc.currency!==this.pos_profile.currency&&(e=this.flt(e/(this.invoice_doc.conversion_rate||1),this.currency_precision))),e},available_customer_credit(){return this.customer_credit_dict.reduce((e,t)=>e+this.flt(t.total_credit),0)},vaildatPayment(){return!!(this.pos_profile.posa_allow_sales_order&&this.invoiceType==="Order"&&!this.invoice_doc.posa_delivery_date)},request_payment_field(){return this.pos_settings?.invoice_fields?.some(e=>e.fieldtype==="Button"&&e.fieldname==="request_for_payment")||!1},isDarkTheme(){return this.$theme.current==="dark"}},watch:{diff_payment(e){this.is_user_editing_paid_change||(this.paid_change=-e)},paid_change(e){const t=-this.diff_payment;e>t?(this.paid_change=t,this.credit_change=0,this.paid_change_rules=["Paid change can not be greater than total change!"]):(this.paid_change_rules=[],this.credit_change=this.flt(e-t,this.currency_precision))},loyalty_amount(e){e>this.available_points_amount?(this.invoice_doc.loyalty_amount=0,this.invoice_doc.redeem_loyalty_points=0,this.invoice_doc.loyalty_points=0,this.loyalty_amount=0,this.eventBus.emit("show_message",{title:`Loyalty Amount can not be more than ${this.available_points_amount}`,color:"error"})):(this.invoice_doc.loyalty_amount=this.flt(this.loyalty_amount),this.invoice_doc.redeem_loyalty_points=1,this.invoice_doc.loyalty_points=this.flt(this.loyalty_amount)/this.customer_info.conversion_factor)},redeemed_customer_credit(e){e>this.available_customer_credit&&(this.redeemed_customer_credit=this.available_customer_credit,this.eventBus.emit("show_message",{title:`You can redeem customer credit up to ${this.available_customer_credit}`,color:"error"}))},sales_person(e){e?(this.invoice_doc.sales_team=[{sales_person:e,allocated_percentage:100}],console.log("Updated sales_team with sales_person:",e)):(this.invoice_doc.sales_team=[],console.log("Cleared sales_team"))},is_credit_sale(e){e?this.invoice_doc.payments.forEach(t=>{t.mode_of_payment.toLowerCase()==="cash"&&(t.amount=0)}):this.invoice_doc.payments.forEach(t=>{t.mode_of_payment.toLowerCase()==="cash"&&(t.amount=this.invoice_doc.rounded_total||this.invoice_doc.grand_total)})},is_credit_return(e){e?(this.is_cashback=!1,this.invoice_doc.payments.forEach(t=>{t.amount=0,t.base_amount!==void 0&&(t.base_amount=0)})):(this.is_cashback=!0,this.ensureReturnPaymentsAreNegative())}},methods:{back_to_invoice(){this.eventBus.emit("show_payment","false"),this.eventBus.emit("set_customer_readonly",!1)},reset_cash_payments(){this.invoice_doc.payments.forEach(e=>{e.mode_of_payment.toLowerCase()==="cash"&&(e.amount=0)})},ensureReturnPaymentsAreNegative(){if(!this.invoice_doc||!this.invoice_doc.is_return||!this.is_cashback)return;let e=!1;if(this.invoice_doc.payments.forEach(t=>{Math.abs(t.amount)>0&&(e=!0)}),!e){const t=this.invoice_doc.payments.find(n=>n.default===1);if(t){const n=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;t.amount=-Math.abs(n),t.base_amount!==void 0&&(t.base_amount=-Math.abs(n))}}this.invoice_doc.payments.forEach(t=>{t.amount>0&&(t.amount=-Math.abs(t.amount)),t.base_amount!==void 0&&t.base_amount>0&&(t.base_amount=-Math.abs(t.base_amount))})},submit(e,t=!1,n=!1){if(this.invoice_doc.is_return&&this.ensureReturnPaymentsAreNegative(),!this.is_credit_sale&&!this.invoice_doc.is_return&&this.total_payments<=0&&(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)>0){this.eventBus.emit("show_message",{title:"Please enter payment amount",color:"error"}),frappe.utils.play_sound("error");return}if(!this.is_credit_sale&&!this.invoice_doc.is_return){let i=!1,l=0;if(this.invoice_doc.payments.forEach(u=>{u.mode_of_payment.toLowerCase().includes("cash")&&(i=!0,l=this.flt(u.amount))}),i&&l>0&&!this.pos_profile.posa_allow_partial_payment&&l<(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)&&(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)>0){this.eventBus.emit("show_message",{title:"Cash payment cannot be less than invoice total when partial payment is not allowed",color:"error"}),frappe.utils.play_sound("error");return}}if(!this.is_credit_sale&&!this.pos_profile.posa_allow_partial_payment&&this.total_payments<(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)&&(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)>0){this.eventBus.emit("show_message",{title:"The amount paid is not complete",color:"error"}),frappe.utils.play_sound("error");return}let a=!0;if(!t&&(this.invoice_doc.payments.forEach(i=>{i.type==="Phone"&&![0,"0","",null,void 0].includes(i.amount)&&(a=!1)}),!a)){this.eventBus.emit("show_message",{title:__("Please request phone payment or use another payment method"),color:"error"}),frappe.utils.play_sound("error");return}if(this.paid_change>-this.diff_payment){this.eventBus.emit("show_message",{title:"Paid change cannot be greater than total change!",color:"error"}),frappe.utils.play_sound("error");return}let r=this.flt(this.flt(this.paid_change)+this.flt(-this.credit_change));if(this.is_cashback&&r!==-this.diff_payment){this.eventBus.emit("show_message",{title:"Error in change calculations!",color:"error"}),frappe.utils.play_sound("error");return}if(this.customer_credit_dict.filter(i=>this.flt(i.credit_to_redeem)>this.flt(i.total_credit)).length>0){this.eventBus.emit("show_message",{title:"Redeemed credit cannot be greater than its total.",color:"error"}),frappe.utils.play_sound("error");return}if(!this.invoice_doc.is_return&&this.redeemed_customer_credit>(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)){this.eventBus.emit("show_message",{title:"Cannot redeem customer credit more than invoice total",color:"error"}),frappe.utils.play_sound("error");return}this.submit_invoice(n)},submit_invoice(e){this.invoice_doc.is_return&&this.ensureReturnPaymentsAreNegative();let t=0;this.invoice_doc.payments.forEach(r=>{r.amount=this.flt(r.amount),t+=r.amount}),this.invoice_doc.is_return&&t===0&&(this.invoice_doc.is_pos=0),this.customer_credit_dict.length&&this.customer_credit_dict.forEach(r=>{r.credit_to_redeem=this.flt(r.credit_to_redeem)});let n={total_change:this.invoice_doc.is_return?0:-this.diff_payment,paid_change:this.invoice_doc.is_return?0:this.paid_change,credit_change:-this.credit_change,redeemed_customer_credit:this.redeemed_customer_credit,customer_credit_dict:this.customer_credit_dict,is_cashback:this.is_cashback};const a=this;if(lr())try{T6({data:n,invoice:this.invoice_doc}),this.eventBus.emit("pending_invoices_changed",Cv()),a.eventBus.emit("show_message",{title:__("Invoice saved offline"),color:"warning"}),e&&this.print_offline_invoice(this.invoice_doc),a.eventBus.emit("clear_invoice"),a.eventBus.emit("reset_posting_date"),a.back_to_invoice();return}catch(r){a.eventBus.emit("show_message",{title:__("Cannot Save Offline Invoice: ")+(r.message||__("Unknown error")),color:"error"});return}frappe.call({method:"posawesome.posawesome.api.invoices.submit_invoice",args:{data:n,invoice:this.invoice_doc},callback:function(r){if(r.exc){console.error("Error submitting invoice:",r.exc);let o=r.exc.toString();o.includes("Amount must be negative")?(a.eventBus.emit("show_message",{title:__("Fixing payment amounts for return invoice..."),color:"warning"}),a.invoice_doc.payments.forEach(i=>{i.amount>0&&(i.amount=-Math.abs(i.amount)),i.base_amount>0&&(i.base_amount=-Math.abs(i.base_amount))}),console.log("Retrying submission with fixed payment amounts"),setTimeout(()=>{a.submit_invoice(e)},500)):a.eventBus.emit("show_message",{title:__("Error submitting invoice: ")+o,color:"error"});return}if(!r.message){a.eventBus.emit("show_message",{title:__("Error submitting invoice: No response from server"),color:"error"});return}e&&a.load_print_page(),a.customer_credit_dict=[],a.redeem_customer_credit=!1,a.is_cashback=!0,a.is_credit_return=!1,a.sales_person="",a.eventBus.emit("set_last_invoice",a.invoice_doc.name),a.eventBus.emit("show_message",{title:__("Invoice {0} is Submitted",[r.message.name]),color:"success"}),frappe.utils.play_sound("submit"),dE(a.invoice_doc.items||[]),a.addresses=[],a.eventBus.emit("clear_invoice"),a.eventBus.emit("reset_posting_date"),a.back_to_invoice()}})},set_full_amount(e){const t=this.invoice_doc.is_return||this.invoiceType==="Return";let n=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;console.log("Setting full amount for payment method idx:",e),console.log("Current payments:",JSON.stringify(this.invoice_doc.payments)),this.invoice_doc.payments.forEach(o=>{o.amount=0,o.base_amount!==void 0&&(o.base_amount=0)});const a=event?.target?.textContent?.trim();console.log("Clicked button text:",a);const r=this.invoice_doc.payments.find(o=>o.mode_of_payment===a);if(r){console.log("Found clicked payment:",r.mode_of_payment);let o=t?-Math.abs(n):n;r.amount=o,r.base_amount!==void 0&&(r.base_amount=t?-Math.abs(o):o),console.log("Set amount for payment:",r.mode_of_payment,"amount:",o)}else console.log("No payment found for button text:",a);this.$forceUpdate()},set_rest_amount(e){const t=this.invoice_doc.is_return||this.invoiceType==="Return";this.invoice_doc.payments.forEach(n=>{if(n.idx===e&&n.amount===0&&this.diff_payment>0){let a=this.diff_payment;t&&(a=-Math.abs(a)),n.amount=a,n.base_amount!==void 0&&(n.base_amount=t?-Math.abs(a):a)}})},clear_all_amounts(){this.invoice_doc.payments.forEach(e=>{e.amount=0})},load_print_page(){const e=this.pos_profile.print_format_for_online||this.pos_profile.print_format,t=this.pos_profile.letter_head||0,n=frappe.urllib.get_base_url()+"/printview?doctype=Sales%20Invoice&name="+this.invoice_doc.name+"&trigger_print=1&format="+e+"&no_letterhead="+t;if(this.pos_profile.posa_silent_print)xv(n);else{const a=window.open(n,"Print");a.addEventListener("load",function(){a.print()},{once:!0})}},print_offline_invoice(e){if(!e)return;const t=Gz(e),n=window.open("","_blank");n.document.write(t),n.document.close(),n.focus(),n.print()},validate_due_date(){const e=frappe.datetime.now_date(),t=Date.parse(this.invoice_doc.due_date),n=Date.parse(e);t<n&&(this.invoice_doc.due_date=e)},shortPay(e){e.key.toLowerCase()==="x"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation(),this.invoice_doc&&this.invoice_doc.payments&&this.submit_invoice())},get_available_credit(e){this.clear_all_amounts(),e?frappe.call("posawesome.posawesome.api.payments.get_available_credit",{customer:this.invoice_doc.customer,company:this.pos_profile.company}).then(t=>{const n=t.message;if(n.length){let r=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;n.forEach(o=>{r>0?r>=o.total_credit?(o.credit_to_redeem=o.total_credit,r-=o.total_credit):(o.credit_to_redeem=r,r=0):o.credit_to_redeem=0}),this.customer_credit_dict=n}else this.customer_credit_dict=[]}):this.customer_credit_dict=[]},get_addresses(){const e=this;if(!e.invoice_doc||!e.invoice_doc.customer){e.addresses=[];return}frappe.call({method:"posawesome.posawesome.api.customers.get_customer_addresses",args:{customer:e.invoice_doc.customer},async:!0,callback:function(t){t.exc?e.addresses=[]:e.addresses=t.message}})},addressFilter(e,t,n){const a=t.toLowerCase();return e.address_title&&e.address_title.toLowerCase().includes(a)||e.address_line1&&e.address_line1.toLowerCase().includes(a)||e.address_line2&&e.address_line2.toLowerCase().includes(a)||e.city&&e.city.toLowerCase().includes(a)||e.name&&e.name.toLowerCase().includes(a)},new_address(){if(!this.invoice_doc||!this.invoice_doc.customer){this.eventBus.emit("show_message",{title:__("Please select a customer first"),color:"error"});return}this.eventBus.emit("open_new_address",this.invoice_doc.customer)},get_sales_person_names(){const e=this;if(e.pos_profile.posa_local_storage&&cE().length)try{e.sales_persons=cE()}catch{}frappe.call({method:"posawesome.posawesome.api.utilities.get_sales_person_names",callback:function(t){t.message&&t.message.length>0?(e.sales_persons=t.message.map(n=>({value:n.name,title:n.sales_person_name,sales_person_name:n.sales_person_name,name:n.name})),e.pos_profile.posa_local_storage&&k6(e.sales_persons)):e.sales_persons=[]}})},request_payment(e){this.phone_dialog=!1;const t=this;if(!this.invoice_doc.contact_mobile){this.eventBus.emit("show_message",{title:__("Please set the customer's mobile number"),color:"error"}),this.eventBus.emit("open_edit_customer"),this.back_to_invoice();return}this.eventBus.emit("freeze",{title:__("Waiting for payment...")}),this.invoice_doc.payments.forEach(a=>{a.amount=this.flt(a.amount)});let n={...this.invoice_doc};n.total_change=this.invoice_doc.is_return?0:-this.diff_payment,n.paid_change=this.invoice_doc.is_return?0:this.paid_change,n.credit_change=-this.credit_change,n.redeemed_customer_credit=this.redeemed_customer_credit,n.customer_credit_dict=this.customer_credit_dict,n.is_cashback=this.is_cashback,frappe.call({method:"posawesome.posawesome.api.invoices.update_invoice",args:{data:n},async:!1,callback:function(a){a.message&&(t.invoice_doc=a.message)}}).then(()=>{frappe.call({method:"posawesome.posawesome.api.payments.create_payment_request",args:{doc:t.invoice_doc}}).fail(()=>{t.eventBus.emit("unfreeze"),t.eventBus.emit("show_message",{title:__("Payment request failed"),color:"error"})}).then(({message:a})=>{const r=a.name;setTimeout(()=>{frappe.db.get_value("Payment Request",r,["status","grand_total"]).then(({message:o})=>{o.status!=="Paid"?(t.eventBus.emit("unfreeze"),t.eventBus.emit("show_message",{title:__("Payment Request took too long to respond. Please try requesting for payment again"),color:"error"})):(t.eventBus.emit("unfreeze"),t.eventBus.emit("show_message",{title:__("Payment of {0} received successfully.",[t.formatCurrency(o.grand_total,t.invoice_doc.currency,0)]),color:"success"}),frappe.db.get_doc("Sales Invoice",t.invoice_doc.name).then(i=>{t.invoice_doc=i,t.submit(null,!0)}))})},3e4)})})},get_mpesa_modes(){const e=this;frappe.call({method:"posawesome.posawesome.api.m_pesa.get_mpesa_mode_of_payment",args:{company:e.pos_profile.company},async:!0,callback:function(t){t.exc?e.mpesa_modes=[]:e.mpesa_modes=t.message}})},is_mpesa_c2b_payment(e){return this.mpesa_modes.includes(e.mode_of_payment)&&e.type==="Bank"?(e.amount=0,!0):!1},mpesa_c2b_dialog(e){const t={company:this.pos_profile.company,mode_of_payment:e.mode_of_payment,customer:this.invoice_doc.customer};this.eventBus.emit("open_mpesa_payments",t)},set_mpesa_payment(e){this.pos_profile.use_customer_credit=!0,this.redeem_customer_credit=!0;const t=this.invoice_doc.rounded_total||this.invoice_doc.grand_total;let n=e.unallocated_amount>t?t:e.unallocated_amount;n=n>0?n:0;const a={type:"Advance",credit_origin:e.name,total_credit:this.flt(e.unallocated_amount),credit_to_redeem:this.flt(n)};this.clear_all_amounts(),this.customer_credit_dict.push(a)},update_delivery_date(){this.invoice_doc.posa_delivery_date=this.formatDate(this.new_delivery_date),this.invoice_doc.customer&&(!this.addresses||this.addresses.length===0)&&this.get_addresses()},update_po_date(){this.invoice_doc.po_date=this.formatDate(this.new_po_date)},update_credit_due_date(){this.invoice_doc.due_date=this.formatDate(this.new_credit_due_date)},applyDuePreset(e){if(e===null||e===""||isNaN(e))return;const t=new Date;t.setDate(t.getDate()+parseInt(e,10)),this.new_credit_due_date=this.formatDateDisplay(t),this.credit_due_days=parseInt(e,10),this.update_credit_due_date()},applyCustomDays(){this.applyDuePreset(this.custom_days_value),this.custom_days_dialog=!1},formatDate(e){if(!e)return null;if(typeof e=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2),r=`0${t.getDate()}`.slice(-2);return`${n}-${a}-${r}`}return e},formatDateDisplay(e){if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,a,r]=e.split("-");return`${r}-${a}-${n}`}const t=new Date(e);if(!isNaN(t.getTime())){const n=t.getFullYear(),a=`0${t.getMonth()+1}`.slice(-2);return`${`0${t.getDate()}`.slice(-2)}-${a}-${n}`}return e},showPaidAmount(){this.eventBus.emit("show_message",{title:`Total Paid Amount: ${this.formatCurrency(this.total_payments)}`,color:"info"})},showDiffPayment(){this.invoice_doc&&this.eventBus.emit("show_message",{title:`To Be Paid: ${this.formatCurrency(this.diff_payment)}`,color:"info"})},showPaidChange(){this.eventBus.emit("show_message",{title:`Paid Change: ${this.formatCurrency(this.paid_change)}`,color:"info"})},showCreditChange(e){e>0?(this.credit_change=e,this.paid_change=-this.diff_payment):this.credit_change=0},formatCurrency(e){return this.$options.mixins[0].methods.formatCurrency.call(this,e,this.currency_precision)},get_change_amount(){return Math.max(0,this.total_payments-this.invoice_doc.grand_total)},async syncPendingInvoices(){const e=Cv();if(e&&(this.eventBus.emit("show_message",{title:`${e} invoice${e>1?"s":""} pending for sync`,color:"warning"}),this.eventBus.emit("pending_invoices_changed",e)),lr())return;const t=await F6();t&&(t.synced||t.drafted)&&(t.synced&&this.eventBus.emit("show_message",{title:`${t.synced} offline invoice${t.synced>1?"s":""} synced`,color:"success"}),t.drafted&&this.eventBus.emit("show_message",{title:`${t.drafted} offline invoice${t.drafted>1?"s":""} saved as draft`,color:"warning"})),this.eventBus.emit("pending_invoices_changed",Cv())}},created(){document.addEventListener("keydown",this.shortPay.bind(this)),this.syncPendingInvoices(),this.eventBus.on("network-online",this.syncPendingInvoices),this.eventBus.on("server-online",this.syncPendingInvoices)},mounted(){this.$nextTick(()=>{this.eventBus.on("send_invoice_doc_payment",e=>{this.invoice_doc=e;const t=this.invoice_doc.payments.find(n=>n.default===1);if(this.is_credit_sale=!1,this.is_write_off_change=!1,e.is_return){if(this.is_return=!0,this.is_credit_return=!1,e.payments.forEach(n=>{n.amount=0,n.base_amount=0}),t){const n=e.rounded_total||e.grand_total;t.amount=-Math.abs(n),t.base_amount!==void 0&&(t.base_amount=-Math.abs(n))}}else t&&(t.amount=this.flt(e.rounded_total||e.grand_total,this.currency_precision),this.is_credit_return=!1);this.loyalty_amount=0,this.redeemed_customer_credit=0,e.customer&&this.get_addresses(),this.get_sales_person_names()}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.get_mpesa_modes()}),this.eventBus.on("add_the_new_address",e=>{this.addresses.push(e),this.$forceUpdate()}),this.eventBus.on("update_invoice_type",e=>{this.invoiceType=e,this.invoice_doc&&e!=="Order"?(this.invoice_doc.posa_delivery_date=null,this.invoice_doc.posa_notes=null,this.invoice_doc.shipping_address_name=null):this.invoice_doc&&e==="Order"&&(this.new_delivery_date=this.formatDateDisplay(frappe.datetime.now_date()),this.update_delivery_date()),this.invoice_doc&&e==="Return"&&(this.invoice_doc.is_return=1,this.ensureReturnPaymentsAreNegative(),this.is_credit_return=!1)}),this.eventBus.on("update_customer",e=>{this.customer!==e&&(this.customer_credit_dict=[],this.redeem_customer_credit=!1,this.is_cashback=!0,this.is_credit_return=!1)}),this.eventBus.on("set_pos_settings",e=>{this.pos_settings=e}),this.eventBus.on("set_customer_info_to_edit",e=>{this.customer_info=e}),this.eventBus.on("set_mpesa_payment",e=>{this.set_mpesa_payment(e)}),this.eventBus.on("clear_invoice",()=>{this.invoice_doc="",this.is_return=!1,this.is_credit_return=!1})})},beforeUnmount(){this.eventBus.off("send_invoice_doc_payment"),this.eventBus.off("register_pos_profile"),this.eventBus.off("add_the_new_address"),this.eventBus.off("update_invoice_type"),this.eventBus.off("update_customer"),this.eventBus.off("set_pos_settings"),this.eventBus.off("set_customer_info_to_edit"),this.eventBus.off("set_mpesa_payment"),this.eventBus.off("clear_invoice"),this.eventBus.off("network-online",this.syncPendingInvoices),this.eventBus.off("server-online",this.syncPendingInvoices)},unmounted(){document.removeEventListener("keydown",this.shortPay)}},Xz={class:"pa-0"},Jz={class:"overflow-y-auto px-2 pt-2",style:{"max-height":"67vh"}},Zz={key:1},ej=["innerHTML"],tj=["innerHTML"],nj=["innerHTML"],aj=["innerHTML"],rj=["innerHTML"],oj=["innerHTML"],ij=["innerHTML"],sj=["innerHTML"],lj={key:4},uj={class:"mt-1"},cj={key:5},dj={class:"pa-2 py-3"},fj={key:0,class:"mt-1 mb-1 text-subtitle-2"},mj={key:1,class:"mt-1 mb-1 text-subtitle-2 text-red"},hj={class:"text-h5 text-primary"};function vj(e,t,n,a,r,o){const i=ie("v-progress-linear"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-row"),d=ie("v-divider"),m=ie("v-btn"),p=ie("VueDatePicker"),y=ie("v-list-item-title"),b=ie("v-list-item-subtitle"),C=ie("v-list-item-content"),w=ie("v-list-item"),k=ie("v-autocomplete"),T=ie("v-textarea"),V=ie("v-switch"),M=ie("v-chip"),I=ie("v-select"),R=ie("v-card"),W=ie("v-card-title"),q=ie("v-container"),z=ie("v-card-text"),Y=ie("v-spacer"),K=ie("v-card-actions"),ae=ie("v-dialog");return de(),Ze("div",Xz,[h(R,{class:Ye(["selection mx-auto pa-1 my-0 py-0 mt-3",o.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([o.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"68vh",height:"68vh"}])},{default:E(()=>[h(i,{active:r.loading,indeterminate:r.loading,absolute:"",location:"top",color:"info"},null,8,["active","indeterminate"]),x("div",Jz,[r.invoice_doc?(de(),lt(f,{key:0,class:"px-1 py-0",dense:""},{default:E(()=>[h(u,{cols:"7"},{default:E(()=>[h(l,{variant:"outlined",color:"primary",label:e.frappe._("Paid Amount"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:o.total_payments_display,"onUpdate:modelValue":t[0]||(t[0]=te=>o.total_payments_display=te),readonly:"",prefix:o.currencySymbol(r.invoice_doc.currency),density:"compact",onClick:o.showPaidAmount},null,8,["label","bg-color","modelValue","prefix","onClick"])]),_:1}),h(u,{cols:"5"},{default:E(()=>[h(l,{variant:"outlined",color:"primary",label:"To Be Paid","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:o.diff_payment_display,"onUpdate:modelValue":t[1]||(t[1]=te=>o.diff_payment_display=te),prefix:o.currencySymbol(r.invoice_doc.currency),density:"compact",onFocus:o.showDiffPayment,"persistent-placeholder":""},null,8,["bg-color","modelValue","prefix","onFocus"])]),_:1}),o.credit_change>0&&!r.invoice_doc.is_return?(de(),lt(u,{key:0,cols:"7"},{default:E(()=>[h(l,{variant:"outlined",color:"primary",label:e.frappe._("Paid Change"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","model-value":o.formatCurrency(r.paid_change),prefix:o.currencySymbol(r.invoice_doc.currency),rules:r.paid_change_rules,density:"compact",readonly:"",type:"text",onClick:o.showPaidChange},null,8,["label","bg-color","model-value","prefix","rules","onClick"])]),_:1})):je("",!0),o.credit_change>0&&!r.invoice_doc.is_return?(de(),lt(u,{key:1,cols:"5"},{default:E(()=>[h(l,{variant:"outlined",color:"primary",label:e.frappe._("Credit Change"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","model-value":o.formatCurrency(o.credit_change),prefix:o.currencySymbol(r.invoice_doc.currency),density:"compact",type:"text",onChange:t[2]||(t[2]=te=>{e.setFormatedCurrency(this,"credit_change",null,!1,te),e.updateCreditChange(this.credit_change)})},null,8,["label","bg-color","model-value","prefix"])]),_:1})):je("",!0)]),_:1})):je("",!0),h(d),r.is_cashback?(de(),Ze("div",Zz,[(de(!0),Ze(ft,null,En(r.invoice_doc.payments,(te,J)=>(de(),lt(f,{class:"payments px-1 py-0",key:te.name},{default:E(()=>[o.is_mpesa_c2b_payment(te)?je("",!0):(de(),lt(u,{key:0,cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._(te.mode_of_payment),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":o.formatCurrency(te.amount),onChange:ne=>e.setFormatedCurrency(te,"amount",null,!1,ne),rules:[e.isNumber,ne=>!te.mode_of_payment.toLowerCase().includes("cash")||this.is_credit_sale||ne>=(this.invoice_doc.rounded_total||this.invoice_doc.grand_total)||"Cash payment cannot be less than invoice total when credit sale is off"],prefix:o.currencySymbol(r.invoice_doc.currency),onFocus:ne=>o.set_rest_amount(te.idx),readonly:r.invoice_doc.is_return},null,8,["label","bg-color","model-value","onChange","rules","prefix","onFocus","readonly"])]),_:2},1024)),o.is_mpesa_c2b_payment(te)?je("",!0):(de(),lt(u,{key:1,cols:"6"},{default:E(()=>[h(m,{block:"",color:"primary",theme:"dark",onClick:ne=>o.set_full_amount(te.idx)},{default:E(()=>[Ke(ge(te.mode_of_payment),1)]),_:2},1032,["onClick"])]),_:2},1024)),o.is_mpesa_c2b_payment(te)?(de(),lt(u,{key:2,cols:"12",class:"pl-3"},{default:E(()=>[h(m,{block:"",color:"success",theme:"dark",onClick:ne=>o.mpesa_c2b_dialog(te)},{default:E(()=>[Ke(ge(e.__("Get Payments"))+" "+ge(te.mode_of_payment),1)]),_:2},1032,["onClick"])]),_:2},1024)):je("",!0),te.type==="Phone"&&te.amount>0&&o.request_payment_field?(de(),lt(u,{key:3,cols:"3",class:"pl-1"},{default:E(()=>[h(m,{block:"",color:"success",theme:"dark",disabled:te.amount===0,onClick:ne=>o.request_payment(te)},{default:E(()=>[Ke(ge(e.__("Request")),1)]),_:2},1032,["disabled","onClick"])]),_:2},1024)):je("",!0)]),_:2},1024))),128))])):je("",!0),r.invoice_doc&&o.available_points_amount>0&&!r.invoice_doc.is_return?(de(),lt(f,{key:2,class:"payments px-1 py-0"},{default:E(()=>[h(u,{cols:"7"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Redeem Loyalty Points"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":o.formatCurrency(r.loyalty_amount),type:"text",onChange:t[3]||(t[3]=te=>e.setFormatedCurrency(this,"loyalty_amount",null,!1,te)),prefix:o.currencySymbol(r.invoice_doc.currency)},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"5"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("You can redeem up to"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:e.formatFloat(o.available_points_amount),prefix:o.currencySymbol(r.invoice_doc.currency),readonly:""},null,8,["label","bg-color","value","prefix"])]),_:1})]),_:1})):je("",!0),r.invoice_doc&&o.available_customer_credit>0&&!r.invoice_doc.is_return&&r.redeem_customer_credit?(de(),lt(f,{key:3,class:"payments px-1 py-0"},{default:E(()=>[h(u,{cols:"7"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Redeemed Customer Credit"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"","model-value":o.formatCurrency(r.redeemed_customer_credit),type:"text",onChange:t[4]||(t[4]=te=>e.setFormatedCurrency(this,"redeemed_customer_credit",null,!1,te)),prefix:o.currencySymbol(r.invoice_doc.currency),readonly:""},null,8,["label","bg-color","model-value","prefix"])]),_:1}),h(u,{cols:"5"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("You can redeem credit up to"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(o.available_customer_credit),prefix:o.currencySymbol(r.invoice_doc.currency),readonly:""},null,8,["label","bg-color","value","prefix"])]),_:1})]),_:1})):je("",!0),h(d),h(f,{class:"px-1 py-0"},{default:E(()=>[h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Net Total"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field",value:o.formatCurrency(r.invoice_doc.net_total,o.displayCurrency),readonly:"",prefix:o.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Tax and Charges"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(r.invoice_doc.total_taxes_and_charges,o.displayCurrency),readonly:"",prefix:o.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Total Amount"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(r.invoice_doc.total,o.displayCurrency),readonly:"",prefix:o.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:o.diff_label,"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(o.diff_payment,o.displayCurrency),readonly:"",prefix:o.currencySymbol(),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Discount Amount"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(r.invoice_doc.discount_amount),readonly:"",prefix:o.currencySymbol(r.invoice_doc.currency),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Grand Total"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(r.invoice_doc.grand_total),readonly:"",prefix:o.currencySymbol(r.invoice_doc.currency),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1}),r.invoice_doc.rounded_total?(de(),lt(u,{key:0,cols:"6"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Rounded Total"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(r.invoice_doc.rounded_total),readonly:"",prefix:o.currencySymbol(r.invoice_doc.currency),"persistent-placeholder":""},null,8,["label","bg-color","value","prefix"])]),_:1})):je("",!0),r.pos_profile.posa_allow_sales_order&&r.invoiceType==="Order"?(de(),lt(u,{key:1,cols:"6"},{default:E(()=>[h(p,{modelValue:r.new_delivery_date,"onUpdate:modelValue":[t[5]||(t[5]=te=>r.new_delivery_date=te),t[6]||(t[6]=te=>o.update_delivery_date())],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:o.isDarkTheme},null,8,["modelValue","min-date","dark"])]),_:1})):je("",!0),r.invoice_doc.posa_delivery_date?(de(),lt(u,{key:2,cols:"12"},{default:E(()=>[h(k,{density:"compact",clearable:"","auto-select-first":"",variant:"outlined",color:"primary",label:e.frappe._("Address"),modelValue:r.invoice_doc.shipping_address_name,"onUpdate:modelValue":t[7]||(t[7]=te=>r.invoice_doc.shipping_address_name=te),items:r.addresses,"item-title":"address_title","item-value":"name","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","no-data-text":"Address not found","hide-details":"",customFilter:o.addressFilter,"append-icon":"mdi-plus","onClick:append":o.new_address},{item:E(({item:te})=>[h(w,null,{default:E(()=>[h(C,null,{default:E(()=>[h(y,{class:"text-primary text-subtitle-1"},{default:E(()=>[x("div",{innerHTML:te.address_title},null,8,ej)]),_:2},1024),h(b,null,{default:E(()=>[x("div",{innerHTML:te.address_line1},null,8,tj)]),_:2},1024),te.address_line2?(de(),lt(b,{key:0},{default:E(()=>[x("div",{innerHTML:te.address_line2},null,8,nj)]),_:2},1024)):je("",!0),te.city?(de(),lt(b,{key:1},{default:E(()=>[x("div",{innerHTML:te.city},null,8,aj)]),_:2},1024)):je("",!0),te.state?(de(),lt(b,{key:2},{default:E(()=>[x("div",{innerHTML:te.state},null,8,rj)]),_:2},1024)):je("",!0),te.country?(de(),lt(b,{key:3},{default:E(()=>[x("div",{innerHTML:te.country},null,8,oj)]),_:2},1024)):je("",!0),te.mobile_no?(de(),lt(b,{key:4},{default:E(()=>[x("div",{innerHTML:te.mobile_no},null,8,ij)]),_:2},1024)):je("",!0),te.address_type?(de(),lt(b,{key:5},{default:E(()=>[x("div",{innerHTML:te.address_type},null,8,sj)]),_:2},1024)):je("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["label","modelValue","items","bg-color","customFilter","onClick:append"])]),_:1})):je("",!0),r.pos_profile.posa_display_additional_notes?(de(),lt(u,{key:3,cols:"12"},{default:E(()=>[h(T,{class:"pa-0 dark-field",variant:"outlined",density:"compact","bg-color":o.isDarkTheme?"#1E1E1E":"white",clearable:"",color:"primary","auto-grow":"",rows:"2",label:e.frappe._("Additional Notes"),modelValue:r.invoice_doc.posa_notes,"onUpdate:modelValue":t[8]||(t[8]=te=>r.invoice_doc.posa_notes=te)},null,8,["bg-color","label","modelValue"])]),_:1})):je("",!0)]),_:1}),r.pos_profile.posa_allow_customer_purchase_order?(de(),Ze("div",lj,[h(d),h(f,{class:"px-1 py-0",justify:"center",align:"start"},{default:E(()=>[h(u,{cols:"6"},{default:E(()=>[h(l,{modelValue:r.invoice_doc.po_no,"onUpdate:modelValue":t[9]||(t[9]=te=>r.invoice_doc.po_no=te),label:e.frappe._("Purchase Order"),variant:"outlined",density:"compact","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field",clearable:"",color:"primary","hide-details":""},null,8,["modelValue","label","bg-color"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(p,{modelValue:r.new_po_date,"onUpdate:modelValue":[t[10]||(t[10]=te=>r.new_po_date=te),t[11]||(t[11]=te=>o.update_po_date())],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:o.isDarkTheme},null,8,["modelValue","min-date","dark"]),h(l,{modelValue:r.invoice_doc.po_date,"onUpdate:modelValue":t[12]||(t[12]=te=>r.invoice_doc.po_date=te),label:e.frappe._("Purchase Order Date"),readonly:"",variant:"outlined",density:"compact","hide-details":"",color:"primary"},null,8,["modelValue","label"])]),_:1})]),_:1})])):je("",!0),h(d),h(f,{class:"px-1 py-0",align:"start","no-gutters":""},{default:E(()=>[r.pos_profile.posa_allow_write_off_change&&o.credit_change>0&&!r.invoice_doc.is_return?(de(),lt(u,{key:0,cols:"6"},{default:E(()=>[h(V,{modelValue:r.is_write_off_change,"onUpdate:modelValue":t[13]||(t[13]=te=>r.is_write_off_change=te),flat:"",label:e.frappe._("Write Off Difference Amount"),class:"my-0 py-0"},null,8,["modelValue","label"])]),_:1})):je("",!0),r.pos_profile.posa_allow_credit_sale&&!r.invoice_doc.is_return?(de(),lt(u,{key:1,cols:"6"},{default:E(()=>[h(V,{modelValue:r.is_credit_sale,"onUpdate:modelValue":t[14]||(t[14]=te=>r.is_credit_sale=te),label:e.frappe._("Credit Sale?")},null,8,["modelValue","label"])]),_:1})):je("",!0),r.invoice_doc.is_return&&r.pos_profile.use_cashback?(de(),lt(u,{key:2,cols:"6"},{default:E(()=>[h(V,{modelValue:r.is_cashback,"onUpdate:modelValue":t[15]||(t[15]=te=>r.is_cashback=te),flat:"",label:e.frappe._("Cashback?"),class:"my-0 py-0"},null,8,["modelValue","label"])]),_:1})):je("",!0),r.invoice_doc.is_return?(de(),lt(u,{key:3,cols:"6"},{default:E(()=>[h(V,{modelValue:r.is_credit_return,"onUpdate:modelValue":t[16]||(t[16]=te=>r.is_credit_return=te),flat:"",label:e.frappe._("Credit Return?"),class:"my-0 py-0"},null,8,["modelValue","label"])]),_:1})):je("",!0),r.is_credit_sale?(de(),lt(u,{key:4,cols:"6"},{default:E(()=>[h(p,{modelValue:r.new_credit_due_date,"onUpdate:modelValue":[t[17]||(t[17]=te=>r.new_credit_due_date=te),t[18]||(t[18]=te=>o.update_credit_due_date())],"model-type":"format",format:"dd-MM-yyyy","min-date":new Date,"auto-apply":"",dark:o.isDarkTheme},null,8,["modelValue","min-date","dark"]),h(l,{class:"mt-2",density:"compact",variant:"outlined",type:"number",min:"0",max:"365",modelValue:r.credit_due_days,"onUpdate:modelValue":t[19]||(t[19]=te=>r.credit_due_days=te),modelModifiers:{number:!0},label:e.frappe._("Days until due"),"hide-details":"",onChange:t[20]||(t[20]=te=>o.applyDuePreset(r.credit_due_days))},null,8,["modelValue","label"]),x("div",uj,[(de(!0),Ze(ft,null,En(r.credit_due_presets,te=>(de(),lt(M,{key:te,size:"small",class:"ma-1",variant:"outlined",color:"primary",onClick:J=>o.applyDuePreset(te)},{default:E(()=>[Ke(ge(te)+" "+ge(e.frappe._("days")),1)]),_:2},1032,["onClick"]))),128))])]),_:1})):je("",!0),!r.invoice_doc.is_return&&r.pos_profile.use_customer_credit?(de(),lt(u,{key:5,cols:"6"},{default:E(()=>[h(V,{modelValue:r.redeem_customer_credit,"onUpdate:modelValue":t[21]||(t[21]=te=>r.redeem_customer_credit=te),flat:"",label:e.frappe._("Use Customer Credit"),class:"my-0 py-0",onChange:t[22]||(t[22]=te=>o.get_available_credit(r.redeem_customer_credit))},null,8,["modelValue","label"])]),_:1})):je("",!0)]),_:1}),r.invoice_doc&&o.available_customer_credit>0&&!r.invoice_doc.is_return&&r.redeem_customer_credit?(de(),Ze("div",cj,[(de(!0),Ze(ft,null,En(r.customer_credit_dict,(te,J)=>(de(),lt(f,{key:J},{default:E(()=>[h(u,{cols:"4"},{default:E(()=>[x("div",dj,ge(te.credit_origin),1)]),_:2},1024),h(u,{cols:"4"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Available Credit"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",value:o.formatCurrency(te.total_credit),readonly:"",prefix:o.currencySymbol(r.invoice_doc.currency)},null,8,["label","bg-color","value","prefix"])]),_:2},1024),h(u,{cols:"4"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Redeem Credit"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",type:"text","model-value":o.formatCurrency(te.credit_to_redeem),onChange:ne=>e.setFormatedCurrency(te,"credit_to_redeem",null,!1,ne),prefix:o.currencySymbol(r.invoice_doc.currency)},null,8,["label","bg-color","model-value","onChange","prefix"])]),_:2},1024)]),_:2},1024))),128))])):je("",!0),h(d),h(f,{class:"pb-0 mb-2",align:"start"},{default:E(()=>[h(u,{cols:"12"},{default:E(()=>[r.sales_persons&&r.sales_persons.length>0?(de(),Ze("p",fj,ge(r.sales_persons.length)+" sales persons found",1)):(de(),Ze("p",mj,"No sales persons found")),h(I,{density:"compact",clearable:"",variant:"outlined",color:"primary",label:e.frappe._("Sales Person"),modelValue:r.sales_person,"onUpdate:modelValue":t[23]||(t[23]=te=>r.sales_person=te),items:r.sales_persons,"item-title":"title","item-value":"value","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","no-data-text":e.__("Sales Person not found"),"hide-details":"",disabled:e.readonly},null,8,["label","modelValue","items","bg-color","no-data-text","disabled"])]),_:1})]),_:1})])]),_:1},8,["class","style"]),h(R,{flat:"",class:"cards mb-0 mt-3 py-0"},{default:E(()=>[h(f,{align:"start","no-gutters":""},{default:E(()=>[h(u,{cols:"6"},{default:E(()=>[h(m,{block:"",size:"large",color:"primary",theme:"dark",onClick:o.submit,disabled:o.vaildatPayment},{default:E(()=>[Ke(ge(e.__("Submit")),1)]),_:1},8,["onClick","disabled"])]),_:1}),h(u,{cols:"6",class:"pl-1"},{default:E(()=>[h(m,{block:"",size:"large",color:"success",theme:"dark",onClick:t[24]||(t[24]=te=>o.submit(void 0,!1,!0)),disabled:o.vaildatPayment},{default:E(()=>[Ke(ge(e.__("Submit & Print")),1)]),_:1},8,["disabled"])]),_:1}),h(u,{cols:"12"},{default:E(()=>[h(m,{block:"",class:"mt-2 pa-1",size:"large",color:"error",theme:"dark",onClick:o.back_to_invoice},{default:E(()=>[Ke(ge(e.__("Cancel Payment")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),h(ae,{modelValue:r.custom_days_dialog,"onUpdate:modelValue":t[27]||(t[27]=te=>r.custom_days_dialog=te),"max-width":"300px"},{default:E(()=>[h(R,null,{default:E(()=>[h(W,{class:"text-h6"},{default:E(()=>[Ke(ge(e.__("Custom Due Days")),1)]),_:1}),h(z,{class:"pa-0"},{default:E(()=>[h(q,null,{default:E(()=>[h(l,{density:"compact",variant:"outlined",type:"number",min:"0",max:"365",modelValue:r.custom_days_value,"onUpdate:modelValue":t[25]||(t[25]=te=>r.custom_days_value=te),modelModifiers:{number:!0},label:e.frappe._("Days"),"hide-details":""},null,8,["modelValue","label"])]),_:1})]),_:1}),h(K,null,{default:E(()=>[h(Y),h(m,{color:"error",theme:"dark",onClick:t[26]||(t[26]=te=>r.custom_days_dialog=!1)},{default:E(()=>[Ke(ge(e.__("Close")),1)]),_:1}),h(m,{color:"primary",theme:"dark",onClick:o.applyCustomDays},{default:E(()=>[Ke(ge(e.__("Apply")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),h(ae,{modelValue:r.phone_dialog,"onUpdate:modelValue":t[30]||(t[30]=te=>r.phone_dialog=te),"max-width":"400px"},{default:E(()=>[h(R,null,{default:E(()=>[h(W,null,{default:E(()=>[x("span",hj,ge(e.__("Confirm Mobile Number")),1)]),_:1}),h(z,{class:"pa-0"},{default:E(()=>[h(q,null,{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Mobile Number"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:r.invoice_doc.contact_mobile,"onUpdate:modelValue":t[28]||(t[28]=te=>r.invoice_doc.contact_mobile=te),type:"number"},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(K,null,{default:E(()=>[h(Y),h(m,{color:"error",theme:"dark",onClick:t[29]||(t[29]=te=>r.phone_dialog=!1)},{default:E(()=>[Ke(ge(e.__("Close")),1)]),_:1}),h(m,{color:"primary",theme:"dark",onClick:o.request_payment},{default:E(()=>[Ke(ge(e.__("Request")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const pj=sa(Qz,[["render",vj],["__scopeId","data-v-48e702d4"]]),_j={mixins:[xi],data:()=>({loading:!1,pos_profile:"",pos_offers:[],allItems:[],discount_percentage_offer_name:null,itemsPerPage:1e3,expanded:[],singleExpand:!0,items_headers:[{title:__("Name"),value:"name",align:"start"},{title:__("Apply On"),value:"apply_on",align:"start"},{title:__("Offer"),value:"offer",align:"start"},{title:__("Applied"),value:"offer_applied",align:"start"}]}),computed:{offersCount(){return this.pos_offers.length},appliedOffersCount(){return this.pos_offers.filter(e=>!!e.offer_applied).length},isDarkTheme(){return this.$theme?.current==="dark"}},methods:{back_to_invoice(){this.eventBus.emit("show_offers","false")},forceUpdateItem(){let e=[];e=[...this.pos_offers],this.pos_offers=e},makeid(e){let t="";const n="abcdefghijklmnopqrstuvwxyz0123456789",a=n.length;for(var r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t},updatePosOffers(e){const t=[];this.pos_offers.forEach(n=>{e.find(r=>r.name===n.name)||t.push(n.row_id)}),this.removeOffers(t),e.forEach(n=>{const a=this.pos_offers.find(r=>n.name===r.name);if(a)a.items=n.items,a.offer==="Grand Total"&&!this.discount_percentage_offer_name&&(a.offer_applied=!!a.auto),n.apply_on=="Item Group"&&n.apply_type=="Item Group"&&n.replace_cheapest_item&&(a.give_item=n.give_item,a.apply_item_code=n.apply_item_code);else{const r={...n};n.row_id||(r.row_id=this.makeid(20)),n.apply_type=="Item Code"&&(r.give_item=n.apply_item_code||"Nothing"),n.offer_applied?r.offer_applied==!!n.offer_applied:n.apply_type=="Item Group"&&n.offer=="Give Product"&&!n.replace_cheapest_item&&!n.replace_item||n.offer==="Grand Total"&&this.discount_percentage_offer_name?r.offer_applied=!1:r.offer_applied=!!n.auto,r.offer=="Give Product"&&!r.give_item&&(r.give_item=this.get_give_items(r)[0].item_code),this.pos_offers.push(r),this.eventBus.emit("show_message",{title:__("New Offer Available"),color:"warning"})}})},removeOffers(e){this.pos_offers=this.pos_offers.filter(t=>!e.includes(t.row_id))},handelOffers(){const e=this.pos_offers.filter(t=>t.offer_applied);this.eventBus.emit("update_invoice_offers",e)},handleNewLine(e){return e?e.replace(/(?:\r\n|\r|\n)/g,"<br />"):""},get_give_items(e){if(e.apply_type=="Item Code")return[e.apply_item_code];if(e.apply_type=="Item Group"){const t=this.allItems;let n=[];const a=t.filter(r=>r.item_group==e.apply_item_group);return e.less_then>0?n=a.filter(r=>r.rate<e.less_then):n=a,n}else return[]},updateCounters(){this.eventBus.emit("update_offers_counters",{offersCount:this.offersCount,appliedOffersCount:this.appliedOffersCount})},updatePosCoupuns(){const e=this.pos_offers.filter(t=>t.offer_applied&&t.coupon_based);this.eventBus.emit("update_pos_coupons",e)}},watch:{pos_offers:{deep:!0,handler(e){this.handelOffers(),this.updateCounters(),this.updatePosCoupuns()}}},created:function(){this.$nextTick(function(){this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})}),this.eventBus.on("update_customer",e=>{this.customer!=e&&(this.offers=[])}),this.eventBus.on("update_pos_offers",e=>{this.updatePosOffers(e)}),this.eventBus.on("update_discount_percentage_offer_name",e=>{this.discount_percentage_offer_name=e.value}),this.eventBus.on("set_all_items",e=>{this.allItems=e})}},gj={class:"text-h6 text-primary"},yj=["colspan"],bj=["innerHTML"];function wj(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-checkbox-btn"),u=ie("v-col"),f=ie("v-autocomplete"),d=ie("v-row"),m=ie("v-data-table"),p=ie("v-card"),y=ie("v-btn");return de(),Ze("div",null,[h(p,{class:Ye(["selection mx-auto mt-3",o.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([o.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"80vh",height:"80vh"}])},{default:E(()=>[h(i,null,{default:E(()=>[x("span",gj,ge(e.__("Offers")),1)]),_:1}),x("div",{class:"my-0 py-0 overflow-y-auto",style:{"max-height":"75vh"},onMouseover:t[1]||(t[1]=b=>e.style="cursor: pointer")},[h(m,{headers:e.items_headers,items:e.pos_offers,"single-expand":e.singleExpand,expanded:e.expanded,"onUpdate:expanded":t[0]||(t[0]=b=>e.expanded=b),"show-expand":"","item-key":"row_id",class:"elevation-1","items-per-page":e.itemsPerPage,"hide-default-footer":""},{"item.offer_applied":E(({item:b})=>[h(l,{onClick:C=>e.toggleOfferApplied(b),modelValue:b.offer_applied,"onUpdate:modelValue":C=>b.offer_applied=C,disabled:b.offer=="Give Product"&&!b.give_item&&(!e.offer.replace_cheapest_item||!e.offer.replace_item)||b.offer=="Grand Total"&&e.discount_percentage_offer_name&&e.discount_percentage_offer_name!=b.name},null,8,["onClick","modelValue","onUpdate:modelValue","disabled"])]),"expanded-item":E(({headers:b,item:C})=>[x("td",{colspan:b.length},[h(d,{class:"mt-2"},{default:E(()=>[C.description?(de(),lt(u,{key:0},{default:E(()=>[x("div",{class:"text-primary",innerHTML:o.handleNewLine(C.description)},null,8,bj)]),_:2},1024)):je("",!0),C.offer=="Give Product"?(de(),lt(u,{key:1},{default:E(()=>[h(f,{modelValue:C.give_item,"onUpdate:modelValue":w=>C.give_item=w,items:o.get_give_items(C),"item-title":"item_code",variant:"outlined",density:"compact",color:"primary",label:e.frappe._("Give Item"),disabled:C.apply_type!="Item Group"||C.replace_item||C.replace_cheapest_item},null,8,["modelValue","onUpdate:modelValue","items","label","disabled"])]),_:2},1024)):je("",!0)]),_:2},1024)],8,yj)]),_:1},8,["headers","items","single-expand","expanded","items-per-page"])],32)]),_:1},8,["class","style"]),h(p,{flat:"",style:{"max-height":"11vh",height:"11vh"},class:"cards mb-0 mt-3 py-0"},{default:E(()=>[h(d,{align:"start","no-gutters":""},{default:E(()=>[h(u,{cols:"12"},{default:E(()=>[h(y,{block:"",class:"pa-1",size:"large",color:"warning",theme:"dark",onClick:o.back_to_invoice},{default:E(()=>[Ke(ge(e.__("Back")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])}const kj=sa(_j,[["render",wj]]),Sj={data:()=>({loading:!1,pos_profile:"",customer:"",posa_coupons:[],new_coupon:null,itemsPerPage:1e3,singleExpand:!0,items_headers:[{title:__("Coupon"),value:"coupon_code",align:"start"},{title:__("Type"),value:"type",align:"start"},{title:__("Offer"),value:"pos_offer",align:"start"},{title:__("Applied"),value:"applied",align:"start"}]}),computed:{couponsCount(){return this.posa_coupons.length},appliedCouponsCount(){return this.posa_coupons.filter(e=>!!e.applied).length},isDarkTheme(){return this.$theme?.current==="dark"}},methods:{back_to_invoice(){this.eventBus.emit("show_coupons","false")},add_coupon(e){if(!this.customer||!e){this.eventBus.emit("show_message",{title:__("Select a customer to use coupon"),color:"error"});return}if(this.posa_coupons.find(a=>a.coupon_code==e)){this.eventBus.emit("show_message",{title:__("This coupon already used !"),color:"error"});return}const n=this;frappe.call({method:"posawesome.posawesome.api.offers.get_pos_coupon",args:{coupon:e,customer:n.customer,company:n.pos_profile.company},callback:function(a){if(a.message){const r=a.message;if(r.msg!="Apply"||!r.coupon)n.eventBus.emit("show_message",{text:r.msg,color:"error"});else{n.new_coupon=null;const o=r.coupon;n.posa_coupons.push({coupon:o.name,coupon_code:o.coupon_code,type:o.coupon_type,applied:0,pos_offer:o.pos_offer,customer:o.customer||n.customer})}}}})},setActiveGiftCoupons(){if(!this.customer)return;const e=this;frappe.call({method:"posawesome.posawesome.api.offers.get_active_gift_coupons",args:{customer:e.customer,company:e.pos_profile.company},callback:function(t){t.message&&t.message.forEach(a=>{e.add_coupon(a)})}})},updatePosCoupons(e){this.posa_coupons.forEach(t=>{e.find(a=>a.offer_applied&&a.coupon==t.coupon)?t.applied=1:t.applied=0})},removeCoupon(e){this.posa_coupons=this.posa_coupons.filter(t=>!e.includes(t.coupon))},updateInvoice(){this.eventBus.emit("update_invoice_coupons",this.posa_coupons)},updateCounters(){this.eventBus.emit("update_coupons_counters",{couponsCount:this.couponsCount,appliedCouponsCount:this.appliedCouponsCount})}},watch:{posa_coupons:{deep:!0,handler(){this.updateInvoice(),this.updateCounters()}}},created:function(){this.$nextTick(function(){this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})}),this.eventBus.on("update_customer",e=>{if(this.customer!=e){const t=[];this.posa_coupons.forEach(n=>{n.type=="Promotional"?n.customer=e:t.push(n.coupon)}),this.customer=e,t.length&&this.removeCoupon(t)}this.setActiveGiftCoupons()}),this.eventBus.on("update_pos_coupons",e=>{this.updatePosCoupons(e)}),this.eventBus.on("set_pos_coupons",e=>{this.posa_coupons=e})}},Cj={class:"text-h6 text-primary"};function xj(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-btn"),d=ie("v-row"),m=ie("v-checkbox-btn"),p=ie("v-data-table"),y=ie("v-card");return de(),Ze("div",null,[h(y,{class:Ye(["selection mx-auto mt-3",o.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([o.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"80vh",height:"80vh"}])},{default:E(()=>[h(i,null,{default:E(()=>[x("span",Cj,ge(e.__("Coupons")),1)]),_:1}),h(d,{class:"px-4 pb-2","no-gutters":""},{default:E(()=>[h(u,{cols:"8",class:"pr-2"},{default:E(()=>[h(l,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Coupon"),"bg-color":"white","hide-details":"",modelValue:e.new_coupon,"onUpdate:modelValue":t[0]||(t[0]=b=>e.new_coupon=b),class:"coupon-input",onKeydown:t[1]||(t[1]=Du(b=>o.add_coupon(e.new_coupon),["enter"]))},null,8,["label","modelValue"])]),_:1}),h(u,{cols:"4"},{default:E(()=>[h(f,{class:"add-coupon-btn",color:"success",theme:"dark",block:"",onClick:t[2]||(t[2]=b=>o.add_coupon(e.new_coupon))},{default:E(()=>[Ke(ge(e.__("add")),1)]),_:1})]),_:1})]),_:1}),x("div",{class:"my-0 py-0 overflow-y-auto",style:{"max-height":"75vh"},onMouseover:t[4]||(t[4]=b=>e.style="cursor: pointer")},[h(p,{headers:e.items_headers,items:e.posa_coupons,"single-expand":e.singleExpand,expanded:e.expanded,"onUpdate:expanded":t[3]||(t[3]=b=>e.expanded=b),"item-key":"coupon",class:"elevation-1","items-per-page":e.itemsPerPage,"hide-default-footer":""},{"item.applied":E(({item:b})=>[h(m,{modelValue:b.applied,"onUpdate:modelValue":C=>b.applied=C,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","single-expand","expanded","items-per-page"])],32)]),_:1},8,["class","style"]),h(y,{flat:"",style:{"max-height":"11vh",height:"11vh"},class:"cards mb-0 mt-3 py-0"},{default:E(()=>[h(d,{align:"start","no-gutters":""},{default:E(()=>[h(u,{cols:"12"},{default:E(()=>[h(f,{block:"",class:"pa-1",size:"large",color:"warning",theme:"dark",onClick:o.back_to_invoice},{default:E(()=>[Ke(ge(e.__("Back")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])}const Pj=sa(Sj,[["render",xj],["__scopeId","data-v-1f400127"]]),Ej={mixins:[xi],data:()=>({draftsDialog:!1,singleSelect:!0,selected:[],dialog_data:{},headers:[{title:__("Customer"),value:"customer_name",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,value:"posting_date"},{title:__("Time"),align:"start",sortable:!0,value:"posting_time"},{title:__("Invoice"),value:"name",align:"start",sortable:!0},{title:__("Amount"),value:"grand_total",align:"end",sortable:!1}]}),watch:{},methods:{close_dialog(){this.draftsDialog=!1},submit_dialog(){this.selected.length>0?(this.eventBus.emit("load_invoice",this.selected[0]),this.draftsDialog=!1):this.eventBus.emit("show_message",{title:"Select an invoice to load",color:"error"})}},created:function(){this.eventBus.on("open_drafts",e=>{this.draftsDialog=!0,this.dialog_data=e})},beforeUnmount(){this.eventBus.off("open_drafts")}},Dj={class:"text-h5 text-primary"},Tj={class:"text-primary"};function Vj(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-card-subtitle"),u=ie("v-data-table"),f=ie("v-col"),d=ie("v-row"),m=ie("v-container"),p=ie("v-card-text"),y=ie("v-spacer"),b=ie("v-btn"),C=ie("v-card-actions"),w=ie("v-card"),k=ie("v-dialog");return de(),lt(d,{justify:"center"},{default:E(()=>[h(k,{modelValue:e.draftsDialog,"onUpdate:modelValue":t[1]||(t[1]=T=>e.draftsDialog=T),"max-width":"900px"},{default:E(()=>[h(w,{variant:"flat",color:"white"},{default:E(()=>[h(i,null,{default:E(()=>[x("span",Dj,ge(e.__("Load Sales Invoice")),1)]),_:1}),h(l,null,{default:E(()=>[x("span",Tj,ge(e.__("Load previously saved invoices")),1)]),_:1}),h(p,{class:"pa-0"},{default:E(()=>[h(m,null,{default:E(()=>[h(d,{"no-gutters":""},{default:E(()=>[h(f,{cols:"12",class:"pa-1"},{default:E(()=>[h(u,{headers:e.headers,items:e.dialog_data,"item-value":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=T=>e.selected=T),"select-strategy":"single","return-object":""},{"item.posting_time":E(({item:T})=>[Ke(ge(T.posting_time.split(".")[0]),1)]),"item.grand_total":E(({item:T})=>[Ke(ge(e.currencySymbol(T.currency))+" "+ge(e.formatCurrency(T.grand_total)),1)]),_:1},8,["headers","items","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h(C,null,{default:E(()=>[h(y),h(b,{color:"error",theme:"dark",onClick:o.close_dialog},{default:E(()=>t[2]||(t[2]=[Ke("Close")])),_:1,__:[2]},8,["onClick"]),h(b,{color:"success",theme:"dark",onClick:o.submit_dialog},{default:E(()=>t[3]||(t[3]=[Ke("Load Sale")])),_:1,__:[3]},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Oj=sa(Ej,[["render",Vj]]),Ij={mixins:[xi],data:()=>({draftsDialog:!1,singleSelect:!0,pos_profile:{},selected:[],dialog_data:{},order_name:"",headers:[{title:__("Customer"),key:"customer_name",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,key:"transaction_date"},{title:__("Order"),key:"name",align:"start",sortable:!0},{title:__("Amount"),key:"grand_total",align:"end",sortable:!1}]}),watch:{},methods:{close_dialog(){this.draftsDialog=!1},clearSelected(){this.selected=[]},search_orders(){frappe.call({method:"posawesome.posawesome.api.sales_orders.search_orders",args:{order_name:vm.order_name,company:this.pos_profile.company,currency:this.pos_profile.currency},async:!1,callback:function(e){e.message&&(vm.dialog_data=e.message)}})},async submit_dialog(){if(this.selected.length>0){var e={};if(await frappe.call({method:"posawesome.posawesome.api.invoices.create_sales_invoice_from_order",args:{sales_order:this.selected[0].name},callback:function(t){t.message&&(e=t.message)}}),e.items){const t=this.selected[0].items,n=e.items,a={};n.forEach(r=>{a[r.item_code]=r});for(let r=0;r<t.length;r++){const o=t[r],i=a[o.item_code];i?(o.qty=i.qty,o.amount=i.amount,o.uom=i.uom,o.rate=i.rate):(t.splice(r,1),r--)}}this.eventBus.emit("load_order",this.selected[0]),this.draftsDialog=!1,frappe.call({method:"posawesome.posawesome.api.invoices.delete_sales_invoice",args:{sales_invoice:e.name},callback:function(t){t.message}})}}},created:function(){this.eventBus.on("open_orders",e=>{this.clearSelected(),this.draftsDialog=!0,this.dialog_data=e,this.order_name=""})},mounted(){this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})},beforeUnmount(){this.eventBus.off("open_orders"),this.eventBus.off("register_pos_profile")}},Aj={class:"text-h5 text-primary"};function Mj(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-btn"),f=ie("v-row"),d=ie("v-data-table"),m=ie("v-col"),p=ie("v-container"),y=ie("v-card-text"),b=ie("v-spacer"),C=ie("v-card-actions"),w=ie("v-card"),k=ie("v-dialog");return de(),lt(f,{justify:"center"},{default:E(()=>[h(k,{modelValue:e.draftsDialog,"onUpdate:modelValue":t[2]||(t[2]=T=>e.draftsDialog=T),"max-width":"900px"},{default:E(()=>[h(w,null,{default:E(()=>[h(i,null,{default:E(()=>[x("span",Aj,ge(e.__("Select Sales Orders")),1)]),_:1}),h(y,{class:"pa-0"},{default:E(()=>[h(p,null,{default:E(()=>[h(f,{class:"mb-4"},{default:E(()=>[h(l,{color:"primary",label:e.frappe._("Order ID"),"bg-color":"white","hide-details":"",modelValue:e.order_name,"onUpdate:modelValue":t[0]||(t[0]=T=>e.order_name=T),density:"compact",clearable:"",class:"mx-4"},null,8,["label","modelValue"]),h(u,{variant:"text",class:"ml-2",color:"primary",theme:"dark",onClick:o.search_orders},{default:E(()=>[Ke(ge(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1}),h(f,{"no-gutters":""},{default:E(()=>[h(m,{cols:"12",class:"pa-1"},{default:E(()=>[h(d,{headers:e.headers,items:e.dialog_data,"item-key":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[1]||(t[1]=T=>e.selected=T),"return-object":"","select-strategy":"single"},{"item.grand_total":E(({item:T})=>[Ke(ge(e.currencySymbol(T.currency))+" "+ge(e.formatCurrency(T.grand_total)),1)]),_:1},8,["headers","items","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h(C,null,{default:E(()=>[h(b),h(u,{color:"error",theme:"dark",onClick:o.close_dialog},{default:E(()=>t[3]||(t[3]=[Ke("Close")])),_:1,__:[3]},8,["onClick"]),e.selected.length?(de(),lt(u,{key:0,color:"success",theme:"dark",onClick:o.submit_dialog},{default:E(()=>t[4]||(t[4]=[Ke("Select")])),_:1,__:[4]},8,["onClick"])):je("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Nj=sa(Ij,[["render",Mj]]),Bj={mixins:[xi],data:()=>({closingDialog:!1,itemsPerPage:20,dialog_data:{},pos_profile:"",headers:[{title:__("Mode of Payment"),value:"mode_of_payment",align:"start",sortable:!0},{title:__("Opening Amount"),align:"end",sortable:!0,value:"opening_amount"},{title:__("Closing Amount"),value:"closing_amount",align:"end",sortable:!0}],max25chars:e=>e.length<=20||"Input too long!",pagination:{}}),watch:{},methods:{close_dialog(){this.closingDialog=!1},submit_dialog(){this.eventBus.emit("submit_closing_pos",this.dialog_data),this.closingDialog=!1}},created:function(){this.eventBus.on("open_ClosingDialog",e=>{this.closingDialog=!0,this.dialog_data=e}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile,this.pos_profile.hide_expected_amount||(this.headers.push({title:__("Expected Amount"),value:"expected_amount",align:"end",sortable:!1}),this.headers.push({title:__("Difference"),value:"difference",align:"end",sortable:!1}))})},beforeUnmount(){this.eventBus.off("open_ClosingDialog"),this.eventBus.off("register_pos_profile")}},$j={class:"header-content"},Rj={class:"header-icon-wrapper"},Fj={class:"header-text"},Lj={class:"header-title"},qj={class:"header-subtitle"},Uj={class:"table-header mb-4"},Hj={class:"text-h6 text-grey-darken-2 mb-1"},Wj={class:"text-body-2 text-grey"};function zj(e,t,n,a,r,o){const i=ie("v-icon"),l=ie("v-card-title"),u=ie("v-divider"),f=ie("v-text-field"),d=ie("v-data-table"),m=ie("v-col"),p=ie("v-row"),y=ie("v-container"),b=ie("v-card-text"),C=ie("v-btn"),w=ie("v-spacer"),k=ie("v-card-actions"),T=ie("v-card"),V=ie("v-dialog");return de(),lt(p,{justify:"center"},{default:E(()=>[h(V,{modelValue:e.closingDialog,"onUpdate:modelValue":t[0]||(t[0]=M=>e.closingDialog=M),"max-width":"900px",persistent:""},{default:E(()=>[h(T,{elevation:"8",class:"closing-dialog-card"},{default:E(()=>[h(l,{class:"closing-header pa-6"},{default:E(()=>[x("div",$j,[x("div",Rj,[h(i,{class:"header-icon",size:"40"},{default:E(()=>t[1]||(t[1]=[Ke("mdi-store-clock-outline")])),_:1,__:[1]})]),x("div",Fj,[x("h3",Lj,ge(e.__("Closing POS Shift")),1),x("p",qj,ge(e.__("Reconcile payment methods and close shift")),1)])])]),_:1}),h(u,{class:"header-divider"}),h(b,{class:"pa-0 white-background"},{default:E(()=>[h(y,{class:"pa-6"},{default:E(()=>[h(p,null,{default:E(()=>[h(m,{cols:"12",class:"pa-1"},{default:E(()=>[x("div",Uj,[x("h4",Hj,ge(e.__("Payment Reconciliation")),1),x("p",Wj,ge(e.__("Verify closing amounts for each payment method")),1)]),h(d,{headers:e.headers,items:e.dialog_data.payment_reconciliation,"item-key":"mode_of_payment",class:"elevation-0 rounded-lg white-table","items-per-page":e.itemsPerPage,"hide-default-footer":"",density:"compact"},{"item.closing_amount":E(M=>[h(f,{modelValue:M.item.closing_amount,"onUpdate:modelValue":I=>M.item.closing_amount=I,rules:[e.max25chars],label:e.frappe._("Edit"),"single-line":"",counter:"",type:"number",density:"compact",variant:"outlined",color:"primary","bg-color":"white","hide-details":"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["modelValue","onUpdate:modelValue","rules","label","prefix"])]),"item.difference":E(({item:M})=>[Ke(ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(M.difference=e.formatCurrency(M.expected_amount-M.closing_amount)),1)]),"item.opening_amount":E(({item:M})=>[Ke(ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(M.opening_amount)),1)]),"item.expected_amount":E(({item:M})=>[Ke(ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(M.expected_amount)),1)]),_:1},8,["headers","items","items-per-page"])]),_:1})]),_:1})]),_:1})]),_:1}),h(u),h(k,{class:"dialog-actions-container"},{default:E(()=>[h(C,{theme:"dark",onClick:o.submit_dialog,class:"pos-action-btn submit-action-btn",size:"large",elevation:"2"},{default:E(()=>[h(i,{start:""},{default:E(()=>t[2]||(t[2]=[Ke("mdi-check-circle-outline")])),_:1,__:[2]}),x("span",null,ge(e.__("Submit")),1)]),_:1},8,["onClick"]),h(w),h(C,{theme:"dark",onClick:o.close_dialog,class:"pos-action-btn cancel-action-btn",size:"large",elevation:"2"},{default:E(()=>[h(i,{start:""},{default:E(()=>t[3]||(t[3]=[Ke("mdi-close-circle-outline")])),_:1,__:[3]}),x("span",null,ge(e.__("Close")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const jj=sa(Bj,[["render",zj],["__scopeId","data-v-772f49d4"]]),Yj={data:()=>({addressDialog:!1,address:{},customer:""}),computed:{isDarkTheme(){return this.$theme.current==="dark"}},methods:{close_dialog(){this.addressDialog=!1},submit_dialog(){var e=this;this.address.customer=this.customer,this.address.doctype="Customer",frappe.call({method:"posawesome.posawesome.api.customers.make_address",args:{args:this.address},callback:t=>{t.exc||(e.eventBus.emit("add_the_new_address",t.message),e.eventBus.emit("show_message",{text:"Customer Address created successfully.",color:"success"}),e.addressDialog=!1,e.customer="",e.address={})}})}},created:function(){this.eventBus.on("open_new_address",e=>{this.addressDialog=!0,this.customer=e})}},Kj={class:"text-h5 text-primary"};function Gj(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-col"),f=ie("v-row"),d=ie("v-container"),m=ie("v-card-text"),p=ie("v-spacer"),y=ie("v-btn"),b=ie("v-card-actions"),C=ie("v-card"),w=ie("v-dialog");return de(),lt(f,{justify:"center"},{default:E(()=>[h(w,{modelValue:e.addressDialog,"onUpdate:modelValue":t[5]||(t[5]=k=>e.addressDialog=k),"max-width":"600px"},{default:E(()=>[h(C,null,{default:E(()=>[h(i,null,{default:E(()=>[x("span",Kj,ge(e.__("Add New Address")),1)]),_:1}),h(m,{class:"pa-0"},{default:E(()=>[h(d,null,{default:E(()=>[h(f,null,{default:E(()=>[h(u,{cols:"12"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Address Name"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.name,"onUpdate:modelValue":t[0]||(t[0]=k=>e.address.name=k)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Address Line 1"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.address_line1,"onUpdate:modelValue":t[1]||(t[1]=k=>e.address.address_line1=k)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12"},{default:E(()=>[h(l,{density:"compact",color:"primary",label:e.frappe._("Address Line 2"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.address_line2,"onUpdate:modelValue":t[2]||(t[2]=k=>e.address.address_line2=k)},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{label:"City",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.city,"onUpdate:modelValue":t[3]||(t[3]=k=>e.address.city=k)},null,8,["bg-color","modelValue"])]),_:1}),h(u,{cols:"6"},{default:E(()=>[h(l,{label:"State",density:"compact","bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.address.state,"onUpdate:modelValue":t[4]||(t[4]=k=>e.address.state=k)},null,8,["bg-color","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h(b,null,{default:E(()=>[h(p),h(y,{color:"error",theme:"dark",onClick:o.close_dialog},{default:E(()=>[Ke(ge(e.__("Close")),1)]),_:1},8,["onClick"]),h(y,{color:"success",theme:"dark",onClick:o.submit_dialog},{default:E(()=>[Ke(ge(e.__("Submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Qj=sa(Yj,[["render",Gj],["__scopeId","data-v-b56e9dcd"]]),Xj={data:()=>({varaintsDialog:!1,parentItem:null,items:null,filters:{},filterdItems:[]}),computed:{variantsItems(){return this.parentItem?this.items.filter(e=>e.variant_of==this.parentItem.item_code):[]}},methods:{close_dialog(){this.varaintsDialog=!1},formatCurrency(e){return this.$options.mixins[0].methods.formatCurrency.call(this,e,2)},updateFiltredItems(){this.$nextTick(function(){const e=[];if(Object.entries(this.filters).forEach(([t,n])=>{n&&e.push(n)}),!e.length)this.filterdItems=this.variantsItems;else{const t=[];this.filterdItems=[],this.variantsItems.forEach(n=>{let a=!0;n.item_attributes.forEach(r=>{this.filters[r.attribute]&&this.filters[r.attribute]!=r.attribute_value&&(a=!1)}),a&&!t.includes(n.item_code)&&(this.filterdItems.push(n),t.push(n.item_code))})}})},add_item(e){this.eventBus.emit("add_item",e),this.close_dialog()}},created:function(){this.eventBus.on("open_variants_model",(e,t)=>{this.varaintsDialog=!0,this.parentItem=e||null,this.items=t,this.filters={},this.$nextTick(function(){this.filterdItems=this.variantsItems})})},beforeUnmount(){this.eventBus.off("open_variants_model")}},Jj={class:"text-caption text-primary accent-3"};function Zj(e,t,n,a,r,o){const i=ie("v-spacer"),l=ie("v-btn"),u=ie("v-card-title"),f=ie("v-chip"),d=ie("v-chip-group"),m=ie("v-divider"),p=ie("v-card-text"),y=ie("v-img"),b=ie("v-card"),C=ie("v-col"),w=ie("v-row"),k=ie("v-container"),T=ie("v-dialog");return de(),lt(w,{justify:"center"},{default:E(()=>[h(T,{modelValue:e.varaintsDialog,"onUpdate:modelValue":t[0]||(t[0]=V=>e.varaintsDialog=V),"max-width":"600px"},{default:E(()=>[h(b,{"min-height":"500px"},{default:E(()=>[h(u,null,{default:E(()=>[t[2]||(t[2]=x("span",{class:"text-h5 text-primary"},"Select Item",-1)),h(i),h(l,{color:"error",theme:"dark",onClick:o.close_dialog},{default:E(()=>t[1]||(t[1]=[Ke("Close")])),_:1,__:[1]},8,["onClick"])]),_:1,__:[2]}),h(p,{class:"pa-0"},{default:E(()=>[e.parentItem?(de(),lt(k,{key:0},{default:E(()=>[(de(!0),Ze(ft,null,En(e.parentItem.attributes,V=>(de(),Ze("div",{key:V.attribute},[h(d,{modelValue:e.filters[V.attribute],"onUpdate:modelValue":M=>e.filters[V.attribute]=M,"selected-class":"green--text text--accent-4",column:""},{default:E(()=>[(de(!0),Ze(ft,null,En(V.values,M=>(de(),lt(f,{key:M.abbr,value:M.attribute_value,variant:"outlined",label:"",onClick:o.updateFiltredItems},{default:E(()=>[Ke(ge(M.attribute_value),1)]),_:2},1032,["value","onClick"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),h(m,{class:"p-0 m-0"})]))),128)),x("div",null,[h(w,{density:"default",class:"overflow-y-auto",style:{"max-height":"500px"}},{default:E(()=>[(de(!0),Ze(ft,null,En(e.filterdItems,(V,M)=>(de(),lt(C,{key:M,xl:"2",lg:"3",md:"4",sm:"4",cols:"6","min-height":"50"},{default:E(()=>[h(b,{hover:"hover",onClick:I=>o.add_item(V)},{default:E(()=>[h(y,{src:V.image||"/assets/posawesome/js/posapp/components/pos/placeholder-image.png",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,.2), rgba(0,0,0,.7)",height:"100px"},{default:E(()=>[h(p,{textContent:ge(V.item_name),class:"text-subtitle-2 px-1 pb-2"},null,8,["textContent"])]),_:2},1032,["src"]),h(p,{class:"text--primary pa-1"},{default:E(()=>[x("div",Jj,ge(V.rate||0)+" "+ge(V.currency||""),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])]),_:1})):je("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const eY=sa(Xj,[["render",Zj]]),tY={mixins:[xi],data:()=>({invoicesDialog:!1,singleSelect:!0,selected:[],dialog_data:[],company:"",invoice_name:"",customer_name:"",customer_id:"",mobile_no:"",tax_id:"",from_date:null,to_date:null,from_date_formatted:null,to_date_formatted:null,min_amount:"",max_amount:"",pos_profile:"",page:1,has_more_invoices:!1,loading_more:!1,searched_once:!1,current_search_params:null,headers:[{title:__("Customer"),value:"customer",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,value:"posting_date"},{title:__("Invoice"),value:"name",align:"start",sortable:!0},{title:__("Amount"),value:"grand_total",align:"end",sortable:!1}]}),computed:{isDarkTheme(){return this.$theme?.current==="dark"}},watch:{from_date(){this.formatFromDate()},to_date(){this.formatToDate()}},methods:{formatDateDisplay(e){if(!e)return"";try{const t=e.split("-");if(t.length===3)return`${t[2]}-${t[1]}-${t[0]}`}catch(t){console.error("Error formatting date:",t)}return e},formatFromDate(){if(this.from_date)try{let e="";if(typeof this.from_date=="object"&&this.from_date instanceof Date){const t=String(this.from_date.getDate()).padStart(2,"0"),n=String(this.from_date.getMonth()+1).padStart(2,"0"),a=this.from_date.getFullYear();e=`${t}-${n}-${a}`}else if(typeof this.from_date=="string"&&this.from_date.includes("-")){const t=this.from_date.split("-");t.length===3?e=`${t[2]}-${t[1]}-${t[0]}`:e=this.from_date}else e=String(this.from_date);this.from_date_formatted=e}catch(e){console.error("Error formatting from_date:",e),this.from_date_formatted=String(this.from_date)}else this.from_date_formatted=null},formatToDate(){if(this.to_date)try{let e="";if(typeof this.to_date=="object"&&this.to_date instanceof Date){const t=String(this.to_date.getDate()).padStart(2,"0"),n=String(this.to_date.getMonth()+1).padStart(2,"0"),a=this.to_date.getFullYear();e=`${t}-${n}-${a}`}else if(typeof this.to_date=="string"&&this.to_date.includes("-")){const t=this.to_date.split("-");t.length===3?e=`${t[2]}-${t[1]}-${t[0]}`:e=this.to_date}else e=String(this.to_date);this.to_date_formatted=e}catch(e){console.error("Error formatting to_date:",e),this.to_date_formatted=String(this.to_date)}else this.to_date_formatted=null},clearFromDate(){this.from_date=null,this.from_date_formatted=null},clearToDate(){this.to_date=null,this.to_date_formatted=null},close_dialog(){this.invoicesDialog=!1},clear_search(){this.invoice_name="",this.customer_name="",this.customer_id="",this.mobile_no="",this.tax_id="",this.from_date=null,this.to_date=null,this.from_date_formatted=null,this.to_date_formatted=null,this.min_amount="",this.max_amount="",this.dialog_data=[],this.page=1,this.has_more_invoices=!1,this.searched_once=!1},search_invoices_by_enter(e){e.keyCode===13&&this.search_invoices()},search_invoices(){this.page=1,this.dialog_data=[],this.perform_search()},perform_search(){const e=this;e.loading_more=!0;let t=null,n=null;if(e.from_date){if(typeof e.from_date=="object"&&e.from_date instanceof Date)t=[e.from_date.getFullYear(),String(e.from_date.getMonth()+1).padStart(2,"0"),String(e.from_date.getDate()).padStart(2,"0")].join("-");else if(typeof e.from_date=="string")if(e.from_date.includes("/")){const o=e.from_date.split("/");o.length===3&&(t=`${o[2]}-${o[1]}-${o[0]}`)}else if(e.from_date.includes("-")){const o=e.from_date.split("-");o.length===3&&(o[0].length===4?t=e.from_date:t=`${o[2]}-${o[1]}-${o[0]}`)}else t=null}if(e.to_date){if(typeof e.to_date=="object"&&e.to_date instanceof Date)n=[e.to_date.getFullYear(),String(e.to_date.getMonth()+1).padStart(2,"0"),String(e.to_date.getDate()).padStart(2,"0")].join("-");else if(typeof e.to_date=="string")if(e.to_date.includes("/")){const o=e.to_date.split("/");o.length===3&&(n=`${o[2]}-${o[1]}-${o[0]}`)}else if(e.to_date.includes("-")){const o=e.to_date.split("-");o.length===3&&(o[0].length===4?n=e.to_date:n=`${o[2]}-${o[1]}-${o[0]}`)}else n=null}let a=e.min_amount?parseFloat(e.min_amount):null,r=e.max_amount?parseFloat(e.max_amount):null;this.current_search_params={invoice_name:e.invoice_name,customer_name:e.customer_name,customer_id:e.customer_id,mobile_no:e.mobile_no,tax_id:e.tax_id,from_date:t,to_date:n,min_amount:a,max_amount:r,company:e.company,page:e.page},frappe.call({method:"posawesome.posawesome.api.invoices.search_invoices_for_return",args:this.current_search_params,callback:function(o){e.loading_more=!1,e.searched_once=!0,o.message?(e.page===1?e.dialog_data=o.message.invoices:e.dialog_data=[...e.dialog_data,...o.message.invoices],e.has_more_invoices=o.message.has_more):(e.dialog_data=[],e.has_more_invoices=!1,e.eventBus.emit("show_message",{title:__("No invoices found"),color:"warning"}))},error:function(o){e.loading_more=!1,console.error("Error searching invoices:",o),e.eventBus.emit("show_message",{title:__("Error searching invoices"),color:"error"})}})},load_more_invoices(){this.page+=1,this.perform_search()},return_without_invoice(){console.log("Starting return without invoice flow");const e={};e.items=[],e.is_return=1;const t={invoice_doc:e};console.log("Emitting load_return_invoice event with data:",t),this.eventBus.emit("load_return_invoice",t),this.invoicesDialog=!1},submit_dialog(){if(this.selected.length>0){console.log("Starting return with invoice flow");const e=this.selected[0],t={},n=[];console.log("Original return doc:",e),e.items.forEach(r=>{const o={...r};o.sales_invoice_item=r.name,delete o.name,o.qty=r.qty>0?r.qty*-1:r.qty,o.stock_qty=r.stock_qty>0?r.stock_qty*-1:r.stock_qty,o.amount=r.amount>0?r.amount*-1:r.amount,n.push(o)}),t.items=n,t.is_return=1,t.return_against=e.name,t.customer=e.customer,e.grand_total>0?t.grand_total=e.grand_total*-1:t.grand_total=e.grand_total,t.update_stock=1,t.pos_profile=this.pos_profile.name,t.company=this.company;const a={invoice_doc:t,return_doc:e};console.log("Emitting load_return_invoice event with data:",a),this.eventBus.emit("load_return_invoice",a),this.invoicesDialog=!1}}},created:function(){this.eventBus.on("open_returns",e=>{this.invoicesDialog=!0,this.company=e,this.invoice_name="",this.customer_name="",this.customer_id="",this.mobile_no="",this.tax_id="",this.from_date=null,this.to_date=null,this.from_date_formatted=null,this.to_date_formatted=null,this.min_amount="",this.max_amount="",this.dialog_data=[],this.selected=[],this.page=1,this.has_more_invoices=!1,this.searched_once=!1}),this.eventBus.on("register_pos_profile",e=>{this.pos_profile=e.pos_profile})},beforeUnmount(){this.eventBus.off("open_returns"),this.eventBus.off("register_pos_profile")}},nY={class:"text-h5 text-primary"},aY={key:0,class:"text-center mt-3"};function rY(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-alert"),u=ie("v-col"),f=ie("v-row"),d=ie("v-text-field"),m=ie("VueDatePicker"),p=ie("v-divider"),y=ie("v-spacer"),b=ie("v-icon"),C=ie("v-btn"),w=ie("v-data-table"),k=ie("v-container"),T=ie("v-card-actions"),V=ie("v-card"),M=ie("v-dialog");return de(),lt(f,{justify:"center"},{default:E(()=>[h(M,{modelValue:e.invoicesDialog,"onUpdate:modelValue":t[12]||(t[12]=I=>e.invoicesDialog=I),"max-width":"800px","min-width":"800px"},{default:E(()=>[h(V,null,{default:E(()=>[h(i,null,{default:E(()=>[x("span",nY,ge(e.__("Select Return Invoice")),1)]),_:1}),h(k,null,{default:E(()=>[h(f,{class:"mb-2"},{default:E(()=>[h(u,{cols:"12"},{default:E(()=>[!e.from_date&&!e.to_date?(de(),lt(l,{key:0,dense:"",type:"info",text:"",outlined:""},{default:E(()=>[x("small",null,ge(e.__("Use date range to search for older invoices")),1)]),_:1})):je("",!0)]),_:1})]),_:1}),h(f,{class:"mb-3"},{default:E(()=>[h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Invoice ID"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.invoice_name,"onUpdate:modelValue":t[0]||(t[0]=I=>e.invoice_name=I),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"3"},{default:E(()=>[h(m,{modelValue:e.from_date,"onUpdate:modelValue":[t[1]||(t[1]=I=>e.from_date=I),t[2]||(t[2]=I=>o.formatFromDate())],"model-type":"format",format:"dd-MM-yyyy","enable-time-picker":!1,"auto-apply":"",dark:o.isDarkTheme},null,8,["modelValue","dark"])]),_:1}),h(u,{cols:"12",sm:"3"},{default:E(()=>[h(m,{modelValue:e.to_date,"onUpdate:modelValue":[t[3]||(t[3]=I=>e.to_date=I),t[4]||(t[4]=I=>o.formatToDate())],"model-type":"format",format:"dd-MM-yyyy","enable-time-picker":!1,"auto-apply":"",dark:o.isDarkTheme},null,8,["modelValue","dark"])]),_:1})]),_:1}),h(f,{class:"mb-2"},{default:E(()=>[h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Customer Name"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.customer_name,"onUpdate:modelValue":t[5]||(t[5]=I=>e.customer_name=I),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Customer ID"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.customer_id,"onUpdate:modelValue":t[6]||(t[6]=I=>e.customer_id=I),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(f,{class:"mb-3"},{default:E(()=>[h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Mobile Number"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.mobile_no,"onUpdate:modelValue":t[7]||(t[7]=I=>e.mobile_no=I),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Tax ID"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.tax_id,"onUpdate:modelValue":t[8]||(t[8]=I=>e.tax_id=I),density:"compact",clearable:""},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(f,{class:"mb-3"},{default:E(()=>[h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Minimum Amount"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.min_amount,"onUpdate:modelValue":t[9]||(t[9]=I=>e.min_amount=I),density:"compact",clearable:"",type:"number",min:"0",placeholder:"0"},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{cols:"12",sm:"6"},{default:E(()=>[h(d,{color:"primary",label:e.frappe._("Maximum Amount"),"bg-color":o.isDarkTheme?"#1E1E1E":"white",class:"dark-field","hide-details":"",modelValue:e.max_amount,"onUpdate:modelValue":t[10]||(t[10]=I=>e.max_amount=I),density:"compact",clearable:"",type:"number",min:"0",placeholder:"No limit"},null,8,["label","bg-color","modelValue"])]),_:1})]),_:1}),h(f,null,{default:E(()=>[h(u,{cols:"12",class:"pt-0 pb-0"},{default:E(()=>[h(p)]),_:1})]),_:1}),h(f,{class:"mt-2 mb-2"},{default:E(()=>[h(y),h(C,{variant:"text",class:"ml-2",color:"primary",theme:"dark",onClick:o.search_invoices},{default:E(()=>[h(b,{left:""},{default:E(()=>t[13]||(t[13]=[Ke("mdi-magnify")])),_:1,__:[13]}),Ke(" "+ge(e.__("Search")),1)]),_:1},8,["onClick"]),h(C,{variant:"text",class:"ml-2",color:"warning",theme:"dark",onClick:o.clear_search},{default:E(()=>[h(b,{left:""},{default:E(()=>t[14]||(t[14]=[Ke("mdi-refresh")])),_:1,__:[14]}),Ke(" "+ge(e.__("Clear")),1)]),_:1},8,["onClick"]),e.pos_profile.posa_allow_return_without_invoice==1?(de(),lt(C,{key:0,variant:"text",class:"ml-2",color:"secondary",theme:"dark",onClick:o.return_without_invoice},{default:E(()=>[Ke(ge(e.__("Return without Invoice")),1)]),_:1},8,["onClick"])):je("",!0)]),_:1}),h(f,null,{default:E(()=>[e.dialog_data&&e.dialog_data.length>0?(de(),lt(u,{key:0,cols:"12",class:"pa-0 mt-1"},{default:E(()=>[h(w,{headers:e.headers,items:e.dialog_data,"item-key":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[11]||(t[11]=I=>e.selected=I),"select-strategy":"single","return-object":"","footer-props":{"items-per-page-options":[10,25,50,100],"items-per-page-text":"Invoices per page"},"items-per-page":25},{"item.posting_date":E(({item:I})=>[Ke(ge(o.formatDateDisplay(I.posting_date)),1)]),"item.grand_total":E(({item:I})=>[Ke(ge(e.currencySymbol(I.currency))+" "+ge(e.formatCurrency(I.grand_total)),1)]),_:1},8,["headers","items","modelValue"]),e.has_more_invoices?(de(),Ze("div",aY,[h(C,{color:"primary",text:"",outlined:"",loading:e.loading_more,onClick:o.load_more_invoices},{default:E(()=>[Ke(ge(e.__("Load More Invoices")),1)]),_:1},8,["loading","onClick"])])):je("",!0)]),_:1})):e.searched_once&&(!e.dialog_data||e.dialog_data.length===0)?(de(),lt(u,{key:1,cols:"12",class:"text-center"},{default:E(()=>[h(l,{type:"warning",text:""},{default:E(()=>[Ke(ge(e.__("No invoices found. Try different search criteria.")),1)]),_:1})]),_:1})):je("",!0)]),_:1})]),_:1}),h(T,{class:"mt-1"},{default:E(()=>[h(y),h(C,{color:"error mx-2",theme:"dark",onClick:o.close_dialog},{default:E(()=>[Ke(ge(e.__("Close")),1)]),_:1},8,["onClick"]),e.selected.length?(de(),lt(C,{key:0,color:"success",theme:"dark",onClick:o.submit_dialog},{default:E(()=>[Ke(ge(e.__("Select")),1)]),_:1},8,["onClick"])):je("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const oY=sa(tY,[["render",rY]]),iY={data:()=>({dialog:!1,singleSelect:!0,selected:[],dialog_data:"",company:"",customer:"",mode_of_payment:"",full_name:"",mobile_no:"",headers:[{title:__("Full Name"),value:"full_name",align:"start",sortable:!0},{title:__("Mobile No"),value:"mobile_no",align:"start",sortable:!0},{title:__("Amount"),value:"amount",align:"start",sortable:!0},{title:__("Date"),align:"start",sortable:!0,value:"posting_date"}]}),watch:{},methods:{close_dialog(){this.dialog=!1},search_by_enter(e){e.keyCode===13&&this.search()},search(){const e=this;frappe.call({method:"posawesome.posawesome.api.m_pesa.get_mpesa_draft_payments",args:{company:this.company,mode_of_payment:this.mode_of_payment,mobile_no:this.mobile_no,full_name:this.full_name},async:!1,callback:function(t){t.exc||(e.dialog_data=t.message)}})},submit_dialog(){var e=this;if(this.selected.length>0){const t=this.selected[0].name;frappe.call({method:"posawesome.posawesome.api.m_pesa.submit_mpesa_payment",args:{mpesa_payment:t,customer:this.customer},async:!1,callback:function(n){n.exc||(e.eventBus.emit("set_mpesa_payment",n.message),e.dialog=!1)}})}},formatCurrency(e){return this.$options.mixins[0].methods.formatCurrency.call(this,e,2)}},created:function(){this.eventBus.on("open_mpesa_payments",e=>{this.dialog=!0,this.full_name="",this.mobile_no="",this.company=e.company,this.customer=e.customer,this.mode_of_payment=e.mode_of_payment,this.dialog_data="",this.selected=[]})},beforeUnmount(){this.eventBus.off("open_mpesa_payments")}},sY={class:"text-h5 text-primary"};function lY(e,t,n,a,r,o){const i=ie("v-card-title"),l=ie("v-text-field"),u=ie("v-btn"),f=ie("v-row"),d=ie("v-data-table"),m=ie("v-col"),p=ie("v-container"),y=ie("v-spacer"),b=ie("v-card-actions"),C=ie("v-card"),w=ie("v-dialog");return de(),lt(f,{justify:"center"},{default:E(()=>[h(w,{modelValue:e.dialog,"onUpdate:modelValue":t[3]||(t[3]=k=>e.dialog=k),"max-width":"800px","min-width":"800px"},{default:E(()=>[h(C,null,{default:E(()=>[h(i,null,{default:E(()=>[x("span",sY,ge(e.__("Select Payment")),1)]),_:1}),h(p,null,{default:E(()=>[h(f,{class:"mb-4"},{default:E(()=>[h(l,{color:"primary",label:e.frappe._("Full Name"),"bg-color":"white","hide-details":"",modelValue:e.full_name,"onUpdate:modelValue":t[0]||(t[0]=k=>e.full_name=k),density:"compact",clearable:"",class:"mx-4"},null,8,["label","modelValue"]),h(l,{color:"primary",label:e.frappe._("Mobile No"),"bg-color":"white","hide-details":"",modelValue:e.mobile_no,"onUpdate:modelValue":t[1]||(t[1]=k=>e.mobile_no=k),density:"compact",clearable:"",class:"mx-4"},null,8,["label","modelValue"]),h(u,{variant:"text",class:"ml-2",color:"primary",theme:"dark",onClick:o.search},{default:E(()=>[Ke(ge(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1}),h(f,null,{default:E(()=>[e.dialog_data?(de(),lt(m,{key:0,cols:"12",class:"pa-1"},{default:E(()=>[h(d,{headers:e.headers,items:e.dialog_data,"item-key":"name",class:"elevation-1","show-select":"",modelValue:e.selected,"onUpdate:modelValue":t[2]||(t[2]=k=>e.selected=k),"return-object":"","select-strategy":"single"},{"item.amount":E(({item:k})=>[Ke(ge(o.formatCurrency(k.amount)),1)]),"item.posting_date":E(({item:k})=>[Ke(ge(k.posting_date.slice(0,16)),1)]),_:1},8,["headers","items","modelValue"])]),_:1})):je("",!0)]),_:1})]),_:1}),h(b,{class:"mt-4"},{default:E(()=>[h(y),h(u,{color:"error mx-2",theme:"dark",onClick:o.close_dialog},{default:E(()=>t[4]||(t[4]=[Ke("Close")])),_:1,__:[4]},8,["onClick"]),e.selected.length?(de(),lt(u,{key:0,color:"success",theme:"dark",onClick:o.submit_dialog},{default:E(()=>[Ke(ge(e.__("Submit")),1)]),_:1},8,["onClick"])):je("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const uY={mixins:[iD],data:function(){return{dialog:!1,pos_profile:"",pos_opening_shift:"",payment:!1,offers:!1,coupons:!1}},components:{ItemsSelector:zH,Invoice:Rz,OpeningDialog:Kz,Payments:pj,Drafts:Oj,ClosingDialog:jj,Returns:oY,PosOffers:kj,PosCoupons:Pj,NewAddress:Qj,Variants:eY,MpesaPayments:sa(iY,[["render",lY]]),SalesOrders:Nj},methods:{async check_opening_entry(){return await fm,frappe.call("posawesome.posawesome.api.shifts.check_opening_shift",{user:frappe.session.user}).then(e=>{if(e.message){this.pos_profile=e.message.pos_profile,this.pos_opening_shift=e.message.pos_opening_shift,this.get_offers(this.pos_profile.name),this.eventBus.emit("register_pos_profile",e.message),this.eventBus.emit("set_company",e.message.company);try{frappe.realtime.emit("pos_profile_registered")}catch(t){console.warn("Realtime emit failed",t)}console.info("LoadPosProfile");try{Hy(e.message)}catch(t){console.error("Failed to cache opening data",t)}}else{const t=Sv();if(t){this.pos_profile=t.pos_profile,this.pos_opening_shift=t.pos_opening_shift,this.get_offers(this.pos_profile.name),this.eventBus.emit("register_pos_profile",t),this.eventBus.emit("set_company",t.company);try{frappe.realtime.emit("pos_profile_registered")}catch(n){console.warn("Realtime emit failed",n)}console.info("LoadPosProfile (cached)");return}this.create_opening_voucher()}}).catch(()=>{const e=Sv();if(e){this.pos_profile=e.pos_profile,this.pos_opening_shift=e.pos_opening_shift,this.get_offers(this.pos_profile.name),this.eventBus.emit("register_pos_profile",e),this.eventBus.emit("set_company",e.company);try{frappe.realtime.emit("pos_profile_registered")}catch(t){console.warn("Realtime emit failed",t)}console.info("LoadPosProfile (cached)");return}this.create_opening_voucher()})},create_opening_voucher(){this.dialog=!0},get_closing_data(){return frappe.call("posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.make_closing_shift_from_opening",{opening_shift:this.pos_opening_shift}).then(e=>{e.message&&this.eventBus.emit("open_ClosingDialog",e.message)})},submit_closing_pos(e){frappe.call("posawesome.posawesome.doctype.pos_closing_shift.pos_closing_shift.submit_closing_shift",{closing_shift:e}).then(t=>{t.message?(this.pos_opening_shift=null,this.pos_profile=null,S6(),this.eventBus.emit("show_message",{title:"POS Shift Closed",color:"success"}),this.check_opening_entry()):console.log(t)})},get_offers(e){if(this.pos_profile&&this.pos_profile.posa_local_storage){const t=pE();t.length&&this.eventBus.emit("set_offers",t)}return frappe.call("posawesome.posawesome.api.offers.get_offers",{profile:e}).then(t=>{t.message&&(console.info("LoadOffers"),q6(t.message),this.eventBus.emit("set_offers",t.message))}).catch(t=>{console.error("Failed to fetch offers:",t);const n=pE();n.length&&this.eventBus.emit("set_offers",n)})},get_pos_setting(){frappe.db.get_doc("POS Settings",void 0).then(e=>{this.eventBus.emit("set_pos_settings",e)})}},mounted:function(){this.$nextTick(function(){this.check_opening_entry(),this.get_pos_setting(),this.eventBus.on("close_opening_dialog",()=>{this.dialog=!1}),this.eventBus.on("register_pos_data",e=>{this.pos_profile=e.pos_profile,this.get_offers(this.pos_profile.name),this.pos_opening_shift=e.pos_opening_shift,this.eventBus.emit("register_pos_profile",e),console.info("LoadPosProfile")}),this.eventBus.on("show_payment",e=>{this.payment=e==="true",this.offers=!1,this.coupons=!1}),this.eventBus.on("show_offers",e=>{this.offers=e==="true",this.payment=!1,this.coupons=!1}),this.eventBus.on("show_coupons",e=>{this.coupons=e==="true",this.offers=!1,this.payment=!1}),this.eventBus.on("open_closing_dialog",()=>{this.get_closing_data()}),this.eventBus.on("submit_closing_pos",e=>{this.submit_closing_pos(e)})})},beforeUnmount(){this.eventBus.off("close_opening_dialog"),this.eventBus.off("register_pos_data"),this.eventBus.off("LoadPosProfile"),this.eventBus.off("show_offers"),this.eventBus.off("show_coupons"),this.eventBus.off("open_closing_dialog"),this.eventBus.off("submit_closing_pos")},created(){H6()}};function cY(e,t,n,a,r,o){const i=ie("ClosingDialog"),l=ie("Drafts"),u=ie("SalesOrders"),f=ie("Returns"),d=ie("NewAddress"),m=ie("MpesaPayments"),p=ie("Variants"),y=ie("OpeningDialog"),b=ie("ItemsSelector"),C=ie("v-col"),w=ie("PosOffers"),k=ie("PosCoupons"),T=ie("Payments"),V=ie("Invoice"),M=ie("v-row");return de(),Ze("div",{class:"pos-main-container dynamic-container",style:vt(e.responsiveStyles)},[h(i),h(l),h(u),h(f),h(d),h(m),h(p),e.dialog?(de(),lt(y,{key:0,dialog:e.dialog},null,8,["dialog"])):je("",!0),Sn(h(M,{dense:"",class:"ma-0 dynamic-main-row"},{default:E(()=>[Sn(h(C,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:E(()=>[h(b)]),_:1},512),[[Ca,!e.payment&&!e.offers&&!e.coupons]]),Sn(h(C,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:E(()=>[h(w)]),_:1},512),[[Ca,e.offers]]),Sn(h(C,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:E(()=>[h(k)]),_:1},512),[[Ca,e.coupons]]),Sn(h(C,{xl:"5",lg:"5",md:"5",sm:"5",cols:"12",class:"pos dynamic-col"},{default:E(()=>[h(T)]),_:1},512),[[Ca,e.payment]]),h(C,{xl:"7",lg:"7",md:"7",sm:"7",cols:"12",class:"pos dynamic-col"},{default:E(()=>[h(V)]),_:1})]),_:1},512),[[Ca,!e.dialog]])],4)}const dY=sa(uY,[["render",cY],["__scopeId","data-v-3d42eed5"]]),fY={mixins:[xi],data:function(){return{dialog:!1,pos_profile:"",pos_opening_shift:"",customer_name:"",customer_info:"",company:"",singleSelect:!0,invoices_loading:!1,unallocated_payments_loading:!1,mpesa_payments_loading:!1,payment_methods:[],outstanding_invoices:[],unallocated_payments:[],mpesa_payments:[],selected_invoices:[],selected_payments:[],selected_mpesa_payments:[],pos_profiles_list:[],pos_profile_search:"",payment_methods_list:[],mpesa_searchname:"",mpesa_search_mobile:"",invoices_headers:[{title:"",align:"start",sortable:!1,key:"actions",width:"50px"},{title:__("Invoice"),align:"start",sortable:!0,key:"voucher_no"},{title:__("Customer"),align:"start",sortable:!0,key:"customer_name"},{title:__("Date"),align:"start",sortable:!0,key:"posting_date"},{title:__("Due Date"),align:"start",sortable:!0,key:"due_date"},{title:__("Total"),align:"end",sortable:!0,key:"invoice_amount"},{title:__("Outstanding"),align:"end",sortable:!0,key:"outstanding_amount"}],unallocated_payments_headers:[{title:"",align:"center",sortable:!1,key:"select",width:"50px"},{title:__("Payment ID"),align:"start",sortable:!0,key:"name"},{title:__("Customer"),align:"start",sortable:!0,key:"customer_name"},{title:__("Date"),align:"start",sortable:!0,key:"posting_date"},{title:__("Mode"),align:"start",sortable:!0,key:"mode_of_payment"},{title:__("Paid"),align:"end",sortable:!0,key:"paid_amount"},{title:__("Unallocated"),align:"end",sortable:!0,key:"unallocated_amount"}],mpesa_payment_headers:[{title:__("Payment ID"),align:"start",sortable:!0,key:"transid"},{title:__("Full Name"),align:"start",sortable:!0,key:"full_name"},{title:__("Nobile Number"),align:"start",sortable:!0,key:"mobile_no"},{title:__("Date"),align:"start",sortable:!0,key:"posting_date"},{title:__("Amount"),align:"end",sortable:!0,key:"amount"}],isSubmitting:!1}},components:{Customer:lD,UpdateCustomer:sD},methods:{async check_opening_entry(){var e=this;return await fm,frappe.call("posawesome.posawesome.api.shifts.check_opening_shift",{user:frappe.session.user}).then(t=>{if(t.message){this.pos_profile=t.message.pos_profile,this.pos_opening_shift=t.message.pos_opening_shift,this.company=t.message.company.name,e.eventBus.emit("payments_register_pos_profile",t.message),e.eventBus.emit("set_company",t.message.company),this.set_payment_methods();try{Hy(t.message)}catch(n){console.error("Failed to cache opening data",n)}this.pos_profile_search="",this.pos_profiles_list=[],t.message.pos_profile&&t.message.pos_profile.name&&this.pos_profiles_list.push(t.message.pos_profile.name),this.payment_methods_list=[],this.pos_profile.payments.forEach(n=>{this.payment_methods_list.push(n.mode_of_payment)}),this.get_available_pos_profiles(),this.get_outstanding_invoices(),this.get_draft_mpesa_payments_register()}else{const n=Sv();if(n){this.pos_profile=n.pos_profile,this.pos_opening_shift=n.pos_opening_shift,this.company=n.company.name,e.eventBus.emit("payments_register_pos_profile",n),e.eventBus.emit("set_company",n.company),this.set_payment_methods(),this.payment_methods_list=[],this.pos_profile.payments.forEach(a=>{this.payment_methods_list.push(a.mode_of_payment)}),this.get_available_pos_profiles(),this.get_outstanding_invoices(),this.get_draft_mpesa_payments_register();return}this.create_opening_voucher()}}).catch(()=>{const t=Sv();if(t){this.pos_profile=t.pos_profile,this.pos_opening_shift=t.pos_opening_shift,this.company=t.company.name,e.eventBus.emit("payments_register_pos_profile",t),e.eventBus.emit("set_company",t.company),this.set_payment_methods(),this.payment_methods_list=[],this.pos_profile.payments.forEach(n=>{this.payment_methods_list.push(n.mode_of_payment)}),this.get_available_pos_profiles(),this.get_outstanding_invoices(),this.get_draft_mpesa_payments_register();return}this.create_opening_voucher()})},get_available_pos_profiles(){if(this.pos_profile.posa_allow_mpesa_reconcile_payments)return frappe.call("posawesome.posawesome.api.payment_entry.get_available_pos_profiles",{company:this.company,currency:this.pos_profile.currency}).then(e=>{e.message&&(this.pos_profiles_list=e.message)})},create_opening_voucher(){this.dialog=!0},async fetch_customer_details(){var e=this;if(this.customer_name){if(lr()){try{const t=await frappe.call({method:"posawesome.posawesome.api.customers.get_customer_info",args:{customer:e.customer_name}}),n=t.message;t.exc||(e.customer_info={...n},e.set_mpesa_search_params(),e.eventBus.emit("set_customer_info_to_edit",e.customer_info))}catch(t){console.error("Failed to fetch cached customer",t)}return}try{const t=await frappe.call({method:"posawesome.posawesome.api.posapp.get_customer_info",args:{customer:e.customer_name}}),n=t.message;t.exc||(e.customer_info={...n},e.set_mpesa_search_params(),e.eventBus.emit("set_customer_info_to_edit",e.customer_info))}catch(t){console.error("Failed to fetch customer details",t)}}},onInvoiceSelected(e){e&&e.item&&e.item.customer&&(this.eventBus.emit("set_customer",e.item.customer),this.$nextTick(()=>{this.$forceUpdate()}))},get_outstanding_invoices(){if(this.invoices_loading=!0,this.selected_invoices=[],lr()){this.outstanding_invoices=[],this.invoices_loading=!1;return}return frappe.call("posawesome.posawesome.api.payment_entry.get_outstanding_invoices",{customer:this.customer_name,company:this.company,currency:this.pos_profile.currency,pos_profile:this.pos_profile_search||null}).then(e=>{e.message&&(this.outstanding_invoices=e.message,this.invoices_loading=!1,this.$nextTick(()=>{this.$forceUpdate()}))})},get_unallocated_payments(){if(this.pos_profile.posa_allow_reconcile_payments){if(this.unallocated_payments_loading=!0,!this.customer_name){this.unallocated_payments=[],this.unallocated_payments_loading=!1;return}if(lr()){this.unallocated_payments=[],this.unallocated_payments_loading=!1;return}return frappe.call("posawesome.posawesome.api.payment_entry.get_unallocated_payments",{customer:this.customer_name,company:this.company,currency:this.pos_profile.currency}).then(e=>{e.message&&(this.unallocated_payments=e.message,this.unallocated_payments_loading=!1)})}},set_mpesa_search_params(){this.pos_profile.posa_allow_mpesa_reconcile_payments&&this.customer_name&&(this.mpesa_search_name=this.customer_info.customer_name.split(" ")[0],this.customer_info.mobile_no&&(this.mpesa_search_mobile=this.customer_info.mobile_no.substring(0,4)+" ***** "+this.customer_info.mobile_no.substring(9)))},get_draft_mpesa_payments_register(){if(!this.pos_profile.posa_allow_mpesa_reconcile_payments)return;const e=this;if(this.mpesa_payments_loading=!0,lr()){this.mpesa_payments=[],this.mpesa_payments_loading=!1;return}return frappe.call("posawesome.posawesome.api.m_pesa.get_mpesa_draft_payments",{company:e.company,mode_of_payment:null,full_name:e.mpesa_search_name||null,mobile_no:e.mpesa_search_mobile||null,payment_methods_list:e.payment_methods_list}).then(t=>{t.message?e.mpesa_payments=t.message:e.mpesa_payments=[],e.mpesa_payments_loading=!1})},set_payment_methods(){this.pos_profile.posa_allow_make_new_payments&&(this.payment_methods=[],this.pos_profile.payments.forEach(e=>{this.payment_methods.push({mode_of_payment:e.mode_of_payment,amount:0,row_id:e.name})}))},clear_all(e=!0){this.customer_name="",e&&(this.customer_info=""),this.mpesa_search_mobile="",this.mpesa_search_name="",this.mpesa_payments=[],this.selected_mpesa_payments=[],this.outstanding_invoices=[],this.unallocated_payments=[],this.selected_invoices=[],this.selected_payments=[],this.selected_mpesa_payments=[],this.set_payment_methods()},submit(){if(this.isSubmitting)return;this.isSubmitting=!0;const e=this.customer_name,t=this;if(!e){this.isSubmitting=!1,frappe.throw(__("Please select a customer"));return}if(this.selected_invoices.length==0){this.isSubmitting=!1,frappe.throw(__("Please select an invoice"));return}if(this.total_selected_payments+this.total_selected_mpesa_payments+this.total_payment_methods<=0){this.isSubmitting=!1,frappe.throw(__("Please make a payment or select an payment"));return}this.payment_methods.forEach(r=>{r.amount=flt(r.amount)});const a={};if(a.customer=e,a.company=this.company,a.currency=this.pos_profile.currency,a.pos_opening_shift_name=this.pos_opening_shift.name,a.pos_profile_name=this.pos_profile.name,a.pos_profile=this.pos_profile,a.payment_methods=this.payment_methods,a.selected_invoices=this.selected_invoices,a.selected_payments=this.selected_payments,a.total_selected_invoices=flt(this.total_selected_invoices),a.selected_mpesa_payments=this.selected_mpesa_payments,a.total_selected_payments=flt(this.total_selected_payments),a.total_payment_methods=flt(this.total_payment_methods),a.total_selected_mpesa_payments=flt(this.total_selected_mpesa_payments),lr()){try{hE({args:{payload:a}}),t.eventBus.emit("show_message",{title:__("Payment saved offline"),color:"warning"}),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register()}catch(r){frappe.msgprint(__("Cannot Save Offline Payment: ")+(r.message||__("Unknown error")))}t.isSubmitting=!1;return}frappe.call({method:"posawesome.posawesome.api.payment_entry.process_pos_payment",args:{payload:a},freeze:!0,freeze_message:__("Processing Payment"),callback:function(r){t.isSubmitting=!1,r.message&&(frappe.utils.play_sound("submit"),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register())},error:function(){t.isSubmitting=!1}})},submit_and_print(){if(this.isSubmitting)return;this.isSubmitting=!0;const e=this.customer_name,t=this;if(!e){this.isSubmitting=!1,frappe.throw(__("Please select a customer"));return}if(this.selected_invoices.length==0){this.isSubmitting=!1,frappe.throw(__("Please select an invoice"));return}if(this.total_selected_payments+this.total_selected_mpesa_payments+this.total_payment_methods<=0){this.isSubmitting=!1,frappe.throw(__("Please make a payment or select an payment"));return}this.payment_methods.forEach(r=>{r.amount=flt(r.amount)});const a={};if(a.customer=e,a.company=this.company,a.currency=this.pos_profile.currency,a.pos_opening_shift_name=this.pos_opening_shift.name,a.pos_profile_name=this.pos_profile.name,a.pos_profile=this.pos_profile,a.payment_methods=this.payment_methods,a.selected_invoices=this.selected_invoices,a.selected_payments=this.selected_payments,a.total_selected_invoices=flt(this.total_selected_invoices),a.selected_mpesa_payments=this.selected_mpesa_payments,a.total_selected_payments=flt(this.total_selected_payments),a.total_payment_methods=flt(this.total_payment_methods),a.total_selected_mpesa_payments=flt(this.total_selected_mpesa_payments),lr()){try{hE({args:{payload:a}}),t.eventBus.emit("show_message",{title:__("Payment saved offline"),color:"warning"}),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register()}catch(r){frappe.msgprint(__("Cannot Save Offline Payment: ")+(r.message||__("Unknown error")))}t.isSubmitting=!1;return}frappe.call({method:"posawesome.posawesome.api.payment_entry.process_pos_payment",args:{payload:a},freeze:!0,freeze_message:__("Processing Payment"),callback:function(r){if(t.isSubmitting=!1,r.message){console.log("Server response:",JSON.stringify(r.message)),frappe.utils.play_sound("submit");const o=r.message.new_payments_entry&&r.message.new_payments_entry.length>0?r.message.new_payments_entry[0].name:null;o?(console.log("Opening print view with payment name:",o),t.load_print_page(o)):(console.log("No payment_name found in response"),frappe.msgprint(__("Payment submitted but print function could not be executed. Payment name not found."))),t.clear_all(!1),t.customer_name=e,t.get_outstanding_invoices(),t.get_unallocated_payments(),t.set_mpesa_search_params(),t.get_draft_mpesa_payments_register()}},error:function(){t.isSubmitting=!1}})},selectSingleInvoice(e){console.log("Row clicked:",e),e&&this.toggleInvoiceSelection(e)},isInvoiceSelected(e){return this.selected_invoices.some(t=>t.voucher_no===e.voucher_no)},toggleInvoiceSelection(e){this.isInvoiceSelected(e)?this.selected_invoices=this.selected_invoices.filter(t=>t.voucher_no!==e.voucher_no):(this.selected_invoices.push(e),e.customer&&!this.customer_name&&this.eventBus.emit("set_customer",e.customer)),this.$nextTick(()=>{console.log("Selected invoices:",this.selected_invoices),console.log("Total selected amount:",this.total_selected_invoices),this.$forceUpdate()})},isSelected(e){return this.isInvoiceSelected(e)?"selected-row bg-primary bg-lighten-4":""},load_print_page(e){if(!e){frappe.msgprint(__("Payment name not found. Cannot open print view."));return}const t=frappe.urllib.get_base_url()+"/printview?doctype=Payment%20Entry&name="+e+"&trigger_print=1";console.log("Opening printing URL:",t),this.pos_profile?.posa_silent_print?xv(t):window.open(t,"_blank")},async syncPendingPayments(){const e=M6();if(e&&this.eventBus.emit("show_message",{title:`${e} payment${e>1?"s":""} pending for sync`,color:"warning"}),lr())return;const t=await L6();t&&t.synced&&this.eventBus.emit("show_message",{title:`${t.synced} offline payment${t.synced>1?"s":""} synced`,color:"success"})}},computed:{total_outstanding_amount(){return!this.outstanding_invoices||!this.outstanding_invoices.length?0:this.outstanding_invoices.reduce((e,t)=>e+flt(t?.outstanding_amount||0),0)},total_unallocated_amount(){return!this.unallocated_payments||!this.unallocated_payments.length?0:this.unallocated_payments.reduce((e,t)=>e+flt(t?.unallocated_amount||0),0)},total_selected_invoices(){if(!this.selected_invoices||!this.selected_invoices.length)return console.log("No selected invoices"),0;const e=this.selected_invoices.reduce((t,n)=>t+flt(n?.outstanding_amount||0),0);return console.log("Calculated total selected invoices:",e,"from",this.selected_invoices),e},total_selected_payments(){return!this.selected_payments||!this.selected_payments.length?0:this.selected_payments.reduce((e,t)=>e+flt(t?.unallocated_amount||0),0)},total_selected_mpesa_payments(){return!this.selected_mpesa_payments||!this.selected_mpesa_payments.length?0:this.selected_mpesa_payments.reduce((e,t)=>e+flt(t?.amount||0),0)},total_payment_methods(){if(!this.payment_methods||!this.payment_methods.length)return 0;const e=this.payment_methods.reduce((t,n)=>{const a=parseFloat(n?.amount||0);return t+(isNaN(a)?0:a)},0);return console.log("Payment methods total:",e,"from",this.payment_methods),e},total_of_diff(){const e=this.total_selected_invoices||0,t=(this.total_selected_payments||0)+(this.total_selected_mpesa_payments||0)+(this.total_payment_methods||0);return console.log("Difference calculation:",{invoiceTotal:e,paymentTotal:t,selectedPayments:this.total_selected_payments,mpesaPayments:this.total_selected_mpesa_payments,methodPayments:this.total_payment_methods}),flt(e-t)},isDarkTheme(){return this.$theme.current==="dark"}},created(){this.syncPendingPayments(),this.eventBus.on("network-online",this.syncPendingPayments),this.eventBus.on("server-online",this.syncPendingPayments)},mounted:function(){this.$nextTick(function(){this.check_opening_entry(),this.eventBus.on("update_customer",e=>{this.clear_all(!0),this.customer_name=e,this.fetch_customer_details(),this.get_outstanding_invoices(),this.get_unallocated_payments(),this.get_draft_mpesa_payments_register()}),this.eventBus.on("fetch_customer_details",()=>{this.fetch_customer_details()})})},beforeUnmount(){this.eventBus.off("update_customer"),this.eventBus.off("fetch_customer_details"),this.eventBus.off("network-online",this.syncPendingPayments),this.eventBus.off("server-online",this.syncPendingPayments)}},mY={fluid:""},hY={key:0,class:"text-primary"},vY={key:0,class:"golden--text text-end"},pY={class:"text-primary"},_Y={key:0},gY={key:0,class:"text-primary"},yY={key:0,class:"golden--text text-end"},bY={class:"text-primary"},wY={key:1},kY={class:"golden--text text-end"},SY={class:"text-primary"},CY={key:0,class:"text-primary"},xY={key:3},PY={class:"mt-1"},EY={class:"d-flex align-center"},DY={class:"mr-1 text-primary"},TY={class:"text-primary mt-1"},VY={class:"pb-6 pr-6",style:{position:"absolute",bottom:"0",width:"100%"}};function OY(e,t,n,a,r,o){const i=ie("Customer"),l=ie("v-divider"),u=ie("v-col"),f=ie("v-row"),d=ie("v-select"),m=ie("v-btn"),p=ie("v-checkbox"),y=ie("v-data-table"),b=ie("v-text-field"),C=ie("v-card");return de(),Ze("div",mY,[Sn(h(f,null,{default:E(()=>[h(u,{md:"8",cols:"12",class:"pb-2 pr-0"},{default:E(()=>[h(C,{class:Ye(["main mx-auto mt-3 p-3 pb-16 overflow-y-auto",o.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([o.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"94vh",height:"94vh"}])},{default:E(()=>[h(i),h(l),x("div",null,[h(f,null,{default:E(()=>[h(u,{md:"7",cols:"12"},{default:E(()=>[x("p",null,[x("strong",null,ge(e.__("Invoices")),1),o.total_outstanding_amount?(de(),Ze("span",hY,ge(e.__("- Total Outstanding"))+" : "+ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(o.total_outstanding_amount)),1)):je("",!0)])]),_:1}),h(u,{md:"5",cols:"12"},{default:E(()=>[o.total_selected_invoices?(de(),Ze("p",vY,[x("span",null,ge(e.__("Total Selected :")),1),x("span",null,ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(o.total_selected_invoices)),1),x("small",null,"("+ge(e.selected_invoices.length)+" invoice(s))",1)])):je("",!0)]),_:1})]),_:1}),h(f,{align:"center","no-gutters":"",class:"mb-1"},{default:E(()=>[h(u,{md:"4",cols:"12"},{default:E(()=>[h(d,{density:"compact",variant:"outlined","hide-details":"",clearable:"","bg-color":o.isDarkTheme?"#1E1E1E":"white",modelValue:e.pos_profile_search,"onUpdate:modelValue":t[0]||(t[0]=w=>e.pos_profile_search=w),items:e.pos_profiles_list,"item-value":"name",label:"Select POS Profile"},null,8,["bg-color","modelValue","items"])]),_:1}),h(u),h(u,{md:"3",cols:"12"},{default:E(()=>[h(m,{block:"",color:"warning",theme:"dark",onClick:o.get_outstanding_invoices},{default:E(()=>[Ke(ge(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1}),h(u,{md:"3",cols:"12"},{default:E(()=>[e.selected_invoices.length?(de(),lt(m,{key:0,block:"",color:"error",theme:"dark",onClick:t[1]||(t[1]=w=>{e.selected_invoices=[],e.$forceUpdate()})},{default:E(()=>[Ke(ge(e.__("Clear")),1)]),_:1})):je("",!0)]),_:1})]),_:1}),h(y,{headers:e.invoices_headers,items:e.outstanding_invoices,"item-key":"voucher_no",class:"elevation-1 mt-0",loading:e.invoices_loading,"onClick:row":o.selectSingleInvoice,"item-class":o.isSelected},{"item.actions":E(({item:w})=>[h(p,{"model-value":o.isInvoiceSelected(w),color:"primary",onClick:$a(k=>o.toggleInvoiceSelection(w),["stop"])},null,8,["model-value","onClick"])]),"item.invoice_amount":E(({item:w})=>[Ke(ge(e.currencySymbol(w.currency))+" "+ge(e.formatCurrency(w.invoice_amount)),1)]),"item.outstanding_amount":E(({item:w})=>[x("span",pY,ge(e.currencySymbol(w?.currency||e.pos_profile.currency))+" "+ge(e.formatCurrency(w?.outstanding_amount||0)),1)]),_:1},8,["headers","items","loading","onClick:row","item-class"]),h(l)]),e.pos_profile.posa_allow_reconcile_payments&&e.unallocated_payments.length?(de(),Ze("div",_Y,[h(f,null,{default:E(()=>[h(u,{md:"7",cols:"12"},{default:E(()=>[x("p",null,[x("strong",null,ge(e.__("Payments")),1),o.total_unallocated_amount?(de(),Ze("span",gY,ge(e.__("- Total Unallocated"))+" : "+ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(o.total_unallocated_amount)),1)):je("",!0)])]),_:1}),h(u,{md:"5",cols:"12"},{default:E(()=>[o.total_selected_payments?(de(),Ze("p",yY,[x("span",null,ge(e.__("Total Selected :")),1),x("span",null,ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(o.total_selected_payments)),1)])):je("",!0)]),_:1})]),_:1}),h(y,{headers:e.unallocated_payments_headers,items:e.unallocated_payments,"item-key":"name",class:"elevation-1 mt-0",loading:e.unallocated_payments_loading},{"item.select":E(({item:w})=>[h(p,{modelValue:e.selected_payments,"onUpdate:modelValue":t[2]||(t[2]=k=>e.selected_payments=k),value:w,color:"primary","hide-details":"",onClick:t[3]||(t[3]=$a(()=>{},["stop"]))},null,8,["modelValue","value"])]),"item.paid_amount":E(({item:w})=>[Ke(ge(e.currencySymbol(w.currency))+" "+ge(e.formatCurrency(w.paid_amount)),1)]),"item.unallocated_amount":E(({item:w})=>[x("span",bY,ge(e.currencySymbol(w.currency))+" "+ge(e.formatCurrency(w.unallocated_amount)),1)]),_:1},8,["headers","items","loading"]),h(l)])):je("",!0),e.pos_profile.posa_allow_mpesa_reconcile_payments?(de(),Ze("div",wY,[h(f,null,{default:E(()=>[h(u,{md:"8",cols:"12"},{default:E(()=>[x("p",null,[x("span",null,[x("strong",null,ge(e.__("Search Mpesa Payments")),1)])])]),_:1}),o.total_selected_mpesa_payments?(de(),lt(u,{key:0,md:"4",cols:"12"},{default:E(()=>[x("p",kY,[x("span",null,ge(e.__("Total Selected :")),1),x("span",null,ge(e.currencySymbol(e.pos_profile.currency))+" "+ge(e.formatCurrency(o.total_selected_mpesa_payments)),1)])]),_:1})):je("",!0)]),_:1}),h(f,{align:"center","no-gutters":"",class:"mb-1"},{default:E(()=>[h(u,{md:"4",cols:"12",class:"mr-1"},{default:E(()=>[h(b,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Search by Name"),"bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"",modelValue:e.mpesa_search_name,"onUpdate:modelValue":t[4]||(t[4]=w=>e.mpesa_search_name=w),clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u,{md:"4",cols:"12",class:"mr-1"},{default:E(()=>[h(b,{density:"compact",variant:"outlined",color:"primary",label:e.frappe._("Search by Mobile"),"bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"",modelValue:e.mpesa_search_mobile,"onUpdate:modelValue":t[5]||(t[5]=w=>e.mpesa_search_mobile=w),clearable:""},null,8,["label","bg-color","modelValue"])]),_:1}),h(u),h(u,{md:"3",cols:"12"},{default:E(()=>[h(m,{block:"",color:"warning",theme:"dark",onClick:o.get_draft_mpesa_payments_register},{default:E(()=>[Ke(ge(e.__("Search")),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),h(y,{headers:e.mpesa_payment_headers,items:e.mpesa_payments,"item-key":"name",class:"elevation-1 mt-0","single-select":e.singleSelect,"show-select":"",modelValue:e.selected_mpesa_payments,"onUpdate:modelValue":t[6]||(t[6]=w=>e.selected_mpesa_payments=w),loading:e.mpesa_payments_loading,"checkbox-color":"primary"},{"item.amount":E(({item:w})=>[x("span",SY,ge(e.currencySymbol(w.currency))+" "+ge(e.formatCurrency(w.amount)),1)]),_:1},8,["headers","items","single-select","modelValue","loading"])])):je("",!0)]),_:1},8,["class","style"])]),_:1}),h(u,{md:"4",cols:"12",class:"pb-3"},{default:E(()=>[h(C,{class:Ye(["invoices mx-auto mt-3 p-3",o.isDarkTheme?"":"bg-grey-lighten-5"]),style:vt([o.isDarkTheme?"background-color:#1E1E1E":"",{"max-height":"94vh",height:"94vh"}])},{default:E(()=>[x("strong",null,[t[10]||(t[10]=x("h4",{class:"text-primary"},"Totals",-1)),h(f,null,{default:E(()=>[h(u,{md:"7",class:"mt-1"},{default:E(()=>[x("span",null,ge(e.__("Total Invoices:")),1)]),_:1}),h(u,{md:"5"},{default:E(()=>[h(b,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(o.total_selected_invoices),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"]),e.selected_invoices.length?(de(),Ze("small",CY,ge(e.selected_invoices.length)+" invoice(s) selected",1)):je("",!0)]),_:1})]),_:1}),o.total_selected_payments?(de(),lt(f,{key:0},{default:E(()=>[h(u,{md:"7",class:"mt-1"},{default:E(()=>[x("span",null,ge(e.__("Total Payments:")),1)]),_:1}),h(u,{md:"5"},{default:E(()=>[h(b,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(o.total_selected_payments),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"])]),_:1})]),_:1})):je("",!0),o.total_selected_mpesa_payments?(de(),lt(f,{key:1},{default:E(()=>[h(u,{md:"7",class:"mt-1"},{default:E(()=>[x("span",null,ge(e.__("Total Mpesa:")),1)]),_:1}),h(u,{md:"5"},{default:E(()=>[h(b,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(o.total_selected_mpesa_payments),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"])]),_:1})]),_:1})):je("",!0),e.payment_methods.length?(de(),lt(l,{key:2})):je("",!0),e.pos_profile.posa_allow_make_new_payments?(de(),Ze("div",xY,[t[9]||(t[9]=x("h4",{class:"text-primary"},"Make New Payment",-1)),e.payment_methods.length?(de(!0),Ze(ft,{key:0},En(e.payment_methods,w=>(de(),lt(f,{key:w.row_id},{default:E(()=>[h(u,{md:"7"},{default:E(()=>[x("span",PY,ge(e.__(w.mode_of_payment))+":",1)]),_:2},1024),h(u,{md:"5"},{default:E(()=>[x("div",EY,[x("div",DY,ge(e.currencySymbol(e.pos_profile.currency)),1),h(b,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"",modelValue:w.amount,"onUpdate:modelValue":k=>w.amount=k,type:"number",flat:"",onInput:t[7]||(t[7]=k=>e.$forceUpdate())},null,8,["bg-color","modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024))),128)):je("",!0)])):je("",!0),h(l),h(f,null,{default:E(()=>[h(u,{md:"7"},{default:E(()=>[x("h4",TY,ge(e.__("Difference:")),1)]),_:1}),h(u,{md:"5"},{default:E(()=>[h(b,{class:"p-0 m-0 dark-field",density:"compact",color:"primary","bg-color":o.isDarkTheme?"#1E1E1E":"white","hide-details":"","model-value":e.formatCurrency(o.total_of_diff),readonly:"",flat:"",prefix:e.currencySymbol(e.pos_profile.currency)},null,8,["bg-color","model-value","prefix"])]),_:1})]),_:1})]),x("div",VY,[h(f,null,{default:E(()=>[h(u,{cols:"6",class:"pr-1"},{default:E(()=>[h(m,{block:"",size:"large",color:"primary",theme:"dark",onClick:o.submit,disabled:e.vaildatPayment||e.isSubmitting,loading:e.isSubmitting},{default:E(()=>[Ke(ge(e.__("Submit")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1}),h(u,{cols:"6",class:"pl-1"},{default:E(()=>[h(m,{block:"",size:"large",color:"success",theme:"dark",onClick:t[8]||(t[8]=w=>o.submit_and_print()),disabled:e.vaildatPayment||e.isSubmitting,loading:e.isSubmitting},{default:E(()=>[Ke(ge(e.__("Submit & Print")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])]),_:1},8,["class","style"])]),_:1})]),_:1},512),[[Ca,!e.dialog]])])}const IY={data:function(){return{page:"POS"}},components:{Navbar:sU,POS:dY,Payments:sa(fY,[["render",OY]])},methods:{setPage(e){this.page=e},remove_frappe_nav(){this.$nextTick(function(){$(".page-head").remove(),$(".navbar.navbar-default.navbar-fixed-top").remove()})}},mounted(){this.remove_frappe_nav()},updated(){},created:function(){setTimeout(()=>{this.remove_frappe_nav()},1e3)}};function AY(e,t,n,a,r,o){const i=ie("Navbar"),l=ie("v-main"),u=ie("v-app");return de(),lt(u,{class:"container1"},{default:E(()=>[h(l,null,{default:E(()=>[h(i,{onChangePage:t[0]||(t[0]=f=>o.setPage(f))}),(de(),lt(Rc(e.page),{class:"mx-4 md-4"}))]),_:1})]),_:1})}const MY=sa(IY,[["render",AY],["__scopeId","data-v-2fc00767"]]);frappe.provide("frappe.PosApp"),frappe.PosApp.posapp=class{constructor({parent:e}){this.$parent=$(document),this.page=e.page,this.make_body()}make_body(){this.$el=this.$parent.find(".main-section");const e=Rk({components:K8,directives:i6,locale:{rtl:frappe.utils.is_rtl()},theme:{defaultTheme:"light",themes:{light:{colors:{background:"#FFFFFF",primary:"#0097A7",secondary:"#00BCD4",accent:"#9575CD",success:"#66BB6A",info:"#2196F3",warning:"#FF9800",error:"#E86674",orange:"#E65100",golden:"#A68C59",badge:"#F5528C",customPrimary:"#085294"}},dark:{dark:!0,colors:{background:"#121212",surface:"#1E1E1E",primary:"#BB86FC",primaryVariant:"#985EFF",secondary:"#03DAC6",accent:"#9575CD",success:"#66BB6A",info:"#2196F3",warning:"#FF9800",error:"#CF6679",orange:"#FF6F00",golden:"#A68C59",badge:"#F5528C",customPrimary:"#4FC3F7",onBackground:"#FFFFFF",onSurface:"#FFFFFF",divider:"#373737"}}}}}),t=WI(MY);if(t.component("VueDatePicker",yg),t.use(cR),t.use(e),t.use(RR,{vuetify:e}),t.mount(this.$el[0]),!document.querySelector('link[rel="manifest"]')){const n=document.createElement("link");n.rel="manifest",n.href="/manifest.json",document.head.appendChild(n)}("serviceWorker"in navigator&&window.location.protocol==="https:"||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&navigator.serviceWorker.register("/sw.js").catch(n=>console.error("SW registration failed",n))}setup_header(){}}});
